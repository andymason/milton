<div id="app"></div>
<script>(() => {
  let __defineProperty = Object.defineProperty;
  let __hasOwnProperty = Object.prototype.hasOwnProperty;
  let __assign = Object.assign;
  let __commonJS = (callback, module) => () => {
    if (!module) {
      module = {exports: {}};
      callback(module.exports, module);
    }
    return module.exports;
  };
  let __markAsModule = (target) => {
    return __defineProperty(target, "__esModule", {value: true});
  };
  let __exportStar = (target, module) => {
    __markAsModule(target);
    for (let key in module)
      if (__hasOwnProperty.call(module, key) && !__hasOwnProperty.call(target, key) && key !== "default")
        __defineProperty(target, key, {get: () => module[key], enumerable: true});
    return target;
  };
  let __toModule = (module) => {
    if (module && module.__esModule)
      return module;
    return __exportStar(__defineProperty({}, "default", {value: module, enumerable: true}), module);
  };

  // src/embed.css
  var require_embed = __commonJS((exports, module) => {
    module.exports = 'html,\nbody {\n  margin: 0;\n}\n\n.f2h__text {\n  margin: 0;\n  font-family: sans-serif;\n  transform: translate(-50%, -50%);\n  /* white-space: pre; */\n\n  /* DEBUG */\n  /* color: rgba(255, 0, 0, 0.34) !important; */\n}\n\n.f2h__render {\n  position: relative;\n  overflow: hidden;\n}\n\n.f2h__render svg {\n  display: block;\n  margin: 0;\n}\n\n.f2h__render svg text {\n  /* DEBUG */\n  display: none;\n}\n\n.f2h__render--responsive {\n  width: 100%;\n}\n\n.f2h__render--responsive svg {\n  width: 100%;\n  height: auto;\n}\n\n.f2h_headline {\n  font-family: "Austin News Deck Semibold", Georgia, "Times New Roman", Times, serif;\n  font-size: 22px;\n  color: #333;\n  margin: 0;\n  line-height: 1.3;\n}\n.f2h_subbhead {\n  font-family: "Austin News Text Roman", Georgia, "Times New Roman", Times, serif;\n  font-size: 17px;\n  color: #333;\n  margin: 0;\n  line-height: 1.5;\n}\n.f2h_header {\n  margin-bottom: 12px;\n}\n\n.f2h_source {\n  font-family: "Telesans Text Regular", Arial, Helvetica, sans-serif;\n  font-size: 12px;\n  color: #999;\n  margin: 12px 0 0;\n}\n';
  });

  // src/fonts.css
  var require_fonts = __commonJS((exports, module) => {
    module.exports = '@font-face {\n  font-family: "Austin News Deck Semibold";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.ttf") format("truetype");\n  font-weight: 700;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Austin News Deck Medium";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.ttf") format("truetype");\n  font-weight: 700;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Austin News Deck Roman";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.ttf") format("truetype");\n  font-weight: 400;\n  font-display: "swap";\n}\n\n@font-face {\n  font-family: "Austin News Text Roman";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.ttf") format("truetype");\n  font-weight: 700;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Telesans Text Regular";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.ttf") format("truetype");\n  font-weight: 400;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Telesans Agate Regular";\n  font-style: "normal";\n  font-weight: 500;\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/TelesansAgate-Medium.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/TelesansAgate-Medium.ttf") format("truetype");\n}\n';
  });

  // node_modules/file-saver/dist/FileSaver.min.js
  var require_FileSaver_min = __commonJS((exports, module) => {
    (function(a4, b3) {
      if ("function" == typeof define && define.amd)
        define([], b3);
      else if ("undefined" != typeof exports)
        b3();
      else {
        b3(), a4.FileSaver = {exports: {}}.exports;
      }
    })(exports, function() {
      "use strict";
      function b3(a5, b4) {
        return "undefined" == typeof b4 ? b4 = {autoBom: false} : "object" != typeof b4 && (console.warn("Deprecated: Expected third argument to be a object"), b4 = {autoBom: !b4}), b4.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a5.type) ? new Blob(["ï»¿", a5], {type: a5.type}) : a5;
      }
      function c4(b4, c5, d4) {
        var e4 = new XMLHttpRequest();
        e4.open("GET", b4), e4.responseType = "blob", e4.onload = function() {
          a4(e4.response, c5, d4);
        }, e4.onerror = function() {
          console.error("could not download file");
        }, e4.send();
      }
      function d3(a5) {
        var b4 = new XMLHttpRequest();
        b4.open("HEAD", a5, false);
        try {
          b4.send();
        } catch (a6) {
        }
        return 200 <= b4.status && 299 >= b4.status;
      }
      function e3(a5) {
        try {
          a5.dispatchEvent(new MouseEvent("click"));
        } catch (c5) {
          var b4 = document.createEvent("MouseEvents");
          b4.initMouseEvent("click", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null), a5.dispatchEvent(b4);
        }
      }
      var f4 = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof global && global.global === global ? global : void 0, a4 = f4.saveAs || ("object" != typeof window || window !== f4 ? function() {
      } : "download" in HTMLAnchorElement.prototype ? function(b4, g4, h4) {
        var i4 = f4.URL || f4.webkitURL, j3 = document.createElement("a");
        g4 = g4 || b4.name || "download", j3.download = g4, j3.rel = "noopener", "string" == typeof b4 ? (j3.href = b4, j3.origin === location.origin ? e3(j3) : d3(j3.href) ? c4(b4, g4, h4) : e3(j3, j3.target = "_blank")) : (j3.href = i4.createObjectURL(b4), setTimeout(function() {
          i4.revokeObjectURL(j3.href);
        }, 4e4), setTimeout(function() {
          e3(j3);
        }, 0));
      } : "msSaveOrOpenBlob" in navigator ? function(f5, g4, h4) {
        if (g4 = g4 || f5.name || "download", "string" != typeof f5)
          navigator.msSaveOrOpenBlob(b3(f5, h4), g4);
        else if (d3(f5))
          c4(f5, g4, h4);
        else {
          var i4 = document.createElement("a");
          i4.href = f5, i4.target = "_blank", setTimeout(function() {
            e3(i4);
          });
        }
      } : function(a5, b4, d4, e4) {
        if (e4 = e4 || open("", "_blank"), e4 && (e4.document.title = e4.document.body.innerText = "downloading..."), "string" == typeof a5)
          return c4(a5, b4, d4);
        var g4 = "application/octet-stream" === a5.type, h4 = /constructor/i.test(f4.HTMLElement) || f4.safari, i4 = /CriOS\/[\d]+/.test(navigator.userAgent);
        if ((i4 || g4 && h4) && "object" == typeof FileReader) {
          var j3 = new FileReader();
          j3.onloadend = function() {
            var a6 = j3.result;
            a6 = i4 ? a6 : a6.replace(/^data:[^;]*;/, "data:attachment/file;"), e4 ? e4.location.href = a6 : location = a6, e4 = null;
          }, j3.readAsDataURL(a5);
        } else {
          var k3 = f4.URL || f4.webkitURL, l4 = k3.createObjectURL(a5);
          e4 ? e4.location = l4 : location.href = l4, e4 = null, setTimeout(function() {
            k3.revokeObjectURL(l4);
          }, 4e4);
        }
      });
      f4.saveAs = a4.saveAs = a4, "undefined" != typeof module && (module.exports = a4);
    });
  });

  // node_modules/compressorjs/dist/compressor.js
  var require_compressor = __commonJS((exports, module) => {
    (function(global2, factory) {
      typeof exports === "object" && typeof module !== "undefined" ? module.exports = factory() : typeof define === "function" && define.amd ? define(factory) : (global2 = global2 || self, global2.Compressor = factory());
    })(exports, function() {
      "use strict";
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _defineProperties(target, props) {
        for (var i4 = 0; i4 < props.length; i4++) {
          var descriptor = props[i4];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, descriptor.key, descriptor);
        }
      }
      function _createClass(Constructor, protoProps, staticProps) {
        if (protoProps)
          _defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          _defineProperties(Constructor, staticProps);
        return Constructor;
      }
      function _defineProperty(obj, key, value) {
        if (key in obj) {
          Object.defineProperty(obj, key, {
            value,
            enumerable: true,
            configurable: true,
            writable: true
          });
        } else {
          obj[key] = value;
        }
        return obj;
      }
      function _extends() {
        _extends = Object.assign || function(target) {
          for (var i4 = 1; i4 < arguments.length; i4++) {
            var source = arguments[i4];
            for (var key in source) {
              if (Object.prototype.hasOwnProperty.call(source, key)) {
                target[key] = source[key];
              }
            }
          }
          return target;
        };
        return _extends.apply(this, arguments);
      }
      function ownKeys(object, enumerableOnly) {
        var keys = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var symbols = Object.getOwnPropertySymbols(object);
          if (enumerableOnly)
            symbols = symbols.filter(function(sym) {
              return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
          keys.push.apply(keys, symbols);
        }
        return keys;
      }
      function _objectSpread2(target) {
        for (var i4 = 1; i4 < arguments.length; i4++) {
          var source = arguments[i4] != null ? arguments[i4] : {};
          if (i4 % 2) {
            ownKeys(Object(source), true).forEach(function(key) {
              _defineProperty(target, key, source[key]);
            });
          } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
          } else {
            ownKeys(Object(source)).forEach(function(key) {
              Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
            });
          }
        }
        return target;
      }
      function createCommonjsModule(fn, module2) {
        return module2 = {exports: {}}, fn(module2, module2.exports), module2.exports;
      }
      var canvasToBlob = createCommonjsModule(function(module2) {
        if (typeof window === "undefined") {
          return;
        }
        (function(window2) {
          var CanvasPrototype = window2.HTMLCanvasElement && window2.HTMLCanvasElement.prototype;
          var hasBlobConstructor = window2.Blob && function() {
            try {
              return Boolean(new Blob());
            } catch (e3) {
              return false;
            }
          }();
          var hasArrayBufferViewSupport = hasBlobConstructor && window2.Uint8Array && function() {
            try {
              return new Blob([new Uint8Array(100)]).size === 100;
            } catch (e3) {
              return false;
            }
          }();
          var BlobBuilder = window2.BlobBuilder || window2.WebKitBlobBuilder || window2.MozBlobBuilder || window2.MSBlobBuilder;
          var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;
          var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window2.atob && window2.ArrayBuffer && window2.Uint8Array && function(dataURI) {
            var matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i4, bb;
            matches = dataURI.match(dataURIPattern);
            if (!matches) {
              throw new Error("invalid data URI");
            }
            mediaType = matches[2] ? matches[1] : "text/plain" + (matches[3] || ";charset=US-ASCII");
            isBase64 = !!matches[4];
            dataString = dataURI.slice(matches[0].length);
            if (isBase64) {
              byteString = atob(dataString);
            } else {
              byteString = decodeURIComponent(dataString);
            }
            arrayBuffer = new ArrayBuffer(byteString.length);
            intArray = new Uint8Array(arrayBuffer);
            for (i4 = 0; i4 < byteString.length; i4 += 1) {
              intArray[i4] = byteString.charCodeAt(i4);
            }
            if (hasBlobConstructor) {
              return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {
                type: mediaType
              });
            }
            bb = new BlobBuilder();
            bb.append(arrayBuffer);
            return bb.getBlob(mediaType);
          };
          if (window2.HTMLCanvasElement && !CanvasPrototype.toBlob) {
            if (CanvasPrototype.mozGetAsFile) {
              CanvasPrototype.toBlob = function(callback, type, quality) {
                var self2 = this;
                setTimeout(function() {
                  if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {
                    callback(dataURLtoBlob(self2.toDataURL(type, quality)));
                  } else {
                    callback(self2.mozGetAsFile("blob", type));
                  }
                });
              };
            } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {
              CanvasPrototype.toBlob = function(callback, type, quality) {
                var self2 = this;
                setTimeout(function() {
                  callback(dataURLtoBlob(self2.toDataURL(type, quality)));
                });
              };
            }
          }
          if (module2.exports) {
            module2.exports = dataURLtoBlob;
          } else {
            window2.dataURLtoBlob = dataURLtoBlob;
          }
        })(window);
      });
      var isBlob = function isBlob2(input) {
        if (typeof Blob === "undefined") {
          return false;
        }
        return input instanceof Blob || Object.prototype.toString.call(input) === "[object Blob]";
      };
      var DEFAULTS = {
        strict: true,
        checkOrientation: true,
        maxWidth: Infinity,
        maxHeight: Infinity,
        minWidth: 0,
        minHeight: 0,
        width: void 0,
        height: void 0,
        quality: 0.8,
        mimeType: "auto",
        convertSize: 5e6,
        beforeDraw: null,
        drew: null,
        success: null,
        error: null
      };
      var IS_BROWSER = typeof window !== "undefined" && typeof window.document !== "undefined";
      var WINDOW = IS_BROWSER ? window : {};
      var slice = Array.prototype.slice;
      function toArray(value) {
        return Array.from ? Array.from(value) : slice.call(value);
      }
      var REGEXP_IMAGE_TYPE = /^image\/.+$/;
      function isImageType(value) {
        return REGEXP_IMAGE_TYPE.test(value);
      }
      function imageTypeToExtension(value) {
        var extension = isImageType(value) ? value.substr(6) : "";
        if (extension === "jpeg") {
          extension = "jpg";
        }
        return ".".concat(extension);
      }
      var fromCharCode = String.fromCharCode;
      function getStringFromCharCode(dataView, start, length) {
        var str = "";
        var i4;
        length += start;
        for (i4 = start; i4 < length; i4 += 1) {
          str += fromCharCode(dataView.getUint8(i4));
        }
        return str;
      }
      var btoa = WINDOW.btoa;
      function arrayBufferToDataURL(arrayBuffer, mimeType) {
        var chunks = [];
        var chunkSize = 8192;
        var uint8 = new Uint8Array(arrayBuffer);
        while (uint8.length > 0) {
          chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));
          uint8 = uint8.subarray(chunkSize);
        }
        return "data:".concat(mimeType, ";base64,").concat(btoa(chunks.join("")));
      }
      function resetAndGetOrientation(arrayBuffer) {
        var dataView = new DataView(arrayBuffer);
        var orientation;
        try {
          var littleEndian;
          var app1Start;
          var ifdStart;
          if (dataView.getUint8(0) === 255 && dataView.getUint8(1) === 216) {
            var length = dataView.byteLength;
            var offset = 2;
            while (offset + 1 < length) {
              if (dataView.getUint8(offset) === 255 && dataView.getUint8(offset + 1) === 225) {
                app1Start = offset;
                break;
              }
              offset += 1;
            }
          }
          if (app1Start) {
            var exifIDCode = app1Start + 4;
            var tiffOffset = app1Start + 10;
            if (getStringFromCharCode(dataView, exifIDCode, 4) === "Exif") {
              var endianness = dataView.getUint16(tiffOffset);
              littleEndian = endianness === 18761;
              if (littleEndian || endianness === 19789) {
                if (dataView.getUint16(tiffOffset + 2, littleEndian) === 42) {
                  var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);
                  if (firstIFDOffset >= 8) {
                    ifdStart = tiffOffset + firstIFDOffset;
                  }
                }
              }
            }
          }
          if (ifdStart) {
            var _length = dataView.getUint16(ifdStart, littleEndian);
            var _offset;
            var i4;
            for (i4 = 0; i4 < _length; i4 += 1) {
              _offset = ifdStart + i4 * 12 + 2;
              if (dataView.getUint16(_offset, littleEndian) === 274) {
                _offset += 8;
                orientation = dataView.getUint16(_offset, littleEndian);
                dataView.setUint16(_offset, 1, littleEndian);
                break;
              }
            }
          }
        } catch (e3) {
          orientation = 1;
        }
        return orientation;
      }
      function parseOrientation(orientation) {
        var rotate = 0;
        var scaleX = 1;
        var scaleY = 1;
        switch (orientation) {
          case 2:
            scaleX = -1;
            break;
          case 3:
            rotate = -180;
            break;
          case 4:
            scaleY = -1;
            break;
          case 5:
            rotate = 90;
            scaleY = -1;
            break;
          case 6:
            rotate = 90;
            break;
          case 7:
            rotate = 90;
            scaleX = -1;
            break;
          case 8:
            rotate = -90;
            break;
        }
        return {
          rotate,
          scaleX,
          scaleY
        };
      }
      var REGEXP_DECIMALS = /\.\d*(?:0|9){12}\d*$/;
      function normalizeDecimalNumber(value) {
        var times = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e11;
        return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;
      }
      var ArrayBuffer$1 = WINDOW.ArrayBuffer, FileReader2 = WINDOW.FileReader;
      var URL2 = WINDOW.URL || WINDOW.webkitURL;
      var REGEXP_EXTENSION = /\.\w+$/;
      var AnotherCompressor = WINDOW.Compressor;
      var Compressor2 = function() {
        function Compressor3(file, options) {
          _classCallCheck(this, Compressor3);
          this.file = file;
          this.image = new Image();
          this.options = _objectSpread2({}, DEFAULTS, {}, options);
          this.aborted = false;
          this.result = null;
          this.init();
        }
        _createClass(Compressor3, [
          {
            key: "init",
            value: function init() {
              var _this = this;
              var file = this.file, options = this.options;
              if (!isBlob(file)) {
                this.fail(new Error("The first argument must be a File or Blob object."));
                return;
              }
              var mimeType = file.type;
              if (!isImageType(mimeType)) {
                this.fail(new Error("The first argument must be an image File or Blob object."));
                return;
              }
              if (!URL2 || !FileReader2) {
                this.fail(new Error("The current browser does not support image compression."));
                return;
              }
              if (!ArrayBuffer$1) {
                options.checkOrientation = false;
              }
              if (URL2 && !options.checkOrientation) {
                this.load({
                  url: URL2.createObjectURL(file)
                });
              } else {
                var reader = new FileReader2();
                var checkOrientation = options.checkOrientation && mimeType === "image/jpeg";
                this.reader = reader;
                reader.onload = function(_ref) {
                  var target = _ref.target;
                  var result = target.result;
                  var data = {};
                  if (checkOrientation) {
                    var orientation = resetAndGetOrientation(result);
                    if (orientation > 1 || !URL2) {
                      data.url = arrayBufferToDataURL(result, mimeType);
                      if (orientation > 1) {
                        _extends(data, parseOrientation(orientation));
                      }
                    } else {
                      data.url = URL2.createObjectURL(file);
                    }
                  } else {
                    data.url = result;
                  }
                  _this.load(data);
                };
                reader.onabort = function() {
                  _this.fail(new Error("Aborted to read the image with FileReader."));
                };
                reader.onerror = function() {
                  _this.fail(new Error("Failed to read the image with FileReader."));
                };
                reader.onloadend = function() {
                  _this.reader = null;
                };
                if (checkOrientation) {
                  reader.readAsArrayBuffer(file);
                } else {
                  reader.readAsDataURL(file);
                }
              }
            }
          },
          {
            key: "load",
            value: function load(data) {
              var _this2 = this;
              var file = this.file, image = this.image;
              image.onload = function() {
                _this2.draw(_objectSpread2({}, data, {
                  naturalWidth: image.naturalWidth,
                  naturalHeight: image.naturalHeight
                }));
              };
              image.onabort = function() {
                _this2.fail(new Error("Aborted to load the image."));
              };
              image.onerror = function() {
                _this2.fail(new Error("Failed to load the image."));
              };
              if (WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)) {
                image.crossOrigin = "anonymous";
              }
              image.alt = file.name;
              image.src = data.url;
            }
          },
          {
            key: "draw",
            value: function draw(_ref2) {
              var _this3 = this;
              var naturalWidth = _ref2.naturalWidth, naturalHeight = _ref2.naturalHeight, _ref2$rotate = _ref2.rotate, rotate = _ref2$rotate === void 0 ? 0 : _ref2$rotate, _ref2$scaleX = _ref2.scaleX, scaleX = _ref2$scaleX === void 0 ? 1 : _ref2$scaleX, _ref2$scaleY = _ref2.scaleY, scaleY = _ref2$scaleY === void 0 ? 1 : _ref2$scaleY;
              var file = this.file, image = this.image, options = this.options;
              var canvas = document.createElement("canvas");
              var context = canvas.getContext("2d");
              var aspectRatio = naturalWidth / naturalHeight;
              var is90DegreesRotated = Math.abs(rotate) % 180 === 90;
              var maxWidth = Math.max(options.maxWidth, 0) || Infinity;
              var maxHeight = Math.max(options.maxHeight, 0) || Infinity;
              var minWidth = Math.max(options.minWidth, 0) || 0;
              var minHeight = Math.max(options.minHeight, 0) || 0;
              var width = Math.max(options.width, 0) || naturalWidth;
              var height = Math.max(options.height, 0) || naturalHeight;
              if (is90DegreesRotated) {
                var _ref3 = [maxHeight, maxWidth];
                maxWidth = _ref3[0];
                maxHeight = _ref3[1];
                var _ref4 = [minHeight, minWidth];
                minWidth = _ref4[0];
                minHeight = _ref4[1];
                var _ref5 = [height, width];
                width = _ref5[0];
                height = _ref5[1];
              }
              if (maxWidth < Infinity && maxHeight < Infinity) {
                if (maxHeight * aspectRatio > maxWidth) {
                  maxHeight = maxWidth / aspectRatio;
                } else {
                  maxWidth = maxHeight * aspectRatio;
                }
              } else if (maxWidth < Infinity) {
                maxHeight = maxWidth / aspectRatio;
              } else if (maxHeight < Infinity) {
                maxWidth = maxHeight * aspectRatio;
              }
              if (minWidth > 0 && minHeight > 0) {
                if (minHeight * aspectRatio > minWidth) {
                  minHeight = minWidth / aspectRatio;
                } else {
                  minWidth = minHeight * aspectRatio;
                }
              } else if (minWidth > 0) {
                minHeight = minWidth / aspectRatio;
              } else if (minHeight > 0) {
                minWidth = minHeight * aspectRatio;
              }
              if (height * aspectRatio > width) {
                height = width / aspectRatio;
              } else {
                width = height * aspectRatio;
              }
              width = Math.floor(normalizeDecimalNumber(Math.min(Math.max(width, minWidth), maxWidth)));
              height = Math.floor(normalizeDecimalNumber(Math.min(Math.max(height, minHeight), maxHeight)));
              var destX = -width / 2;
              var destY = -height / 2;
              var destWidth = width;
              var destHeight = height;
              if (is90DegreesRotated) {
                var _ref6 = [height, width];
                width = _ref6[0];
                height = _ref6[1];
              }
              canvas.width = width;
              canvas.height = height;
              if (!isImageType(options.mimeType)) {
                options.mimeType = file.type;
              }
              var fillStyle = "transparent";
              if (file.size > options.convertSize && options.mimeType === "image/png") {
                fillStyle = "#fff";
                options.mimeType = "image/jpeg";
              }
              context.fillStyle = fillStyle;
              context.fillRect(0, 0, width, height);
              if (options.beforeDraw) {
                options.beforeDraw.call(this, context, canvas);
              }
              if (this.aborted) {
                return;
              }
              context.save();
              context.translate(width / 2, height / 2);
              context.rotate(rotate * Math.PI / 180);
              context.scale(scaleX, scaleY);
              context.drawImage(image, destX, destY, destWidth, destHeight);
              context.restore();
              if (options.drew) {
                options.drew.call(this, context, canvas);
              }
              if (this.aborted) {
                return;
              }
              var done = function done2(result) {
                if (!_this3.aborted) {
                  _this3.done({
                    naturalWidth,
                    naturalHeight,
                    result
                  });
                }
              };
              if (canvas.toBlob) {
                canvas.toBlob(done, options.mimeType, options.quality);
              } else {
                done(canvasToBlob(canvas.toDataURL(options.mimeType, options.quality)));
              }
            }
          },
          {
            key: "done",
            value: function done(_ref7) {
              var naturalWidth = _ref7.naturalWidth, naturalHeight = _ref7.naturalHeight, result = _ref7.result;
              var file = this.file, image = this.image, options = this.options;
              if (URL2 && !options.checkOrientation) {
                URL2.revokeObjectURL(image.src);
              }
              if (result) {
                if (options.strict && result.size > file.size && options.mimeType === file.type && !(options.width > naturalWidth || options.height > naturalHeight || options.minWidth > naturalWidth || options.minHeight > naturalHeight)) {
                  result = file;
                } else {
                  var date = new Date();
                  result.lastModified = date.getTime();
                  result.lastModifiedDate = date;
                  result.name = file.name;
                  if (result.name && result.type !== file.type) {
                    result.name = result.name.replace(REGEXP_EXTENSION, imageTypeToExtension(result.type));
                  }
                }
              } else {
                result = file;
              }
              this.result = result;
              if (options.success) {
                options.success.call(this, result);
              }
            }
          },
          {
            key: "fail",
            value: function fail(err) {
              var options = this.options;
              if (options.error) {
                options.error.call(this, err);
              } else {
                throw err;
              }
            }
          },
          {
            key: "abort",
            value: function abort() {
              if (!this.aborted) {
                this.aborted = true;
                if (this.reader) {
                  this.reader.abort();
                } else if (!this.image.complete) {
                  this.image.onload = null;
                  this.image.onabort();
                } else {
                  this.fail(new Error("The compression process has been aborted."));
                }
              }
            }
          }
        ], [
          {
            key: "noConflict",
            value: function noConflict() {
              window.Compressor = AnotherCompressor;
              return Compressor3;
            }
          },
          {
            key: "setDefaults",
            value: function setDefaults(options) {
              _extends(DEFAULTS, options);
            }
          }
        ]);
        return Compressor3;
      }();
      return Compressor2;
    });
  });

  // src/ui.css
  var require_ui = __commonJS((exports, module) => {
    module.exports = '/*! minireset.css v0.0.6 | MIT License | github.com/jgthms/minireset.css */\nhtml,\nbody,\np,\nol,\nul,\nli,\ndl,\ndt,\ndd,\nblockquote,\nfigure,\nfieldset,\nlegend,\ntextarea,\npre,\niframe,\nhr,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n  padding: 0;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: 100%;\n  font-weight: normal;\n}\nul {\n  list-style: none;\n}\nbutton,\ninput,\nselect,\ntextarea {\n  margin: 0;\n}\nhtml {\n  box-sizing: border-box;\n}\n*,\n*::before,\n*::after {\n  box-sizing: inherit;\n}\n\niframe {\n  border: 0;\n}\n\n@import url("https://rsms.me/inter/inter.css");\n\nbody {\n  --padding-small: 6px;\n  --padding-medium: 12px;\n  --padding-large: 24px;\n  --padding-huge: 48px;\n\n  --border-radius-small: 3px;\n  --border-radius-medium: 6px;\n  --border-radius-large: 12px;\n\n  --colours-grey-0: rgb(33, 33, 33);\n  --colours-grey-1: rgb(74, 74, 74);\n  --colours-grey-2: rgb(133, 133, 133);\n  --colours-grey-3: rgb(179, 179, 179);\n  --colours-grey-4: rgb(227, 227, 227);\n  --colours-grey-5: rgb(245, 245, 245);\n  --colours-main: rgb(72, 202, 126);\n  --colours-main-light: rgb(208, 242, 222);\n  --colours-main-dark: rgb(44, 75, 57);\n  --colours-warning: rgb(255, 242, 175);\n\n  --font-family-sans-serif: Arial, Helvetica, sans-serif;\n  --font-famailt-serif: Georgia, "Times New Roman", Times, serif;\n\n  --font-size--small: 11px;\n  --font-size--medium: 14px;\n  --font-size--large: 18px;\n}\n\nhtml {\n  font-family: "Inter", sans-serif;\n}\n@supports (font-variation-settings: normal) {\n  html {\n    font-family: "Inter var", sans-serif;\n  }\n}\n\nhtml,\nbody {\n  margin: 0;\n  font-size: 14px;\n}\n\nbutton {\n  border: 1px solid transparent;\n  background: #fff;\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  cursor: pointer;\n  border-radius: var(--border-radius-small, 0);\n  outline: none;\n  border: 1px solid transparent;\n\n  background: var(--colours-main, #f0f);\n}\n\n.btn--primary {\n  color: #fff;\n  background: var(--colours-main, #f0f);\n}\n\n.btn--secondary {\n  color: var(--colours-grey-1, #f0f);\n  border-color: var(--colours-grey-2, #f0f);\n  background-color: transparent;\n  margin-right: var(--padding-small, 0);\n}\n\nbutton:disabled {\n  border: 1px solid var(--colours-grey-4, #f0f);\n  color: var(--colours-grey-4, #f0f);\n  background: #fff;\n}\n\nbutton:active,\nbutton:hover {\n  outline: none;\n}\n\n.f2h {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n/* [Header] */\n.f2h__header {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  border-bottom: 1px solid #e4e4e4;\n  background: #f9f9f9;\n}\n.f2h__nav {\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.f2h__title {\n  font-family: var(--font-family-sans-serif, sans-serif);\n  font-size: var(--font-size--medium, 1em);\n}\n.f2h__info {\n  margin-left: var(--padding-medium, 0);\n  display: flex;\n  max-width: 60%;\n  white-space: nowrap;\n}\n.f2h__info_title {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.f2h__info_meta {\n  font-size: var(--font-size--medium, 1em);\n  padding-left: var(--padding-small, 0);\n  margin-left: var(--padding-small, 0);\n  border-left: 1px solid var(--colours-grey-4, #f0f);\n}\n.f2h__info_responsive--no {\n  text-decoration: line-through;\n}\n.f2h__svg_optimise {\n  margin-left: var(--padding-medium, 0);\n  padding-left: var(--padding-small, 0);\n  border-left: 1px solid var(--colours-grey-4, #f0f);\n}\n.f2h__svg_optimise span {\n  padding-left: var(--padding-small, 0);\n}\n\n.f2h__body {\n  display: flex;\n  padding: var(--padding-large, 0) var(--padding-huge, 0);\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background-color: var(--colours-grey-5, #f0f);\n}\n\n.f2h__version {\n  position: absolute;\n  bottom: var(--padding-small, 0);\n  right: var(--padding-small, 0);\n  color: var(--colours-grey-3, #f0f);\n  font-size: var(--font-size--small, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n}\n\n/* [ Frame selection and Form ] */\n.f2h__choose_frames {\n  min-width: 50%;\n}\n.f2h__info_form {\n  margin-bottom: var(--padding-large, 0);\n}\n.f2h__info_form__item {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: var(--padding-medium, 0);\n}\n.f2h__info_form__label {\n  font-size: var(--font-size--small, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n}\n.f2h__info_form__input {\n  font-size: var(--font-size--medium, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n}\n\n.f2h__frame_selection {\n  display: grid;\n  grid-template-columns: 1fr min-content;\n  grid-template-rows: auto;\n  min-width: 320px;\n  grid-gap: var(--padding-small, 0) var(--padding-medium, 0);\n  align-items: center;\n}\n\n.f2h__sel_header {\n  color: var(--colours-grey-0, #f0f);\n  font-size: var(--font-size--medium);\n  border-bottom: 1px solid var(--colours-grey-0);\n  padding-bottom: var(--padding-small, 0);\n}\n\n.f2h__sel_header--name {\n  grid-column: 1/2;\n  grid-row: 1/2;\n}\n\n.f2h__sel_header--responsive {\n  grid-column: 2/3;\n  grid-row: 1/2;\n  justify-self: center;\n  white-space: nowrap;\n}\n\n.f2h__label.f2h__label--name {\n  grid-column: 1/2;\n  align-items: baseline;\n}\n.f2h__label--name-text {\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.f2h__input--responsive {\n  grid-column: 2/3;\n  justify-self: center;\n  margin: 0;\n}\n\n.f2h__label {\n  display: flex;\n  cursor: pointer;\n  padding: var(--padding-small) 0;\n  align-items: center;\n  min-width: 0;\n}\n\n.f2h__sel_width {\n  font-size: var(--font-size--small, 1em);\n  color: var(--colours-grey-3, #f0f);\n  padding-left: var(--padding-small, 0);\n  white-space: nowrap;\n}\n\n.f2h__checkbox,\n.f2h__radio_btn {\n  margin-right: var(--padding-medium, 0);\n}\n\n.f2h__selection_width {\n  font-size: var(--font-size--small, 1);\n  margin: 0 var(--padding-small, 0);\n  display: block;\n  color: var(--colours-grey-2, #f0f);\n}\n\n/* [Preview]  */\n.f2h__preview {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n}\n.f2h__preview_title {\n  font-size: var(--font-size--medium, 1);\n  margin: var(--padding-small, 0) 0;\n  display: flex;\n}\n.f2h__preview_name {\n  flex: 1;\n}\n\n.f2h__preview_inner {\n  overflow: auto;\n  max-height: 100%;\n  max-width: 100%;\n  margin: auto;\n}\n.f2h__preview_inner--scaled {\n  overflow: hidden;\n}\n\n.f2h__preview_wrapper {\n  overflow-x: auto;\n  overflow-y: hidden;\n  width: 100%;\n}\n\n.f2h__preview_responsive,\n.f2h__preview_width {\n  font-size: var(--font-size--small, 1);\n  color: var(--colours-grey-3, #f0f);\n  padding-left: var(--padding-small, 0);\n}\n\n.f2h__notice--warning {\n  background: var(--colours-warning, #f0f);\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  margin: var(--padding-small, 0) 0;\n  font-size: var(--font-size--medium, 1em);\n  border-radius: var(--border-radius-medium, 0);\n}\n\n.f2h__notice--error {\n  font-weight: bold;\n  background: #ffeded;\n  color: #a70f0f;\n}\n\n/* [Render] */\n.f2h__render {\n  transform-origin: top left;\n}\n\n.f2h__render--responsive svg {\n  width: 100%;\n}\n\n.error {\n  background-color: var(--colours-grey-5, #f0f);\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0) var(--padding-small, 0);\n  text-align: center;\n  color: var(--colours-grey-0, #f0f);\n  margin: var(--padding-medium, 0) 0;\n  flex: 1;\n  align-self: center;\n}\n\n/* [Save] */\n.f2h__save {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-self: center;\n  max-width: 800px;\n}\n\n.f2h__save_btn {\n  font-size: var(--font-size--large, 1em);\n  color: #fff;\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0);\n  margin-right: var(--padding-medium, 0);\n  border-bottom: 2px solid var(--colours-main-dark, #f0f);\n  border-top: 3px solid transparent;\n}\n.f2h__save_btn:hover {\n  border-top: 0;\n  border-bottom-width: 5px;\n  box-shadow: 0 4px 2px rgba(0, 0, 0, 0.1);\n}\n.f2h__save_btn:active {\n  border-bottom: 2px solid var(--colours-main-dark, #f0f);\n  border-top: 3px solid transparent;\n}\n\n.f2h__save_btn:last-of-type {\n  margin: 0;\n}\n\n.f2h__save_options {\n  display: flex;\n  justify-content: center;\n}\n\n.f2h__save__subhead {\n  font-size: var(--font-size--medium, 1);\n  margin: var(--padding-large, 0) 0 var(--padding-small, 0);\n  padding-bottom: var(--padding-small, 0);\n  border-bottom: 1px solid var(--colours-grey-4, #f0f);\n}\n\n.f2h__save_advanced {\n  opacity: 0;\n  transition: opacity 0.1s;\n}\n.f2h__save_advanced--open {\n  opacity: 1;\n}\n\n.f2h__save_advanced-header {\n  display: flex;\n}\n\n.f2h__save_advanced_title {\n  flex: 1;\n}\n\n.f2h__save_advanced_show {\n  background-color: transparent;\n  border: 1px solid var(--colours-grey-3, #f0f);\n}\n\n.f2h__save__raw {\n  width: 100%;\n  padding: var(--padding-small, 0);\n  border: 1px solid var(--colours-grey-4, #f0f);\n  font-family: monospace;\n  font-size: 11px;\n  min-height: 150px;\n  max-height: 300px;\n}\n\n/* Resize widget */\n.f2h__resizer {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  bottom: 6px;\n  right: 6px;\n  cursor: grabbing;\n  background: repeating-linear-gradient(\n    -45deg,\n    #d2d2d2,\n    #d2d2d2 2px,\n    transparent 1px,\n    transparent 8px\n  );\n  border-radius: 100% 0 0;\n}\n\n.f2h__toast {\n  background-color: var(--colours-grey-1, #f0f);\n  color: #fff;\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0);\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 0);\n  transition: transform 0.3s, opacity 0.3s 0.1s;\n  opacity: 0;\n}\n\n.f2h__toast--open {\n  transform: translate(-50%, -100%);\n  opacity: 1;\n}\n\n/* [Responsive preview] */\n.f2h__responsive_preview {\n  /* width: 300px; */\n  display: flex;\n  flex-direction: column;\n  align-self: center;\n}\n\n.f2h__responsive__wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 500px;\n}\n\n.f2h__ruler {\n  position: relative;\n  display: grid;\n  justify-items: center;\n}\n.f2h__ruler_break {\n  height: var(--padding-medium, 10px);\n  background-color: var(--colours-grey-4, #f0f);\n  border: 2px solid #fff;\n  grid-row: 1/2;\n  grid-column: 1/2;\n  border-top: none;\n  border-bottom: none;\n}\n.f2h__ruler_break--0 {\n  width: 320px;\n  z-index: 3;\n}\n.f2h__ruler_break--1 {\n  width: 450px;\n  z-index: 2;\n}\n.f2h__ruler_break--2 {\n  width: 640px;\n  z-index: 1;\n}\n\n.f2h__responsive__sandbox {\n  resize: both;\n  overflow: hidden;\n  outline: 1px solid var(--colours-grey-4, #f0f);\n  margin: var(--padding-small, 0) 0;\n\n  /* https://leaverou.github.io/css3patterns/#checkerboard */\n  background-color: #eee;\n  background-image: linear-gradient(\n      45deg,\n      var(--colours-grey-4, #f0f) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--colours-grey-4, #f0f) 75%,\n      var(--colours-grey-4, #f0f)\n    ),\n    linear-gradient(\n      45deg,\n      var(--colours-grey-4, #f0f) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--colours-grey-4, #f0f) 75%,\n      var(--colours-grey-4, #f0f)\n    );\n  background-size: 20px 20px;\n  background-position: 0 0, 10px 10px;\n}\n';
  });

  // node_modules/preact/dist/preact.module.js
  var n2;
  var l3;
  var u3;
  var i3;
  var t2;
  var o3;
  var r2;
  var f3;
  var e2 = {};
  var c3 = [];
  var a3 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;
  function s3(n4, l4) {
    for (var u4 in l4)
      n4[u4] = l4[u4];
    return n4;
  }
  function v3(n4) {
    var l4 = n4.parentNode;
    l4 && l4.removeChild(n4);
  }
  function h2(n4, l4, u4) {
    var i4, t3 = arguments, o4 = {};
    for (i4 in l4)
      "key" !== i4 && "ref" !== i4 && (o4[i4] = l4[i4]);
    if (arguments.length > 3)
      for (u4 = [u4], i4 = 3; i4 < arguments.length; i4++)
        u4.push(t3[i4]);
    if (null != u4 && (o4.children = u4), "function" == typeof n4 && null != n4.defaultProps)
      for (i4 in n4.defaultProps)
        void 0 === o4[i4] && (o4[i4] = n4.defaultProps[i4]);
    return y2(n4, o4, l4 && l4.key, l4 && l4.ref, null);
  }
  function y2(l4, u4, i4, t3, o4) {
    var r3 = {type: l4, props: u4, key: i4, ref: t3, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, constructor: void 0, __v: o4};
    return null == o4 && (r3.__v = r3), n2.vnode && n2.vnode(r3), r3;
  }
  function p3() {
    return {};
  }
  function d2(n4) {
    return n4.children;
  }
  function m2(n4, l4) {
    this.props = n4, this.context = l4;
  }
  function w2(n4, l4) {
    if (null == l4)
      return n4.__ ? w2(n4.__, n4.__.__k.indexOf(n4) + 1) : null;
    for (var u4; l4 < n4.__k.length; l4++)
      if (null != (u4 = n4.__k[l4]) && null != u4.__e)
        return u4.__e;
    return "function" == typeof n4.type ? w2(n4) : null;
  }
  function k2(n4) {
    var l4, u4;
    if (null != (n4 = n4.__) && null != n4.__c) {
      for (n4.__e = n4.__c.base = null, l4 = 0; l4 < n4.__k.length; l4++)
        if (null != (u4 = n4.__k[l4]) && null != u4.__e) {
          n4.__e = n4.__c.base = u4.__e;
          break;
        }
      return k2(n4);
    }
  }
  function g3(l4) {
    (!l4.__d && (l4.__d = true) && u3.push(l4) && !i3++ || o3 !== n2.debounceRendering) && ((o3 = n2.debounceRendering) || t2)(_3);
  }
  function _3() {
    for (var n4; i3 = u3.length; )
      n4 = u3.sort(function(n5, l4) {
        return n5.__v.__b - l4.__v.__b;
      }), u3 = [], n4.some(function(n5) {
        var l4, u4, i4, t3, o4, r3, f4;
        n5.__d && (r3 = (o4 = (l4 = n5).__v).__e, (f4 = l4.__P) && (u4 = [], (i4 = s3({}, o4)).__v = i4, t3 = z2(f4, o4, i4, l4.__n, void 0 !== f4.ownerSVGElement, null, u4, null == r3 ? w2(o4) : r3), T2(u4, o4), t3 != r3 && k2(o4)));
      });
  }
  function b2(n4, l4, u4, i4, t3, o4, r3, f4, a4, s4) {
    var h4, p4, m3, k3, g4, _4, b3, x3, A3, P3 = i4 && i4.__k || c3, C3 = P3.length;
    for (a4 == e2 && (a4 = null != r3 ? r3[0] : C3 ? w2(i4, 0) : null), u4.__k = [], h4 = 0; h4 < l4.length; h4++)
      if (null != (k3 = u4.__k[h4] = null == (k3 = l4[h4]) || "boolean" == typeof k3 ? null : "string" == typeof k3 || "number" == typeof k3 ? y2(null, k3, null, null, k3) : Array.isArray(k3) ? y2(d2, {children: k3}, null, null, null) : null != k3.__e || null != k3.__c ? y2(k3.type, k3.props, k3.key, null, k3.__v) : k3)) {
        if (k3.__ = u4, k3.__b = u4.__b + 1, null === (m3 = P3[h4]) || m3 && k3.key == m3.key && k3.type === m3.type)
          P3[h4] = void 0;
        else
          for (p4 = 0; p4 < C3; p4++) {
            if ((m3 = P3[p4]) && k3.key == m3.key && k3.type === m3.type) {
              P3[p4] = void 0;
              break;
            }
            m3 = null;
          }
        if (g4 = z2(n4, k3, m3 = m3 || e2, t3, o4, r3, f4, a4, s4), (p4 = k3.ref) && m3.ref != p4 && (x3 || (x3 = []), m3.ref && x3.push(m3.ref, null, k3), x3.push(p4, k3.__c || g4, k3)), null != g4) {
          if (null == b3 && (b3 = g4), A3 = void 0, void 0 !== k3.__d)
            A3 = k3.__d, k3.__d = void 0;
          else if (r3 == m3 || g4 != a4 || null == g4.parentNode) {
            n:
              if (null == a4 || a4.parentNode !== n4)
                n4.appendChild(g4), A3 = null;
              else {
                for (_4 = a4, p4 = 0; (_4 = _4.nextSibling) && p4 < C3; p4 += 2)
                  if (_4 == g4)
                    break n;
                n4.insertBefore(g4, a4), A3 = a4;
              }
            "option" == u4.type && (n4.value = "");
          }
          a4 = void 0 !== A3 ? A3 : g4.nextSibling, "function" == typeof u4.type && (u4.__d = a4);
        } else
          a4 && m3.__e == a4 && a4.parentNode != n4 && (a4 = w2(m3));
      }
    if (u4.__e = b3, null != r3 && "function" != typeof u4.type)
      for (h4 = r3.length; h4--; )
        null != r3[h4] && v3(r3[h4]);
    for (h4 = C3; h4--; )
      null != P3[h4] && D2(P3[h4], P3[h4]);
    if (x3)
      for (h4 = 0; h4 < x3.length; h4++)
        j2(x3[h4], x3[++h4], x3[++h4]);
  }
  function A2(n4, l4, u4, i4, t3) {
    var o4;
    for (o4 in u4)
      "children" === o4 || "key" === o4 || o4 in l4 || C2(n4, o4, null, u4[o4], i4);
    for (o4 in l4)
      t3 && "function" != typeof l4[o4] || "children" === o4 || "key" === o4 || "value" === o4 || "checked" === o4 || u4[o4] === l4[o4] || C2(n4, o4, l4[o4], u4[o4], i4);
  }
  function P2(n4, l4, u4) {
    "-" === l4[0] ? n4.setProperty(l4, u4) : n4[l4] = "number" == typeof u4 && false === a3.test(l4) ? u4 + "px" : null == u4 ? "" : u4;
  }
  function C2(n4, l4, u4, i4, t3) {
    var o4, r3, f4, e3, c4;
    if (t3 ? "className" === l4 && (l4 = "class") : "class" === l4 && (l4 = "className"), "style" === l4)
      if (o4 = n4.style, "string" == typeof u4)
        o4.cssText = u4;
      else {
        if ("string" == typeof i4 && (o4.cssText = "", i4 = null), i4)
          for (e3 in i4)
            u4 && e3 in u4 || P2(o4, e3, "");
        if (u4)
          for (c4 in u4)
            i4 && u4[c4] === i4[c4] || P2(o4, c4, u4[c4]);
      }
    else
      "o" === l4[0] && "n" === l4[1] ? (r3 = l4 !== (l4 = l4.replace(/Capture$/, "")), f4 = l4.toLowerCase(), l4 = (f4 in n4 ? f4 : l4).slice(2), u4 ? (i4 || n4.addEventListener(l4, N2, r3), (n4.l || (n4.l = {}))[l4] = u4) : n4.removeEventListener(l4, N2, r3)) : "list" !== l4 && "tagName" !== l4 && "form" !== l4 && "type" !== l4 && "size" !== l4 && !t3 && l4 in n4 ? n4[l4] = null == u4 ? "" : u4 : "function" != typeof u4 && "dangerouslySetInnerHTML" !== l4 && (l4 !== (l4 = l4.replace(/^xlink:?/, "")) ? null == u4 || false === u4 ? n4.removeAttributeNS("http://www.w3.org/1999/xlink", l4.toLowerCase()) : n4.setAttributeNS("http://www.w3.org/1999/xlink", l4.toLowerCase(), u4) : null == u4 || false === u4 && !/^ar/.test(l4) ? n4.removeAttribute(l4) : n4.setAttribute(l4, u4));
  }
  function N2(l4) {
    this.l[l4.type](n2.event ? n2.event(l4) : l4);
  }
  function z2(l4, u4, i4, t3, o4, r3, f4, e3, c4) {
    var a4, v4, h4, y3, p4, w3, k3, g4, _4, x3, A3, P3 = u4.type;
    if (void 0 !== u4.constructor)
      return null;
    (a4 = n2.__b) && a4(u4);
    try {
      n:
        if ("function" == typeof P3) {
          if (g4 = u4.props, _4 = (a4 = P3.contextType) && t3[a4.__c], x3 = a4 ? _4 ? _4.props.value : a4.__ : t3, i4.__c ? k3 = (v4 = u4.__c = i4.__c).__ = v4.__E : ("prototype" in P3 && P3.prototype.render ? u4.__c = v4 = new P3(g4, x3) : (u4.__c = v4 = new m2(g4, x3), v4.constructor = P3, v4.render = E2), _4 && _4.sub(v4), v4.props = g4, v4.state || (v4.state = {}), v4.context = x3, v4.__n = t3, h4 = v4.__d = true, v4.__h = []), null == v4.__s && (v4.__s = v4.state), null != P3.getDerivedStateFromProps && (v4.__s == v4.state && (v4.__s = s3({}, v4.__s)), s3(v4.__s, P3.getDerivedStateFromProps(g4, v4.__s))), y3 = v4.props, p4 = v4.state, h4)
            null == P3.getDerivedStateFromProps && null != v4.componentWillMount && v4.componentWillMount(), null != v4.componentDidMount && v4.__h.push(v4.componentDidMount);
          else {
            if (null == P3.getDerivedStateFromProps && g4 !== y3 && null != v4.componentWillReceiveProps && v4.componentWillReceiveProps(g4, x3), !v4.__e && null != v4.shouldComponentUpdate && false === v4.shouldComponentUpdate(g4, v4.__s, x3) || u4.__v === i4.__v) {
              for (v4.props = g4, v4.state = v4.__s, u4.__v !== i4.__v && (v4.__d = false), v4.__v = u4, u4.__e = i4.__e, u4.__k = i4.__k, v4.__h.length && f4.push(v4), a4 = 0; a4 < u4.__k.length; a4++)
                u4.__k[a4] && (u4.__k[a4].__ = u4);
              break n;
            }
            null != v4.componentWillUpdate && v4.componentWillUpdate(g4, v4.__s, x3), null != v4.componentDidUpdate && v4.__h.push(function() {
              v4.componentDidUpdate(y3, p4, w3);
            });
          }
          v4.context = x3, v4.props = g4, v4.state = v4.__s, (a4 = n2.__r) && a4(u4), v4.__d = false, v4.__v = u4, v4.__P = l4, a4 = v4.render(v4.props, v4.state, v4.context), null != v4.getChildContext && (t3 = s3(s3({}, t3), v4.getChildContext())), h4 || null == v4.getSnapshotBeforeUpdate || (w3 = v4.getSnapshotBeforeUpdate(y3, p4)), A3 = null != a4 && a4.type == d2 && null == a4.key ? a4.props.children : a4, b2(l4, Array.isArray(A3) ? A3 : [A3], u4, i4, t3, o4, r3, f4, e3, c4), v4.base = u4.__e, v4.__h.length && f4.push(v4), k3 && (v4.__E = v4.__ = null), v4.__e = false;
        } else
          null == r3 && u4.__v === i4.__v ? (u4.__k = i4.__k, u4.__e = i4.__e) : u4.__e = $2(i4.__e, u4, i4, t3, o4, r3, f4, c4);
      (a4 = n2.diffed) && a4(u4);
    } catch (l5) {
      u4.__v = null, n2.__e(l5, u4, i4);
    }
    return u4.__e;
  }
  function T2(l4, u4) {
    n2.__c && n2.__c(u4, l4), l4.some(function(u5) {
      try {
        l4 = u5.__h, u5.__h = [], l4.some(function(n4) {
          n4.call(u5);
        });
      } catch (l5) {
        n2.__e(l5, u5.__v);
      }
    });
  }
  function $2(n4, l4, u4, i4, t3, o4, r3, f4) {
    var a4, s4, v4, h4, y3, p4 = u4.props, d3 = l4.props;
    if (t3 = "svg" === l4.type || t3, null != o4) {
      for (a4 = 0; a4 < o4.length; a4++)
        if (null != (s4 = o4[a4]) && ((null === l4.type ? 3 === s4.nodeType : s4.localName === l4.type) || n4 == s4)) {
          n4 = s4, o4[a4] = null;
          break;
        }
    }
    if (null == n4) {
      if (null === l4.type)
        return document.createTextNode(d3);
      n4 = t3 ? document.createElementNS("http://www.w3.org/2000/svg", l4.type) : document.createElement(l4.type, d3.is && {is: d3.is}), o4 = null, f4 = false;
    }
    if (null === l4.type)
      p4 !== d3 && n4.data != d3 && (n4.data = d3);
    else {
      if (null != o4 && (o4 = c3.slice.call(n4.childNodes)), v4 = (p4 = u4.props || e2).dangerouslySetInnerHTML, h4 = d3.dangerouslySetInnerHTML, !f4) {
        if (null != o4)
          for (p4 = {}, y3 = 0; y3 < n4.attributes.length; y3++)
            p4[n4.attributes[y3].name] = n4.attributes[y3].value;
        (h4 || v4) && (h4 && v4 && h4.__html == v4.__html || (n4.innerHTML = h4 && h4.__html || ""));
      }
      A2(n4, d3, p4, t3, f4), h4 ? l4.__k = [] : (a4 = l4.props.children, b2(n4, Array.isArray(a4) ? a4 : [a4], l4, u4, i4, "foreignObject" !== l4.type && t3, o4, r3, e2, f4)), f4 || ("value" in d3 && void 0 !== (a4 = d3.value) && a4 !== n4.value && C2(n4, "value", a4, p4.value, false), "checked" in d3 && void 0 !== (a4 = d3.checked) && a4 !== n4.checked && C2(n4, "checked", a4, p4.checked, false));
    }
    return n4;
  }
  function j2(l4, u4, i4) {
    try {
      "function" == typeof l4 ? l4(u4) : l4.current = u4;
    } catch (l5) {
      n2.__e(l5, i4);
    }
  }
  function D2(l4, u4, i4) {
    var t3, o4, r3;
    if (n2.unmount && n2.unmount(l4), (t3 = l4.ref) && (t3.current && t3.current !== l4.__e || j2(t3, null, u4)), i4 || "function" == typeof l4.type || (i4 = null != (o4 = l4.__e)), l4.__e = l4.__d = void 0, null != (t3 = l4.__c)) {
      if (t3.componentWillUnmount)
        try {
          t3.componentWillUnmount();
        } catch (l5) {
          n2.__e(l5, u4);
        }
      t3.base = t3.__P = null;
    }
    if (t3 = l4.__k)
      for (r3 = 0; r3 < t3.length; r3++)
        t3[r3] && D2(t3[r3], u4, i4);
    null != o4 && v3(o4);
  }
  function E2(n4, l4, u4) {
    return this.constructor(n4, u4);
  }
  function H2(l4, u4, i4) {
    var t3, o4, f4;
    n2.__ && n2.__(l4, u4), o4 = (t3 = i4 === r2) ? null : i4 && i4.__k || u4.__k, l4 = h2(d2, null, [l4]), f4 = [], z2(u4, (t3 ? u4 : i4 || u4).__k = l4, o4 || e2, e2, void 0 !== u4.ownerSVGElement, i4 && !t3 ? [i4] : o4 ? null : u4.childNodes.length ? c3.slice.call(u4.childNodes) : null, f4, i4 || e2, t3), T2(f4, l4);
  }
  n2 = {__e: function(n4, l4) {
    for (var u4, i4; l4 = l4.__; )
      if ((u4 = l4.__c) && !u4.__)
        try {
          if (u4.constructor && null != u4.constructor.getDerivedStateFromError && (i4 = true, u4.setState(u4.constructor.getDerivedStateFromError(n4))), null != u4.componentDidCatch && (i4 = true, u4.componentDidCatch(n4)), i4)
            return g3(u4.__E = u4);
        } catch (l5) {
          n4 = l5;
        }
    throw n4;
  }}, l3 = function(n4) {
    return null != n4 && void 0 === n4.constructor;
  }, m2.prototype.setState = function(n4, l4) {
    var u4;
    u4 = this.__s !== this.state ? this.__s : this.__s = s3({}, this.state), "function" == typeof n4 && (n4 = n4(u4, this.props)), n4 && s3(u4, n4), null != n4 && this.__v && (l4 && this.__h.push(l4), g3(this));
  }, m2.prototype.forceUpdate = function(n4) {
    this.__v && (this.__e = true, n4 && this.__h.push(n4), g3(this));
  }, m2.prototype.render = d2, u3 = [], i3 = 0, t2 = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, r2 = e2, f3 = 0;

  // src/utils/css.ts
  function injectCss(css2) {
    const styleEl = document.createElement("style");
    const styleText = document.createTextNode(css2);
    styleEl.appendChild(styleText);
    document.head.appendChild(styleEl);
  }

  // node_modules/immer/dist/immer.esm.js
  function t(t3) {
    for (var n4 = arguments.length, r3 = Array(n4 > 1 ? n4 - 1 : 0), e3 = 1; e3 < n4; e3++)
      r3[e3 - 1] = arguments[e3];
    if (true) {
      var i4 = Q[t3], o4 = i4 ? "function" == typeof i4 ? i4.apply(null, r3) : i4 : "unknown error nr: " + t3;
      throw Error("[Immer] " + o4);
    }
    throw Error("[Immer] minified error nr: " + t3 + (r3.length ? " " + r3.join(",") : "") + ". Find the full error at: https://bit.ly/3cXEKWf");
  }
  function n(t3) {
    return !!t3 && !!t3[H];
  }
  function r(t3) {
    return !!t3 && (function(t4) {
      if (!t4 || "object" != typeof t4)
        return false;
      var n4 = Object.getPrototypeOf(t4);
      return !n4 || n4 === Object.prototype;
    }(t3) || Array.isArray(t3) || !!t3[B] || !!t3.constructor[B] || s(t3) || p(t3));
  }
  function i(t3, n4, r3) {
    void 0 === r3 && (r3 = false), 0 === o(t3) ? (r3 ? Object.keys : V)(t3).forEach(function(e3) {
      r3 && "symbol" == typeof e3 || n4(e3, t3[e3], t3);
    }) : t3.forEach(function(r4, e3) {
      return n4(e3, r4, t3);
    });
  }
  function o(t3) {
    var n4 = t3[H];
    return n4 ? n4.i > 3 ? n4.i - 4 : n4.i : Array.isArray(t3) ? 1 : s(t3) ? 2 : p(t3) ? 3 : 0;
  }
  function u(t3, n4) {
    return 2 === o(t3) ? t3.has(n4) : Object.prototype.hasOwnProperty.call(t3, n4);
  }
  function a(t3, n4) {
    return 2 === o(t3) ? t3.get(n4) : t3[n4];
  }
  function f(t3, n4, r3) {
    var e3 = o(t3);
    2 === e3 ? t3.set(n4, r3) : 3 === e3 ? (t3.delete(n4), t3.add(r3)) : t3[n4] = r3;
  }
  function c(t3, n4) {
    return t3 === n4 ? 0 !== t3 || 1 / t3 == 1 / n4 : t3 != t3 && n4 != n4;
  }
  function s(t3) {
    return U && t3 instanceof Map;
  }
  function p(t3) {
    return W && t3 instanceof Set;
  }
  function v(t3) {
    return t3.o || t3.t;
  }
  function l(t3) {
    if (Array.isArray(t3))
      return t3.slice();
    var n4 = Object.getOwnPropertyDescriptors(t3);
    for (var r3 in (delete n4[H], n4)) {
      var e3 = n4[r3];
      false === e3.writable && (e3.writable = true, e3.configurable = true), (e3.get || e3.set) && (n4[r3] = {configurable: true, writable: true, enumerable: e3.enumerable, value: t3[r3]});
    }
    return Object.create(Object.getPrototypeOf(t3), n4);
  }
  function d(t3, e3) {
    Object.isFrozen(t3) || n(t3) || !r(t3) || (o(t3) > 1 && (t3.set = t3.add = t3.clear = t3.delete = h), Object.freeze(t3), e3 && i(t3, function(t4, n4) {
      return d(n4, true);
    }, true));
  }
  function h() {
    t(2);
  }
  function b(n4) {
    var r3 = Y[n4];
    return r3 || t(18, n4), r3;
  }
  function m() {
    return $ || t(0), $;
  }
  function _(t3, n4) {
    n4 && (b("Patches"), t3.u = [], t3.s = [], t3.p = n4);
  }
  function j(t3) {
    O(t3), t3.v.forEach(w), t3.v = null;
  }
  function O(t3) {
    t3 === $ && ($ = t3.l);
  }
  function g(t3) {
    return $ = {v: [], l: $, h: t3, m: true, _: 0};
  }
  function w(t3) {
    var n4 = t3[H];
    0 === n4.i || 1 === n4.i ? n4.j() : n4.O = true;
  }
  function S(n4, e3) {
    e3._ = e3.v.length;
    var i4 = e3.v[0], o4 = void 0 !== n4 && n4 !== i4;
    return e3.h.g || b("ES5").S(e3, n4, o4), o4 ? (i4[H].P && (j(e3), t(4)), r(n4) && (n4 = P(e3, n4), e3.l || A(e3, n4)), e3.u && b("Patches").M(i4[H], n4, e3.u, e3.s)) : n4 = P(e3, i4, []), j(e3), e3.u && e3.p(e3.u, e3.s), n4 !== q ? n4 : void 0;
  }
  function P(t3, n4, r3) {
    if (null == (e3 = n4) || "object" != typeof e3 || Object.isFrozen(e3))
      return n4;
    var e3, o4 = n4[H];
    if (!o4)
      return i(n4, function(e4, i4) {
        return M(t3, o4, n4, e4, i4, r3);
      }, true), n4;
    if (o4.A !== t3)
      return n4;
    if (!o4.P)
      return A(t3, o4.t, true), o4.t;
    if (!o4.I) {
      o4.I = true, o4.A._--;
      var u4 = 4 === o4.i || 5 === o4.i ? o4.o = l(o4.k) : o4.o;
      i(u4, function(n5, e4) {
        return M(t3, o4, u4, n5, e4, r3);
      }), A(t3, u4, false), r3 && t3.u && b("Patches").R(o4, r3, t3.u, t3.s);
    }
    return o4.o;
  }
  function M(e3, i4, o4, a4, c4, s4) {
    if (c4 === o4 && t(5), n(c4)) {
      var p4 = P(e3, c4, s4 && i4 && 3 !== i4.i && !u(i4.D, a4) ? s4.concat(a4) : void 0);
      if (f(o4, a4, p4), !n(p4))
        return;
      e3.m = false;
    }
    if (r(c4) && !Object.isFrozen(c4)) {
      if (!e3.h.N && e3._ < 1)
        return;
      P(e3, c4), i4 && i4.A.l || A(e3, c4);
    }
  }
  function A(t3, n4, r3) {
    void 0 === r3 && (r3 = false), t3.h.N && t3.m && d(n4, r3);
  }
  function x(t3, n4) {
    var r3 = t3[H];
    return (r3 ? v(r3) : t3)[n4];
  }
  function z(t3) {
    t3.P || (t3.P = true, t3.l && z(t3.l));
  }
  function I(t3) {
    t3.o || (t3.o = l(t3.t));
  }
  function E(t3, n4, r3) {
    var e3 = s(n4) ? b("MapSet").T(n4, r3) : p(n4) ? b("MapSet").F(n4, r3) : t3.g ? function(t4, n5) {
      var r4 = Array.isArray(t4), e4 = {i: r4 ? 1 : 0, A: n5 ? n5.A : m(), P: false, I: false, D: {}, l: n5, t: t4, k: null, o: null, j: null, C: false}, i4 = e4, o4 = Z;
      r4 && (i4 = [e4], o4 = tt);
      var u4 = Proxy.revocable(i4, o4), a4 = u4.revoke, f4 = u4.proxy;
      return e4.k = f4, e4.j = a4, f4;
    }(n4, r3) : b("ES5").J(n4, r3);
    return (r3 ? r3.A : m()).v.push(e3), e3;
  }
  function k(e3) {
    return n(e3) || t(22, e3), function t3(n4) {
      if (!r(n4))
        return n4;
      var e4, u4 = n4[H], c4 = o(n4);
      if (u4) {
        if (!u4.P && (u4.i < 4 || !b("ES5").K(u4)))
          return u4.t;
        u4.I = true, e4 = R(n4, c4), u4.I = false;
      } else
        e4 = R(n4, c4);
      return i(e4, function(n5, r3) {
        u4 && a(u4.t, n5) === r3 || f(e4, n5, t3(r3));
      }), 3 === c4 ? new Set(e4) : e4;
    }(e3);
  }
  function R(t3, n4) {
    switch (n4) {
      case 2:
        return new Map(t3);
      case 3:
        return Array.from(t3);
    }
    return l(t3);
  }
  var K;
  var $;
  var G = "undefined" != typeof Symbol && "symbol" == typeof Symbol("x");
  var U = "undefined" != typeof Map;
  var W = "undefined" != typeof Set;
  var X = "undefined" != typeof Proxy && void 0 !== Proxy.revocable && "undefined" != typeof Reflect;
  var q = G ? Symbol("immer-nothing") : ((K = {})["immer-nothing"] = true, K);
  var B = G ? Symbol("immer-draftable") : "__$immer_draftable";
  var H = G ? Symbol("immer-state") : "__$immer_state";
  var L = "undefined" != typeof Symbol && Symbol.iterator || "@@iterator";
  var Q = {0: "Illegal state", 1: "Immer drafts cannot have computed properties", 2: "This object has been frozen and should not be mutated", 3: function(t3) {
    return "Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? " + t3;
  }, 4: "An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.", 5: "Immer forbids circular references", 6: "The first or second argument to `produce` must be a function", 7: "The third argument to `produce` must be a function or undefined", 8: "First argument to `createDraft` must be a plain object, an array, or an immerable object", 9: "First argument to `finishDraft` must be a draft returned by `createDraft`", 10: "The given draft is already finalized", 11: "Object.defineProperty() cannot be used on an Immer draft", 12: "Object.setPrototypeOf() cannot be used on an Immer draft", 13: "Immer only supports deleting array indices", 14: "Immer only supports setting array indices and the 'length' property", 15: function(t3) {
    return "Cannot apply patch, path doesn't resolve: " + t3;
  }, 16: 'Sets cannot have "replace" patches.', 17: function(t3) {
    return "Unsupported patch operation: " + t3;
  }, 18: function(t3) {
    return "The plugin for '" + t3 + "' has not been loaded into Immer. To enable the plugin, import and call `enable" + t3 + "()` when initializing your application.";
  }, 19: "plugin not loaded", 20: "Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available", 21: function(t3) {
    return "produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '" + t3 + "'";
  }, 22: function(t3) {
    return "'current' expects a draft, got: " + t3;
  }, 23: function(t3) {
    return "'original' expects a draft, got: " + t3;
  }};
  var V = "undefined" != typeof Reflect && Reflect.ownKeys ? Reflect.ownKeys : void 0 !== Object.getOwnPropertySymbols ? function(t3) {
    return Object.getOwnPropertyNames(t3).concat(Object.getOwnPropertySymbols(t3));
  } : Object.getOwnPropertyNames;
  var Y = {};
  var Z = {get: function(t3, n4) {
    if (n4 === H)
      return t3;
    var e3 = v(t3);
    if (!u(e3, n4))
      return function(t4, n5, r3) {
        if (r3 in n5)
          for (var e4 = Object.getPrototypeOf(n5); e4; ) {
            var i5, o4 = Object.getOwnPropertyDescriptor(e4, r3);
            if (o4)
              return "value" in o4 ? o4.value : null === (i5 = o4.get) || void 0 === i5 ? void 0 : i5.call(t4.k);
            e4 = Object.getPrototypeOf(e4);
          }
      }(t3, e3, n4);
    var i4 = e3[n4];
    return t3.I || !r(i4) ? i4 : i4 === x(t3.t, n4) ? (I(t3), t3.o[n4] = E(t3.A.h, i4, t3)) : i4;
  }, has: function(t3, n4) {
    return n4 in v(t3);
  }, ownKeys: function(t3) {
    return Reflect.ownKeys(v(t3));
  }, set: function(t3, n4, r3) {
    if (t3.D[n4] = true, !t3.P) {
      if (c(r3, x(v(t3), n4)) && void 0 !== r3)
        return true;
      I(t3), z(t3);
    }
    return t3.o[n4] = r3, true;
  }, deleteProperty: function(t3, n4) {
    return void 0 !== x(t3.t, n4) || n4 in t3.t ? (t3.D[n4] = false, I(t3), z(t3)) : delete t3.D[n4], t3.o && delete t3.o[n4], true;
  }, getOwnPropertyDescriptor: function(t3, n4) {
    var r3 = v(t3), e3 = Reflect.getOwnPropertyDescriptor(r3, n4);
    return e3 ? {writable: true, configurable: 1 !== t3.i || "length" !== n4, enumerable: e3.enumerable, value: r3[n4]} : e3;
  }, defineProperty: function() {
    t(11);
  }, getPrototypeOf: function(t3) {
    return Object.getPrototypeOf(t3.t);
  }, setPrototypeOf: function() {
    t(12);
  }};
  var tt = {};
  i(Z, function(t3, n4) {
    tt[t3] = function() {
      return arguments[0] = arguments[0][0], n4.apply(this, arguments);
    };
  }), tt.deleteProperty = function(n4, r3) {
    return isNaN(parseInt(r3)) && t(13), Z.deleteProperty.call(this, n4[0], r3);
  }, tt.set = function(n4, r3, e3) {
    return "length" !== r3 && isNaN(parseInt(r3)) && t(14), Z.set.call(this, n4[0], r3, e3, n4[0]);
  };
  var nt = function() {
    function e3(t3) {
      this.g = X, this.N = true, "boolean" == typeof (null == t3 ? void 0 : t3.useProxies) && this.setUseProxies(t3.useProxies), "boolean" == typeof (null == t3 ? void 0 : t3.autoFreeze) && this.setAutoFreeze(t3.autoFreeze), this.produce = this.produce.bind(this), this.produceWithPatches = this.produceWithPatches.bind(this);
    }
    var i4 = e3.prototype;
    return i4.produce = function(n4, e4, i5) {
      if ("function" == typeof n4 && "function" != typeof e4) {
        var o4 = e4;
        e4 = n4;
        var u4 = this;
        return function(t3) {
          var n5 = this;
          void 0 === t3 && (t3 = o4);
          for (var r3 = arguments.length, i6 = Array(r3 > 1 ? r3 - 1 : 0), a5 = 1; a5 < r3; a5++)
            i6[a5 - 1] = arguments[a5];
          return u4.produce(t3, function(t4) {
            var r4;
            return (r4 = e4).call.apply(r4, [n5, t4].concat(i6));
          });
        };
      }
      var a4;
      if ("function" != typeof e4 && t(6), void 0 !== i5 && "function" != typeof i5 && t(7), r(n4)) {
        var f4 = g(this), c4 = E(this, n4, void 0), s4 = true;
        try {
          a4 = e4(c4), s4 = false;
        } finally {
          s4 ? j(f4) : O(f4);
        }
        return "undefined" != typeof Promise && a4 instanceof Promise ? a4.then(function(t3) {
          return _(f4, i5), S(t3, f4);
        }, function(t3) {
          throw j(f4), t3;
        }) : (_(f4, i5), S(a4, f4));
      }
      if (!n4 || "object" != typeof n4) {
        if ((a4 = e4(n4)) === q)
          return;
        return void 0 === a4 && (a4 = n4), this.N && d(a4, true), a4;
      }
      t(21, n4);
    }, i4.produceWithPatches = function(t3, n4) {
      var r3, e4, i5 = this;
      return "function" == typeof t3 ? function(n5) {
        for (var r4 = arguments.length, e5 = Array(r4 > 1 ? r4 - 1 : 0), o4 = 1; o4 < r4; o4++)
          e5[o4 - 1] = arguments[o4];
        return i5.produceWithPatches(n5, function(n6) {
          return t3.apply(void 0, [n6].concat(e5));
        });
      } : [this.produce(t3, n4, function(t4, n5) {
        r3 = t4, e4 = n5;
      }), r3, e4];
    }, i4.createDraft = function(e4) {
      r(e4) || t(8), n(e4) && (e4 = k(e4));
      var i5 = g(this), o4 = E(this, e4, void 0);
      return o4[H].C = true, O(i5), o4;
    }, i4.finishDraft = function(n4, r3) {
      var e4 = n4 && n4[H];
      e4 && e4.C || t(9), e4.I && t(10);
      var i5 = e4.A;
      return _(i5, r3), S(void 0, i5);
    }, i4.setAutoFreeze = function(t3) {
      this.N = t3;
    }, i4.setUseProxies = function(n4) {
      n4 && !X && t(20), this.g = n4;
    }, i4.applyPatches = function(t3, r3) {
      var e4;
      for (e4 = r3.length - 1; e4 >= 0; e4--) {
        var i5 = r3[e4];
        if (0 === i5.path.length && "replace" === i5.op) {
          t3 = i5.value;
          break;
        }
      }
      var o4 = b("Patches").$;
      return n(t3) ? o4(t3, r3) : this.produce(t3, function(t4) {
        return o4(t4, r3.slice(e4 + 1));
      });
    }, e3;
  }();
  var rt = new nt();
  var et = rt.produce;
  var it = rt.produceWithPatches.bind(rt);
  var ot = rt.setAutoFreeze.bind(rt);
  var ut = rt.setUseProxies.bind(rt);
  var at = rt.applyPatches.bind(rt);
  var ft = rt.createDraft.bind(rt);
  var ct = rt.finishDraft.bind(rt);
  const immer_esm_default = et;

  // src/constants.ts
  var STAGES;
  (function(STAGES2) {
    STAGES2[STAGES2["CHOOSE_FRAMES"] = 0] = "CHOOSE_FRAMES";
    STAGES2[STAGES2["PREVIEW_OUTPUT"] = 1] = "PREVIEW_OUTPUT";
    STAGES2[STAGES2["RESPONSIVE_PREVIEW"] = 2] = "RESPONSIVE_PREVIEW";
    STAGES2[STAGES2["SAVE_OUTPUT"] = 3] = "SAVE_OUTPUT";
  })(STAGES || (STAGES = {}));
  var MSG_EVENTS;
  (function(MSG_EVENTS3) {
    MSG_EVENTS3[MSG_EVENTS3["DOM_READY"] = 0] = "DOM_READY";
    MSG_EVENTS3[MSG_EVENTS3["NO_FRAMES"] = 1] = "NO_FRAMES";
    MSG_EVENTS3[MSG_EVENTS3["FOUND_FRAMES"] = 2] = "FOUND_FRAMES";
    MSG_EVENTS3[MSG_EVENTS3["RESIZE"] = 3] = "RESIZE";
    MSG_EVENTS3[MSG_EVENTS3["RENDER"] = 4] = "RENDER";
    MSG_EVENTS3[MSG_EVENTS3["CLOSE"] = 5] = "CLOSE";
    MSG_EVENTS3[MSG_EVENTS3["ERROR"] = 6] = "ERROR";
    MSG_EVENTS3[MSG_EVENTS3["UPDATE_HEADLINES"] = 7] = "UPDATE_HEADLINES";
    MSG_EVENTS3[MSG_EVENTS3["COMPRESS_IMAGE"] = 8] = "COMPRESS_IMAGE";
    MSG_EVENTS3[MSG_EVENTS3["COMPRESSED_IMAGE"] = 9] = "COMPRESSED_IMAGE";
  })(MSG_EVENTS || (MSG_EVENTS = {}));
  var OUTPUT_FORMATS;
  (function(OUTPUT_FORMATS2) {
    OUTPUT_FORMATS2[OUTPUT_FORMATS2["INLINE"] = 0] = "INLINE";
    OUTPUT_FORMATS2[OUTPUT_FORMATS2["IFRAME"] = 1] = "IFRAME";
  })(OUTPUT_FORMATS || (OUTPUT_FORMATS = {}));
  const UI_TEXT = {
    ERROR_UNEXPECTED: "Unexpected error",
    ERROR_MISSING_FRAMES: "No frames found. Please add some frames to the page.",
    WARN_NO_TARGETS: "Standard frames not found. Please select target frames.",
    WARN_TOO_MANY_TARGETS: "Please select three target frames",
    INFO_PREVIEW: "Preview each frame output",
    TITLE_CHOOSE_FRAME: "Choose which frames to export",
    TITLE_PREVIEW: "Preview",
    TITLE_RESPONSIVE_PREVIEW: "Responsive preview",
    TILE_OUTPUT: "Export",
    BUTTON_NEXT: "Next",
    BUTTON_DOWNLOAD: "Download",
    BUTTON_PREVIOUS: "Back"
  };
  const INITIAL_UI_SIZE = {
    width: 480,
    height: 500,
    maxWidth: 1200,
    maxHeight: 900,
    minWidth: 420,
    minHeight: 480
  };
  const FRAME_WARNING_SIZE = 300;
  var HEADLINE_NODE_NAMES;
  (function(HEADLINE_NODE_NAMES2) {
    HEADLINE_NODE_NAMES2["HEADLINE"] = "headline";
    HEADLINE_NODE_NAMES2["SUBHEAD"] = "subhead";
    HEADLINE_NODE_NAMES2["SOURCE"] = "source";
  })(HEADLINE_NODE_NAMES || (HEADLINE_NODE_NAMES = {}));

  // src/components/Header.tsx
  function FrameInfo(props) {
    if (!props.frame)
      return null;
    const {name, width, height, svg: svg2, responsive, svgCompressed, svgOptimised} = props.frame;
    const renderCharCount = (svgOptimised ? svgCompressed == null ? void 0 : svgCompressed.length : svg2 == null ? void 0 : svg2.length) || 0;
    const fileKbSize = renderCharCount / 1e3;
    const isFileLarge = fileKbSize > FRAME_WARNING_SIZE;
    let fileSizeClassName = "f2h__file_size";
    if (isFileLarge) {
      fileSizeClassName += " f2h__file_size f2h__notice--error";
    }
    let responsiveClassName = "f2h__info_responsive";
    if (responsive === false) {
      responsiveClassName += " f2h__info_responsive--no";
    }
    return h2("p", {
      className: "f2h__info"
    }, h2("span", {
      className: "f2h__info_title"
    }, `"${name}"`), " ", h2("span", {
      className: "f2h__info_meta"
    }, width, " x ", height, ",", " ", h2("span", {
      className: responsiveClassName
    }, "responsive"), ",", " ", h2("span", {
      className: fileSizeClassName
    }, fileKbSize.toFixed(2), "kB")));
  }
  function Header2(props) {
    const {stage, handleBackClick, handleNextClick, disableNext, frame, handleOptimseClick} = props;
    let title;
    let nextText;
    let backText;
    switch (stage) {
      case STAGES.CHOOSE_FRAMES:
        title = UI_TEXT.TITLE_CHOOSE_FRAME;
        nextText = UI_TEXT.BUTTON_NEXT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
      case STAGES.RESPONSIVE_PREVIEW:
        title = UI_TEXT.TITLE_RESPONSIVE_PREVIEW;
        nextText = UI_TEXT.BUTTON_NEXT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
      case STAGES.PREVIEW_OUTPUT:
        title = `${UI_TEXT.TITLE_PREVIEW}`;
        nextText = UI_TEXT.BUTTON_NEXT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
      case STAGES.SAVE_OUTPUT:
        title = UI_TEXT.TILE_OUTPUT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
    }
    return h2("header", {
      className: "f2h__header"
    }, h2("h1", {
      className: "f2h__title"
    }, title), stage === STAGES.PREVIEW_OUTPUT && h2(d2, null, h2(FrameInfo, {
      frame
    }), h2("label", {
      className: "f2h__svg_optimise"
    }, h2("input", {
      type: "checkbox",
      checked: frame.svgOptimised,
      name: "optimise",
      id: "optimise",
      onClick: () => handleOptimseClick(frame.id)
    }), h2("span", null, "Optimise SVG"))), h2("nav", {
      className: "f2h__nav"
    }, stage !== STAGES.CHOOSE_FRAMES && h2("button", {
      className: "f2h__btn btn--secondary",
      onClick: handleBackClick
    }, backText), nextText && h2("button", {
      className: "f2h__btn btn--primary",
      onClick: handleNextClick,
      disabled: disableNext
    }, nextText)));
  }

  // node_modules/preact-render-to-string/dist/index.module.js
  var n3 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;
  var o2 = function(e3) {
    return String(e3).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
  };
  var a2 = function(e3, t3) {
    return String(e3).replace(/(\n+)/g, "$1" + (t3 || "	"));
  };
  var i2 = function(e3, t3, r3) {
    return String(e3).length > (t3 || 40) || !r3 && -1 !== String(e3).indexOf("\n") || -1 !== String(e3).indexOf("<");
  };
  var l2 = {};
  function s2(e3) {
    var t3 = "";
    for (var r3 in e3) {
      var o4 = e3[r3];
      null != o4 && (t3 && (t3 += " "), t3 += "-" == r3[0] ? r3 : l2[r3] || (l2[r3] = r3.replace(/([A-Z])/g, "-$1").toLowerCase()), t3 += ": ", t3 += o4, "number" == typeof o4 && false === n3.test(r3) && (t3 += "px"), t3 += ";");
    }
    return t3 || void 0;
  }
  function f2(e3, t3) {
    for (var r3 in t3)
      e3[r3] = t3[r3];
    return e3;
  }
  function c2(e3, t3) {
    return Array.isArray(t3) ? t3.reduce(c2, e3) : null != t3 && false !== t3 && e3.push(t3), e3;
  }
  var p2 = {shallow: true};
  var u2 = [];
  var _2 = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;
  var g2 = function() {
  };
  v2.render = v2;
  var h3 = function(e3, t3) {
    return v2(e3, t3, p2);
  };
  function v2(n4, l4, p4, h4, d3, m3) {
    if (null == n4 || "boolean" == typeof n4)
      return "";
    Array.isArray(n4) && (n4 = h2(d2, null, n4));
    var x3 = n4.type, y3 = n4.props, b3 = false;
    l4 = l4 || {};
    var S2, w3 = (p4 = p4 || {}).pretty, k3 = w3 && "string" == typeof w3 ? w3 : "	";
    if ("object" != typeof n4 && !x3)
      return o2(n4);
    if ("function" == typeof x3) {
      if (b3 = true, !p4.shallow || !h4 && false !== p4.renderRootComponent) {
        if (x3 === d2) {
          var O2 = "", C3 = [];
          c2(C3, n4.props.children);
          for (var A3 = 0; A3 < C3.length; A3++)
            O2 += (A3 > 0 && w3 ? "\n" : "") + v2(C3[A3], l4, p4, false !== p4.shallowHighOrder, d3, m3);
          return O2;
        }
        var H3, j3 = n4.__c = {__v: n4, context: l4, props: n4.props, setState: g2, forceUpdate: g2, __h: []};
        if (n2.__r && n2.__r(n4), x3.prototype && "function" == typeof x3.prototype.render) {
          var F2 = x3.contextType, $3 = F2 && l4[F2.__c], L3 = null != F2 ? $3 ? $3.props.value : F2.__ : l4;
          (j3 = n4.__c = new x3(y3, L3)).__v = n4, j3._dirty = j3.__d = true, j3.props = y3, null == j3.state && (j3.state = {}), null == j3._nextState && null == j3.__s && (j3._nextState = j3.__s = j3.state), j3.context = L3, x3.getDerivedStateFromProps ? j3.state = f2(f2({}, j3.state), x3.getDerivedStateFromProps(j3.props, j3.state)) : j3.componentWillMount && j3.componentWillMount(), j3.state = j3._nextState !== j3.state ? j3._nextState : j3.__s !== j3.state ? j3.__s : j3.state, H3 = j3.render(j3.props, j3.state, j3.context);
        } else {
          var M3 = x3.contextType, T3 = M3 && l4[M3.__c];
          H3 = x3.call(n4.__c, y3, null != M3 ? T3 ? T3.props.value : M3.__ : l4);
        }
        return j3.getChildContext && (l4 = f2(f2({}, l4), j3.getChildContext())), v2(H3, l4, p4, false !== p4.shallowHighOrder, d3, m3);
      }
      x3 = (S2 = x3).displayName || S2 !== Function && S2.name || function(e3) {
        var t3 = (Function.prototype.toString.call(e3).match(/^\s*function\s+([^( ]+)/) || "")[1];
        if (!t3) {
          for (var r3 = -1, n5 = u2.length; n5--; )
            if (u2[n5] === e3) {
              r3 = n5;
              break;
            }
          r3 < 0 && (r3 = u2.push(e3) - 1), t3 = "UnnamedComponent" + r3;
        }
        return t3;
      }(S2);
    }
    var D3, N3 = "";
    if (y3) {
      var P3 = Object.keys(y3);
      p4 && true === p4.sortAttributes && P3.sort();
      for (var R2 = 0; R2 < P3.length; R2++) {
        var U2 = P3[R2], W2 = y3[U2];
        if ("children" !== U2 && (!U2.match(/[\s\n\\/='"\0<>]/) && (p4 && p4.allAttributes || "key" !== U2 && "ref" !== U2 && "__self" !== U2 && "__source" !== U2))) {
          if ("className" === U2) {
            if (y3.class)
              continue;
            U2 = "class";
          } else
            d3 && U2.match(/^xlink:?./) && (U2 = U2.toLowerCase().replace(/^xlink:?/, "xlink:"));
          if ("htmlFor" === U2) {
            if (y3.for)
              continue;
            U2 = "for";
          }
          "style" === U2 && W2 && "object" == typeof W2 && (W2 = s2(W2));
          var q2 = p4.attributeHook && p4.attributeHook(U2, W2, l4, p4, b3);
          if (q2 || "" === q2)
            N3 += q2;
          else if ("dangerouslySetInnerHTML" === U2)
            D3 = W2 && W2.__html;
          else if ((W2 || 0 === W2 || "" === W2) && "function" != typeof W2) {
            if (!(true !== W2 && "" !== W2 || (W2 = U2, p4 && p4.xml))) {
              N3 += " " + U2;
              continue;
            }
            if ("value" === U2) {
              if ("select" === x3) {
                m3 = W2;
                continue;
              }
              "option" === x3 && m3 == W2 && (N3 += " selected");
            }
            N3 += " " + U2 + '="' + o2(W2) + '"';
          }
        }
      }
    }
    if (w3) {
      var z3 = N3.replace(/^\n\s*/, " ");
      z3 === N3 || ~z3.indexOf("\n") ? w3 && ~N3.indexOf("\n") && (N3 += "\n") : N3 = z3;
    }
    if (N3 = "<" + x3 + N3 + ">", String(x3).match(/[\s\n\\/='"\0<>]/))
      throw new Error(x3 + " is not a valid HTML tag name in " + N3);
    var E3 = String(x3).match(_2);
    E3 && (N3 = N3.replace(/>$/, " />"));
    var I3, Z2 = [];
    if (D3)
      w3 && i2(D3) && (D3 = "\n" + k3 + a2(D3, k3)), N3 += D3;
    else if (y3 && c2(I3 = [], y3.children).length) {
      for (var B2 = w3 && ~N3.indexOf("\n"), G2 = false, J2 = 0; J2 < I3.length; J2++) {
        var K2 = I3[J2];
        if (null != K2 && false !== K2) {
          var Q2 = v2(K2, l4, p4, true, "svg" === x3 || "foreignObject" !== x3 && d3, m3);
          if (w3 && !B2 && i2(Q2) && (B2 = true), Q2)
            if (w3) {
              var V2 = Q2.length > 0 && "<" != Q2[0];
              G2 && V2 ? Z2[Z2.length - 1] += Q2 : Z2.push(Q2), G2 = V2;
            } else
              Z2.push(Q2);
        }
      }
      if (w3 && B2)
        for (var X2 = Z2.length; X2--; )
          Z2[X2] = "\n" + k3 + a2(Z2[X2], k3);
    }
    if (Z2.length)
      N3 += Z2.join("");
    else if (p4 && p4.xml)
      return N3.substring(0, N3.length - 1) + " />";
    return E3 || (w3 && ~N3.indexOf("\n") && (N3 += "\n"), N3 += "</" + x3 + ">"), N3;
  }
  v2.shallowRender = h3;
  const index_module_default = v2;

  // src/outputRender.tsx
  const embed = __toModule(require_embed());
  const fonts = __toModule(require_fonts());
  function generateIframeHtml(body) {
    return `
    <!doctype html>
    <html>
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style> html, body { margin: 0; } </style>
      </head>
      <body>
        ${body}
      </body>
    </html>
  `;
  }
  function generateStyleText(node, frameWidth, frameHeight) {
    const {x: x3, y: y3, width, height, fontSize, fontFamily, colour, letterSpacing, lineHeight, textAlignHorizontal, textAlignVertical, fontStyle} = node;
    const left = `${(x3 + width / 2) / frameWidth * 100}%`;
    const top = `${(y3 + height / 2) / frameHeight * 100}%`;
    const {r: r3, g: g4, b: b3, a: a4} = colour;
    const colourVals = [r3, g4, b3].map((val = 0) => Math.round(val * 255));
    const textColour = `rgba(${colourVals.join(",")}, ${a4})`;
    const fontName = `${fontFamily} ${fontStyle}`;
    const {unit: letterUnit, value: letterVal} = letterSpacing;
    let letterSpaceValue = "0";
    switch (letterUnit) {
      case "PIXELS":
        if (fontFamily === "Telesans Text") {
          letterSpaceValue = `${letterVal - 0.33}px`;
        } else if (fontFamily === "Telesans Agate") {
          letterSpaceValue = `${letterVal - 0.19}px`;
        } else {
          letterSpaceValue = `${letterVal}px`;
        }
        break;
      case "PERCENT":
        letterSpaceValue = `${letterVal / 100}em`;
        if (fontFamily === "Telesans Text") {
          letterSpaceValue = `${letterVal / 100 - 0.022}em`;
        } else if (fontFamily === "Telesans Agate") {
          letterSpaceValue = `${letterVal / 100 - 0.015}em`;
        } else {
          letterSpaceValue = `${letterVal / 100}em`;
        }
        break;
      default:
        if (fontFamily === "Telesans Text") {
          letterSpaceValue = "-0.37px";
        } else if (fontFamily === "Telesans Agate") {
          letterSpaceValue = "-0.19}px";
        } else {
          letterSpaceValue = `0`;
        }
        break;
    }
    const {unit: lineUnit, value: lineVal} = lineHeight;
    let lineHeightValue = "auto";
    switch (lineUnit) {
      case "PIXELS":
        lineHeightValue = `${lineVal}px`;
        break;
      case "PERCENT":
        lineHeightValue = `${lineVal * 1.15}%`;
        break;
      case "AUTO":
        lineHeightValue = "1.2";
        break;
    }
    let alignItemsValue = "auto";
    switch (textAlignVertical) {
      case "TOP":
        alignItemsValue = "flex-start";
        break;
      case "CENTER":
        alignItemsValue = "center";
        break;
      case "BOTTOM":
        alignItemsValue = "flex-end";
        break;
    }
    let justifyItemsValue = "auto";
    switch (textAlignHorizontal) {
      case "LEFT":
        justifyItemsValue = "flex-start";
        break;
      case "CENTER":
        justifyItemsValue = "center";
        break;
      case "RIGHT":
        justifyItemsValue = "flex-end";
        break;
    }
    const newWidth = Math.ceil(width / frameWidth * 100);
    return `
        font-size: ${String(fontSize)}px;
        font-family: "${fontName}", Georgia, 'Times New Roman', Times, serif;
        font-weight: normal;
        position: absolute;
        color: ${textColour};
        width: ${newWidth}%;
        height: ${height / frameHeight * 100}%;
        left: ${left};
        top: ${top};
        line-height: ${lineHeightValue};
        letter-spacing: ${letterSpaceValue};
        justify-content: ${justifyItemsValue};
        align-items: ${alignItemsValue};
        display: flex;
      `;
  }
  function Text(props) {
    const {node, width, height} = props;
    const {characters} = node;
    const styleText = generateStyleText(node, width, height);
    return h2("p", {
      className: "f2h__text",
      style: styleText
    }, characters);
  }
  function FrameContainer(props) {
    const {uid, width, height, textNodes, svg: svg2 = "", svgCompressed = "", svgOptimised, responsive, scale} = props;
    const textEls = textNodes.map((node) => h2(Text, {
      key: node.characters,
      node,
      width,
      height
    }));
    const classNames = `f2h__render ${responsive ? "f2h__render--responsive" : ""}`;
    let style = responsive ? "" : `width: ${width}px;`;
    style = scale ? `${style} transform: scale(${scale});` : style;
    return h2("div", {
      className: classNames,
      style,
      id: uid
    }, h2("div", {
      className: "f2h__svg_container",
      dangerouslySetInnerHTML: {__html: svgOptimised ? svgCompressed : svg2}
    }), h2("div", {
      className: "f2h__text_container"
    }, textEls));
  }
  function renderInline(props) {
    const {frames, iframe, headline, subhead, source} = props;
    const mediaQuery = genreateMediaQueries(frames);
    const renderedFrames = frames.map((frame) => h2(FrameContainer, __assign({
      key: frame.uid
    }, frame)));
    let html = index_module_default(h2("div", {
      className: "f2h__embed"
    }, h2("style", {
      dangerouslySetInnerHTML: {
        __html: `
       ${fonts.default}
       ${embed.default}
       ${mediaQuery}
      `
      }
    }), (headline || subhead) && h2("header", {
      className: "f2h_header"
    }, headline && h2("h1", {
      className: "f2h_headline"
    }, headline), subhead && h2("p", {
      className: "f2h_subbhead"
    }, "subhead")), renderedFrames, source && h2("footer", null, h2("p", {
      className: "f2h_source"
    }, source))));
    if (iframe === OUTPUT_FORMATS.IFRAME) {
      html = generateIframeHtml(html);
    }
    return html;
  }
  function genreateMediaQueries(frames) {
    const idWidths = frames.map(({width, uid}) => [width, uid]).sort(([a4], [b3]) => a4 < b3 ? -1 : 1);
    const mediaQueries = idWidths.map(([width, uid], i4) => {
      if (i4 === 0) {
        return "";
      }
      const [, prevId] = idWidths[i4 - 1];
      return `
      @media (max-width: ${width}px) {
        #${uid} { display: none; }
      }
      @media (min-width: ${width}px) {
        #${prevId} { display: none; }
        #${uid} { display: block; }
      }
    `;
    });
    return mediaQueries.join("");
  }

  // src/components/ResponsiveView.tsx
  function ResponsiveView2(props) {
    const {frames, headline, subhead, source, windowHeight, windowWidth} = props;
    const maxWidth = Math.max(...frames.map((f4) => f4.width));
    const maxHeight = Math.max(...frames.map((f4) => f4.height));
    const minWidth = Math.min(windowWidth - 100, maxWidth);
    const minHeight = Math.min(windowHeight - 160, maxHeight);
    const rawHtml = renderInline({
      frames,
      iframe: OUTPUT_FORMATS.IFRAME,
      headline,
      subhead,
      source
    });
    return h2("div", {
      className: "f2h__responsive_preview"
    }, h2("p", null, "Use the window below to test how the frames behave when resizing."), h2("div", {
      className: "f2h__responsive__wrapper"
    }, h2("iframe", {
      style: `height: ${minHeight}px; width: ${minWidth}px;`,
      className: "f2h__responsive__sandbox",
      srcDoc: rawHtml
    })));
  }

  // src/components/FrameSelection.tsx
  function InputField(props) {
    const {label, value, refTarget, handleChange} = props;
    return h2("p", {
      className: "f2h__info_form__item f2h__info_form__item--headline"
    }, h2("label", {
      className: "f2h__info_form__label"
    }, label), h2("input", {
      className: "f2h__info_form__input f2h__info_form__input--headline",
      type: "text",
      value,
      ref: refTarget,
      onChange: handleChange
    }));
  }
  class FrameSelection2 extends m2 {
    constructor() {
      super(...arguments);
      this.headlineInput = p3();
      this.subheadInput = p3();
      this.sourceInput = p3();
      this.sendFormValues = () => {
        var _a, _b, _c;
        const {handleFormUpdate} = this.props;
        const headline = (_a = this.headlineInput.current) == null ? void 0 : _a.value;
        const subhead = (_b = this.subheadInput.current) == null ? void 0 : _b.value;
        const source = (_c = this.sourceInput.current) == null ? void 0 : _c.value;
        handleFormUpdate({headline, subhead, source});
      };
    }
    render() {
      const {frames, handleClick, toggleResonsive, toggleSelectAll, toggleResponsiveAll, headline, subhead, source} = this.props;
      const selectCount = frames.filter((frame) => frame.selected).length;
      const someFramesSelected = selectCount > 0 && selectCount < frames.length;
      const allSelected = selectCount === frames.length;
      const responseCount = frames.filter((frame) => frame.responsive).length;
      const someResponsiveSelected = responseCount > 0 && responseCount < frames.length;
      const allResponsiveSelected = responseCount === frames.length;
      return h2("div", {
        className: "f2h__choose_frames"
      }, h2("div", {
        className: "f2h__info_form"
      }, h2(InputField, {
        refTarget: this.headlineInput,
        handleChange: this.sendFormValues,
        label: "Headline",
        value: headline
      }), h2(InputField, {
        refTarget: this.subheadInput,
        handleChange: this.sendFormValues,
        label: "Subhead",
        value: subhead
      }), h2(InputField, {
        refTarget: this.sourceInput,
        handleChange: this.sendFormValues,
        label: "Source",
        value: source
      })), h2("div", {
        className: "f2h__frame_selection"
      }, h2("label", {
        className: "f2h__sel_header f2h__sel_header--name"
      }, h2("input", {
        name: "selectAll",
        id: "selectAll",
        type: "checkbox",
        onClick: toggleSelectAll,
        checked: allSelected,
        ref: (el) => el && (el.indeterminate = someFramesSelected)
      }), " ", "Frames"), h2("label", {
        className: "f2h__sel_header f2h__sel_header--responsive"
      }, h2("input", {
        type: "checkbox",
        id: "responsiveAll",
        name: "responsiveAll",
        onClick: toggleResponsiveAll,
        checked: allResponsiveSelected,
        ref: (el) => el && (el.indeterminate = someResponsiveSelected)
      }), " ", "Responsive"), frames.map(({name, id, width, height, selected, responsive}) => h2(d2, {
        key: id
      }, h2("p", {
        className: "f2h__label f2h__label--name"
      }, h2("input", {
        className: "f2h__checkbox",
        type: "checkbox",
        checked: selected,
        onClick: () => handleClick(id),
        id: name,
        name
      }), h2("label", {
        className: "f2h__label--name-text",
        htmlFor: name
      }, name), h2("span", {
        className: "f2h__sel_width"
      }, width, " x ", height)), h2("input", {
        className: "f2h__checkbox f2h__input--responsive",
        type: "checkbox",
        checked: responsive,
        onClick: () => toggleResonsive(id),
        id: name,
        name
      })))));
    }
  }

  // src/components/Preview.tsx
  class Preview2 extends m2 {
    constructor() {
      super(...arguments);
      this.state = {
        nativeSize: true
      };
      this.innerEl = p3();
      this.getScale = () => {
        const {windowHeight, windowWidth, frame} = this.props;
        const {width, height} = frame;
        const WINDOW_HEADER_HEIGHT = 140;
        const heightRatio = (windowHeight - WINDOW_HEADER_HEIGHT) / height;
        const WINDOW_SIDE_MARGINS = 120;
        const widthRatio = (windowWidth - WINDOW_SIDE_MARGINS) / width;
        const smallestRatio = Math.min(heightRatio, widthRatio);
        const scale = smallestRatio < 1 ? smallestRatio : 1;
        const scaledHeight = height * scale;
        const scaledWidth = width * scale;
        return {
          scale,
          scaledHeight,
          scaledWidth
        };
      };
      this.toggleZoomed = () => {
        const {current: el} = this.innerEl;
        if (el) {
          el.scrollLeft = 0;
          el.scrollTop = 0;
        } else {
          console.error("Missing preview inner DOM element");
        }
        this.setState({nativeSize: !this.state.nativeSize});
      };
    }
    componentDidMount() {
      const {scale} = this.getScale();
      this.setState({nativeSize: scale >= 1});
    }
    componentDidUpdate(_previousProps, previousState) {
      const {nativeSize} = previousState;
      const {scale} = this.getScale();
      const isNativeSize = scale >= 1;
      if (nativeSize !== isNativeSize) {
        this.setState({nativeSize: isNativeSize});
      }
    }
    render() {
      const {frame} = this.props;
      const {svg: svg2, svgOptimised, svgCompressed} = frame;
      const renderCharCount = (svgOptimised ? svgCompressed == null ? void 0 : svgCompressed.length : svg2 == null ? void 0 : svg2.length) || 0;
      const fileKbSize = Math.ceil(renderCharCount / 1e3);
      const isFileLarge = fileKbSize > FRAME_WARNING_SIZE;
      const {nativeSize} = this.state;
      const {scale, scaledHeight, scaledWidth} = this.getScale();
      const previewWrapperStyles = !nativeSize ? `width: ${scaledWidth}; height: ${scaledHeight};` : "";
      let scaleWarning;
      if (scale < 1) {
        scaleWarning = h2("p", {
          className: "f2h__scale_warning f2h__notice--warning"
        }, h2("span", null, "Zoomed ", nativeSize ? "100" : Math.round(scale * 100), "% - "), h2("label", null, "native size", " ", h2("input", {
          type: "checkbox",
          checked: nativeSize,
          onClick: this.toggleZoomed
        })));
      }
      return h2("div", {
        className: "f2h__preview"
      }, isFileLarge && h2("p", {
        className: "f2h__size_warning f2h__notice--warning"
      }, "File size is very large, consider using smaller images and simplier shapes"), scaleWarning, svg2 ? h2("div", {
        ref: this.innerEl,
        className: `f2h__preview_inner ${!nativeSize ? "f2h__preview_inner--scaled" : ""}`,
        style: previewWrapperStyles
      }, h2(FrameContainer, __assign(__assign({}, frame), {
        scale: !nativeSize && scale
      }))) : h2("p", {
        className: "f2h__preview_loading"
      }, "Loading..."));
    }
  }

  // src/components/Save.tsx
  const file_saver = __toModule(require_FileSaver_min());
  class Save2 extends m2 {
    constructor() {
      super(...arguments);
      this.state = {
        advancedOpen: false,
        showToast: false,
        outputFormat: OUTPUT_FORMATS.INLINE
      };
      this.textAreaEl = p3();
      this.toggleAdvanced = () => {
        this.setState({
          advancedOpen: !this.state.advancedOpen
        });
      };
      this.saveToClipboard = () => {
        const {current: el} = this.textAreaEl;
        if (!el) {
          console.error("Missing textarea element");
          return;
        }
        el.select();
        document.execCommand("copy");
        const {showToast} = this.state;
        if (showToast) {
          return;
        }
        this.setState({showToast: true});
        setTimeout(() => this.setState({showToast: false}), 2e3);
      };
      this.saveEmbedToClipboard = () => {
        this.setState({outputFormat: OUTPUT_FORMATS.INLINE}, this.saveToClipboard);
      };
      this.saveBinaryFile = () => {
        const {frames, headline, subhead, source} = this.props;
        const outputFrames = Object.values(frames).filter((f4) => f4.selected);
        const filename = "figma-to-html-test.html";
        const raw = renderInline({
          frames: outputFrames,
          iframe: OUTPUT_FORMATS.IFRAME,
          headline,
          subhead,
          source
        });
        const blob = new Blob([raw], {type: "text/html"});
        file_saver.saveAs(blob, filename);
      };
      this.handleFormatChange = (format) => {
        this.setState({
          outputFormat: format
        });
      };
    }
    render() {
      const {frames, headline, subhead, source} = this.props;
      const {advancedOpen, showToast, outputFormat} = this.state;
      const rawHtml = renderInline({
        frames,
        iframe: outputFormat,
        headline,
        subhead,
        source
      });
      const advancedBtnText = `${advancedOpen ? "hide" : "show"}`;
      let advancedClassName = "f2h__save_advanced";
      if (advancedOpen) {
        advancedClassName += "f2h__save_advanced--open";
      }
      let toastClassName = "f2h__toast";
      if (showToast) {
        toastClassName += "f2h__toast--open";
      }
      return h2("div", {
        className: "f2h__save"
      }, h2("div", {
        className: "f2h__save_options"
      }, h2("button", {
        className: "f2h__save_btn",
        onClick: this.saveEmbedToClipboard
      }, "Copy embed to clipboard"), h2("button", {
        className: "f2h__save_btn",
        onClick: this.saveBinaryFile
      }, "Download iframe HTML file")), h2("h2", {
        className: "f2h__save__subhead f2h__save_advanced-header"
      }, h2("span", {
        className: "f2h__save_advanced_title"
      }, "Advanced settings"), h2("button", {
        className: "f2h__save_advanced_show",
        onClick: this.toggleAdvanced
      }, advancedBtnText)), h2("div", {
        className: advancedClassName
      }, h2("h2", {
        className: "f2h__save__subhead"
      }, "Format"), h2("label", {
        htmlFor: "f2h__input_inline",
        className: "f2h__label"
      }, h2("input", {
        className: "f2h__radio_btn",
        type: "radio",
        name: "inline",
        id: "f2h__input_inline",
        value: OUTPUT_FORMATS.INLINE,
        checked: outputFormat === OUTPUT_FORMATS.INLINE,
        onClick: () => this.handleFormatChange(OUTPUT_FORMATS.INLINE)
      }), "Inline (default)"), h2("label", {
        htmlFor: "f2h__input_iframe",
        className: "f2h__label"
      }, h2("input", {
        className: "f2h__radio_btn",
        type: "radio",
        name: "iframe",
        id: "f2h__input_iframe",
        value: OUTPUT_FORMATS.IFRAME,
        checked: outputFormat === OUTPUT_FORMATS.IFRAME,
        onClick: () => this.handleFormatChange(OUTPUT_FORMATS.IFRAME)
      }), "iFrame"), h2("h2", {
        className: "f2h__save__subhead"
      }, "Raw HTML"), h2("textarea", {
        ref: this.textAreaEl,
        className: "f2h__save__raw",
        value: rawHtml
      })), h2("div", {
        className: toastClassName
      }, "Copied to clipboard"));
    }
  }

  // src/utils/svg.ts
  function decodeSvgToString(svg2) {
    let svgStr = new TextDecoder("utf-8").decode(svg2);
    const regex = /id="(.+?)"/g;
    const ids = [];
    let matches;
    while (matches = regex.exec(svgStr)) {
      const [, id] = matches;
      ids.push(id);
    }
    ids.forEach((id) => {
      const rnd = Math.random().toString(32).substr(2);
      const randomId = `${id}-${rnd}`;
      svgStr = svgStr.replace(`id="${id}"`, `id="${randomId}"`);
      svgStr = svgStr.replace(`#${id}`, `#${randomId}`);
    });
    svgStr = svgStr.replace(/http:\/\//g, "https://");
    return svgStr;
  }

  // src/utils/compressImage.ts
  const compressorjs = __toModule(require_compressor());
  function compressImage2(image, width, height) {
    return new Promise((resolve, reject) => {
      const blob = new Blob([image], {type: "image/png"});
      const imgUrl = URL.createObjectURL(blob);
      const img = new Image();
      img.src = imgUrl;
      img.addEventListener("load", () => {
        let targetWidth = 0;
        let targetHeight = 0;
        if (width > img.width || height > img.height) {
          targetWidth = img.width;
          targetHeight = img.height;
        } else {
          const aspectRatio = img.width / img.height;
          targetWidth = aspectRatio >= 1 ? height * aspectRatio : width;
          targetHeight = aspectRatio >= 1 ? height : width / aspectRatio;
        }
        new compressorjs.default(blob, {
          width: targetWidth,
          height: targetHeight,
          quality: 0.7,
          convertSize: 1e5,
          success: async (newImage) => {
            const buf = await newImage.arrayBuffer();
            const data = new Uint8Array(buf);
            resolve(data);
          },
          error: (err) => {
            console.error("Image compression failed");
            reject(err);
          }
        });
      });
      img.addEventListener("error", (err) => {
        console.error("Error loading compressed image");
        reject(err);
      });
    });
  }

  // src/utils/messages.ts
  function sendMessage(type, data) {
    console.log("post message", parent.postMessage, type, data);
    parent.postMessage({
      pluginMessage: __assign({
        type
      }, data)
    }, "*");
  }

  // src/utils/lib/tools.ts
  const cleanupOutData = function(data, params2, command) {
    var str = "", delimiter, prev;
    data.forEach(function(item, i4) {
      delimiter = " ";
      if (i4 == 0)
        delimiter = "";
      if (params2.noSpaceAfterFlags && (command == "A" || command == "a")) {
        var pos = i4 % 7;
        if (pos == 4 || pos == 5)
          delimiter = "";
      }
      if (params2.leadingZero) {
        item = removeLeadingZero(item);
      }
      if (params2.negativeExtraSpace && delimiter != "" && (item < 0 || String(item).charCodeAt(0) == 46 && prev % 1 !== 0)) {
        delimiter = "";
      }
      prev = item;
      str += delimiter + item;
    });
    return str;
  };
  const removeLeadingZero = function(num) {
    var strNum = num.toString();
    if (0 < num && num < 1 && strNum.charCodeAt(0) == 48) {
      strNum = strNum.slice(1);
    } else if (-1 < num && num < 0 && strNum.charCodeAt(1) == 48) {
      strNum = strNum.charAt(0) + strNum.slice(2);
    }
    return strNum;
  };

  // src/utils/lib/path.ts
  const rNumber = String.raw`[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?\s*`;
  const rCommaWsp = String.raw`(?:\s,?\s*|,\s*)`;
  const rNumberCommaWsp = `(${rNumber})` + rCommaWsp;
  const rFlagCommaWsp = `([01])${rCommaWsp}?`;
  const rCoordinatePair = String.raw`(${rNumber})${rCommaWsp}?(${rNumber})`;
  const rArcSeq = (rNumberCommaWsp + "?").repeat(2) + rNumberCommaWsp + rFlagCommaWsp.repeat(2) + rCoordinatePair;
  const regPathInstructions = /([MmLlHhVvCcSsQqTtAaZz])\s*/;
  const regCoordinateSequence = new RegExp(rNumber, "g");
  const regArcArgumentSequence = new RegExp(rArcSeq, "g");
  function path2js(path2) {
    var _a;
    const paramsLength = {
      H: 1,
      V: 1,
      M: 2,
      L: 2,
      T: 2,
      Q: 4,
      S: 4,
      C: 6,
      A: 7,
      h: 1,
      v: 1,
      m: 2,
      l: 2,
      t: 2,
      q: 4,
      s: 4,
      c: 6,
      a: 7
    };
    let pathData = [];
    let instruction;
    let startMoveto = false;
    (_a = path2.getAttribute("d")) == null ? void 0 : _a.split(regPathInstructions).forEach(function(data) {
      if (!data)
        return;
      if (!startMoveto) {
        if (data == "M" || data == "m") {
          startMoveto = true;
        } else
          return;
      }
      if (regPathInstructions.test(data)) {
        instruction = data;
        if (instruction == "Z" || instruction == "z") {
          pathData.push({
            instruction: "z"
          });
        }
      } else {
        if (instruction == "A" || instruction == "a") {
          var newData = [];
          for (var args; args = regArcArgumentSequence.exec(data); ) {
            for (var i4 = 1; i4 < args.length; i4++) {
              newData.push(args[i4]);
            }
          }
          data = newData;
        } else {
          data = data.match(regCoordinateSequence);
        }
        if (!data)
          return;
        data = data.map(Number);
        if (instruction == "M" || instruction == "m") {
          pathData.push({
            instruction: pathData.length == 0 ? "M" : instruction,
            data: data.splice(0, 2)
          });
          instruction = instruction == "M" ? "L" : "l";
        }
        for (var pair = paramsLength[instruction]; data.length; ) {
          pathData.push({
            instruction,
            data: data.splice(0, pair)
          });
        }
      }
    });
    if (pathData.length && pathData[0].instruction == "m") {
      pathData[0].instruction = "M";
    }
    return pathData;
  }
  const js2path = function(path2, data, params2) {
    if (params2.collapseRepeated) {
      data = collapseRepeated(data);
    }
    path2.setAttribute("d", data.reduce(function(pathString, item) {
      var strData = "";
      if (item.data) {
        strData = cleanupOutData(item.data, params2, item.instruction);
      }
      return pathString += item.instruction + strData;
    }, ""));
  };
  function collapseRepeated(data) {
    var prev, prevIndex;
    data = data.reduce(function(newPath, item) {
      if (prev && item.data && item.instruction == prev.instruction) {
        if (item.instruction != "M") {
          prev = newPath[prevIndex] = {
            instruction: prev.instruction,
            data: prev.data.concat(item.data),
            coords: item.coords,
            base: prev.base
          };
        } else {
          prev.data = item.data;
          prev.coords = item.coords;
        }
      } else {
        newPath.push(item);
        prev = item;
        prevIndex = newPath.length - 1;
      }
      return newPath;
    }, []);
    return data;
  }

  // src/utils/lib/shapeToPath.ts
  function convertShapesToPath(el) {
    var _a, _b, _c, _d, _e;
    if (el instanceof SVGRectElement && el.hasAttribute("width") && el.hasAttribute("height") && el.hasAttribute("rx") === false && el.hasAttribute("ry") === false) {
      const x3 = parseFloat(el.getAttribute("x") || "0");
      const y3 = parseFloat(el.getAttribute("y") || "0");
      const width = parseFloat(el.getAttribute("width") || "0");
      const height = parseFloat(el.getAttribute("height") || "0");
      if (isNaN(x3 - y3 + width - height))
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const pathData = `M${x3} ${y3}H${x3 + width}V${y3 + height}H${x3}z`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["x", "y", "width", "height"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_a = el.parentElement) == null ? void 0 : _a.replaceChild(pathEl, el);
    } else if (el instanceof SVGLineElement) {
      const x1 = parseFloat(el.getAttribute("x1") || "0");
      const x22 = parseFloat(el.getAttribute("x2") || "0");
      const y1 = parseFloat(el.getAttribute("y1") || "0");
      const y22 = parseFloat(el.getAttribute("y2") || "0");
      if (isNaN(x1 - y1 + x22 - y22))
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const pathData = `M${x1} ${y1}L${x22} ${y22}`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["x1", "y1", "x2", "y2"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_b = el.parentElement) == null ? void 0 : _b.replaceChild(pathEl, el);
    } else if ((el instanceof SVGPolylineElement || el instanceof SVGPolygonElement) && el.hasAttribute("points")) {
      const REGX_NUMBER = /[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?/g;
      const points = (_c = el.getAttribute("points")) != null ? _c : "";
      const coords = ((_d = points.match(REGX_NUMBER)) != null ? _d : []).map(Number);
      if (coords.length < 4)
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const [x3, y3] = coords.slice(0, 2);
      const remainingPoints = coords.slice(2).join(" ");
      const suffix = el instanceof SVGPolygonElement ? "z" : "";
      const pathData = `M${x3} ${y3}L${remainingPoints}${suffix}`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["points"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_e = el.parentElement) == null ? void 0 : _e.replaceChild(pathEl, el);
    }
  }

  // src/utils/crunchSvg.ts
  const params = {
    applyTransforms: true,
    applyTransformsStroked: true,
    makeArcs: {
      threshold: 2.5,
      tolerance: 0.5
    },
    straightCurves: true,
    lineShorthands: true,
    curveSmoothShorthands: true,
    floatPrecision: 1,
    transformPrecision: 5,
    removeUseless: true,
    collapseRepeated: true,
    utilizeAbsolute: true,
    leadingZero: true,
    negativeExtraSpace: true,
    noSpaceAfterFlags: true,
    forceAbsolutePath: false
  };
  let roundData;
  let precision;
  let error;
  let arcThreshold;
  let arcTolerance;
  let hasMarkerMid;
  let hasStrokeLinecap;
  function crunchSvg2(svg2) {
    for (const node of Array.from(svg2.querySelectorAll("*"))) {
      convertShapesToPath(node);
      optimiseElement(node);
    }
  }
  function optimiseElement(item) {
    precision = params.floatPrecision;
    if (item instanceof SVGPathElement && item.hasAttribute("d")) {
      error = precision !== false ? +Math.pow(0.1, precision).toFixed(precision) : 0.01;
      roundData = precision > 0 && precision < 20 ? strongRound : round;
      if (params.makeArcs) {
        arcThreshold = params.makeArcs.threshold;
        arcTolerance = params.makeArcs.tolerance;
      }
      hasMarkerMid = item.hasAttribute("marker-mid");
      const stroke = item.getAttribute("stroke");
      const strokeLinecap = item.getAttribute("stroke");
      hasStrokeLinecap = stroke && stroke != "none" && strokeLinecap && strokeLinecap != "butt";
      var data = path2js(item);
      if (data.length) {
        convertToRelative(data);
        data = filters(data, params);
        if (params.utilizeAbsolute) {
          data = convertToMixed(data, params);
        }
        js2path(item, data, params);
      }
    }
  }
  function convertToRelative(path2) {
    var point = [0, 0], subpathPoint = [0, 0], baseItem;
    path2.forEach(function(item, index) {
      var instruction = item.instruction, data = item.data;
      if (data) {
        if ("mcslqta".indexOf(instruction) > -1) {
          point[0] += data[data.length - 2];
          point[1] += data[data.length - 1];
          if (instruction === "m") {
            subpathPoint[0] = point[0];
            subpathPoint[1] = point[1];
            baseItem = item;
          }
        } else if (instruction === "h") {
          point[0] += data[0];
        } else if (instruction === "v") {
          point[1] += data[0];
        }
        if (instruction === "M") {
          if (index > 0)
            instruction = "m";
          data[0] -= point[0];
          data[1] -= point[1];
          subpathPoint[0] = point[0] += data[0];
          subpathPoint[1] = point[1] += data[1];
          baseItem = item;
        } else if ("LT".indexOf(instruction) > -1) {
          instruction = instruction.toLowerCase();
          data[0] -= point[0];
          data[1] -= point[1];
          point[0] += data[0];
          point[1] += data[1];
        } else if (instruction === "C") {
          instruction = "c";
          data[0] -= point[0];
          data[1] -= point[1];
          data[2] -= point[0];
          data[3] -= point[1];
          data[4] -= point[0];
          data[5] -= point[1];
          point[0] += data[4];
          point[1] += data[5];
        } else if ("SQ".indexOf(instruction) > -1) {
          instruction = instruction.toLowerCase();
          data[0] -= point[0];
          data[1] -= point[1];
          data[2] -= point[0];
          data[3] -= point[1];
          point[0] += data[2];
          point[1] += data[3];
        } else if (instruction === "A") {
          instruction = "a";
          data[5] -= point[0];
          data[6] -= point[1];
          point[0] += data[5];
          point[1] += data[6];
        } else if (instruction === "H") {
          instruction = "h";
          data[0] -= point[0];
          point[0] += data[0];
        } else if (instruction === "V") {
          instruction = "v";
          data[0] -= point[1];
          point[1] += data[0];
        }
        item.instruction = instruction;
        item.data = data;
        item.coords = point.slice(-2);
      } else if (instruction == "z") {
        if (baseItem) {
          item.coords = baseItem.coords;
        }
        point[0] = subpathPoint[0];
        point[1] = subpathPoint[1];
      }
      item.base = index > 0 ? path2[index - 1].coords : [0, 0];
    });
    return path2;
  }
  function filters(path2, params2) {
    var stringify = data2Path.bind(null, params2), relSubpoint = [0, 0], pathBase = [0, 0], prev = {};
    path2 = path2.filter(function(item, index, path3) {
      var instruction = item.instruction, data = item.data, next = path3[index + 1];
      if (data) {
        var sdata = data, circle;
        if (instruction === "s") {
          sdata = [0, 0].concat(data);
          if ("cs".indexOf(prev.instruction) > -1) {
            var pdata = prev.data, n4 = pdata.length;
            sdata[0] = pdata[n4 - 2] - pdata[n4 - 4];
            sdata[1] = pdata[n4 - 1] - pdata[n4 - 3];
          }
        }
        if (params2.makeArcs && (instruction == "c" || instruction == "s") && isConvex(sdata) && (circle = findCircle(sdata))) {
          var r3 = roundData([circle.radius])[0], angle = findArcAngle(sdata, circle), sweep = sdata[5] * sdata[0] - sdata[4] * sdata[1] > 0 ? 1 : 0, arc = {
            instruction: "a",
            data: [r3, r3, 0, 0, sweep, sdata[4], sdata[5]],
            coords: item.coords.slice(),
            base: item.base
          }, output = [arc], relCenter = [
            circle.center[0] - sdata[4],
            circle.center[1] - sdata[5]
          ], relCircle = {center: relCenter, radius: circle.radius}, arcCurves = [item], hasPrev = 0, suffix = "", nextLonghand;
          if (prev.instruction == "c" && isConvex(prev.data) && isArcPrev(prev.data, circle) || prev.instruction == "a" && prev.sdata && isArcPrev(prev.sdata, circle)) {
            arcCurves.unshift(prev);
            arc.base = prev.base;
            arc.data[5] = arc.coords[0] - arc.base[0];
            arc.data[6] = arc.coords[1] - arc.base[1];
            var prevData = prev.instruction == "a" ? prev.sdata : prev.data;
            var prevAngle = findArcAngle(prevData, {
              center: [
                prevData[4] + circle.center[0],
                prevData[5] + circle.center[1]
              ],
              radius: circle.radius
            });
            angle += prevAngle;
            if (angle > Math.PI)
              arc.data[3] = 1;
            hasPrev = 1;
          }
          for (var j3 = index; (next = path3[++j3]) && ~"cs".indexOf(next.instruction); ) {
            var nextData = next.data;
            if (next.instruction == "s") {
              nextLonghand = makeLonghand({instruction: "s", data: next.data.slice()}, path3[j3 - 1].data);
              nextData = nextLonghand.data;
              nextLonghand.data = nextData.slice(0, 2);
              suffix = stringify([nextLonghand]);
            }
            if (isConvex(nextData) && isArc(nextData, relCircle)) {
              angle += findArcAngle(nextData, relCircle);
              if (angle - 2 * Math.PI > 1e-3)
                break;
              if (angle > Math.PI)
                arc.data[3] = 1;
              arcCurves.push(next);
              if (2 * Math.PI - angle > 1e-3) {
                arc.coords = next.coords;
                arc.data[5] = arc.coords[0] - arc.base[0];
                arc.data[6] = arc.coords[1] - arc.base[1];
              } else {
                arc.data[5] = 2 * (relCircle.center[0] - nextData[4]);
                arc.data[6] = 2 * (relCircle.center[1] - nextData[5]);
                arc.coords = [
                  arc.base[0] + arc.data[5],
                  arc.base[1] + arc.data[6]
                ];
                arc = {
                  instruction: "a",
                  data: [
                    r3,
                    r3,
                    0,
                    0,
                    sweep,
                    next.coords[0] - arc.coords[0],
                    next.coords[1] - arc.coords[1]
                  ],
                  coords: next.coords,
                  base: arc.coords
                };
                output.push(arc);
                j3++;
                break;
              }
              relCenter[0] -= nextData[4];
              relCenter[1] -= nextData[5];
            } else
              break;
          }
          if ((stringify(output) + suffix).length < stringify(arcCurves).length) {
            if (path3[j3] && path3[j3].instruction == "s") {
              makeLonghand(path3[j3], path3[j3 - 1].data);
            }
            if (hasPrev) {
              var prevArc = output.shift();
              roundData(prevArc.data);
              relSubpoint[0] += prevArc.data[5] - prev.data[prev.data.length - 2];
              relSubpoint[1] += prevArc.data[6] - prev.data[prev.data.length - 1];
              prev.instruction = "a";
              prev.data = prevArc.data;
              item.base = prev.coords = prevArc.coords;
            }
            arc = output.shift();
            if (arcCurves.length == 1) {
              item.sdata = sdata.slice();
            } else if (arcCurves.length - 1 - hasPrev > 0) {
              path3.splice.apply(path3, [index + 1, arcCurves.length - 1 - hasPrev].concat(output));
            }
            if (!arc)
              return false;
            instruction = "a";
            data = arc.data;
            item.coords = arc.coords;
          }
        }
        if (precision !== false) {
          if ("mltqsc".indexOf(instruction) > -1) {
            for (var i4 = data.length; i4--; ) {
              data[i4] += item.base[i4 % 2] - relSubpoint[i4 % 2];
            }
          } else if (instruction == "h") {
            data[0] += item.base[0] - relSubpoint[0];
          } else if (instruction == "v") {
            data[0] += item.base[1] - relSubpoint[1];
          } else if (instruction == "a") {
            data[5] += item.base[0] - relSubpoint[0];
            data[6] += item.base[1] - relSubpoint[1];
          }
          roundData(data);
          if (instruction == "h")
            relSubpoint[0] += data[0];
          else if (instruction == "v")
            relSubpoint[1] += data[0];
          else {
            relSubpoint[0] += data[data.length - 2];
            relSubpoint[1] += data[data.length - 1];
          }
          roundData(relSubpoint);
          if (instruction.toLowerCase() == "m") {
            pathBase[0] = relSubpoint[0];
            pathBase[1] = relSubpoint[1];
          }
        }
        if (params2.straightCurves) {
          if (instruction === "c" && isCurveStraightLine(data) || instruction === "s" && isCurveStraightLine(sdata)) {
            if (next && next.instruction == "s")
              makeLonghand(next, data);
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "q" && isCurveStraightLine(data)) {
            if (next && next.instruction == "t")
              makeLonghand(next, data);
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "t" && prev.instruction !== "q" && prev.instruction !== "t") {
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "a" && (data[0] === 0 || data[1] === 0)) {
            instruction = "l";
            data = data.slice(-2);
          }
        }
        if (params2.lineShorthands && instruction === "l") {
          if (data[1] === 0) {
            instruction = "h";
            data.pop();
          } else if (data[0] === 0) {
            instruction = "v";
            data.shift();
          }
        }
        if (params2.collapseRepeated && !hasMarkerMid && "mhv".indexOf(instruction) > -1 && prev.instruction && instruction == prev.instruction.toLowerCase() && (instruction != "h" && instruction != "v" || prev.data[0] >= 0 == data[0] >= 0)) {
          prev.data[0] += data[0];
          if (instruction != "h" && instruction != "v") {
            prev.data[1] += data[1];
          }
          prev.coords = item.coords;
          path3[index] = prev;
          return false;
        }
        if (params2.curveSmoothShorthands && prev.instruction) {
          if (instruction === "c") {
            if (prev.instruction === "c" && data[0] === -(prev.data[2] - prev.data[4]) && data[1] === -(prev.data[3] - prev.data[5])) {
              instruction = "s";
              data = data.slice(2);
            } else if (prev.instruction === "s" && data[0] === -(prev.data[0] - prev.data[2]) && data[1] === -(prev.data[1] - prev.data[3])) {
              instruction = "s";
              data = data.slice(2);
            } else if ("cs".indexOf(prev.instruction) === -1 && data[0] === 0 && data[1] === 0) {
              instruction = "s";
              data = data.slice(2);
            }
          } else if (instruction === "q") {
            if (prev.instruction === "q" && data[0] === prev.data[2] - prev.data[0] && data[1] === prev.data[3] - prev.data[1]) {
              instruction = "t";
              data = data.slice(2);
            } else if (prev.instruction === "t" && data[2] === prev.data[0] && data[3] === prev.data[1]) {
              instruction = "t";
              data = data.slice(2);
            }
          }
        }
        if (params2.removeUseless && !hasStrokeLinecap) {
          if ("lhvqtcs".indexOf(instruction) > -1 && data.every(function(i5) {
            return i5 === 0;
          })) {
            path3[index] = prev;
            return false;
          }
          if (instruction === "a" && data[5] === 0 && data[6] === 0) {
            path3[index] = prev;
            return false;
          }
        }
        item.instruction = instruction;
        item.data = data;
        prev = item;
      } else {
        relSubpoint[0] = pathBase[0];
        relSubpoint[1] = pathBase[1];
        if (prev.instruction == "z")
          return false;
        prev = item;
      }
      return true;
    });
    return path2;
  }
  function convertToMixed(path2, params2) {
    var prev = path2[0];
    path2 = path2.filter(function(item, index) {
      if (index == 0)
        return true;
      if (!item.data) {
        prev = item;
        return true;
      }
      var instruction = item.instruction, data = item.data, adata = data && data.slice(0);
      if ("mltqsc".indexOf(instruction) > -1) {
        for (var i4 = adata.length; i4--; ) {
          adata[i4] += item.base[i4 % 2];
        }
      } else if (instruction == "h") {
        adata[0] += item.base[0];
      } else if (instruction == "v") {
        adata[0] += item.base[1];
      } else if (instruction == "a") {
        adata[5] += item.base[0];
        adata[6] += item.base[1];
      }
      roundData(adata);
      var absoluteDataStr = cleanupOutData(adata, params2), relativeDataStr = cleanupOutData(data, params2);
      if (params2.forceAbsolutePath || absoluteDataStr.length < relativeDataStr.length && !(params2.negativeExtraSpace && instruction == prev.instruction && prev.instruction.charCodeAt(0) > 96 && absoluteDataStr.length == relativeDataStr.length - 1 && (data[0] < 0 || /^0\./.test(data[0]) && prev.data[prev.data.length - 1] % 1))) {
        item.instruction = instruction.toUpperCase();
        item.data = adata;
      }
      prev = item;
      return true;
    });
    return path2;
  }
  function isConvex(data) {
    var center = getIntersection([
      0,
      0,
      data[2],
      data[3],
      data[0],
      data[1],
      data[4],
      data[5]
    ]);
    return center && data[2] < center[0] == center[0] < 0 && data[3] < center[1] == center[1] < 0 && data[4] < center[0] == center[0] < data[0] && data[5] < center[1] == center[1] < data[1];
  }
  function getIntersection(coords) {
    var a1 = coords[1] - coords[3], b1 = coords[2] - coords[0], c1 = coords[0] * coords[3] - coords[2] * coords[1], a22 = coords[5] - coords[7], b22 = coords[6] - coords[4], c22 = coords[4] * coords[7] - coords[5] * coords[6], denom = a1 * b22 - a22 * b1;
    if (!denom)
      return;
    var cross = [(b1 * c22 - b22 * c1) / denom, (a1 * c22 - a22 * c1) / -denom];
    if (!isNaN(cross[0]) && !isNaN(cross[1]) && isFinite(cross[0]) && isFinite(cross[1])) {
      return cross;
    }
  }
  function strongRound(data) {
    for (var i4 = data.length; i4-- > 0; ) {
      if (data[i4].toFixed(precision) != data[i4]) {
        var rounded = +data[i4].toFixed(precision - 1);
        data[i4] = +Math.abs(rounded - data[i4]).toFixed(precision + 1) >= error ? +data[i4].toFixed(precision) : rounded;
      }
    }
    return data;
  }
  function round(data) {
    for (var i4 = data.length; i4-- > 0; ) {
      data[i4] = Math.round(data[i4]);
    }
    return data;
  }
  function isCurveStraightLine(data) {
    var i4 = data.length - 2, a4 = -data[i4 + 1], b3 = data[i4], d3 = 1 / (a4 * a4 + b3 * b3);
    if (i4 <= 1 || !isFinite(d3))
      return false;
    while ((i4 -= 2) >= 0) {
      if (Math.sqrt(Math.pow(a4 * data[i4] + b3 * data[i4 + 1], 2) * d3) > error)
        return false;
    }
    return true;
  }
  function makeLonghand(item, data) {
    switch (item.instruction) {
      case "s":
        item.instruction = "c";
        break;
      case "t":
        item.instruction = "q";
        break;
    }
    item.data.unshift(data[data.length - 2] - data[data.length - 4], data[data.length - 1] - data[data.length - 3]);
    return item;
  }
  function getDistance(point1, point2) {
    return Math.hypot(point1[0] - point2[0], point1[1] - point2[1]);
  }
  function getCubicBezierPoint(curve, t3) {
    var sqrT = t3 * t3, cubT = sqrT * t3, mt = 1 - t3, sqrMt = mt * mt;
    return [
      3 * sqrMt * t3 * curve[0] + 3 * mt * sqrT * curve[2] + cubT * curve[4],
      3 * sqrMt * t3 * curve[1] + 3 * mt * sqrT * curve[3] + cubT * curve[5]
    ];
  }
  function findCircle(curve) {
    var midPoint = getCubicBezierPoint(curve, 1 / 2), m1 = [midPoint[0] / 2, midPoint[1] / 2], m22 = [(midPoint[0] + curve[4]) / 2, (midPoint[1] + curve[5]) / 2], center = getIntersection([
      m1[0],
      m1[1],
      m1[0] + m1[1],
      m1[1] - m1[0],
      m22[0],
      m22[1],
      m22[0] + (m22[1] - midPoint[1]),
      m22[1] - (m22[0] - midPoint[0])
    ]), radius = center && getDistance([0, 0], center), tolerance = Math.min(arcThreshold * error, arcTolerance * radius / 100);
    if (center && radius < 1e15 && [1 / 4, 3 / 4].every(function(point) {
      return Math.abs(getDistance(getCubicBezierPoint(curve, point), center) - radius) <= tolerance;
    }))
      return {center, radius};
  }
  function isArc(curve, circle) {
    var tolerance = Math.min(arcThreshold * error, arcTolerance * circle.radius / 100);
    return [0, 1 / 4, 1 / 2, 3 / 4, 1].every(function(point) {
      return Math.abs(getDistance(getCubicBezierPoint(curve, point), circle.center) - circle.radius) <= tolerance;
    });
  }
  function isArcPrev(curve, circle) {
    return isArc(curve, {
      center: [circle.center[0] + curve[4], circle.center[1] + curve[5]],
      radius: circle.radius
    });
  }
  function findArcAngle(curve, relCircle) {
    var x1 = -relCircle.center[0], y1 = -relCircle.center[1], x22 = curve[4] - relCircle.center[0], y22 = curve[5] - relCircle.center[1];
    return Math.acos((x1 * x22 + y1 * y22) / Math.sqrt((x1 * x1 + y1 * y1) * (x22 * x22 + y22 * y22)));
  }
  function data2Path(params2, pathData) {
    return pathData.reduce(function(pathString, item) {
      var strData = "";
      if (item.data) {
        strData = cleanupOutData(roundData(item.data.slice()), params2);
      }
      return pathString + item.instruction + strData;
    }, "");
  }

  // src/components/App.tsx
  class App extends m2 {
    constructor() {
      super(...arguments);
      this.state = {
        error: void 0,
        ready: false,
        frames: {},
        stage: STAGES.CHOOSE_FRAMES,
        previewIndex: 0,
        isResizing: false,
        mouseStartX: 0,
        mouseStartY: 0,
        windowWidth: INITIAL_UI_SIZE.width,
        windowHeight: INITIAL_UI_SIZE.height,
        responsive: true,
        headline: void 0,
        subhead: void 0,
        source: void 0,
        loading: false
      };
      this.updateInitialState = (data) => {
        const {frames, windowHeight, windowWidth, headline, subhead, source} = data;
        if (!Array.isArray(frames) || (frames == null ? void 0 : frames.length) < 1) {
          this.setState({error: "No frames!"});
          console.error("Post error: no frames", data);
          return;
        }
        const frameData = {};
        for (const frame of frames) {
          const {id} = frame;
          const rndId = Math.random().toString(32).substr(2);
          frameData[id] = __assign(__assign({}, frame), {uid: `f2h-${rndId}`, svgOptimised: false});
        }
        this.setState({
          frames: frameData,
          ready: true,
          windowWidth,
          windowHeight,
          headline,
          subhead,
          source
        });
      };
      this.compressImage = async (msg) => {
        try {
          const {image, width, height, uid} = msg;
          const imgData = await compressImage2(image, width, height);
          sendMessage(MSG_EVENTS.COMPRESSED_IMAGE, {image: imgData, uid});
        } catch (err) {
          console.error("UI failed to compress image", err);
          this.setState({error: "Failed to compress image"});
        }
      };
      this.handleRenderMessage = (data) => {
        const {frameId, svg: svg2} = data;
        if (!frameId || !svg2) {
          this.setState({error: "Failed to render", loading: false});
          console.error("Post message: failed to render", data);
          return;
        }
        const {frames} = this.state;
        const svgStr = decodeSvgToString(svg2);
        const cloneFrames = JSON.parse(JSON.stringify(frames));
        cloneFrames[frameId].svg = svgStr;
        this.setState({frames: cloneFrames, loading: false});
      };
      this.handleEvents = (data) => {
        console.log("UI post", data);
        switch (data.type) {
          case MSG_EVENTS.FOUND_FRAMES:
            this.updateInitialState(data);
            break;
          case MSG_EVENTS.NO_FRAMES:
            this.setState({error: UI_TEXT.ERROR_MISSING_FRAMES});
            break;
          case MSG_EVENTS.ERROR:
            console.error("UI post message error", data);
            this.setState({
              error: `${UI_TEXT.ERROR_UNEXPECTED}: ${data.errorText}`
            });
            break;
          case MSG_EVENTS.RENDER:
            this.handleRenderMessage(data);
            break;
          case MSG_EVENTS.COMPRESS_IMAGE:
            this.compressImage(data).catch((err) => {
              console.error("UI compress image event", err);
              this.setState({
                error: err instanceof Error ? err.message : "Compress images failed"
              });
            });
            break;
          default:
            this.setState({error: "Unknown post message"});
            console.error("UI post message error", data);
            break;
        }
      };
      this.goNext = () => {
        const {stage, previewIndex, frames} = this.state;
        const {length} = Object.values(frames).filter((f4) => f4.selected);
        if (length === 0) {
          return;
        }
        const nextIndex = previewIndex + 1;
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return this.setState({stage: STAGES.PREVIEW_OUTPUT});
          case STAGES.PREVIEW_OUTPUT:
            if (length === nextIndex) {
              return this.setState({stage: STAGES.RESPONSIVE_PREVIEW});
            } else {
              return this.setState({previewIndex: nextIndex});
            }
          case STAGES.RESPONSIVE_PREVIEW:
            return this.setState({stage: STAGES.SAVE_OUTPUT});
          case STAGES.SAVE_OUTPUT:
            return;
        }
      };
      this.goBack = () => {
        const {stage, previewIndex} = this.state;
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return;
          case STAGES.PREVIEW_OUTPUT:
            if (previewIndex === 0) {
              this.setState({stage: STAGES.CHOOSE_FRAMES});
            } else {
              this.setState({previewIndex: previewIndex - 1});
            }
            return;
          case STAGES.RESPONSIVE_PREVIEW:
            return this.setState({stage: STAGES.PREVIEW_OUTPUT});
          case STAGES.SAVE_OUTPUT:
            return this.setState({stage: STAGES.RESPONSIVE_PREVIEW});
        }
      };
      this.getOutputRender = (frameId) => {
        this.setState({loading: true});
        sendMessage(MSG_EVENTS.RENDER, {frameId});
      };
      this.toggleProp = (id, prop) => {
        const {frames} = this.state;
        const cloneFrames = JSON.parse(JSON.stringify(frames));
        cloneFrames[id][prop] = !cloneFrames[id][prop];
        this.setState({frames: cloneFrames});
      };
      this.toggleFrameSelect = (id) => this.toggleProp(id, "selected");
      this.toggleResonsive = (id) => this.toggleProp(id, "responsive");
      this.toggleOptimised = (id) => {
        const {frames} = this.state;
        const {svgCompressed, svg: svg2, svgOptimised} = frames[id];
        if (svg2 && !svgOptimised && !svgCompressed) {
          const el = document.createElement("div");
          el.innerHTML = svg2;
          const svgEl = el.querySelector("svg");
          if (!svgEl) {
            console.error("Missing SVG in SVG string");
            return;
          }
          crunchSvg2(svgEl);
          const cloneFrames = JSON.parse(JSON.stringify(frames));
          cloneFrames[id].svgCompressed = svgEl.outerHTML;
          cloneFrames[id].svgOptimised = true;
          this.setState({frames: cloneFrames});
        } else {
          this.toggleProp(id, "svgOptimised");
        }
      };
      this.toggleAllProp = (propName) => {
        const {frames} = this.state;
        const shouldDeselectAll = Object.values(frames).some((frame) => frame[propName]);
        const draftState = immer_esm_default(this.state, (draftState2) => {
          Object.values(draftState2.frames).forEach((frame) => frame[propName] = !shouldDeselectAll);
        });
        this.setState(draftState);
      };
      this.toggleSelectAll = () => this.toggleAllProp("selected");
      this.toggleResponsiveAll = () => this.toggleAllProp("responsive");
      this.handleFormUpdate = (props) => {
        this.setState(__assign({}, props));
        sendMessage(MSG_EVENTS.UPDATE_HEADLINES, props);
      };
      this.switchView = () => {
        const {frames, stage, previewIndex, windowHeight, windowWidth, headline, subhead, source, loading} = this.state;
        const framesArr = Object.values(frames).sort((a4, b3) => a4.width <= b3.width ? -1 : 1);
        const selectedFrames = framesArr.filter((frame) => frame.selected);
        if (stage === STAGES.PREVIEW_OUTPUT && !selectedFrames[previewIndex].svg && loading === false) {
          this.getOutputRender(selectedFrames[previewIndex].id);
        }
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return h2(FrameSelection2, {
              frames: framesArr,
              handleClick: this.toggleFrameSelect,
              toggleResonsive: this.toggleResonsive,
              toggleSelectAll: this.toggleSelectAll,
              toggleResponsiveAll: this.toggleResponsiveAll,
              headline,
              subhead,
              source,
              handleFormUpdate: this.handleFormUpdate
            });
          case STAGES.PREVIEW_OUTPUT:
            return h2(Preview2, {
              frame: selectedFrames[previewIndex],
              windowHeight,
              windowWidth
            });
          case STAGES.RESPONSIVE_PREVIEW:
            return h2(ResponsiveView2, {
              windowHeight,
              windowWidth,
              frames: selectedFrames,
              headline,
              subhead,
              source
            });
          case STAGES.SAVE_OUTPUT:
            return h2(Save2, {
              frames: selectedFrames,
              headline,
              subhead,
              source
            });
          default:
            return h2("div", null, "Loading...");
        }
      };
    }
    componentDidMount() {
      window.addEventListener("message", (e3) => this.handleEvents(e3.data.pluginMessage));
      sendMessage(MSG_EVENTS.DOM_READY);
    }
    render() {
      const {version} = this.props;
      const {error: error2, frames, stage, previewIndex, loading} = this.state;
      const selectedFrame = Object.values(frames)[previewIndex];
      console.log(this.state);
      return h2("div", {
        className: "f2h"
      }, h2(Header2, {
        stage,
        handleBackClick: this.goBack,
        handleNextClick: this.goNext,
        disableNext: loading || stage === STAGES.SAVE_OUTPUT,
        frame: selectedFrame,
        handleOptimseClick: this.toggleOptimised
      }), h2("div", {
        className: "f2h__body"
      }, error2 ? h2("div", {
        className: "error"
      }, error2) : this.switchView()), h2("p", {
        className: "f2h__version"
      }, "Version: ", version));
    }
  }

  // src/ui.tsx
  const ui = __toModule(require_ui());
  const fonts2 = __toModule(require_fonts());
  const embed2 = __toModule(require_embed());
  const VERSION = "alpha-0.1";
  injectCss(ui.default);
  injectCss(embed2.default);
  injectCss(fonts2.default);
  H2(h2(App, {
    version: VERSION
  }), document.body);
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2VtYmVkLmNzcyIsICJzcmMvZm9udHMuY3NzIiwgIm5vZGVfbW9kdWxlcy9maWxlLXNhdmVyL2Rpc3QvRmlsZVNhdmVyLm1pbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJlc3NvcmpzL2Rpc3QvY29tcHJlc3Nvci5qcyIsICJzcmMvdWkuY3NzIiwgIm5vZGVfbW9kdWxlcy9wcmVhY3QvZGlzdC9wcmVhY3QubW9kdWxlLmpzIiwgInNyYy91dGlscy9jc3MudHMiLCAibm9kZV9tb2R1bGVzL2ltbWVyL2Rpc3QvaW1tZXIuZXNtLmpzIiwgInNyYy9jb25zdGFudHMudHMiLCAic3JjL2NvbXBvbmVudHMvSGVhZGVyLnRzeCIsICJub2RlX21vZHVsZXMvcHJlYWN0LXJlbmRlci10by1zdHJpbmcvZGlzdC9pbmRleC5tb2R1bGUuanMiLCAic3JjL291dHB1dFJlbmRlci50c3giLCAic3JjL2NvbXBvbmVudHMvUmVzcG9uc2l2ZVZpZXcudHN4IiwgInNyYy9jb21wb25lbnRzL0ZyYW1lU2VsZWN0aW9uLnRzeCIsICJzcmMvY29tcG9uZW50cy9QcmV2aWV3LnRzeCIsICJzcmMvY29tcG9uZW50cy9TYXZlLnRzeCIsICJzcmMvdXRpbHMvc3ZnLnRzIiwgInNyYy91dGlscy9jb21wcmVzc0ltYWdlLnRzIiwgInNyYy91dGlscy9tZXNzYWdlcy50cyIsICJzcmMvdXRpbHMvbGliL3Rvb2xzLnRzIiwgInNyYy91dGlscy9saWIvcGF0aC50cyIsICJzcmMvdXRpbHMvbGliL3NoYXBlVG9QYXRoLnRzIiwgInNyYy91dGlscy9jcnVuY2hTdmcudHMiLCAic3JjL2NvbXBvbmVudHMvQXBwLnRzeCIsICJzcmMvdWkudHN4Il0sCiAgInNvdXJjZXNDb250ZW50IjogWyJodG1sLFxuYm9keSB7XG4gIG1hcmdpbjogMDtcbn1cblxuLmYyaF9fdGV4dCB7XG4gIG1hcmdpbjogMDtcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAvKiB3aGl0ZS1zcGFjZTogcHJlOyAqL1xuXG4gIC8qIERFQlVHICovXG4gIC8qIGNvbG9yOiByZ2JhKDI1NSwgMCwgMCwgMC4zNCkgIWltcG9ydGFudDsgKi9cbn1cblxuLmYyaF9fcmVuZGVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uZjJoX19yZW5kZXIgc3ZnIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogMDtcbn1cblxuLmYyaF9fcmVuZGVyIHN2ZyB0ZXh0IHtcbiAgLyogREVCVUcgKi9cbiAgZGlzcGxheTogbm9uZTtcbn1cblxuLmYyaF9fcmVuZGVyLS1yZXNwb25zaXZlIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5mMmhfX3JlbmRlci0tcmVzcG9uc2l2ZSBzdmcge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiBhdXRvO1xufVxuXG4uZjJoX2hlYWRsaW5lIHtcbiAgZm9udC1mYW1pbHk6IFwiQXVzdGluIE5ld3MgRGVjayBTZW1pYm9sZFwiLCBHZW9yZ2lhLCBcIlRpbWVzIE5ldyBSb21hblwiLCBUaW1lcywgc2VyaWY7XG4gIGZvbnQtc2l6ZTogMjJweDtcbiAgY29sb3I6ICMzMzM7XG4gIG1hcmdpbjogMDtcbiAgbGluZS1oZWlnaHQ6IDEuMztcbn1cbi5mMmhfc3ViYmhlYWQge1xuICBmb250LWZhbWlseTogXCJBdXN0aW4gTmV3cyBUZXh0IFJvbWFuXCIsIEdlb3JnaWEsIFwiVGltZXMgTmV3IFJvbWFuXCIsIFRpbWVzLCBzZXJpZjtcbiAgZm9udC1zaXplOiAxN3B4O1xuICBjb2xvcjogIzMzMztcbiAgbWFyZ2luOiAwO1xuICBsaW5lLWhlaWdodDogMS41O1xufVxuLmYyaF9oZWFkZXIge1xuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xufVxuXG4uZjJoX3NvdXJjZSB7XG4gIGZvbnQtZmFtaWx5OiBcIlRlbGVzYW5zIFRleHQgUmVndWxhclwiLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjOTk5O1xuICBtYXJnaW46IDEycHggMCAwO1xufVxuIiwgIkBmb250LWZhY2Uge1xuICBmb250LWZhbWlseTogXCJBdXN0aW4gTmV3cyBEZWNrIFNlbWlib2xkXCI7XG4gIHNyYzogdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItU2VtaWJvbGQud29mZjJcIikgZm9ybWF0KFwid29mZjJcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItU2VtaWJvbGQud29mZlwiKSBmb3JtYXQoXCJ3b2ZmXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIERlY2sgV2ViLVNlbWlib2xkLnR0ZlwiKSBmb3JtYXQoXCJ0cnVldHlwZVwiKTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgZm9udC1kaXNwbGF5OiBcInN3YXBcIjtcbn1cbkBmb250LWZhY2Uge1xuICBmb250LWZhbWlseTogXCJBdXN0aW4gTmV3cyBEZWNrIE1lZGl1bVwiO1xuICBzcmM6IHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIERlY2sgV2ViLU1lZGl1bS53b2ZmMlwiKSBmb3JtYXQoXCJ3b2ZmMlwiKSxcbiAgICB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9BdXN0aW4gTmV3cyBEZWNrIFdlYi1NZWRpdW0ud29mZlwiKSBmb3JtYXQoXCJ3b2ZmXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIERlY2sgV2ViLU1lZGl1bS50dGZcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIik7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG4gIGZvbnQtZGlzcGxheTogXCJzd2FwXCI7XG59XG5AZm9udC1mYWNlIHtcbiAgZm9udC1mYW1pbHk6IFwiQXVzdGluIE5ld3MgRGVjayBSb21hblwiO1xuICBzcmM6IHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIERlY2sgV2ViLVJvbWFuLndvZmYyXCIpIGZvcm1hdChcIndvZmYyXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIERlY2sgV2ViLVJvbWFuLndvZmZcIikgZm9ybWF0KFwid29mZlwiKSxcbiAgICB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9BdXN0aW4gTmV3cyBEZWNrIFdlYi1Sb21hbi50dGZcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIik7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGZvbnQtZGlzcGxheTogXCJzd2FwXCI7XG59XG5cbkBmb250LWZhY2Uge1xuICBmb250LWZhbWlseTogXCJBdXN0aW4gTmV3cyBUZXh0IFJvbWFuXCI7XG4gIHNyYzogdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgVGV4dCBXZWItUm9tYW4ud29mZjJcIikgZm9ybWF0KFwid29mZjJcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgVGV4dCBXZWItUm9tYW4ud29mZlwiKSBmb3JtYXQoXCJ3b2ZmXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIFRleHQgV2ViLVJvbWFuLnR0ZlwiKSBmb3JtYXQoXCJ0cnVldHlwZVwiKTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgZm9udC1kaXNwbGF5OiBcInN3YXBcIjtcbn1cbkBmb250LWZhY2Uge1xuICBmb250LWZhbWlseTogXCJUZWxlc2FucyBUZXh0IFJlZ3VsYXJcIjtcbiAgc3JjOiB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9UZWxlc2FucyBUZXh0IFdlYi1SZWd1bGFyLndvZmYyXCIpIGZvcm1hdChcIndvZmYyXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL1RlbGVzYW5zIFRleHQgV2ViLVJlZ3VsYXIud29mZlwiKSBmb3JtYXQoXCJ3b2ZmXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL1RlbGVzYW5zIFRleHQgV2ViLVJlZ3VsYXIudHRmXCIpIGZvcm1hdChcInRydWV0eXBlXCIpO1xuICBmb250LXdlaWdodDogNDAwO1xuICBmb250LWRpc3BsYXk6IFwic3dhcFwiO1xufVxuQGZvbnQtZmFjZSB7XG4gIGZvbnQtZmFtaWx5OiBcIlRlbGVzYW5zIEFnYXRlIFJlZ3VsYXJcIjtcbiAgZm9udC1zdHlsZTogXCJub3JtYWxcIjtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgc3JjOiB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9UZWxlc2Fuc0FnYXRlLU1lZGl1bS53b2ZmXCIpIGZvcm1hdChcIndvZmZcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvVGVsZXNhbnNBZ2F0ZS1NZWRpdW0udHRmXCIpIGZvcm1hdChcInRydWV0eXBlXCIpO1xufVxuIiwgIihmdW5jdGlvbihhLGIpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sYik7ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cyliKCk7ZWxzZXtiKCksYS5GaWxlU2F2ZXI9e2V4cG9ydHM6e319LmV4cG9ydHN9fSkodGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSxiKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYj9iPXthdXRvQm9tOiExfTpcIm9iamVjdFwiIT10eXBlb2YgYiYmKGNvbnNvbGUud2FybihcIkRlcHJlY2F0ZWQ6IEV4cGVjdGVkIHRoaXJkIGFyZ3VtZW50IHRvIGJlIGEgb2JqZWN0XCIpLGI9e2F1dG9Cb206IWJ9KSxiLmF1dG9Cb20mJi9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGEudHlwZSk/bmV3IEJsb2IoW1wiXFx1RkVGRlwiLGFdLHt0eXBlOmEudHlwZX0pOmF9ZnVuY3Rpb24gYyhiLGMsZCl7dmFyIGU9bmV3IFhNTEh0dHBSZXF1ZXN0O2Uub3BlbihcIkdFVFwiLGIpLGUucmVzcG9uc2VUeXBlPVwiYmxvYlwiLGUub25sb2FkPWZ1bmN0aW9uKCl7YShlLnJlc3BvbnNlLGMsZCl9LGUub25lcnJvcj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJjb3VsZCBub3QgZG93bmxvYWQgZmlsZVwiKX0sZS5zZW5kKCl9ZnVuY3Rpb24gZChhKXt2YXIgYj1uZXcgWE1MSHR0cFJlcXVlc3Q7Yi5vcGVuKFwiSEVBRFwiLGEsITEpO3RyeXtiLnNlbmQoKX1jYXRjaChhKXt9cmV0dXJuIDIwMDw9Yi5zdGF0dXMmJjI5OT49Yi5zdGF0dXN9ZnVuY3Rpb24gZShhKXt0cnl7YS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIikpfWNhdGNoKGMpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7Yi5pbml0TW91c2VFdmVudChcImNsaWNrXCIsITAsITAsd2luZG93LDAsMCwwLDgwLDIwLCExLCExLCExLCExLDAsbnVsbCksYS5kaXNwYXRjaEV2ZW50KGIpfX12YXIgZj1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cud2luZG93PT09d2luZG93P3dpbmRvdzpcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZi5zZWxmPT09c2VsZj9zZWxmOlwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWwmJmdsb2JhbC5nbG9iYWw9PT1nbG9iYWw/Z2xvYmFsOnZvaWQgMCxhPWYuc2F2ZUFzfHwoXCJvYmplY3RcIiE9dHlwZW9mIHdpbmRvd3x8d2luZG93IT09Zj9mdW5jdGlvbigpe306XCJkb3dubG9hZFwiaW4gSFRNTEFuY2hvckVsZW1lbnQucHJvdG90eXBlP2Z1bmN0aW9uKGIsZyxoKXt2YXIgaT1mLlVSTHx8Zi53ZWJraXRVUkwsaj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtnPWd8fGIubmFtZXx8XCJkb3dubG9hZFwiLGouZG93bmxvYWQ9ZyxqLnJlbD1cIm5vb3BlbmVyXCIsXCJzdHJpbmdcIj09dHlwZW9mIGI/KGouaHJlZj1iLGoub3JpZ2luPT09bG9jYXRpb24ub3JpZ2luP2Uoaik6ZChqLmhyZWYpP2MoYixnLGgpOmUoaixqLnRhcmdldD1cIl9ibGFua1wiKSk6KGouaHJlZj1pLmNyZWF0ZU9iamVjdFVSTChiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5yZXZva2VPYmplY3RVUkwoai5ocmVmKX0sNEU0KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShqKX0sMCkpfTpcIm1zU2F2ZU9yT3BlbkJsb2JcImluIG5hdmlnYXRvcj9mdW5jdGlvbihmLGcsaCl7aWYoZz1nfHxmLm5hbWV8fFwiZG93bmxvYWRcIixcInN0cmluZ1wiIT10eXBlb2YgZiluYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihiKGYsaCksZyk7ZWxzZSBpZihkKGYpKWMoZixnLGgpO2Vsc2V7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7aS5ocmVmPWYsaS50YXJnZXQ9XCJfYmxhbmtcIixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShpKX0pfX06ZnVuY3Rpb24oYSxiLGQsZSl7aWYoZT1lfHxvcGVuKFwiXCIsXCJfYmxhbmtcIiksZSYmKGUuZG9jdW1lbnQudGl0bGU9ZS5kb2N1bWVudC5ib2R5LmlubmVyVGV4dD1cImRvd25sb2FkaW5nLi4uXCIpLFwic3RyaW5nXCI9PXR5cGVvZiBhKXJldHVybiBjKGEsYixkKTt2YXIgZz1cImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiPT09YS50eXBlLGg9L2NvbnN0cnVjdG9yL2kudGVzdChmLkhUTUxFbGVtZW50KXx8Zi5zYWZhcmksaT0vQ3JpT1NcXC9bXFxkXSsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7aWYoKGl8fGcmJmgpJiZcIm9iamVjdFwiPT10eXBlb2YgRmlsZVJlYWRlcil7dmFyIGo9bmV3IEZpbGVSZWFkZXI7ai5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXt2YXIgYT1qLnJlc3VsdDthPWk/YTphLnJlcGxhY2UoL15kYXRhOlteO10qOy8sXCJkYXRhOmF0dGFjaG1lbnQvZmlsZTtcIiksZT9lLmxvY2F0aW9uLmhyZWY9YTpsb2NhdGlvbj1hLGU9bnVsbH0sai5yZWFkQXNEYXRhVVJMKGEpfWVsc2V7dmFyIGs9Zi5VUkx8fGYud2Via2l0VVJMLGw9ay5jcmVhdGVPYmplY3RVUkwoYSk7ZT9lLmxvY2F0aW9uPWw6bG9jYXRpb24uaHJlZj1sLGU9bnVsbCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ay5yZXZva2VPYmplY3RVUkwobCl9LDRFNCl9fSk7Zi5zYXZlQXM9YS5zYXZlQXM9YSxcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiYobW9kdWxlLmV4cG9ydHM9YSl9KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsZVNhdmVyLm1pbi5qcy5tYXAiLCAiLyohXG4gKiBDb21wcmVzc29yLmpzIHYxLjAuNlxuICogaHR0cHM6Ly9mZW5neXVhbmNoZW4uZ2l0aHViLmlvL2NvbXByZXNzb3Jqc1xuICpcbiAqIENvcHlyaWdodCAyMDE4LXByZXNlbnQgQ2hlbiBGZW5neXVhblxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKlxuICogRGF0ZTogMjAxOS0xMS0yM1QwNDo0MzoxMi40NDJaXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5Db21wcmVzc29yID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfTtcblxuICAgIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuICAgICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgIH0pO1xuICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgICBpZiAoaSAlIDIpIHtcbiAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG4gIFx0cmV0dXJuIG1vZHVsZSA9IHsgZXhwb3J0czoge30gfSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xuICB9XG5cbiAgdmFyIGNhbnZhc1RvQmxvYiA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAoZnVuY3Rpb24gKHdpbmRvdykge1xuXG4gICAgICB2YXIgQ2FudmFzUHJvdG90eXBlID0gd2luZG93LkhUTUxDYW52YXNFbGVtZW50ICYmIHdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGU7XG5cbiAgICAgIHZhciBoYXNCbG9iQ29uc3RydWN0b3IgPSB3aW5kb3cuQmxvYiAmJiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEJvb2xlYW4obmV3IEJsb2IoKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0oKTtcblxuICAgICAgdmFyIGhhc0FycmF5QnVmZmVyVmlld1N1cHBvcnQgPSBoYXNCbG9iQ29uc3RydWN0b3IgJiYgd2luZG93LlVpbnQ4QXJyYXkgJiYgZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoMTAwKV0pLnNpemUgPT09IDEwMDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSgpO1xuXG4gICAgICB2YXIgQmxvYkJ1aWxkZXIgPSB3aW5kb3cuQmxvYkJ1aWxkZXIgfHwgd2luZG93LldlYktpdEJsb2JCdWlsZGVyIHx8IHdpbmRvdy5Nb3pCbG9iQnVpbGRlciB8fCB3aW5kb3cuTVNCbG9iQnVpbGRlcjtcbiAgICAgIHZhciBkYXRhVVJJUGF0dGVybiA9IC9eZGF0YTooKC4qPykoO2NoYXJzZXQ9Lio/KT8pKDtiYXNlNjQpPywvO1xuXG4gICAgICB2YXIgZGF0YVVSTHRvQmxvYiA9IChoYXNCbG9iQ29uc3RydWN0b3IgfHwgQmxvYkJ1aWxkZXIpICYmIHdpbmRvdy5hdG9iICYmIHdpbmRvdy5BcnJheUJ1ZmZlciAmJiB3aW5kb3cuVWludDhBcnJheSAmJiBmdW5jdGlvbiAoZGF0YVVSSSkge1xuICAgICAgICB2YXIgbWF0Y2hlcywgbWVkaWFUeXBlLCBpc0Jhc2U2NCwgZGF0YVN0cmluZywgYnl0ZVN0cmluZywgYXJyYXlCdWZmZXIsIGludEFycmF5LCBpLCBiYjsgLy8gUGFyc2UgdGhlIGRhdGFVUkkgY29tcG9uZW50cyBhcyBwZXIgUkZDIDIzOTdcblxuICAgICAgICBtYXRjaGVzID0gZGF0YVVSSS5tYXRjaChkYXRhVVJJUGF0dGVybik7XG5cbiAgICAgICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGRhdGEgVVJJJyk7XG4gICAgICAgIH0gLy8gRGVmYXVsdCB0byB0ZXh0L3BsYWluO2NoYXJzZXQ9VVMtQVNDSUlcblxuXG4gICAgICAgIG1lZGlhVHlwZSA9IG1hdGNoZXNbMl0gPyBtYXRjaGVzWzFdIDogJ3RleHQvcGxhaW4nICsgKG1hdGNoZXNbM10gfHwgJztjaGFyc2V0PVVTLUFTQ0lJJyk7XG4gICAgICAgIGlzQmFzZTY0ID0gISFtYXRjaGVzWzRdO1xuICAgICAgICBkYXRhU3RyaW5nID0gZGF0YVVSSS5zbGljZShtYXRjaGVzWzBdLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKGlzQmFzZTY0KSB7XG4gICAgICAgICAgLy8gQ29udmVydCBiYXNlNjQgdG8gcmF3IGJpbmFyeSBkYXRhIGhlbGQgaW4gYSBzdHJpbmc6XG4gICAgICAgICAgYnl0ZVN0cmluZyA9IGF0b2IoZGF0YVN0cmluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQ29udmVydCBiYXNlNjQvVVJMRW5jb2RlZCBkYXRhIGNvbXBvbmVudCB0byByYXcgYmluYXJ5OlxuICAgICAgICAgIGJ5dGVTdHJpbmcgPSBkZWNvZGVVUklDb21wb25lbnQoZGF0YVN0cmluZyk7XG4gICAgICAgIH0gLy8gV3JpdGUgdGhlIGJ5dGVzIG9mIHRoZSBzdHJpbmcgdG8gYW4gQXJyYXlCdWZmZXI6XG5cblxuICAgICAgICBhcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihieXRlU3RyaW5nLmxlbmd0aCk7XG4gICAgICAgIGludEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgaW50QXJyYXlbaV0gPSBieXRlU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH0gLy8gV3JpdGUgdGhlIEFycmF5QnVmZmVyIChvciBBcnJheUJ1ZmZlclZpZXcpIHRvIGEgYmxvYjpcblxuXG4gICAgICAgIGlmIChoYXNCbG9iQ29uc3RydWN0b3IpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEJsb2IoW2hhc0FycmF5QnVmZmVyVmlld1N1cHBvcnQgPyBpbnRBcnJheSA6IGFycmF5QnVmZmVyXSwge1xuICAgICAgICAgICAgdHlwZTogbWVkaWFUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBiYiA9IG5ldyBCbG9iQnVpbGRlcigpO1xuICAgICAgICBiYi5hcHBlbmQoYXJyYXlCdWZmZXIpO1xuICAgICAgICByZXR1cm4gYmIuZ2V0QmxvYihtZWRpYVR5cGUpO1xuICAgICAgfTtcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudCAmJiAhQ2FudmFzUHJvdG90eXBlLnRvQmxvYikge1xuICAgICAgICBpZiAoQ2FudmFzUHJvdG90eXBlLm1vekdldEFzRmlsZSkge1xuICAgICAgICAgIENhbnZhc1Byb3RvdHlwZS50b0Jsb2IgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHR5cGUsIHF1YWxpdHkpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBpZiAocXVhbGl0eSAmJiBDYW52YXNQcm90b3R5cGUudG9EYXRhVVJMICYmIGRhdGFVUkx0b0Jsb2IpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhVVJMdG9CbG9iKHNlbGYudG9EYXRhVVJMKHR5cGUsIHF1YWxpdHkpKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soc2VsZi5tb3pHZXRBc0ZpbGUoJ2Jsb2InLCB0eXBlKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoQ2FudmFzUHJvdG90eXBlLnRvRGF0YVVSTCAmJiBkYXRhVVJMdG9CbG9iKSB7XG4gICAgICAgICAgQ2FudmFzUHJvdG90eXBlLnRvQmxvYiA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdHlwZSwgcXVhbGl0eSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGFVUkx0b0Jsb2Ioc2VsZi50b0RhdGFVUkwodHlwZSwgcXVhbGl0eSkpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGRhdGFVUkx0b0Jsb2I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuZGF0YVVSTHRvQmxvYiA9IGRhdGFVUkx0b0Jsb2I7XG4gICAgICB9XG4gICAgfSkod2luZG93KTtcbiAgfSk7XG5cbiAgdmFyIGlzQmxvYiA9IGZ1bmN0aW9uIGlzQmxvYihpbnB1dCkge1xuICAgIGlmICh0eXBlb2YgQmxvYiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBCbG9iIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEJsb2JdJztcbiAgfTtcblxuICB2YXIgREVGQVVMVFMgPSB7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIG91dHB1dCB0aGUgb3JpZ2luYWwgaW1hZ2UgaW5zdGVhZCBvZiB0aGUgY29tcHJlc3NlZCBvbmVcbiAgICAgKiB3aGVuIHRoZSBzaXplIG9mIHRoZSBjb21wcmVzc2VkIGltYWdlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgb3JpZ2luYWwgb25lJ3NcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdHJpY3Q6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgcmVhZCB0aGUgaW1hZ2UncyBFeGlmIE9yaWVudGF0aW9uIGluZm9ybWF0aW9uLFxuICAgICAqIGFuZCB0aGVuIHJvdGF0ZSBvciBmbGlwIHRoZSBpbWFnZSBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIGNoZWNrT3JpZW50YXRpb246IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBtYXhXaWR0aDogSW5maW5pdHksXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4IGhlaWdodCBvZiB0aGUgb3V0cHV0IGltYWdlLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgbWF4SGVpZ2h0OiBJbmZpbml0eSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBtaW4gd2lkdGggb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIG1pbldpZHRoOiAwLFxuXG4gICAgLyoqXG4gICAgICogVGhlIG1pbiBoZWlnaHQgb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIG1pbkhlaWdodDogMCxcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3V0cHV0IGltYWdlLlxuICAgICAqIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBuYXR1cmFsIHdpZHRoIG9mIHRoZSBzb3VyY2UgaW1hZ2Ugd2lsbCBiZSB1c2VkLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgd2lkdGg6IHVuZGVmaW5lZCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgbmF0dXJhbCBoZWlnaHQgb2YgdGhlIHNvdXJjZSBpbWFnZSB3aWxsIGJlIHVzZWQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBoZWlnaHQ6IHVuZGVmaW5lZCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBxdWFsaXR5IG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogSXQgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgYDFgLFxuICAgICAqIGFuZCBvbmx5IGF2YWlsYWJsZSBmb3IgYGltYWdlL2pwZWdgIGFuZCBgaW1hZ2Uvd2VicGAgaW1hZ2VzLlxuICAgICAqIENoZWNrIG91dCB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L3RvQmxvYiBjYW52YXMudG9CbG9ifS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHF1YWxpdHk6IDAuOCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBtaW1lIHR5cGUgb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgb3JpZ2luYWwgbWltZSB0eXBlIG9mIHRoZSBzb3VyY2UgaW1hZ2UgZmlsZSB3aWxsIGJlIHVzZWQuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBtaW1lVHlwZTogJ2F1dG8nLFxuXG4gICAgLyoqXG4gICAgICogUE5HIGZpbGVzIG92ZXIgdGhpcyB2YWx1ZSAoNSBNQiBieSBkZWZhdWx0KSB3aWxsIGJlIGNvbnZlcnRlZCB0byBKUEVHcy5cbiAgICAgKiBUbyBkaXNhYmxlIHRoaXMsIGp1c3Qgc2V0IHRoZSB2YWx1ZSB0byBgSW5maW5pdHlgLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgY29udmVydFNpemU6IDUwMDAwMDAsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgaG9vayBmdW5jdGlvbiB0byBleGVjdXRlIGJlZm9yZSBkcmF3IHRoZSBpbWFnZSBpbnRvIHRoZSBjYW52YXMgZm9yIGNvbXByZXNzaW9uLlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCAtIFRoZSAyZCByZW5kZXJpbmcgY29udGV4dCBvZiB0aGUgY2FudmFzLlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIFRoZSBjYW52YXMgZm9yIGNvbXByZXNzaW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogZnVuY3Rpb24gKGNvbnRleHQsIGNhbnZhcykge1xuICAgICAqICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2ZmZic7XG4gICAgICogfVxuICAgICAqL1xuICAgIGJlZm9yZURyYXc6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgaG9vayBmdW5jdGlvbiB0byBleGVjdXRlIGFmdGVyIGRyZXcgdGhlIGltYWdlIGludG8gdGhlIGNhbnZhcyBmb3IgY29tcHJlc3Npb24uXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IC0gVGhlIDJkIHJlbmRlcmluZyBjb250ZXh0IG9mIHRoZSBjYW52YXMuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gVGhlIGNhbnZhcyBmb3IgY29tcHJlc3Npb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBmdW5jdGlvbiAoY29udGV4dCwgY2FudmFzKSB7XG4gICAgICogICBjb250ZXh0LmZpbHRlciA9ICdncmF5c2NhbGUoMTAwJSknO1xuICAgICAqIH1cbiAgICAgKi9cbiAgICBkcmV3OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGhvb2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIHN1Y2Nlc3MgdG8gY29tcHJlc3MgdGhlIGltYWdlLlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgLSBUaGUgY29tcHJlc3NlZCBpbWFnZSBGaWxlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhmaWxlKTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgc3VjY2VzczogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBob29rIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiBmYWlsIHRvIGNvbXByZXNzIHRoZSBpbWFnZS5cbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtFcnJvcn0gZXJyIC0gQW4gRXJyb3Igb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogZnVuY3Rpb24gKGVycikge1xuICAgICAqICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAqIH1cbiAgICAgKi9cbiAgICBlcnJvcjogbnVsbFxuICB9O1xuXG4gIHZhciBJU19CUk9XU0VSID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG4gIHZhciBXSU5ET1cgPSBJU19CUk9XU0VSID8gd2luZG93IDoge307XG5cbiAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuICAvKipcbiAgICogQ29udmVydCBhcnJheS1saWtlIG9yIGl0ZXJhYmxlIG9iamVjdCB0byBhbiBhcnJheS5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSA/IEFycmF5LmZyb20odmFsdWUpIDogc2xpY2UuY2FsbCh2YWx1ZSk7XG4gIH1cbiAgdmFyIFJFR0VYUF9JTUFHRV9UWVBFID0gL15pbWFnZVxcLy4rJC87XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBtaW1lIHR5cGUgb2YgaW1hZ2UuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gaXMgYSBtaW1lIHR5cGUgb2YgaW1hZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICovXG5cbiAgZnVuY3Rpb24gaXNJbWFnZVR5cGUodmFsdWUpIHtcbiAgICByZXR1cm4gUkVHRVhQX0lNQUdFX1RZUEUudGVzdCh2YWx1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgaW1hZ2UgdHlwZSB0byBleHRlbnNpb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRoZSBpbWFnZSB0eXBlIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRoZSBpbWFnZSBleHRlbnNpb24uXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGltYWdlVHlwZVRvRXh0ZW5zaW9uKHZhbHVlKSB7XG4gICAgdmFyIGV4dGVuc2lvbiA9IGlzSW1hZ2VUeXBlKHZhbHVlKSA/IHZhbHVlLnN1YnN0cig2KSA6ICcnO1xuXG4gICAgaWYgKGV4dGVuc2lvbiA9PT0gJ2pwZWcnKSB7XG4gICAgICBleHRlbnNpb24gPSAnanBnJztcbiAgICB9XG5cbiAgICByZXR1cm4gXCIuXCIuY29uY2F0KGV4dGVuc2lvbik7XG4gIH1cbiAgdmFyIGZyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIGZyb20gY2hhciBjb2RlIGluIGRhdGEgdmlldy5cbiAgICogQHBhcmFtIHtEYXRhVmlld30gZGF0YVZpZXcgLSBUaGUgZGF0YSB2aWV3IGZvciByZWFkLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBUaGUgc3RhcnQgaW5kZXguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggLSBUaGUgcmVhZCBsZW5ndGguXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSByZWFkIHJlc3VsdC5cbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0U3RyaW5nRnJvbUNoYXJDb2RlKGRhdGFWaWV3LCBzdGFydCwgbGVuZ3RoKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIHZhciBpO1xuICAgIGxlbmd0aCArPSBzdGFydDtcblxuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHN0ciArPSBmcm9tQ2hhckNvZGUoZGF0YVZpZXcuZ2V0VWludDgoaSkpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgdmFyIGJ0b2EgPSBXSU5ET1cuYnRvYTtcbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBhcnJheSBidWZmZXIgdG8gRGF0YSBVUkwuXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIC0gVGhlIGFycmF5IGJ1ZmZlciB0byB0cmFuc2Zvcm0uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtaW1lVHlwZSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIERhdGEgVVJMLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcmVzdWx0IERhdGEgVVJMLlxuICAgKi9cblxuICBmdW5jdGlvbiBhcnJheUJ1ZmZlclRvRGF0YVVSTChhcnJheUJ1ZmZlciwgbWltZVR5cGUpIHtcbiAgICB2YXIgY2h1bmtzID0gW107XG4gICAgdmFyIGNodW5rU2l6ZSA9IDgxOTI7XG4gICAgdmFyIHVpbnQ4ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuXG4gICAgd2hpbGUgKHVpbnQ4Lmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIFhYWDogQmFiZWwncyBgdG9Db25zdW1hYmxlQXJyYXlgIGhlbHBlciB3aWxsIHRocm93IGVycm9yIGluIElFIG9yIFNhZmFyaSA5XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXNwcmVhZFxuICAgICAgY2h1bmtzLnB1c2goZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHRvQXJyYXkodWludDguc3ViYXJyYXkoMCwgY2h1bmtTaXplKSkpKTtcbiAgICAgIHVpbnQ4ID0gdWludDguc3ViYXJyYXkoY2h1bmtTaXplKTtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJkYXRhOlwiLmNvbmNhdChtaW1lVHlwZSwgXCI7YmFzZTY0LFwiKS5jb25jYXQoYnRvYShjaHVua3Muam9pbignJykpKTtcbiAgfVxuICAvKipcbiAgICogR2V0IG9yaWVudGF0aW9uIHZhbHVlIGZyb20gZ2l2ZW4gYXJyYXkgYnVmZmVyLlxuICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciAtIFRoZSBhcnJheSBidWZmZXIgdG8gcmVhZC5cbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIHJlYWQgb3JpZW50YXRpb24gdmFsdWUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJlc2V0QW5kR2V0T3JpZW50YXRpb24oYXJyYXlCdWZmZXIpIHtcbiAgICB2YXIgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIpO1xuICAgIHZhciBvcmllbnRhdGlvbjsgLy8gSWdub3JlcyByYW5nZSBlcnJvciB3aGVuIHRoZSBpbWFnZSBkb2VzIG5vdCBoYXZlIGNvcnJlY3QgRXhpZiBpbmZvcm1hdGlvblxuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBsaXR0bGVFbmRpYW47XG4gICAgICB2YXIgYXBwMVN0YXJ0O1xuICAgICAgdmFyIGlmZFN0YXJ0OyAvLyBPbmx5IGhhbmRsZSBKUEVHIGltYWdlIChzdGFydCBieSAweEZGRDgpXG5cbiAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50OCgwKSA9PT0gMHhGRiAmJiBkYXRhVmlldy5nZXRVaW50OCgxKSA9PT0gMHhEOCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YVZpZXcuYnl0ZUxlbmd0aDtcbiAgICAgICAgdmFyIG9mZnNldCA9IDI7XG5cbiAgICAgICAgd2hpbGUgKG9mZnNldCArIDEgPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDgob2Zmc2V0KSA9PT0gMHhGRiAmJiBkYXRhVmlldy5nZXRVaW50OChvZmZzZXQgKyAxKSA9PT0gMHhFMSkge1xuICAgICAgICAgICAgYXBwMVN0YXJ0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb2Zmc2V0ICs9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGFwcDFTdGFydCkge1xuICAgICAgICB2YXIgZXhpZklEQ29kZSA9IGFwcDFTdGFydCArIDQ7XG4gICAgICAgIHZhciB0aWZmT2Zmc2V0ID0gYXBwMVN0YXJ0ICsgMTA7XG5cbiAgICAgICAgaWYgKGdldFN0cmluZ0Zyb21DaGFyQ29kZShkYXRhVmlldywgZXhpZklEQ29kZSwgNCkgPT09ICdFeGlmJykge1xuICAgICAgICAgIHZhciBlbmRpYW5uZXNzID0gZGF0YVZpZXcuZ2V0VWludDE2KHRpZmZPZmZzZXQpO1xuICAgICAgICAgIGxpdHRsZUVuZGlhbiA9IGVuZGlhbm5lc3MgPT09IDB4NDk0OTtcblxuICAgICAgICAgIGlmIChsaXR0bGVFbmRpYW4gfHwgZW5kaWFubmVzcyA9PT0gMHg0RDREXG4gICAgICAgICAgLyogYmlnRW5kaWFuICovXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50MTYodGlmZk9mZnNldCArIDIsIGxpdHRsZUVuZGlhbikgPT09IDB4MDAyQSkge1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdElGRE9mZnNldCA9IGRhdGFWaWV3LmdldFVpbnQzMih0aWZmT2Zmc2V0ICsgNCwgbGl0dGxlRW5kaWFuKTtcblxuICAgICAgICAgICAgICAgIGlmIChmaXJzdElGRE9mZnNldCA+PSAweDAwMDAwMDA4KSB7XG4gICAgICAgICAgICAgICAgICBpZmRTdGFydCA9IHRpZmZPZmZzZXQgKyBmaXJzdElGRE9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaWZkU3RhcnQpIHtcbiAgICAgICAgdmFyIF9sZW5ndGggPSBkYXRhVmlldy5nZXRVaW50MTYoaWZkU3RhcnQsIGxpdHRsZUVuZGlhbik7XG5cbiAgICAgICAgdmFyIF9vZmZzZXQ7XG5cbiAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IF9sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIF9vZmZzZXQgPSBpZmRTdGFydCArIGkgKiAxMiArIDI7XG5cbiAgICAgICAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDE2KF9vZmZzZXQsIGxpdHRsZUVuZGlhbikgPT09IDB4MDExMlxuICAgICAgICAgIC8qIE9yaWVudGF0aW9uICovXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIDggaXMgdGhlIG9mZnNldCBvZiB0aGUgY3VycmVudCB0YWcncyB2YWx1ZVxuICAgICAgICAgICAgICBfb2Zmc2V0ICs9IDg7IC8vIEdldCB0aGUgb3JpZ2luYWwgb3JpZW50YXRpb24gdmFsdWVcblxuICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9IGRhdGFWaWV3LmdldFVpbnQxNihfb2Zmc2V0LCBsaXR0bGVFbmRpYW4pOyAvLyBPdmVycmlkZSB0aGUgb3JpZW50YXRpb24gd2l0aCBpdHMgZGVmYXVsdCB2YWx1ZVxuXG4gICAgICAgICAgICAgIGRhdGFWaWV3LnNldFVpbnQxNihfb2Zmc2V0LCAxLCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG9yaWVudGF0aW9uID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3JpZW50YXRpb247XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIEV4aWYgT3JpZW50YXRpb24gdmFsdWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcmllbnRhdGlvbiAtIFRoZSBvcmllbnRhdGlvbiB0byBwYXJzZS5cbiAgICogQHJldHVybnMge09iamVjdH0gVGhlIHBhcnNlZCByZXN1bHQuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHBhcnNlT3JpZW50YXRpb24ob3JpZW50YXRpb24pIHtcbiAgICB2YXIgcm90YXRlID0gMDtcbiAgICB2YXIgc2NhbGVYID0gMTtcbiAgICB2YXIgc2NhbGVZID0gMTtcblxuICAgIHN3aXRjaCAob3JpZW50YXRpb24pIHtcbiAgICAgIC8vIEZsaXAgaG9yaXpvbnRhbFxuICAgICAgY2FzZSAyOlxuICAgICAgICBzY2FsZVggPSAtMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBSb3RhdGUgbGVmdCAxODBcdTAwQjBcblxuICAgICAgY2FzZSAzOlxuICAgICAgICByb3RhdGUgPSAtMTgwO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIEZsaXAgdmVydGljYWxcblxuICAgICAgY2FzZSA0OlxuICAgICAgICBzY2FsZVkgPSAtMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBGbGlwIHZlcnRpY2FsIGFuZCByb3RhdGUgcmlnaHQgOTBcdTAwQjBcblxuICAgICAgY2FzZSA1OlxuICAgICAgICByb3RhdGUgPSA5MDtcbiAgICAgICAgc2NhbGVZID0gLTE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gUm90YXRlIHJpZ2h0IDkwXHUwMEIwXG5cbiAgICAgIGNhc2UgNjpcbiAgICAgICAgcm90YXRlID0gOTA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gRmxpcCBob3Jpem9udGFsIGFuZCByb3RhdGUgcmlnaHQgOTBcdTAwQjBcblxuICAgICAgY2FzZSA3OlxuICAgICAgICByb3RhdGUgPSA5MDtcbiAgICAgICAgc2NhbGVYID0gLTE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gUm90YXRlIGxlZnQgOTBcdTAwQjBcblxuICAgICAgY2FzZSA4OlxuICAgICAgICByb3RhdGUgPSAtOTA7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByb3RhdGU6IHJvdGF0ZSxcbiAgICAgIHNjYWxlWDogc2NhbGVYLFxuICAgICAgc2NhbGVZOiBzY2FsZVlcbiAgICB9O1xuICB9XG4gIHZhciBSRUdFWFBfREVDSU1BTFMgPSAvXFwuXFxkKig/OjB8OSl7MTJ9XFxkKiQvO1xuICAvKipcbiAgICogTm9ybWFsaXplIGRlY2ltYWwgbnVtYmVyLlxuICAgKiBDaGVjayBvdXQge0BsaW5rIGh0dHBzOi8vMC4zMDAwMDAwMDAwMDAwMDAwNC5jb20vfVxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gbm9ybWFsaXplLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3RpbWVzPTEwMDAwMDAwMDAwMF0gLSBUaGUgdGltZXMgZm9yIG5vcm1hbGl6aW5nLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBub3JtYWxpemVkIG51bWJlci5cbiAgICovXG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplRGVjaW1hbE51bWJlcih2YWx1ZSkge1xuICAgIHZhciB0aW1lcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTAwMDAwMDAwMDAwO1xuICAgIHJldHVybiBSRUdFWFBfREVDSU1BTFMudGVzdCh2YWx1ZSkgPyBNYXRoLnJvdW5kKHZhbHVlICogdGltZXMpIC8gdGltZXMgOiB2YWx1ZTtcbiAgfVxuXG4gIHZhciBBcnJheUJ1ZmZlciQxID0gV0lORE9XLkFycmF5QnVmZmVyLFxuICAgICAgRmlsZVJlYWRlciA9IFdJTkRPVy5GaWxlUmVhZGVyO1xuICB2YXIgVVJMID0gV0lORE9XLlVSTCB8fCBXSU5ET1cud2Via2l0VVJMO1xuICB2YXIgUkVHRVhQX0VYVEVOU0lPTiA9IC9cXC5cXHcrJC87XG4gIHZhciBBbm90aGVyQ29tcHJlc3NvciA9IFdJTkRPVy5Db21wcmVzc29yO1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbWFnZSBjb21wcmVzc29yLlxuICAgKiBAY2xhc3NcbiAgICovXG5cbiAgdmFyIENvbXByZXNzb3IgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgY29uc3RydWN0b3Igb2YgQ29tcHJlc3Nvci5cbiAgICAgKiBAcGFyYW0ge0ZpbGV8QmxvYn0gZmlsZSAtIFRoZSB0YXJnZXQgaW1hZ2UgZmlsZSBmb3IgY29tcHJlc3NpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciBjb21wcmVzc2luZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb21wcmVzc29yKGZpbGUsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wcmVzc29yKTtcblxuICAgICAgdGhpcy5maWxlID0gZmlsZTtcbiAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIHRoaXMub3B0aW9ucyA9IF9vYmplY3RTcHJlYWQyKHt9LCBERUZBVUxUUywge30sIG9wdGlvbnMpO1xuICAgICAgdGhpcy5hYm9ydGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnJlc3VsdCA9IG51bGw7XG4gICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ29tcHJlc3NvciwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZSxcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCFpc0Jsb2IoZmlsZSkpIHtcbiAgICAgICAgICB0aGlzLmZhaWwobmV3IEVycm9yKCdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIEZpbGUgb3IgQmxvYiBvYmplY3QuJykpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW1lVHlwZSA9IGZpbGUudHlwZTtcblxuICAgICAgICBpZiAoIWlzSW1hZ2VUeXBlKG1pbWVUeXBlKSkge1xuICAgICAgICAgIHRoaXMuZmFpbChuZXcgRXJyb3IoJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGFuIGltYWdlIEZpbGUgb3IgQmxvYiBvYmplY3QuJykpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghVVJMIHx8ICFGaWxlUmVhZGVyKSB7XG4gICAgICAgICAgdGhpcy5mYWlsKG5ldyBFcnJvcignVGhlIGN1cnJlbnQgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGltYWdlIGNvbXByZXNzaW9uLicpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUFycmF5QnVmZmVyJDEpIHtcbiAgICAgICAgICBvcHRpb25zLmNoZWNrT3JpZW50YXRpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChVUkwgJiYgIW9wdGlvbnMuY2hlY2tPcmllbnRhdGlvbikge1xuICAgICAgICAgIHRoaXMubG9hZCh7XG4gICAgICAgICAgICB1cmw6IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICB2YXIgY2hlY2tPcmllbnRhdGlvbiA9IG9wdGlvbnMuY2hlY2tPcmllbnRhdGlvbiAmJiBtaW1lVHlwZSA9PT0gJ2ltYWdlL2pwZWcnO1xuICAgICAgICAgIHRoaXMucmVhZGVyID0gcmVhZGVyO1xuXG4gICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gX3JlZi50YXJnZXQ7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgIHZhciBkYXRhID0ge307XG5cbiAgICAgICAgICAgIGlmIChjaGVja09yaWVudGF0aW9uKSB7XG4gICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBvcmllbnRhdGlvbiB2YWx1ZSB0byBpdHMgZGVmYXVsdCB2YWx1ZSAxXG4gICAgICAgICAgICAgIC8vIGFzIHNvbWUgaU9TIGJyb3dzZXJzIHdpbGwgcmVuZGVyIGltYWdlIHdpdGggaXRzIG9yaWVudGF0aW9uXG4gICAgICAgICAgICAgIHZhciBvcmllbnRhdGlvbiA9IHJlc2V0QW5kR2V0T3JpZW50YXRpb24ocmVzdWx0KTtcblxuICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPiAxIHx8ICFVUkwpIHtcbiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyBVUkwgd2hpY2ggaGFzIHRoZSBkZWZhdWx0IG9yaWVudGF0aW9uIHZhbHVlXG4gICAgICAgICAgICAgICAgZGF0YS51cmwgPSBhcnJheUJ1ZmZlclRvRGF0YVVSTChyZXN1bHQsIG1pbWVUeXBlKTtcblxuICAgICAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA+IDEpIHtcbiAgICAgICAgICAgICAgICAgIF9leHRlbmRzKGRhdGEsIHBhcnNlT3JpZW50YXRpb24ob3JpZW50YXRpb24pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YS51cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkYXRhLnVybCA9IHJlc3VsdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMubG9hZChkYXRhKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmVhZGVyLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5mYWlsKG5ldyBFcnJvcignQWJvcnRlZCB0byByZWFkIHRoZSBpbWFnZSB3aXRoIEZpbGVSZWFkZXIuJykpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmZhaWwobmV3IEVycm9yKCdGYWlsZWQgdG8gcmVhZCB0aGUgaW1hZ2Ugd2l0aCBGaWxlUmVhZGVyLicpKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnJlYWRlciA9IG51bGw7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChjaGVja09yaWVudGF0aW9uKSB7XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJsb2FkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZChkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlLFxuICAgICAgICAgICAgaW1hZ2UgPSB0aGlzLmltYWdlO1xuXG4gICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIuZHJhdyhfb2JqZWN0U3ByZWFkMih7fSwgZGF0YSwge1xuICAgICAgICAgICAgbmF0dXJhbFdpZHRoOiBpbWFnZS5uYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICBuYXR1cmFsSGVpZ2h0OiBpbWFnZS5uYXR1cmFsSGVpZ2h0XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGltYWdlLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLmZhaWwobmV3IEVycm9yKCdBYm9ydGVkIHRvIGxvYWQgdGhlIGltYWdlLicpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5mYWlsKG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgdGhlIGltYWdlLicpKTtcbiAgICAgICAgfTsgLy8gTWF0Y2ggYWxsIGJyb3dzZXJzIHRoYXQgdXNlIFdlYktpdCBhcyB0aGUgbGF5b3V0IGVuZ2luZSBpbiBpT1MgZGV2aWNlcyxcbiAgICAgICAgLy8gc3VjaCBhcyBTYWZhcmkgZm9yIGlPUywgQ2hyb21lIGZvciBpT1MsIGFuZCBpbi1hcHAgYnJvd3NlcnMuXG5cblxuICAgICAgICBpZiAoV0lORE9XLm5hdmlnYXRvciAmJiAvKD86aVBhZHxpUGhvbmV8aVBvZCkuKj9BcHBsZVdlYktpdC9pLnRlc3QoV0lORE9XLm5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgICAgLy8gRml4IHRoZSBgVGhlIG9wZXJhdGlvbiBpcyBpbnNlY3VyZWAgZXJyb3IgKCM1NylcbiAgICAgICAgICBpbWFnZS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1hZ2UuYWx0ID0gZmlsZS5uYW1lO1xuICAgICAgICBpbWFnZS5zcmMgPSBkYXRhLnVybDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZHJhd1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoX3JlZjIpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIG5hdHVyYWxXaWR0aCA9IF9yZWYyLm5hdHVyYWxXaWR0aCxcbiAgICAgICAgICAgIG5hdHVyYWxIZWlnaHQgPSBfcmVmMi5uYXR1cmFsSGVpZ2h0LFxuICAgICAgICAgICAgX3JlZjIkcm90YXRlID0gX3JlZjIucm90YXRlLFxuICAgICAgICAgICAgcm90YXRlID0gX3JlZjIkcm90YXRlID09PSB2b2lkIDAgPyAwIDogX3JlZjIkcm90YXRlLFxuICAgICAgICAgICAgX3JlZjIkc2NhbGVYID0gX3JlZjIuc2NhbGVYLFxuICAgICAgICAgICAgc2NhbGVYID0gX3JlZjIkc2NhbGVYID09PSB2b2lkIDAgPyAxIDogX3JlZjIkc2NhbGVYLFxuICAgICAgICAgICAgX3JlZjIkc2NhbGVZID0gX3JlZjIuc2NhbGVZLFxuICAgICAgICAgICAgc2NhbGVZID0gX3JlZjIkc2NhbGVZID09PSB2b2lkIDAgPyAxIDogX3JlZjIkc2NhbGVZO1xuICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZSxcbiAgICAgICAgICAgIGltYWdlID0gdGhpcy5pbWFnZSxcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIGFzcGVjdFJhdGlvID0gbmF0dXJhbFdpZHRoIC8gbmF0dXJhbEhlaWdodDtcbiAgICAgICAgdmFyIGlzOTBEZWdyZWVzUm90YXRlZCA9IE1hdGguYWJzKHJvdGF0ZSkgJSAxODAgPT09IDkwO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSBNYXRoLm1heChvcHRpb25zLm1heFdpZHRoLCAwKSB8fCBJbmZpbml0eTtcbiAgICAgICAgdmFyIG1heEhlaWdodCA9IE1hdGgubWF4KG9wdGlvbnMubWF4SGVpZ2h0LCAwKSB8fCBJbmZpbml0eTtcbiAgICAgICAgdmFyIG1pbldpZHRoID0gTWF0aC5tYXgob3B0aW9ucy5taW5XaWR0aCwgMCkgfHwgMDtcbiAgICAgICAgdmFyIG1pbkhlaWdodCA9IE1hdGgubWF4KG9wdGlvbnMubWluSGVpZ2h0LCAwKSB8fCAwO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLm1heChvcHRpb25zLndpZHRoLCAwKSB8fCBuYXR1cmFsV2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChvcHRpb25zLmhlaWdodCwgMCkgfHwgbmF0dXJhbEhlaWdodDtcblxuICAgICAgICBpZiAoaXM5MERlZ3JlZXNSb3RhdGVkKSB7XG4gICAgICAgICAgdmFyIF9yZWYzID0gW21heEhlaWdodCwgbWF4V2lkdGhdO1xuICAgICAgICAgIG1heFdpZHRoID0gX3JlZjNbMF07XG4gICAgICAgICAgbWF4SGVpZ2h0ID0gX3JlZjNbMV07XG4gICAgICAgICAgdmFyIF9yZWY0ID0gW21pbkhlaWdodCwgbWluV2lkdGhdO1xuICAgICAgICAgIG1pbldpZHRoID0gX3JlZjRbMF07XG4gICAgICAgICAgbWluSGVpZ2h0ID0gX3JlZjRbMV07XG4gICAgICAgICAgdmFyIF9yZWY1ID0gW2hlaWdodCwgd2lkdGhdO1xuICAgICAgICAgIHdpZHRoID0gX3JlZjVbMF07XG4gICAgICAgICAgaGVpZ2h0ID0gX3JlZjVbMV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF4V2lkdGggPCBJbmZpbml0eSAmJiBtYXhIZWlnaHQgPCBJbmZpbml0eSkge1xuICAgICAgICAgIGlmIChtYXhIZWlnaHQgKiBhc3BlY3RSYXRpbyA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBtYXhXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXhXaWR0aCA9IG1heEhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtYXhXaWR0aCA8IEluZmluaXR5KSB7XG4gICAgICAgICAgbWF4SGVpZ2h0ID0gbWF4V2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgfSBlbHNlIGlmIChtYXhIZWlnaHQgPCBJbmZpbml0eSkge1xuICAgICAgICAgIG1heFdpZHRoID0gbWF4SGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWluV2lkdGggPiAwICYmIG1pbkhlaWdodCA+IDApIHtcbiAgICAgICAgICBpZiAobWluSGVpZ2h0ICogYXNwZWN0UmF0aW8gPiBtaW5XaWR0aCkge1xuICAgICAgICAgICAgbWluSGVpZ2h0ID0gbWluV2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWluV2lkdGggPSBtaW5IZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobWluV2lkdGggPiAwKSB7XG4gICAgICAgICAgbWluSGVpZ2h0ID0gbWluV2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgfSBlbHNlIGlmIChtaW5IZWlnaHQgPiAwKSB7XG4gICAgICAgICAgbWluV2lkdGggPSBtaW5IZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoZWlnaHQgKiBhc3BlY3RSYXRpbyA+IHdpZHRoKSB7XG4gICAgICAgICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aWR0aCA9IGhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgd2lkdGggPSBNYXRoLmZsb29yKG5vcm1hbGl6ZURlY2ltYWxOdW1iZXIoTWF0aC5taW4oTWF0aC5tYXgod2lkdGgsIG1pbldpZHRoKSwgbWF4V2lkdGgpKSk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguZmxvb3Iobm9ybWFsaXplRGVjaW1hbE51bWJlcihNYXRoLm1pbihNYXRoLm1heChoZWlnaHQsIG1pbkhlaWdodCksIG1heEhlaWdodCkpKTtcbiAgICAgICAgdmFyIGRlc3RYID0gLXdpZHRoIC8gMjtcbiAgICAgICAgdmFyIGRlc3RZID0gLWhlaWdodCAvIDI7XG4gICAgICAgIHZhciBkZXN0V2lkdGggPSB3aWR0aDtcbiAgICAgICAgdmFyIGRlc3RIZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgaWYgKGlzOTBEZWdyZWVzUm90YXRlZCkge1xuICAgICAgICAgIHZhciBfcmVmNiA9IFtoZWlnaHQsIHdpZHRoXTtcbiAgICAgICAgICB3aWR0aCA9IF9yZWY2WzBdO1xuICAgICAgICAgIGhlaWdodCA9IF9yZWY2WzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgaWYgKCFpc0ltYWdlVHlwZShvcHRpb25zLm1pbWVUeXBlKSkge1xuICAgICAgICAgIG9wdGlvbnMubWltZVR5cGUgPSBmaWxlLnR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZmlsbFN0eWxlID0gJ3RyYW5zcGFyZW50JzsgLy8gQ29udmVydHMgUE5HIGZpbGVzIG92ZXIgdGhlIGBjb252ZXJ0U2l6ZWAgdG8gSlBFR3MuXG5cbiAgICAgICAgaWYgKGZpbGUuc2l6ZSA+IG9wdGlvbnMuY29udmVydFNpemUgJiYgb3B0aW9ucy5taW1lVHlwZSA9PT0gJ2ltYWdlL3BuZycpIHtcbiAgICAgICAgICBmaWxsU3R5bGUgPSAnI2ZmZic7XG4gICAgICAgICAgb3B0aW9ucy5taW1lVHlwZSA9ICdpbWFnZS9qcGVnJztcbiAgICAgICAgfSAvLyBPdmVycmlkZSB0aGUgZGVmYXVsdCBmaWxsIGNvbG9yICgjMDAwLCBibGFjaylcblxuXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmJlZm9yZURyYXcpIHtcbiAgICAgICAgICBvcHRpb25zLmJlZm9yZURyYXcuY2FsbCh0aGlzLCBjb250ZXh0LCBjYW52YXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuYWJvcnRlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgICAgICBjb250ZXh0LnJvdGF0ZShyb3RhdGUgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgY29udGV4dC5zY2FsZShzY2FsZVgsIHNjYWxlWSk7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCBkZXN0WCwgZGVzdFksIGRlc3RXaWR0aCwgZGVzdEhlaWdodCk7XG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmRyZXcpIHtcbiAgICAgICAgICBvcHRpb25zLmRyZXcuY2FsbCh0aGlzLCBjb250ZXh0LCBjYW52YXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuYWJvcnRlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkb25lID0gZnVuY3Rpb24gZG9uZShyZXN1bHQpIHtcbiAgICAgICAgICBpZiAoIV90aGlzMy5hYm9ydGVkKSB7XG4gICAgICAgICAgICBfdGhpczMuZG9uZSh7XG4gICAgICAgICAgICAgIG5hdHVyYWxXaWR0aDogbmF0dXJhbFdpZHRoLFxuICAgICAgICAgICAgICBuYXR1cmFsSGVpZ2h0OiBuYXR1cmFsSGVpZ2h0LFxuICAgICAgICAgICAgICByZXN1bHQ6IHJlc3VsdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChjYW52YXMudG9CbG9iKSB7XG4gICAgICAgICAgY2FudmFzLnRvQmxvYihkb25lLCBvcHRpb25zLm1pbWVUeXBlLCBvcHRpb25zLnF1YWxpdHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbmUoY2FudmFzVG9CbG9iKGNhbnZhcy50b0RhdGFVUkwob3B0aW9ucy5taW1lVHlwZSwgb3B0aW9ucy5xdWFsaXR5KSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRvbmVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkb25lKF9yZWY3KSB7XG4gICAgICAgIHZhciBuYXR1cmFsV2lkdGggPSBfcmVmNy5uYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICBuYXR1cmFsSGVpZ2h0ID0gX3JlZjcubmF0dXJhbEhlaWdodCxcbiAgICAgICAgICAgIHJlc3VsdCA9IF9yZWY3LnJlc3VsdDtcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGUsXG4gICAgICAgICAgICBpbWFnZSA9IHRoaXMuaW1hZ2UsXG4gICAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGlmIChVUkwgJiYgIW9wdGlvbnMuY2hlY2tPcmllbnRhdGlvbikge1xuICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoaW1hZ2Uuc3JjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAvLyBSZXR1cm5zIG9yaWdpbmFsIGZpbGUgaWYgdGhlIHJlc3VsdCBpcyBncmVhdGVyIHRoYW4gaXQgYW5kIHdpdGhvdXQgc2l6ZSByZWxhdGVkIG9wdGlvbnNcbiAgICAgICAgICBpZiAob3B0aW9ucy5zdHJpY3QgJiYgcmVzdWx0LnNpemUgPiBmaWxlLnNpemUgJiYgb3B0aW9ucy5taW1lVHlwZSA9PT0gZmlsZS50eXBlICYmICEob3B0aW9ucy53aWR0aCA+IG5hdHVyYWxXaWR0aCB8fCBvcHRpb25zLmhlaWdodCA+IG5hdHVyYWxIZWlnaHQgfHwgb3B0aW9ucy5taW5XaWR0aCA+IG5hdHVyYWxXaWR0aCB8fCBvcHRpb25zLm1pbkhlaWdodCA+IG5hdHVyYWxIZWlnaHQpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmaWxlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICByZXN1bHQubGFzdE1vZGlmaWVkID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgICByZXN1bHQubGFzdE1vZGlmaWVkRGF0ZSA9IGRhdGU7XG4gICAgICAgICAgICByZXN1bHQubmFtZSA9IGZpbGUubmFtZTsgLy8gQ29udmVydCB0aGUgZXh0ZW5zaW9uIHRvIG1hdGNoIGl0cyB0eXBlXG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQubmFtZSAmJiByZXN1bHQudHlwZSAhPT0gZmlsZS50eXBlKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5uYW1lID0gcmVzdWx0Lm5hbWUucmVwbGFjZShSRUdFWFBfRVhURU5TSU9OLCBpbWFnZVR5cGVUb0V4dGVuc2lvbihyZXN1bHQudHlwZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBSZXR1cm5zIG9yaWdpbmFsIGZpbGUgaWYgdGhlIHJlc3VsdCBpcyBudWxsIGluIHNvbWUgY2FzZXMuXG4gICAgICAgICAgcmVzdWx0ID0gZmlsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuXG4gICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBvcHRpb25zLnN1Y2Nlc3MuY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImZhaWxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBmYWlsKGVycikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICAgIG9wdGlvbnMuZXJyb3IuY2FsbCh0aGlzLCBlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJhYm9ydFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgICBpZiAoIXRoaXMuYWJvcnRlZCkge1xuICAgICAgICAgIHRoaXMuYWJvcnRlZCA9IHRydWU7XG5cbiAgICAgICAgICBpZiAodGhpcy5yZWFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZGVyLmFib3J0KCk7XG4gICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5pbWFnZS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5pbWFnZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5pbWFnZS5vbmFib3J0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmFpbChuZXcgRXJyb3IoJ1RoZSBjb21wcmVzc2lvbiBwcm9jZXNzIGhhcyBiZWVuIGFib3J0ZWQuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgdGhlIG5vIGNvbmZsaWN0IGNvbXByZXNzb3IgY2xhc3MuXG4gICAgICAgKiBAcmV0dXJucyB7Q29tcHJlc3Nvcn0gVGhlIGNvbXByZXNzb3IgY2xhc3MuXG4gICAgICAgKi9cblxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcIm5vQ29uZmxpY3RcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgICB3aW5kb3cuQ29tcHJlc3NvciA9IEFub3RoZXJDb21wcmVzc29yO1xuICAgICAgICByZXR1cm4gQ29tcHJlc3NvcjtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogQ2hhbmdlIHRoZSBkZWZhdWx0IG9wdGlvbnMuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBuZXcgZGVmYXVsdCBvcHRpb25zLlxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0RGVmYXVsdHNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREZWZhdWx0cyhvcHRpb25zKSB7XG4gICAgICAgIF9leHRlbmRzKERFRkFVTFRTLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29tcHJlc3NvcjtcbiAgfSgpO1xuXG4gIHJldHVybiBDb21wcmVzc29yO1xuXG59KSkpO1xuIiwgIi8qISBtaW5pcmVzZXQuY3NzIHYwLjAuNiB8IE1JVCBMaWNlbnNlIHwgZ2l0aHViLmNvbS9qZ3RobXMvbWluaXJlc2V0LmNzcyAqL1xuaHRtbCxcbmJvZHksXG5wLFxub2wsXG51bCxcbmxpLFxuZGwsXG5kdCxcbmRkLFxuYmxvY2txdW90ZSxcbmZpZ3VyZSxcbmZpZWxkc2V0LFxubGVnZW5kLFxudGV4dGFyZWEsXG5wcmUsXG5pZnJhbWUsXG5ocixcbmgxLFxuaDIsXG5oMyxcbmg0LFxuaDUsXG5oNiB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbn1cbmgxLFxuaDIsXG5oMyxcbmg0LFxuaDUsXG5oNiB7XG4gIGZvbnQtc2l6ZTogMTAwJTtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbn1cbnVsIHtcbiAgbGlzdC1zdHlsZTogbm9uZTtcbn1cbmJ1dHRvbixcbmlucHV0LFxuc2VsZWN0LFxudGV4dGFyZWEge1xuICBtYXJnaW46IDA7XG59XG5odG1sIHtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cbiosXG4qOjpiZWZvcmUsXG4qOjphZnRlciB7XG4gIGJveC1zaXppbmc6IGluaGVyaXQ7XG59XG5cbmlmcmFtZSB7XG4gIGJvcmRlcjogMDtcbn1cblxuQGltcG9ydCB1cmwoXCJodHRwczovL3JzbXMubWUvaW50ZXIvaW50ZXIuY3NzXCIpO1xuXG5ib2R5IHtcbiAgLS1wYWRkaW5nLXNtYWxsOiA2cHg7XG4gIC0tcGFkZGluZy1tZWRpdW06IDEycHg7XG4gIC0tcGFkZGluZy1sYXJnZTogMjRweDtcbiAgLS1wYWRkaW5nLWh1Z2U6IDQ4cHg7XG5cbiAgLS1ib3JkZXItcmFkaXVzLXNtYWxsOiAzcHg7XG4gIC0tYm9yZGVyLXJhZGl1cy1tZWRpdW06IDZweDtcbiAgLS1ib3JkZXItcmFkaXVzLWxhcmdlOiAxMnB4O1xuXG4gIC0tY29sb3Vycy1ncmV5LTA6IHJnYigzMywgMzMsIDMzKTtcbiAgLS1jb2xvdXJzLWdyZXktMTogcmdiKDc0LCA3NCwgNzQpO1xuICAtLWNvbG91cnMtZ3JleS0yOiByZ2IoMTMzLCAxMzMsIDEzMyk7XG4gIC0tY29sb3Vycy1ncmV5LTM6IHJnYigxNzksIDE3OSwgMTc5KTtcbiAgLS1jb2xvdXJzLWdyZXktNDogcmdiKDIyNywgMjI3LCAyMjcpO1xuICAtLWNvbG91cnMtZ3JleS01OiByZ2IoMjQ1LCAyNDUsIDI0NSk7XG4gIC0tY29sb3Vycy1tYWluOiByZ2IoNzIsIDIwMiwgMTI2KTtcbiAgLS1jb2xvdXJzLW1haW4tbGlnaHQ6IHJnYigyMDgsIDI0MiwgMjIyKTtcbiAgLS1jb2xvdXJzLW1haW4tZGFyazogcmdiKDQ0LCA3NSwgNTcpO1xuICAtLWNvbG91cnMtd2FybmluZzogcmdiKDI1NSwgMjQyLCAxNzUpO1xuXG4gIC0tZm9udC1mYW1pbHktc2Fucy1zZXJpZjogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbiAgLS1mb250LWZhbWFpbHQtc2VyaWY6IEdlb3JnaWEsIFwiVGltZXMgTmV3IFJvbWFuXCIsIFRpbWVzLCBzZXJpZjtcblxuICAtLWZvbnQtc2l6ZS0tc21hbGw6IDExcHg7XG4gIC0tZm9udC1zaXplLS1tZWRpdW06IDE0cHg7XG4gIC0tZm9udC1zaXplLS1sYXJnZTogMThweDtcbn1cblxuaHRtbCB7XG4gIGZvbnQtZmFtaWx5OiBcIkludGVyXCIsIHNhbnMtc2VyaWY7XG59XG5Ac3VwcG9ydHMgKGZvbnQtdmFyaWF0aW9uLXNldHRpbmdzOiBub3JtYWwpIHtcbiAgaHRtbCB7XG4gICAgZm9udC1mYW1pbHk6IFwiSW50ZXIgdmFyXCIsIHNhbnMtc2VyaWY7XG4gIH1cbn1cblxuaHRtbCxcbmJvZHkge1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuYnV0dG9uIHtcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctc21hbGwsIDApIHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzLXNtYWxsLCAwKTtcbiAgb3V0bGluZTogbm9uZTtcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG5cbiAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Vycy1tYWluLCAjZjBmKTtcbn1cblxuLmJ0bi0tcHJpbWFyeSB7XG4gIGNvbG9yOiAjZmZmO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvdXJzLW1haW4sICNmMGYpO1xufVxuXG4uYnRuLS1zZWNvbmRhcnkge1xuICBjb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTEsICNmMGYpO1xuICBib3JkZXItY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS0yLCAjZjBmKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIG1hcmdpbi1yaWdodDogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG59XG5cbmJ1dHRvbjpkaXNhYmxlZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKTtcbiAgY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKTtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbn1cblxuYnV0dG9uOmFjdGl2ZSxcbmJ1dHRvbjpob3ZlciB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbi5mMmgge1xuICBoZWlnaHQ6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi8qIFtIZWFkZXJdICovXG4uZjJoX19oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKSB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTRlNGU0O1xuICBiYWNrZ3JvdW5kOiAjZjlmOWY5O1xufVxuLmYyaF9fbmF2IHtcbiAgZmxleDogMTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbn1cblxuLmYyaF9fdGl0bGUge1xuICBmb250LWZhbWlseTogdmFyKC0tZm9udC1mYW1pbHktc2Fucy1zZXJpZiwgc2Fucy1zZXJpZik7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1tZWRpdW0sIDFlbSk7XG59XG4uZjJoX19pbmZvIHtcbiAgbWFyZ2luLWxlZnQ6IHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbiAgZGlzcGxheTogZmxleDtcbiAgbWF4LXdpZHRoOiA2MCU7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG4uZjJoX19pbmZvX3RpdGxlIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG59XG5cbi5mMmhfX2luZm9fbWV0YSB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1tZWRpdW0sIDFlbSk7XG4gIHBhZGRpbmctbGVmdDogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIG1hcmdpbi1sZWZ0OiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZik7XG59XG4uZjJoX19pbmZvX3Jlc3BvbnNpdmUtLW5vIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XG59XG4uZjJoX19zdmdfb3B0aW1pc2Uge1xuICBtYXJnaW4tbGVmdDogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xuICBwYWRkaW5nLWxlZnQ6IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xuICBib3JkZXItbGVmdDogMXB4IHNvbGlkIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKTtcbn1cbi5mMmhfX3N2Z19vcHRpbWlzZSBzcGFuIHtcbiAgcGFkZGluZy1sZWZ0OiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbn1cblxuLmYyaF9fYm9keSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctbGFyZ2UsIDApIHZhcigtLXBhZGRpbmctaHVnZSwgMCk7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS01LCAjZjBmKTtcbn1cblxuLmYyaF9fdmVyc2lvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgcmlnaHQ6IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xuICBjb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTMsICNmMGYpO1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tc21hbGwsIDFlbSk7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWZhbWlseS1zYW5zLXNlcmlmLCBzYW5zLXNlcmlmKTtcbn1cblxuLyogWyBGcmFtZSBzZWxlY3Rpb24gYW5kIEZvcm0gXSAqL1xuLmYyaF9fY2hvb3NlX2ZyYW1lcyB7XG4gIG1pbi13aWR0aDogNTAlO1xufVxuLmYyaF9faW5mb19mb3JtIHtcbiAgbWFyZ2luLWJvdHRvbTogdmFyKC0tcGFkZGluZy1sYXJnZSwgMCk7XG59XG4uZjJoX19pbmZvX2Zvcm1fX2l0ZW0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBtYXJnaW4tYm90dG9tOiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG59XG4uZjJoX19pbmZvX2Zvcm1fX2xhYmVsIHtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLXNtYWxsLCAxZW0pO1xuICBmb250LWZhbWlseTogdmFyKC0tZm9udC1mYW1pbHktc2Fucy1zZXJpZiwgc2Fucy1zZXJpZik7XG59XG4uZjJoX19pbmZvX2Zvcm1fX2lucHV0IHtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLW1lZGl1bSwgMWVtKTtcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtZmFtaWx5LXNhbnMtc2VyaWYsIHNhbnMtc2VyaWYpO1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKSB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG59XG5cbi5mMmhfX2ZyYW1lX3NlbGVjdGlvbiB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIG1pbi1jb250ZW50O1xuICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG87XG4gIG1pbi13aWR0aDogMzIwcHg7XG4gIGdyaWQtZ2FwOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKSB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5mMmhfX3NlbF9oZWFkZXIge1xuICBjb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTAsICNmMGYpO1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tbWVkaXVtKTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWNvbG91cnMtZ3JleS0wKTtcbiAgcGFkZGluZy1ib3R0b206IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xufVxuXG4uZjJoX19zZWxfaGVhZGVyLS1uYW1lIHtcbiAgZ3JpZC1jb2x1bW46IDEvMjtcbiAgZ3JpZC1yb3c6IDEvMjtcbn1cblxuLmYyaF9fc2VsX2hlYWRlci0tcmVzcG9uc2l2ZSB7XG4gIGdyaWQtY29sdW1uOiAyLzM7XG4gIGdyaWQtcm93OiAxLzI7XG4gIGp1c3RpZnktc2VsZjogY2VudGVyO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4uZjJoX19sYWJlbC5mMmhfX2xhYmVsLS1uYW1lIHtcbiAgZ3JpZC1jb2x1bW46IDEvMjtcbiAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xufVxuLmYyaF9fbGFiZWwtLW5hbWUtdGV4dCB7XG4gIG1heC13aWR0aDogNzAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLmYyaF9faW5wdXQtLXJlc3BvbnNpdmUge1xuICBncmlkLWNvbHVtbjogMi8zO1xuICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjtcbiAgbWFyZ2luOiAwO1xufVxuXG4uZjJoX19sYWJlbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1zbWFsbCkgMDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWluLXdpZHRoOiAwO1xufVxuXG4uZjJoX19zZWxfd2lkdGgge1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tc21hbGwsIDFlbSk7XG4gIGNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktMywgI2YwZik7XG4gIHBhZGRpbmctbGVmdDogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG5cbi5mMmhfX2NoZWNrYm94LFxuLmYyaF9fcmFkaW9fYnRuIHtcbiAgbWFyZ2luLXJpZ2h0OiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG59XG5cbi5mMmhfX3NlbGVjdGlvbl93aWR0aCB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1zbWFsbCwgMSk7XG4gIG1hcmdpbjogMCB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktMiwgI2YwZik7XG59XG5cbi8qIFtQcmV2aWV3XSAgKi9cbi5mMmhfX3ByZXZpZXcge1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG59XG4uZjJoX19wcmV2aWV3X3RpdGxlIHtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLW1lZGl1bSwgMSk7XG4gIG1hcmdpbjogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCkgMDtcbiAgZGlzcGxheTogZmxleDtcbn1cbi5mMmhfX3ByZXZpZXdfbmFtZSB7XG4gIGZsZXg6IDE7XG59XG5cbi5mMmhfX3ByZXZpZXdfaW5uZXIge1xuICBvdmVyZmxvdzogYXV0bztcbiAgbWF4LWhlaWdodDogMTAwJTtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBtYXJnaW46IGF1dG87XG59XG4uZjJoX19wcmV2aWV3X2lubmVyLS1zY2FsZWQge1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uZjJoX19wcmV2aWV3X3dyYXBwZXIge1xuICBvdmVyZmxvdy14OiBhdXRvO1xuICBvdmVyZmxvdy15OiBoaWRkZW47XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uZjJoX19wcmV2aWV3X3Jlc3BvbnNpdmUsXG4uZjJoX19wcmV2aWV3X3dpZHRoIHtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLXNtYWxsLCAxKTtcbiAgY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS0zLCAjZjBmKTtcbiAgcGFkZGluZy1sZWZ0OiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbn1cblxuLmYyaF9fbm90aWNlLS13YXJuaW5nIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Vycy13YXJuaW5nLCAjZjBmKTtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCkgdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xuICBtYXJnaW46IHZhcigtLXBhZGRpbmctc21hbGwsIDApIDA7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1tZWRpdW0sIDFlbSk7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMtbWVkaXVtLCAwKTtcbn1cblxuLmYyaF9fbm90aWNlLS1lcnJvciB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBiYWNrZ3JvdW5kOiAjZmZlZGVkO1xuICBjb2xvcjogI2E3MGYwZjtcbn1cblxuLyogW1JlbmRlcl0gKi9cbi5mMmhfX3JlbmRlciB7XG4gIHRyYW5zZm9ybS1vcmlnaW46IHRvcCBsZWZ0O1xufVxuXG4uZjJoX19yZW5kZXItLXJlc3BvbnNpdmUgc3ZnIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5lcnJvciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS01LCAjZjBmKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cy1zbWFsbCwgMCk7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKSB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTAsICNmMGYpO1xuICBtYXJnaW46IHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKSAwO1xuICBmbGV4OiAxO1xuICBhbGlnbi1zZWxmOiBjZW50ZXI7XG59XG5cbi8qIFtTYXZlXSAqL1xuLmYyaF9fc2F2ZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHdpZHRoOiAxMDAlO1xuICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gIG1heC13aWR0aDogODAwcHg7XG59XG5cbi5mMmhfX3NhdmVfYnRuIHtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLWxhcmdlLCAxZW0pO1xuICBjb2xvcjogI2ZmZjtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cy1zbWFsbCwgMCk7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbiAgbWFyZ2luLXJpZ2h0OiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1jb2xvdXJzLW1haW4tZGFyaywgI2YwZik7XG4gIGJvcmRlci10b3A6IDNweCBzb2xpZCB0cmFuc3BhcmVudDtcbn1cbi5mMmhfX3NhdmVfYnRuOmhvdmVyIHtcbiAgYm9yZGVyLXRvcDogMDtcbiAgYm9yZGVyLWJvdHRvbS13aWR0aDogNXB4O1xuICBib3gtc2hhZG93OiAwIDRweCAycHggcmdiYSgwLCAwLCAwLCAwLjEpO1xufVxuLmYyaF9fc2F2ZV9idG46YWN0aXZlIHtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLWNvbG91cnMtbWFpbi1kYXJrLCAjZjBmKTtcbiAgYm9yZGVyLXRvcDogM3B4IHNvbGlkIHRyYW5zcGFyZW50O1xufVxuXG4uZjJoX19zYXZlX2J0bjpsYXN0LW9mLXR5cGUge1xuICBtYXJnaW46IDA7XG59XG5cbi5mMmhfX3NhdmVfb3B0aW9ucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uZjJoX19zYXZlX19zdWJoZWFkIHtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLW1lZGl1bSwgMSk7XG4gIG1hcmdpbjogdmFyKC0tcGFkZGluZy1sYXJnZSwgMCkgMCB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgcGFkZGluZy1ib3R0b206IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpO1xufVxuXG4uZjJoX19zYXZlX2FkdmFuY2VkIHtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjFzO1xufVxuLmYyaF9fc2F2ZV9hZHZhbmNlZC0tb3BlbiB7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi5mMmhfX3NhdmVfYWR2YW5jZWQtaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbn1cblxuLmYyaF9fc2F2ZV9hZHZhbmNlZF90aXRsZSB7XG4gIGZsZXg6IDE7XG59XG5cbi5mMmhfX3NhdmVfYWR2YW5jZWRfc2hvdyB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvdXJzLWdyZXktMywgI2YwZik7XG59XG5cbi5mMmhfX3NhdmVfX3JhdyB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpO1xuICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xuICBmb250LXNpemU6IDExcHg7XG4gIG1pbi1oZWlnaHQ6IDE1MHB4O1xuICBtYXgtaGVpZ2h0OiAzMDBweDtcbn1cblxuLyogUmVzaXplIHdpZGdldCAqL1xuLmYyaF9fcmVzaXplciB7XG4gIHdpZHRoOiAzMnB4O1xuICBoZWlnaHQ6IDMycHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiA2cHg7XG4gIHJpZ2h0OiA2cHg7XG4gIGN1cnNvcjogZ3JhYmJpbmc7XG4gIGJhY2tncm91bmQ6IHJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoXG4gICAgLTQ1ZGVnLFxuICAgICNkMmQyZDIsXG4gICAgI2QyZDJkMiAycHgsXG4gICAgdHJhbnNwYXJlbnQgMXB4LFxuICAgIHRyYW5zcGFyZW50IDhweFxuICApO1xuICBib3JkZXItcmFkaXVzOiAxMDAlIDAgMDtcbn1cblxuLmYyaF9fdG9hc3Qge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktMSwgI2YwZik7XG4gIGNvbG9yOiAjZmZmO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzLXNtYWxsLCAwKTtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwKTtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MsIG9wYWNpdHkgMC4zcyAwLjFzO1xuICBvcGFjaXR5OiAwO1xufVxuXG4uZjJoX190b2FzdC0tb3BlbiB7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC0xMDAlKTtcbiAgb3BhY2l0eTogMTtcbn1cblxuLyogW1Jlc3BvbnNpdmUgcHJldmlld10gKi9cbi5mMmhfX3Jlc3BvbnNpdmVfcHJldmlldyB7XG4gIC8qIHdpZHRoOiAzMDBweDsgKi9cbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xufVxuXG4uZjJoX19yZXNwb25zaXZlX193cmFwcGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgd2lkdGg6IDUwMHB4O1xufVxuXG4uZjJoX19ydWxlciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogZ3JpZDtcbiAganVzdGlmeS1pdGVtczogY2VudGVyO1xufVxuLmYyaF9fcnVsZXJfYnJlYWsge1xuICBoZWlnaHQ6IHZhcigtLXBhZGRpbmctbWVkaXVtLCAxMHB4KTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpO1xuICBib3JkZXI6IDJweCBzb2xpZCAjZmZmO1xuICBncmlkLXJvdzogMS8yO1xuICBncmlkLWNvbHVtbjogMS8yO1xuICBib3JkZXItdG9wOiBub25lO1xuICBib3JkZXItYm90dG9tOiBub25lO1xufVxuLmYyaF9fcnVsZXJfYnJlYWstLTAge1xuICB3aWR0aDogMzIwcHg7XG4gIHotaW5kZXg6IDM7XG59XG4uZjJoX19ydWxlcl9icmVhay0tMSB7XG4gIHdpZHRoOiA0NTBweDtcbiAgei1pbmRleDogMjtcbn1cbi5mMmhfX3J1bGVyX2JyZWFrLS0yIHtcbiAgd2lkdGg6IDY0MHB4O1xuICB6LWluZGV4OiAxO1xufVxuXG4uZjJoX19yZXNwb25zaXZlX19zYW5kYm94IHtcbiAgcmVzaXplOiBib3RoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpO1xuICBtYXJnaW46IHZhcigtLXBhZGRpbmctc21hbGwsIDApIDA7XG5cbiAgLyogaHR0cHM6Ly9sZWF2ZXJvdS5naXRodWIuaW8vY3NzM3BhdHRlcm5zLyNjaGVja2VyYm9hcmQgKi9cbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KFxuICAgICAgNDVkZWcsXG4gICAgICB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZikgMjUlLFxuICAgICAgdHJhbnNwYXJlbnQgMjUlLFxuICAgICAgdHJhbnNwYXJlbnQgNzUlLFxuICAgICAgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpIDc1JSxcbiAgICAgIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKVxuICAgICksXG4gICAgbGluZWFyLWdyYWRpZW50KFxuICAgICAgNDVkZWcsXG4gICAgICB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZikgMjUlLFxuICAgICAgdHJhbnNwYXJlbnQgMjUlLFxuICAgICAgdHJhbnNwYXJlbnQgNzUlLFxuICAgICAgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpIDc1JSxcbiAgICAgIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKVxuICAgICk7XG4gIGJhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4O1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDAsIDEwcHggMTBweDtcbn1cbiIsICJ2YXIgbixsLHUsaSx0LG8scixmLGU9e30sYz1bXSxhPS9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8Z3JpZHxvd3N8bW5jfG50d3xpbmVbY2hdfHpvb3xeb3JkfGl0ZXJhL2k7ZnVuY3Rpb24gcyhuLGwpe2Zvcih2YXIgdSBpbiBsKW5bdV09bFt1XTtyZXR1cm4gbn1mdW5jdGlvbiB2KG4pe3ZhciBsPW4ucGFyZW50Tm9kZTtsJiZsLnJlbW92ZUNoaWxkKG4pfWZ1bmN0aW9uIGgobixsLHUpe3ZhciBpLHQ9YXJndW1lbnRzLG89e307Zm9yKGkgaW4gbClcImtleVwiIT09aSYmXCJyZWZcIiE9PWkmJihvW2ldPWxbaV0pO2lmKGFyZ3VtZW50cy5sZW5ndGg+Mylmb3IodT1bdV0saT0zO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspdS5wdXNoKHRbaV0pO2lmKG51bGwhPXUmJihvLmNoaWxkcmVuPXUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm51bGwhPW4uZGVmYXVsdFByb3BzKWZvcihpIGluIG4uZGVmYXVsdFByb3BzKXZvaWQgMD09PW9baV0mJihvW2ldPW4uZGVmYXVsdFByb3BzW2ldKTtyZXR1cm4geShuLG8sbCYmbC5rZXksbCYmbC5yZWYsbnVsbCl9ZnVuY3Rpb24geShsLHUsaSx0LG8pe3ZhciByPXt0eXBlOmwscHJvcHM6dSxrZXk6aSxyZWY6dCxfX2s6bnVsbCxfXzpudWxsLF9fYjowLF9fZTpudWxsLF9fZDp2b2lkIDAsX19jOm51bGwsY29uc3RydWN0b3I6dm9pZCAwLF9fdjpvfTtyZXR1cm4gbnVsbD09byYmKHIuX192PXIpLG4udm5vZGUmJm4udm5vZGUocikscn1mdW5jdGlvbiBwKCl7cmV0dXJue319ZnVuY3Rpb24gZChuKXtyZXR1cm4gbi5jaGlsZHJlbn1mdW5jdGlvbiBtKG4sbCl7dGhpcy5wcm9wcz1uLHRoaXMuY29udGV4dD1sfWZ1bmN0aW9uIHcobixsKXtpZihudWxsPT1sKXJldHVybiBuLl9fP3cobi5fXyxuLl9fLl9fay5pbmRleE9mKG4pKzEpOm51bGw7Zm9yKHZhciB1O2w8bi5fX2subGVuZ3RoO2wrKylpZihudWxsIT0odT1uLl9fa1tsXSkmJm51bGwhPXUuX19lKXJldHVybiB1Ll9fZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuLnR5cGU/dyhuKTpudWxsfWZ1bmN0aW9uIGsobil7dmFyIGwsdTtpZihudWxsIT0obj1uLl9fKSYmbnVsbCE9bi5fX2Mpe2ZvcihuLl9fZT1uLl9fYy5iYXNlPW51bGwsbD0wO2w8bi5fX2subGVuZ3RoO2wrKylpZihudWxsIT0odT1uLl9fa1tsXSkmJm51bGwhPXUuX19lKXtuLl9fZT1uLl9fYy5iYXNlPXUuX19lO2JyZWFrfXJldHVybiBrKG4pfX1mdW5jdGlvbiBnKGwpeyghbC5fX2QmJihsLl9fZD0hMCkmJnUucHVzaChsKSYmIWkrK3x8byE9PW4uZGVib3VuY2VSZW5kZXJpbmcpJiYoKG89bi5kZWJvdW5jZVJlbmRlcmluZyl8fHQpKF8pfWZ1bmN0aW9uIF8oKXtmb3IodmFyIG47aT11Lmxlbmd0aDspbj11LnNvcnQoZnVuY3Rpb24obixsKXtyZXR1cm4gbi5fX3YuX19iLWwuX192Ll9fYn0pLHU9W10sbi5zb21lKGZ1bmN0aW9uKG4pe3ZhciBsLHUsaSx0LG8scixmO24uX19kJiYocj0obz0obD1uKS5fX3YpLl9fZSwoZj1sLl9fUCkmJih1PVtdLChpPXMoe30sbykpLl9fdj1pLHQ9eihmLG8saSxsLl9fbix2b2lkIDAhPT1mLm93bmVyU1ZHRWxlbWVudCxudWxsLHUsbnVsbD09cj93KG8pOnIpLFQodSxvKSx0IT1yJiZrKG8pKSl9KX1mdW5jdGlvbiBiKG4sbCx1LGksdCxvLHIsZixhLHMpe3ZhciBoLHAsbSxrLGcsXyxiLHgsQSxQPWkmJmkuX19rfHxjLEM9UC5sZW5ndGg7Zm9yKGE9PWUmJihhPW51bGwhPXI/clswXTpDP3coaSwwKTpudWxsKSx1Ll9faz1bXSxoPTA7aDxsLmxlbmd0aDtoKyspaWYobnVsbCE9KGs9dS5fX2tbaF09bnVsbD09KGs9bFtoXSl8fFwiYm9vbGVhblwiPT10eXBlb2Ygaz9udWxsOlwic3RyaW5nXCI9PXR5cGVvZiBrfHxcIm51bWJlclwiPT10eXBlb2Ygaz95KG51bGwsayxudWxsLG51bGwsayk6QXJyYXkuaXNBcnJheShrKT95KGQse2NoaWxkcmVuOmt9LG51bGwsbnVsbCxudWxsKTpudWxsIT1rLl9fZXx8bnVsbCE9ay5fX2M/eShrLnR5cGUsay5wcm9wcyxrLmtleSxudWxsLGsuX192KTprKSl7aWYoay5fXz11LGsuX19iPXUuX19iKzEsbnVsbD09PShtPVBbaF0pfHxtJiZrLmtleT09bS5rZXkmJmsudHlwZT09PW0udHlwZSlQW2hdPXZvaWQgMDtlbHNlIGZvcihwPTA7cDxDO3ArKyl7aWYoKG09UFtwXSkmJmsua2V5PT1tLmtleSYmay50eXBlPT09bS50eXBlKXtQW3BdPXZvaWQgMDticmVha31tPW51bGx9aWYoZz16KG4sayxtPW18fGUsdCxvLHIsZixhLHMpLChwPWsucmVmKSYmbS5yZWYhPXAmJih4fHwoeD1bXSksbS5yZWYmJngucHVzaChtLnJlZixudWxsLGspLHgucHVzaChwLGsuX19jfHxnLGspKSxudWxsIT1nKXtpZihudWxsPT1iJiYoYj1nKSxBPXZvaWQgMCx2b2lkIDAhPT1rLl9fZClBPWsuX19kLGsuX19kPXZvaWQgMDtlbHNlIGlmKHI9PW18fGchPWF8fG51bGw9PWcucGFyZW50Tm9kZSl7bjppZihudWxsPT1hfHxhLnBhcmVudE5vZGUhPT1uKW4uYXBwZW5kQ2hpbGQoZyksQT1udWxsO2Vsc2V7Zm9yKF89YSxwPTA7KF89Xy5uZXh0U2libGluZykmJnA8QztwKz0yKWlmKF89PWcpYnJlYWsgbjtuLmluc2VydEJlZm9yZShnLGEpLEE9YX1cIm9wdGlvblwiPT11LnR5cGUmJihuLnZhbHVlPVwiXCIpfWE9dm9pZCAwIT09QT9BOmcubmV4dFNpYmxpbmcsXCJmdW5jdGlvblwiPT10eXBlb2YgdS50eXBlJiYodS5fX2Q9YSl9ZWxzZSBhJiZtLl9fZT09YSYmYS5wYXJlbnROb2RlIT1uJiYoYT13KG0pKX1pZih1Ll9fZT1iLG51bGwhPXImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHUudHlwZSlmb3IoaD1yLmxlbmd0aDtoLS07KW51bGwhPXJbaF0mJnYocltoXSk7Zm9yKGg9QztoLS07KW51bGwhPVBbaF0mJkQoUFtoXSxQW2hdKTtpZih4KWZvcihoPTA7aDx4Lmxlbmd0aDtoKyspaih4W2hdLHhbKytoXSx4WysraF0pfWZ1bmN0aW9uIHgobil7cmV0dXJuIG51bGw9PW58fFwiYm9vbGVhblwiPT10eXBlb2Ygbj9bXTpBcnJheS5pc0FycmF5KG4pP2MuY29uY2F0LmFwcGx5KFtdLG4ubWFwKHgpKTpbbl19ZnVuY3Rpb24gQShuLGwsdSxpLHQpe3ZhciBvO2ZvcihvIGluIHUpXCJjaGlsZHJlblwiPT09b3x8XCJrZXlcIj09PW98fG8gaW4gbHx8QyhuLG8sbnVsbCx1W29dLGkpO2ZvcihvIGluIGwpdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgbFtvXXx8XCJjaGlsZHJlblwiPT09b3x8XCJrZXlcIj09PW98fFwidmFsdWVcIj09PW98fFwiY2hlY2tlZFwiPT09b3x8dVtvXT09PWxbb118fEMobixvLGxbb10sdVtvXSxpKX1mdW5jdGlvbiBQKG4sbCx1KXtcIi1cIj09PWxbMF0/bi5zZXRQcm9wZXJ0eShsLHUpOm5bbF09XCJudW1iZXJcIj09dHlwZW9mIHUmJiExPT09YS50ZXN0KGwpP3UrXCJweFwiOm51bGw9PXU/XCJcIjp1fWZ1bmN0aW9uIEMobixsLHUsaSx0KXt2YXIgbyxyLGYsZSxjO2lmKHQ/XCJjbGFzc05hbWVcIj09PWwmJihsPVwiY2xhc3NcIik6XCJjbGFzc1wiPT09bCYmKGw9XCJjbGFzc05hbWVcIiksXCJzdHlsZVwiPT09bClpZihvPW4uc3R5bGUsXCJzdHJpbmdcIj09dHlwZW9mIHUpby5jc3NUZXh0PXU7ZWxzZXtpZihcInN0cmluZ1wiPT10eXBlb2YgaSYmKG8uY3NzVGV4dD1cIlwiLGk9bnVsbCksaSlmb3IoZSBpbiBpKXUmJmUgaW4gdXx8UChvLGUsXCJcIik7aWYodSlmb3IoYyBpbiB1KWkmJnVbY109PT1pW2NdfHxQKG8sYyx1W2NdKX1lbHNlXCJvXCI9PT1sWzBdJiZcIm5cIj09PWxbMV0/KHI9bCE9PShsPWwucmVwbGFjZSgvQ2FwdHVyZSQvLFwiXCIpKSxmPWwudG9Mb3dlckNhc2UoKSxsPShmIGluIG4/ZjpsKS5zbGljZSgyKSx1PyhpfHxuLmFkZEV2ZW50TGlzdGVuZXIobCxOLHIpLChuLmx8fChuLmw9e30pKVtsXT11KTpuLnJlbW92ZUV2ZW50TGlzdGVuZXIobCxOLHIpKTpcImxpc3RcIiE9PWwmJlwidGFnTmFtZVwiIT09bCYmXCJmb3JtXCIhPT1sJiZcInR5cGVcIiE9PWwmJlwic2l6ZVwiIT09bCYmIXQmJmwgaW4gbj9uW2xdPW51bGw9PXU/XCJcIjp1OlwiZnVuY3Rpb25cIiE9dHlwZW9mIHUmJlwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIiE9PWwmJihsIT09KGw9bC5yZXBsYWNlKC9eeGxpbms6Py8sXCJcIikpP251bGw9PXV8fCExPT09dT9uLnJlbW92ZUF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLGwudG9Mb3dlckNhc2UoKSk6bi5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixsLnRvTG93ZXJDYXNlKCksdSk6bnVsbD09dXx8ITE9PT11JiYhL15hci8udGVzdChsKT9uLnJlbW92ZUF0dHJpYnV0ZShsKTpuLnNldEF0dHJpYnV0ZShsLHUpKX1mdW5jdGlvbiBOKGwpe3RoaXMubFtsLnR5cGVdKG4uZXZlbnQ/bi5ldmVudChsKTpsKX1mdW5jdGlvbiB6KGwsdSxpLHQsbyxyLGYsZSxjKXt2YXIgYSx2LGgseSxwLHcsayxnLF8seCxBLFA9dS50eXBlO2lmKHZvaWQgMCE9PXUuY29uc3RydWN0b3IpcmV0dXJuIG51bGw7KGE9bi5fX2IpJiZhKHUpO3RyeXtuOmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFApe2lmKGc9dS5wcm9wcyxfPShhPVAuY29udGV4dFR5cGUpJiZ0W2EuX19jXSx4PWE/Xz9fLnByb3BzLnZhbHVlOmEuX186dCxpLl9fYz9rPSh2PXUuX19jPWkuX19jKS5fXz12Ll9fRTooXCJwcm90b3R5cGVcImluIFAmJlAucHJvdG90eXBlLnJlbmRlcj91Ll9fYz12PW5ldyBQKGcseCk6KHUuX19jPXY9bmV3IG0oZyx4KSx2LmNvbnN0cnVjdG9yPVAsdi5yZW5kZXI9RSksXyYmXy5zdWIodiksdi5wcm9wcz1nLHYuc3RhdGV8fCh2LnN0YXRlPXt9KSx2LmNvbnRleHQ9eCx2Ll9fbj10LGg9di5fX2Q9ITAsdi5fX2g9W10pLG51bGw9PXYuX19zJiYodi5fX3M9di5zdGF0ZSksbnVsbCE9UC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJih2Ll9fcz09di5zdGF0ZSYmKHYuX19zPXMoe30sdi5fX3MpKSxzKHYuX19zLFAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKGcsdi5fX3MpKSkseT12LnByb3BzLHA9di5zdGF0ZSxoKW51bGw9PVAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZudWxsIT12LmNvbXBvbmVudFdpbGxNb3VudCYmdi5jb21wb25lbnRXaWxsTW91bnQoKSxudWxsIT12LmNvbXBvbmVudERpZE1vdW50JiZ2Ll9faC5wdXNoKHYuY29tcG9uZW50RGlkTW91bnQpO2Vsc2V7aWYobnVsbD09UC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJmchPT15JiZudWxsIT12LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJnYuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhnLHgpLCF2Ll9fZSYmbnVsbCE9di5zaG91bGRDb21wb25lbnRVcGRhdGUmJiExPT09di5zaG91bGRDb21wb25lbnRVcGRhdGUoZyx2Ll9fcyx4KXx8dS5fX3Y9PT1pLl9fdil7Zm9yKHYucHJvcHM9Zyx2LnN0YXRlPXYuX19zLHUuX192IT09aS5fX3YmJih2Ll9fZD0hMSksdi5fX3Y9dSx1Ll9fZT1pLl9fZSx1Ll9faz1pLl9fayx2Ll9faC5sZW5ndGgmJmYucHVzaCh2KSxhPTA7YTx1Ll9fay5sZW5ndGg7YSsrKXUuX19rW2FdJiYodS5fX2tbYV0uX189dSk7YnJlYWsgbn1udWxsIT12LmNvbXBvbmVudFdpbGxVcGRhdGUmJnYuY29tcG9uZW50V2lsbFVwZGF0ZShnLHYuX19zLHgpLG51bGwhPXYuY29tcG9uZW50RGlkVXBkYXRlJiZ2Ll9faC5wdXNoKGZ1bmN0aW9uKCl7di5jb21wb25lbnREaWRVcGRhdGUoeSxwLHcpfSl9di5jb250ZXh0PXgsdi5wcm9wcz1nLHYuc3RhdGU9di5fX3MsKGE9bi5fX3IpJiZhKHUpLHYuX19kPSExLHYuX192PXUsdi5fX1A9bCxhPXYucmVuZGVyKHYucHJvcHMsdi5zdGF0ZSx2LmNvbnRleHQpLG51bGwhPXYuZ2V0Q2hpbGRDb250ZXh0JiYodD1zKHMoe30sdCksdi5nZXRDaGlsZENvbnRleHQoKSkpLGh8fG51bGw9PXYuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fCh3PXYuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoeSxwKSksQT1udWxsIT1hJiZhLnR5cGU9PWQmJm51bGw9PWEua2V5P2EucHJvcHMuY2hpbGRyZW46YSxiKGwsQXJyYXkuaXNBcnJheShBKT9BOltBXSx1LGksdCxvLHIsZixlLGMpLHYuYmFzZT11Ll9fZSx2Ll9faC5sZW5ndGgmJmYucHVzaCh2KSxrJiYodi5fX0U9di5fXz1udWxsKSx2Ll9fZT0hMX1lbHNlIG51bGw9PXImJnUuX192PT09aS5fX3Y/KHUuX19rPWkuX19rLHUuX19lPWkuX19lKTp1Ll9fZT0kKGkuX19lLHUsaSx0LG8scixmLGMpOyhhPW4uZGlmZmVkKSYmYSh1KX1jYXRjaChsKXt1Ll9fdj1udWxsLG4uX19lKGwsdSxpKX1yZXR1cm4gdS5fX2V9ZnVuY3Rpb24gVChsLHUpe24uX19jJiZuLl9fYyh1LGwpLGwuc29tZShmdW5jdGlvbih1KXt0cnl7bD11Ll9faCx1Ll9faD1bXSxsLnNvbWUoZnVuY3Rpb24obil7bi5jYWxsKHUpfSl9Y2F0Y2gobCl7bi5fX2UobCx1Ll9fdil9fSl9ZnVuY3Rpb24gJChuLGwsdSxpLHQsbyxyLGYpe3ZhciBhLHMsdixoLHkscD11LnByb3BzLGQ9bC5wcm9wcztpZih0PVwic3ZnXCI9PT1sLnR5cGV8fHQsbnVsbCE9bylmb3IoYT0wO2E8by5sZW5ndGg7YSsrKWlmKG51bGwhPShzPW9bYV0pJiYoKG51bGw9PT1sLnR5cGU/Mz09PXMubm9kZVR5cGU6cy5sb2NhbE5hbWU9PT1sLnR5cGUpfHxuPT1zKSl7bj1zLG9bYV09bnVsbDticmVha31pZihudWxsPT1uKXtpZihudWxsPT09bC50eXBlKXJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkKTtuPXQ/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixsLnR5cGUpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobC50eXBlLGQuaXMmJntpczpkLmlzfSksbz1udWxsLGY9ITF9aWYobnVsbD09PWwudHlwZSlwIT09ZCYmbi5kYXRhIT1kJiYobi5kYXRhPWQpO2Vsc2V7aWYobnVsbCE9byYmKG89Yy5zbGljZS5jYWxsKG4uY2hpbGROb2RlcykpLHY9KHA9dS5wcm9wc3x8ZSkuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsaD1kLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLCFmKXtpZihudWxsIT1vKWZvcihwPXt9LHk9MDt5PG4uYXR0cmlidXRlcy5sZW5ndGg7eSsrKXBbbi5hdHRyaWJ1dGVzW3ldLm5hbWVdPW4uYXR0cmlidXRlc1t5XS52YWx1ZTsoaHx8dikmJihoJiZ2JiZoLl9faHRtbD09di5fX2h0bWx8fChuLmlubmVySFRNTD1oJiZoLl9faHRtbHx8XCJcIikpfUEobixkLHAsdCxmKSxoP2wuX19rPVtdOihhPWwucHJvcHMuY2hpbGRyZW4sYihuLEFycmF5LmlzQXJyYXkoYSk/YTpbYV0sbCx1LGksXCJmb3JlaWduT2JqZWN0XCIhPT1sLnR5cGUmJnQsbyxyLGUsZikpLGZ8fChcInZhbHVlXCJpbiBkJiZ2b2lkIDAhPT0oYT1kLnZhbHVlKSYmYSE9PW4udmFsdWUmJkMobixcInZhbHVlXCIsYSxwLnZhbHVlLCExKSxcImNoZWNrZWRcImluIGQmJnZvaWQgMCE9PShhPWQuY2hlY2tlZCkmJmEhPT1uLmNoZWNrZWQmJkMobixcImNoZWNrZWRcIixhLHAuY2hlY2tlZCwhMSkpfXJldHVybiBufWZ1bmN0aW9uIGoobCx1LGkpe3RyeXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBsP2wodSk6bC5jdXJyZW50PXV9Y2F0Y2gobCl7bi5fX2UobCxpKX19ZnVuY3Rpb24gRChsLHUsaSl7dmFyIHQsbyxyO2lmKG4udW5tb3VudCYmbi51bm1vdW50KGwpLCh0PWwucmVmKSYmKHQuY3VycmVudCYmdC5jdXJyZW50IT09bC5fX2V8fGoodCxudWxsLHUpKSxpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBsLnR5cGV8fChpPW51bGwhPShvPWwuX19lKSksbC5fX2U9bC5fX2Q9dm9pZCAwLG51bGwhPSh0PWwuX19jKSl7aWYodC5jb21wb25lbnRXaWxsVW5tb3VudCl0cnl7dC5jb21wb25lbnRXaWxsVW5tb3VudCgpfWNhdGNoKGwpe24uX19lKGwsdSl9dC5iYXNlPXQuX19QPW51bGx9aWYodD1sLl9faylmb3Iocj0wO3I8dC5sZW5ndGg7cisrKXRbcl0mJkQodFtyXSx1LGkpO251bGwhPW8mJnYobyl9ZnVuY3Rpb24gRShuLGwsdSl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3Iobix1KX1mdW5jdGlvbiBIKGwsdSxpKXt2YXIgdCxvLGY7bi5fXyYmbi5fXyhsLHUpLG89KHQ9aT09PXIpP251bGw6aSYmaS5fX2t8fHUuX19rLGw9aChkLG51bGwsW2xdKSxmPVtdLHoodSwodD91Oml8fHUpLl9faz1sLG98fGUsZSx2b2lkIDAhPT11Lm93bmVyU1ZHRWxlbWVudCxpJiYhdD9baV06bz9udWxsOnUuY2hpbGROb2Rlcy5sZW5ndGg/Yy5zbGljZS5jYWxsKHUuY2hpbGROb2Rlcyk6bnVsbCxmLGl8fGUsdCksVChmLGwpfWZ1bmN0aW9uIEkobixsKXtIKG4sbCxyKX1mdW5jdGlvbiBMKG4sbCl7dmFyIHUsaTtmb3IoaSBpbiBsPXMocyh7fSxuLnByb3BzKSxsKSxhcmd1bWVudHMubGVuZ3RoPjImJihsLmNoaWxkcmVuPWMuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpLHU9e30sbClcImtleVwiIT09aSYmXCJyZWZcIiE9PWkmJih1W2ldPWxbaV0pO3JldHVybiB5KG4udHlwZSx1LGwua2V5fHxuLmtleSxsLnJlZnx8bi5yZWYsbnVsbCl9ZnVuY3Rpb24gTShuKXt2YXIgbD17fSx1PXtfX2M6XCJfX2NDXCIrZisrLF9fOm4sQ29uc3VtZXI6ZnVuY3Rpb24obixsKXtyZXR1cm4gbi5jaGlsZHJlbihsKX0sUHJvdmlkZXI6ZnVuY3Rpb24obil7dmFyIGksdD10aGlzO3JldHVybiB0aGlzLmdldENoaWxkQ29udGV4dHx8KGk9W10sdGhpcy5nZXRDaGlsZENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbFt1Ll9fY109dCxsfSx0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZT1mdW5jdGlvbihuKXt0LnByb3BzLnZhbHVlIT09bi52YWx1ZSYmaS5zb21lKGZ1bmN0aW9uKGwpe2wuY29udGV4dD1uLnZhbHVlLGcobCl9KX0sdGhpcy5zdWI9ZnVuY3Rpb24obil7aS5wdXNoKG4pO3ZhciBsPW4uY29tcG9uZW50V2lsbFVubW91bnQ7bi5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe2kuc3BsaWNlKGkuaW5kZXhPZihuKSwxKSxsJiZsLmNhbGwobil9fSksbi5jaGlsZHJlbn19O3JldHVybiB1LkNvbnN1bWVyLmNvbnRleHRUeXBlPXUsdS5Qcm92aWRlci5fXz11LHV9bj17X19lOmZ1bmN0aW9uKG4sbCl7Zm9yKHZhciB1LGk7bD1sLl9fOylpZigodT1sLl9fYykmJiF1Ll9fKXRyeXtpZih1LmNvbnN0cnVjdG9yJiZudWxsIT11LmNvbnN0cnVjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciYmKGk9ITAsdS5zZXRTdGF0ZSh1LmNvbnN0cnVjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihuKSkpLG51bGwhPXUuY29tcG9uZW50RGlkQ2F0Y2gmJihpPSEwLHUuY29tcG9uZW50RGlkQ2F0Y2gobikpLGkpcmV0dXJuIGcodS5fX0U9dSl9Y2F0Y2gobCl7bj1sfXRocm93IG59fSxsPWZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiZ2b2lkIDA9PT1uLmNvbnN0cnVjdG9yfSxtLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihuLGwpe3ZhciB1O3U9dGhpcy5fX3MhPT10aGlzLnN0YXRlP3RoaXMuX19zOnRoaXMuX19zPXMoe30sdGhpcy5zdGF0ZSksXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKG49bih1LHRoaXMucHJvcHMpKSxuJiZzKHUsbiksbnVsbCE9biYmdGhpcy5fX3YmJihsJiZ0aGlzLl9faC5wdXNoKGwpLGcodGhpcykpfSxtLnByb3RvdHlwZS5mb3JjZVVwZGF0ZT1mdW5jdGlvbihuKXt0aGlzLl9fdiYmKHRoaXMuX19lPSEwLG4mJnRoaXMuX19oLnB1c2gobiksZyh0aGlzKSl9LG0ucHJvdG90eXBlLnJlbmRlcj1kLHU9W10saT0wLHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlLnByb3RvdHlwZS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpOnNldFRpbWVvdXQscj1lLGY9MDtleHBvcnR7SCBhcyByZW5kZXIsSSBhcyBoeWRyYXRlLGggYXMgY3JlYXRlRWxlbWVudCxoLGQgYXMgRnJhZ21lbnQscCBhcyBjcmVhdGVSZWYsbCBhcyBpc1ZhbGlkRWxlbWVudCxtIGFzIENvbXBvbmVudCxMIGFzIGNsb25lRWxlbWVudCxNIGFzIGNyZWF0ZUNvbnRleHQseCBhcyB0b0NoaWxkQXJyYXksRCBhcyBfdW5tb3VudCxuIGFzIG9wdGlvbnN9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJlYWN0Lm1vZHVsZS5qcy5tYXBcbiIsICJleHBvcnQgZnVuY3Rpb24gaW5qZWN0Q3NzKGNzczogc3RyaW5nKSB7XG4gIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIGNvbnN0IHN0eWxlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gIHN0eWxlRWwuYXBwZW5kQ2hpbGQoc3R5bGVUZXh0KTtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbn1cbiIsICJmdW5jdGlvbiB0KHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkobj4xP24tMTowKSxlPTE7ZTxuO2UrKylyW2UtMV09YXJndW1lbnRzW2VdO2lmKFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYpe3ZhciBpPVFbdF0sbz1pP1wiZnVuY3Rpb25cIj09dHlwZW9mIGk/aS5hcHBseShudWxsLHIpOmk6XCJ1bmtub3duIGVycm9yIG5yOiBcIit0O3Rocm93IEVycm9yKFwiW0ltbWVyXSBcIitvKX10aHJvdyBFcnJvcihcIltJbW1lcl0gbWluaWZpZWQgZXJyb3IgbnI6IFwiK3QrKHIubGVuZ3RoP1wiIFwiK3Iuam9pbihcIixcIik6XCJcIikrXCIuIEZpbmQgdGhlIGZ1bGwgZXJyb3IgYXQ6IGh0dHBzOi8vYml0Lmx5LzNjWEVLV2ZcIil9ZnVuY3Rpb24gbih0KXtyZXR1cm4hIXQmJiEhdFtIXX1mdW5jdGlvbiByKHQpe3JldHVybiEhdCYmKGZ1bmN0aW9uKHQpe2lmKCF0fHxcIm9iamVjdFwiIT10eXBlb2YgdClyZXR1cm4hMTt2YXIgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIW58fG49PT1PYmplY3QucHJvdG90eXBlfSh0KXx8QXJyYXkuaXNBcnJheSh0KXx8ISF0W0JdfHwhIXQuY29uc3RydWN0b3JbQl18fHModCl8fHAodCkpfWZ1bmN0aW9uIGUocil7cmV0dXJuIG4ocil8fHQoMjMscikscltIXS50fWZ1bmN0aW9uIGkodCxuLHIpe3ZvaWQgMD09PXImJihyPSExKSwwPT09byh0KT8ocj9PYmplY3Qua2V5czpWKSh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtyJiZcInN5bWJvbFwiPT10eXBlb2YgZXx8bihlLHRbZV0sdCl9KSk6dC5mb3JFYWNoKChmdW5jdGlvbihyLGUpe3JldHVybiBuKGUscix0KX0pKX1mdW5jdGlvbiBvKHQpe3ZhciBuPXRbSF07cmV0dXJuIG4/bi5pPjM/bi5pLTQ6bi5pOkFycmF5LmlzQXJyYXkodCk/MTpzKHQpPzI6cCh0KT8zOjB9ZnVuY3Rpb24gdSh0LG4pe3JldHVybiAyPT09byh0KT90LmhhcyhuKTpPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKX1mdW5jdGlvbiBhKHQsbil7cmV0dXJuIDI9PT1vKHQpP3QuZ2V0KG4pOnRbbl19ZnVuY3Rpb24gZih0LG4scil7dmFyIGU9byh0KTsyPT09ZT90LnNldChuLHIpOjM9PT1lPyh0LmRlbGV0ZShuKSx0LmFkZChyKSk6dFtuXT1yfWZ1bmN0aW9uIGModCxuKXtyZXR1cm4gdD09PW4/MCE9PXR8fDEvdD09MS9uOnQhPXQmJm4hPW59ZnVuY3Rpb24gcyh0KXtyZXR1cm4gVSYmdCBpbnN0YW5jZW9mIE1hcH1mdW5jdGlvbiBwKHQpe3JldHVybiBXJiZ0IGluc3RhbmNlb2YgU2V0fWZ1bmN0aW9uIHYodCl7cmV0dXJuIHQub3x8dC50fWZ1bmN0aW9uIGwodCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5zbGljZSgpO3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpO2Zvcih2YXIgciBpbiBkZWxldGUgbltIXSxuKXt2YXIgZT1uW3JdOyExPT09ZS53cml0YWJsZSYmKGUud3JpdGFibGU9ITAsZS5jb25maWd1cmFibGU9ITApLChlLmdldHx8ZS5zZXQpJiYobltyXT17Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ZS5lbnVtZXJhYmxlLHZhbHVlOnRbcl19KX1yZXR1cm4gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodCksbil9ZnVuY3Rpb24gZCh0LGUpe09iamVjdC5pc0Zyb3plbih0KXx8bih0KXx8IXIodCl8fChvKHQpPjEmJih0LnNldD10LmFkZD10LmNsZWFyPXQuZGVsZXRlPWgpLE9iamVjdC5mcmVlemUodCksZSYmaSh0LChmdW5jdGlvbih0LG4pe3JldHVybiBkKG4sITApfSksITApKX1mdW5jdGlvbiBoKCl7dCgyKX1mdW5jdGlvbiBiKG4pe3ZhciByPVlbbl07cmV0dXJuIHJ8fHQoXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOVj8xODoxOSxuKSxyfWZ1bmN0aW9uIHkodCxuKXtZW3RdPW59ZnVuY3Rpb24gbSgpe3JldHVyblwicHJvZHVjdGlvblwiPT09cHJvY2Vzcy5lbnYuTk9ERV9FTlZ8fCR8fHQoMCksJH1mdW5jdGlvbiBfKHQsbil7biYmKGIoXCJQYXRjaGVzXCIpLHQudT1bXSx0LnM9W10sdC5wPW4pfWZ1bmN0aW9uIGoodCl7Tyh0KSx0LnYuZm9yRWFjaCh3KSx0LnY9bnVsbH1mdW5jdGlvbiBPKHQpe3Q9PT0kJiYoJD10LmwpfWZ1bmN0aW9uIGcodCl7cmV0dXJuICQ9e3Y6W10sbDokLGg6dCxtOiEwLF86MH19ZnVuY3Rpb24gdyh0KXt2YXIgbj10W0hdOzA9PT1uLml8fDE9PT1uLmk/bi5qKCk6bi5PPSEwfWZ1bmN0aW9uIFMobixlKXtlLl89ZS52Lmxlbmd0aDt2YXIgaT1lLnZbMF0sbz12b2lkIDAhPT1uJiZuIT09aTtyZXR1cm4gZS5oLmd8fGIoXCJFUzVcIikuUyhlLG4sbyksbz8oaVtIXS5QJiYoaihlKSx0KDQpKSxyKG4pJiYobj1QKGUsbiksZS5sfHxBKGUsbikpLGUudSYmYihcIlBhdGNoZXNcIikuTShpW0hdLG4sZS51LGUucykpOm49UChlLGksW10pLGooZSksZS51JiZlLnAoZS51LGUucyksbiE9PXE/bjp2b2lkIDB9ZnVuY3Rpb24gUCh0LG4scil7aWYobnVsbD09KGU9bil8fFwib2JqZWN0XCIhPXR5cGVvZiBlfHxPYmplY3QuaXNGcm96ZW4oZSkpcmV0dXJuIG47dmFyIGUsbz1uW0hdO2lmKCFvKXJldHVybiBpKG4sKGZ1bmN0aW9uKGUsaSl7cmV0dXJuIE0odCxvLG4sZSxpLHIpfSksITApLG47aWYoby5BIT09dClyZXR1cm4gbjtpZighby5QKXJldHVybiBBKHQsby50LCEwKSxvLnQ7aWYoIW8uSSl7by5JPSEwLG8uQS5fLS07dmFyIHU9ND09PW8uaXx8NT09PW8uaT9vLm89bChvLmspOm8ubztpKHUsKGZ1bmN0aW9uKG4sZSl7cmV0dXJuIE0odCxvLHUsbixlLHIpfSkpLEEodCx1LCExKSxyJiZ0LnUmJmIoXCJQYXRjaGVzXCIpLlIobyxyLHQudSx0LnMpfXJldHVybiBvLm99ZnVuY3Rpb24gTShlLGksbyxhLGMscyl7aWYoXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmYz09PW8mJnQoNSksbihjKSl7dmFyIHA9UChlLGMscyYmaSYmMyE9PWkuaSYmIXUoaS5ELGEpP3MuY29uY2F0KGEpOnZvaWQgMCk7aWYoZihvLGEscCksIW4ocCkpcmV0dXJuO2UubT0hMX1pZihyKGMpJiYhT2JqZWN0LmlzRnJvemVuKGMpKXtpZighZS5oLk4mJmUuXzwxKXJldHVybjtQKGUsYyksaSYmaS5BLmx8fEEoZSxjKX19ZnVuY3Rpb24gQSh0LG4scil7dm9pZCAwPT09ciYmKHI9ITEpLHQuaC5OJiZ0Lm0mJmQobixyKX1mdW5jdGlvbiB4KHQsbil7dmFyIHI9dFtIXTtyZXR1cm4ocj92KHIpOnQpW25dfWZ1bmN0aW9uIHoodCl7dC5QfHwodC5QPSEwLHQubCYmeih0LmwpKX1mdW5jdGlvbiBJKHQpe3Qub3x8KHQubz1sKHQudCkpfWZ1bmN0aW9uIEUodCxuLHIpe3ZhciBlPXMobik/YihcIk1hcFNldFwiKS5UKG4scik6cChuKT9iKFwiTWFwU2V0XCIpLkYobixyKTp0Lmc/ZnVuY3Rpb24odCxuKXt2YXIgcj1BcnJheS5pc0FycmF5KHQpLGU9e2k6cj8xOjAsQTpuP24uQTptKCksUDohMSxJOiExLEQ6e30sbDpuLHQ6dCxrOm51bGwsbzpudWxsLGo6bnVsbCxDOiExfSxpPWUsbz1aO3ImJihpPVtlXSxvPXR0KTt2YXIgdT1Qcm94eS5yZXZvY2FibGUoaSxvKSxhPXUucmV2b2tlLGY9dS5wcm94eTtyZXR1cm4gZS5rPWYsZS5qPWEsZn0obixyKTpiKFwiRVM1XCIpLkoobixyKTtyZXR1cm4ocj9yLkE6bSgpKS52LnB1c2goZSksZX1mdW5jdGlvbiBrKGUpe3JldHVybiBuKGUpfHx0KDIyLGUpLGZ1bmN0aW9uIHQobil7aWYoIXIobikpcmV0dXJuIG47dmFyIGUsdT1uW0hdLGM9byhuKTtpZih1KXtpZighdS5QJiYodS5pPDR8fCFiKFwiRVM1XCIpLksodSkpKXJldHVybiB1LnQ7dS5JPSEwLGU9UihuLGMpLHUuST0hMX1lbHNlIGU9UihuLGMpO3JldHVybiBpKGUsKGZ1bmN0aW9uKG4scil7dSYmYSh1LnQsbik9PT1yfHxmKGUsbix0KHIpKX0pKSwzPT09Yz9uZXcgU2V0KGUpOmV9KGUpfWZ1bmN0aW9uIFIodCxuKXtzd2l0Y2gobil7Y2FzZSAyOnJldHVybiBuZXcgTWFwKHQpO2Nhc2UgMzpyZXR1cm4gQXJyYXkuZnJvbSh0KX1yZXR1cm4gbCh0KX1mdW5jdGlvbiBEKCl7ZnVuY3Rpb24gcih0LG4pe3ZhciByPXNbdF07cmV0dXJuIHI/ci5lbnVtZXJhYmxlPW46c1t0XT1yPXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTpuLGdldDpmdW5jdGlvbigpe3ZhciBuPXRoaXNbSF07cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmZihuKSxaLmdldChuLHQpfSxzZXQ6ZnVuY3Rpb24obil7dmFyIHI9dGhpc1tIXTtcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZmKHIpLFouc2V0KHIsdCxuKX19LHJ9ZnVuY3Rpb24gZSh0KXtmb3IodmFyIG49dC5sZW5ndGgtMTtuPj0wO24tLSl7dmFyIHI9dFtuXVtIXTtpZighci5QKXN3aXRjaChyLmkpe2Nhc2UgNTphKHIpJiZ6KHIpO2JyZWFrO2Nhc2UgNDpvKHIpJiZ6KHIpfX19ZnVuY3Rpb24gbyh0KXtmb3IodmFyIG49dC50LHI9dC5rLGU9T2JqZWN0LmtleXMociksaT1lLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgbz1lW2ldLGE9bltvXTtpZih2b2lkIDA9PT1hJiYhdShuLG8pKXJldHVybiEwO3ZhciBmPXJbb10scz1mJiZmW0hdO2lmKHM/cy50IT09YTohYyhmLGEpKXJldHVybiEwfXJldHVybiBlLmxlbmd0aCE9PU9iamVjdC5rZXlzKG4pLmxlbmd0aH1mdW5jdGlvbiBhKHQpe3ZhciBuPXQuaztpZihuLmxlbmd0aCE9PXQudC5sZW5ndGgpcmV0dXJuITA7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLG4ubGVuZ3RoLTEpO3JldHVybiEoIXJ8fHIuZ2V0KX1mdW5jdGlvbiBmKG4pe24uTyYmdCgzLEpTT04uc3RyaW5naWZ5KHYobikpKX12YXIgcz17fTt5KFwiRVM1XCIse0o6ZnVuY3Rpb24odCxuKXt2YXIgZT1BcnJheS5pc0FycmF5KHQpLGk9ZnVuY3Rpb24odCxuKXt2YXIgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKTtmb3IodmFyIGkgaW4gdCYmZGVsZXRlIGUubGVuZ3RoLGRlbGV0ZSBlW0hdLGUpZVtpXT1yKGksdHx8ISFlW2ldLmVudW1lcmFibGUpO2lmKHQpe3ZhciBvPUFycmF5KG4ubGVuZ3RoKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobyxlKSxvfXJldHVybiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihuKSxlKX0oZSx0KSxvPXtpOmU/NTo0LEE6bj9uLkE6bSgpLFA6ITEsSTohMSxEOnt9LGw6bix0OnQsazppLG86bnVsbCxPOiExLEM6ITF9O3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxILHt2YWx1ZTpvLHdyaXRhYmxlOiEwfSksaX0sUzpmdW5jdGlvbih0LHIsbyl7bz9uKHIpJiZyW0hdLkE9PT10JiZlKHQudik6KHQudSYmZnVuY3Rpb24gdChuKXtpZihuJiZcIm9iamVjdFwiPT10eXBlb2Ygbil7dmFyIHI9bltIXTtpZihyKXt2YXIgZT1yLnQsbz1yLmssZj1yLkQsYz1yLmk7aWYoND09PWMpaShvLChmdW5jdGlvbihuKXtuIT09SCYmKHZvaWQgMCE9PWVbbl18fHUoZSxuKT9mW25dfHx0KG9bbl0pOihmW25dPSEwLHoocikpKX0pKSxpKGUsKGZ1bmN0aW9uKHQpe3ZvaWQgMCE9PW9bdF18fHUobyx0KXx8KGZbdF09ITEseihyKSl9KSk7ZWxzZSBpZig1PT09Yyl7aWYoYShyKSYmKHoociksZi5sZW5ndGg9ITApLG8ubGVuZ3RoPGUubGVuZ3RoKWZvcih2YXIgcz1vLmxlbmd0aDtzPGUubGVuZ3RoO3MrKylmW3NdPSExO2Vsc2UgZm9yKHZhciBwPWUubGVuZ3RoO3A8by5sZW5ndGg7cCsrKWZbcF09ITA7Zm9yKHZhciB2PU1hdGgubWluKG8ubGVuZ3RoLGUubGVuZ3RoKSxsPTA7bDx2O2wrKyl2b2lkIDA9PT1mW2xdJiZ0KG9bbF0pfX19fSh0LnZbMF0pLGUodC52KSl9LEs6ZnVuY3Rpb24odCl7cmV0dXJuIDQ9PT10Lmk/byh0KTphKHQpfX0pfWZ1bmN0aW9uIE4oKXtmdW5jdGlvbiByKHQpe2lmKCF0fHxcIm9iamVjdFwiIT10eXBlb2YgdClyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0Lm1hcChyKTtpZihzKHQpKXJldHVybiBuZXcgTWFwKEFycmF5LmZyb20odC5lbnRyaWVzKCkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuW3RbMF0scih0WzFdKV19KSkpO2lmKHAodCkpcmV0dXJuIG5ldyBTZXQoQXJyYXkuZnJvbSh0KS5tYXAocikpO3ZhciBuPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKTtmb3IodmFyIGUgaW4gdCluW2VdPXIodFtlXSk7cmV0dXJuIG59ZnVuY3Rpb24gZSh0KXtyZXR1cm4gbih0KT9yKHQpOnR9dmFyIGY9XCJhZGRcIjt5KFwiUGF0Y2hlc1wiLHskOmZ1bmN0aW9uKG4sZSl7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciBpPWUucGF0aCx1PWUub3AsYz1uLHM9MDtzPGkubGVuZ3RoLTE7cysrKVwib2JqZWN0XCIhPXR5cGVvZihjPWEoYyxpW3NdKSkmJnQoMTUsaS5qb2luKFwiL1wiKSk7dmFyIHA9byhjKSx2PXIoZS52YWx1ZSksbD1pW2kubGVuZ3RoLTFdO3N3aXRjaCh1KXtjYXNlXCJyZXBsYWNlXCI6c3dpdGNoKHApe2Nhc2UgMjpyZXR1cm4gYy5zZXQobCx2KTtjYXNlIDM6dCgxNik7ZGVmYXVsdDpyZXR1cm4gY1tsXT12fWNhc2UgZjpzd2l0Y2gocCl7Y2FzZSAxOnJldHVybiBjLnNwbGljZShsLDAsdik7Y2FzZSAyOnJldHVybiBjLnNldChsLHYpO2Nhc2UgMzpyZXR1cm4gYy5hZGQodik7ZGVmYXVsdDpyZXR1cm4gY1tsXT12fWNhc2VcInJlbW92ZVwiOnN3aXRjaChwKXtjYXNlIDE6cmV0dXJuIGMuc3BsaWNlKGwsMSk7Y2FzZSAyOnJldHVybiBjLmRlbGV0ZShsKTtjYXNlIDM6cmV0dXJuIGMuZGVsZXRlKGUudmFsdWUpO2RlZmF1bHQ6cmV0dXJuIGRlbGV0ZSBjW2xdfWRlZmF1bHQ6dCgxNyx1KX19KSksbn0sUjpmdW5jdGlvbih0LG4scixvKXtzd2l0Y2godC5pKXtjYXNlIDA6Y2FzZSA0OmNhc2UgMjpyZXR1cm4gZnVuY3Rpb24odCxuLHIsbyl7dmFyIGM9dC50LHM9dC5vO2kodC5ELChmdW5jdGlvbih0LGkpe3ZhciBwPWEoYyx0KSx2PWEocyx0KSxsPWk/dShjLHQpP1wicmVwbGFjZVwiOmY6XCJyZW1vdmVcIjtpZihwIT09dnx8XCJyZXBsYWNlXCIhPT1sKXt2YXIgZD1uLmNvbmNhdCh0KTtyLnB1c2goXCJyZW1vdmVcIj09PWw/e29wOmwscGF0aDpkfTp7b3A6bCxwYXRoOmQsdmFsdWU6dn0pLG8ucHVzaChsPT09Zj97b3A6XCJyZW1vdmVcIixwYXRoOmR9OlwicmVtb3ZlXCI9PT1sP3tvcDpmLHBhdGg6ZCx2YWx1ZTplKHApfTp7b3A6XCJyZXBsYWNlXCIscGF0aDpkLHZhbHVlOmUocCl9KX19KSl9KHQsbixyLG8pO2Nhc2UgNTpjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHQsbixyLGkpe3ZhciBvPXQudCx1PXQuRCxhPXQubztpZihhLmxlbmd0aDxvLmxlbmd0aCl7dmFyIGM9W2Esb107bz1jWzBdLGE9Y1sxXTt2YXIgcz1baSxyXTtyPXNbMF0saT1zWzFdfWZvcih2YXIgcD0wO3A8by5sZW5ndGg7cCsrKWlmKHVbcF0mJmFbcF0hPT1vW3BdKXt2YXIgdj1uLmNvbmNhdChbcF0pO3IucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDp2LHZhbHVlOmUoYVtwXSl9KSxpLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6dix2YWx1ZTplKG9bcF0pfSl9Zm9yKHZhciBsPW8ubGVuZ3RoO2w8YS5sZW5ndGg7bCsrKXt2YXIgZD1uLmNvbmNhdChbbF0pO3IucHVzaCh7b3A6ZixwYXRoOmQsdmFsdWU6ZShhW2xdKX0pfW8ubGVuZ3RoPGEubGVuZ3RoJiZpLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6bi5jb25jYXQoW1wibGVuZ3RoXCJdKSx2YWx1ZTpvLmxlbmd0aH0pfSh0LG4scixvKTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHQsbixyLGUpe3ZhciBpPXQudCxvPXQubyx1PTA7aS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighby5oYXModCkpe3ZhciBpPW4uY29uY2F0KFt1XSk7ci5wdXNoKHtvcDpcInJlbW92ZVwiLHBhdGg6aSx2YWx1ZTp0fSksZS51bnNoaWZ0KHtvcDpmLHBhdGg6aSx2YWx1ZTp0fSl9dSsrfSkpLHU9MCxvLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKCFpLmhhcyh0KSl7dmFyIG89bi5jb25jYXQoW3VdKTtyLnB1c2goe29wOmYscGF0aDpvLHZhbHVlOnR9KSxlLnVuc2hpZnQoe29wOlwicmVtb3ZlXCIscGF0aDpvLHZhbHVlOnR9KX11Kyt9KSl9KHQsbixyLG8pfX0sTTpmdW5jdGlvbih0LG4scixlKXtyLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6W10sdmFsdWU6bn0pLGUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpbXSx2YWx1ZTp0LnR9KX19KX1mdW5jdGlvbiBUKCl7ZnVuY3Rpb24gbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9dSh0LG4pLHQucHJvdG90eXBlPShyLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgcil9ZnVuY3Rpb24gZSh0KXt0Lm98fCh0LkQ9bmV3IE1hcCx0Lm89bmV3IE1hcCh0LnQpKX1mdW5jdGlvbiBpKHQpe3Qub3x8KHQubz1uZXcgU2V0LHQudC5mb3JFYWNoKChmdW5jdGlvbihuKXtpZihyKG4pKXt2YXIgZT1FKHQuQS5oLG4sdCk7dC52LnNldChuLGUpLHQuby5hZGQoZSl9ZWxzZSB0Lm8uYWRkKG4pfSkpKX1mdW5jdGlvbiBvKG4pe24uTyYmdCgzLEpTT04uc3RyaW5naWZ5KHYobikpKX12YXIgdT1mdW5jdGlvbih0LG4pe3JldHVybih1PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LG4pe3QuX19wcm90b19fPW59fHxmdW5jdGlvbih0LG4pe2Zvcih2YXIgciBpbiBuKW4uaGFzT3duUHJvcGVydHkocikmJih0W3JdPW5bcl0pfSkodCxuKX0sYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gdGhpc1tIXT17aToyLGw6bixBOm4/bi5BOm0oKSxQOiExLEk6ITEsbzp2b2lkIDAsRDp2b2lkIDAsdDp0LGs6dGhpcyxDOiExLE86ITF9LHRoaXN9bih0LE1hcCk7dmFyIGk9dC5wcm90b3R5cGU7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdih0aGlzW0hdKS5zaXplfX0pLGkuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB2KHRoaXNbSF0pLmhhcyh0KX0saS5zZXQ9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzW0hdO3JldHVybiBvKHIpLHYocikuZ2V0KHQpIT09biYmKGUocikseihyKSxyLkQuc2V0KHQsITApLHIuby5zZXQodCxuKSxyLkQuc2V0KHQsITApKSx0aGlzfSxpLmRlbGV0ZT1mdW5jdGlvbih0KXtpZighdGhpcy5oYXModCkpcmV0dXJuITE7dmFyIG49dGhpc1tIXTtyZXR1cm4gbyhuKSxlKG4pLHoobiksbi5ELnNldCh0LCExKSxuLm8uZGVsZXRlKHQpLCEwfSxpLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1tIXTtyZXR1cm4gbyh0KSxlKHQpLHoodCksdC5EPW5ldyBNYXAsdC5vLmNsZWFyKCl9LGkuZm9yRWFjaD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXM7dih0aGlzW0hdKS5mb3JFYWNoKChmdW5jdGlvbihlLGkpe3QuY2FsbChuLHIuZ2V0KGkpLGkscil9KSl9LGkuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXNbSF07byhuKTt2YXIgaT12KG4pLmdldCh0KTtpZihuLkl8fCFyKGkpKXJldHVybiBpO2lmKGkhPT1uLnQuZ2V0KHQpKXJldHVybiBpO3ZhciB1PUUobi5BLmgsaSxuKTtyZXR1cm4gZShuKSxuLm8uc2V0KHQsdSksdX0saS5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHYodGhpc1tIXSkua2V5cygpfSxpLnZhbHVlcz1mdW5jdGlvbigpe3ZhciB0LG49dGhpcyxyPXRoaXMua2V5cygpO3JldHVybih0PXt9KVtMXT1mdW5jdGlvbigpe3JldHVybiBuLnZhbHVlcygpfSx0Lm5leHQ9ZnVuY3Rpb24oKXt2YXIgdD1yLm5leHQoKTtyZXR1cm4gdC5kb25lP3Q6e2RvbmU6ITEsdmFsdWU6bi5nZXQodC52YWx1ZSl9fSx0fSxpLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXMscj10aGlzLmtleXMoKTtyZXR1cm4odD17fSlbTF09ZnVuY3Rpb24oKXtyZXR1cm4gbi5lbnRyaWVzKCl9LHQubmV4dD1mdW5jdGlvbigpe3ZhciB0PXIubmV4dCgpO2lmKHQuZG9uZSlyZXR1cm4gdDt2YXIgZT1uLmdldCh0LnZhbHVlKTtyZXR1cm57ZG9uZTohMSx2YWx1ZTpbdC52YWx1ZSxlXX19LHR9LGlbTF09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCl9LHR9KCksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gdGhpc1tIXT17aTozLGw6bixBOm4/bi5BOm0oKSxQOiExLEk6ITEsbzp2b2lkIDAsdDp0LGs6dGhpcyx2Om5ldyBNYXAsTzohMSxDOiExfSx0aGlzfW4odCxTZXQpO3ZhciByPXQucHJvdG90eXBlO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkocixcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHYodGhpc1tIXSkuc2l6ZX19KSxyLmhhcz1mdW5jdGlvbih0KXt2YXIgbj10aGlzW0hdO3JldHVybiBvKG4pLG4ubz8hIW4uby5oYXModCl8fCEoIW4udi5oYXModCl8fCFuLm8uaGFzKG4udi5nZXQodCkpKTpuLnQuaGFzKHQpfSxyLmFkZD1mdW5jdGlvbih0KXt2YXIgbj10aGlzW0hdO3JldHVybiBvKG4pLHRoaXMuaGFzKHQpfHwoaShuKSx6KG4pLG4uby5hZGQodCkpLHRoaXN9LHIuZGVsZXRlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmhhcyh0KSlyZXR1cm4hMTt2YXIgbj10aGlzW0hdO3JldHVybiBvKG4pLGkobikseihuKSxuLm8uZGVsZXRlKHQpfHwhIW4udi5oYXModCkmJm4uby5kZWxldGUobi52LmdldCh0KSl9LHIuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzW0hdO3JldHVybiBvKHQpLGkodCkseih0KSx0Lm8uY2xlYXIoKX0sci52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzW0hdO3JldHVybiBvKHQpLGkodCksdC5vLnZhbHVlcygpfSxyLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzW0hdO3JldHVybiBvKHQpLGkodCksdC5vLmVudHJpZXMoKX0sci5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzKCl9LHJbTF09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMoKX0sci5mb3JFYWNoPWZ1bmN0aW9uKHQsbil7Zm9yKHZhciByPXRoaXMudmFsdWVzKCksZT1yLm5leHQoKTshZS5kb25lOyl0LmNhbGwobixlLnZhbHVlLGUudmFsdWUsdGhpcyksZT1yLm5leHQoKX0sdH0oKTt5KFwiTWFwU2V0XCIse1Q6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IGEodCxuKX0sRjpmdW5jdGlvbih0LG4pe3JldHVybiBuZXcgZih0LG4pfX0pfWZ1bmN0aW9uIEYoKXtEKCksVCgpLE4oKX1mdW5jdGlvbiBDKHQpe3JldHVybiB0fWZ1bmN0aW9uIEoodCl7cmV0dXJuIHR9dmFyIEssJCxHPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2woXCJ4XCIpLFU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1hcCxXPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTZXQsWD1cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJveHkmJnZvaWQgMCE9PVByb3h5LnJldm9jYWJsZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QscT1HP1N5bWJvbChcImltbWVyLW5vdGhpbmdcIik6KChLPXt9KVtcImltbWVyLW5vdGhpbmdcIl09ITAsSyksQj1HP1N5bWJvbChcImltbWVyLWRyYWZ0YWJsZVwiKTpcIl9fJGltbWVyX2RyYWZ0YWJsZVwiLEg9Rz9TeW1ib2woXCJpbW1lci1zdGF0ZVwiKTpcIl9fJGltbWVyX3N0YXRlXCIsTD1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLFE9ezA6XCJJbGxlZ2FsIHN0YXRlXCIsMTpcIkltbWVyIGRyYWZ0cyBjYW5ub3QgaGF2ZSBjb21wdXRlZCBwcm9wZXJ0aWVzXCIsMjpcIlRoaXMgb2JqZWN0IGhhcyBiZWVuIGZyb3plbiBhbmQgc2hvdWxkIG5vdCBiZSBtdXRhdGVkXCIsMzpmdW5jdGlvbih0KXtyZXR1cm5cIkNhbm5vdCB1c2UgYSBwcm94eSB0aGF0IGhhcyBiZWVuIHJldm9rZWQuIERpZCB5b3UgcGFzcyBhbiBvYmplY3QgZnJvbSBpbnNpZGUgYW4gaW1tZXIgZnVuY3Rpb24gdG8gYW4gYXN5bmMgcHJvY2Vzcz8gXCIrdH0sNDpcIkFuIGltbWVyIHByb2R1Y2VyIHJldHVybmVkIGEgbmV3IHZhbHVlICphbmQqIG1vZGlmaWVkIGl0cyBkcmFmdC4gRWl0aGVyIHJldHVybiBhIG5ldyB2YWx1ZSAqb3IqIG1vZGlmeSB0aGUgZHJhZnQuXCIsNTpcIkltbWVyIGZvcmJpZHMgY2lyY3VsYXIgcmVmZXJlbmNlc1wiLDY6XCJUaGUgZmlyc3Qgb3Igc2Vjb25kIGFyZ3VtZW50IHRvIGBwcm9kdWNlYCBtdXN0IGJlIGEgZnVuY3Rpb25cIiw3OlwiVGhlIHRoaXJkIGFyZ3VtZW50IHRvIGBwcm9kdWNlYCBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgdW5kZWZpbmVkXCIsODpcIkZpcnN0IGFyZ3VtZW50IHRvIGBjcmVhdGVEcmFmdGAgbXVzdCBiZSBhIHBsYWluIG9iamVjdCwgYW4gYXJyYXksIG9yIGFuIGltbWVyYWJsZSBvYmplY3RcIiw5OlwiRmlyc3QgYXJndW1lbnQgdG8gYGZpbmlzaERyYWZ0YCBtdXN0IGJlIGEgZHJhZnQgcmV0dXJuZWQgYnkgYGNyZWF0ZURyYWZ0YFwiLDEwOlwiVGhlIGdpdmVuIGRyYWZ0IGlzIGFscmVhZHkgZmluYWxpemVkXCIsMTE6XCJPYmplY3QuZGVmaW5lUHJvcGVydHkoKSBjYW5ub3QgYmUgdXNlZCBvbiBhbiBJbW1lciBkcmFmdFwiLDEyOlwiT2JqZWN0LnNldFByb3RvdHlwZU9mKCkgY2Fubm90IGJlIHVzZWQgb24gYW4gSW1tZXIgZHJhZnRcIiwxMzpcIkltbWVyIG9ubHkgc3VwcG9ydHMgZGVsZXRpbmcgYXJyYXkgaW5kaWNlc1wiLDE0OlwiSW1tZXIgb25seSBzdXBwb3J0cyBzZXR0aW5nIGFycmF5IGluZGljZXMgYW5kIHRoZSAnbGVuZ3RoJyBwcm9wZXJ0eVwiLDE1OmZ1bmN0aW9uKHQpe3JldHVyblwiQ2Fubm90IGFwcGx5IHBhdGNoLCBwYXRoIGRvZXNuJ3QgcmVzb2x2ZTogXCIrdH0sMTY6J1NldHMgY2Fubm90IGhhdmUgXCJyZXBsYWNlXCIgcGF0Y2hlcy4nLDE3OmZ1bmN0aW9uKHQpe3JldHVyblwiVW5zdXBwb3J0ZWQgcGF0Y2ggb3BlcmF0aW9uOiBcIit0fSwxODpmdW5jdGlvbih0KXtyZXR1cm5cIlRoZSBwbHVnaW4gZm9yICdcIit0K1wiJyBoYXMgbm90IGJlZW4gbG9hZGVkIGludG8gSW1tZXIuIFRvIGVuYWJsZSB0aGUgcGx1Z2luLCBpbXBvcnQgYW5kIGNhbGwgYGVuYWJsZVwiK3QrXCIoKWAgd2hlbiBpbml0aWFsaXppbmcgeW91ciBhcHBsaWNhdGlvbi5cIn0sMTk6XCJwbHVnaW4gbm90IGxvYWRlZFwiLDIwOlwiQ2Fubm90IHVzZSBwcm94aWVzIGlmIFByb3h5LCBQcm94eS5yZXZvY2FibGUgb3IgUmVmbGVjdCBhcmUgbm90IGF2YWlsYWJsZVwiLDIxOmZ1bmN0aW9uKHQpe3JldHVyblwicHJvZHVjZSBjYW4gb25seSBiZSBjYWxsZWQgb24gdGhpbmdzIHRoYXQgYXJlIGRyYWZ0YWJsZTogcGxhaW4gb2JqZWN0cywgYXJyYXlzLCBNYXAsIFNldCBvciBjbGFzc2VzIHRoYXQgYXJlIG1hcmtlZCB3aXRoICdbaW1tZXJhYmxlXTogdHJ1ZScuIEdvdCAnXCIrdCtcIidcIn0sMjI6ZnVuY3Rpb24odCl7cmV0dXJuXCInY3VycmVudCcgZXhwZWN0cyBhIGRyYWZ0LCBnb3Q6IFwiK3R9LDIzOmZ1bmN0aW9uKHQpe3JldHVyblwiJ29yaWdpbmFsJyBleHBlY3RzIGEgZHJhZnQsIGdvdDogXCIrdH19LFY9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3Qub3duS2V5cz9SZWZsZWN0Lm93bktleXM6dm9pZCAwIT09T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCkpfTpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxZPXt9LFo9e2dldDpmdW5jdGlvbih0LG4pe2lmKG49PT1IKXJldHVybiB0O3ZhciBlPXYodCk7aWYoIXUoZSxuKSlyZXR1cm4gZnVuY3Rpb24odCxuLHIpe2lmKHIgaW4gbilmb3IodmFyIGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2U7KXt2YXIgaSxvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKTtpZihvKXJldHVyblwidmFsdWVcImluIG8/by52YWx1ZTpudWxsPT09KGk9by5nZXQpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodC5rKTtlPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX19KHQsZSxuKTt2YXIgaT1lW25dO3JldHVybiB0Lkl8fCFyKGkpP2k6aT09PXgodC50LG4pPyhJKHQpLHQub1tuXT1FKHQuQS5oLGksdCkpOml9LGhhczpmdW5jdGlvbih0LG4pe3JldHVybiBuIGluIHYodCl9LG93bktleXM6ZnVuY3Rpb24odCl7cmV0dXJuIFJlZmxlY3Qub3duS2V5cyh2KHQpKX0sc2V0OmZ1bmN0aW9uKHQsbixyKXtpZih0LkRbbl09ITAsIXQuUCl7aWYoYyhyLHgodih0KSxuKSkmJnZvaWQgMCE9PXIpcmV0dXJuITA7SSh0KSx6KHQpfXJldHVybiB0Lm9bbl09ciwhMH0sZGVsZXRlUHJvcGVydHk6ZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwIT09eCh0LnQsbil8fG4gaW4gdC50Pyh0LkRbbl09ITEsSSh0KSx6KHQpKTpkZWxldGUgdC5EW25dLHQubyYmZGVsZXRlIHQub1tuXSwhMH0sZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOmZ1bmN0aW9uKHQsbil7dmFyIHI9dih0KSxlPVJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsbik7cmV0dXJuIGU/e3dyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZToxIT09dC5pfHxcImxlbmd0aFwiIT09bixlbnVtZXJhYmxlOmUuZW51bWVyYWJsZSx2YWx1ZTpyW25dfTplfSxkZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbigpe3QoMTEpfSxnZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHQudCl9LHNldFByb3RvdHlwZU9mOmZ1bmN0aW9uKCl7dCgxMil9fSx0dD17fTtpKFosKGZ1bmN0aW9uKHQsbil7dHRbdF09ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdPWFyZ3VtZW50c1swXVswXSxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSksdHQuZGVsZXRlUHJvcGVydHk9ZnVuY3Rpb24obixyKXtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZpc05hTihwYXJzZUludChyKSkmJnQoMTMpLFouZGVsZXRlUHJvcGVydHkuY2FsbCh0aGlzLG5bMF0scil9LHR0LnNldD1mdW5jdGlvbihuLHIsZSl7cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmXCJsZW5ndGhcIiE9PXImJmlzTmFOKHBhcnNlSW50KHIpKSYmdCgxNCksWi5zZXQuY2FsbCh0aGlzLG5bMF0scixlLG5bMF0pfTt2YXIgbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3RoaXMuZz1YLHRoaXMuTj1cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WLFwiYm9vbGVhblwiPT10eXBlb2YobnVsbD09dD92b2lkIDA6dC51c2VQcm94aWVzKSYmdGhpcy5zZXRVc2VQcm94aWVzKHQudXNlUHJveGllcyksXCJib29sZWFuXCI9PXR5cGVvZihudWxsPT10P3ZvaWQgMDp0LmF1dG9GcmVlemUpJiZ0aGlzLnNldEF1dG9GcmVlemUodC5hdXRvRnJlZXplKSx0aGlzLnByb2R1Y2U9dGhpcy5wcm9kdWNlLmJpbmQodGhpcyksdGhpcy5wcm9kdWNlV2l0aFBhdGNoZXM9dGhpcy5wcm9kdWNlV2l0aFBhdGNoZXMuYmluZCh0aGlzKX12YXIgaT1lLnByb3RvdHlwZTtyZXR1cm4gaS5wcm9kdWNlPWZ1bmN0aW9uKG4sZSxpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXt2YXIgbz1lO2U9bjt2YXIgdT10aGlzO3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10aGlzO3ZvaWQgMD09PXQmJih0PW8pO2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLGk9QXJyYXkocj4xP3ItMTowKSxhPTE7YTxyO2ErKylpW2EtMV09YXJndW1lbnRzW2FdO3JldHVybiB1LnByb2R1Y2UodCwoZnVuY3Rpb24odCl7dmFyIHI7cmV0dXJuKHI9ZSkuY2FsbC5hcHBseShyLFtuLHRdLmNvbmNhdChpKSl9KSl9fXZhciBhO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJnQoNiksdm9pZCAwIT09aSYmXCJmdW5jdGlvblwiIT10eXBlb2YgaSYmdCg3KSxyKG4pKXt2YXIgZj1nKHRoaXMpLGM9RSh0aGlzLG4sdm9pZCAwKSxzPSEwO3RyeXthPWUoYykscz0hMX1maW5hbGx5e3M/aihmKTpPKGYpfXJldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBQcm9taXNlJiZhIGluc3RhbmNlb2YgUHJvbWlzZT9hLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBfKGYsaSksUyh0LGYpfSksKGZ1bmN0aW9uKHQpe3Rocm93IGooZiksdH0pKTooXyhmLGkpLFMoYSxmKSl9aWYoIW58fFwib2JqZWN0XCIhPXR5cGVvZiBuKXtpZigoYT1lKG4pKT09PXEpcmV0dXJuO3JldHVybiB2b2lkIDA9PT1hJiYoYT1uKSx0aGlzLk4mJmQoYSwhMCksYX10KDIxLG4pfSxpLnByb2R1Y2VXaXRoUGF0Y2hlcz1mdW5jdGlvbih0LG4pe3ZhciByLGUsaT10aGlzO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZnVuY3Rpb24obil7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheShyPjE/ci0xOjApLG89MTtvPHI7bysrKWVbby0xXT1hcmd1bWVudHNbb107cmV0dXJuIGkucHJvZHVjZVdpdGhQYXRjaGVzKG4sKGZ1bmN0aW9uKG4pe3JldHVybiB0LmFwcGx5KHZvaWQgMCxbbl0uY29uY2F0KGUpKX0pKX06W3RoaXMucHJvZHVjZSh0LG4sKGZ1bmN0aW9uKHQsbil7cj10LGU9bn0pKSxyLGVdfSxpLmNyZWF0ZURyYWZ0PWZ1bmN0aW9uKGUpe3IoZSl8fHQoOCksbihlKSYmKGU9ayhlKSk7dmFyIGk9Zyh0aGlzKSxvPUUodGhpcyxlLHZvaWQgMCk7cmV0dXJuIG9bSF0uQz0hMCxPKGkpLG99LGkuZmluaXNoRHJhZnQ9ZnVuY3Rpb24obixyKXt2YXIgZT1uJiZuW0hdO1wicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJihlJiZlLkN8fHQoOSksZS5JJiZ0KDEwKSk7dmFyIGk9ZS5BO3JldHVybiBfKGksciksUyh2b2lkIDAsaSl9LGkuc2V0QXV0b0ZyZWV6ZT1mdW5jdGlvbih0KXt0aGlzLk49dH0saS5zZXRVc2VQcm94aWVzPWZ1bmN0aW9uKG4pe24mJiFYJiZ0KDIwKSx0aGlzLmc9bn0saS5hcHBseVBhdGNoZXM9ZnVuY3Rpb24odCxyKXt2YXIgZTtmb3IoZT1yLmxlbmd0aC0xO2U+PTA7ZS0tKXt2YXIgaT1yW2VdO2lmKDA9PT1pLnBhdGgubGVuZ3RoJiZcInJlcGxhY2VcIj09PWkub3Ape3Q9aS52YWx1ZTticmVha319dmFyIG89YihcIlBhdGNoZXNcIikuJDtyZXR1cm4gbih0KT9vKHQscik6dGhpcy5wcm9kdWNlKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBvKHQsci5zbGljZShlKzEpKX0pKX0sZX0oKSxydD1uZXcgbnQsZXQ9cnQucHJvZHVjZSxpdD1ydC5wcm9kdWNlV2l0aFBhdGNoZXMuYmluZChydCksb3Q9cnQuc2V0QXV0b0ZyZWV6ZS5iaW5kKHJ0KSx1dD1ydC5zZXRVc2VQcm94aWVzLmJpbmQocnQpLGF0PXJ0LmFwcGx5UGF0Y2hlcy5iaW5kKHJ0KSxmdD1ydC5jcmVhdGVEcmFmdC5iaW5kKHJ0KSxjdD1ydC5maW5pc2hEcmFmdC5iaW5kKHJ0KTtleHBvcnQgZGVmYXVsdCBldDtleHBvcnR7bnQgYXMgSW1tZXIsYXQgYXMgYXBwbHlQYXRjaGVzLEMgYXMgY2FzdERyYWZ0LEogYXMgY2FzdEltbXV0YWJsZSxmdCBhcyBjcmVhdGVEcmFmdCxrIGFzIGN1cnJlbnQsRiBhcyBlbmFibGVBbGxQbHVnaW5zLEQgYXMgZW5hYmxlRVM1LFQgYXMgZW5hYmxlTWFwU2V0LE4gYXMgZW5hYmxlUGF0Y2hlcyxjdCBhcyBmaW5pc2hEcmFmdCxCIGFzIGltbWVyYWJsZSxuIGFzIGlzRHJhZnQsciBhcyBpc0RyYWZ0YWJsZSxxIGFzIG5vdGhpbmcsZSBhcyBvcmlnaW5hbCxldCBhcyBwcm9kdWNlLGl0IGFzIHByb2R1Y2VXaXRoUGF0Y2hlcyxvdCBhcyBzZXRBdXRvRnJlZXplLHV0IGFzIHNldFVzZVByb3hpZXN9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1tZXIuZXNtLmpzLm1hcFxuIiwgImV4cG9ydCBlbnVtIFNUQUdFUyB7XG4gIENIT09TRV9GUkFNRVMsXG4gIFBSRVZJRVdfT1VUUFVULFxuICBSRVNQT05TSVZFX1BSRVZJRVcsXG4gIFNBVkVfT1VUUFVULFxufVxuXG5leHBvcnQgZW51bSBNU0dfRVZFTlRTIHtcbiAgRE9NX1JFQURZLFxuICBOT19GUkFNRVMsXG4gIEZPVU5EX0ZSQU1FUyxcbiAgUkVTSVpFLFxuICBSRU5ERVIsXG4gIENMT1NFLFxuICBFUlJPUixcbiAgVVBEQVRFX0hFQURMSU5FUyxcbiAgQ09NUFJFU1NfSU1BR0UsXG4gIENPTVBSRVNTRURfSU1BR0UsXG59XG5cbmV4cG9ydCBlbnVtIE9VVFBVVF9GT1JNQVRTIHtcbiAgSU5MSU5FLFxuICBJRlJBTUUsXG59XG5cbmV4cG9ydCBjb25zdCBVSV9URVhUID0ge1xuICBFUlJPUl9VTkVYUEVDVEVEOiBcIlVuZXhwZWN0ZWQgZXJyb3JcIixcbiAgRVJST1JfTUlTU0lOR19GUkFNRVM6IFwiTm8gZnJhbWVzIGZvdW5kLiBQbGVhc2UgYWRkIHNvbWUgZnJhbWVzIHRvIHRoZSBwYWdlLlwiLFxuICBXQVJOX05PX1RBUkdFVFM6IFwiU3RhbmRhcmQgZnJhbWVzIG5vdCBmb3VuZC4gUGxlYXNlIHNlbGVjdCB0YXJnZXQgZnJhbWVzLlwiLFxuICBXQVJOX1RPT19NQU5ZX1RBUkdFVFM6IFwiUGxlYXNlIHNlbGVjdCB0aHJlZSB0YXJnZXQgZnJhbWVzXCIsXG4gIElORk9fUFJFVklFVzogXCJQcmV2aWV3IGVhY2ggZnJhbWUgb3V0cHV0XCIsXG4gIFRJVExFX0NIT09TRV9GUkFNRTogXCJDaG9vc2Ugd2hpY2ggZnJhbWVzIHRvIGV4cG9ydFwiLFxuICBUSVRMRV9QUkVWSUVXOiBcIlByZXZpZXdcIixcbiAgVElUTEVfUkVTUE9OU0lWRV9QUkVWSUVXOiBcIlJlc3BvbnNpdmUgcHJldmlld1wiLFxuICBUSUxFX09VVFBVVDogXCJFeHBvcnRcIixcbiAgQlVUVE9OX05FWFQ6IFwiTmV4dFwiLFxuICBCVVRUT05fRE9XTkxPQUQ6IFwiRG93bmxvYWRcIixcbiAgQlVUVE9OX1BSRVZJT1VTOiBcIkJhY2tcIixcbn07XG5cbmV4cG9ydCBjb25zdCBJTklUSUFMX1VJX1NJWkUgPSB7XG4gIHdpZHRoOiA0ODAsXG4gIGhlaWdodDogNTAwLFxuICBtYXhXaWR0aDogMTIwMCxcbiAgbWF4SGVpZ2h0OiA5MDAsXG4gIG1pbldpZHRoOiA0MjAsXG4gIG1pbkhlaWdodDogNDgwLFxufTtcblxuZXhwb3J0IGNvbnN0IEZSQU1FX1dBUk5JTkdfU0laRSA9IDMwMDtcblxuZXhwb3J0IGVudW0gSEVBRExJTkVfTk9ERV9OQU1FUyB7XG4gIEhFQURMSU5FID0gXCJoZWFkbGluZVwiLFxuICBTVUJIRUFEID0gXCJzdWJoZWFkXCIsXG4gIFNPVVJDRSA9IFwic291cmNlXCIsXG59XG4iLCAiaW1wb3J0IHsgaCwgRnJhZ21lbnQgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBTVEFHRVMsIFVJX1RFWFQsIEZSQU1FX1dBUk5JTkdfU0laRSB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IEZyYW1lRGF0YUludGVyZmFjZSB9IGZyb20gXCJ0eXBlc1wiO1xuXG5mdW5jdGlvbiBGcmFtZUluZm8ocHJvcHM6IHtcbiAgZnJhbWU6IEZyYW1lRGF0YUludGVyZmFjZSB8IGZhbHNlO1xufSk6IGguSlNYLkVsZW1lbnQgfCBudWxsIHtcbiAgaWYgKCFwcm9wcy5mcmFtZSkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3Qge1xuICAgIG5hbWUsXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHN2ZyxcbiAgICByZXNwb25zaXZlLFxuICAgIHN2Z0NvbXByZXNzZWQsXG4gICAgc3ZnT3B0aW1pc2VkLFxuICB9ID0gcHJvcHMuZnJhbWU7XG5cbiAgY29uc3QgcmVuZGVyQ2hhckNvdW50ID1cbiAgICAoc3ZnT3B0aW1pc2VkID8gc3ZnQ29tcHJlc3NlZD8ubGVuZ3RoIDogc3ZnPy5sZW5ndGgpIHx8IDA7XG4gIGNvbnN0IGZpbGVLYlNpemUgPSByZW5kZXJDaGFyQ291bnQgLyAxMDAwO1xuICBjb25zdCBpc0ZpbGVMYXJnZSA9IGZpbGVLYlNpemUgPiBGUkFNRV9XQVJOSU5HX1NJWkU7XG4gIGxldCBmaWxlU2l6ZUNsYXNzTmFtZSA9IFwiZjJoX19maWxlX3NpemVcIjtcbiAgaWYgKGlzRmlsZUxhcmdlKSB7XG4gICAgZmlsZVNpemVDbGFzc05hbWUgKz0gXCIgZjJoX19maWxlX3NpemUgZjJoX19ub3RpY2UtLWVycm9yXCI7XG4gIH1cblxuICBsZXQgcmVzcG9uc2l2ZUNsYXNzTmFtZSA9IFwiZjJoX19pbmZvX3Jlc3BvbnNpdmVcIjtcbiAgaWYgKHJlc3BvbnNpdmUgPT09IGZhbHNlKSB7XG4gICAgcmVzcG9uc2l2ZUNsYXNzTmFtZSArPSBcIiBmMmhfX2luZm9fcmVzcG9uc2l2ZS0tbm9cIjtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwiZjJoX19pbmZvXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJmMmhfX2luZm9fdGl0bGVcIj57YFwiJHtuYW1lfVwiYH08L3NwYW4+e1wiIFwifVxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZjJoX19pbmZvX21ldGFcIj5cbiAgICAgICAge3dpZHRofSB4IHtoZWlnaHR9LHtcIiBcIn1cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtyZXNwb25zaXZlQ2xhc3NOYW1lfT5yZXNwb25zaXZlPC9zcGFuPix7XCIgXCJ9XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17ZmlsZVNpemVDbGFzc05hbWV9PntmaWxlS2JTaXplLnRvRml4ZWQoMil9a0I8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgPC9wPlxuICApO1xufVxuXG50eXBlIEhlYWRlclByb3BzID0ge1xuICBzdGFnZTogU1RBR0VTO1xuICBoYW5kbGVOZXh0Q2xpY2s6ICgpID0+IHZvaWQ7XG4gIGhhbmRsZUJhY2tDbGljazogKCkgPT4gdm9pZDtcbiAgaGFuZGxlT3B0aW1zZUNsaWNrOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgZGlzYWJsZU5leHQ6IGJvb2xlYW47XG4gIGZyYW1lOiBGcmFtZURhdGFJbnRlcmZhY2U7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSGVhZGVyKHByb3BzOiBIZWFkZXJQcm9wcyk6IGguSlNYLkVsZW1lbnQge1xuICBjb25zdCB7XG4gICAgc3RhZ2UsXG4gICAgaGFuZGxlQmFja0NsaWNrLFxuICAgIGhhbmRsZU5leHRDbGljayxcbiAgICBkaXNhYmxlTmV4dCxcbiAgICBmcmFtZSxcbiAgICBoYW5kbGVPcHRpbXNlQ2xpY2ssXG4gIH0gPSBwcm9wcztcblxuICBsZXQgdGl0bGU7XG4gIGxldCBuZXh0VGV4dDtcbiAgbGV0IGJhY2tUZXh0O1xuXG4gIHN3aXRjaCAoc3RhZ2UpIHtcbiAgICBjYXNlIFNUQUdFUy5DSE9PU0VfRlJBTUVTOlxuICAgICAgdGl0bGUgPSBVSV9URVhULlRJVExFX0NIT09TRV9GUkFNRTtcbiAgICAgIG5leHRUZXh0ID0gVUlfVEVYVC5CVVRUT05fTkVYVDtcbiAgICAgIGJhY2tUZXh0ID0gVUlfVEVYVC5CVVRUT05fUFJFVklPVVM7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU1RBR0VTLlJFU1BPTlNJVkVfUFJFVklFVzpcbiAgICAgIHRpdGxlID0gVUlfVEVYVC5USVRMRV9SRVNQT05TSVZFX1BSRVZJRVc7XG4gICAgICBuZXh0VGV4dCA9IFVJX1RFWFQuQlVUVE9OX05FWFQ7XG4gICAgICBiYWNrVGV4dCA9IFVJX1RFWFQuQlVUVE9OX1BSRVZJT1VTO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNUQUdFUy5QUkVWSUVXX09VVFBVVDpcbiAgICAgIHRpdGxlID0gYCR7VUlfVEVYVC5USVRMRV9QUkVWSUVXfWA7XG4gICAgICBuZXh0VGV4dCA9IFVJX1RFWFQuQlVUVE9OX05FWFQ7XG4gICAgICBiYWNrVGV4dCA9IFVJX1RFWFQuQlVUVE9OX1BSRVZJT1VTO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNUQUdFUy5TQVZFX09VVFBVVDpcbiAgICAgIHRpdGxlID0gVUlfVEVYVC5USUxFX09VVFBVVDtcbiAgICAgIGJhY2tUZXh0ID0gVUlfVEVYVC5CVVRUT05fUFJFVklPVVM7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGhlYWRlciBjbGFzc05hbWU9XCJmMmhfX2hlYWRlclwiPlxuICAgICAgPGgxIGNsYXNzTmFtZT1cImYyaF9fdGl0bGVcIj57dGl0bGV9PC9oMT5cblxuICAgICAge3N0YWdlID09PSBTVEFHRVMuUFJFVklFV19PVVRQVVQgJiYgKFxuICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgPEZyYW1lSW5mbyBmcmFtZT17ZnJhbWV9IC8+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImYyaF9fc3ZnX29wdGltaXNlXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgY2hlY2tlZD17ZnJhbWUuc3ZnT3B0aW1pc2VkfVxuICAgICAgICAgICAgICBuYW1lPVwib3B0aW1pc2VcIlxuICAgICAgICAgICAgICBpZD1cIm9wdGltaXNlXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlT3B0aW1zZUNsaWNrKGZyYW1lLmlkKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8c3Bhbj5PcHRpbWlzZSBTVkc8L3NwYW4+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgICl9XG5cbiAgICAgIDxuYXYgY2xhc3NOYW1lPVwiZjJoX19uYXZcIj5cbiAgICAgICAge3N0YWdlICE9PSBTVEFHRVMuQ0hPT1NFX0ZSQU1FUyAmJiAoXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJmMmhfX2J0biBidG4tLXNlY29uZGFyeVwiIG9uQ2xpY2s9e2hhbmRsZUJhY2tDbGlja30+XG4gICAgICAgICAgICB7YmFja1RleHR9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICl9XG5cbiAgICAgICAge25leHRUZXh0ICYmIChcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX2J0biBidG4tLXByaW1hcnlcIlxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTmV4dENsaWNrfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVOZXh0fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtuZXh0VGV4dH1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgIDwvbmF2PlxuICAgIDwvaGVhZGVyPlxuICApO1xufVxuIiwgImltcG9ydHtvcHRpb25zIGFzIGUsRnJhZ21lbnQgYXMgdCxjcmVhdGVFbGVtZW50IGFzIHJ9ZnJvbVwicHJlYWN0XCI7dmFyIG49L2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8Xi0tL2ksbz1mdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpfSxhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKC8oXFxuKykvZyxcIiQxXCIrKHR8fFwiXFx0XCIpKX0saT1mdW5jdGlvbihlLHQscil7cmV0dXJuIFN0cmluZyhlKS5sZW5ndGg+KHR8fDQwKXx8IXImJi0xIT09U3RyaW5nKGUpLmluZGV4T2YoXCJcXG5cIil8fC0xIT09U3RyaW5nKGUpLmluZGV4T2YoXCI8XCIpfSxsPXt9O2Z1bmN0aW9uIHMoZSl7dmFyIHQ9XCJcIjtmb3IodmFyIHIgaW4gZSl7dmFyIG89ZVtyXTtudWxsIT1vJiYodCYmKHQrPVwiIFwiKSx0Kz1cIi1cIj09clswXT9yOmxbcl18fChsW3JdPXIucmVwbGFjZSgvKFtBLVpdKS9nLFwiLSQxXCIpLnRvTG93ZXJDYXNlKCkpLHQrPVwiOiBcIix0Kz1vLFwibnVtYmVyXCI9PXR5cGVvZiBvJiYhMT09PW4udGVzdChyKSYmKHQrPVwicHhcIiksdCs9XCI7XCIpfXJldHVybiB0fHx2b2lkIDB9ZnVuY3Rpb24gZihlLHQpe2Zvcih2YXIgciBpbiB0KWVbcl09dFtyXTtyZXR1cm4gZX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5yZWR1Y2UoYyxlKTpudWxsIT10JiYhMSE9PXQmJmUucHVzaCh0KSxlfXZhciBwPXtzaGFsbG93OiEwfSx1PVtdLF89L14oYXJlYXxiYXNlfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtfHNvdXJjZXx0cmFja3x3YnIpJC8sZz1mdW5jdGlvbigpe307di5yZW5kZXI9djt2YXIgaD1mdW5jdGlvbihlLHQpe3JldHVybiB2KGUsdCxwKX07ZnVuY3Rpb24gdihuLGwscCxoLGQsbSl7aWYobnVsbD09bnx8XCJib29sZWFuXCI9PXR5cGVvZiBuKXJldHVyblwiXCI7QXJyYXkuaXNBcnJheShuKSYmKG49cih0LG51bGwsbikpO3ZhciB4PW4udHlwZSx5PW4ucHJvcHMsYj0hMTtsPWx8fHt9O3ZhciBTLHc9KHA9cHx8e30pLnByZXR0eSxrPXcmJlwic3RyaW5nXCI9PXR5cGVvZiB3P3c6XCJcXHRcIjtpZihcIm9iamVjdFwiIT10eXBlb2YgbiYmIXgpcmV0dXJuIG8obik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgeCl7aWYoYj0hMCwhcC5zaGFsbG93fHwhaCYmITEhPT1wLnJlbmRlclJvb3RDb21wb25lbnQpe2lmKHg9PT10KXt2YXIgTz1cIlwiLEM9W107YyhDLG4ucHJvcHMuY2hpbGRyZW4pO2Zvcih2YXIgQT0wO0E8Qy5sZW5ndGg7QSsrKU8rPShBPjAmJnc/XCJcXG5cIjpcIlwiKSt2KENbQV0sbCxwLCExIT09cC5zaGFsbG93SGlnaE9yZGVyLGQsbSk7cmV0dXJuIE99dmFyIEgsaj1uLl9fYz17X192Om4sY29udGV4dDpsLHByb3BzOm4ucHJvcHMsc2V0U3RhdGU6Zyxmb3JjZVVwZGF0ZTpnLF9faDpbXX07aWYoZS5fX3ImJmUuX19yKG4pLHgucHJvdG90eXBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB4LnByb3RvdHlwZS5yZW5kZXIpe3ZhciBGPXguY29udGV4dFR5cGUsJD1GJiZsW0YuX19jXSxMPW51bGwhPUY/JD8kLnByb3BzLnZhbHVlOkYuX186bDsoaj1uLl9fYz1uZXcgeCh5LEwpKS5fX3Y9bixqLl9kaXJ0eT1qLl9fZD0hMCxqLnByb3BzPXksbnVsbD09ai5zdGF0ZSYmKGouc3RhdGU9e30pLG51bGw9PWouX25leHRTdGF0ZSYmbnVsbD09ai5fX3MmJihqLl9uZXh0U3RhdGU9ai5fX3M9ai5zdGF0ZSksai5jb250ZXh0PUwseC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM/ai5zdGF0ZT1mKGYoe30sai5zdGF0ZSkseC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoai5wcm9wcyxqLnN0YXRlKSk6ai5jb21wb25lbnRXaWxsTW91bnQmJmouY29tcG9uZW50V2lsbE1vdW50KCksai5zdGF0ZT1qLl9uZXh0U3RhdGUhPT1qLnN0YXRlP2ouX25leHRTdGF0ZTpqLl9fcyE9PWouc3RhdGU/ai5fX3M6ai5zdGF0ZSxIPWoucmVuZGVyKGoucHJvcHMsai5zdGF0ZSxqLmNvbnRleHQpfWVsc2V7dmFyIE09eC5jb250ZXh0VHlwZSxUPU0mJmxbTS5fX2NdO0g9eC5jYWxsKG4uX19jLHksbnVsbCE9TT9UP1QucHJvcHMudmFsdWU6TS5fXzpsKX1yZXR1cm4gai5nZXRDaGlsZENvbnRleHQmJihsPWYoZih7fSxsKSxqLmdldENoaWxkQ29udGV4dCgpKSksdihILGwscCwhMSE9PXAuc2hhbGxvd0hpZ2hPcmRlcixkLG0pfXg9KFM9eCkuZGlzcGxheU5hbWV8fFMhPT1GdW5jdGlvbiYmUy5uYW1lfHxmdW5jdGlvbihlKXt2YXIgdD0oRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkubWF0Y2goL15cXHMqZnVuY3Rpb25cXHMrKFteKCBdKykvKXx8XCJcIilbMV07aWYoIXQpe2Zvcih2YXIgcj0tMSxuPXUubGVuZ3RoO24tLTspaWYodVtuXT09PWUpe3I9bjticmVha31yPDAmJihyPXUucHVzaChlKS0xKSx0PVwiVW5uYW1lZENvbXBvbmVudFwiK3J9cmV0dXJuIHR9KFMpfXZhciBELE49XCJcIjtpZih5KXt2YXIgUD1PYmplY3Qua2V5cyh5KTtwJiYhMD09PXAuc29ydEF0dHJpYnV0ZXMmJlAuc29ydCgpO2Zvcih2YXIgUj0wO1I8UC5sZW5ndGg7UisrKXt2YXIgVT1QW1JdLFc9eVtVXTtpZihcImNoaWxkcmVuXCIhPT1VJiYoIVUubWF0Y2goL1tcXHNcXG5cXFxcLz0nXCJcXDA8Pl0vKSYmKHAmJnAuYWxsQXR0cmlidXRlc3x8XCJrZXlcIiE9PVUmJlwicmVmXCIhPT1VJiZcIl9fc2VsZlwiIT09VSYmXCJfX3NvdXJjZVwiIT09VSkpKXtpZihcImNsYXNzTmFtZVwiPT09VSl7aWYoeS5jbGFzcyljb250aW51ZTtVPVwiY2xhc3NcIn1lbHNlIGQmJlUubWF0Y2goL154bGluazo/Li8pJiYoVT1VLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXnhsaW5rOj8vLFwieGxpbms6XCIpKTtpZihcImh0bWxGb3JcIj09PVUpe2lmKHkuZm9yKWNvbnRpbnVlO1U9XCJmb3JcIn1cInN0eWxlXCI9PT1VJiZXJiZcIm9iamVjdFwiPT10eXBlb2YgVyYmKFc9cyhXKSk7dmFyIHE9cC5hdHRyaWJ1dGVIb29rJiZwLmF0dHJpYnV0ZUhvb2soVSxXLGwscCxiKTtpZihxfHxcIlwiPT09cSlOKz1xO2Vsc2UgaWYoXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT09VSlEPVcmJlcuX19odG1sO2Vsc2UgaWYoKFd8fDA9PT1XfHxcIlwiPT09VykmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIFcpe2lmKCEoITAhPT1XJiZcIlwiIT09V3x8KFc9VSxwJiZwLnhtbCkpKXtOKz1cIiBcIitVO2NvbnRpbnVlfWlmKFwidmFsdWVcIj09PVUpe2lmKFwic2VsZWN0XCI9PT14KXttPVc7Y29udGludWV9XCJvcHRpb25cIj09PXgmJm09PVcmJihOKz1cIiBzZWxlY3RlZFwiKX1OKz1cIiBcIitVKyc9XCInK28oVykrJ1wiJ319fX1pZih3KXt2YXIgej1OLnJlcGxhY2UoL15cXG5cXHMqLyxcIiBcIik7ej09PU58fH56LmluZGV4T2YoXCJcXG5cIik/dyYmfk4uaW5kZXhPZihcIlxcblwiKSYmKE4rPVwiXFxuXCIpOk49en1pZihOPVwiPFwiK3grTitcIj5cIixTdHJpbmcoeCkubWF0Y2goL1tcXHNcXG5cXFxcLz0nXCJcXDA8Pl0vKSl0aHJvdyBuZXcgRXJyb3IoeCtcIiBpcyBub3QgYSB2YWxpZCBIVE1MIHRhZyBuYW1lIGluIFwiK04pO3ZhciBFPVN0cmluZyh4KS5tYXRjaChfKTtFJiYoTj1OLnJlcGxhY2UoLz4kLyxcIiAvPlwiKSk7dmFyIEksWj1bXTtpZihEKXcmJmkoRCkmJihEPVwiXFxuXCIraythKEQsaykpLE4rPUQ7ZWxzZSBpZih5JiZjKEk9W10seS5jaGlsZHJlbikubGVuZ3RoKXtmb3IodmFyIEI9dyYmfk4uaW5kZXhPZihcIlxcblwiKSxHPSExLEo9MDtKPEkubGVuZ3RoO0orKyl7dmFyIEs9SVtKXTtpZihudWxsIT1LJiYhMSE9PUspe3ZhciBRPXYoSyxsLHAsITAsXCJzdmdcIj09PXh8fFwiZm9yZWlnbk9iamVjdFwiIT09eCYmZCxtKTtpZih3JiYhQiYmaShRKSYmKEI9ITApLFEpaWYodyl7dmFyIFY9US5sZW5ndGg+MCYmXCI8XCIhPVFbMF07RyYmVj9aW1oubGVuZ3RoLTFdKz1ROloucHVzaChRKSxHPVZ9ZWxzZSBaLnB1c2goUSl9fWlmKHcmJkIpZm9yKHZhciBYPVoubGVuZ3RoO1gtLTspWltYXT1cIlxcblwiK2srYShaW1hdLGspfWlmKFoubGVuZ3RoKU4rPVouam9pbihcIlwiKTtlbHNlIGlmKHAmJnAueG1sKXJldHVybiBOLnN1YnN0cmluZygwLE4ubGVuZ3RoLTEpK1wiIC8+XCI7cmV0dXJuIEV8fCh3JiZ+Ti5pbmRleE9mKFwiXFxuXCIpJiYoTis9XCJcXG5cIiksTis9XCI8L1wiK3grXCI+XCIpLE59di5zaGFsbG93UmVuZGVyPWg7ZXhwb3J0IGRlZmF1bHQgdjtleHBvcnR7diBhcyByZW5kZXIsdiBhcyByZW5kZXJUb1N0cmluZyxoIGFzIHNoYWxsb3dSZW5kZXJ9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubW9kdWxlLmpzLm1hcFxuIiwgIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudCAqL1xuaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCByZW5kZXIgZnJvbSBcInByZWFjdC1yZW5kZXItdG8tc3RyaW5nXCI7XG5pbXBvcnQgeyBPVVRQVVRfRk9STUFUUyB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgdGV4dERhdGEsIEZyYW1lRGF0YUludGVyZmFjZSB9IGZyb20gXCJ0eXBlc1wiO1xuXG4vLyBJbXBvcnQgQ1NTIGZpbGUgYXMgcGxhaW4gdGV4dCB2aWEgZXNidWlsZCBsb2FkZXIgb3B0aW9uXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgZW1iZWRDc3MgZnJvbSBcIi4vZW1iZWQuY3NzXCI7XG4vLyBAdHMtZXhwZWN0LWVycm9yXG5pbXBvcnQgZm9udHNDc3MgZnJvbSBcIi4vZm9udHMuY3NzXCI7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWZyYW1lSHRtbChib2R5OiBzdHJpbmcpIHtcbiAgcmV0dXJuIGBcbiAgICA8IWRvY3R5cGUgaHRtbD5cbiAgICA8aHRtbD5cbiAgICAgIDxoZWFkPlxuICAgICAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCI+XG4gICAgICAgIDxzdHlsZT4gaHRtbCwgYm9keSB7IG1hcmdpbjogMDsgfSA8L3N0eWxlPlxuICAgICAgPC9oZWFkPlxuICAgICAgPGJvZHk+XG4gICAgICAgICR7Ym9keX1cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gIGA7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU3R5bGVUZXh0KFxuICBub2RlOiB0ZXh0RGF0YSxcbiAgZnJhbWVXaWR0aDogbnVtYmVyLFxuICBmcmFtZUhlaWdodDogbnVtYmVyXG4pIHtcbiAgY29uc3Qge1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgZm9udFNpemUsXG4gICAgZm9udEZhbWlseSxcbiAgICBjb2xvdXIsXG4gICAgbGV0dGVyU3BhY2luZyxcbiAgICBsaW5lSGVpZ2h0LFxuICAgIHRleHRBbGlnbkhvcml6b250YWwsXG4gICAgdGV4dEFsaWduVmVydGljYWwsXG4gICAgZm9udFN0eWxlLFxuICB9ID0gbm9kZTtcblxuICAvLyBQb3NpdGlvbiBjZW50ZXIgYWxpZ25lZFxuICBjb25zdCBsZWZ0ID0gYCR7KCh4ICsgd2lkdGggLyAyKSAvIGZyYW1lV2lkdGgpICogMTAwfSVgO1xuICBjb25zdCB0b3AgPSBgJHsoKHkgKyBoZWlnaHQgLyAyKSAvIGZyYW1lSGVpZ2h0KSAqIDEwMH0lYDtcblxuICAvLyBDb2xvdXJcbiAgY29uc3QgeyByLCBnLCBiLCBhIH0gPSBjb2xvdXI7XG4gIGNvbnN0IGNvbG91clZhbHMgPSBbciwgZywgYl0ubWFwKCh2YWwgPSAwKSA9PiBNYXRoLnJvdW5kKHZhbCAqIDI1NSkpO1xuICBjb25zdCB0ZXh0Q29sb3VyID0gYHJnYmEoJHtjb2xvdXJWYWxzLmpvaW4oXCIsXCIpfSwgJHthfSlgO1xuICBjb25zdCBmb250TmFtZSA9IGAke2ZvbnRGYW1pbHl9ICR7Zm9udFN0eWxlfWA7XG5cbiAgY29uc3QgeyB1bml0OiBsZXR0ZXJVbml0LCB2YWx1ZTogbGV0dGVyVmFsIH0gPSBsZXR0ZXJTcGFjaW5nIGFzIHtcbiAgICB2YWx1ZTogbnVtYmVyO1xuICAgIHVuaXQ6IFwiUElYRUxTXCIgfCBcIlBFUkNFTlRcIjtcbiAgfTtcbiAgbGV0IGxldHRlclNwYWNlVmFsdWUgPSBcIjBcIjtcbiAgc3dpdGNoIChsZXR0ZXJVbml0KSB7XG4gICAgY2FzZSBcIlBJWEVMU1wiOlxuICAgICAgLy8gVE9ETzogRklYIE1FXG4gICAgICBpZiAoZm9udEZhbWlseSA9PT0gXCJUZWxlc2FucyBUZXh0XCIpIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAke2xldHRlclZhbCAtIDAuMzN9cHhgO1xuICAgICAgfSBlbHNlIGlmIChmb250RmFtaWx5ID09PSBcIlRlbGVzYW5zIEFnYXRlXCIpIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAke2xldHRlclZhbCAtIDAuMTl9cHhgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAke2xldHRlclZhbH1weGA7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUEVSQ0VOVFwiOlxuICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAke2xldHRlclZhbCAvIDEwMH1lbWA7XG5cbiAgICAgIGlmIChmb250RmFtaWx5ID09PSBcIlRlbGVzYW5zIFRleHRcIikge1xuICAgICAgICBsZXR0ZXJTcGFjZVZhbHVlID0gYCR7bGV0dGVyVmFsIC8gMTAwIC0gMC4wMjJ9ZW1gO1xuICAgICAgfSBlbHNlIGlmIChmb250RmFtaWx5ID09PSBcIlRlbGVzYW5zIEFnYXRlXCIpIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAke2xldHRlclZhbCAvIDEwMCAtIDAuMDE1fWVtYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgJHtsZXR0ZXJWYWwgLyAxMDB9ZW1gO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmIChmb250RmFtaWx5ID09PSBcIlRlbGVzYW5zIFRleHRcIikge1xuICAgICAgICBsZXR0ZXJTcGFjZVZhbHVlID0gXCItMC4zN3B4XCI7XG4gICAgICB9IGVsc2UgaWYgKGZvbnRGYW1pbHkgPT09IFwiVGVsZXNhbnMgQWdhdGVcIikge1xuICAgICAgICBsZXR0ZXJTcGFjZVZhbHVlID0gXCItMC4xOX1weFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAwYDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgY29uc3QgeyB1bml0OiBsaW5lVW5pdCwgdmFsdWU6IGxpbmVWYWwgfSA9IGxpbmVIZWlnaHQgYXMge1xuICAgIHZhbHVlOiBudW1iZXI7XG4gICAgdW5pdDogXCJBVVRPXCIgfCBcIlBJWEVMU1wiIHwgXCJQRVJDRU5UXCI7XG4gIH07XG4gIGxldCBsaW5lSGVpZ2h0VmFsdWUgPSBcImF1dG9cIjtcbiAgc3dpdGNoIChsaW5lVW5pdCkge1xuICAgIGNhc2UgXCJQSVhFTFNcIjpcbiAgICAgIGxpbmVIZWlnaHRWYWx1ZSA9IGAke2xpbmVWYWx9cHhgO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBFUkNFTlRcIjpcbiAgICAgIGxpbmVIZWlnaHRWYWx1ZSA9IGAke2xpbmVWYWwgKiAxLjE1fSVgO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkFVVE9cIjpcbiAgICAgIGxpbmVIZWlnaHRWYWx1ZSA9IFwiMS4yXCI7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGxldCBhbGlnbkl0ZW1zVmFsdWUgPSBcImF1dG9cIjtcbiAgc3dpdGNoICh0ZXh0QWxpZ25WZXJ0aWNhbCkge1xuICAgIGNhc2UgXCJUT1BcIjpcbiAgICAgIGFsaWduSXRlbXNWYWx1ZSA9IFwiZmxleC1zdGFydFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkNFTlRFUlwiOlxuICAgICAgYWxpZ25JdGVtc1ZhbHVlID0gXCJjZW50ZXJcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJCT1RUT01cIjpcbiAgICAgIGFsaWduSXRlbXNWYWx1ZSA9IFwiZmxleC1lbmRcIjtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgbGV0IGp1c3RpZnlJdGVtc1ZhbHVlID0gXCJhdXRvXCI7XG4gIHN3aXRjaCAodGV4dEFsaWduSG9yaXpvbnRhbCkge1xuICAgIGNhc2UgXCJMRUZUXCI6XG4gICAgICBqdXN0aWZ5SXRlbXNWYWx1ZSA9IFwiZmxleC1zdGFydFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkNFTlRFUlwiOlxuICAgICAganVzdGlmeUl0ZW1zVmFsdWUgPSBcImNlbnRlclwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlJJR0hUXCI6XG4gICAgICBqdXN0aWZ5SXRlbXNWYWx1ZSA9IFwiZmxleC1lbmRcIjtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgY29uc3QgbmV3V2lkdGggPSBNYXRoLmNlaWwoKHdpZHRoIC8gZnJhbWVXaWR0aCkgKiAxMDApO1xuXG4gIHJldHVybiBgXG4gICAgICAgIGZvbnQtc2l6ZTogJHtTdHJpbmcoZm9udFNpemUpfXB4O1xuICAgICAgICBmb250LWZhbWlseTogXCIke2ZvbnROYW1lfVwiLCBHZW9yZ2lhLCAnVGltZXMgTmV3IFJvbWFuJywgVGltZXMsIHNlcmlmO1xuICAgICAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGNvbG9yOiAke3RleHRDb2xvdXJ9O1xuICAgICAgICB3aWR0aDogJHtuZXdXaWR0aH0lO1xuICAgICAgICBoZWlnaHQ6ICR7KGhlaWdodCAvIGZyYW1lSGVpZ2h0KSAqIDEwMH0lO1xuICAgICAgICBsZWZ0OiAke2xlZnR9O1xuICAgICAgICB0b3A6ICR7dG9wfTtcbiAgICAgICAgbGluZS1oZWlnaHQ6ICR7bGluZUhlaWdodFZhbHVlfTtcbiAgICAgICAgbGV0dGVyLXNwYWNpbmc6ICR7bGV0dGVyU3BhY2VWYWx1ZX07XG4gICAgICAgIGp1c3RpZnktY29udGVudDogJHtqdXN0aWZ5SXRlbXNWYWx1ZX07XG4gICAgICAgIGFsaWduLWl0ZW1zOiAke2FsaWduSXRlbXNWYWx1ZX07XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBgO1xufVxuXG50eXBlIFRleHRQcm9wcyA9IHtcbiAgbm9kZTogdGV4dERhdGE7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufTtcbmZ1bmN0aW9uIFRleHQocHJvcHM6IFRleHRQcm9wcykge1xuICBjb25zdCB7IG5vZGUsIHdpZHRoLCBoZWlnaHQgfSA9IHByb3BzO1xuXG4gIGNvbnN0IHsgY2hhcmFjdGVycyB9ID0gbm9kZTtcbiAgY29uc3Qgc3R5bGVUZXh0ID0gZ2VuZXJhdGVTdHlsZVRleHQobm9kZSwgd2lkdGgsIGhlaWdodCk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJmMmhfX3RleHRcIiBzdHlsZT17c3R5bGVUZXh0fT5cbiAgICAgIHtjaGFyYWN0ZXJzfVxuICAgIDwvcD5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIEZyYW1lQ29udGFpbmVyUHJvcHMgZXh0ZW5kcyBGcmFtZURhdGFJbnRlcmZhY2Uge1xuICBzY2FsZT86IG51bWJlciB8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIEZyYW1lQ29udGFpbmVyKHByb3BzOiBGcmFtZUNvbnRhaW5lclByb3BzKTogaC5KU1guRWxlbWVudCB7XG4gIGNvbnN0IHtcbiAgICB1aWQsXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHRleHROb2RlcyxcbiAgICBzdmcgPSBcIlwiLFxuICAgIHN2Z0NvbXByZXNzZWQgPSBcIlwiLFxuICAgIHN2Z09wdGltaXNlZCxcbiAgICByZXNwb25zaXZlLFxuICAgIHNjYWxlLFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHRleHRFbHMgPSB0ZXh0Tm9kZXMubWFwKChub2RlKSA9PiAoXG4gICAgPFRleHQga2V5PXtub2RlLmNoYXJhY3RlcnN9IG5vZGU9e25vZGV9IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9IC8+XG4gICkpO1xuICBjb25zdCBjbGFzc05hbWVzID0gYGYyaF9fcmVuZGVyICR7XG4gICAgcmVzcG9uc2l2ZSA/IFwiZjJoX19yZW5kZXItLXJlc3BvbnNpdmVcIiA6IFwiXCJcbiAgfWA7XG5cbiAgbGV0IHN0eWxlID0gcmVzcG9uc2l2ZSA/IFwiXCIgOiBgd2lkdGg6ICR7d2lkdGh9cHg7YDtcbiAgc3R5bGUgPSBzY2FsZSA/IGAke3N0eWxlfSB0cmFuc2Zvcm06IHNjYWxlKCR7c2NhbGV9KTtgIDogc3R5bGU7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lc30gc3R5bGU9e3N0eWxlfSBpZD17dWlkfT5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19zdmdfY29udGFpbmVyXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBzdmdPcHRpbWlzZWQgPyBzdmdDb21wcmVzc2VkIDogc3ZnIH19XG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX3RleHRfY29udGFpbmVyXCI+e3RleHRFbHN9PC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmludGVyZmFjZSByZW5kZXJJbmxpbmVQcm9wcyB7XG4gIGZyYW1lczogRnJhbWVEYXRhSW50ZXJmYWNlW107XG4gIGlmcmFtZTogT1VUUFVUX0ZPUk1BVFM7XG4gIGhlYWRsaW5lPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBzdWJoZWFkPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBzb3VyY2U/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVuZGVySW5saW5lKHByb3BzOiByZW5kZXJJbmxpbmVQcm9wcyk6IHN0cmluZyB7XG4gIGNvbnN0IHsgZnJhbWVzLCBpZnJhbWUsIGhlYWRsaW5lLCBzdWJoZWFkLCBzb3VyY2UgfSA9IHByb3BzO1xuICBjb25zdCBtZWRpYVF1ZXJ5ID0gZ2VucmVhdGVNZWRpYVF1ZXJpZXMoZnJhbWVzKTtcblxuICBjb25zdCByZW5kZXJlZEZyYW1lcyA9IGZyYW1lcy5tYXAoKGZyYW1lKSA9PiAoXG4gICAgPEZyYW1lQ29udGFpbmVyIGtleT17ZnJhbWUudWlkfSB7Li4uZnJhbWV9IC8+XG4gICkpO1xuXG4gIGxldCBodG1sID0gcmVuZGVyKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19lbWJlZFwiPlxuICAgICAgPHN0eWxlXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgX19odG1sOiBgXG4gICAgICAgJHtmb250c0NzcyBhcyBzdHJpbmd9XG4gICAgICAgJHtlbWJlZENzcyBhcyBzdHJpbmd9XG4gICAgICAgJHttZWRpYVF1ZXJ5fVxuICAgICAgYCxcbiAgICAgICAgfX1cbiAgICAgID48L3N0eWxlPlxuXG4gICAgICB7KGhlYWRsaW5lIHx8IHN1YmhlYWQpICYmIChcbiAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJmMmhfaGVhZGVyXCI+XG4gICAgICAgICAge2hlYWRsaW5lICYmIDxoMSBjbGFzc05hbWU9XCJmMmhfaGVhZGxpbmVcIj57aGVhZGxpbmV9PC9oMT59XG4gICAgICAgICAge3N1YmhlYWQgJiYgPHAgY2xhc3NOYW1lPVwiZjJoX3N1YmJoZWFkXCI+c3ViaGVhZDwvcD59XG4gICAgICAgIDwvaGVhZGVyPlxuICAgICAgKX1cblxuICAgICAge3JlbmRlcmVkRnJhbWVzfVxuXG4gICAgICB7c291cmNlICYmIChcbiAgICAgICAgPGZvb3Rlcj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmMmhfc291cmNlXCI+e3NvdXJjZX08L3A+XG4gICAgICAgIDwvZm9vdGVyPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcblxuICBpZiAoaWZyYW1lID09PSBPVVRQVVRfRk9STUFUUy5JRlJBTUUpIHtcbiAgICBodG1sID0gZ2VuZXJhdGVJZnJhbWVIdG1sKGh0bWwpO1xuICB9XG5cbiAgcmV0dXJuIGh0bWw7XG4gIC8vIHJldHVybiBodG1sLnJlcGxhY2UoL1xcbnxcXHJ8XFxzezIsfS9nLCBcIlwiKTtcbn1cblxuZnVuY3Rpb24gZ2VucmVhdGVNZWRpYVF1ZXJpZXMoZnJhbWVzOiBGcmFtZURhdGFJbnRlcmZhY2VbXSkge1xuICBjb25zdCBpZFdpZHRocyA9IGZyYW1lc1xuICAgIC5tYXAoKHsgd2lkdGgsIHVpZCB9KSA9PiBbd2lkdGgsIHVpZF0pXG4gICAgLnNvcnQoKFthXSwgW2JdKSA9PiAoYSA8IGIgPyAtMSA6IDEpKTtcblxuICBjb25zdCBtZWRpYVF1ZXJpZXMgPSBpZFdpZHRocy5tYXAoKFt3aWR0aCwgdWlkXSwgaSkgPT4ge1xuICAgIGlmIChpID09PSAwKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICBjb25zdCBbLCBwcmV2SWRdID0gaWRXaWR0aHNbaSAtIDFdO1xuXG4gICAgLy8gTm90ZTogQ2FzY2FkZSBvcmRlciBpcyBpbXBvcnRhbnQuXG4gICAgcmV0dXJuIGBcbiAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiAke3dpZHRofXB4KSB7XG4gICAgICAgICMke3VpZH0geyBkaXNwbGF5OiBub25lOyB9XG4gICAgICB9XG4gICAgICBAbWVkaWEgKG1pbi13aWR0aDogJHt3aWR0aH1weCkge1xuICAgICAgICAjJHtwcmV2SWR9IHsgZGlzcGxheTogbm9uZTsgfVxuICAgICAgICAjJHt1aWR9IHsgZGlzcGxheTogYmxvY2s7IH1cbiAgICAgIH1cbiAgICBgO1xuICB9KTtcblxuICByZXR1cm4gbWVkaWFRdWVyaWVzLmpvaW4oXCJcIik7XG59XG4iLCAiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHJlbmRlcklubGluZSB9IGZyb20gXCIuLi9vdXRwdXRSZW5kZXJcIjtcbmltcG9ydCB7IE9VVFBVVF9GT1JNQVRTIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgRnJhbWVEYXRhSW50ZXJmYWNlLCBBcHBTdGF0ZSB9IGZyb20gXCJ0eXBlc1wiO1xuXG5pbnRlcmZhY2UgUmVzcG9uc2l2ZVZpZXdQcm9wc1xuICBleHRlbmRzIFBpY2s8XG4gICAgQXBwU3RhdGUsXG4gICAgXCJzb3VyY2VcIiB8IFwiaGVhZGxpbmVcIiB8IFwic3ViaGVhZFwiIHwgXCJ3aW5kb3dXaWR0aFwiIHwgXCJ3aW5kb3dIZWlnaHRcIlxuICA+IHtcbiAgZnJhbWVzOiBGcmFtZURhdGFJbnRlcmZhY2VbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlc3BvbnNpdmVWaWV3KHByb3BzOiBSZXNwb25zaXZlVmlld1Byb3BzKTogaC5KU1guRWxlbWVudCB7XG4gIGNvbnN0IHtcbiAgICBmcmFtZXMsXG4gICAgaGVhZGxpbmUsXG4gICAgc3ViaGVhZCxcbiAgICBzb3VyY2UsXG4gICAgd2luZG93SGVpZ2h0LFxuICAgIHdpbmRvd1dpZHRoLFxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgbWF4V2lkdGggPSBNYXRoLm1heCguLi5mcmFtZXMubWFwKChmKSA9PiBmLndpZHRoKSk7XG4gIGNvbnN0IG1heEhlaWdodCA9IE1hdGgubWF4KC4uLmZyYW1lcy5tYXAoKGYpID0+IGYuaGVpZ2h0KSk7XG4gIGNvbnN0IG1pbldpZHRoID0gTWF0aC5taW4od2luZG93V2lkdGggLSAxMDAsIG1heFdpZHRoKTtcbiAgY29uc3QgbWluSGVpZ2h0ID0gTWF0aC5taW4od2luZG93SGVpZ2h0IC0gMTYwLCBtYXhIZWlnaHQpO1xuXG4gIGNvbnN0IHJhd0h0bWwgPSByZW5kZXJJbmxpbmUoe1xuICAgIGZyYW1lcyxcbiAgICBpZnJhbWU6IE9VVFBVVF9GT1JNQVRTLklGUkFNRSxcbiAgICBoZWFkbGluZSxcbiAgICBzdWJoZWFkLFxuICAgIHNvdXJjZSxcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fcmVzcG9uc2l2ZV9wcmV2aWV3XCI+XG4gICAgICA8cD5Vc2UgdGhlIHdpbmRvdyBiZWxvdyB0byB0ZXN0IGhvdyB0aGUgZnJhbWVzIGJlaGF2ZSB3aGVuIHJlc2l6aW5nLjwvcD5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX3Jlc3BvbnNpdmVfX3dyYXBwZXJcIj5cbiAgICAgICAgPGlmcmFtZVxuICAgICAgICAgIHN0eWxlPXtgaGVpZ2h0OiAke21pbkhlaWdodH1weDsgd2lkdGg6ICR7bWluV2lkdGh9cHg7YH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX3Jlc3BvbnNpdmVfX3NhbmRib3hcIlxuICAgICAgICAgIHNyY0RvYz17cmF3SHRtbH1cbiAgICAgICAgPjwvaWZyYW1lPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCAiaW1wb3J0IHsgaCwgRnJhZ21lbnQsIENvbXBvbmVudCwgY3JlYXRlUmVmLCBSZWZPYmplY3QgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBGcmFtZURhdGFJbnRlcmZhY2UsIEFwcFN0YXRlLCBIZWFkbGluZXNJbnRlcmZhY2UgfSBmcm9tIFwidHlwZXNcIjtcblxuaW50ZXJmYWNlIElucHV0RmllbGRQcm9wcyB7XG4gIHJlZlRhcmdldDogUmVmT2JqZWN0PEhUTUxJbnB1dEVsZW1lbnQ+O1xuICBsYWJlbDogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBoYW5kbGVDaGFuZ2U6ICgpID0+IHZvaWQ7XG59XG5mdW5jdGlvbiBJbnB1dEZpZWxkKHByb3BzOiBJbnB1dEZpZWxkUHJvcHMpIHtcbiAgY29uc3QgeyBsYWJlbCwgdmFsdWUsIHJlZlRhcmdldCwgaGFuZGxlQ2hhbmdlIH0gPSBwcm9wcztcblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImYyaF9faW5mb19mb3JtX19pdGVtIGYyaF9faW5mb19mb3JtX19pdGVtLS1oZWFkbGluZVwiPlxuICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImYyaF9faW5mb19mb3JtX19sYWJlbFwiPntsYWJlbH08L2xhYmVsPlxuICAgICAgPGlucHV0XG4gICAgICAgIGNsYXNzTmFtZT1cImYyaF9faW5mb19mb3JtX19pbnB1dCBmMmhfX2luZm9fZm9ybV9faW5wdXQtLWhlYWRsaW5lXCJcbiAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIHJlZj17cmVmVGFyZ2V0fVxuICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgLz5cbiAgICA8L3A+XG4gICk7XG59XG5cbmludGVyZmFjZSBGcmFtZVNlbGVjdGlvblByb3BzXG4gIGV4dGVuZHMgUGljazxBcHBTdGF0ZSwgXCJzb3VyY2VcIiB8IFwiaGVhZGxpbmVcIiB8IFwic3ViaGVhZFwiPiB7XG4gIGZyYW1lczogRnJhbWVEYXRhSW50ZXJmYWNlW107XG4gIGhhbmRsZUNsaWNrOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdG9nZ2xlUmVzb25zaXZlOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdG9nZ2xlU2VsZWN0QWxsOiAoKSA9PiB2b2lkO1xuICB0b2dnbGVSZXNwb25zaXZlQWxsOiAoKSA9PiB2b2lkO1xuICBoYW5kbGVGb3JtVXBkYXRlOiAocHJvcHM6IEhlYWRsaW5lc0ludGVyZmFjZSkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIEZyYW1lU2VsZWN0aW9uIGV4dGVuZHMgQ29tcG9uZW50PEZyYW1lU2VsZWN0aW9uUHJvcHM+IHtcbiAgcHJpdmF0ZSBoZWFkbGluZUlucHV0OiBSZWZPYmplY3Q8SFRNTElucHV0RWxlbWVudD4gPSBjcmVhdGVSZWYoKTtcbiAgcHJpdmF0ZSBzdWJoZWFkSW5wdXQ6IFJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50PiA9IGNyZWF0ZVJlZigpO1xuICBwcml2YXRlIHNvdXJjZUlucHV0OiBSZWZPYmplY3Q8SFRNTElucHV0RWxlbWVudD4gPSBjcmVhdGVSZWYoKTtcblxuICBzZW5kRm9ybVZhbHVlcyA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IGhhbmRsZUZvcm1VcGRhdGUgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaGVhZGxpbmUgPSB0aGlzLmhlYWRsaW5lSW5wdXQuY3VycmVudD8udmFsdWU7XG4gICAgY29uc3Qgc3ViaGVhZCA9IHRoaXMuc3ViaGVhZElucHV0LmN1cnJlbnQ/LnZhbHVlO1xuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlSW5wdXQuY3VycmVudD8udmFsdWU7XG5cbiAgICBoYW5kbGVGb3JtVXBkYXRlKHsgaGVhZGxpbmUsIHN1YmhlYWQsIHNvdXJjZSB9KTtcbiAgfTtcblxuICByZW5kZXIoKTogaC5KU1guRWxlbWVudCB7XG4gICAgY29uc3Qge1xuICAgICAgZnJhbWVzLFxuICAgICAgaGFuZGxlQ2xpY2ssXG4gICAgICB0b2dnbGVSZXNvbnNpdmUsXG4gICAgICB0b2dnbGVTZWxlY3RBbGwsXG4gICAgICB0b2dnbGVSZXNwb25zaXZlQWxsLFxuICAgICAgaGVhZGxpbmUsXG4gICAgICBzdWJoZWFkLFxuICAgICAgc291cmNlLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3Qgc2VsZWN0Q291bnQgPSBmcmFtZXMuZmlsdGVyKChmcmFtZSkgPT4gZnJhbWUuc2VsZWN0ZWQpLmxlbmd0aDtcbiAgICBjb25zdCBzb21lRnJhbWVzU2VsZWN0ZWQgPSBzZWxlY3RDb3VudCA+IDAgJiYgc2VsZWN0Q291bnQgPCBmcmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IGFsbFNlbGVjdGVkID0gc2VsZWN0Q291bnQgPT09IGZyYW1lcy5sZW5ndGg7XG5cbiAgICBjb25zdCByZXNwb25zZUNvdW50ID0gZnJhbWVzLmZpbHRlcigoZnJhbWUpID0+IGZyYW1lLnJlc3BvbnNpdmUpLmxlbmd0aDtcbiAgICBjb25zdCBzb21lUmVzcG9uc2l2ZVNlbGVjdGVkID1cbiAgICAgIHJlc3BvbnNlQ291bnQgPiAwICYmIHJlc3BvbnNlQ291bnQgPCBmcmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IGFsbFJlc3BvbnNpdmVTZWxlY3RlZCA9IHJlc3BvbnNlQ291bnQgPT09IGZyYW1lcy5sZW5ndGg7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX2Nob29zZV9mcmFtZXNcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX2luZm9fZm9ybVwiPlxuICAgICAgICAgIDxJbnB1dEZpZWxkXG4gICAgICAgICAgICByZWZUYXJnZXQ9e3RoaXMuaGVhZGxpbmVJbnB1dH1cbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZT17dGhpcy5zZW5kRm9ybVZhbHVlc31cbiAgICAgICAgICAgIGxhYmVsPVwiSGVhZGxpbmVcIlxuICAgICAgICAgICAgdmFsdWU9e2hlYWRsaW5lfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICA8SW5wdXRGaWVsZFxuICAgICAgICAgICAgcmVmVGFyZ2V0PXt0aGlzLnN1YmhlYWRJbnB1dH1cbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZT17dGhpcy5zZW5kRm9ybVZhbHVlc31cbiAgICAgICAgICAgIGxhYmVsPVwiU3ViaGVhZFwiXG4gICAgICAgICAgICB2YWx1ZT17c3ViaGVhZH1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPElucHV0RmllbGRcbiAgICAgICAgICAgIHJlZlRhcmdldD17dGhpcy5zb3VyY2VJbnB1dH1cbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZT17dGhpcy5zZW5kRm9ybVZhbHVlc31cbiAgICAgICAgICAgIGxhYmVsPVwiU291cmNlXCJcbiAgICAgICAgICAgIHZhbHVlPXtzb3VyY2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX2ZyYW1lX3NlbGVjdGlvblwiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmMmhfX3NlbF9oZWFkZXIgZjJoX19zZWxfaGVhZGVyLS1uYW1lXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgbmFtZT1cInNlbGVjdEFsbFwiXG4gICAgICAgICAgICAgIGlkPVwic2VsZWN0QWxsXCJcbiAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlU2VsZWN0QWxsfVxuICAgICAgICAgICAgICBjaGVja2VkPXthbGxTZWxlY3RlZH1cbiAgICAgICAgICAgICAgcmVmPXsoZWwpID0+IGVsICYmIChlbC5pbmRldGVybWluYXRlID0gc29tZUZyYW1lc1NlbGVjdGVkKX1cbiAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgRnJhbWVzXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZjJoX19zZWxfaGVhZGVyIGYyaF9fc2VsX2hlYWRlci0tcmVzcG9uc2l2ZVwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgIGlkPVwicmVzcG9uc2l2ZUFsbFwiXG4gICAgICAgICAgICAgIG5hbWU9XCJyZXNwb25zaXZlQWxsXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlUmVzcG9uc2l2ZUFsbH1cbiAgICAgICAgICAgICAgY2hlY2tlZD17YWxsUmVzcG9uc2l2ZVNlbGVjdGVkfVxuICAgICAgICAgICAgICByZWY9eyhlbCkgPT4gZWwgJiYgKGVsLmluZGV0ZXJtaW5hdGUgPSBzb21lUmVzcG9uc2l2ZVNlbGVjdGVkKX1cbiAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgUmVzcG9uc2l2ZVxuICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICB7ZnJhbWVzLm1hcCgoeyBuYW1lLCBpZCwgd2lkdGgsIGhlaWdodCwgc2VsZWN0ZWQsIHJlc3BvbnNpdmUgfSkgPT4gKFxuICAgICAgICAgICAgPEZyYWdtZW50IGtleT17aWR9PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmMmhfX2xhYmVsIGYyaF9fbGFiZWwtLW5hbWVcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImYyaF9fY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3NlbGVjdGVkfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ2xpY2soaWQpfVxuICAgICAgICAgICAgICAgICAgaWQ9e25hbWV9XG4gICAgICAgICAgICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImYyaF9fbGFiZWwtLW5hbWUtdGV4dFwiIGh0bWxGb3I9e25hbWV9PlxuICAgICAgICAgICAgICAgICAge25hbWV9XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmMmhfX3NlbF93aWR0aFwiPlxuICAgICAgICAgICAgICAgICAge3dpZHRofSB4IHtoZWlnaHR9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19jaGVja2JveCBmMmhfX2lucHV0LS1yZXNwb25zaXZlXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3Jlc3BvbnNpdmV9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlUmVzb25zaXZlKGlkKX1cbiAgICAgICAgICAgICAgICBpZD17bmFtZX1cbiAgICAgICAgICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgaCwgQ29tcG9uZW50LCBjcmVhdGVSZWYgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBGUkFNRV9XQVJOSU5HX1NJWkUgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBGcmFtZUNvbnRhaW5lciB9IGZyb20gXCIuLi9vdXRwdXRSZW5kZXJcIjtcbmltcG9ydCB7IEZyYW1lRGF0YUludGVyZmFjZSB9IGZyb20gXCJ0eXBlc1wiO1xuXG50eXBlIFByZXZpZXdQcm9wcyA9IHtcbiAgZnJhbWU6IEZyYW1lRGF0YUludGVyZmFjZTtcbiAgd2luZG93V2lkdGg6IG51bWJlcjtcbiAgd2luZG93SGVpZ2h0OiBudW1iZXI7XG59O1xuXG50eXBlIFByZXZpZXdTdGF0ZSA9IHtcbiAgbmF0aXZlU2l6ZTogYm9vbGVhbjtcbn07XG5cbmludGVyZmFjZSBzY2FsZUludGVyZmFjZSB7XG4gIHNjYWxlOiBudW1iZXI7XG4gIHNjYWxlZEhlaWdodDogbnVtYmVyO1xuICBzY2FsZWRXaWR0aDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgUHJldmlldyBleHRlbmRzIENvbXBvbmVudDxQcmV2aWV3UHJvcHMsIFByZXZpZXdTdGF0ZT4ge1xuICBzdGF0ZTogUHJldmlld1N0YXRlID0ge1xuICAgIG5hdGl2ZVNpemU6IHRydWUsXG4gIH07XG5cbiAgaW5uZXJFbCA9IGNyZWF0ZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcblxuICBjb21wb25lbnREaWRNb3VudCgpOiB2b2lkIHtcbiAgICBjb25zdCB7IHNjYWxlIH0gPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG5hdGl2ZVNpemU6IHNjYWxlID49IDEgfSk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoXG4gICAgX3ByZXZpb3VzUHJvcHM6IFByZXZpZXdQcm9wcyxcbiAgICBwcmV2aW91c1N0YXRlOiBQcmV2aWV3U3RhdGVcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgeyBuYXRpdmVTaXplIH0gPSBwcmV2aW91c1N0YXRlO1xuICAgIGNvbnN0IHsgc2NhbGUgfSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICBjb25zdCBpc05hdGl2ZVNpemUgPSBzY2FsZSA+PSAxO1xuXG4gICAgaWYgKG5hdGl2ZVNpemUgIT09IGlzTmF0aXZlU2l6ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG5hdGl2ZVNpemU6IGlzTmF0aXZlU2l6ZSB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRTY2FsZSA9ICgpOiBzY2FsZUludGVyZmFjZSA9PiB7XG4gICAgY29uc3QgeyB3aW5kb3dIZWlnaHQsIHdpbmRvd1dpZHRoLCBmcmFtZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGZyYW1lO1xuXG4gICAgLy8gRnJhbWVzIGNhbiBiZSBsYXJnZXIgdGhhbiBGaWdtYSdzIHBsdWdpbiBVSSB3aW5kb3cuXG4gICAgLy8gVG8gYWxsb3cgdGhlIHVzZXIgdG8gc2VlIHRoZSB3aG9sZSBmcmFtZSB3ZSBuZWVkIHRvIHNjYWxlIGl0IGRvd24gdG8gZml0XG4gICAgLy8gVE9ETzogR2V0IHJlYWwgVUkgaGVhZGVyIGhlaWdodD9cbiAgICBjb25zdCBXSU5ET1dfSEVBREVSX0hFSUdIVCA9IDE0MDtcbiAgICBjb25zdCBoZWlnaHRSYXRpbyA9ICh3aW5kb3dIZWlnaHQgLSBXSU5ET1dfSEVBREVSX0hFSUdIVCkgLyBoZWlnaHQ7XG5cbiAgICBjb25zdCBXSU5ET1dfU0lERV9NQVJHSU5TID0gMTIwO1xuICAgIGNvbnN0IHdpZHRoUmF0aW8gPSAod2luZG93V2lkdGggLSBXSU5ET1dfU0lERV9NQVJHSU5TKSAvIHdpZHRoO1xuXG4gICAgY29uc3Qgc21hbGxlc3RSYXRpbyA9IE1hdGgubWluKGhlaWdodFJhdGlvLCB3aWR0aFJhdGlvKTtcblxuICAgIGNvbnN0IHNjYWxlID0gc21hbGxlc3RSYXRpbyA8IDEgPyBzbWFsbGVzdFJhdGlvIDogMTtcbiAgICBjb25zdCBzY2FsZWRIZWlnaHQgPSBoZWlnaHQgKiBzY2FsZTtcbiAgICBjb25zdCBzY2FsZWRXaWR0aCA9IHdpZHRoICogc2NhbGU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2NhbGUsXG4gICAgICBzY2FsZWRIZWlnaHQsXG4gICAgICBzY2FsZWRXaWR0aCxcbiAgICB9O1xuICB9O1xuXG4gIHRvZ2dsZVpvb21lZCA9ICgpOiB2b2lkID0+IHtcbiAgICAvLyBSZXBvc2l0aW9uIGlubmVyIHNjcm9sbCB0byBlbnN1cmUgdHJhbnNmb3JtIG9mZnNldCBtYXRjaGVzIHRvcCBsZWZ0XG4gICAgY29uc3QgeyBjdXJyZW50OiBlbCB9ID0gdGhpcy5pbm5lckVsO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwuc2Nyb2xsTGVmdCA9IDA7XG4gICAgICBlbC5zY3JvbGxUb3AgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiTWlzc2luZyBwcmV2aWV3IGlubmVyIERPTSBlbGVtZW50XCIpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBuYXRpdmVTaXplOiAhdGhpcy5zdGF0ZS5uYXRpdmVTaXplIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpOiBoLkpTWC5FbGVtZW50IHtcbiAgICBjb25zdCB7IGZyYW1lIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgc3ZnLCBzdmdPcHRpbWlzZWQsIHN2Z0NvbXByZXNzZWQgfSA9IGZyYW1lO1xuXG4gICAgY29uc3QgcmVuZGVyQ2hhckNvdW50ID1cbiAgICAgIChzdmdPcHRpbWlzZWQgPyBzdmdDb21wcmVzc2VkPy5sZW5ndGggOiBzdmc/Lmxlbmd0aCkgfHwgMDtcbiAgICBjb25zdCBmaWxlS2JTaXplID0gTWF0aC5jZWlsKHJlbmRlckNoYXJDb3VudCAvIDEwMDApO1xuICAgIGNvbnN0IGlzRmlsZUxhcmdlID0gZmlsZUtiU2l6ZSA+IEZSQU1FX1dBUk5JTkdfU0laRTtcblxuICAgIGNvbnN0IHsgbmF0aXZlU2l6ZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7IHNjYWxlLCBzY2FsZWRIZWlnaHQsIHNjYWxlZFdpZHRoIH0gPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgY29uc3QgcHJldmlld1dyYXBwZXJTdHlsZXMgPSAhbmF0aXZlU2l6ZVxuICAgICAgPyBgd2lkdGg6ICR7c2NhbGVkV2lkdGh9OyBoZWlnaHQ6ICR7c2NhbGVkSGVpZ2h0fTtgXG4gICAgICA6IFwiXCI7XG4gICAgbGV0IHNjYWxlV2FybmluZztcblxuICAgIGlmIChzY2FsZSA8IDEpIHtcbiAgICAgIHNjYWxlV2FybmluZyA9IChcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiZjJoX19zY2FsZV93YXJuaW5nIGYyaF9fbm90aWNlLS13YXJuaW5nXCI+XG4gICAgICAgICAgPHNwYW4+Wm9vbWVkIHtuYXRpdmVTaXplID8gXCIxMDBcIiA6IE1hdGgucm91bmQoc2NhbGUgKiAxMDApfSUgLSA8L3NwYW4+XG4gICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgbmF0aXZlIHNpemV7XCIgXCJ9XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgY2hlY2tlZD17bmF0aXZlU2l6ZX1cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVab29tZWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvcD5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19wcmV2aWV3XCI+XG4gICAgICAgIHtpc0ZpbGVMYXJnZSAmJiAoXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZjJoX19zaXplX3dhcm5pbmcgZjJoX19ub3RpY2UtLXdhcm5pbmdcIj5cbiAgICAgICAgICAgIEZpbGUgc2l6ZSBpcyB2ZXJ5IGxhcmdlLCBjb25zaWRlciB1c2luZyBzbWFsbGVyIGltYWdlcyBhbmQgc2ltcGxpZXJcbiAgICAgICAgICAgIHNoYXBlc1xuICAgICAgICAgIDwvcD5cbiAgICAgICAgKX1cblxuICAgICAgICB7c2NhbGVXYXJuaW5nfVxuXG4gICAgICAgIHtzdmcgPyAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgcmVmPXt0aGlzLmlubmVyRWx9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BmMmhfX3ByZXZpZXdfaW5uZXIgJHtcbiAgICAgICAgICAgICAgIW5hdGl2ZVNpemUgPyBcImYyaF9fcHJldmlld19pbm5lci0tc2NhbGVkXCIgOiBcIlwiXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIHN0eWxlPXtwcmV2aWV3V3JhcHBlclN0eWxlc31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8RnJhbWVDb250YWluZXIgey4uLmZyYW1lfSBzY2FsZT17IW5hdGl2ZVNpemUgJiYgc2NhbGV9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZjJoX19wcmV2aWV3X2xvYWRpbmdcIj5Mb2FkaW5nLi4uPC9wPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IGgsIENvbXBvbmVudCwgY3JlYXRlUmVmIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgc2F2ZUFzIH0gZnJvbSBcImZpbGUtc2F2ZXJcIjtcbmltcG9ydCB7IE9VVFBVVF9GT1JNQVRTIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgcmVuZGVySW5saW5lIH0gZnJvbSBcIi4uL291dHB1dFJlbmRlclwiO1xuaW1wb3J0IHsgRnJhbWVEYXRhSW50ZXJmYWNlLCBBcHBTdGF0ZSB9IGZyb20gXCJ0eXBlc1wiO1xuXG5pbnRlcmZhY2UgU2F2ZVByb3BzIGV4dGVuZHMgUGljazxBcHBTdGF0ZSwgXCJzb3VyY2VcIiB8IFwiaGVhZGxpbmVcIiB8IFwic3ViaGVhZFwiPiB7XG4gIGZyYW1lczogRnJhbWVEYXRhSW50ZXJmYWNlW107XG59XG5cbmludGVyZmFjZSBTYXZlU3RhdGUge1xuICBhZHZhbmNlZE9wZW46IGJvb2xlYW47XG4gIHNob3dUb2FzdDogYm9vbGVhbjtcbiAgb3V0cHV0Rm9ybWF0OiBPVVRQVVRfRk9STUFUUztcbn1cblxuZXhwb3J0IGNsYXNzIFNhdmUgZXh0ZW5kcyBDb21wb25lbnQ8U2F2ZVByb3BzLCBTYXZlU3RhdGU+IHtcbiAgc3RhdGU6IFNhdmVTdGF0ZSA9IHtcbiAgICBhZHZhbmNlZE9wZW46IGZhbHNlLFxuICAgIHNob3dUb2FzdDogZmFsc2UsXG4gICAgb3V0cHV0Rm9ybWF0OiBPVVRQVVRfRk9STUFUUy5JTkxJTkUsXG4gIH07XG5cbiAgcHJpdmF0ZSB0ZXh0QXJlYUVsID0gY3JlYXRlUmVmPEhUTUxUZXh0QXJlYUVsZW1lbnQ+KCk7XG5cbiAgdG9nZ2xlQWR2YW5jZWQgPSAoKTogdm9pZCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhZHZhbmNlZE9wZW46ICF0aGlzLnN0YXRlLmFkdmFuY2VkT3BlbixcbiAgICB9KTtcbiAgfTtcblxuICBzYXZlVG9DbGlwYm9hcmQgPSAoKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW50OiBlbCB9ID0gdGhpcy50ZXh0QXJlYUVsO1xuXG4gICAgaWYgKCFlbCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIk1pc3NpbmcgdGV4dGFyZWEgZWxlbWVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTZWxlY3QgdGV4dCBhbmQgY29weSB0byBjbGlwYm9hcmRcbiAgICBlbC5zZWxlY3QoKTtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIik7XG5cbiAgICAvLyBPbmx5IHNob3cgdG9hc3QgaWYgaXQgaXNuJ3QgYWxyZWFkeSBhY3RpdmVcbiAgICBjb25zdCB7IHNob3dUb2FzdCB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoc2hvd1RvYXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dUb2FzdDogdHJ1ZSB9KTtcblxuICAgIC8vIENsZWFyIHRvYXN0IGFmdGVyIGEgZmV3IHNlY29uZHNcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2V0U3RhdGUoeyBzaG93VG9hc3Q6IGZhbHNlIH0pLCAyMDAwKTtcbiAgfTtcblxuICBzYXZlRW1iZWRUb0NsaXBib2FyZCA9ICgpOiB2b2lkID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKFxuICAgICAgeyBvdXRwdXRGb3JtYXQ6IE9VVFBVVF9GT1JNQVRTLklOTElORSB9LFxuICAgICAgdGhpcy5zYXZlVG9DbGlwYm9hcmRcbiAgICApO1xuICB9O1xuXG4gIHNhdmVCaW5hcnlGaWxlID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgZnJhbWVzLCBoZWFkbGluZSwgc3ViaGVhZCwgc291cmNlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IG91dHB1dEZyYW1lcyA9IE9iamVjdC52YWx1ZXMoZnJhbWVzKS5maWx0ZXIoKGYpID0+IGYuc2VsZWN0ZWQpO1xuXG4gICAgY29uc3QgZmlsZW5hbWUgPSBcImZpZ21hLXRvLWh0bWwtdGVzdC5odG1sXCI7XG4gICAgY29uc3QgcmF3ID0gcmVuZGVySW5saW5lKHtcbiAgICAgIGZyYW1lczogb3V0cHV0RnJhbWVzLFxuICAgICAgaWZyYW1lOiBPVVRQVVRfRk9STUFUUy5JRlJBTUUsXG4gICAgICBoZWFkbGluZSxcbiAgICAgIHN1YmhlYWQsXG4gICAgICBzb3VyY2UsXG4gICAgfSk7XG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtyYXddLCB7IHR5cGU6IFwidGV4dC9odG1sXCIgfSk7XG5cbiAgICBzYXZlQXMoYmxvYiwgZmlsZW5hbWUpO1xuICB9O1xuXG4gIGhhbmRsZUZvcm1hdENoYW5nZSA9IChmb3JtYXQ6IE9VVFBVVF9GT1JNQVRTKTogdm9pZCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBvdXRwdXRGb3JtYXQ6IGZvcm1hdCxcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKTogaC5KU1guRWxlbWVudCB7XG4gICAgY29uc3QgeyBmcmFtZXMsIGhlYWRsaW5lLCBzdWJoZWFkLCBzb3VyY2UgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBhZHZhbmNlZE9wZW4sIHNob3dUb2FzdCwgb3V0cHV0Rm9ybWF0IH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHJhd0h0bWwgPSByZW5kZXJJbmxpbmUoe1xuICAgICAgZnJhbWVzLFxuICAgICAgaWZyYW1lOiBvdXRwdXRGb3JtYXQsXG4gICAgICBoZWFkbGluZSxcbiAgICAgIHN1YmhlYWQsXG4gICAgICBzb3VyY2UsXG4gICAgfSk7XG5cbiAgICBjb25zdCBhZHZhbmNlZEJ0blRleHQgPSBgJHthZHZhbmNlZE9wZW4gPyBcImhpZGVcIiA6IFwic2hvd1wifWA7XG4gICAgbGV0IGFkdmFuY2VkQ2xhc3NOYW1lID0gXCJmMmhfX3NhdmVfYWR2YW5jZWRcIjtcbiAgICBpZiAoYWR2YW5jZWRPcGVuKSB7XG4gICAgICBhZHZhbmNlZENsYXNzTmFtZSArPSBcImYyaF9fc2F2ZV9hZHZhbmNlZC0tb3BlblwiO1xuICAgIH1cblxuICAgIGxldCB0b2FzdENsYXNzTmFtZSA9IFwiZjJoX190b2FzdFwiO1xuICAgIGlmIChzaG93VG9hc3QpIHtcbiAgICAgIHRvYXN0Q2xhc3NOYW1lICs9IFwiZjJoX190b2FzdC0tb3BlblwiO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fc2F2ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9vcHRpb25zXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJmMmhfX3NhdmVfYnRuXCIgb25DbGljaz17dGhpcy5zYXZlRW1iZWRUb0NsaXBib2FyZH0+XG4gICAgICAgICAgICBDb3B5IGVtYmVkIHRvIGNsaXBib2FyZFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZjJoX19zYXZlX2J0blwiIG9uQ2xpY2s9e3RoaXMuc2F2ZUJpbmFyeUZpbGV9PlxuICAgICAgICAgICAgRG93bmxvYWQgaWZyYW1lIEhUTUwgZmlsZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZjJoX19zYXZlX19zdWJoZWFkIGYyaF9fc2F2ZV9hZHZhbmNlZC1oZWFkZXJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmMmhfX3NhdmVfYWR2YW5jZWRfdGl0bGVcIj5BZHZhbmNlZCBzZXR0aW5nczwvc3Bhbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX3NhdmVfYWR2YW5jZWRfc2hvd1wiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZUFkdmFuY2VkfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHthZHZhbmNlZEJ0blRleHR9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvaDI+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2FkdmFuY2VkQ2xhc3NOYW1lfT5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZjJoX19zYXZlX19zdWJoZWFkXCI+Rm9ybWF0PC9oMj5cblxuICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiZjJoX19pbnB1dF9pbmxpbmVcIiBjbGFzc05hbWU9XCJmMmhfX2xhYmVsXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19yYWRpb19idG5cIlxuICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICBuYW1lPVwiaW5saW5lXCJcbiAgICAgICAgICAgICAgaWQ9XCJmMmhfX2lucHV0X2lubGluZVwiXG4gICAgICAgICAgICAgIHZhbHVlPXtPVVRQVVRfRk9STUFUUy5JTkxJTkV9XG4gICAgICAgICAgICAgIGNoZWNrZWQ9e291dHB1dEZvcm1hdCA9PT0gT1VUUFVUX0ZPUk1BVFMuSU5MSU5FfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUZvcm1hdENoYW5nZShPVVRQVVRfRk9STUFUUy5JTkxJTkUpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIElubGluZSAoZGVmYXVsdClcbiAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJmMmhfX2lucHV0X2lmcmFtZVwiIGNsYXNzTmFtZT1cImYyaF9fbGFiZWxcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX3JhZGlvX2J0blwiXG4gICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgIG5hbWU9XCJpZnJhbWVcIlxuICAgICAgICAgICAgICBpZD1cImYyaF9faW5wdXRfaWZyYW1lXCJcbiAgICAgICAgICAgICAgdmFsdWU9e09VVFBVVF9GT1JNQVRTLklGUkFNRX1cbiAgICAgICAgICAgICAgY2hlY2tlZD17b3V0cHV0Rm9ybWF0ID09PSBPVVRQVVRfRk9STUFUUy5JRlJBTUV9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlRm9ybWF0Q2hhbmdlKE9VVFBVVF9GT1JNQVRTLklGUkFNRSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgaUZyYW1lXG4gICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJmMmhfX3NhdmVfX3N1YmhlYWRcIj5SYXcgSFRNTDwvaDI+XG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICByZWY9e3RoaXMudGV4dEFyZWFFbH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9fcmF3XCJcbiAgICAgICAgICAgIHZhbHVlPXtyYXdIdG1sfVxuICAgICAgICAgID48L3RleHRhcmVhPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dG9hc3RDbGFzc05hbWV9PkNvcGllZCB0byBjbGlwYm9hcmQ8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gZGVjb2RlU3ZnVG9TdHJpbmcoc3ZnOiBVaW50OEFycmF5KSB7XG4gIGxldCBzdmdTdHIgPSBuZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiKS5kZWNvZGUoc3ZnKTtcbiAgLy8gTk9URTogRmlnbWEgZ2VuZXJhdGVzIG5vbi11bmlxdWUgSURzIGZvciBtYXNrcyB3aGljaCBjYW4gY2xhc2ggd2hlblxuICAvLyBlbWJlZGRpbmcgbXVsdGlwbGUgU1ZHU3MuIFdlIGRvIGEgc3RyaW5nIHJlcGxhY2UgZm9yIHVuaXF1ZSBJRHNcbiAgY29uc3QgcmVnZXggPSAvaWQ9XCIoLis/KVwiL2c7XG4gIGNvbnN0IGlkczogc3RyaW5nW10gPSBbXTtcbiAgbGV0IG1hdGNoZXM7XG5cbiAgd2hpbGUgKChtYXRjaGVzID0gcmVnZXguZXhlYyhzdmdTdHIpKSkge1xuICAgIGNvbnN0IFssIGlkXSA9IG1hdGNoZXM7XG4gICAgaWRzLnB1c2goaWQpO1xuICB9XG5cbiAgaWRzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgY29uc3Qgcm5kID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzMikuc3Vic3RyKDIpO1xuICAgIGNvbnN0IHJhbmRvbUlkID0gYCR7aWR9LSR7cm5kfWA7XG4gICAgLy8gUmVwbGFjZSBJRFxuICAgIHN2Z1N0ciA9IHN2Z1N0ci5yZXBsYWNlKGBpZD1cIiR7aWR9XCJgLCBgaWQ9XCIke3JhbmRvbUlkfVwiYCk7XG4gICAgLy8gUmVwbGFjZSBhbmNob3IgcmVmc1xuICAgIHN2Z1N0ciA9IHN2Z1N0ci5yZXBsYWNlKGAjJHtpZH1gLCBgIyR7cmFuZG9tSWR9YCk7XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZSBIVFRQIGxpbmtzIHRvIEhUVFBTXG4gIHN2Z1N0ciA9IHN2Z1N0ci5yZXBsYWNlKC9odHRwOlxcL1xcLy9nLCBcImh0dHBzOi8vXCIpO1xuXG4gIHJldHVybiBzdmdTdHI7XG59XG4iLCAiaW1wb3J0IENvbXByZXNzb3IgZnJvbSBcImNvbXByZXNzb3Jqc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tcHJlc3NJbWFnZShcbiAgaW1hZ2U6IFVpbnQ4QXJyYXksXG4gIHdpZHRoOiBudW1iZXIsXG4gIGhlaWdodDogbnVtYmVyXG4pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAvLyBDcmVhdGUgaW1hZ2UgZnJvbSBibG9iIHRvIGFjY2VzcyBuYXRpdmUgaW1hZ2Ugc2l6ZXMgdGhlIHJlc2l6ZSBhbmRcbiAgICAvLyBjb21wcmVzc1xuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbaW1hZ2VdLCB7IHR5cGU6IFwiaW1hZ2UvcG5nXCIgfSk7XG4gICAgY29uc3QgaW1nVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcuc3JjID0gaW1nVXJsO1xuICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICBsZXQgdGFyZ2V0V2lkdGggPSAwO1xuICAgICAgbGV0IHRhcmdldEhlaWdodCA9IDA7XG5cbiAgICAgIC8vIERvbid0IHNjYWxlIGltYWdlIHVwIGlmIG5vZGUgaXMgbGFyZ2VyIHRoYW4gaW1hZ2VcbiAgICAgIGlmICh3aWR0aCA+IGltZy53aWR0aCB8fCBoZWlnaHQgPiBpbWcuaGVpZ2h0KSB7XG4gICAgICAgIHRhcmdldFdpZHRoID0gaW1nLndpZHRoO1xuICAgICAgICB0YXJnZXRIZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2NhbGUgdG8gbGFyZ2VzdCBkaW1lbnNpb25cbiAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSBpbWcud2lkdGggLyBpbWcuaGVpZ2h0O1xuICAgICAgICB0YXJnZXRXaWR0aCA9IGFzcGVjdFJhdGlvID49IDEgPyBoZWlnaHQgKiBhc3BlY3RSYXRpbyA6IHdpZHRoO1xuICAgICAgICB0YXJnZXRIZWlnaHQgPSBhc3BlY3RSYXRpbyA+PSAxID8gaGVpZ2h0IDogd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgIH1cblxuICAgICAgbmV3IENvbXByZXNzb3IoYmxvYiwge1xuICAgICAgICB3aWR0aDogdGFyZ2V0V2lkdGgsXG4gICAgICAgIGhlaWdodDogdGFyZ2V0SGVpZ2h0LFxuICAgICAgICBxdWFsaXR5OiAwLjcsXG4gICAgICAgIGNvbnZlcnRTaXplOiAxMDAwMDAsXG4gICAgICAgIHN1Y2Nlc3M6IGFzeW5jIChuZXdJbWFnZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGJ1ZiA9IGF3YWl0IG5ld0ltYWdlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG4gICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW1hZ2UgY29tcHJlc3Npb24gZmFpbGVkXCIpO1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGNvbXByZXNzZWQgaW1hZ2VcIik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgTVNHX0VWRU5UUyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKHR5cGU6IE1TR19FVkVOVFMsIGRhdGE/OiB7IFtpZDogc3RyaW5nXTogYW55IH0pIHtcbiAgY29uc29sZS5sb2coXCJwb3N0IG1lc3NhZ2VcIiwgcGFyZW50LnBvc3RNZXNzYWdlLCB0eXBlLCBkYXRhKTtcbiAgcGFyZW50LnBvc3RNZXNzYWdlKFxuICAgIHtcbiAgICAgIHBsdWdpbk1lc3NhZ2U6IHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBcIipcIlxuICApO1xufVxuIiwgIi8vIEB0cy1ub2NoZWNrXG4vLyBUT0RPOiBBZGQgdHlwZVxuXG4vKipcbiAqIEVuY29kZSBwbGFpbiBTVkcgZGF0YSBzdHJpbmcgaW50byBEYXRhIFVSSSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBpbnB1dCBzdHJpbmdcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIERhdGEgVVJJIHR5cGVcbiAqIEByZXR1cm4ge1N0cmluZ30gb3V0cHV0IHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QgZW5jb2RlU1ZHRGF0YXVyaSA9IGZ1bmN0aW9uIChzdHIsIHR5cGUpIHtcbiAgdmFyIHByZWZpeCA9IFwiZGF0YTppbWFnZS9zdmcreG1sXCI7XG4gIGlmICghdHlwZSB8fCB0eXBlID09PSBcImJhc2U2NFwiKSB7XG4gICAgLy8gYmFzZTY0XG4gICAgcHJlZml4ICs9IFwiO2Jhc2U2NCxcIjtcbiAgICBpZiAoQnVmZmVyLmZyb20pIHtcbiAgICAgIHN0ciA9IHByZWZpeCArIEJ1ZmZlci5mcm9tKHN0cikudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IHByZWZpeCArIG5ldyBCdWZmZXIoc3RyKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJlbmNcIikge1xuICAgIC8vIFVSSSBlbmNvZGVkXG4gICAgc3RyID0gcHJlZml4ICsgXCIsXCIgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcInVuZW5jXCIpIHtcbiAgICAvLyB1bmVuY29kZWRcbiAgICBzdHIgPSBwcmVmaXggKyBcIixcIiArIHN0cjtcbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuLyoqXG4gKiBEZWNvZGUgU1ZHIERhdGEgVVJJIHN0cmluZyBpbnRvIHBsYWluIFNWRyBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBpbnB1dCBzdHJpbmdcbiAqIEByZXR1cm4ge1N0cmluZ30gb3V0cHV0IHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QgZGVjb2RlU1ZHRGF0YXVyaSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgdmFyIHJlZ2V4cCA9IC9kYXRhOmltYWdlXFwvc3ZnXFwreG1sKDtjaGFyc2V0PVteOyxdKik/KDtiYXNlNjQpPywoLiopLztcbiAgdmFyIG1hdGNoID0gcmVnZXhwLmV4ZWMoc3RyKTtcblxuICAvLyBwbGFpbiBzdHJpbmdcbiAgaWYgKCFtYXRjaCkgcmV0dXJuIHN0cjtcblxuICB2YXIgZGF0YSA9IG1hdGNoWzNdO1xuXG4gIGlmIChtYXRjaFsyXSkge1xuICAgIC8vIGJhc2U2NFxuICAgIHN0ciA9IG5ldyBCdWZmZXIoZGF0YSwgXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGY4XCIpO1xuICB9IGVsc2UgaWYgKGRhdGEuY2hhckF0KDApID09PSBcIiVcIikge1xuICAgIC8vIFVSSSBlbmNvZGVkXG4gICAgc3RyID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEpO1xuICB9IGVsc2UgaWYgKGRhdGEuY2hhckF0KDApID09PSBcIjxcIikge1xuICAgIC8vIHVuZW5jb2RlZFxuICAgIHN0ciA9IGRhdGE7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cbmV4cG9ydCBjb25zdCBpbnRlcnNlY3RBcnJheXMgPSBmdW5jdGlvbiAoYSwgYikge1xuICByZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gYi5pbmRleE9mKG4pID4gLTE7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgcm93IG9mIG51bWJlcnMgdG8gYW4gb3B0aW1pemVkIHN0cmluZyB2aWV3LlxuICpcbiAqIEBleGFtcGxlXG4gKiBbMCwgLTEsIC41LCAuNV0gXHUyMTkyIFwiMC0xIC41LjVcIlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyW119IGRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXNcbiAqIEBwYXJhbSB7c3RyaW5nP30gY29tbWFuZCBwYXRoIGRhdGEgaW5zdHJ1Y3Rpb25cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWFudXBPdXREYXRhID0gZnVuY3Rpb24gKGRhdGEsIHBhcmFtcywgY29tbWFuZCkge1xuICB2YXIgc3RyID0gXCJcIixcbiAgICBkZWxpbWl0ZXIsXG4gICAgcHJldjtcblxuICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAvLyBzcGFjZSBkZWxpbWl0ZXIgYnkgZGVmYXVsdFxuICAgIGRlbGltaXRlciA9IFwiIFwiO1xuXG4gICAgLy8gbm8gZXh0cmEgc3BhY2UgaW4gZnJvbnQgb2YgZmlyc3QgbnVtYmVyXG4gICAgaWYgKGkgPT0gMCkgZGVsaW1pdGVyID0gXCJcIjtcblxuICAgIC8vIG5vIGV4dHJhIHNwYWNlIGFmdGVyICdhcmN0bycgY29tbWFuZCBmbGFnc1xuICAgIGlmIChwYXJhbXMubm9TcGFjZUFmdGVyRmxhZ3MgJiYgKGNvbW1hbmQgPT0gXCJBXCIgfHwgY29tbWFuZCA9PSBcImFcIikpIHtcbiAgICAgIHZhciBwb3MgPSBpICUgNztcbiAgICAgIGlmIChwb3MgPT0gNCB8fCBwb3MgPT0gNSkgZGVsaW1pdGVyID0gXCJcIjtcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgZmxvYXRpbmctcG9pbnQgbnVtYmVycyBsZWFkaW5nIHplcm9zXG4gICAgLy8gMC41IFx1MjE5MiAuNVxuICAgIC8vIC0wLjUgXHUyMTkyIC0uNVxuICAgIGlmIChwYXJhbXMubGVhZGluZ1plcm8pIHtcbiAgICAgIGl0ZW0gPSByZW1vdmVMZWFkaW5nWmVybyhpdGVtKTtcbiAgICB9XG5cbiAgICAvLyBubyBleHRyYSBzcGFjZSBpbiBmcm9udCBvZiBuZWdhdGl2ZSBudW1iZXIgb3JcbiAgICAvLyBpbiBmcm9udCBvZiBhIGZsb2F0aW5nIG51bWJlciBpZiBhIHByZXZpb3VzIG51bWJlciBpcyBmbG9hdGluZyB0b29cbiAgICBpZiAoXG4gICAgICBwYXJhbXMubmVnYXRpdmVFeHRyYVNwYWNlICYmXG4gICAgICBkZWxpbWl0ZXIgIT0gXCJcIiAmJlxuICAgICAgKGl0ZW0gPCAwIHx8IChTdHJpbmcoaXRlbSkuY2hhckNvZGVBdCgwKSA9PSA0NiAmJiBwcmV2ICUgMSAhPT0gMCkpXG4gICAgKSB7XG4gICAgICBkZWxpbWl0ZXIgPSBcIlwiO1xuICAgIH1cbiAgICAvLyBzYXZlIHByZXYgaXRlbSB2YWx1ZVxuICAgIHByZXYgPSBpdGVtO1xuICAgIHN0ciArPSBkZWxpbWl0ZXIgKyBpdGVtO1xuICB9KTtcbiAgcmV0dXJuIHN0cjtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGZsb2F0aW5nLXBvaW50IG51bWJlcnMgbGVhZGluZyB6ZXJvLlxuICpcbiAqIEBleGFtcGxlXG4gKiAwLjUgXHUyMTkyIC41XG4gKlxuICogQGV4YW1wbGVcbiAqIC0wLjUgXHUyMTkyIC0uNVxuICpcbiAqIEBwYXJhbSB7RmxvYXR9IG51bSBpbnB1dCBudW1iZXJcbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IG91dHB1dCBudW1iZXIgYXMgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVMZWFkaW5nWmVybyA9IGZ1bmN0aW9uIChudW0pIHtcbiAgdmFyIHN0ck51bSA9IG51bS50b1N0cmluZygpO1xuXG4gIGlmICgwIDwgbnVtICYmIG51bSA8IDEgJiYgc3RyTnVtLmNoYXJDb2RlQXQoMCkgPT0gNDgpIHtcbiAgICBzdHJOdW0gPSBzdHJOdW0uc2xpY2UoMSk7XG4gIH0gZWxzZSBpZiAoLTEgPCBudW0gJiYgbnVtIDwgMCAmJiBzdHJOdW0uY2hhckNvZGVBdCgxKSA9PSA0OCkge1xuICAgIHN0ck51bSA9IHN0ck51bS5jaGFyQXQoMCkgKyBzdHJOdW0uc2xpY2UoMik7XG4gIH1cbiAgcmV0dXJuIHN0ck51bTtcbn07XG5cbi8qKlxuICogU3luY2hyb25vdXNseSBjaGVjayBpZiBwYXRoIGlzIGEgZGlyZWN0b3J5LiBUb2xlcmFudCB0byBlcnJvcnMgbGlrZSBFTk9FTlQuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICovXG5leHBvcnQgY29uc3QgY2hlY2tJc0RpciA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEZTLmxzdGF0U3luYyhwYXRoKS5pc0RpcmVjdG9yeSgpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuIiwgIi8vIEB0cy1ub2NoZWNrXG4vLyBUT0RPOiBBZGQgdHlwZXNcblxuaW1wb3J0IHsgY2xlYW51cE91dERhdGEgfSBmcm9tIFwiLi90b29sc1wiO1xuXG5jb25zdCByTnVtYmVyID0gU3RyaW5nLnJhd2BbLStdPyg/OlxcZCpcXC5cXGQrfFxcZCtcXC4/KSg/OltlRV1bLStdP1xcZCspP1xccypgO1xuY29uc3QgckNvbW1hV3NwID0gU3RyaW5nLnJhd2AoPzpcXHMsP1xccyp8LFxccyopYDtcbmNvbnN0IHJOdW1iZXJDb21tYVdzcCA9IGAoJHtyTnVtYmVyfSlgICsgckNvbW1hV3NwO1xuY29uc3QgckZsYWdDb21tYVdzcCA9IGAoWzAxXSkke3JDb21tYVdzcH0/YDtcbmNvbnN0IHJDb29yZGluYXRlUGFpciA9IFN0cmluZy5yYXdgKCR7ck51bWJlcn0pJHtyQ29tbWFXc3B9Pygke3JOdW1iZXJ9KWA7XG5jb25zdCByQXJjU2VxID1cbiAgKHJOdW1iZXJDb21tYVdzcCArIFwiP1wiKS5yZXBlYXQoMikgK1xuICByTnVtYmVyQ29tbWFXc3AgK1xuICByRmxhZ0NvbW1hV3NwLnJlcGVhdCgyKSArXG4gIHJDb29yZGluYXRlUGFpcjtcblxuY29uc3QgcmVnUGF0aEluc3RydWN0aW9ucyA9IC8oW01tTGxIaFZ2Q2NTc1FxVHRBYVp6XSlcXHMqLztcbmNvbnN0IHJlZ0Nvb3JkaW5hdGVTZXF1ZW5jZSA9IG5ldyBSZWdFeHAock51bWJlciwgXCJnXCIpO1xuY29uc3QgcmVnQXJjQXJndW1lbnRTZXF1ZW5jZSA9IG5ldyBSZWdFeHAockFyY1NlcSwgXCJnXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gcGF0aDJqcyhwYXRoOiBTVkdQYXRoRWxlbWVudCkge1xuICBjb25zdCBwYXJhbXNMZW5ndGggPSB7XG4gICAgLy8gTnVtYmVyIG9mIHBhcmFtZXRlcnMgb2YgZXZlcnkgcGF0aCBjb21tYW5kXG4gICAgSDogMSxcbiAgICBWOiAxLFxuICAgIE06IDIsXG4gICAgTDogMixcbiAgICBUOiAyLFxuICAgIFE6IDQsXG4gICAgUzogNCxcbiAgICBDOiA2LFxuICAgIEE6IDcsXG4gICAgaDogMSxcbiAgICB2OiAxLFxuICAgIG06IDIsXG4gICAgbDogMixcbiAgICB0OiAyLFxuICAgIHE6IDQsXG4gICAgczogNCxcbiAgICBjOiA2LFxuICAgIGE6IDcsXG4gIH07XG4gIGxldCBwYXRoRGF0YSA9IFtdOyAvLyBKUyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGF0aCBkYXRhXG4gIGxldCBpbnN0cnVjdGlvbjsgLy8gY3VycmVudCBpbnN0cnVjdGlvbiBjb250ZXh0XG4gIGxldCBzdGFydE1vdmV0byA9IGZhbHNlO1xuXG4gIC8vIHNwbGl0dGluZyBwYXRoIHN0cmluZyBpbnRvIGFycmF5IGxpa2UgWydNJywgJzEwIDUwJywgJ0wnLCAnMjAgMzAnXVxuICBwYXRoXG4gICAgLmdldEF0dHJpYnV0ZShcImRcIilcbiAgICA/LnNwbGl0KHJlZ1BhdGhJbnN0cnVjdGlvbnMpXG4gICAgLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKCFzdGFydE1vdmV0bykge1xuICAgICAgICBpZiAoZGF0YSA9PSBcIk1cIiB8fCBkYXRhID09IFwibVwiKSB7XG4gICAgICAgICAgc3RhcnRNb3ZldG8gPSB0cnVlO1xuICAgICAgICB9IGVsc2UgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBpbnN0cnVjdGlvbiBpdGVtXG4gICAgICBpZiAocmVnUGF0aEluc3RydWN0aW9ucy50ZXN0KGRhdGEpKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gZGF0YTtcblxuICAgICAgICAvLyB6IC0gaW5zdHJ1Y3Rpb24gdy9vIGRhdGFcbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09IFwiWlwiIHx8IGluc3RydWN0aW9uID09IFwielwiKSB7XG4gICAgICAgICAgcGF0aERhdGEucHVzaCh7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbjogXCJ6XCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGF0YSBpdGVtXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBqc2hpbnQgYm9zczogdHJ1ZSAqL1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJBXCIgfHwgaW5zdHJ1Y3Rpb24gPT0gXCJhXCIpIHtcbiAgICAgICAgICB2YXIgbmV3RGF0YSA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGFyZ3M7IChhcmdzID0gcmVnQXJjQXJndW1lbnRTZXF1ZW5jZS5leGVjKGRhdGEpKTsgKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgbmV3RGF0YS5wdXNoKGFyZ3NbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBkYXRhID0gbmV3RGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRhID0gZGF0YS5tYXRjaChyZWdDb29yZGluYXRlU2VxdWVuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuXG4gICAgICAgIGRhdGEgPSBkYXRhLm1hcChOdW1iZXIpO1xuICAgICAgICAvLyBTdWJzZXF1ZW50IG1vdmV0byBwYWlycyBvZiBjb29yZGluYXRlcyBhcmUgdGhyZWF0ZWQgYXMgaW1wbGljaXQgbGluZXRvIGNvbW1hbmRzXG4gICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9wYXRocy5odG1sI1BhdGhEYXRhTW92ZXRvQ29tbWFuZHNcbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09IFwiTVwiIHx8IGluc3RydWN0aW9uID09IFwibVwiKSB7XG4gICAgICAgICAgcGF0aERhdGEucHVzaCh7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbjogcGF0aERhdGEubGVuZ3RoID09IDAgPyBcIk1cIiA6IGluc3RydWN0aW9uLFxuICAgICAgICAgICAgZGF0YTogZGF0YS5zcGxpY2UoMCwgMiksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbiA9PSBcIk1cIiA/IFwiTFwiIDogXCJsXCI7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBwYWlyID0gcGFyYW1zTGVuZ3RoW2luc3RydWN0aW9uXTsgZGF0YS5sZW5ndGg7ICkge1xuICAgICAgICAgIHBhdGhEYXRhLnB1c2goe1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IGluc3RydWN0aW9uLFxuICAgICAgICAgICAgZGF0YTogZGF0YS5zcGxpY2UoMCwgcGFpciksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBGaXJzdCBtb3ZldG8gaXMgYWN0dWFsbHkgYWJzb2x1dGUuIFN1YnNlcXVlbnQgY29vcmRpbmF0ZXMgd2VyZSBzZXBhcmF0ZWQgYWJvdmUuXG4gIGlmIChwYXRoRGF0YS5sZW5ndGggJiYgcGF0aERhdGFbMF0uaW5zdHJ1Y3Rpb24gPT0gXCJtXCIpIHtcbiAgICBwYXRoRGF0YVswXS5pbnN0cnVjdGlvbiA9IFwiTVwiO1xuICB9XG5cbiAgcmV0dXJuIHBhdGhEYXRhO1xufVxuXG4vKipcbiAqIENvbnZlcnQgcGF0aCBhcnJheSB0byBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBpbnB1dCBwYXRoIGRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgcGx1Z2luIHBhcmFtc1xuICogQHJldHVybiB7U3RyaW5nfSBvdXRwdXQgcGF0aCBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGpzMnBhdGggPSBmdW5jdGlvbiAocGF0aDogU1ZHUGF0aEVsZW1lbnQsIGRhdGEsIHBhcmFtcykge1xuICBpZiAocGFyYW1zLmNvbGxhcHNlUmVwZWF0ZWQpIHtcbiAgICBkYXRhID0gY29sbGFwc2VSZXBlYXRlZChkYXRhKTtcbiAgfVxuXG4gIHBhdGguc2V0QXR0cmlidXRlKFxuICAgIFwiZFwiLFxuICAgIGRhdGEucmVkdWNlKGZ1bmN0aW9uIChwYXRoU3RyaW5nLCBpdGVtKSB7XG4gICAgICB2YXIgc3RyRGF0YSA9IFwiXCI7XG4gICAgICBpZiAoaXRlbS5kYXRhKSB7XG4gICAgICAgIHN0ckRhdGEgPSBjbGVhbnVwT3V0RGF0YShpdGVtLmRhdGEsIHBhcmFtcywgaXRlbS5pbnN0cnVjdGlvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHBhdGhTdHJpbmcgKz0gaXRlbS5pbnN0cnVjdGlvbiArIHN0ckRhdGEpO1xuICAgIH0sIFwiXCIpXG4gICk7XG59O1xuXG4vKipcbiAqIENvbGxhcHNlIHJlcGVhdGVkIGluc3RydWN0aW9ucyBkYXRhXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBpbnB1dCBwYXRoIGRhdGFcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRwdXQgcGF0aCBkYXRhXG4gKi9cbmZ1bmN0aW9uIGNvbGxhcHNlUmVwZWF0ZWQoZGF0YSkge1xuICB2YXIgcHJldiwgcHJldkluZGV4O1xuXG4gIC8vIGNvcHkgYW4gYXJyYXkgYW5kIG1vZGlmaWVkcyBpdGVtIHRvIGtlZXAgb3JpZ2luYWwgZGF0YSB1bnRvdWNoZWRcbiAgZGF0YSA9IGRhdGEucmVkdWNlKGZ1bmN0aW9uIChuZXdQYXRoLCBpdGVtKSB7XG4gICAgaWYgKHByZXYgJiYgaXRlbS5kYXRhICYmIGl0ZW0uaW5zdHJ1Y3Rpb24gPT0gcHJldi5pbnN0cnVjdGlvbikge1xuICAgICAgLy8gY29uY2F0IHByZXZpb3VzIGRhdGEgd2l0aCBjdXJyZW50XG4gICAgICBpZiAoaXRlbS5pbnN0cnVjdGlvbiAhPSBcIk1cIikge1xuICAgICAgICBwcmV2ID0gbmV3UGF0aFtwcmV2SW5kZXhdID0ge1xuICAgICAgICAgIGluc3RydWN0aW9uOiBwcmV2Lmluc3RydWN0aW9uLFxuICAgICAgICAgIGRhdGE6IHByZXYuZGF0YS5jb25jYXQoaXRlbS5kYXRhKSxcbiAgICAgICAgICBjb29yZHM6IGl0ZW0uY29vcmRzLFxuICAgICAgICAgIGJhc2U6IHByZXYuYmFzZSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByZXYuZGF0YSA9IGl0ZW0uZGF0YTtcbiAgICAgICAgcHJldi5jb29yZHMgPSBpdGVtLmNvb3JkcztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3UGF0aC5wdXNoKGl0ZW0pO1xuICAgICAgcHJldiA9IGl0ZW07XG4gICAgICBwcmV2SW5kZXggPSBuZXdQYXRoLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld1BhdGg7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gZGF0YTtcbn1cbiIsICIvKipcbiAqIENvbnZlcnRzIGJhc2ljIHNoYXBlIHRvIG1vcmUgY29tcGFjdCBwYXRoLlxuICogSXQgYWxzbyBhbGxvd3MgZnVydGhlciBvcHRpbWl6YXRpb25zIGxpa2VcbiAqIGNvbWJpbmluZyBwYXRocyB3aXRoIHNpbWlsYXIgYXR0cmlidXRlcy5cbiAqXG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zaGFwZXMuaHRtbFxuICpcbiAqIEBwYXJhbSB7U1ZHR2VvbWV0cnlFbGVtZW50fSBpdGVtIGN1cnJlbnQgaXRlcmF0aW9uIGl0ZW1cbiAqXG4gKiBAYXV0aG9yIExldiBTb2xudHNldlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFNoYXBlc1RvUGF0aChlbDogU1ZHRWxlbWVudCk6IHZvaWQge1xuICBpZiAoXG4gICAgZWwgaW5zdGFuY2VvZiBTVkdSZWN0RWxlbWVudCAmJlxuICAgIGVsLmhhc0F0dHJpYnV0ZShcIndpZHRoXCIpICYmXG4gICAgZWwuaGFzQXR0cmlidXRlKFwiaGVpZ2h0XCIpICYmXG4gICAgZWwuaGFzQXR0cmlidXRlKFwicnhcIikgPT09IGZhbHNlICYmXG4gICAgZWwuaGFzQXR0cmlidXRlKFwicnlcIikgPT09IGZhbHNlXG4gICkge1xuICAgIGNvbnN0IHggPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcInhcIikgfHwgXCIwXCIpO1xuICAgIGNvbnN0IHkgPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcInlcIikgfHwgXCIwXCIpO1xuICAgIGNvbnN0IHdpZHRoID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSB8fCBcIjBcIik7XG4gICAgY29uc3QgaGVpZ2h0ID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIikgfHwgXCIwXCIpO1xuXG4gICAgLy8gVmFsdWVzIGxpa2UgJzEwMCUnIGNvbXB1dGUgdG8gTmFOLCB0aHVzIHJ1bm5pbmcgYWZ0ZXJcbiAgICAvLyBjbGVhbnVwTnVtZXJpY1ZhbHVlcyB3aGVuICdweCcgdW5pdHMgaGFzIGFscmVhZHkgYmVlbiByZW1vdmVkLlxuICAgIC8vIFRPRE86IENhbGN1bGF0ZSBzaXplcyBmcm9tICUgYW5kIG5vbi1weCB1bml0cyBpZiBwb3NzaWJsZS5cbiAgICBpZiAoaXNOYU4oeCAtIHkgKyB3aWR0aCAtIGhlaWdodCkpIHJldHVybjtcblxuICAgIGNvbnN0IHBhdGhFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwicGF0aFwiXG4gICAgKTtcblxuICAgIGNvbnN0IHBhdGhEYXRhID0gYE0ke3h9ICR7eX1IJHt4ICsgd2lkdGh9ViR7eSArIGhlaWdodH1IJHt4fXpgO1xuICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUoXCJkXCIsIHBhdGhEYXRhKTtcblxuICAgIGNvbnN0IEFUVFJJQlVURVNfVE9fRVhDTFVERSA9IFtcInhcIiwgXCJ5XCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIl07XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIEFycmF5LmZyb20oZWwuYXR0cmlidXRlcykpIHtcbiAgICAgIGlmIChBVFRSSUJVVEVTX1RPX0VYQ0xVREUuaW5jbHVkZXMocHJvcC5uYW1lKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcGF0aEVsLnNldEF0dHJpYnV0ZShwcm9wLm5hbWUsIHByb3AudmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGVsLnBhcmVudEVsZW1lbnQ/LnJlcGxhY2VDaGlsZChwYXRoRWwsIGVsKTtcbiAgfSBlbHNlIGlmIChlbCBpbnN0YW5jZW9mIFNWR0xpbmVFbGVtZW50KSB7XG4gICAgY29uc3QgeDEgPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcIngxXCIpIHx8IFwiMFwiKTtcbiAgICBjb25zdCB4MiA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwieDJcIikgfHwgXCIwXCIpO1xuICAgIGNvbnN0IHkxID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ5MVwiKSB8fCBcIjBcIik7XG4gICAgY29uc3QgeTIgPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcInkyXCIpIHx8IFwiMFwiKTtcblxuICAgIGlmIChpc05hTih4MSAtIHkxICsgeDIgLSB5MikpIHJldHVybjtcblxuICAgIGNvbnN0IHBhdGhFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwicGF0aFwiXG4gICAgKTtcbiAgICBjb25zdCBwYXRoRGF0YSA9IGBNJHt4MX0gJHt5MX1MJHt4Mn0gJHt5Mn1gO1xuICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUoXCJkXCIsIHBhdGhEYXRhKTtcblxuICAgIGNvbnN0IEFUVFJJQlVURVNfVE9fRVhDTFVERSA9IFtcIngxXCIsIFwieTFcIiwgXCJ4MlwiLCBcInkyXCJdO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBBcnJheS5mcm9tKGVsLmF0dHJpYnV0ZXMpKSB7XG4gICAgICBpZiAoQVRUUklCVVRFU19UT19FWENMVURFLmluY2x1ZGVzKHByb3AubmFtZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUocHJvcC5uYW1lLCBwcm9wLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlbC5wYXJlbnRFbGVtZW50Py5yZXBsYWNlQ2hpbGQocGF0aEVsLCBlbCk7XG4gIH0gZWxzZSBpZiAoXG4gICAgKGVsIGluc3RhbmNlb2YgU1ZHUG9seWxpbmVFbGVtZW50IHx8IGVsIGluc3RhbmNlb2YgU1ZHUG9seWdvbkVsZW1lbnQpICYmXG4gICAgZWwuaGFzQXR0cmlidXRlKFwicG9pbnRzXCIpXG4gICkge1xuICAgIGNvbnN0IFJFR1hfTlVNQkVSID0gL1stK10/KD86XFxkKlxcLlxcZCt8XFxkK1xcLj8pKD86W2VFXVstK10/XFxkKyk/L2c7XG4gICAgY29uc3QgcG9pbnRzID0gZWwuZ2V0QXR0cmlidXRlKFwicG9pbnRzXCIpID8/IFwiXCI7XG4gICAgY29uc3QgY29vcmRzID0gKHBvaW50cy5tYXRjaChSRUdYX05VTUJFUikgPz8gW10pLm1hcChOdW1iZXIpO1xuXG4gICAgaWYgKGNvb3Jkcy5sZW5ndGggPCA0KSByZXR1cm47XG5cbiAgICBjb25zdCBwYXRoRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInBhdGhcIlxuICAgICk7XG4gICAgY29uc3QgW3gsIHldID0gY29vcmRzLnNsaWNlKDAsIDIpO1xuICAgIGNvbnN0IHJlbWFpbmluZ1BvaW50cyA9IGNvb3Jkcy5zbGljZSgyKS5qb2luKFwiIFwiKTtcbiAgICBjb25zdCBzdWZmaXggPSBlbCBpbnN0YW5jZW9mIFNWR1BvbHlnb25FbGVtZW50ID8gXCJ6XCIgOiBcIlwiO1xuICAgIGNvbnN0IHBhdGhEYXRhID0gYE0ke3h9ICR7eX1MJHtyZW1haW5pbmdQb2ludHN9JHtzdWZmaXh9YDtcbiAgICBwYXRoRWwuc2V0QXR0cmlidXRlKFwiZFwiLCBwYXRoRGF0YSk7XG5cbiAgICBjb25zdCBBVFRSSUJVVEVTX1RPX0VYQ0xVREUgPSBbXCJwb2ludHNcIl07XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIEFycmF5LmZyb20oZWwuYXR0cmlidXRlcykpIHtcbiAgICAgIGlmIChBVFRSSUJVVEVTX1RPX0VYQ0xVREUuaW5jbHVkZXMocHJvcC5uYW1lKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcGF0aEVsLnNldEF0dHJpYnV0ZShwcm9wLm5hbWUsIHByb3AudmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGVsLnBhcmVudEVsZW1lbnQ/LnJlcGxhY2VDaGlsZChwYXRoRWwsIGVsKTtcbiAgfVxufVxuIiwgIi8vIEB0cy1ub2NoZWNrXG4vLyBUT0RPOiBBZGQgdHlwZXNcblxuaW1wb3J0IHsgcGF0aDJqcywganMycGF0aCB9IGZyb20gXCIuL2xpYi9wYXRoXCI7XG5pbXBvcnQgeyBjbGVhbnVwT3V0RGF0YSB9IGZyb20gXCIuL2xpYi90b29sc1wiO1xuaW1wb3J0IHsgY29udmVydFNoYXBlc1RvUGF0aCB9IGZyb20gXCIuL2xpYi9zaGFwZVRvUGF0aFwiO1xuXG5leHBvcnQgY29uc3QgcGFyYW1zID0ge1xuICBhcHBseVRyYW5zZm9ybXM6IHRydWUsXG4gIGFwcGx5VHJhbnNmb3Jtc1N0cm9rZWQ6IHRydWUsXG4gIG1ha2VBcmNzOiB7XG4gICAgdGhyZXNob2xkOiAyLjUsIC8vIGNvZWZmaWNpZW50IG9mIHJvdW5kaW5nIGVycm9yXG4gICAgdG9sZXJhbmNlOiAwLjUsIC8vIHBlcmNlbnRhZ2Ugb2YgcmFkaXVzXG4gIH0sXG4gIHN0cmFpZ2h0Q3VydmVzOiB0cnVlLFxuICBsaW5lU2hvcnRoYW5kczogdHJ1ZSxcbiAgY3VydmVTbW9vdGhTaG9ydGhhbmRzOiB0cnVlLFxuICBmbG9hdFByZWNpc2lvbjogMSxcbiAgdHJhbnNmb3JtUHJlY2lzaW9uOiA1LFxuICByZW1vdmVVc2VsZXNzOiB0cnVlLFxuICBjb2xsYXBzZVJlcGVhdGVkOiB0cnVlLFxuICB1dGlsaXplQWJzb2x1dGU6IHRydWUsXG4gIGxlYWRpbmdaZXJvOiB0cnVlLFxuICBuZWdhdGl2ZUV4dHJhU3BhY2U6IHRydWUsXG4gIG5vU3BhY2VBZnRlckZsYWdzOiB0cnVlLFxuICBmb3JjZUFic29sdXRlUGF0aDogZmFsc2UsXG59O1xuXG5sZXQgcm91bmREYXRhOiB7IChhcmcwOiBhbnlbXSk6IGFueVtdOyAoZGF0YTogYW55KTogYW55IH07XG5sZXQgcHJlY2lzaW9uOiBudW1iZXIgfCBib29sZWFuIHwgdW5kZWZpbmVkO1xubGV0IGVycm9yOiBudW1iZXI7XG5sZXQgYXJjVGhyZXNob2xkOiBudW1iZXI7XG5sZXQgYXJjVG9sZXJhbmNlOiBudW1iZXI7XG5sZXQgaGFzTWFya2VyTWlkOiBib29sZWFuO1xubGV0IGhhc1N0cm9rZUxpbmVjYXA6IHN0cmluZyB8IGJvb2xlYW4gfCBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gY3J1bmNoU3ZnKHN2ZzogU1ZHRWxlbWVudCkge1xuICBmb3IgKGNvbnN0IG5vZGUgb2YgQXJyYXkuZnJvbShzdmcucXVlcnlTZWxlY3RvckFsbChcIipcIikpIGFzIFNWR0VsZW1lbnRbXSkge1xuICAgIGNvbnZlcnRTaGFwZXNUb1BhdGgobm9kZSk7XG4gICAgb3B0aW1pc2VFbGVtZW50KG5vZGUpO1xuICB9XG59XG5cbi8qKlxuICogQ29udmVydCBhYnNvbHV0ZSBQYXRoIHRvIHJlbGF0aXZlLFxuICogY29sbGFwc2UgcmVwZWF0ZWQgaW5zdHJ1Y3Rpb25zLFxuICogZGV0ZWN0IGFuZCBjb252ZXJ0IExpbmV0byBzaG9ydGhhbmRzLFxuICogcmVtb3ZlIHVzZWxlc3MgaW5zdHJ1Y3Rpb25zIGxpa2UgXCJsMCwwXCIsXG4gKiB0cmltIHVzZWxlc3MgZGVsaW1pdGVycyBhbmQgbGVhZGluZyB6ZXJvcyxcbiAqIGRlY3JlYXNlIGFjY3VyYWN5IG9mIGZsb2F0aW5nLXBvaW50IG51bWJlcnMuXG4gKlxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvcGF0aHMuaHRtbCNQYXRoRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIGN1cnJlbnQgaXRlcmF0aW9uIGl0ZW1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgcGx1Z2luIHBhcmFtc1xuICogQHJldHVybiB7Qm9vbGVhbn0gaWYgZmFsc2UsIGl0ZW0gd2lsbCBiZSBmaWx0ZXJlZCBvdXRcbiAqXG4gKiBAYXV0aG9yIEtpciBCZWxldmljaFxuICovXG5leHBvcnQgZnVuY3Rpb24gb3B0aW1pc2VFbGVtZW50KGl0ZW06IFNWR0VsZW1lbnQpIHtcbiAgcHJlY2lzaW9uID0gcGFyYW1zLmZsb2F0UHJlY2lzaW9uO1xuXG4gIGlmIChpdGVtIGluc3RhbmNlb2YgU1ZHUGF0aEVsZW1lbnQgJiYgaXRlbS5oYXNBdHRyaWJ1dGUoXCJkXCIpKSB7XG4gICAgZXJyb3IgPVxuICAgICAgcHJlY2lzaW9uICE9PSBmYWxzZSA/ICtNYXRoLnBvdygwLjEsIHByZWNpc2lvbikudG9GaXhlZChwcmVjaXNpb24pIDogMWUtMjtcbiAgICByb3VuZERhdGEgPSBwcmVjaXNpb24gPiAwICYmIHByZWNpc2lvbiA8IDIwID8gc3Ryb25nUm91bmQgOiByb3VuZDtcbiAgICBpZiAocGFyYW1zLm1ha2VBcmNzKSB7XG4gICAgICBhcmNUaHJlc2hvbGQgPSBwYXJhbXMubWFrZUFyY3MudGhyZXNob2xkO1xuICAgICAgYXJjVG9sZXJhbmNlID0gcGFyYW1zLm1ha2VBcmNzLnRvbGVyYW5jZTtcbiAgICB9XG4gICAgaGFzTWFya2VyTWlkID0gaXRlbS5oYXNBdHRyaWJ1dGUoXCJtYXJrZXItbWlkXCIpO1xuXG4gICAgY29uc3Qgc3Ryb2tlID0gaXRlbS5nZXRBdHRyaWJ1dGUoXCJzdHJva2VcIik7XG4gICAgY29uc3Qgc3Ryb2tlTGluZWNhcCA9IGl0ZW0uZ2V0QXR0cmlidXRlKFwic3Ryb2tlXCIpO1xuICAgIGhhc1N0cm9rZUxpbmVjYXAgPVxuICAgICAgc3Ryb2tlICYmIHN0cm9rZSAhPSBcIm5vbmVcIiAmJiBzdHJva2VMaW5lY2FwICYmIHN0cm9rZUxpbmVjYXAgIT0gXCJidXR0XCI7XG5cbiAgICB2YXIgZGF0YSA9IHBhdGgyanMoaXRlbSk7XG5cbiAgICAvLyBUT0RPOiBnZXQgcmlkIG9mIGZ1bmN0aW9ucyByZXR1cm5zXG4gICAgaWYgKGRhdGEubGVuZ3RoKSB7XG4gICAgICBjb252ZXJ0VG9SZWxhdGl2ZShkYXRhKTtcblxuICAgICAgZGF0YSA9IGZpbHRlcnMoZGF0YSwgcGFyYW1zKTtcblxuICAgICAgaWYgKHBhcmFtcy51dGlsaXplQWJzb2x1dGUpIHtcbiAgICAgICAgZGF0YSA9IGNvbnZlcnRUb01peGVkKGRhdGEsIHBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIGpzMnBhdGgoaXRlbSwgZGF0YSwgcGFyYW1zKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFic29sdXRlIHBhdGggZGF0YSBjb29yZGluYXRlcyB0byByZWxhdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoIGlucHV0IHBhdGggZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBwbHVnaW4gcGFyYW1zXG4gKiBAcmV0dXJuIHtBcnJheX0gb3V0cHV0IHBhdGggZGF0YVxuICovXG5mdW5jdGlvbiBjb252ZXJ0VG9SZWxhdGl2ZShwYXRoKSB7XG4gIHZhciBwb2ludCA9IFswLCAwXSxcbiAgICBzdWJwYXRoUG9pbnQgPSBbMCwgMF0sXG4gICAgYmFzZUl0ZW07XG5cbiAgcGF0aC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgIHZhciBpbnN0cnVjdGlvbiA9IGl0ZW0uaW5zdHJ1Y3Rpb24sXG4gICAgICBkYXRhID0gaXRlbS5kYXRhO1xuXG4gICAgLy8gZGF0YSAhPT0gIXpcbiAgICBpZiAoZGF0YSkge1xuICAgICAgLy8gYWxyZWFkeSByZWxhdGl2ZVxuICAgICAgLy8gcmVjYWxjdWxhdGUgY3VycmVudCBwb2ludFxuICAgICAgaWYgKFwibWNzbHF0YVwiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEpIHtcbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVtkYXRhLmxlbmd0aCAtIDJdO1xuICAgICAgICBwb2ludFsxXSArPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09PSBcIm1cIikge1xuICAgICAgICAgIHN1YnBhdGhQb2ludFswXSA9IHBvaW50WzBdO1xuICAgICAgICAgIHN1YnBhdGhQb2ludFsxXSA9IHBvaW50WzFdO1xuICAgICAgICAgIGJhc2VJdGVtID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJoXCIpIHtcbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVswXTtcbiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwidlwiKSB7XG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbMF07XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnZlcnQgYWJzb2x1dGUgcGF0aCBkYXRhIGNvb3JkaW5hdGVzIHRvIHJlbGF0aXZlXG4gICAgICAvLyBpZiBcIk1cIiB3YXMgbm90IHRyYW5zZm9ybWVkIGZyb20gXCJtXCJcbiAgICAgIC8vIE0gXHUyMTkyIG1cbiAgICAgIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJNXCIpIHtcbiAgICAgICAgaWYgKGluZGV4ID4gMCkgaW5zdHJ1Y3Rpb24gPSBcIm1cIjtcblxuICAgICAgICBkYXRhWzBdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzFdIC09IHBvaW50WzFdO1xuXG4gICAgICAgIHN1YnBhdGhQb2ludFswXSA9IHBvaW50WzBdICs9IGRhdGFbMF07XG4gICAgICAgIHN1YnBhdGhQb2ludFsxXSA9IHBvaW50WzFdICs9IGRhdGFbMV07XG5cbiAgICAgICAgYmFzZUl0ZW0gPSBpdGVtO1xuICAgICAgfVxuXG4gICAgICAvLyBMIFx1MjE5MiBsXG4gICAgICAvLyBUIFx1MjE5MiB0XG4gICAgICBlbHNlIGlmIChcIkxUXCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSkge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgLy8geCB5XG4gICAgICAgIC8vIDAgMVxuICAgICAgICBkYXRhWzBdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzFdIC09IHBvaW50WzFdO1xuXG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbMF07XG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbMV07XG5cbiAgICAgICAgLy8gQyBcdTIxOTIgY1xuICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJDXCIpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImNcIjtcblxuICAgICAgICAvLyB4MSB5MSB4MiB5MiB4IHlcbiAgICAgICAgLy8gMCAgMSAgMiAgMyAgNCA1XG4gICAgICAgIGRhdGFbMF0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbMV0gLT0gcG9pbnRbMV07XG4gICAgICAgIGRhdGFbMl0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbM10gLT0gcG9pbnRbMV07XG4gICAgICAgIGRhdGFbNF0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbNV0gLT0gcG9pbnRbMV07XG5cbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVs0XTtcbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVs1XTtcblxuICAgICAgICAvLyBTIFx1MjE5MiBzXG4gICAgICAgIC8vIFEgXHUyMTkyIHFcbiAgICAgIH0gZWxzZSBpZiAoXCJTUVwiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbi50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIC8vIHgxIHkxIHggeVxuICAgICAgICAvLyAwICAxICAyIDNcbiAgICAgICAgZGF0YVswXSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVsxXSAtPSBwb2ludFsxXTtcbiAgICAgICAgZGF0YVsyXSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVszXSAtPSBwb2ludFsxXTtcblxuICAgICAgICBwb2ludFswXSArPSBkYXRhWzJdO1xuICAgICAgICBwb2ludFsxXSArPSBkYXRhWzNdO1xuXG4gICAgICAgIC8vIEEgXHUyMTkyIGFcbiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiQVwiKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gXCJhXCI7XG5cbiAgICAgICAgLy8gcnggcnkgeC1heGlzLXJvdGF0aW9uIGxhcmdlLWFyYy1mbGFnIHN3ZWVwLWZsYWcgeCB5XG4gICAgICAgIC8vIDAgIDEgIDIgICAgICAgICAgICAgICAzICAgICAgICAgICAgICA0ICAgICAgICAgIDUgNlxuICAgICAgICBkYXRhWzVdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzZdIC09IHBvaW50WzFdO1xuXG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbNV07XG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbNl07XG5cbiAgICAgICAgLy8gSCBcdTIxOTIgaFxuICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJIXCIpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImhcIjtcblxuICAgICAgICBkYXRhWzBdIC09IHBvaW50WzBdO1xuXG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbMF07XG5cbiAgICAgICAgLy8gViBcdTIxOTIgdlxuICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJWXCIpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInZcIjtcblxuICAgICAgICBkYXRhWzBdIC09IHBvaW50WzFdO1xuXG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbMF07XG4gICAgICB9XG5cbiAgICAgIGl0ZW0uaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcbiAgICAgIGl0ZW0uZGF0YSA9IGRhdGE7XG5cbiAgICAgIC8vIHN0b3JlIGFic29sdXRlIGNvb3JkaW5hdGVzIGZvciBsYXRlciB1c2VcbiAgICAgIGl0ZW0uY29vcmRzID0gcG9pbnQuc2xpY2UoLTIpO1xuICAgIH1cblxuICAgIC8vICFkYXRhID09PSB6LCByZXNldCBjdXJyZW50IHBvaW50XG4gICAgZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJ6XCIpIHtcbiAgICAgIGlmIChiYXNlSXRlbSkge1xuICAgICAgICBpdGVtLmNvb3JkcyA9IGJhc2VJdGVtLmNvb3JkcztcbiAgICAgIH1cbiAgICAgIHBvaW50WzBdID0gc3VicGF0aFBvaW50WzBdO1xuICAgICAgcG9pbnRbMV0gPSBzdWJwYXRoUG9pbnRbMV07XG4gICAgfVxuXG4gICAgaXRlbS5iYXNlID0gaW5kZXggPiAwID8gcGF0aFtpbmRleCAtIDFdLmNvb3JkcyA6IFswLCAwXTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBhdGg7XG59XG5cbi8qKlxuICogTWFpbiBmaWx0ZXJzIGxvb3AuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBpbnB1dCBwYXRoIGRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgcGx1Z2luIHBhcmFtc1xuICogQHJldHVybiB7QXJyYXl9IG91dHB1dCBwYXRoIGRhdGFcbiAqL1xuZnVuY3Rpb24gZmlsdGVycyhwYXRoLCBwYXJhbXMpIHtcbiAgdmFyIHN0cmluZ2lmeSA9IGRhdGEyUGF0aC5iaW5kKG51bGwsIHBhcmFtcyksXG4gICAgcmVsU3VicG9pbnQgPSBbMCwgMF0sXG4gICAgcGF0aEJhc2UgPSBbMCwgMF0sXG4gICAgcHJldiA9IHt9O1xuXG4gIHBhdGggPSBwYXRoLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgsIHBhdGgpIHtcbiAgICB2YXIgaW5zdHJ1Y3Rpb24gPSBpdGVtLmluc3RydWN0aW9uLFxuICAgICAgZGF0YSA9IGl0ZW0uZGF0YSxcbiAgICAgIG5leHQgPSBwYXRoW2luZGV4ICsgMV07XG5cbiAgICBpZiAoZGF0YSkge1xuICAgICAgdmFyIHNkYXRhID0gZGF0YSxcbiAgICAgICAgY2lyY2xlO1xuXG4gICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwic1wiKSB7XG4gICAgICAgIHNkYXRhID0gWzAsIDBdLmNvbmNhdChkYXRhKTtcblxuICAgICAgICBpZiAoXCJjc1wiLmluZGV4T2YocHJldi5pbnN0cnVjdGlvbikgPiAtMSkge1xuICAgICAgICAgIHZhciBwZGF0YSA9IHByZXYuZGF0YSxcbiAgICAgICAgICAgIG4gPSBwZGF0YS5sZW5ndGg7XG5cbiAgICAgICAgICAvLyAoLXgsIC15KSBvZiB0aGUgcHJldiB0YW5nZW50IHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IHBvaW50XG4gICAgICAgICAgc2RhdGFbMF0gPSBwZGF0YVtuIC0gMl0gLSBwZGF0YVtuIC0gNF07XG4gICAgICAgICAgc2RhdGFbMV0gPSBwZGF0YVtuIC0gMV0gLSBwZGF0YVtuIC0gM107XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gY29udmVydCBjdXJ2ZXMgdG8gYXJjcyBpZiBwb3NzaWJsZVxuICAgICAgaWYgKFxuICAgICAgICBwYXJhbXMubWFrZUFyY3MgJiZcbiAgICAgICAgKGluc3RydWN0aW9uID09IFwiY1wiIHx8IGluc3RydWN0aW9uID09IFwic1wiKSAmJlxuICAgICAgICBpc0NvbnZleChzZGF0YSkgJiZcbiAgICAgICAgKGNpcmNsZSA9IGZpbmRDaXJjbGUoc2RhdGEpKVxuICAgICAgKSB7XG4gICAgICAgIHZhciByID0gcm91bmREYXRhKFtjaXJjbGUucmFkaXVzXSlbMF0sXG4gICAgICAgICAgYW5nbGUgPSBmaW5kQXJjQW5nbGUoc2RhdGEsIGNpcmNsZSksXG4gICAgICAgICAgc3dlZXAgPSBzZGF0YVs1XSAqIHNkYXRhWzBdIC0gc2RhdGFbNF0gKiBzZGF0YVsxXSA+IDAgPyAxIDogMCxcbiAgICAgICAgICBhcmMgPSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbjogXCJhXCIsXG4gICAgICAgICAgICBkYXRhOiBbciwgciwgMCwgMCwgc3dlZXAsIHNkYXRhWzRdLCBzZGF0YVs1XV0sXG4gICAgICAgICAgICBjb29yZHM6IGl0ZW0uY29vcmRzLnNsaWNlKCksXG4gICAgICAgICAgICBiYXNlOiBpdGVtLmJhc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvdXRwdXQgPSBbYXJjXSxcbiAgICAgICAgICAvLyByZWxhdGl2ZSBjb29yZGluYXRlcyB0byBhZGp1c3QgdGhlIGZvdW5kIGNpcmNsZVxuICAgICAgICAgIHJlbENlbnRlciA9IFtcbiAgICAgICAgICAgIGNpcmNsZS5jZW50ZXJbMF0gLSBzZGF0YVs0XSxcbiAgICAgICAgICAgIGNpcmNsZS5jZW50ZXJbMV0gLSBzZGF0YVs1XSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHJlbENpcmNsZSA9IHsgY2VudGVyOiByZWxDZW50ZXIsIHJhZGl1czogY2lyY2xlLnJhZGl1cyB9LFxuICAgICAgICAgIGFyY0N1cnZlcyA9IFtpdGVtXSxcbiAgICAgICAgICBoYXNQcmV2ID0gMCxcbiAgICAgICAgICBzdWZmaXggPSBcIlwiLFxuICAgICAgICAgIG5leHRMb25naGFuZDtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgKHByZXYuaW5zdHJ1Y3Rpb24gPT0gXCJjXCIgJiZcbiAgICAgICAgICAgIGlzQ29udmV4KHByZXYuZGF0YSkgJiZcbiAgICAgICAgICAgIGlzQXJjUHJldihwcmV2LmRhdGEsIGNpcmNsZSkpIHx8XG4gICAgICAgICAgKHByZXYuaW5zdHJ1Y3Rpb24gPT0gXCJhXCIgJiZcbiAgICAgICAgICAgIHByZXYuc2RhdGEgJiZcbiAgICAgICAgICAgIGlzQXJjUHJldihwcmV2LnNkYXRhLCBjaXJjbGUpKVxuICAgICAgICApIHtcbiAgICAgICAgICBhcmNDdXJ2ZXMudW5zaGlmdChwcmV2KTtcbiAgICAgICAgICBhcmMuYmFzZSA9IHByZXYuYmFzZTtcbiAgICAgICAgICBhcmMuZGF0YVs1XSA9IGFyYy5jb29yZHNbMF0gLSBhcmMuYmFzZVswXTtcbiAgICAgICAgICBhcmMuZGF0YVs2XSA9IGFyYy5jb29yZHNbMV0gLSBhcmMuYmFzZVsxXTtcbiAgICAgICAgICB2YXIgcHJldkRhdGEgPSBwcmV2Lmluc3RydWN0aW9uID09IFwiYVwiID8gcHJldi5zZGF0YSA6IHByZXYuZGF0YTtcbiAgICAgICAgICB2YXIgcHJldkFuZ2xlID0gZmluZEFyY0FuZ2xlKHByZXZEYXRhLCB7XG4gICAgICAgICAgICBjZW50ZXI6IFtcbiAgICAgICAgICAgICAgcHJldkRhdGFbNF0gKyBjaXJjbGUuY2VudGVyWzBdLFxuICAgICAgICAgICAgICBwcmV2RGF0YVs1XSArIGNpcmNsZS5jZW50ZXJbMV0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcmFkaXVzOiBjaXJjbGUucmFkaXVzLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFuZ2xlICs9IHByZXZBbmdsZTtcbiAgICAgICAgICBpZiAoYW5nbGUgPiBNYXRoLlBJKSBhcmMuZGF0YVszXSA9IDE7XG4gICAgICAgICAgaGFzUHJldiA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiBuZXh0IGN1cnZlcyBhcmUgZml0dGluZyB0aGUgYXJjXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGogPSBpbmRleDtcbiAgICAgICAgICAobmV4dCA9IHBhdGhbKytqXSkgJiYgflwiY3NcIi5pbmRleE9mKG5leHQuaW5zdHJ1Y3Rpb24pO1xuXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBuZXh0RGF0YSA9IG5leHQuZGF0YTtcbiAgICAgICAgICBpZiAobmV4dC5pbnN0cnVjdGlvbiA9PSBcInNcIikge1xuICAgICAgICAgICAgbmV4dExvbmdoYW5kID0gbWFrZUxvbmdoYW5kKFxuICAgICAgICAgICAgICB7IGluc3RydWN0aW9uOiBcInNcIiwgZGF0YTogbmV4dC5kYXRhLnNsaWNlKCkgfSxcbiAgICAgICAgICAgICAgcGF0aFtqIC0gMV0uZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG5leHREYXRhID0gbmV4dExvbmdoYW5kLmRhdGE7XG4gICAgICAgICAgICBuZXh0TG9uZ2hhbmQuZGF0YSA9IG5leHREYXRhLnNsaWNlKDAsIDIpO1xuICAgICAgICAgICAgc3VmZml4ID0gc3RyaW5naWZ5KFtuZXh0TG9uZ2hhbmRdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQ29udmV4KG5leHREYXRhKSAmJiBpc0FyYyhuZXh0RGF0YSwgcmVsQ2lyY2xlKSkge1xuICAgICAgICAgICAgYW5nbGUgKz0gZmluZEFyY0FuZ2xlKG5leHREYXRhLCByZWxDaXJjbGUpO1xuICAgICAgICAgICAgaWYgKGFuZ2xlIC0gMiAqIE1hdGguUEkgPiAxZS0zKSBicmVhazsgLy8gbW9yZSB0aGFuIDM2MFx1MDBCMFxuICAgICAgICAgICAgaWYgKGFuZ2xlID4gTWF0aC5QSSkgYXJjLmRhdGFbM10gPSAxO1xuICAgICAgICAgICAgYXJjQ3VydmVzLnB1c2gobmV4dCk7XG4gICAgICAgICAgICBpZiAoMiAqIE1hdGguUEkgLSBhbmdsZSA+IDFlLTMpIHtcbiAgICAgICAgICAgICAgLy8gbGVzcyB0aGFuIDM2MFx1MDBCMFxuICAgICAgICAgICAgICBhcmMuY29vcmRzID0gbmV4dC5jb29yZHM7XG4gICAgICAgICAgICAgIGFyYy5kYXRhWzVdID0gYXJjLmNvb3Jkc1swXSAtIGFyYy5iYXNlWzBdO1xuICAgICAgICAgICAgICBhcmMuZGF0YVs2XSA9IGFyYy5jb29yZHNbMV0gLSBhcmMuYmFzZVsxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGZ1bGwgY2lyY2xlLCBtYWtlIGEgaGFsZi1jaXJjbGUgYXJjIGFuZCBhZGQgYSBzZWNvbmQgb25lXG4gICAgICAgICAgICAgIGFyYy5kYXRhWzVdID0gMiAqIChyZWxDaXJjbGUuY2VudGVyWzBdIC0gbmV4dERhdGFbNF0pO1xuICAgICAgICAgICAgICBhcmMuZGF0YVs2XSA9IDIgKiAocmVsQ2lyY2xlLmNlbnRlclsxXSAtIG5leHREYXRhWzVdKTtcbiAgICAgICAgICAgICAgYXJjLmNvb3JkcyA9IFtcbiAgICAgICAgICAgICAgICBhcmMuYmFzZVswXSArIGFyYy5kYXRhWzVdLFxuICAgICAgICAgICAgICAgIGFyYy5iYXNlWzFdICsgYXJjLmRhdGFbNl0sXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIGFyYyA9IHtcbiAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbjogXCJhXCIsXG4gICAgICAgICAgICAgICAgZGF0YTogW1xuICAgICAgICAgICAgICAgICAgcixcbiAgICAgICAgICAgICAgICAgIHIsXG4gICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgIHN3ZWVwLFxuICAgICAgICAgICAgICAgICAgbmV4dC5jb29yZHNbMF0gLSBhcmMuY29vcmRzWzBdLFxuICAgICAgICAgICAgICAgICAgbmV4dC5jb29yZHNbMV0gLSBhcmMuY29vcmRzWzFdLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgY29vcmRzOiBuZXh0LmNvb3JkcyxcbiAgICAgICAgICAgICAgICBiYXNlOiBhcmMuY29vcmRzLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBvdXRwdXQucHVzaChhcmMpO1xuICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVsQ2VudGVyWzBdIC09IG5leHREYXRhWzRdO1xuICAgICAgICAgICAgcmVsQ2VudGVyWzFdIC09IG5leHREYXRhWzVdO1xuICAgICAgICAgIH0gZWxzZSBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoc3RyaW5naWZ5KG91dHB1dCkgKyBzdWZmaXgpLmxlbmd0aCA8IHN0cmluZ2lmeShhcmNDdXJ2ZXMpLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChwYXRoW2pdICYmIHBhdGhbal0uaW5zdHJ1Y3Rpb24gPT0gXCJzXCIpIHtcbiAgICAgICAgICAgIG1ha2VMb25naGFuZChwYXRoW2pdLCBwYXRoW2ogLSAxXS5kYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhhc1ByZXYpIHtcbiAgICAgICAgICAgIHZhciBwcmV2QXJjID0gb3V0cHV0LnNoaWZ0KCk7XG4gICAgICAgICAgICByb3VuZERhdGEocHJldkFyYy5kYXRhKTtcbiAgICAgICAgICAgIHJlbFN1YnBvaW50WzBdICs9IHByZXZBcmMuZGF0YVs1XSAtIHByZXYuZGF0YVtwcmV2LmRhdGEubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICByZWxTdWJwb2ludFsxXSArPSBwcmV2QXJjLmRhdGFbNl0gLSBwcmV2LmRhdGFbcHJldi5kYXRhLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiA9IFwiYVwiO1xuICAgICAgICAgICAgcHJldi5kYXRhID0gcHJldkFyYy5kYXRhO1xuICAgICAgICAgICAgaXRlbS5iYXNlID0gcHJldi5jb29yZHMgPSBwcmV2QXJjLmNvb3JkcztcbiAgICAgICAgICB9XG4gICAgICAgICAgYXJjID0gb3V0cHV0LnNoaWZ0KCk7XG4gICAgICAgICAgaWYgKGFyY0N1cnZlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgaXRlbS5zZGF0YSA9IHNkYXRhLnNsaWNlKCk7IC8vIHByZXNlcnZlIGN1cnZlIGRhdGEgZm9yIGZ1dHVyZSBjaGVja3NcbiAgICAgICAgICB9IGVsc2UgaWYgKGFyY0N1cnZlcy5sZW5ndGggLSAxIC0gaGFzUHJldiA+IDApIHtcbiAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgY29uc3VtZWQgbmV4dCBpdGVtc1xuICAgICAgICAgICAgcGF0aC5zcGxpY2UuYXBwbHkoXG4gICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgIFtpbmRleCArIDEsIGFyY0N1cnZlcy5sZW5ndGggLSAxIC0gaGFzUHJldl0uY29uY2F0KG91dHB1dClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghYXJjKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImFcIjtcbiAgICAgICAgICBkYXRhID0gYXJjLmRhdGE7XG4gICAgICAgICAgaXRlbS5jb29yZHMgPSBhcmMuY29vcmRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJvdW5kaW5nIHJlbGF0aXZlIGNvb3JkaW5hdGVzLCB0YWtpbmcgaW4gYWNjb3VudCBhY2N1bW11bGF0aW5nIGVycm9yXG4gICAgICAvLyB0byBnZXQgY2xvc2VyIHRvIGFic29sdXRlIGNvb3JkaW5hdGVzLiBTdW0gb2Ygcm91bmRlZCB2YWx1ZSByZW1haW5zIHNhbWU6XG4gICAgICAvLyBsIC4yNSAzIC4yNSAyIC4yNSAzIC4yNSAyIC0+IGwgLjMgMyAuMiAyIC4zIDMgLjIgMlxuICAgICAgaWYgKHByZWNpc2lvbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKFwibWx0cXNjXCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSBkYXRhLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICAgIGRhdGFbaV0gKz0gaXRlbS5iYXNlW2kgJSAyXSAtIHJlbFN1YnBvaW50W2kgJSAyXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJoXCIpIHtcbiAgICAgICAgICBkYXRhWzBdICs9IGl0ZW0uYmFzZVswXSAtIHJlbFN1YnBvaW50WzBdO1xuICAgICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwidlwiKSB7XG4gICAgICAgICAgZGF0YVswXSArPSBpdGVtLmJhc2VbMV0gLSByZWxTdWJwb2ludFsxXTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcImFcIikge1xuICAgICAgICAgIGRhdGFbNV0gKz0gaXRlbS5iYXNlWzBdIC0gcmVsU3VicG9pbnRbMF07XG4gICAgICAgICAgZGF0YVs2XSArPSBpdGVtLmJhc2VbMV0gLSByZWxTdWJwb2ludFsxXTtcbiAgICAgICAgfVxuICAgICAgICByb3VuZERhdGEoZGF0YSk7XG5cbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09IFwiaFwiKSByZWxTdWJwb2ludFswXSArPSBkYXRhWzBdO1xuICAgICAgICBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcInZcIikgcmVsU3VicG9pbnRbMV0gKz0gZGF0YVswXTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmVsU3VicG9pbnRbMF0gKz0gZGF0YVtkYXRhLmxlbmd0aCAtIDJdO1xuICAgICAgICAgIHJlbFN1YnBvaW50WzFdICs9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICByb3VuZERhdGEocmVsU3VicG9pbnQpO1xuXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbi50b0xvd2VyQ2FzZSgpID09IFwibVwiKSB7XG4gICAgICAgICAgcGF0aEJhc2VbMF0gPSByZWxTdWJwb2ludFswXTtcbiAgICAgICAgICBwYXRoQmFzZVsxXSA9IHJlbFN1YnBvaW50WzFdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnZlcnQgc3RyYWlnaHQgY3VydmVzIGludG8gbGluZXMgc2VnbWVudHNcbiAgICAgIGlmIChwYXJhbXMuc3RyYWlnaHRDdXJ2ZXMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChpbnN0cnVjdGlvbiA9PT0gXCJjXCIgJiYgaXNDdXJ2ZVN0cmFpZ2h0TGluZShkYXRhKSkgfHxcbiAgICAgICAgICAoaW5zdHJ1Y3Rpb24gPT09IFwic1wiICYmIGlzQ3VydmVTdHJhaWdodExpbmUoc2RhdGEpKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmluc3RydWN0aW9uID09IFwic1wiKSBtYWtlTG9uZ2hhbmQobmV4dCwgZGF0YSk7IC8vIGZpeCB1cCBuZXh0IGN1cnZlXG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImxcIjtcbiAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgtMik7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwicVwiICYmIGlzQ3VydmVTdHJhaWdodExpbmUoZGF0YSkpIHtcbiAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmluc3RydWN0aW9uID09IFwidFwiKSBtYWtlTG9uZ2hhbmQobmV4dCwgZGF0YSk7IC8vIGZpeCB1cCBuZXh0IGN1cnZlXG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImxcIjtcbiAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgtMik7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPT09IFwidFwiICYmXG4gICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiAhPT0gXCJxXCIgJiZcbiAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uICE9PSBcInRcIlxuICAgICAgICApIHtcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwibFwiO1xuICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKC0yKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJhXCIgJiYgKGRhdGFbMF0gPT09IDAgfHwgZGF0YVsxXSA9PT0gMCkpIHtcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwibFwiO1xuICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKC0yKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBsaW5lIHNob3J0aGFuZHNcbiAgICAgIC8vIGwgNTAgMCBcdTIxOTIgaCA1MFxuICAgICAgLy8gbCAwIDUwIFx1MjE5MiB2IDUwXG4gICAgICBpZiAocGFyYW1zLmxpbmVTaG9ydGhhbmRzICYmIGluc3RydWN0aW9uID09PSBcImxcIikge1xuICAgICAgICBpZiAoZGF0YVsxXSA9PT0gMCkge1xuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJoXCI7XG4gICAgICAgICAgZGF0YS5wb3AoKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhWzBdID09PSAwKSB7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInZcIjtcbiAgICAgICAgICBkYXRhLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gY29sbGFwc2UgcmVwZWF0ZWQgY29tbWFuZHNcbiAgICAgIC8vIGggMjAgaCAzMCAtPiBoIDUwXG4gICAgICBpZiAoXG4gICAgICAgIHBhcmFtcy5jb2xsYXBzZVJlcGVhdGVkICYmXG4gICAgICAgICFoYXNNYXJrZXJNaWQgJiZcbiAgICAgICAgXCJtaHZcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xICYmXG4gICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gJiZcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPT0gcHJldi5pbnN0cnVjdGlvbi50b0xvd2VyQ2FzZSgpICYmXG4gICAgICAgICgoaW5zdHJ1Y3Rpb24gIT0gXCJoXCIgJiYgaW5zdHJ1Y3Rpb24gIT0gXCJ2XCIpIHx8XG4gICAgICAgICAgcHJldi5kYXRhWzBdID49IDAgPT0gZGF0YVswXSA+PSAwKVxuICAgICAgKSB7XG4gICAgICAgIHByZXYuZGF0YVswXSArPSBkYXRhWzBdO1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gIT0gXCJoXCIgJiYgaW5zdHJ1Y3Rpb24gIT0gXCJ2XCIpIHtcbiAgICAgICAgICBwcmV2LmRhdGFbMV0gKz0gZGF0YVsxXTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2LmNvb3JkcyA9IGl0ZW0uY29vcmRzO1xuICAgICAgICBwYXRoW2luZGV4XSA9IHByZXY7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gY29udmVydCBjdXJ2ZXMgaW50byBzbW9vdGggc2hvcnRoYW5kc1xuICAgICAgaWYgKHBhcmFtcy5jdXJ2ZVNtb290aFNob3J0aGFuZHMgJiYgcHJldi5pbnN0cnVjdGlvbikge1xuICAgICAgICAvLyBjdXJ2ZXRvXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJjXCIpIHtcbiAgICAgICAgICAvLyBjICsgYyBcdTIxOTIgYyArIHNcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uID09PSBcImNcIiAmJlxuICAgICAgICAgICAgZGF0YVswXSA9PT0gLShwcmV2LmRhdGFbMl0gLSBwcmV2LmRhdGFbNF0pICYmXG4gICAgICAgICAgICBkYXRhWzFdID09PSAtKHByZXYuZGF0YVszXSAtIHByZXYuZGF0YVs1XSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gXCJzXCI7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzICsgYyBcdTIxOTIgcyArIHNcbiAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gPT09IFwic1wiICYmXG4gICAgICAgICAgICBkYXRhWzBdID09PSAtKHByZXYuZGF0YVswXSAtIHByZXYuZGF0YVsyXSkgJiZcbiAgICAgICAgICAgIGRhdGFbMV0gPT09IC0ocHJldi5kYXRhWzFdIC0gcHJldi5kYXRhWzNdKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInNcIjtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFteY3NdICsgYyBcdTIxOTIgW15jc10gKyBzXG4gICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICBcImNzXCIuaW5kZXhPZihwcmV2Lmluc3RydWN0aW9uKSA9PT0gLTEgJiZcbiAgICAgICAgICAgIGRhdGFbMF0gPT09IDAgJiZcbiAgICAgICAgICAgIGRhdGFbMV0gPT09IDBcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gXCJzXCI7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBxdWFkcmF0aWMgQlx1MDBFOXppZXIgY3VydmV0b1xuICAgICAgICBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJxXCIpIHtcbiAgICAgICAgICAvLyBxICsgcSBcdTIxOTIgcSArIHRcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uID09PSBcInFcIiAmJlxuICAgICAgICAgICAgZGF0YVswXSA9PT0gcHJldi5kYXRhWzJdIC0gcHJldi5kYXRhWzBdICYmXG4gICAgICAgICAgICBkYXRhWzFdID09PSBwcmV2LmRhdGFbM10gLSBwcmV2LmRhdGFbMV1cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gXCJ0XCI7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB0ICsgcSBcdTIxOTIgdCArIHRcbiAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gPT09IFwidFwiICYmXG4gICAgICAgICAgICBkYXRhWzJdID09PSBwcmV2LmRhdGFbMF0gJiZcbiAgICAgICAgICAgIGRhdGFbM10gPT09IHByZXYuZGF0YVsxXVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInRcIjtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyByZW1vdmUgdXNlbGVzcyBub24tZmlyc3QgcGF0aCBzZWdtZW50c1xuICAgICAgaWYgKHBhcmFtcy5yZW1vdmVVc2VsZXNzICYmICFoYXNTdHJva2VMaW5lY2FwKSB7XG4gICAgICAgIC8vIGwgMCwwIC8gaCAwIC8gdiAwIC8gcSAwLDAgMCwwIC8gdCAwLDAgLyBjIDAsMCAwLDAgMCwwIC8gcyAwLDAgMCwwXG4gICAgICAgIGlmIChcbiAgICAgICAgICBcImxodnF0Y3NcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xICYmXG4gICAgICAgICAgZGF0YS5ldmVyeShmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkgPT09IDA7XG4gICAgICAgICAgfSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcGF0aFtpbmRleF0gPSBwcmV2O1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGEgMjUsMjUgLTMwIDAsMSAwLDBcbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09PSBcImFcIiAmJiBkYXRhWzVdID09PSAwICYmIGRhdGFbNl0gPT09IDApIHtcbiAgICAgICAgICBwYXRoW2luZGV4XSA9IHByZXY7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGl0ZW0uaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcbiAgICAgIGl0ZW0uZGF0YSA9IGRhdGE7XG5cbiAgICAgIHByZXYgPSBpdGVtO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB6IHJlc2V0cyBjb29yZGluYXRlc1xuICAgICAgcmVsU3VicG9pbnRbMF0gPSBwYXRoQmFzZVswXTtcbiAgICAgIHJlbFN1YnBvaW50WzFdID0gcGF0aEJhc2VbMV07XG4gICAgICBpZiAocHJldi5pbnN0cnVjdGlvbiA9PSBcInpcIikgcmV0dXJuIGZhbHNlO1xuICAgICAgcHJldiA9IGl0ZW07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBwYXRoO1xufVxuXG4vKipcbiAqIFdyaXRlcyBkYXRhIGluIHNob3J0ZXN0IGZvcm0gdXNpbmcgYWJzb2x1dGUgb3IgcmVsYXRpdmUgY29vcmRpbmF0ZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBpbnB1dCBwYXRoIGRhdGFcbiAqIEByZXR1cm4ge0Jvb2xlYW59IG91dHB1dFxuICovXG5mdW5jdGlvbiBjb252ZXJ0VG9NaXhlZChwYXRoLCBwYXJhbXMpIHtcbiAgdmFyIHByZXYgPSBwYXRoWzBdO1xuXG4gIHBhdGggPSBwYXRoLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPT0gMCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKCFpdGVtLmRhdGEpIHtcbiAgICAgIHByZXYgPSBpdGVtO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGluc3RydWN0aW9uID0gaXRlbS5pbnN0cnVjdGlvbixcbiAgICAgIGRhdGEgPSBpdGVtLmRhdGEsXG4gICAgICBhZGF0YSA9IGRhdGEgJiYgZGF0YS5zbGljZSgwKTtcblxuICAgIGlmIChcIm1sdHFzY1wiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEpIHtcbiAgICAgIGZvciAodmFyIGkgPSBhZGF0YS5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIGFkYXRhW2ldICs9IGl0ZW0uYmFzZVtpICUgMl07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcImhcIikge1xuICAgICAgYWRhdGFbMF0gKz0gaXRlbS5iYXNlWzBdO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJ2XCIpIHtcbiAgICAgIGFkYXRhWzBdICs9IGl0ZW0uYmFzZVsxXTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwiYVwiKSB7XG4gICAgICBhZGF0YVs1XSArPSBpdGVtLmJhc2VbMF07XG4gICAgICBhZGF0YVs2XSArPSBpdGVtLmJhc2VbMV07XG4gICAgfVxuXG4gICAgcm91bmREYXRhKGFkYXRhKTtcblxuICAgIHZhciBhYnNvbHV0ZURhdGFTdHIgPSBjbGVhbnVwT3V0RGF0YShhZGF0YSwgcGFyYW1zKSxcbiAgICAgIHJlbGF0aXZlRGF0YVN0ciA9IGNsZWFudXBPdXREYXRhKGRhdGEsIHBhcmFtcyk7XG5cbiAgICAvLyBDb252ZXJ0IHRvIGFic29sdXRlIGNvb3JkaW5hdGVzIGlmIGl0J3Mgc2hvcnRlciBvciBmb3JjZUFic29sdXRlUGF0aCBpcyB0cnVlLlxuICAgIC8vIHYtMjAgLT4gVjBcbiAgICAvLyBEb24ndCBjb252ZXJ0IGlmIGl0IGZpdHMgZm9sbG93aW5nIHByZXZpb3VzIGluc3RydWN0aW9uLlxuICAgIC8vIGwyMCAzMC0xMC01MCBpbnN0ZWFkIG9mIGwyMCAzMEwyMCAzMFxuICAgIGlmIChcbiAgICAgIHBhcmFtcy5mb3JjZUFic29sdXRlUGF0aCB8fFxuICAgICAgKGFic29sdXRlRGF0YVN0ci5sZW5ndGggPCByZWxhdGl2ZURhdGFTdHIubGVuZ3RoICYmXG4gICAgICAgICEoXG4gICAgICAgICAgcGFyYW1zLm5lZ2F0aXZlRXh0cmFTcGFjZSAmJlxuICAgICAgICAgIGluc3RydWN0aW9uID09IHByZXYuaW5zdHJ1Y3Rpb24gJiZcbiAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uLmNoYXJDb2RlQXQoMCkgPiA5NiAmJlxuICAgICAgICAgIGFic29sdXRlRGF0YVN0ci5sZW5ndGggPT0gcmVsYXRpdmVEYXRhU3RyLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAoZGF0YVswXSA8IDAgfHxcbiAgICAgICAgICAgICgvXjBcXC4vLnRlc3QoZGF0YVswXSkgJiYgcHJldi5kYXRhW3ByZXYuZGF0YS5sZW5ndGggLSAxXSAlIDEpKVxuICAgICAgICApKVxuICAgICkge1xuICAgICAgaXRlbS5pbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uLnRvVXBwZXJDYXNlKCk7XG4gICAgICBpdGVtLmRhdGEgPSBhZGF0YTtcbiAgICB9XG5cbiAgICBwcmV2ID0gaXRlbTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gcGF0aDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgY3VydmUgaXMgY29udmV4LiBDb250cm9sIHBvaW50cyBvZiBzdWNoIGEgY3VydmUgbXVzdCBmb3JtXG4gKiBhIGNvbnZleCBxdWFkcmlsYXRlcmFsIHdpdGggZGlhZ29uYWxzIGNyb3NzcG9pbnQgaW5zaWRlIG9mIGl0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgaW5wdXQgcGF0aCBkYXRhXG4gKiBAcmV0dXJuIHtCb29sZWFufSBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gaXNDb252ZXgoZGF0YSkge1xuICB2YXIgY2VudGVyID0gZ2V0SW50ZXJzZWN0aW9uKFtcbiAgICAwLFxuICAgIDAsXG4gICAgZGF0YVsyXSxcbiAgICBkYXRhWzNdLFxuICAgIGRhdGFbMF0sXG4gICAgZGF0YVsxXSxcbiAgICBkYXRhWzRdLFxuICAgIGRhdGFbNV0sXG4gIF0pO1xuXG4gIHJldHVybiAoXG4gICAgY2VudGVyICYmXG4gICAgZGF0YVsyXSA8IGNlbnRlclswXSA9PSBjZW50ZXJbMF0gPCAwICYmXG4gICAgZGF0YVszXSA8IGNlbnRlclsxXSA9PSBjZW50ZXJbMV0gPCAwICYmXG4gICAgZGF0YVs0XSA8IGNlbnRlclswXSA9PSBjZW50ZXJbMF0gPCBkYXRhWzBdICYmXG4gICAgZGF0YVs1XSA8IGNlbnRlclsxXSA9PSBjZW50ZXJbMV0gPCBkYXRhWzFdXG4gICk7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgbGluZXMgZXF1YXRpb25zIGJ5IHR3byBwb2ludHMgYW5kIHJldHVybnMgdGhlaXIgaW50ZXJzZWN0aW9uIHBvaW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGNvb3JkcyA4IG51bWJlcnMgZm9yIDQgcGFpcnMgb2YgY29vcmRpbmF0ZXMgKHgseSlcbiAqIEByZXR1cm4ge0FycmF5fHVuZGVmaW5lZH0gb3V0cHV0IGNvb3JkaW5hdGUgb2YgbGluZXMnIGNyb3NzcG9pbnRcbiAqL1xuZnVuY3Rpb24gZ2V0SW50ZXJzZWN0aW9uKGNvb3Jkcykge1xuICAvLyBQcmV2IGxpbmUgZXF1YXRpb24gcGFyYW1ldGVycy5cbiAgdmFyIGExID0gY29vcmRzWzFdIC0gY29vcmRzWzNdLCAvLyB5MSAtIHkyXG4gICAgYjEgPSBjb29yZHNbMl0gLSBjb29yZHNbMF0sIC8vIHgyIC0geDFcbiAgICBjMSA9IGNvb3Jkc1swXSAqIGNvb3Jkc1szXSAtIGNvb3Jkc1syXSAqIGNvb3Jkc1sxXSwgLy8geDEgKiB5MiAtIHgyICogeTFcbiAgICAvLyBOZXh0IGxpbmUgZXF1YXRpb24gcGFyYW1ldGVyc1xuICAgIGEyID0gY29vcmRzWzVdIC0gY29vcmRzWzddLCAvLyB5MSAtIHkyXG4gICAgYjIgPSBjb29yZHNbNl0gLSBjb29yZHNbNF0sIC8vIHgyIC0geDFcbiAgICBjMiA9IGNvb3Jkc1s0XSAqIGNvb3Jkc1s3XSAtIGNvb3Jkc1s1XSAqIGNvb3Jkc1s2XSwgLy8geDEgKiB5MiAtIHgyICogeTFcbiAgICBkZW5vbSA9IGExICogYjIgLSBhMiAqIGIxO1xuXG4gIGlmICghZGVub20pIHJldHVybjsgLy8gcGFyYWxsZWwgbGluZXMgaGF2bid0IGFuIGludGVyc2VjdGlvblxuXG4gIHZhciBjcm9zcyA9IFsoYjEgKiBjMiAtIGIyICogYzEpIC8gZGVub20sIChhMSAqIGMyIC0gYTIgKiBjMSkgLyAtZGVub21dO1xuICBpZiAoXG4gICAgIWlzTmFOKGNyb3NzWzBdKSAmJlxuICAgICFpc05hTihjcm9zc1sxXSkgJiZcbiAgICBpc0Zpbml0ZShjcm9zc1swXSkgJiZcbiAgICBpc0Zpbml0ZShjcm9zc1sxXSlcbiAgKSB7XG4gICAgcmV0dXJuIGNyb3NzO1xuICB9XG59XG5cbi8qKlxuICogRGVjcmVhc2UgYWNjdXJhY3kgb2YgZmxvYXRpbmctcG9pbnQgbnVtYmVyc1xuICogaW4gcGF0aCBkYXRhIGtlZXBpbmcgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIGRlY2ltYWxzLlxuICogU21hcnQgcm91bmRzIHZhbHVlcyBsaWtlIDIuMzQ5MSB0byAyLjM1IGluc3RlYWQgb2YgMi4zNDkuXG4gKiBEb2Vzbid0IGFwcGx5IFwic21hcnRuZXNzXCIgaWYgdGhlIG51bWJlciBwcmVjaXNpb24gZml0cyBhbHJlYWR5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgaW5wdXQgZGF0YSBhcnJheVxuICogQHJldHVybiB7QXJyYXl9IG91dHB1dCBkYXRhIGFycmF5XG4gKi9cbmZ1bmN0aW9uIHN0cm9uZ1JvdW5kKGRhdGEpIHtcbiAgZm9yICh2YXIgaSA9IGRhdGEubGVuZ3RoOyBpLS0gPiAwOyApIHtcbiAgICBpZiAoZGF0YVtpXS50b0ZpeGVkKHByZWNpc2lvbikgIT0gZGF0YVtpXSkge1xuICAgICAgdmFyIHJvdW5kZWQgPSArZGF0YVtpXS50b0ZpeGVkKHByZWNpc2lvbiAtIDEpO1xuICAgICAgZGF0YVtpXSA9XG4gICAgICAgICtNYXRoLmFicyhyb3VuZGVkIC0gZGF0YVtpXSkudG9GaXhlZChwcmVjaXNpb24gKyAxKSA+PSBlcnJvclxuICAgICAgICAgID8gK2RhdGFbaV0udG9GaXhlZChwcmVjaXNpb24pXG4gICAgICAgICAgOiByb3VuZGVkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBTaW1wbGUgcm91bmRpbmcgZnVuY3Rpb24gaWYgcHJlY2lzaW9uIGlzIDAuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBpbnB1dCBkYXRhIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheX0gb3V0cHV0IGRhdGEgYXJyYXlcbiAqL1xuZnVuY3Rpb24gcm91bmQoZGF0YSkge1xuICBmb3IgKHZhciBpID0gZGF0YS5sZW5ndGg7IGktLSA+IDA7ICkge1xuICAgIGRhdGFbaV0gPSBNYXRoLnJvdW5kKGRhdGFbaV0pO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGN1cnZlIGlzIGEgc3RyYWlnaHQgbGluZSBieSBtZWFzdXJpbmcgZGlzdGFuY2VcbiAqIGZyb20gbWlkZGxlIHBvaW50cyB0byB0aGUgbGluZSBmb3JtZWQgYnkgZW5kIHBvaW50cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSB4cyBhcnJheSBvZiBjdXJ2ZSBwb2ludHMgeC1jb29yZGluYXRlc1xuICogQHBhcmFtIHtBcnJheX0geXMgYXJyYXkgb2YgY3VydmUgcG9pbnRzIHktY29vcmRpbmF0ZXNcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gaXNDdXJ2ZVN0cmFpZ2h0TGluZShkYXRhKSB7XG4gIC8vIEdldCBsaW5lIGVxdWF0aW9uIGFcdTAwQjd4ICsgYlx1MDBCN3kgKyBjID0gMCBjb2VmZmljaWVudHMgYSwgYiAoYyA9IDApIGJ5IHN0YXJ0IGFuZCBlbmQgcG9pbnRzLlxuICB2YXIgaSA9IGRhdGEubGVuZ3RoIC0gMixcbiAgICBhID0gLWRhdGFbaSArIDFdLCAvLyB5MSBcdTIyMTIgeTIgKHkxID0gMClcbiAgICBiID0gZGF0YVtpXSwgLy8geDIgXHUyMjEyIHgxICh4MSA9IDApXG4gICAgZCA9IDEgLyAoYSAqIGEgKyBiICogYik7IC8vIHNhbWUgcGFydCBmb3IgYWxsIHBvaW50c1xuXG4gIGlmIChpIDw9IDEgfHwgIWlzRmluaXRlKGQpKSByZXR1cm4gZmFsc2U7IC8vIGN1cnZlIHRoYXQgZW5kcyBhdCBzdGFydCBwb2ludCBpc24ndCB0aGUgY2FzZVxuXG4gIC8vIERpc3RhbmNlIGZyb20gcG9pbnQgKHgwLCB5MCkgdG8gdGhlIGxpbmUgaXMgc3FydCgoYyBcdTIyMTIgYVx1MDBCN3gwIFx1MjIxMiBiXHUwMEI3eTApXHUwMEIyIC8gKGFcdTAwQjIgKyBiXHUwMEIyKSlcbiAgd2hpbGUgKChpIC09IDIpID49IDApIHtcbiAgICBpZiAoTWF0aC5zcXJ0KE1hdGgucG93KGEgKiBkYXRhW2ldICsgYiAqIGRhdGFbaSArIDFdLCAyKSAqIGQpID4gZXJyb3IpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBuZXh0IGN1cnZlIGZyb20gc2hvcnRoYW5kIHRvIGZ1bGwgZm9ybSB1c2luZyB0aGUgY3VycmVudCBjdXJ2ZSBkYXRhLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIGN1cnZlIHRvIGNvbnZlcnRcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgY3VycmVudCBjdXJ2ZSBkYXRhXG4gKi9cblxuZnVuY3Rpb24gbWFrZUxvbmdoYW5kKGl0ZW0sIGRhdGEpIHtcbiAgc3dpdGNoIChpdGVtLmluc3RydWN0aW9uKSB7XG4gICAgY2FzZSBcInNcIjpcbiAgICAgIGl0ZW0uaW5zdHJ1Y3Rpb24gPSBcImNcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJ0XCI6XG4gICAgICBpdGVtLmluc3RydWN0aW9uID0gXCJxXCI7XG4gICAgICBicmVhaztcbiAgfVxuICBpdGVtLmRhdGEudW5zaGlmdChcbiAgICBkYXRhW2RhdGEubGVuZ3RoIC0gMl0gLSBkYXRhW2RhdGEubGVuZ3RoIC0gNF0sXG4gICAgZGF0YVtkYXRhLmxlbmd0aCAtIDFdIC0gZGF0YVtkYXRhLmxlbmd0aCAtIDNdXG4gICk7XG4gIHJldHVybiBpdGVtO1xufVxuXG4vKipcbiAqIFJldHVybnMgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcG9pbnQxIGZpcnN0IHBvaW50IGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludDIgc2Vjb25kIHBvaW50IGNvb3JkaW5hdGVzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlXG4gKi9cblxuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocG9pbnQxLCBwb2ludDIpIHtcbiAgcmV0dXJuIE1hdGguaHlwb3QocG9pbnQxWzBdIC0gcG9pbnQyWzBdLCBwb2ludDFbMV0gLSBwb2ludDJbMV0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgY29vcmRpbmF0ZXMgb2YgdGhlIGN1cnZlIHBvaW50IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGNlcnRhaW4gdFxuICogYVx1MDBCNygxIC0gdClcdTAwQjNcdTAwQjdwMSArIGJcdTAwQjcoMSAtIHQpXHUwMEIyXHUwMEI3dFx1MDBCN3AyICsgY1x1MDBCNygxIC0gdClcdTAwQjd0XHUwMEIyXHUwMEI3cDMgKyBkXHUwMEI3dFx1MDBCM1x1MDBCN3A0LFxuICogd2hlcmUgcE4gYXJlIGNvbnRyb2wgcG9pbnRzIGFuZCBwMSBpcyB6ZXJvIGR1ZSB0byByZWxhdGl2ZSBjb29yZGluYXRlcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjdXJ2ZSBhcnJheSBvZiBjdXJ2ZSBwb2ludHMgY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IHBhcmFtZXRyaWMgcG9zaXRpb24gZnJvbSAwIHRvIDFcbiAqIEByZXR1cm4ge0FycmF5fSBQb2ludCBjb29yZGluYXRlc1xuICovXG5cbmZ1bmN0aW9uIGdldEN1YmljQmV6aWVyUG9pbnQoY3VydmUsIHQpIHtcbiAgdmFyIHNxclQgPSB0ICogdCxcbiAgICBjdWJUID0gc3FyVCAqIHQsXG4gICAgbXQgPSAxIC0gdCxcbiAgICBzcXJNdCA9IG10ICogbXQ7XG5cbiAgcmV0dXJuIFtcbiAgICAzICogc3FyTXQgKiB0ICogY3VydmVbMF0gKyAzICogbXQgKiBzcXJUICogY3VydmVbMl0gKyBjdWJUICogY3VydmVbNF0sXG4gICAgMyAqIHNxck10ICogdCAqIGN1cnZlWzFdICsgMyAqIG10ICogc3FyVCAqIGN1cnZlWzNdICsgY3ViVCAqIGN1cnZlWzVdLFxuICBdO1xufVxuXG4vKipcbiAqIEZpbmRzIGNpcmNsZSBieSAzIHBvaW50cyBvZiB0aGUgY3VydmUgYW5kIGNoZWNrcyBpZiB0aGUgY3VydmUgZml0cyB0aGUgZm91bmQgY2lyY2xlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGN1cnZlXG4gKiBAcmV0dXJuIHtPYmplY3R8dW5kZWZpbmVkfSBjaXJjbGVcbiAqL1xuXG5mdW5jdGlvbiBmaW5kQ2lyY2xlKGN1cnZlKSB7XG4gIHZhciBtaWRQb2ludCA9IGdldEN1YmljQmV6aWVyUG9pbnQoY3VydmUsIDEgLyAyKSxcbiAgICBtMSA9IFttaWRQb2ludFswXSAvIDIsIG1pZFBvaW50WzFdIC8gMl0sXG4gICAgbTIgPSBbKG1pZFBvaW50WzBdICsgY3VydmVbNF0pIC8gMiwgKG1pZFBvaW50WzFdICsgY3VydmVbNV0pIC8gMl0sXG4gICAgY2VudGVyID0gZ2V0SW50ZXJzZWN0aW9uKFtcbiAgICAgIG0xWzBdLFxuICAgICAgbTFbMV0sXG4gICAgICBtMVswXSArIG0xWzFdLFxuICAgICAgbTFbMV0gLSBtMVswXSxcbiAgICAgIG0yWzBdLFxuICAgICAgbTJbMV0sXG4gICAgICBtMlswXSArIChtMlsxXSAtIG1pZFBvaW50WzFdKSxcbiAgICAgIG0yWzFdIC0gKG0yWzBdIC0gbWlkUG9pbnRbMF0pLFxuICAgIF0pLFxuICAgIHJhZGl1cyA9IGNlbnRlciAmJiBnZXREaXN0YW5jZShbMCwgMF0sIGNlbnRlciksXG4gICAgdG9sZXJhbmNlID0gTWF0aC5taW4oYXJjVGhyZXNob2xkICogZXJyb3IsIChhcmNUb2xlcmFuY2UgKiByYWRpdXMpIC8gMTAwKTtcblxuICBpZiAoXG4gICAgY2VudGVyICYmXG4gICAgcmFkaXVzIDwgMWUxNSAmJlxuICAgIFsxIC8gNCwgMyAvIDRdLmV2ZXJ5KGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgTWF0aC5hYnMoXG4gICAgICAgICAgZ2V0RGlzdGFuY2UoZ2V0Q3ViaWNCZXppZXJQb2ludChjdXJ2ZSwgcG9pbnQpLCBjZW50ZXIpIC0gcmFkaXVzXG4gICAgICAgICkgPD0gdG9sZXJhbmNlXG4gICAgICApO1xuICAgIH0pXG4gIClcbiAgICByZXR1cm4geyBjZW50ZXI6IGNlbnRlciwgcmFkaXVzOiByYWRpdXMgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBjdXJ2ZSBmaXRzIHRoZSBnaXZlbiBjaXJjbGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNpcmNsZVxuICogQHBhcmFtIHtBcnJheX0gY3VydmVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gaXNBcmMoY3VydmUsIGNpcmNsZSkge1xuICB2YXIgdG9sZXJhbmNlID0gTWF0aC5taW4oXG4gICAgYXJjVGhyZXNob2xkICogZXJyb3IsXG4gICAgKGFyY1RvbGVyYW5jZSAqIGNpcmNsZS5yYWRpdXMpIC8gMTAwXG4gICk7XG5cbiAgcmV0dXJuIFswLCAxIC8gNCwgMSAvIDIsIDMgLyA0LCAxXS5ldmVyeShmdW5jdGlvbiAocG9pbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgTWF0aC5hYnMoXG4gICAgICAgIGdldERpc3RhbmNlKGdldEN1YmljQmV6aWVyUG9pbnQoY3VydmUsIHBvaW50KSwgY2lyY2xlLmNlbnRlcikgLVxuICAgICAgICAgIGNpcmNsZS5yYWRpdXNcbiAgICAgICkgPD0gdG9sZXJhbmNlXG4gICAgKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgcHJldmlvdXMgY3VydmUgZml0cyB0aGUgZ2l2ZW4gY2lyY2xlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjaXJjbGVcbiAqIEBwYXJhbSB7QXJyYXl9IGN1cnZlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGlzQXJjUHJldihjdXJ2ZSwgY2lyY2xlKSB7XG4gIHJldHVybiBpc0FyYyhjdXJ2ZSwge1xuICAgIGNlbnRlcjogW2NpcmNsZS5jZW50ZXJbMF0gKyBjdXJ2ZVs0XSwgY2lyY2xlLmNlbnRlclsxXSArIGN1cnZlWzVdXSxcbiAgICByYWRpdXM6IGNpcmNsZS5yYWRpdXMsXG4gIH0pO1xufVxuXG4vKipcbiAqIEZpbmRzIGFuZ2xlIG9mIGEgY3VydmUgZml0dGluZyB0aGUgZ2l2ZW4gYXJjLlxuXG4gKiBAcGFyYW0ge0FycmF5fSBjdXJ2ZVxuICogQHBhcmFtIHtPYmplY3R9IHJlbENpcmNsZVxuICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICovXG5cbmZ1bmN0aW9uIGZpbmRBcmNBbmdsZShjdXJ2ZSwgcmVsQ2lyY2xlKSB7XG4gIHZhciB4MSA9IC1yZWxDaXJjbGUuY2VudGVyWzBdLFxuICAgIHkxID0gLXJlbENpcmNsZS5jZW50ZXJbMV0sXG4gICAgeDIgPSBjdXJ2ZVs0XSAtIHJlbENpcmNsZS5jZW50ZXJbMF0sXG4gICAgeTIgPSBjdXJ2ZVs1XSAtIHJlbENpcmNsZS5jZW50ZXJbMV07XG5cbiAgcmV0dXJuIE1hdGguYWNvcyhcbiAgICAoeDEgKiB4MiArIHkxICogeTIpIC8gTWF0aC5zcXJ0KCh4MSAqIHgxICsgeTEgKiB5MSkgKiAoeDIgKiB4MiArIHkyICogeTIpKVxuICApO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGdpdmVuIHBhdGggZGF0YSB0byBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc1xuICogQHBhcmFtIHtBcnJheX0gcGF0aERhdGFcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiBkYXRhMlBhdGgocGFyYW1zLCBwYXRoRGF0YSkge1xuICByZXR1cm4gcGF0aERhdGEucmVkdWNlKGZ1bmN0aW9uIChwYXRoU3RyaW5nLCBpdGVtKSB7XG4gICAgdmFyIHN0ckRhdGEgPSBcIlwiO1xuICAgIGlmIChpdGVtLmRhdGEpIHtcbiAgICAgIHN0ckRhdGEgPSBjbGVhbnVwT3V0RGF0YShyb3VuZERhdGEoaXRlbS5kYXRhLnNsaWNlKCkpLCBwYXJhbXMpO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aFN0cmluZyArIGl0ZW0uaW5zdHJ1Y3Rpb24gKyBzdHJEYXRhO1xuICB9LCBcIlwiKTtcbn1cbiIsICJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgcHJvZHVjZSBmcm9tIFwiaW1tZXJcIjtcbmltcG9ydCB7IE1TR19FVkVOVFMsIFNUQUdFUywgVUlfVEVYVCwgSU5JVElBTF9VSV9TSVpFIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgSGVhZGVyIH0gZnJvbSBcIi4vSGVhZGVyXCI7XG5pbXBvcnQgeyBSZXNwb25zaXZlVmlldyB9IGZyb20gXCIuL1Jlc3BvbnNpdmVWaWV3XCI7XG5pbXBvcnQgeyBGcmFtZVNlbGVjdGlvbiB9IGZyb20gXCIuL0ZyYW1lU2VsZWN0aW9uXCI7XG5pbXBvcnQgeyBQcmV2aWV3IH0gZnJvbSBcIi4vUHJldmlld1wiO1xuaW1wb3J0IHsgU2F2ZSB9IGZyb20gXCIuL1NhdmVcIjtcbmltcG9ydCB7IGRlY29kZVN2Z1RvU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWxzL3N2Z1wiO1xuaW1wb3J0IHsgY29tcHJlc3NJbWFnZSB9IGZyb20gXCIuLi91dGlscy9jb21wcmVzc0ltYWdlXCI7XG5pbXBvcnQgeyBzZW5kTWVzc2FnZSB9IGZyb20gXCIuLi91dGlscy9tZXNzYWdlc1wiO1xuaW1wb3J0IHtcbiAgQXBwU3RhdGUsXG4gIEFwcFByb3BzSW50ZXJmYWNlLFxuICBNc2dGcmFtZXNUeXBlLFxuICBGcmFtZUNvbGxlY3Rpb24sXG4gIE1zZ0NvbXByZXNzSW1hZ2VUeXBlLFxuICBNc2dSZW5kZXJUeXBlLFxuICBNc2dFdmVudFR5cGUsXG4gIEhlYWRsaW5lc0ludGVyZmFjZSxcbiAgVWlQb3N0TWVzc2FnZUV2ZW50LFxufSBmcm9tIFwidHlwZXNcIjtcbmltcG9ydCB7IGNydW5jaFN2ZyB9IGZyb20gXCJ1dGlscy9jcnVuY2hTdmdcIjtcblxuZXhwb3J0IGNsYXNzIEFwcCBleHRlbmRzIENvbXBvbmVudDxBcHBQcm9wc0ludGVyZmFjZSwgQXBwU3RhdGU+IHtcbiAgc3RhdGU6IEFwcFN0YXRlID0ge1xuICAgIGVycm9yOiB1bmRlZmluZWQsXG4gICAgcmVhZHk6IGZhbHNlLFxuICAgIGZyYW1lczoge30sXG4gICAgc3RhZ2U6IFNUQUdFUy5DSE9PU0VfRlJBTUVTLFxuICAgIHByZXZpZXdJbmRleDogMCxcbiAgICBpc1Jlc2l6aW5nOiBmYWxzZSxcbiAgICBtb3VzZVN0YXJ0WDogMCxcbiAgICBtb3VzZVN0YXJ0WTogMCxcbiAgICB3aW5kb3dXaWR0aDogSU5JVElBTF9VSV9TSVpFLndpZHRoLFxuICAgIHdpbmRvd0hlaWdodDogSU5JVElBTF9VSV9TSVpFLmhlaWdodCxcbiAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgIGhlYWRsaW5lOiB1bmRlZmluZWQsXG4gICAgc3ViaGVhZDogdW5kZWZpbmVkLFxuICAgIHNvdXJjZTogdW5kZWZpbmVkLFxuICAgIGxvYWRpbmc6IGZhbHNlLFxuICB9O1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCk6IHZvaWQge1xuICAgIC8vIExpc3RlbiBmb3IgZXZlbnRzIGZyb20gdGhlIGJhY2tlbmRcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGU6IFVpUG9zdE1lc3NhZ2VFdmVudCkgPT5cbiAgICAgIHRoaXMuaGFuZGxlRXZlbnRzKGUuZGF0YS5wbHVnaW5NZXNzYWdlKVxuICAgICk7XG5cbiAgICBzZW5kTWVzc2FnZShNU0dfRVZFTlRTLkRPTV9SRUFEWSk7XG4gIH1cblxuICB1cGRhdGVJbml0aWFsU3RhdGUgPSAoZGF0YTogTXNnRnJhbWVzVHlwZSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGZyYW1lcyxcbiAgICAgIHdpbmRvd0hlaWdodCxcbiAgICAgIHdpbmRvd1dpZHRoLFxuICAgICAgaGVhZGxpbmUsXG4gICAgICBzdWJoZWFkLFxuICAgICAgc291cmNlLFxuICAgIH0gPSBkYXRhO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZyYW1lcykgfHwgZnJhbWVzPy5sZW5ndGggPCAxKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IFwiTm8gZnJhbWVzIVwiIH0pO1xuICAgICAgY29uc29sZS5lcnJvcihcIlBvc3QgZXJyb3I6IG5vIGZyYW1lc1wiLCBkYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBmcmFtZURhdGE6IEZyYW1lQ29sbGVjdGlvbiA9IHt9O1xuICAgIGZvciAoY29uc3QgZnJhbWUgb2YgZnJhbWVzKSB7XG4gICAgICBjb25zdCB7IGlkIH0gPSBmcmFtZTtcbiAgICAgIGNvbnN0IHJuZElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzMikuc3Vic3RyKDIpO1xuXG4gICAgICBmcmFtZURhdGFbaWRdID0geyAuLi5mcmFtZSwgdWlkOiBgZjJoLSR7cm5kSWR9YCwgc3ZnT3B0aW1pc2VkOiBmYWxzZSB9O1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZnJhbWVzOiBmcmFtZURhdGEsXG4gICAgICByZWFkeTogdHJ1ZSxcbiAgICAgIHdpbmRvd1dpZHRoLFxuICAgICAgd2luZG93SGVpZ2h0LFxuICAgICAgaGVhZGxpbmUsXG4gICAgICBzdWJoZWFkLFxuICAgICAgc291cmNlLFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbXByZXNzSW1hZ2UgPSBhc3luYyAobXNnOiBNc2dDb21wcmVzc0ltYWdlVHlwZSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGltYWdlLCB3aWR0aCwgaGVpZ2h0LCB1aWQgfSA9IG1zZztcbiAgICAgIGNvbnN0IGltZ0RhdGEgPSBhd2FpdCBjb21wcmVzc0ltYWdlKGltYWdlLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIHNlbmRNZXNzYWdlKE1TR19FVkVOVFMuQ09NUFJFU1NFRF9JTUFHRSwgeyBpbWFnZTogaW1nRGF0YSwgdWlkIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlVJIGZhaWxlZCB0byBjb21wcmVzcyBpbWFnZVwiLCBlcnIpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yOiBcIkZhaWxlZCB0byBjb21wcmVzcyBpbWFnZVwiIH0pO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVSZW5kZXJNZXNzYWdlID0gKGRhdGE6IE1zZ1JlbmRlclR5cGUpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IGZyYW1lSWQsIHN2ZyB9ID0gZGF0YTtcbiAgICBpZiAoIWZyYW1lSWQgfHwgIXN2Zykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yOiBcIkZhaWxlZCB0byByZW5kZXJcIiwgbG9hZGluZzogZmFsc2UgfSk7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUG9zdCBtZXNzYWdlOiBmYWlsZWQgdG8gcmVuZGVyXCIsIGRhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZnJhbWVzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHN2Z1N0ciA9IGRlY29kZVN2Z1RvU3RyaW5nKHN2Zyk7XG4gICAgY29uc3QgY2xvbmVGcmFtZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGZyYW1lcykpIGFzIEZyYW1lQ29sbGVjdGlvbjtcbiAgICBjbG9uZUZyYW1lc1tmcmFtZUlkXS5zdmcgPSBzdmdTdHI7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGZyYW1lczogY2xvbmVGcmFtZXMsIGxvYWRpbmc6IGZhbHNlIH0pO1xuICB9O1xuXG4gIGhhbmRsZUV2ZW50cyA9IChkYXRhOiBNc2dFdmVudFR5cGUpOiB2b2lkID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlVJIHBvc3RcIiwgZGF0YSk7XG4gICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgIGNhc2UgTVNHX0VWRU5UUy5GT1VORF9GUkFNRVM6XG4gICAgICAgIHRoaXMudXBkYXRlSW5pdGlhbFN0YXRlKGRhdGEpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNU0dfRVZFTlRTLk5PX0ZSQU1FUzpcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yOiBVSV9URVhULkVSUk9SX01JU1NJTkdfRlJBTUVTIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNU0dfRVZFTlRTLkVSUk9SOlxuICAgICAgICBjb25zb2xlLmVycm9yKFwiVUkgcG9zdCBtZXNzYWdlIGVycm9yXCIsIGRhdGEpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBlcnJvcjogYCR7VUlfVEVYVC5FUlJPUl9VTkVYUEVDVEVEfTogJHtkYXRhLmVycm9yVGV4dH1gLFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTVNHX0VWRU5UUy5SRU5ERVI6XG4gICAgICAgIHRoaXMuaGFuZGxlUmVuZGVyTWVzc2FnZShkYXRhKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTVNHX0VWRU5UUy5DT01QUkVTU19JTUFHRTpcbiAgICAgICAgdGhpcy5jb21wcmVzc0ltYWdlKGRhdGEpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVUkgY29tcHJlc3MgaW1hZ2UgZXZlbnRcIiwgZXJyKTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGVycm9yOlxuICAgICAgICAgICAgICBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJDb21wcmVzcyBpbWFnZXMgZmFpbGVkXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yOiBcIlVua25vd24gcG9zdCBtZXNzYWdlXCIgfSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVSSBwb3N0IG1lc3NhZ2UgZXJyb3JcIiwgZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICAvLyBUT0RPOiBNZXJnZSBnb05leHQgYW5kIGdvQmFja1xuICBnb05leHQgPSAoKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyBzdGFnZSwgcHJldmlld0luZGV4LCBmcmFtZXMgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IE9iamVjdC52YWx1ZXMoZnJhbWVzKS5maWx0ZXIoKGYpID0+IGYuc2VsZWN0ZWQpO1xuXG4gICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5leHRJbmRleCA9IHByZXZpZXdJbmRleCArIDE7XG5cbiAgICBzd2l0Y2ggKHN0YWdlKSB7XG4gICAgICBjYXNlIFNUQUdFUy5DSE9PU0VfRlJBTUVTOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuUFJFVklFV19PVVRQVVQgfSk7XG5cbiAgICAgIGNhc2UgU1RBR0VTLlBSRVZJRVdfT1VUUFVUOlxuICAgICAgICBpZiAobGVuZ3RoID09PSBuZXh0SW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgcHJldmlld0luZGV4OiBuZXh0SW5kZXggfSk7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuU0FWRV9PVVRQVVQgfSk7XG5cbiAgICAgIGNhc2UgU1RBR0VTLlNBVkVfT1VUUFVUOlxuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIGdvQmFjayA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHN0YWdlLCBwcmV2aWV3SW5kZXggfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBzd2l0Y2ggKHN0YWdlKSB7XG4gICAgICBjYXNlIFNUQUdFUy5DSE9PU0VfRlJBTUVTOlxuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgU1RBR0VTLlBSRVZJRVdfT1VUUFVUOlxuICAgICAgICBpZiAocHJldmlld0luZGV4ID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuQ0hPT1NFX0ZSQU1FUyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcHJldmlld0luZGV4OiBwcmV2aWV3SW5kZXggLSAxIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuUFJFVklFV19PVVRQVVQgfSk7XG5cbiAgICAgIGNhc2UgU1RBR0VTLlNBVkVfT1VUUFVUOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXIH0pO1xuICAgIH1cbiAgfTtcblxuICBnZXRPdXRwdXRSZW5kZXIgPSAoZnJhbWVJZDogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IHRydWUgfSk7XG4gICAgc2VuZE1lc3NhZ2UoTVNHX0VWRU5UUy5SRU5ERVIsIHsgZnJhbWVJZCB9KTtcbiAgfTtcblxuICB0b2dnbGVQcm9wID0gKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgcHJvcDogXCJzZWxlY3RlZFwiIHwgXCJyZXNwb25zaXZlXCIgfCBcInN2Z09wdGltaXNlZFwiXG4gICk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgZnJhbWVzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGNsb25lRnJhbWVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShmcmFtZXMpKSBhcyBGcmFtZUNvbGxlY3Rpb247XG4gICAgY2xvbmVGcmFtZXNbaWRdW3Byb3BdID0gIWNsb25lRnJhbWVzW2lkXVtwcm9wXTtcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBmcmFtZXM6IGNsb25lRnJhbWVzIH0pO1xuICB9O1xuXG4gIHRvZ2dsZUZyYW1lU2VsZWN0ID0gKGlkOiBzdHJpbmcpOiB2b2lkID0+IHRoaXMudG9nZ2xlUHJvcChpZCwgXCJzZWxlY3RlZFwiKTtcblxuICB0b2dnbGVSZXNvbnNpdmUgPSAoaWQ6IHN0cmluZyk6IHZvaWQgPT4gdGhpcy50b2dnbGVQcm9wKGlkLCBcInJlc3BvbnNpdmVcIik7XG5cbiAgdG9nZ2xlT3B0aW1pc2VkID0gKGlkOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IGZyYW1lcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7IHN2Z0NvbXByZXNzZWQsIHN2Zywgc3ZnT3B0aW1pc2VkIH0gPSBmcmFtZXNbaWRdO1xuXG4gICAgaWYgKHN2ZyAmJiAhc3ZnT3B0aW1pc2VkICYmICFzdmdDb21wcmVzc2VkKSB7XG4gICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBlbC5pbm5lckhUTUwgPSBzdmc7XG4gICAgICBjb25zdCBzdmdFbCA9IGVsLnF1ZXJ5U2VsZWN0b3IoXCJzdmdcIik7XG5cbiAgICAgIGlmICghc3ZnRWwpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIk1pc3NpbmcgU1ZHIGluIFNWRyBzdHJpbmdcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY3J1bmNoU3ZnKHN2Z0VsKTtcbiAgICAgIGNvbnN0IGNsb25lRnJhbWVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShmcmFtZXMpKSBhcyBGcmFtZUNvbGxlY3Rpb247XG4gICAgICBjbG9uZUZyYW1lc1tpZF0uc3ZnQ29tcHJlc3NlZCA9IHN2Z0VsLm91dGVySFRNTDtcbiAgICAgIGNsb25lRnJhbWVzW2lkXS5zdmdPcHRpbWlzZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZyYW1lczogY2xvbmVGcmFtZXMgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudG9nZ2xlUHJvcChpZCwgXCJzdmdPcHRpbWlzZWRcIik7XG4gICAgfVxuICB9O1xuXG4gIHRvZ2dsZUFsbFByb3AgPSAocHJvcE5hbWU6IFwic2VsZWN0ZWRcIiB8IFwicmVzcG9uc2l2ZVwiKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyBmcmFtZXMgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3Qgc2hvdWxkRGVzZWxlY3RBbGwgPSBPYmplY3QudmFsdWVzKGZyYW1lcykuc29tZShcbiAgICAgIChmcmFtZSkgPT4gZnJhbWVbcHJvcE5hbWVdXG4gICAgKTtcblxuICAgIGNvbnN0IGRyYWZ0U3RhdGUgPSBwcm9kdWNlKHRoaXMuc3RhdGUsIChkcmFmdFN0YXRlKSA9PiB7XG4gICAgICBPYmplY3QudmFsdWVzKGRyYWZ0U3RhdGUuZnJhbWVzKS5mb3JFYWNoKFxuICAgICAgICAoZnJhbWUpID0+IChmcmFtZVtwcm9wTmFtZV0gPSAhc2hvdWxkRGVzZWxlY3RBbGwpXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRTdGF0ZShkcmFmdFN0YXRlKTtcbiAgfTtcblxuICB0b2dnbGVTZWxlY3RBbGwgPSAoKTogdm9pZCA9PiB0aGlzLnRvZ2dsZUFsbFByb3AoXCJzZWxlY3RlZFwiKTtcblxuICB0b2dnbGVSZXNwb25zaXZlQWxsID0gKCk6IHZvaWQgPT4gdGhpcy50b2dnbGVBbGxQcm9wKFwicmVzcG9uc2l2ZVwiKTtcblxuICBoYW5kbGVGb3JtVXBkYXRlID0gKHByb3BzOiBIZWFkbGluZXNJbnRlcmZhY2UpOiB2b2lkID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgLi4ucHJvcHMgfSk7XG4gICAgc2VuZE1lc3NhZ2UoTVNHX0VWRU5UUy5VUERBVEVfSEVBRExJTkVTLCBwcm9wcyk7XG4gIH07XG5cbiAgc3dpdGNoVmlldyA9ICgpOiBoLkpTWC5FbGVtZW50ID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBmcmFtZXMsXG4gICAgICBzdGFnZSxcbiAgICAgIHByZXZpZXdJbmRleCxcbiAgICAgIHdpbmRvd0hlaWdodCxcbiAgICAgIHdpbmRvd1dpZHRoLFxuICAgICAgaGVhZGxpbmUsXG4gICAgICBzdWJoZWFkLFxuICAgICAgc291cmNlLFxuICAgICAgbG9hZGluZyxcbiAgICB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIGNvbnN0IGZyYW1lc0FyciA9IE9iamVjdC52YWx1ZXMoZnJhbWVzKS5zb3J0KChhLCBiKSA9PlxuICAgICAgYS53aWR0aCA8PSBiLndpZHRoID8gLTEgOiAxXG4gICAgKTtcbiAgICBjb25zdCBzZWxlY3RlZEZyYW1lcyA9IGZyYW1lc0Fyci5maWx0ZXIoKGZyYW1lKSA9PiBmcmFtZS5zZWxlY3RlZCk7XG5cbiAgICAvLyBJZiBwcmV2aWV3aW5nIGZyYW1lIHdpdGhvdXQgYSByZW5kZXIgdGhlbiByZXF1ZXN0IGlmIGZyb20gdGhlIGJhY2tlbmRzXG4gICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgcmVuZGVyXG4gICAgaWYgKFxuICAgICAgc3RhZ2UgPT09IFNUQUdFUy5QUkVWSUVXX09VVFBVVCAmJlxuICAgICAgIXNlbGVjdGVkRnJhbWVzW3ByZXZpZXdJbmRleF0uc3ZnICYmXG4gICAgICBsb2FkaW5nID09PSBmYWxzZVxuICAgICkge1xuICAgICAgdGhpcy5nZXRPdXRwdXRSZW5kZXIoc2VsZWN0ZWRGcmFtZXNbcHJldmlld0luZGV4XS5pZCk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChzdGFnZSkge1xuICAgICAgY2FzZSBTVEFHRVMuQ0hPT1NFX0ZSQU1FUzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8RnJhbWVTZWxlY3Rpb25cbiAgICAgICAgICAgIGZyYW1lcz17ZnJhbWVzQXJyfVxuICAgICAgICAgICAgaGFuZGxlQ2xpY2s9e3RoaXMudG9nZ2xlRnJhbWVTZWxlY3R9XG4gICAgICAgICAgICB0b2dnbGVSZXNvbnNpdmU9e3RoaXMudG9nZ2xlUmVzb25zaXZlfVxuICAgICAgICAgICAgdG9nZ2xlU2VsZWN0QWxsPXt0aGlzLnRvZ2dsZVNlbGVjdEFsbH1cbiAgICAgICAgICAgIHRvZ2dsZVJlc3BvbnNpdmVBbGw9e3RoaXMudG9nZ2xlUmVzcG9uc2l2ZUFsbH1cbiAgICAgICAgICAgIGhlYWRsaW5lPXtoZWFkbGluZX1cbiAgICAgICAgICAgIHN1YmhlYWQ9e3N1YmhlYWR9XG4gICAgICAgICAgICBzb3VyY2U9e3NvdXJjZX1cbiAgICAgICAgICAgIGhhbmRsZUZvcm1VcGRhdGU9e3RoaXMuaGFuZGxlRm9ybVVwZGF0ZX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuXG4gICAgICBjYXNlIFNUQUdFUy5QUkVWSUVXX09VVFBVVDpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UHJldmlld1xuICAgICAgICAgICAgZnJhbWU9e3NlbGVjdGVkRnJhbWVzW3ByZXZpZXdJbmRleF19XG4gICAgICAgICAgICB3aW5kb3dIZWlnaHQ9e3dpbmRvd0hlaWdodH1cbiAgICAgICAgICAgIHdpbmRvd1dpZHRoPXt3aW5kb3dXaWR0aH1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuXG4gICAgICBjYXNlIFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlc3BvbnNpdmVWaWV3XG4gICAgICAgICAgICB3aW5kb3dIZWlnaHQ9e3dpbmRvd0hlaWdodH1cbiAgICAgICAgICAgIHdpbmRvd1dpZHRoPXt3aW5kb3dXaWR0aH1cbiAgICAgICAgICAgIGZyYW1lcz17c2VsZWN0ZWRGcmFtZXN9XG4gICAgICAgICAgICBoZWFkbGluZT17aGVhZGxpbmV9XG4gICAgICAgICAgICBzdWJoZWFkPXtzdWJoZWFkfVxuICAgICAgICAgICAgc291cmNlPXtzb3VyY2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcblxuICAgICAgY2FzZSBTVEFHRVMuU0FWRV9PVVRQVVQ6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFNhdmVcbiAgICAgICAgICAgIGZyYW1lcz17c2VsZWN0ZWRGcmFtZXN9XG4gICAgICAgICAgICBoZWFkbGluZT17aGVhZGxpbmV9XG4gICAgICAgICAgICBzdWJoZWFkPXtzdWJoZWFkfVxuICAgICAgICAgICAgc291cmNlPXtzb3VyY2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDxkaXY+TG9hZGluZy4uLjwvZGl2PjtcbiAgICB9XG4gIH07XG5cbiAgcmVuZGVyKCk6IGguSlNYLkVsZW1lbnQge1xuICAgIGNvbnN0IHsgdmVyc2lvbiB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGVycm9yLCBmcmFtZXMsIHN0YWdlLCBwcmV2aWV3SW5kZXgsIGxvYWRpbmcgfSA9IHRoaXMuc3RhdGU7XG4gICAgLy8gVE9ETzogRG9uJ3QgcmVseSBvbiBvYmplY3QgcHJvcCBvcmRlclxuICAgIGNvbnN0IHNlbGVjdGVkRnJhbWUgPSBPYmplY3QudmFsdWVzKGZyYW1lcylbcHJldmlld0luZGV4XTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaFwiPlxuICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgc3RhZ2U9e3N0YWdlfVxuICAgICAgICAgIGhhbmRsZUJhY2tDbGljaz17dGhpcy5nb0JhY2t9XG4gICAgICAgICAgaGFuZGxlTmV4dENsaWNrPXt0aGlzLmdvTmV4dH1cbiAgICAgICAgICBkaXNhYmxlTmV4dD17bG9hZGluZyB8fCBzdGFnZSA9PT0gU1RBR0VTLlNBVkVfT1VUUFVUfVxuICAgICAgICAgIGZyYW1lPXtzZWxlY3RlZEZyYW1lfVxuICAgICAgICAgIGhhbmRsZU9wdGltc2VDbGljaz17dGhpcy50b2dnbGVPcHRpbWlzZWR9XG4gICAgICAgIC8+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX2JvZHlcIj5cbiAgICAgICAgICB7ZXJyb3IgPyA8ZGl2IGNsYXNzTmFtZT1cImVycm9yXCI+e2Vycm9yfTwvZGl2PiA6IHRoaXMuc3dpdGNoVmlldygpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiZjJoX192ZXJzaW9uXCI+VmVyc2lvbjoge3ZlcnNpb259PC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudCAqL1xuaW1wb3J0IHsgaCwgcmVuZGVyIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgaW5qZWN0Q3NzIH0gZnJvbSBcIi4vdXRpbHMvY3NzXCI7XG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9jb21wb25lbnRzL0FwcFwiO1xuXG5jb25zdCBWRVJTSU9OID0gXCJhbHBoYS0wLjFcIjtcblxuLy8gSW1wb3J0IENTUyBmaWxlcyBhcyBwbGFpbiB0ZXh0IHZpYSBlc2J1aWxkIGxvYWRlciBvcHRpb25cbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCB1aUNzcyBmcm9tIFwiLi91aS5jc3NcIjtcbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCBmb250c0NzcyBmcm9tIFwiLi9mb250cy5jc3NcIjtcbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCBlbWJlZENzcyBmcm9tIFwiLi9lbWJlZC5jc3NcIjtcblxuaW5qZWN0Q3NzKHVpQ3NzKTtcbmluamVjdENzcyhlbWJlZENzcyk7XG5pbmplY3RDc3MoZm9udHNDc3MpO1xuXG4vLyBSZW5kZXIgYXBwXG5yZW5kZXIoPEFwcCB2ZXJzaW9uPXtWRVJTSU9OfSAvPiwgZG9jdW1lbnQuYm9keSk7XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7O0FDQUE7Ozs7O0FDQUE7SUFBQyxVQUFTLElBQUU7QUFBRyxVQUFHLGNBQVksT0FBTyxVQUFRLE9BQU87QUFBSSxlQUFPLElBQUc7ZUFBVyxlQUFhLE9BQU87QUFBUTs7QUFB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TUFBSSxJQUFFLEtBQUUsR0FBRSxJQUFFLElBQUUsSUFBRSxHQUFFLEtBQUksV0FBUyxHQUFFLGlCQUFnQixNQUFLLElBQUUsUUFBTSxLQUFFLEdBQUUsTUFBRyxLQUFHLEdBQUUsSUFBRSxLQUFHLE1BQUcsTUFBRyxHQUFFOzs7QUFBTyxjQUFXLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFO0FBQUcsUUFBSSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxLQUFFLE1BQUcsR0FBRSxPQUFLLElBQUUsS0FBRSxHQUFFO0FBQU8sU0FBSSxNQUFHLE1BQUksTUFBRSxRQUFNLEtBQUUsR0FBRSxLQUFHLEtBQUUsR0FBRSxJQUFFLEtBQUcsT0FBTSxHQUFFLE1BQUksSUFBRyxLQUFFLEdBQUUsS0FBRSxHQUFFLFFBQU87QUFBSSxVQUFHLFFBQU8sTUFBRSxHQUFFLElBQUksTUFBRyxRQUFPLE1BQUUsR0FBRSxRQUFLLGFBQVcsT0FBTyxLQUFFLE9BQUssWUFBVSxPQUFPLE1BQUcsWUFBVSxPQUFPLEtBQUUsR0FBRSxNQUFLLElBQUUsTUFBSyxNQUFLLE1BQUcsTUFBTSxRQUFRLE1BQUcsR0FBRSxJQUFFLENBQUMsVUFBUyxLQUFHLE1BQUssTUFBSyxRQUFNLFFBQU0sR0FBRSxPQUFLLFFBQU0sR0FBRSxNQUFJLEdBQUUsR0FBRSxNQUFLLEdBQUUsT0FBTSxHQUFFLEtBQUksTUFBSyxHQUFFLE9BQUs7QUFBSSxZQUFHLEdBQUUsS0FBRyxJQUFFLEdBQUUsTUFBSSxHQUFFLE1BQUksR0FBRSxTQUFRLE1BQUUsR0FBRSxRQUFLLE1BQUcsR0FBRSxPQUFLLEdBQUUsT0FBSyxHQUFFLFNBQU8sR0FBRTtBQUFLLGFBQUUsTUFBRzs7QUFBWSxlQUFJLEtBQUUsR0FBRSxLQUFFLElBQUU7QUFBSyxnQkFBSSxNQUFFLEdBQUUsUUFBSyxHQUFFLE9BQUssR0FBRSxPQUFLLEdBQUUsU0FBTyxHQUFFO0FBQU0saUJBQUUsTUFBRztBQUFPOztBQUFNLGlC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QUFLLElBQUUsT0FBSyxHQUFFLFFBQU8sSUFBRSxNQUFHLENBQUMsY0FBYSxNQUFHLFVBQVMsTUFBRyxZQUFXLEdBQUUsWUFBVyxPQUFNLEdBQUU7O0FBQUssV0FBTyxPQUFPLE9BQU8sT0FBTyxlQUFlLEtBQUc7O0FBQUcsYUFBVyxJQUFFO0FBQUcsV0FBTyxTQUFTLE9BQUksRUFBRSxPQUFJLENBQUMsRUFBRSxPQUFLLEdBQUUsTUFBRyxLQUFJLElBQUUsTUFBSSxHQUFFLE1BQUksR0FBRSxRQUFNLEdBQUUsU0FBTyxJQUFHLE9BQU8sT0FBTyxLQUFHLE1BQUcsRUFBRSxJQUFHLFNBQVMsSUFBRTtBQUFHLGFBQU8sRUFBRSxJQUFFO09BQU07O0FBQUs7QUFBYSxNQUFFOztBQUFHLGFBQVc7QUFBRyxRQUFJLEtBQUUsRUFBRTtBQUFHLFdBQU8sTUFBRyxFQUFzQyxJQUFNLEtBQUc7O0FBQXlCO0FBQWEsV0FBTSxBQUFxQyxLQUFHLEVBQUUsSUFBRzs7QUFBRSxhQUFXLElBQUU7QUFBRyxVQUFJLEdBQUUsWUFBVyxHQUFFLElBQUUsSUFBRyxHQUFFLElBQUUsSUFBRyxHQUFFLElBQUU7O0FBQUcsYUFBVztBQUFHLE1BQUUsS0FBRyxHQUFFLEVBQUUsUUFBUSxJQUFHLEdBQUUsSUFBRTs7QUFBSyxhQUFXO0FBQUcsV0FBSSxLQUFJLEtBQUUsR0FBRTs7QUFBRyxhQUFXO0FBQUcsV0FBTyxJQUFFLENBQUMsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLElBQUUsR0FBRSxNQUFHLEdBQUU7O0FBQUcsYUFBVztBQUFHLFFBQUksS0FBRSxHQUFFO0FBQUcsVUFBSSxHQUFFLEtBQUcsTUFBSSxHQUFFLElBQUUsR0FBRSxNQUFJLEdBQUUsSUFBRTs7QUFBRyxhQUFXLElBQUU7QUFBRyxPQUFFLElBQUUsR0FBRSxFQUFFO0FBQU8sUUFBSSxLQUFFLEdBQUUsRUFBRSxJQUFHLEtBQUUsV0FBUyxNQUFHLE9BQUk7QUFBRSxXQUFPLEdBQUUsRUFBRSxLQUFHLEVBQUUsT0FBTyxFQUFFLElBQUUsSUFBRSxLQUFHLEtBQUcsSUFBRSxHQUFHLEtBQUksR0FBRSxLQUFHLEVBQUUsS0FBSSxFQUFFLE9BQUssTUFBRSxFQUFFLElBQUUsS0FBRyxHQUFFLEtBQUcsRUFBRSxJQUFFLE1BQUksR0FBRSxLQUFHLEVBQUUsV0FBVyxFQUFFLEdBQUUsSUFBRyxJQUFFLEdBQUUsR0FBRSxHQUFFLE1BQUksS0FBRSxFQUFFLElBQUUsSUFBRSxLQUFJLEVBQUUsS0FBRyxHQUFFLEtBQUcsR0FBRSxFQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsT0FBSSxJQUFFLEtBQUU7O0FBQU8sYUFBVyxJQUFFLElBQUU7QUFBRyxRQUFHLFFBQU8sTUFBRSxPQUFJLFlBQVUsT0FBTyxNQUFHLE9BQU8sU0FBUztBQUFHLGFBQU87QUFBRSxRQUFJLElBQUUsS0FBRSxHQUFFO0FBQUcsUUFBRyxDQUFDO0FBQUUsYUFBTyxFQUFFLElBQUcsU0FBUyxJQUFFO0FBQUcsZUFBTyxFQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRTtTQUFLLE9BQUk7QUFBRSxRQUFHLEdBQUUsTUFBSTtBQUFFLGFBQU87QUFBRSxRQUFHLENBQUMsR0FBRTtBQUFFLGFBQU8sRUFBRSxJQUFFLEdBQUUsR0FBRSxPQUFJLEdBQUU7QUFBRSxRQUFHLENBQUMsR0FBRTtBQUFHLFNBQUUsSUFBRSxNQUFHLEdBQUUsRUFBRTtBQUFJLFVBQUksS0FBRSxNQUFJLEdBQUUsS0FBRyxNQUFJLEdBQUUsSUFBRSxHQUFFLElBQUUsRUFBRSxHQUFFLEtBQUcsR0FBRTtBQUFFLFFBQUUsSUFBRyxTQUFTLElBQUU7QUFBRyxlQUFPLEVBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFO1VBQU0sRUFBRSxJQUFFLElBQUUsUUFBSSxNQUFHLEdBQUUsS0FBRyxFQUFFLFdBQVcsRUFBRSxJQUFFLElBQUUsR0FBRSxHQUFFLEdBQUU7O0FBQUcsV0FBTyxHQUFFOztBQUFFLGFBQVcsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFO0FBQUcsUUFBRyxBQUFxQyxPQUFJLE1BQUcsRUFBRSxJQUFHLEVBQUU7QUFBSSxVQUFJLEtBQUUsRUFBRSxJQUFFLElBQUUsTUFBRyxNQUFHLE1BQUksR0FBRSxLQUFHLENBQUMsRUFBRSxHQUFFLEdBQUUsTUFBRyxHQUFFLE9BQU8sTUFBRztBQUFRLFVBQUcsRUFBRSxJQUFFLElBQUUsS0FBRyxDQUFDLEVBQUU7QUFBRztBQUFPLFNBQUUsSUFBRTs7QUFBRyxRQUFHLEVBQUUsT0FBSSxDQUFDLE9BQU8sU0FBUztBQUFJLFVBQUcsQ0FBQyxHQUFFLEVBQUUsS0FBRyxHQUFFLElBQUU7QUFBRTtBQUFPLFFBQUUsSUFBRSxLQUFHLE1BQUcsR0FBRSxFQUFFLEtBQUcsRUFBRSxJQUFFOzs7QUFBSSxhQUFXLElBQUUsSUFBRTtBQUFHLGVBQVMsTUFBSSxNQUFFLFFBQUksR0FBRSxFQUFFLEtBQUcsR0FBRSxLQUFHLEVBQUUsSUFBRTs7QUFBRyxhQUFXLElBQUU7QUFBRyxRQUFJLEtBQUUsR0FBRTtBQUFHLFdBQU8sTUFBRSxFQUFFLE1BQUcsSUFBRzs7QUFBRyxhQUFXO0FBQUcsT0FBRSxLQUFJLElBQUUsSUFBRSxNQUFHLEdBQUUsS0FBRyxFQUFFLEdBQUU7O0FBQUksYUFBVztBQUFHLE9BQUUsS0FBSSxJQUFFLElBQUUsRUFBRSxHQUFFOztBQUFJLGFBQVcsSUFBRSxJQUFFO0FBQUcsUUFBSSxLQUFFLEVBQUUsTUFBRyxFQUFFLFVBQVUsRUFBRSxJQUFFLE1BQUcsRUFBRSxNQUFHLEVBQUUsVUFBVSxFQUFFLElBQUUsTUFBRyxHQUFFLElBQUUsU0FBUyxJQUFFO0FBQUcsVUFBSSxLQUFFLE1BQU0sUUFBUSxLQUFHLEtBQUUsQ0FBQyxHQUFFLEtBQUUsSUFBRSxHQUFFLEdBQUUsS0FBRSxHQUFFLElBQUUsS0FBSSxHQUFFLE9BQUcsR0FBRSxPQUFHLEdBQUUsSUFBRyxHQUFFLElBQUUsR0FBRSxJQUFFLEdBQUUsTUFBSyxHQUFFLE1BQUssR0FBRSxNQUFLLEdBQUUsUUFBSSxLQUFFLElBQUUsS0FBRTtBQUFFLFlBQUksTUFBRSxDQUFDLEtBQUcsS0FBRTtBQUFJLFVBQUksS0FBRSxN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</script>
