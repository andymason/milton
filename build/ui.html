<div id="app"></div>
<script>(() => {
  var __defineProperty = Object.defineProperty;
  var __hasOwnProperty = Object.prototype.hasOwnProperty;
  var __assign = Object.assign;
  var __commonJS = (callback, module) => () => {
    if (!module) {
      module = {exports: {}};
      callback(module.exports, module);
    }
    return module.exports;
  };
  var __markAsModule = (target) => {
    return __defineProperty(target, "__esModule", {value: true});
  };
  var __exportStar = (target, module) => {
    __markAsModule(target);
    if (typeof module === "object" || typeof module === "function") {
      for (let key in module)
        if (__hasOwnProperty.call(module, key) && !__hasOwnProperty.call(target, key) && key !== "default")
          __defineProperty(target, key, {get: () => module[key], enumerable: true});
    }
    return target;
  };
  var __toModule = (module) => {
    if (module && module.__esModule)
      return module;
    return __exportStar(__defineProperty({}, "default", {value: module, enumerable: true}), module);
  };

  // node_modules/pako/lib/utils/common.js
  var require_common = __commonJS((exports) => {
    "use strict";
    var TYPED_OK = typeof Uint8Array !== "undefined" && typeof Uint16Array !== "undefined" && typeof Int32Array !== "undefined";
    function _has(obj, key) {
      return Object.prototype.hasOwnProperty.call(obj, key);
    }
    exports.assign = function(obj) {
      var sources = Array.prototype.slice.call(arguments, 1);
      while (sources.length) {
        var source = sources.shift();
        if (!source) {
          continue;
        }
        if (typeof source !== "object") {
          throw new TypeError(source + "must be non-object");
        }
        for (var p3 in source) {
          if (_has(source, p3)) {
            obj[p3] = source[p3];
          }
        }
      }
      return obj;
    };
    exports.shrinkBuf = function(buf, size) {
      if (buf.length === size) {
        return buf;
      }
      if (buf.subarray) {
        return buf.subarray(0, size);
      }
      buf.length = size;
      return buf;
    };
    var fnTyped = {
      arraySet: function(dest, src, src_offs, len, dest_offs) {
        if (src.subarray && dest.subarray) {
          dest.set(src.subarray(src_offs, src_offs + len), dest_offs);
          return;
        }
        for (var i3 = 0; i3 < len; i3++) {
          dest[dest_offs + i3] = src[src_offs + i3];
        }
      },
      flattenChunks: function(chunks) {
        var i3, l3, len, pos, chunk, result;
        len = 0;
        for (i3 = 0, l3 = chunks.length; i3 < l3; i3++) {
          len += chunks[i3].length;
        }
        result = new Uint8Array(len);
        pos = 0;
        for (i3 = 0, l3 = chunks.length; i3 < l3; i3++) {
          chunk = chunks[i3];
          result.set(chunk, pos);
          pos += chunk.length;
        }
        return result;
      }
    };
    var fnUntyped = {
      arraySet: function(dest, src, src_offs, len, dest_offs) {
        for (var i3 = 0; i3 < len; i3++) {
          dest[dest_offs + i3] = src[src_offs + i3];
        }
      },
      flattenChunks: function(chunks) {
        return [].concat.apply([], chunks);
      }
    };
    exports.setTyped = function(on) {
      if (on) {
        exports.Buf8 = Uint8Array;
        exports.Buf16 = Uint16Array;
        exports.Buf32 = Int32Array;
        exports.assign(exports, fnTyped);
      } else {
        exports.Buf8 = Array;
        exports.Buf16 = Array;
        exports.Buf32 = Array;
        exports.assign(exports, fnUntyped);
      }
    };
    exports.setTyped(TYPED_OK);
  });

  // node_modules/pako/lib/zlib/trees.js
  var require_trees = __commonJS((exports) => {
    "use strict";
    var utils = require_common();
    var Z_FIXED = 4;
    var Z_BINARY = 0;
    var Z_TEXT = 1;
    var Z_UNKNOWN = 2;
    function zero(buf) {
      var len = buf.length;
      while (--len >= 0) {
        buf[len] = 0;
      }
    }
    var STORED_BLOCK = 0;
    var STATIC_TREES = 1;
    var DYN_TREES = 2;
    var MIN_MATCH = 3;
    var MAX_MATCH = 258;
    var LENGTH_CODES = 29;
    var LITERALS = 256;
    var L_CODES = LITERALS + 1 + LENGTH_CODES;
    var D_CODES = 30;
    var BL_CODES = 19;
    var HEAP_SIZE = 2 * L_CODES + 1;
    var MAX_BITS = 15;
    var Buf_size = 16;
    var MAX_BL_BITS = 7;
    var END_BLOCK = 256;
    var REP_3_6 = 16;
    var REPZ_3_10 = 17;
    var REPZ_11_138 = 18;
    var extra_lbits = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0];
    var extra_dbits = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13];
    var extra_blbits = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7];
    var bl_order = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
    var DIST_CODE_LEN = 512;
    var static_ltree = new Array((L_CODES + 2) * 2);
    zero(static_ltree);
    var static_dtree = new Array(D_CODES * 2);
    zero(static_dtree);
    var _dist_code = new Array(DIST_CODE_LEN);
    zero(_dist_code);
    var _length_code = new Array(MAX_MATCH - MIN_MATCH + 1);
    zero(_length_code);
    var base_length = new Array(LENGTH_CODES);
    zero(base_length);
    var base_dist = new Array(D_CODES);
    zero(base_dist);
    function StaticTreeDesc(static_tree, extra_bits, extra_base, elems, max_length) {
      this.static_tree = static_tree;
      this.extra_bits = extra_bits;
      this.extra_base = extra_base;
      this.elems = elems;
      this.max_length = max_length;
      this.has_stree = static_tree && static_tree.length;
    }
    var static_l_desc;
    var static_d_desc;
    var static_bl_desc;
    function TreeDesc(dyn_tree, stat_desc) {
      this.dyn_tree = dyn_tree;
      this.max_code = 0;
      this.stat_desc = stat_desc;
    }
    function d_code(dist) {
      return dist < 256 ? _dist_code[dist] : _dist_code[256 + (dist >>> 7)];
    }
    function put_short(s3, w2) {
      s3.pending_buf[s3.pending++] = w2 & 255;
      s3.pending_buf[s3.pending++] = w2 >>> 8 & 255;
    }
    function send_bits(s3, value, length) {
      if (s3.bi_valid > Buf_size - length) {
        s3.bi_buf |= value << s3.bi_valid & 65535;
        put_short(s3, s3.bi_buf);
        s3.bi_buf = value >> Buf_size - s3.bi_valid;
        s3.bi_valid += length - Buf_size;
      } else {
        s3.bi_buf |= value << s3.bi_valid & 65535;
        s3.bi_valid += length;
      }
    }
    function send_code(s3, c3, tree) {
      send_bits(s3, tree[c3 * 2], tree[c3 * 2 + 1]);
    }
    function bi_reverse(code, len) {
      var res = 0;
      do {
        res |= code & 1;
        code >>>= 1;
        res <<= 1;
      } while (--len > 0);
      return res >>> 1;
    }
    function bi_flush(s3) {
      if (s3.bi_valid === 16) {
        put_short(s3, s3.bi_buf);
        s3.bi_buf = 0;
        s3.bi_valid = 0;
      } else if (s3.bi_valid >= 8) {
        s3.pending_buf[s3.pending++] = s3.bi_buf & 255;
        s3.bi_buf >>= 8;
        s3.bi_valid -= 8;
      }
    }
    function gen_bitlen(s3, desc) {
      var tree = desc.dyn_tree;
      var max_code = desc.max_code;
      var stree = desc.stat_desc.static_tree;
      var has_stree = desc.stat_desc.has_stree;
      var extra = desc.stat_desc.extra_bits;
      var base = desc.stat_desc.extra_base;
      var max_length = desc.stat_desc.max_length;
      var h3;
      var n3, m2;
      var bits;
      var xbits;
      var f3;
      var overflow = 0;
      for (bits = 0; bits <= MAX_BITS; bits++) {
        s3.bl_count[bits] = 0;
      }
      tree[s3.heap[s3.heap_max] * 2 + 1] = 0;
      for (h3 = s3.heap_max + 1; h3 < HEAP_SIZE; h3++) {
        n3 = s3.heap[h3];
        bits = tree[tree[n3 * 2 + 1] * 2 + 1] + 1;
        if (bits > max_length) {
          bits = max_length;
          overflow++;
        }
        tree[n3 * 2 + 1] = bits;
        if (n3 > max_code) {
          continue;
        }
        s3.bl_count[bits]++;
        xbits = 0;
        if (n3 >= base) {
          xbits = extra[n3 - base];
        }
        f3 = tree[n3 * 2];
        s3.opt_len += f3 * (bits + xbits);
        if (has_stree) {
          s3.static_len += f3 * (stree[n3 * 2 + 1] + xbits);
        }
      }
      if (overflow === 0) {
        return;
      }
      do {
        bits = max_length - 1;
        while (s3.bl_count[bits] === 0) {
          bits--;
        }
        s3.bl_count[bits]--;
        s3.bl_count[bits + 1] += 2;
        s3.bl_count[max_length]--;
        overflow -= 2;
      } while (overflow > 0);
      for (bits = max_length; bits !== 0; bits--) {
        n3 = s3.bl_count[bits];
        while (n3 !== 0) {
          m2 = s3.heap[--h3];
          if (m2 > max_code) {
            continue;
          }
          if (tree[m2 * 2 + 1] !== bits) {
            s3.opt_len += (bits - tree[m2 * 2 + 1]) * tree[m2 * 2];
            tree[m2 * 2 + 1] = bits;
          }
          n3--;
        }
      }
    }
    function gen_codes(tree, max_code, bl_count) {
      var next_code = new Array(MAX_BITS + 1);
      var code = 0;
      var bits;
      var n3;
      for (bits = 1; bits <= MAX_BITS; bits++) {
        next_code[bits] = code = code + bl_count[bits - 1] << 1;
      }
      for (n3 = 0; n3 <= max_code; n3++) {
        var len = tree[n3 * 2 + 1];
        if (len === 0) {
          continue;
        }
        tree[n3 * 2] = bi_reverse(next_code[len]++, len);
      }
    }
    function tr_static_init() {
      var n3;
      var bits;
      var length;
      var code;
      var dist;
      var bl_count = new Array(MAX_BITS + 1);
      length = 0;
      for (code = 0; code < LENGTH_CODES - 1; code++) {
        base_length[code] = length;
        for (n3 = 0; n3 < 1 << extra_lbits[code]; n3++) {
          _length_code[length++] = code;
        }
      }
      _length_code[length - 1] = code;
      dist = 0;
      for (code = 0; code < 16; code++) {
        base_dist[code] = dist;
        for (n3 = 0; n3 < 1 << extra_dbits[code]; n3++) {
          _dist_code[dist++] = code;
        }
      }
      dist >>= 7;
      for (; code < D_CODES; code++) {
        base_dist[code] = dist << 7;
        for (n3 = 0; n3 < 1 << extra_dbits[code] - 7; n3++) {
          _dist_code[256 + dist++] = code;
        }
      }
      for (bits = 0; bits <= MAX_BITS; bits++) {
        bl_count[bits] = 0;
      }
      n3 = 0;
      while (n3 <= 143) {
        static_ltree[n3 * 2 + 1] = 8;
        n3++;
        bl_count[8]++;
      }
      while (n3 <= 255) {
        static_ltree[n3 * 2 + 1] = 9;
        n3++;
        bl_count[9]++;
      }
      while (n3 <= 279) {
        static_ltree[n3 * 2 + 1] = 7;
        n3++;
        bl_count[7]++;
      }
      while (n3 <= 287) {
        static_ltree[n3 * 2 + 1] = 8;
        n3++;
        bl_count[8]++;
      }
      gen_codes(static_ltree, L_CODES + 1, bl_count);
      for (n3 = 0; n3 < D_CODES; n3++) {
        static_dtree[n3 * 2 + 1] = 5;
        static_dtree[n3 * 2] = bi_reverse(n3, 5);
      }
      static_l_desc = new StaticTreeDesc(static_ltree, extra_lbits, LITERALS + 1, L_CODES, MAX_BITS);
      static_d_desc = new StaticTreeDesc(static_dtree, extra_dbits, 0, D_CODES, MAX_BITS);
      static_bl_desc = new StaticTreeDesc(new Array(0), extra_blbits, 0, BL_CODES, MAX_BL_BITS);
    }
    function init_block(s3) {
      var n3;
      for (n3 = 0; n3 < L_CODES; n3++) {
        s3.dyn_ltree[n3 * 2] = 0;
      }
      for (n3 = 0; n3 < D_CODES; n3++) {
        s3.dyn_dtree[n3 * 2] = 0;
      }
      for (n3 = 0; n3 < BL_CODES; n3++) {
        s3.bl_tree[n3 * 2] = 0;
      }
      s3.dyn_ltree[END_BLOCK * 2] = 1;
      s3.opt_len = s3.static_len = 0;
      s3.last_lit = s3.matches = 0;
    }
    function bi_windup(s3) {
      if (s3.bi_valid > 8) {
        put_short(s3, s3.bi_buf);
      } else if (s3.bi_valid > 0) {
        s3.pending_buf[s3.pending++] = s3.bi_buf;
      }
      s3.bi_buf = 0;
      s3.bi_valid = 0;
    }
    function copy_block(s3, buf, len, header) {
      bi_windup(s3);
      if (header) {
        put_short(s3, len);
        put_short(s3, ~len);
      }
      utils.arraySet(s3.pending_buf, s3.window, buf, len, s3.pending);
      s3.pending += len;
    }
    function smaller(tree, n3, m2, depth) {
      var _n2 = n3 * 2;
      var _m2 = m2 * 2;
      return tree[_n2] < tree[_m2] || tree[_n2] === tree[_m2] && depth[n3] <= depth[m2];
    }
    function pqdownheap(s3, tree, k2) {
      var v3 = s3.heap[k2];
      var j2 = k2 << 1;
      while (j2 <= s3.heap_len) {
        if (j2 < s3.heap_len && smaller(tree, s3.heap[j2 + 1], s3.heap[j2], s3.depth)) {
          j2++;
        }
        if (smaller(tree, v3, s3.heap[j2], s3.depth)) {
          break;
        }
        s3.heap[k2] = s3.heap[j2];
        k2 = j2;
        j2 <<= 1;
      }
      s3.heap[k2] = v3;
    }
    function compress_block(s3, ltree, dtree) {
      var dist;
      var lc;
      var lx = 0;
      var code;
      var extra;
      if (s3.last_lit !== 0) {
        do {
          dist = s3.pending_buf[s3.d_buf + lx * 2] << 8 | s3.pending_buf[s3.d_buf + lx * 2 + 1];
          lc = s3.pending_buf[s3.l_buf + lx];
          lx++;
          if (dist === 0) {
            send_code(s3, lc, ltree);
          } else {
            code = _length_code[lc];
            send_code(s3, code + LITERALS + 1, ltree);
            extra = extra_lbits[code];
            if (extra !== 0) {
              lc -= base_length[code];
              send_bits(s3, lc, extra);
            }
            dist--;
            code = d_code(dist);
            send_code(s3, code, dtree);
            extra = extra_dbits[code];
            if (extra !== 0) {
              dist -= base_dist[code];
              send_bits(s3, dist, extra);
            }
          }
        } while (lx < s3.last_lit);
      }
      send_code(s3, END_BLOCK, ltree);
    }
    function build_tree(s3, desc) {
      var tree = desc.dyn_tree;
      var stree = desc.stat_desc.static_tree;
      var has_stree = desc.stat_desc.has_stree;
      var elems = desc.stat_desc.elems;
      var n3, m2;
      var max_code = -1;
      var node;
      s3.heap_len = 0;
      s3.heap_max = HEAP_SIZE;
      for (n3 = 0; n3 < elems; n3++) {
        if (tree[n3 * 2] !== 0) {
          s3.heap[++s3.heap_len] = max_code = n3;
          s3.depth[n3] = 0;
        } else {
          tree[n3 * 2 + 1] = 0;
        }
      }
      while (s3.heap_len < 2) {
        node = s3.heap[++s3.heap_len] = max_code < 2 ? ++max_code : 0;
        tree[node * 2] = 1;
        s3.depth[node] = 0;
        s3.opt_len--;
        if (has_stree) {
          s3.static_len -= stree[node * 2 + 1];
        }
      }
      desc.max_code = max_code;
      for (n3 = s3.heap_len >> 1; n3 >= 1; n3--) {
        pqdownheap(s3, tree, n3);
      }
      node = elems;
      do {
        n3 = s3.heap[1];
        s3.heap[1] = s3.heap[s3.heap_len--];
        pqdownheap(s3, tree, 1);
        m2 = s3.heap[1];
        s3.heap[--s3.heap_max] = n3;
        s3.heap[--s3.heap_max] = m2;
        tree[node * 2] = tree[n3 * 2] + tree[m2 * 2];
        s3.depth[node] = (s3.depth[n3] >= s3.depth[m2] ? s3.depth[n3] : s3.depth[m2]) + 1;
        tree[n3 * 2 + 1] = tree[m2 * 2 + 1] = node;
        s3.heap[1] = node++;
        pqdownheap(s3, tree, 1);
      } while (s3.heap_len >= 2);
      s3.heap[--s3.heap_max] = s3.heap[1];
      gen_bitlen(s3, desc);
      gen_codes(tree, max_code, s3.bl_count);
    }
    function scan_tree(s3, tree, max_code) {
      var n3;
      var prevlen = -1;
      var curlen;
      var nextlen = tree[0 * 2 + 1];
      var count = 0;
      var max_count = 7;
      var min_count = 4;
      if (nextlen === 0) {
        max_count = 138;
        min_count = 3;
      }
      tree[(max_code + 1) * 2 + 1] = 65535;
      for (n3 = 0; n3 <= max_code; n3++) {
        curlen = nextlen;
        nextlen = tree[(n3 + 1) * 2 + 1];
        if (++count < max_count && curlen === nextlen) {
          continue;
        } else if (count < min_count) {
          s3.bl_tree[curlen * 2] += count;
        } else if (curlen !== 0) {
          if (curlen !== prevlen) {
            s3.bl_tree[curlen * 2]++;
          }
          s3.bl_tree[REP_3_6 * 2]++;
        } else if (count <= 10) {
          s3.bl_tree[REPZ_3_10 * 2]++;
        } else {
          s3.bl_tree[REPZ_11_138 * 2]++;
        }
        count = 0;
        prevlen = curlen;
        if (nextlen === 0) {
          max_count = 138;
          min_count = 3;
        } else if (curlen === nextlen) {
          max_count = 6;
          min_count = 3;
        } else {
          max_count = 7;
          min_count = 4;
        }
      }
    }
    function send_tree(s3, tree, max_code) {
      var n3;
      var prevlen = -1;
      var curlen;
      var nextlen = tree[0 * 2 + 1];
      var count = 0;
      var max_count = 7;
      var min_count = 4;
      if (nextlen === 0) {
        max_count = 138;
        min_count = 3;
      }
      for (n3 = 0; n3 <= max_code; n3++) {
        curlen = nextlen;
        nextlen = tree[(n3 + 1) * 2 + 1];
        if (++count < max_count && curlen === nextlen) {
          continue;
        } else if (count < min_count) {
          do {
            send_code(s3, curlen, s3.bl_tree);
          } while (--count !== 0);
        } else if (curlen !== 0) {
          if (curlen !== prevlen) {
            send_code(s3, curlen, s3.bl_tree);
            count--;
          }
          send_code(s3, REP_3_6, s3.bl_tree);
          send_bits(s3, count - 3, 2);
        } else if (count <= 10) {
          send_code(s3, REPZ_3_10, s3.bl_tree);
          send_bits(s3, count - 3, 3);
        } else {
          send_code(s3, REPZ_11_138, s3.bl_tree);
          send_bits(s3, count - 11, 7);
        }
        count = 0;
        prevlen = curlen;
        if (nextlen === 0) {
          max_count = 138;
          min_count = 3;
        } else if (curlen === nextlen) {
          max_count = 6;
          min_count = 3;
        } else {
          max_count = 7;
          min_count = 4;
        }
      }
    }
    function build_bl_tree(s3) {
      var max_blindex;
      scan_tree(s3, s3.dyn_ltree, s3.l_desc.max_code);
      scan_tree(s3, s3.dyn_dtree, s3.d_desc.max_code);
      build_tree(s3, s3.bl_desc);
      for (max_blindex = BL_CODES - 1; max_blindex >= 3; max_blindex--) {
        if (s3.bl_tree[bl_order[max_blindex] * 2 + 1] !== 0) {
          break;
        }
      }
      s3.opt_len += 3 * (max_blindex + 1) + 5 + 5 + 4;
      return max_blindex;
    }
    function send_all_trees(s3, lcodes, dcodes, blcodes) {
      var rank;
      send_bits(s3, lcodes - 257, 5);
      send_bits(s3, dcodes - 1, 5);
      send_bits(s3, blcodes - 4, 4);
      for (rank = 0; rank < blcodes; rank++) {
        send_bits(s3, s3.bl_tree[bl_order[rank] * 2 + 1], 3);
      }
      send_tree(s3, s3.dyn_ltree, lcodes - 1);
      send_tree(s3, s3.dyn_dtree, dcodes - 1);
    }
    function detect_data_type(s3) {
      var black_mask = 4093624447;
      var n3;
      for (n3 = 0; n3 <= 31; n3++, black_mask >>>= 1) {
        if (black_mask & 1 && s3.dyn_ltree[n3 * 2] !== 0) {
          return Z_BINARY;
        }
      }
      if (s3.dyn_ltree[9 * 2] !== 0 || s3.dyn_ltree[10 * 2] !== 0 || s3.dyn_ltree[13 * 2] !== 0) {
        return Z_TEXT;
      }
      for (n3 = 32; n3 < LITERALS; n3++) {
        if (s3.dyn_ltree[n3 * 2] !== 0) {
          return Z_TEXT;
        }
      }
      return Z_BINARY;
    }
    var static_init_done = false;
    function _tr_init(s3) {
      if (!static_init_done) {
        tr_static_init();
        static_init_done = true;
      }
      s3.l_desc = new TreeDesc(s3.dyn_ltree, static_l_desc);
      s3.d_desc = new TreeDesc(s3.dyn_dtree, static_d_desc);
      s3.bl_desc = new TreeDesc(s3.bl_tree, static_bl_desc);
      s3.bi_buf = 0;
      s3.bi_valid = 0;
      init_block(s3);
    }
    function _tr_stored_block(s3, buf, stored_len, last) {
      send_bits(s3, (STORED_BLOCK << 1) + (last ? 1 : 0), 3);
      copy_block(s3, buf, stored_len, true);
    }
    function _tr_align(s3) {
      send_bits(s3, STATIC_TREES << 1, 3);
      send_code(s3, END_BLOCK, static_ltree);
      bi_flush(s3);
    }
    function _tr_flush_block(s3, buf, stored_len, last) {
      var opt_lenb, static_lenb;
      var max_blindex = 0;
      if (s3.level > 0) {
        if (s3.strm.data_type === Z_UNKNOWN) {
          s3.strm.data_type = detect_data_type(s3);
        }
        build_tree(s3, s3.l_desc);
        build_tree(s3, s3.d_desc);
        max_blindex = build_bl_tree(s3);
        opt_lenb = s3.opt_len + 3 + 7 >>> 3;
        static_lenb = s3.static_len + 3 + 7 >>> 3;
        if (static_lenb <= opt_lenb) {
          opt_lenb = static_lenb;
        }
      } else {
        opt_lenb = static_lenb = stored_len + 5;
      }
      if (stored_len + 4 <= opt_lenb && buf !== -1) {
        _tr_stored_block(s3, buf, stored_len, last);
      } else if (s3.strategy === Z_FIXED || static_lenb === opt_lenb) {
        send_bits(s3, (STATIC_TREES << 1) + (last ? 1 : 0), 3);
        compress_block(s3, static_ltree, static_dtree);
      } else {
        send_bits(s3, (DYN_TREES << 1) + (last ? 1 : 0), 3);
        send_all_trees(s3, s3.l_desc.max_code + 1, s3.d_desc.max_code + 1, max_blindex + 1);
        compress_block(s3, s3.dyn_ltree, s3.dyn_dtree);
      }
      init_block(s3);
      if (last) {
        bi_windup(s3);
      }
    }
    function _tr_tally(s3, dist, lc) {
      s3.pending_buf[s3.d_buf + s3.last_lit * 2] = dist >>> 8 & 255;
      s3.pending_buf[s3.d_buf + s3.last_lit * 2 + 1] = dist & 255;
      s3.pending_buf[s3.l_buf + s3.last_lit] = lc & 255;
      s3.last_lit++;
      if (dist === 0) {
        s3.dyn_ltree[lc * 2]++;
      } else {
        s3.matches++;
        dist--;
        s3.dyn_ltree[(_length_code[lc] + LITERALS + 1) * 2]++;
        s3.dyn_dtree[d_code(dist) * 2]++;
      }
      return s3.last_lit === s3.lit_bufsize - 1;
    }
    exports._tr_init = _tr_init;
    exports._tr_stored_block = _tr_stored_block;
    exports._tr_flush_block = _tr_flush_block;
    exports._tr_tally = _tr_tally;
    exports._tr_align = _tr_align;
  });

  // node_modules/pako/lib/zlib/adler32.js
  var require_adler32 = __commonJS((exports, module) => {
    "use strict";
    function adler32(adler, buf, len, pos) {
      var s1 = adler & 65535 | 0, s22 = adler >>> 16 & 65535 | 0, n3 = 0;
      while (len !== 0) {
        n3 = len > 2e3 ? 2e3 : len;
        len -= n3;
        do {
          s1 = s1 + buf[pos++] | 0;
          s22 = s22 + s1 | 0;
        } while (--n3);
        s1 %= 65521;
        s22 %= 65521;
      }
      return s1 | s22 << 16 | 0;
    }
    module.exports = adler32;
  });

  // node_modules/pako/lib/zlib/crc32.js
  var require_crc32 = __commonJS((exports, module) => {
    "use strict";
    function makeTable() {
      var c3, table = [];
      for (var n3 = 0; n3 < 256; n3++) {
        c3 = n3;
        for (var k2 = 0; k2 < 8; k2++) {
          c3 = c3 & 1 ? 3988292384 ^ c3 >>> 1 : c3 >>> 1;
        }
        table[n3] = c3;
      }
      return table;
    }
    var crcTable = makeTable();
    function crc32(crc, buf, len, pos) {
      var t2 = crcTable, end = pos + len;
      crc ^= -1;
      for (var i3 = pos; i3 < end; i3++) {
        crc = crc >>> 8 ^ t2[(crc ^ buf[i3]) & 255];
      }
      return crc ^ -1;
    }
    module.exports = crc32;
  });

  // node_modules/pako/lib/zlib/messages.js
  var require_messages = __commonJS((exports, module) => {
    "use strict";
    module.exports = {
      2: "need dictionary",
      1: "stream end",
      0: "",
      "-1": "file error",
      "-2": "stream error",
      "-3": "data error",
      "-4": "insufficient memory",
      "-5": "buffer error",
      "-6": "incompatible version"
    };
  });

  // node_modules/pako/lib/zlib/deflate.js
  var require_deflate2 = __commonJS((exports) => {
    "use strict";
    var utils = require_common();
    var trees = require_trees();
    var adler32 = require_adler32();
    var crc32 = require_crc32();
    var msg = require_messages();
    var Z_NO_FLUSH = 0;
    var Z_PARTIAL_FLUSH = 1;
    var Z_FULL_FLUSH = 3;
    var Z_FINISH = 4;
    var Z_BLOCK = 5;
    var Z_OK = 0;
    var Z_STREAM_END = 1;
    var Z_STREAM_ERROR = -2;
    var Z_DATA_ERROR = -3;
    var Z_BUF_ERROR = -5;
    var Z_DEFAULT_COMPRESSION = -1;
    var Z_FILTERED = 1;
    var Z_HUFFMAN_ONLY = 2;
    var Z_RLE = 3;
    var Z_FIXED = 4;
    var Z_DEFAULT_STRATEGY = 0;
    var Z_UNKNOWN = 2;
    var Z_DEFLATED = 8;
    var MAX_MEM_LEVEL = 9;
    var MAX_WBITS = 15;
    var DEF_MEM_LEVEL = 8;
    var LENGTH_CODES = 29;
    var LITERALS = 256;
    var L_CODES = LITERALS + 1 + LENGTH_CODES;
    var D_CODES = 30;
    var BL_CODES = 19;
    var HEAP_SIZE = 2 * L_CODES + 1;
    var MAX_BITS = 15;
    var MIN_MATCH = 3;
    var MAX_MATCH = 258;
    var MIN_LOOKAHEAD = MAX_MATCH + MIN_MATCH + 1;
    var PRESET_DICT = 32;
    var INIT_STATE = 42;
    var EXTRA_STATE = 69;
    var NAME_STATE = 73;
    var COMMENT_STATE = 91;
    var HCRC_STATE = 103;
    var BUSY_STATE = 113;
    var FINISH_STATE = 666;
    var BS_NEED_MORE = 1;
    var BS_BLOCK_DONE = 2;
    var BS_FINISH_STARTED = 3;
    var BS_FINISH_DONE = 4;
    var OS_CODE = 3;
    function err(strm, errorCode) {
      strm.msg = msg[errorCode];
      return errorCode;
    }
    function rank(f3) {
      return (f3 << 1) - (f3 > 4 ? 9 : 0);
    }
    function zero(buf) {
      var len = buf.length;
      while (--len >= 0) {
        buf[len] = 0;
      }
    }
    function flush_pending(strm) {
      var s3 = strm.state;
      var len = s3.pending;
      if (len > strm.avail_out) {
        len = strm.avail_out;
      }
      if (len === 0) {
        return;
      }
      utils.arraySet(strm.output, s3.pending_buf, s3.pending_out, len, strm.next_out);
      strm.next_out += len;
      s3.pending_out += len;
      strm.total_out += len;
      strm.avail_out -= len;
      s3.pending -= len;
      if (s3.pending === 0) {
        s3.pending_out = 0;
      }
    }
    function flush_block_only(s3, last) {
      trees._tr_flush_block(s3, s3.block_start >= 0 ? s3.block_start : -1, s3.strstart - s3.block_start, last);
      s3.block_start = s3.strstart;
      flush_pending(s3.strm);
    }
    function put_byte(s3, b2) {
      s3.pending_buf[s3.pending++] = b2;
    }
    function putShortMSB(s3, b2) {
      s3.pending_buf[s3.pending++] = b2 >>> 8 & 255;
      s3.pending_buf[s3.pending++] = b2 & 255;
    }
    function read_buf(strm, buf, start, size) {
      var len = strm.avail_in;
      if (len > size) {
        len = size;
      }
      if (len === 0) {
        return 0;
      }
      strm.avail_in -= len;
      utils.arraySet(buf, strm.input, strm.next_in, len, start);
      if (strm.state.wrap === 1) {
        strm.adler = adler32(strm.adler, buf, len, start);
      } else if (strm.state.wrap === 2) {
        strm.adler = crc32(strm.adler, buf, len, start);
      }
      strm.next_in += len;
      strm.total_in += len;
      return len;
    }
    function longest_match(s3, cur_match) {
      var chain_length = s3.max_chain_length;
      var scan = s3.strstart;
      var match;
      var len;
      var best_len = s3.prev_length;
      var nice_match = s3.nice_match;
      var limit = s3.strstart > s3.w_size - MIN_LOOKAHEAD ? s3.strstart - (s3.w_size - MIN_LOOKAHEAD) : 0;
      var _win = s3.window;
      var wmask = s3.w_mask;
      var prev = s3.prev;
      var strend = s3.strstart + MAX_MATCH;
      var scan_end1 = _win[scan + best_len - 1];
      var scan_end = _win[scan + best_len];
      if (s3.prev_length >= s3.good_match) {
        chain_length >>= 2;
      }
      if (nice_match > s3.lookahead) {
        nice_match = s3.lookahead;
      }
      do {
        match = cur_match;
        if (_win[match + best_len] !== scan_end || _win[match + best_len - 1] !== scan_end1 || _win[match] !== _win[scan] || _win[++match] !== _win[scan + 1]) {
          continue;
        }
        scan += 2;
        match++;
        do {
        } while (_win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && scan < strend);
        len = MAX_MATCH - (strend - scan);
        scan = strend - MAX_MATCH;
        if (len > best_len) {
          s3.match_start = cur_match;
          best_len = len;
          if (len >= nice_match) {
            break;
          }
          scan_end1 = _win[scan + best_len - 1];
          scan_end = _win[scan + best_len];
        }
      } while ((cur_match = prev[cur_match & wmask]) > limit && --chain_length !== 0);
      if (best_len <= s3.lookahead) {
        return best_len;
      }
      return s3.lookahead;
    }
    function fill_window(s3) {
      var _w_size = s3.w_size;
      var p3, n3, m2, more, str;
      do {
        more = s3.window_size - s3.lookahead - s3.strstart;
        if (s3.strstart >= _w_size + (_w_size - MIN_LOOKAHEAD)) {
          utils.arraySet(s3.window, s3.window, _w_size, _w_size, 0);
          s3.match_start -= _w_size;
          s3.strstart -= _w_size;
          s3.block_start -= _w_size;
          n3 = s3.hash_size;
          p3 = n3;
          do {
            m2 = s3.head[--p3];
            s3.head[p3] = m2 >= _w_size ? m2 - _w_size : 0;
          } while (--n3);
          n3 = _w_size;
          p3 = n3;
          do {
            m2 = s3.prev[--p3];
            s3.prev[p3] = m2 >= _w_size ? m2 - _w_size : 0;
          } while (--n3);
          more += _w_size;
        }
        if (s3.strm.avail_in === 0) {
          break;
        }
        n3 = read_buf(s3.strm, s3.window, s3.strstart + s3.lookahead, more);
        s3.lookahead += n3;
        if (s3.lookahead + s3.insert >= MIN_MATCH) {
          str = s3.strstart - s3.insert;
          s3.ins_h = s3.window[str];
          s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[str + 1]) & s3.hash_mask;
          while (s3.insert) {
            s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[str + MIN_MATCH - 1]) & s3.hash_mask;
            s3.prev[str & s3.w_mask] = s3.head[s3.ins_h];
            s3.head[s3.ins_h] = str;
            str++;
            s3.insert--;
            if (s3.lookahead + s3.insert < MIN_MATCH) {
              break;
            }
          }
        }
      } while (s3.lookahead < MIN_LOOKAHEAD && s3.strm.avail_in !== 0);
    }
    function deflate_stored(s3, flush) {
      var max_block_size = 65535;
      if (max_block_size > s3.pending_buf_size - 5) {
        max_block_size = s3.pending_buf_size - 5;
      }
      for (; ; ) {
        if (s3.lookahead <= 1) {
          fill_window(s3);
          if (s3.lookahead === 0 && flush === Z_NO_FLUSH) {
            return BS_NEED_MORE;
          }
          if (s3.lookahead === 0) {
            break;
          }
        }
        s3.strstart += s3.lookahead;
        s3.lookahead = 0;
        var max_start = s3.block_start + max_block_size;
        if (s3.strstart === 0 || s3.strstart >= max_start) {
          s3.lookahead = s3.strstart - max_start;
          s3.strstart = max_start;
          flush_block_only(s3, false);
          if (s3.strm.avail_out === 0) {
            return BS_NEED_MORE;
          }
        }
        if (s3.strstart - s3.block_start >= s3.w_size - MIN_LOOKAHEAD) {
          flush_block_only(s3, false);
          if (s3.strm.avail_out === 0) {
            return BS_NEED_MORE;
          }
        }
      }
      s3.insert = 0;
      if (flush === Z_FINISH) {
        flush_block_only(s3, true);
        if (s3.strm.avail_out === 0) {
          return BS_FINISH_STARTED;
        }
        return BS_FINISH_DONE;
      }
      if (s3.strstart > s3.block_start) {
        flush_block_only(s3, false);
        if (s3.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
      }
      return BS_NEED_MORE;
    }
    function deflate_fast(s3, flush) {
      var hash_head;
      var bflush;
      for (; ; ) {
        if (s3.lookahead < MIN_LOOKAHEAD) {
          fill_window(s3);
          if (s3.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {
            return BS_NEED_MORE;
          }
          if (s3.lookahead === 0) {
            break;
          }
        }
        hash_head = 0;
        if (s3.lookahead >= MIN_MATCH) {
          s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[s3.strstart + MIN_MATCH - 1]) & s3.hash_mask;
          hash_head = s3.prev[s3.strstart & s3.w_mask] = s3.head[s3.ins_h];
          s3.head[s3.ins_h] = s3.strstart;
        }
        if (hash_head !== 0 && s3.strstart - hash_head <= s3.w_size - MIN_LOOKAHEAD) {
          s3.match_length = longest_match(s3, hash_head);
        }
        if (s3.match_length >= MIN_MATCH) {
          bflush = trees._tr_tally(s3, s3.strstart - s3.match_start, s3.match_length - MIN_MATCH);
          s3.lookahead -= s3.match_length;
          if (s3.match_length <= s3.max_lazy_match && s3.lookahead >= MIN_MATCH) {
            s3.match_length--;
            do {
              s3.strstart++;
              s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[s3.strstart + MIN_MATCH - 1]) & s3.hash_mask;
              hash_head = s3.prev[s3.strstart & s3.w_mask] = s3.head[s3.ins_h];
              s3.head[s3.ins_h] = s3.strstart;
            } while (--s3.match_length !== 0);
            s3.strstart++;
          } else {
            s3.strstart += s3.match_length;
            s3.match_length = 0;
            s3.ins_h = s3.window[s3.strstart];
            s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[s3.strstart + 1]) & s3.hash_mask;
          }
        } else {
          bflush = trees._tr_tally(s3, 0, s3.window[s3.strstart]);
          s3.lookahead--;
          s3.strstart++;
        }
        if (bflush) {
          flush_block_only(s3, false);
          if (s3.strm.avail_out === 0) {
            return BS_NEED_MORE;
          }
        }
      }
      s3.insert = s3.strstart < MIN_MATCH - 1 ? s3.strstart : MIN_MATCH - 1;
      if (flush === Z_FINISH) {
        flush_block_only(s3, true);
        if (s3.strm.avail_out === 0) {
          return BS_FINISH_STARTED;
        }
        return BS_FINISH_DONE;
      }
      if (s3.last_lit) {
        flush_block_only(s3, false);
        if (s3.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
      }
      return BS_BLOCK_DONE;
    }
    function deflate_slow(s3, flush) {
      var hash_head;
      var bflush;
      var max_insert;
      for (; ; ) {
        if (s3.lookahead < MIN_LOOKAHEAD) {
          fill_window(s3);
          if (s3.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {
            return BS_NEED_MORE;
          }
          if (s3.lookahead === 0) {
            break;
          }
        }
        hash_head = 0;
        if (s3.lookahead >= MIN_MATCH) {
          s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[s3.strstart + MIN_MATCH - 1]) & s3.hash_mask;
          hash_head = s3.prev[s3.strstart & s3.w_mask] = s3.head[s3.ins_h];
          s3.head[s3.ins_h] = s3.strstart;
        }
        s3.prev_length = s3.match_length;
        s3.prev_match = s3.match_start;
        s3.match_length = MIN_MATCH - 1;
        if (hash_head !== 0 && s3.prev_length < s3.max_lazy_match && s3.strstart - hash_head <= s3.w_size - MIN_LOOKAHEAD) {
          s3.match_length = longest_match(s3, hash_head);
          if (s3.match_length <= 5 && (s3.strategy === Z_FILTERED || s3.match_length === MIN_MATCH && s3.strstart - s3.match_start > 4096)) {
            s3.match_length = MIN_MATCH - 1;
          }
        }
        if (s3.prev_length >= MIN_MATCH && s3.match_length <= s3.prev_length) {
          max_insert = s3.strstart + s3.lookahead - MIN_MATCH;
          bflush = trees._tr_tally(s3, s3.strstart - 1 - s3.prev_match, s3.prev_length - MIN_MATCH);
          s3.lookahead -= s3.prev_length - 1;
          s3.prev_length -= 2;
          do {
            if (++s3.strstart <= max_insert) {
              s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[s3.strstart + MIN_MATCH - 1]) & s3.hash_mask;
              hash_head = s3.prev[s3.strstart & s3.w_mask] = s3.head[s3.ins_h];
              s3.head[s3.ins_h] = s3.strstart;
            }
          } while (--s3.prev_length !== 0);
          s3.match_available = 0;
          s3.match_length = MIN_MATCH - 1;
          s3.strstart++;
          if (bflush) {
            flush_block_only(s3, false);
            if (s3.strm.avail_out === 0) {
              return BS_NEED_MORE;
            }
          }
        } else if (s3.match_available) {
          bflush = trees._tr_tally(s3, 0, s3.window[s3.strstart - 1]);
          if (bflush) {
            flush_block_only(s3, false);
          }
          s3.strstart++;
          s3.lookahead--;
          if (s3.strm.avail_out === 0) {
            return BS_NEED_MORE;
          }
        } else {
          s3.match_available = 1;
          s3.strstart++;
          s3.lookahead--;
        }
      }
      if (s3.match_available) {
        bflush = trees._tr_tally(s3, 0, s3.window[s3.strstart - 1]);
        s3.match_available = 0;
      }
      s3.insert = s3.strstart < MIN_MATCH - 1 ? s3.strstart : MIN_MATCH - 1;
      if (flush === Z_FINISH) {
        flush_block_only(s3, true);
        if (s3.strm.avail_out === 0) {
          return BS_FINISH_STARTED;
        }
        return BS_FINISH_DONE;
      }
      if (s3.last_lit) {
        flush_block_only(s3, false);
        if (s3.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
      }
      return BS_BLOCK_DONE;
    }
    function deflate_rle(s3, flush) {
      var bflush;
      var prev;
      var scan, strend;
      var _win = s3.window;
      for (; ; ) {
        if (s3.lookahead <= MAX_MATCH) {
          fill_window(s3);
          if (s3.lookahead <= MAX_MATCH && flush === Z_NO_FLUSH) {
            return BS_NEED_MORE;
          }
          if (s3.lookahead === 0) {
            break;
          }
        }
        s3.match_length = 0;
        if (s3.lookahead >= MIN_MATCH && s3.strstart > 0) {
          scan = s3.strstart - 1;
          prev = _win[scan];
          if (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan]) {
            strend = s3.strstart + MAX_MATCH;
            do {
            } while (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && scan < strend);
            s3.match_length = MAX_MATCH - (strend - scan);
            if (s3.match_length > s3.lookahead) {
              s3.match_length = s3.lookahead;
            }
          }
        }
        if (s3.match_length >= MIN_MATCH) {
          bflush = trees._tr_tally(s3, 1, s3.match_length - MIN_MATCH);
          s3.lookahead -= s3.match_length;
          s3.strstart += s3.match_length;
          s3.match_length = 0;
        } else {
          bflush = trees._tr_tally(s3, 0, s3.window[s3.strstart]);
          s3.lookahead--;
          s3.strstart++;
        }
        if (bflush) {
          flush_block_only(s3, false);
          if (s3.strm.avail_out === 0) {
            return BS_NEED_MORE;
          }
        }
      }
      s3.insert = 0;
      if (flush === Z_FINISH) {
        flush_block_only(s3, true);
        if (s3.strm.avail_out === 0) {
          return BS_FINISH_STARTED;
        }
        return BS_FINISH_DONE;
      }
      if (s3.last_lit) {
        flush_block_only(s3, false);
        if (s3.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
      }
      return BS_BLOCK_DONE;
    }
    function deflate_huff(s3, flush) {
      var bflush;
      for (; ; ) {
        if (s3.lookahead === 0) {
          fill_window(s3);
          if (s3.lookahead === 0) {
            if (flush === Z_NO_FLUSH) {
              return BS_NEED_MORE;
            }
            break;
          }
        }
        s3.match_length = 0;
        bflush = trees._tr_tally(s3, 0, s3.window[s3.strstart]);
        s3.lookahead--;
        s3.strstart++;
        if (bflush) {
          flush_block_only(s3, false);
          if (s3.strm.avail_out === 0) {
            return BS_NEED_MORE;
          }
        }
      }
      s3.insert = 0;
      if (flush === Z_FINISH) {
        flush_block_only(s3, true);
        if (s3.strm.avail_out === 0) {
          return BS_FINISH_STARTED;
        }
        return BS_FINISH_DONE;
      }
      if (s3.last_lit) {
        flush_block_only(s3, false);
        if (s3.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
      }
      return BS_BLOCK_DONE;
    }
    function Config(good_length, max_lazy, nice_length, max_chain, func) {
      this.good_length = good_length;
      this.max_lazy = max_lazy;
      this.nice_length = nice_length;
      this.max_chain = max_chain;
      this.func = func;
    }
    var configuration_table;
    configuration_table = [
      new Config(0, 0, 0, 0, deflate_stored),
      new Config(4, 4, 8, 4, deflate_fast),
      new Config(4, 5, 16, 8, deflate_fast),
      new Config(4, 6, 32, 32, deflate_fast),
      new Config(4, 4, 16, 16, deflate_slow),
      new Config(8, 16, 32, 32, deflate_slow),
      new Config(8, 16, 128, 128, deflate_slow),
      new Config(8, 32, 128, 256, deflate_slow),
      new Config(32, 128, 258, 1024, deflate_slow),
      new Config(32, 258, 258, 4096, deflate_slow)
    ];
    function lm_init(s3) {
      s3.window_size = 2 * s3.w_size;
      zero(s3.head);
      s3.max_lazy_match = configuration_table[s3.level].max_lazy;
      s3.good_match = configuration_table[s3.level].good_length;
      s3.nice_match = configuration_table[s3.level].nice_length;
      s3.max_chain_length = configuration_table[s3.level].max_chain;
      s3.strstart = 0;
      s3.block_start = 0;
      s3.lookahead = 0;
      s3.insert = 0;
      s3.match_length = s3.prev_length = MIN_MATCH - 1;
      s3.match_available = 0;
      s3.ins_h = 0;
    }
    function DeflateState() {
      this.strm = null;
      this.status = 0;
      this.pending_buf = null;
      this.pending_buf_size = 0;
      this.pending_out = 0;
      this.pending = 0;
      this.wrap = 0;
      this.gzhead = null;
      this.gzindex = 0;
      this.method = Z_DEFLATED;
      this.last_flush = -1;
      this.w_size = 0;
      this.w_bits = 0;
      this.w_mask = 0;
      this.window = null;
      this.window_size = 0;
      this.prev = null;
      this.head = null;
      this.ins_h = 0;
      this.hash_size = 0;
      this.hash_bits = 0;
      this.hash_mask = 0;
      this.hash_shift = 0;
      this.block_start = 0;
      this.match_length = 0;
      this.prev_match = 0;
      this.match_available = 0;
      this.strstart = 0;
      this.match_start = 0;
      this.lookahead = 0;
      this.prev_length = 0;
      this.max_chain_length = 0;
      this.max_lazy_match = 0;
      this.level = 0;
      this.strategy = 0;
      this.good_match = 0;
      this.nice_match = 0;
      this.dyn_ltree = new utils.Buf16(HEAP_SIZE * 2);
      this.dyn_dtree = new utils.Buf16((2 * D_CODES + 1) * 2);
      this.bl_tree = new utils.Buf16((2 * BL_CODES + 1) * 2);
      zero(this.dyn_ltree);
      zero(this.dyn_dtree);
      zero(this.bl_tree);
      this.l_desc = null;
      this.d_desc = null;
      this.bl_desc = null;
      this.bl_count = new utils.Buf16(MAX_BITS + 1);
      this.heap = new utils.Buf16(2 * L_CODES + 1);
      zero(this.heap);
      this.heap_len = 0;
      this.heap_max = 0;
      this.depth = new utils.Buf16(2 * L_CODES + 1);
      zero(this.depth);
      this.l_buf = 0;
      this.lit_bufsize = 0;
      this.last_lit = 0;
      this.d_buf = 0;
      this.opt_len = 0;
      this.static_len = 0;
      this.matches = 0;
      this.insert = 0;
      this.bi_buf = 0;
      this.bi_valid = 0;
    }
    function deflateResetKeep(strm) {
      var s3;
      if (!strm || !strm.state) {
        return err(strm, Z_STREAM_ERROR);
      }
      strm.total_in = strm.total_out = 0;
      strm.data_type = Z_UNKNOWN;
      s3 = strm.state;
      s3.pending = 0;
      s3.pending_out = 0;
      if (s3.wrap < 0) {
        s3.wrap = -s3.wrap;
      }
      s3.status = s3.wrap ? INIT_STATE : BUSY_STATE;
      strm.adler = s3.wrap === 2 ? 0 : 1;
      s3.last_flush = Z_NO_FLUSH;
      trees._tr_init(s3);
      return Z_OK;
    }
    function deflateReset(strm) {
      var ret = deflateResetKeep(strm);
      if (ret === Z_OK) {
        lm_init(strm.state);
      }
      return ret;
    }
    function deflateSetHeader(strm, head) {
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      if (strm.state.wrap !== 2) {
        return Z_STREAM_ERROR;
      }
      strm.state.gzhead = head;
      return Z_OK;
    }
    function deflateInit2(strm, level, method, windowBits, memLevel, strategy) {
      if (!strm) {
        return Z_STREAM_ERROR;
      }
      var wrap = 1;
      if (level === Z_DEFAULT_COMPRESSION) {
        level = 6;
      }
      if (windowBits < 0) {
        wrap = 0;
        windowBits = -windowBits;
      } else if (windowBits > 15) {
        wrap = 2;
        windowBits -= 16;
      }
      if (memLevel < 1 || memLevel > MAX_MEM_LEVEL || method !== Z_DEFLATED || windowBits < 8 || windowBits > 15 || level < 0 || level > 9 || strategy < 0 || strategy > Z_FIXED) {
        return err(strm, Z_STREAM_ERROR);
      }
      if (windowBits === 8) {
        windowBits = 9;
      }
      var s3 = new DeflateState();
      strm.state = s3;
      s3.strm = strm;
      s3.wrap = wrap;
      s3.gzhead = null;
      s3.w_bits = windowBits;
      s3.w_size = 1 << s3.w_bits;
      s3.w_mask = s3.w_size - 1;
      s3.hash_bits = memLevel + 7;
      s3.hash_size = 1 << s3.hash_bits;
      s3.hash_mask = s3.hash_size - 1;
      s3.hash_shift = ~~((s3.hash_bits + MIN_MATCH - 1) / MIN_MATCH);
      s3.window = new utils.Buf8(s3.w_size * 2);
      s3.head = new utils.Buf16(s3.hash_size);
      s3.prev = new utils.Buf16(s3.w_size);
      s3.lit_bufsize = 1 << memLevel + 6;
      s3.pending_buf_size = s3.lit_bufsize * 4;
      s3.pending_buf = new utils.Buf8(s3.pending_buf_size);
      s3.d_buf = 1 * s3.lit_bufsize;
      s3.l_buf = (1 + 2) * s3.lit_bufsize;
      s3.level = level;
      s3.strategy = strategy;
      s3.method = method;
      return deflateReset(strm);
    }
    function deflateInit(strm, level) {
      return deflateInit2(strm, level, Z_DEFLATED, MAX_WBITS, DEF_MEM_LEVEL, Z_DEFAULT_STRATEGY);
    }
    function deflate2(strm, flush) {
      var old_flush, s3;
      var beg, val;
      if (!strm || !strm.state || flush > Z_BLOCK || flush < 0) {
        return strm ? err(strm, Z_STREAM_ERROR) : Z_STREAM_ERROR;
      }
      s3 = strm.state;
      if (!strm.output || !strm.input && strm.avail_in !== 0 || s3.status === FINISH_STATE && flush !== Z_FINISH) {
        return err(strm, strm.avail_out === 0 ? Z_BUF_ERROR : Z_STREAM_ERROR);
      }
      s3.strm = strm;
      old_flush = s3.last_flush;
      s3.last_flush = flush;
      if (s3.status === INIT_STATE) {
        if (s3.wrap === 2) {
          strm.adler = 0;
          put_byte(s3, 31);
          put_byte(s3, 139);
          put_byte(s3, 8);
          if (!s3.gzhead) {
            put_byte(s3, 0);
            put_byte(s3, 0);
            put_byte(s3, 0);
            put_byte(s3, 0);
            put_byte(s3, 0);
            put_byte(s3, s3.level === 9 ? 2 : s3.strategy >= Z_HUFFMAN_ONLY || s3.level < 2 ? 4 : 0);
            put_byte(s3, OS_CODE);
            s3.status = BUSY_STATE;
          } else {
            put_byte(s3, (s3.gzhead.text ? 1 : 0) + (s3.gzhead.hcrc ? 2 : 0) + (!s3.gzhead.extra ? 0 : 4) + (!s3.gzhead.name ? 0 : 8) + (!s3.gzhead.comment ? 0 : 16));
            put_byte(s3, s3.gzhead.time & 255);
            put_byte(s3, s3.gzhead.time >> 8 & 255);
            put_byte(s3, s3.gzhead.time >> 16 & 255);
            put_byte(s3, s3.gzhead.time >> 24 & 255);
            put_byte(s3, s3.level === 9 ? 2 : s3.strategy >= Z_HUFFMAN_ONLY || s3.level < 2 ? 4 : 0);
            put_byte(s3, s3.gzhead.os & 255);
            if (s3.gzhead.extra && s3.gzhead.extra.length) {
              put_byte(s3, s3.gzhead.extra.length & 255);
              put_byte(s3, s3.gzhead.extra.length >> 8 & 255);
            }
            if (s3.gzhead.hcrc) {
              strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending, 0);
            }
            s3.gzindex = 0;
            s3.status = EXTRA_STATE;
          }
        } else {
          var header = Z_DEFLATED + (s3.w_bits - 8 << 4) << 8;
          var level_flags = -1;
          if (s3.strategy >= Z_HUFFMAN_ONLY || s3.level < 2) {
            level_flags = 0;
          } else if (s3.level < 6) {
            level_flags = 1;
          } else if (s3.level === 6) {
            level_flags = 2;
          } else {
            level_flags = 3;
          }
          header |= level_flags << 6;
          if (s3.strstart !== 0) {
            header |= PRESET_DICT;
          }
          header += 31 - header % 31;
          s3.status = BUSY_STATE;
          putShortMSB(s3, header);
          if (s3.strstart !== 0) {
            putShortMSB(s3, strm.adler >>> 16);
            putShortMSB(s3, strm.adler & 65535);
          }
          strm.adler = 1;
        }
      }
      if (s3.status === EXTRA_STATE) {
        if (s3.gzhead.extra) {
          beg = s3.pending;
          while (s3.gzindex < (s3.gzhead.extra.length & 65535)) {
            if (s3.pending === s3.pending_buf_size) {
              if (s3.gzhead.hcrc && s3.pending > beg) {
                strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending - beg, beg);
              }
              flush_pending(strm);
              beg = s3.pending;
              if (s3.pending === s3.pending_buf_size) {
                break;
              }
            }
            put_byte(s3, s3.gzhead.extra[s3.gzindex] & 255);
            s3.gzindex++;
          }
          if (s3.gzhead.hcrc && s3.pending > beg) {
            strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending - beg, beg);
          }
          if (s3.gzindex === s3.gzhead.extra.length) {
            s3.gzindex = 0;
            s3.status = NAME_STATE;
          }
        } else {
          s3.status = NAME_STATE;
        }
      }
      if (s3.status === NAME_STATE) {
        if (s3.gzhead.name) {
          beg = s3.pending;
          do {
            if (s3.pending === s3.pending_buf_size) {
              if (s3.gzhead.hcrc && s3.pending > beg) {
                strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending - beg, beg);
              }
              flush_pending(strm);
              beg = s3.pending;
              if (s3.pending === s3.pending_buf_size) {
                val = 1;
                break;
              }
            }
            if (s3.gzindex < s3.gzhead.name.length) {
              val = s3.gzhead.name.charCodeAt(s3.gzindex++) & 255;
            } else {
              val = 0;
            }
            put_byte(s3, val);
          } while (val !== 0);
          if (s3.gzhead.hcrc && s3.pending > beg) {
            strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending - beg, beg);
          }
          if (val === 0) {
            s3.gzindex = 0;
            s3.status = COMMENT_STATE;
          }
        } else {
          s3.status = COMMENT_STATE;
        }
      }
      if (s3.status === COMMENT_STATE) {
        if (s3.gzhead.comment) {
          beg = s3.pending;
          do {
            if (s3.pending === s3.pending_buf_size) {
              if (s3.gzhead.hcrc && s3.pending > beg) {
                strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending - beg, beg);
              }
              flush_pending(strm);
              beg = s3.pending;
              if (s3.pending === s3.pending_buf_size) {
                val = 1;
                break;
              }
            }
            if (s3.gzindex < s3.gzhead.comment.length) {
              val = s3.gzhead.comment.charCodeAt(s3.gzindex++) & 255;
            } else {
              val = 0;
            }
            put_byte(s3, val);
          } while (val !== 0);
          if (s3.gzhead.hcrc && s3.pending > beg) {
            strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending - beg, beg);
          }
          if (val === 0) {
            s3.status = HCRC_STATE;
          }
        } else {
          s3.status = HCRC_STATE;
        }
      }
      if (s3.status === HCRC_STATE) {
        if (s3.gzhead.hcrc) {
          if (s3.pending + 2 > s3.pending_buf_size) {
            flush_pending(strm);
          }
          if (s3.pending + 2 <= s3.pending_buf_size) {
            put_byte(s3, strm.adler & 255);
            put_byte(s3, strm.adler >> 8 & 255);
            strm.adler = 0;
            s3.status = BUSY_STATE;
          }
        } else {
          s3.status = BUSY_STATE;
        }
      }
      if (s3.pending !== 0) {
        flush_pending(strm);
        if (strm.avail_out === 0) {
          s3.last_flush = -1;
          return Z_OK;
        }
      } else if (strm.avail_in === 0 && rank(flush) <= rank(old_flush) && flush !== Z_FINISH) {
        return err(strm, Z_BUF_ERROR);
      }
      if (s3.status === FINISH_STATE && strm.avail_in !== 0) {
        return err(strm, Z_BUF_ERROR);
      }
      if (strm.avail_in !== 0 || s3.lookahead !== 0 || flush !== Z_NO_FLUSH && s3.status !== FINISH_STATE) {
        var bstate = s3.strategy === Z_HUFFMAN_ONLY ? deflate_huff(s3, flush) : s3.strategy === Z_RLE ? deflate_rle(s3, flush) : configuration_table[s3.level].func(s3, flush);
        if (bstate === BS_FINISH_STARTED || bstate === BS_FINISH_DONE) {
          s3.status = FINISH_STATE;
        }
        if (bstate === BS_NEED_MORE || bstate === BS_FINISH_STARTED) {
          if (strm.avail_out === 0) {
            s3.last_flush = -1;
          }
          return Z_OK;
        }
        if (bstate === BS_BLOCK_DONE) {
          if (flush === Z_PARTIAL_FLUSH) {
            trees._tr_align(s3);
          } else if (flush !== Z_BLOCK) {
            trees._tr_stored_block(s3, 0, 0, false);
            if (flush === Z_FULL_FLUSH) {
              zero(s3.head);
              if (s3.lookahead === 0) {
                s3.strstart = 0;
                s3.block_start = 0;
                s3.insert = 0;
              }
            }
          }
          flush_pending(strm);
          if (strm.avail_out === 0) {
            s3.last_flush = -1;
            return Z_OK;
          }
        }
      }
      if (flush !== Z_FINISH) {
        return Z_OK;
      }
      if (s3.wrap <= 0) {
        return Z_STREAM_END;
      }
      if (s3.wrap === 2) {
        put_byte(s3, strm.adler & 255);
        put_byte(s3, strm.adler >> 8 & 255);
        put_byte(s3, strm.adler >> 16 & 255);
        put_byte(s3, strm.adler >> 24 & 255);
        put_byte(s3, strm.total_in & 255);
        put_byte(s3, strm.total_in >> 8 & 255);
        put_byte(s3, strm.total_in >> 16 & 255);
        put_byte(s3, strm.total_in >> 24 & 255);
      } else {
        putShortMSB(s3, strm.adler >>> 16);
        putShortMSB(s3, strm.adler & 65535);
      }
      flush_pending(strm);
      if (s3.wrap > 0) {
        s3.wrap = -s3.wrap;
      }
      return s3.pending !== 0 ? Z_OK : Z_STREAM_END;
    }
    function deflateEnd(strm) {
      var status;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      status = strm.state.status;
      if (status !== INIT_STATE && status !== EXTRA_STATE && status !== NAME_STATE && status !== COMMENT_STATE && status !== HCRC_STATE && status !== BUSY_STATE && status !== FINISH_STATE) {
        return err(strm, Z_STREAM_ERROR);
      }
      strm.state = null;
      return status === BUSY_STATE ? err(strm, Z_DATA_ERROR) : Z_OK;
    }
    function deflateSetDictionary(strm, dictionary) {
      var dictLength = dictionary.length;
      var s3;
      var str, n3;
      var wrap;
      var avail;
      var next;
      var input;
      var tmpDict;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      s3 = strm.state;
      wrap = s3.wrap;
      if (wrap === 2 || wrap === 1 && s3.status !== INIT_STATE || s3.lookahead) {
        return Z_STREAM_ERROR;
      }
      if (wrap === 1) {
        strm.adler = adler32(strm.adler, dictionary, dictLength, 0);
      }
      s3.wrap = 0;
      if (dictLength >= s3.w_size) {
        if (wrap === 0) {
          zero(s3.head);
          s3.strstart = 0;
          s3.block_start = 0;
          s3.insert = 0;
        }
        tmpDict = new utils.Buf8(s3.w_size);
        utils.arraySet(tmpDict, dictionary, dictLength - s3.w_size, s3.w_size, 0);
        dictionary = tmpDict;
        dictLength = s3.w_size;
      }
      avail = strm.avail_in;
      next = strm.next_in;
      input = strm.input;
      strm.avail_in = dictLength;
      strm.next_in = 0;
      strm.input = dictionary;
      fill_window(s3);
      while (s3.lookahead >= MIN_MATCH) {
        str = s3.strstart;
        n3 = s3.lookahead - (MIN_MATCH - 1);
        do {
          s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[str + MIN_MATCH - 1]) & s3.hash_mask;
          s3.prev[str & s3.w_mask] = s3.head[s3.ins_h];
          s3.head[s3.ins_h] = str;
          str++;
        } while (--n3);
        s3.strstart = str;
        s3.lookahead = MIN_MATCH - 1;
        fill_window(s3);
      }
      s3.strstart += s3.lookahead;
      s3.block_start = s3.strstart;
      s3.insert = s3.lookahead;
      s3.lookahead = 0;
      s3.match_length = s3.prev_length = MIN_MATCH - 1;
      s3.match_available = 0;
      strm.next_in = next;
      strm.input = input;
      strm.avail_in = avail;
      s3.wrap = wrap;
      return Z_OK;
    }
    exports.deflateInit = deflateInit;
    exports.deflateInit2 = deflateInit2;
    exports.deflateReset = deflateReset;
    exports.deflateResetKeep = deflateResetKeep;
    exports.deflateSetHeader = deflateSetHeader;
    exports.deflate = deflate2;
    exports.deflateEnd = deflateEnd;
    exports.deflateSetDictionary = deflateSetDictionary;
    exports.deflateInfo = "pako deflate (from Nodeca project)";
  });

  // node_modules/pako/lib/utils/strings.js
  var require_strings = __commonJS((exports) => {
    "use strict";
    var utils = require_common();
    var STR_APPLY_OK = true;
    var STR_APPLY_UIA_OK = true;
    try {
      String.fromCharCode.apply(null, [0]);
    } catch (__) {
      STR_APPLY_OK = false;
    }
    try {
      String.fromCharCode.apply(null, new Uint8Array(1));
    } catch (__) {
      STR_APPLY_UIA_OK = false;
    }
    var _utf8len = new utils.Buf8(256);
    for (var q2 = 0; q2 < 256; q2++) {
      _utf8len[q2] = q2 >= 252 ? 6 : q2 >= 248 ? 5 : q2 >= 240 ? 4 : q2 >= 224 ? 3 : q2 >= 192 ? 2 : 1;
    }
    _utf8len[254] = _utf8len[254] = 1;
    exports.string2buf = function(str) {
      var buf, c3, c22, m_pos, i3, str_len = str.length, buf_len = 0;
      for (m_pos = 0; m_pos < str_len; m_pos++) {
        c3 = str.charCodeAt(m_pos);
        if ((c3 & 64512) === 55296 && m_pos + 1 < str_len) {
          c22 = str.charCodeAt(m_pos + 1);
          if ((c22 & 64512) === 56320) {
            c3 = 65536 + (c3 - 55296 << 10) + (c22 - 56320);
            m_pos++;
          }
        }
        buf_len += c3 < 128 ? 1 : c3 < 2048 ? 2 : c3 < 65536 ? 3 : 4;
      }
      buf = new utils.Buf8(buf_len);
      for (i3 = 0, m_pos = 0; i3 < buf_len; m_pos++) {
        c3 = str.charCodeAt(m_pos);
        if ((c3 & 64512) === 55296 && m_pos + 1 < str_len) {
          c22 = str.charCodeAt(m_pos + 1);
          if ((c22 & 64512) === 56320) {
            c3 = 65536 + (c3 - 55296 << 10) + (c22 - 56320);
            m_pos++;
          }
        }
        if (c3 < 128) {
          buf[i3++] = c3;
        } else if (c3 < 2048) {
          buf[i3++] = 192 | c3 >>> 6;
          buf[i3++] = 128 | c3 & 63;
        } else if (c3 < 65536) {
          buf[i3++] = 224 | c3 >>> 12;
          buf[i3++] = 128 | c3 >>> 6 & 63;
          buf[i3++] = 128 | c3 & 63;
        } else {
          buf[i3++] = 240 | c3 >>> 18;
          buf[i3++] = 128 | c3 >>> 12 & 63;
          buf[i3++] = 128 | c3 >>> 6 & 63;
          buf[i3++] = 128 | c3 & 63;
        }
      }
      return buf;
    };
    function buf2binstring(buf, len) {
      if (len < 65534) {
        if (buf.subarray && STR_APPLY_UIA_OK || !buf.subarray && STR_APPLY_OK) {
          return String.fromCharCode.apply(null, utils.shrinkBuf(buf, len));
        }
      }
      var result = "";
      for (var i3 = 0; i3 < len; i3++) {
        result += String.fromCharCode(buf[i3]);
      }
      return result;
    }
    exports.buf2binstring = function(buf) {
      return buf2binstring(buf, buf.length);
    };
    exports.binstring2buf = function(str) {
      var buf = new utils.Buf8(str.length);
      for (var i3 = 0, len = buf.length; i3 < len; i3++) {
        buf[i3] = str.charCodeAt(i3);
      }
      return buf;
    };
    exports.buf2string = function(buf, max) {
      var i3, out, c3, c_len;
      var len = max || buf.length;
      var utf16buf = new Array(len * 2);
      for (out = 0, i3 = 0; i3 < len; ) {
        c3 = buf[i3++];
        if (c3 < 128) {
          utf16buf[out++] = c3;
          continue;
        }
        c_len = _utf8len[c3];
        if (c_len > 4) {
          utf16buf[out++] = 65533;
          i3 += c_len - 1;
          continue;
        }
        c3 &= c_len === 2 ? 31 : c_len === 3 ? 15 : 7;
        while (c_len > 1 && i3 < len) {
          c3 = c3 << 6 | buf[i3++] & 63;
          c_len--;
        }
        if (c_len > 1) {
          utf16buf[out++] = 65533;
          continue;
        }
        if (c3 < 65536) {
          utf16buf[out++] = c3;
        } else {
          c3 -= 65536;
          utf16buf[out++] = 55296 | c3 >> 10 & 1023;
          utf16buf[out++] = 56320 | c3 & 1023;
        }
      }
      return buf2binstring(utf16buf, out);
    };
    exports.utf8border = function(buf, max) {
      var pos;
      max = max || buf.length;
      if (max > buf.length) {
        max = buf.length;
      }
      pos = max - 1;
      while (pos >= 0 && (buf[pos] & 192) === 128) {
        pos--;
      }
      if (pos < 0) {
        return max;
      }
      if (pos === 0) {
        return max;
      }
      return pos + _utf8len[buf[pos]] > max ? pos : max;
    };
  });

  // node_modules/pako/lib/zlib/zstream.js
  var require_zstream = __commonJS((exports, module) => {
    "use strict";
    function ZStream() {
      this.input = null;
      this.next_in = 0;
      this.avail_in = 0;
      this.total_in = 0;
      this.output = null;
      this.next_out = 0;
      this.avail_out = 0;
      this.total_out = 0;
      this.msg = "";
      this.state = null;
      this.data_type = 2;
      this.adler = 0;
    }
    module.exports = ZStream;
  });

  // node_modules/pako/lib/deflate.js
  var require_deflate = __commonJS((exports) => {
    "use strict";
    var zlib_deflate = require_deflate2();
    var utils = require_common();
    var strings = require_strings();
    var msg = require_messages();
    var ZStream = require_zstream();
    var toString = Object.prototype.toString;
    var Z_NO_FLUSH = 0;
    var Z_FINISH = 4;
    var Z_OK = 0;
    var Z_STREAM_END = 1;
    var Z_SYNC_FLUSH = 2;
    var Z_DEFAULT_COMPRESSION = -1;
    var Z_DEFAULT_STRATEGY = 0;
    var Z_DEFLATED = 8;
    function Deflate(options) {
      if (!(this instanceof Deflate))
        return new Deflate(options);
      this.options = utils.assign({
        level: Z_DEFAULT_COMPRESSION,
        method: Z_DEFLATED,
        chunkSize: 16384,
        windowBits: 15,
        memLevel: 8,
        strategy: Z_DEFAULT_STRATEGY,
        to: ""
      }, options || {});
      var opt = this.options;
      if (opt.raw && opt.windowBits > 0) {
        opt.windowBits = -opt.windowBits;
      } else if (opt.gzip && opt.windowBits > 0 && opt.windowBits < 16) {
        opt.windowBits += 16;
      }
      this.err = 0;
      this.msg = "";
      this.ended = false;
      this.chunks = [];
      this.strm = new ZStream();
      this.strm.avail_out = 0;
      var status = zlib_deflate.deflateInit2(this.strm, opt.level, opt.method, opt.windowBits, opt.memLevel, opt.strategy);
      if (status !== Z_OK) {
        throw new Error(msg[status]);
      }
      if (opt.header) {
        zlib_deflate.deflateSetHeader(this.strm, opt.header);
      }
      if (opt.dictionary) {
        var dict;
        if (typeof opt.dictionary === "string") {
          dict = strings.string2buf(opt.dictionary);
        } else if (toString.call(opt.dictionary) === "[object ArrayBuffer]") {
          dict = new Uint8Array(opt.dictionary);
        } else {
          dict = opt.dictionary;
        }
        status = zlib_deflate.deflateSetDictionary(this.strm, dict);
        if (status !== Z_OK) {
          throw new Error(msg[status]);
        }
        this._dict_set = true;
      }
    }
    Deflate.prototype.push = function(data, mode) {
      var strm = this.strm;
      var chunkSize = this.options.chunkSize;
      var status, _mode;
      if (this.ended) {
        return false;
      }
      _mode = mode === ~~mode ? mode : mode === true ? Z_FINISH : Z_NO_FLUSH;
      if (typeof data === "string") {
        strm.input = strings.string2buf(data);
      } else if (toString.call(data) === "[object ArrayBuffer]") {
        strm.input = new Uint8Array(data);
      } else {
        strm.input = data;
      }
      strm.next_in = 0;
      strm.avail_in = strm.input.length;
      do {
        if (strm.avail_out === 0) {
          strm.output = new utils.Buf8(chunkSize);
          strm.next_out = 0;
          strm.avail_out = chunkSize;
        }
        status = zlib_deflate.deflate(strm, _mode);
        if (status !== Z_STREAM_END && status !== Z_OK) {
          this.onEnd(status);
          this.ended = true;
          return false;
        }
        if (strm.avail_out === 0 || strm.avail_in === 0 && (_mode === Z_FINISH || _mode === Z_SYNC_FLUSH)) {
          if (this.options.to === "string") {
            this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output, strm.next_out)));
          } else {
            this.onData(utils.shrinkBuf(strm.output, strm.next_out));
          }
        }
      } while ((strm.avail_in > 0 || strm.avail_out === 0) && status !== Z_STREAM_END);
      if (_mode === Z_FINISH) {
        status = zlib_deflate.deflateEnd(this.strm);
        this.onEnd(status);
        this.ended = true;
        return status === Z_OK;
      }
      if (_mode === Z_SYNC_FLUSH) {
        this.onEnd(Z_OK);
        strm.avail_out = 0;
        return true;
      }
      return true;
    };
    Deflate.prototype.onData = function(chunk) {
      this.chunks.push(chunk);
    };
    Deflate.prototype.onEnd = function(status) {
      if (status === Z_OK) {
        if (this.options.to === "string") {
          this.result = this.chunks.join("");
        } else {
          this.result = utils.flattenChunks(this.chunks);
        }
      }
      this.chunks = [];
      this.err = status;
      this.msg = this.strm.msg;
    };
    function deflate2(input, options) {
      var deflator = new Deflate(options);
      deflator.push(input, true);
      if (deflator.err) {
        throw deflator.msg || msg[deflator.err];
      }
      return deflator.result;
    }
    function deflateRaw(input, options) {
      options = options || {};
      options.raw = true;
      return deflate2(input, options);
    }
    function gzip(input, options) {
      options = options || {};
      options.gzip = true;
      return deflate2(input, options);
    }
    exports.Deflate = Deflate;
    exports.deflate = deflate2;
    exports.deflateRaw = deflateRaw;
    exports.gzip = gzip;
  });

  // node_modules/pako/lib/zlib/inffast.js
  var require_inffast = __commonJS((exports, module) => {
    "use strict";
    var BAD = 30;
    var TYPE = 12;
    module.exports = function inflate_fast(strm, start) {
      var state;
      var _in;
      var last;
      var _out;
      var beg;
      var end;
      var dmax;
      var wsize;
      var whave;
      var wnext;
      var s_window;
      var hold;
      var bits;
      var lcode;
      var dcode;
      var lmask;
      var dmask;
      var here;
      var op;
      var len;
      var dist;
      var from;
      var from_source;
      var input, output;
      state = strm.state;
      _in = strm.next_in;
      input = strm.input;
      last = _in + (strm.avail_in - 5);
      _out = strm.next_out;
      output = strm.output;
      beg = _out - (start - strm.avail_out);
      end = _out + (strm.avail_out - 257);
      dmax = state.dmax;
      wsize = state.wsize;
      whave = state.whave;
      wnext = state.wnext;
      s_window = state.window;
      hold = state.hold;
      bits = state.bits;
      lcode = state.lencode;
      dcode = state.distcode;
      lmask = (1 << state.lenbits) - 1;
      dmask = (1 << state.distbits) - 1;
      top:
        do {
          if (bits < 15) {
            hold += input[_in++] << bits;
            bits += 8;
            hold += input[_in++] << bits;
            bits += 8;
          }
          here = lcode[hold & lmask];
          dolen:
            for (; ; ) {
              op = here >>> 24;
              hold >>>= op;
              bits -= op;
              op = here >>> 16 & 255;
              if (op === 0) {
                output[_out++] = here & 65535;
              } else if (op & 16) {
                len = here & 65535;
                op &= 15;
                if (op) {
                  if (bits < op) {
                    hold += input[_in++] << bits;
                    bits += 8;
                  }
                  len += hold & (1 << op) - 1;
                  hold >>>= op;
                  bits -= op;
                }
                if (bits < 15) {
                  hold += input[_in++] << bits;
                  bits += 8;
                  hold += input[_in++] << bits;
                  bits += 8;
                }
                here = dcode[hold & dmask];
                dodist:
                  for (; ; ) {
                    op = here >>> 24;
                    hold >>>= op;
                    bits -= op;
                    op = here >>> 16 & 255;
                    if (op & 16) {
                      dist = here & 65535;
                      op &= 15;
                      if (bits < op) {
                        hold += input[_in++] << bits;
                        bits += 8;
                        if (bits < op) {
                          hold += input[_in++] << bits;
                          bits += 8;
                        }
                      }
                      dist += hold & (1 << op) - 1;
                      if (dist > dmax) {
                        strm.msg = "invalid distance too far back";
                        state.mode = BAD;
                        break top;
                      }
                      hold >>>= op;
                      bits -= op;
                      op = _out - beg;
                      if (dist > op) {
                        op = dist - op;
                        if (op > whave) {
                          if (state.sane) {
                            strm.msg = "invalid distance too far back";
                            state.mode = BAD;
                            break top;
                          }
                        }
                        from = 0;
                        from_source = s_window;
                        if (wnext === 0) {
                          from += wsize - op;
                          if (op < len) {
                            len -= op;
                            do {
                              output[_out++] = s_window[from++];
                            } while (--op);
                            from = _out - dist;
                            from_source = output;
                          }
                        } else if (wnext < op) {
                          from += wsize + wnext - op;
                          op -= wnext;
                          if (op < len) {
                            len -= op;
                            do {
                              output[_out++] = s_window[from++];
                            } while (--op);
                            from = 0;
                            if (wnext < len) {
                              op = wnext;
                              len -= op;
                              do {
                                output[_out++] = s_window[from++];
                              } while (--op);
                              from = _out - dist;
                              from_source = output;
                            }
                          }
                        } else {
                          from += wnext - op;
                          if (op < len) {
                            len -= op;
                            do {
                              output[_out++] = s_window[from++];
                            } while (--op);
                            from = _out - dist;
                            from_source = output;
                          }
                        }
                        while (len > 2) {
                          output[_out++] = from_source[from++];
                          output[_out++] = from_source[from++];
                          output[_out++] = from_source[from++];
                          len -= 3;
                        }
                        if (len) {
                          output[_out++] = from_source[from++];
                          if (len > 1) {
                            output[_out++] = from_source[from++];
                          }
                        }
                      } else {
                        from = _out - dist;
                        do {
                          output[_out++] = output[from++];
                          output[_out++] = output[from++];
                          output[_out++] = output[from++];
                          len -= 3;
                        } while (len > 2);
                        if (len) {
                          output[_out++] = output[from++];
                          if (len > 1) {
                            output[_out++] = output[from++];
                          }
                        }
                      }
                    } else if ((op & 64) === 0) {
                      here = dcode[(here & 65535) + (hold & (1 << op) - 1)];
                      continue dodist;
                    } else {
                      strm.msg = "invalid distance code";
                      state.mode = BAD;
                      break top;
                    }
                    break;
                  }
              } else if ((op & 64) === 0) {
                here = lcode[(here & 65535) + (hold & (1 << op) - 1)];
                continue dolen;
              } else if (op & 32) {
                state.mode = TYPE;
                break top;
              } else {
                strm.msg = "invalid literal/length code";
                state.mode = BAD;
                break top;
              }
              break;
            }
        } while (_in < last && _out < end);
      len = bits >> 3;
      _in -= len;
      bits -= len << 3;
      hold &= (1 << bits) - 1;
      strm.next_in = _in;
      strm.next_out = _out;
      strm.avail_in = _in < last ? 5 + (last - _in) : 5 - (_in - last);
      strm.avail_out = _out < end ? 257 + (end - _out) : 257 - (_out - end);
      state.hold = hold;
      state.bits = bits;
      return;
    };
  });

  // node_modules/pako/lib/zlib/inftrees.js
  var require_inftrees = __commonJS((exports, module) => {
    "use strict";
    var utils = require_common();
    var MAXBITS = 15;
    var ENOUGH_LENS = 852;
    var ENOUGH_DISTS = 592;
    var CODES = 0;
    var LENS = 1;
    var DISTS = 2;
    var lbase = [
      3,
      4,
      5,
      6,
      7,
      8,
      9,
      10,
      11,
      13,
      15,
      17,
      19,
      23,
      27,
      31,
      35,
      43,
      51,
      59,
      67,
      83,
      99,
      115,
      131,
      163,
      195,
      227,
      258,
      0,
      0
    ];
    var lext = [
      16,
      16,
      16,
      16,
      16,
      16,
      16,
      16,
      17,
      17,
      17,
      17,
      18,
      18,
      18,
      18,
      19,
      19,
      19,
      19,
      20,
      20,
      20,
      20,
      21,
      21,
      21,
      21,
      16,
      72,
      78
    ];
    var dbase = [
      1,
      2,
      3,
      4,
      5,
      7,
      9,
      13,
      17,
      25,
      33,
      49,
      65,
      97,
      129,
      193,
      257,
      385,
      513,
      769,
      1025,
      1537,
      2049,
      3073,
      4097,
      6145,
      8193,
      12289,
      16385,
      24577,
      0,
      0
    ];
    var dext = [
      16,
      16,
      16,
      16,
      17,
      17,
      18,
      18,
      19,
      19,
      20,
      20,
      21,
      21,
      22,
      22,
      23,
      23,
      24,
      24,
      25,
      25,
      26,
      26,
      27,
      27,
      28,
      28,
      29,
      29,
      64,
      64
    ];
    module.exports = function inflate_table(type, lens, lens_index, codes, table, table_index, work, opts) {
      var bits = opts.bits;
      var len = 0;
      var sym = 0;
      var min = 0, max = 0;
      var root = 0;
      var curr = 0;
      var drop = 0;
      var left = 0;
      var used = 0;
      var huff = 0;
      var incr;
      var fill;
      var low;
      var mask;
      var next;
      var base = null;
      var base_index = 0;
      var end;
      var count = new utils.Buf16(MAXBITS + 1);
      var offs = new utils.Buf16(MAXBITS + 1);
      var extra = null;
      var extra_index = 0;
      var here_bits, here_op, here_val;
      for (len = 0; len <= MAXBITS; len++) {
        count[len] = 0;
      }
      for (sym = 0; sym < codes; sym++) {
        count[lens[lens_index + sym]]++;
      }
      root = bits;
      for (max = MAXBITS; max >= 1; max--) {
        if (count[max] !== 0) {
          break;
        }
      }
      if (root > max) {
        root = max;
      }
      if (max === 0) {
        table[table_index++] = 1 << 24 | 64 << 16 | 0;
        table[table_index++] = 1 << 24 | 64 << 16 | 0;
        opts.bits = 1;
        return 0;
      }
      for (min = 1; min < max; min++) {
        if (count[min] !== 0) {
          break;
        }
      }
      if (root < min) {
        root = min;
      }
      left = 1;
      for (len = 1; len <= MAXBITS; len++) {
        left <<= 1;
        left -= count[len];
        if (left < 0) {
          return -1;
        }
      }
      if (left > 0 && (type === CODES || max !== 1)) {
        return -1;
      }
      offs[1] = 0;
      for (len = 1; len < MAXBITS; len++) {
        offs[len + 1] = offs[len] + count[len];
      }
      for (sym = 0; sym < codes; sym++) {
        if (lens[lens_index + sym] !== 0) {
          work[offs[lens[lens_index + sym]]++] = sym;
        }
      }
      if (type === CODES) {
        base = extra = work;
        end = 19;
      } else if (type === LENS) {
        base = lbase;
        base_index -= 257;
        extra = lext;
        extra_index -= 257;
        end = 256;
      } else {
        base = dbase;
        extra = dext;
        end = -1;
      }
      huff = 0;
      sym = 0;
      len = min;
      next = table_index;
      curr = root;
      drop = 0;
      low = -1;
      used = 1 << root;
      mask = used - 1;
      if (type === LENS && used > ENOUGH_LENS || type === DISTS && used > ENOUGH_DISTS) {
        return 1;
      }
      for (; ; ) {
        here_bits = len - drop;
        if (work[sym] < end) {
          here_op = 0;
          here_val = work[sym];
        } else if (work[sym] > end) {
          here_op = extra[extra_index + work[sym]];
          here_val = base[base_index + work[sym]];
        } else {
          here_op = 32 + 64;
          here_val = 0;
        }
        incr = 1 << len - drop;
        fill = 1 << curr;
        min = fill;
        do {
          fill -= incr;
          table[next + (huff >> drop) + fill] = here_bits << 24 | here_op << 16 | here_val | 0;
        } while (fill !== 0);
        incr = 1 << len - 1;
        while (huff & incr) {
          incr >>= 1;
        }
        if (incr !== 0) {
          huff &= incr - 1;
          huff += incr;
        } else {
          huff = 0;
        }
        sym++;
        if (--count[len] === 0) {
          if (len === max) {
            break;
          }
          len = lens[lens_index + work[sym]];
        }
        if (len > root && (huff & mask) !== low) {
          if (drop === 0) {
            drop = root;
          }
          next += min;
          curr = len - drop;
          left = 1 << curr;
          while (curr + drop < max) {
            left -= count[curr + drop];
            if (left <= 0) {
              break;
            }
            curr++;
            left <<= 1;
          }
          used += 1 << curr;
          if (type === LENS && used > ENOUGH_LENS || type === DISTS && used > ENOUGH_DISTS) {
            return 1;
          }
          low = huff & mask;
          table[low] = root << 24 | curr << 16 | next - table_index | 0;
        }
      }
      if (huff !== 0) {
        table[next + huff] = len - drop << 24 | 64 << 16 | 0;
      }
      opts.bits = root;
      return 0;
    };
  });

  // node_modules/pako/lib/zlib/inflate.js
  var require_inflate2 = __commonJS((exports) => {
    "use strict";
    var utils = require_common();
    var adler32 = require_adler32();
    var crc32 = require_crc32();
    var inflate_fast = require_inffast();
    var inflate_table = require_inftrees();
    var CODES = 0;
    var LENS = 1;
    var DISTS = 2;
    var Z_FINISH = 4;
    var Z_BLOCK = 5;
    var Z_TREES = 6;
    var Z_OK = 0;
    var Z_STREAM_END = 1;
    var Z_NEED_DICT = 2;
    var Z_STREAM_ERROR = -2;
    var Z_DATA_ERROR = -3;
    var Z_MEM_ERROR = -4;
    var Z_BUF_ERROR = -5;
    var Z_DEFLATED = 8;
    var HEAD = 1;
    var FLAGS = 2;
    var TIME = 3;
    var OS = 4;
    var EXLEN = 5;
    var EXTRA = 6;
    var NAME = 7;
    var COMMENT = 8;
    var HCRC = 9;
    var DICTID = 10;
    var DICT = 11;
    var TYPE = 12;
    var TYPEDO = 13;
    var STORED = 14;
    var COPY_ = 15;
    var COPY = 16;
    var TABLE = 17;
    var LENLENS = 18;
    var CODELENS = 19;
    var LEN_ = 20;
    var LEN = 21;
    var LENEXT = 22;
    var DIST = 23;
    var DISTEXT = 24;
    var MATCH = 25;
    var LIT = 26;
    var CHECK = 27;
    var LENGTH = 28;
    var DONE = 29;
    var BAD = 30;
    var MEM = 31;
    var SYNC = 32;
    var ENOUGH_LENS = 852;
    var ENOUGH_DISTS = 592;
    var MAX_WBITS = 15;
    var DEF_WBITS = MAX_WBITS;
    function zswap32(q2) {
      return (q2 >>> 24 & 255) + (q2 >>> 8 & 65280) + ((q2 & 65280) << 8) + ((q2 & 255) << 24);
    }
    function InflateState() {
      this.mode = 0;
      this.last = false;
      this.wrap = 0;
      this.havedict = false;
      this.flags = 0;
      this.dmax = 0;
      this.check = 0;
      this.total = 0;
      this.head = null;
      this.wbits = 0;
      this.wsize = 0;
      this.whave = 0;
      this.wnext = 0;
      this.window = null;
      this.hold = 0;
      this.bits = 0;
      this.length = 0;
      this.offset = 0;
      this.extra = 0;
      this.lencode = null;
      this.distcode = null;
      this.lenbits = 0;
      this.distbits = 0;
      this.ncode = 0;
      this.nlen = 0;
      this.ndist = 0;
      this.have = 0;
      this.next = null;
      this.lens = new utils.Buf16(320);
      this.work = new utils.Buf16(288);
      this.lendyn = null;
      this.distdyn = null;
      this.sane = 0;
      this.back = 0;
      this.was = 0;
    }
    function inflateResetKeep(strm) {
      var state;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      state = strm.state;
      strm.total_in = strm.total_out = state.total = 0;
      strm.msg = "";
      if (state.wrap) {
        strm.adler = state.wrap & 1;
      }
      state.mode = HEAD;
      state.last = 0;
      state.havedict = 0;
      state.dmax = 32768;
      state.head = null;
      state.hold = 0;
      state.bits = 0;
      state.lencode = state.lendyn = new utils.Buf32(ENOUGH_LENS);
      state.distcode = state.distdyn = new utils.Buf32(ENOUGH_DISTS);
      state.sane = 1;
      state.back = -1;
      return Z_OK;
    }
    function inflateReset(strm) {
      var state;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      state = strm.state;
      state.wsize = 0;
      state.whave = 0;
      state.wnext = 0;
      return inflateResetKeep(strm);
    }
    function inflateReset2(strm, windowBits) {
      var wrap;
      var state;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      state = strm.state;
      if (windowBits < 0) {
        wrap = 0;
        windowBits = -windowBits;
      } else {
        wrap = (windowBits >> 4) + 1;
        if (windowBits < 48) {
          windowBits &= 15;
        }
      }
      if (windowBits && (windowBits < 8 || windowBits > 15)) {
        return Z_STREAM_ERROR;
      }
      if (state.window !== null && state.wbits !== windowBits) {
        state.window = null;
      }
      state.wrap = wrap;
      state.wbits = windowBits;
      return inflateReset(strm);
    }
    function inflateInit2(strm, windowBits) {
      var ret;
      var state;
      if (!strm) {
        return Z_STREAM_ERROR;
      }
      state = new InflateState();
      strm.state = state;
      state.window = null;
      ret = inflateReset2(strm, windowBits);
      if (ret !== Z_OK) {
        strm.state = null;
      }
      return ret;
    }
    function inflateInit(strm) {
      return inflateInit2(strm, DEF_WBITS);
    }
    var virgin = true;
    var lenfix;
    var distfix;
    function fixedtables(state) {
      if (virgin) {
        var sym;
        lenfix = new utils.Buf32(512);
        distfix = new utils.Buf32(32);
        sym = 0;
        while (sym < 144) {
          state.lens[sym++] = 8;
        }
        while (sym < 256) {
          state.lens[sym++] = 9;
        }
        while (sym < 280) {
          state.lens[sym++] = 7;
        }
        while (sym < 288) {
          state.lens[sym++] = 8;
        }
        inflate_table(LENS, state.lens, 0, 288, lenfix, 0, state.work, {bits: 9});
        sym = 0;
        while (sym < 32) {
          state.lens[sym++] = 5;
        }
        inflate_table(DISTS, state.lens, 0, 32, distfix, 0, state.work, {bits: 5});
        virgin = false;
      }
      state.lencode = lenfix;
      state.lenbits = 9;
      state.distcode = distfix;
      state.distbits = 5;
    }
    function updatewindow(strm, src, end, copy) {
      var dist;
      var state = strm.state;
      if (state.window === null) {
        state.wsize = 1 << state.wbits;
        state.wnext = 0;
        state.whave = 0;
        state.window = new utils.Buf8(state.wsize);
      }
      if (copy >= state.wsize) {
        utils.arraySet(state.window, src, end - state.wsize, state.wsize, 0);
        state.wnext = 0;
        state.whave = state.wsize;
      } else {
        dist = state.wsize - state.wnext;
        if (dist > copy) {
          dist = copy;
        }
        utils.arraySet(state.window, src, end - copy, dist, state.wnext);
        copy -= dist;
        if (copy) {
          utils.arraySet(state.window, src, end - copy, copy, 0);
          state.wnext = copy;
          state.whave = state.wsize;
        } else {
          state.wnext += dist;
          if (state.wnext === state.wsize) {
            state.wnext = 0;
          }
          if (state.whave < state.wsize) {
            state.whave += dist;
          }
        }
      }
      return 0;
    }
    function inflate(strm, flush) {
      var state;
      var input, output;
      var next;
      var put;
      var have, left;
      var hold;
      var bits;
      var _in, _out;
      var copy;
      var from;
      var from_source;
      var here = 0;
      var here_bits, here_op, here_val;
      var last_bits, last_op, last_val;
      var len;
      var ret;
      var hbuf = new utils.Buf8(4);
      var opts;
      var n3;
      var order = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
      if (!strm || !strm.state || !strm.output || !strm.input && strm.avail_in !== 0) {
        return Z_STREAM_ERROR;
      }
      state = strm.state;
      if (state.mode === TYPE) {
        state.mode = TYPEDO;
      }
      put = strm.next_out;
      output = strm.output;
      left = strm.avail_out;
      next = strm.next_in;
      input = strm.input;
      have = strm.avail_in;
      hold = state.hold;
      bits = state.bits;
      _in = have;
      _out = left;
      ret = Z_OK;
      inf_leave:
        for (; ; ) {
          switch (state.mode) {
            case HEAD:
              if (state.wrap === 0) {
                state.mode = TYPEDO;
                break;
              }
              while (bits < 16) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              if (state.wrap & 2 && hold === 35615) {
                state.check = 0;
                hbuf[0] = hold & 255;
                hbuf[1] = hold >>> 8 & 255;
                state.check = crc32(state.check, hbuf, 2, 0);
                hold = 0;
                bits = 0;
                state.mode = FLAGS;
                break;
              }
              state.flags = 0;
              if (state.head) {
                state.head.done = false;
              }
              if (!(state.wrap & 1) || (((hold & 255) << 8) + (hold >> 8)) % 31) {
                strm.msg = "incorrect header check";
                state.mode = BAD;
                break;
              }
              if ((hold & 15) !== Z_DEFLATED) {
                strm.msg = "unknown compression method";
                state.mode = BAD;
                break;
              }
              hold >>>= 4;
              bits -= 4;
              len = (hold & 15) + 8;
              if (state.wbits === 0) {
                state.wbits = len;
              } else if (len > state.wbits) {
                strm.msg = "invalid window size";
                state.mode = BAD;
                break;
              }
              state.dmax = 1 << len;
              strm.adler = state.check = 1;
              state.mode = hold & 512 ? DICTID : TYPE;
              hold = 0;
              bits = 0;
              break;
            case FLAGS:
              while (bits < 16) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              state.flags = hold;
              if ((state.flags & 255) !== Z_DEFLATED) {
                strm.msg = "unknown compression method";
                state.mode = BAD;
                break;
              }
              if (state.flags & 57344) {
                strm.msg = "unknown header flags set";
                state.mode = BAD;
                break;
              }
              if (state.head) {
                state.head.text = hold >> 8 & 1;
              }
              if (state.flags & 512) {
                hbuf[0] = hold & 255;
                hbuf[1] = hold >>> 8 & 255;
                state.check = crc32(state.check, hbuf, 2, 0);
              }
              hold = 0;
              bits = 0;
              state.mode = TIME;
            case TIME:
              while (bits < 32) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              if (state.head) {
                state.head.time = hold;
              }
              if (state.flags & 512) {
                hbuf[0] = hold & 255;
                hbuf[1] = hold >>> 8 & 255;
                hbuf[2] = hold >>> 16 & 255;
                hbuf[3] = hold >>> 24 & 255;
                state.check = crc32(state.check, hbuf, 4, 0);
              }
              hold = 0;
              bits = 0;
              state.mode = OS;
            case OS:
              while (bits < 16) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              if (state.head) {
                state.head.xflags = hold & 255;
                state.head.os = hold >> 8;
              }
              if (state.flags & 512) {
                hbuf[0] = hold & 255;
                hbuf[1] = hold >>> 8 & 255;
                state.check = crc32(state.check, hbuf, 2, 0);
              }
              hold = 0;
              bits = 0;
              state.mode = EXLEN;
            case EXLEN:
              if (state.flags & 1024) {
                while (bits < 16) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                state.length = hold;
                if (state.head) {
                  state.head.extra_len = hold;
                }
                if (state.flags & 512) {
                  hbuf[0] = hold & 255;
                  hbuf[1] = hold >>> 8 & 255;
                  state.check = crc32(state.check, hbuf, 2, 0);
                }
                hold = 0;
                bits = 0;
              } else if (state.head) {
                state.head.extra = null;
              }
              state.mode = EXTRA;
            case EXTRA:
              if (state.flags & 1024) {
                copy = state.length;
                if (copy > have) {
                  copy = have;
                }
                if (copy) {
                  if (state.head) {
                    len = state.head.extra_len - state.length;
                    if (!state.head.extra) {
                      state.head.extra = new Array(state.head.extra_len);
                    }
                    utils.arraySet(state.head.extra, input, next, copy, len);
                  }
                  if (state.flags & 512) {
                    state.check = crc32(state.check, input, copy, next);
                  }
                  have -= copy;
                  next += copy;
                  state.length -= copy;
                }
                if (state.length) {
                  break inf_leave;
                }
              }
              state.length = 0;
              state.mode = NAME;
            case NAME:
              if (state.flags & 2048) {
                if (have === 0) {
                  break inf_leave;
                }
                copy = 0;
                do {
                  len = input[next + copy++];
                  if (state.head && len && state.length < 65536) {
                    state.head.name += String.fromCharCode(len);
                  }
                } while (len && copy < have);
                if (state.flags & 512) {
                  state.check = crc32(state.check, input, copy, next);
                }
                have -= copy;
                next += copy;
                if (len) {
                  break inf_leave;
                }
              } else if (state.head) {
                state.head.name = null;
              }
              state.length = 0;
              state.mode = COMMENT;
            case COMMENT:
              if (state.flags & 4096) {
                if (have === 0) {
                  break inf_leave;
                }
                copy = 0;
                do {
                  len = input[next + copy++];
                  if (state.head && len && state.length < 65536) {
                    state.head.comment += String.fromCharCode(len);
                  }
                } while (len && copy < have);
                if (state.flags & 512) {
                  state.check = crc32(state.check, input, copy, next);
                }
                have -= copy;
                next += copy;
                if (len) {
                  break inf_leave;
                }
              } else if (state.head) {
                state.head.comment = null;
              }
              state.mode = HCRC;
            case HCRC:
              if (state.flags & 512) {
                while (bits < 16) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                if (hold !== (state.check & 65535)) {
                  strm.msg = "header crc mismatch";
                  state.mode = BAD;
                  break;
                }
                hold = 0;
                bits = 0;
              }
              if (state.head) {
                state.head.hcrc = state.flags >> 9 & 1;
                state.head.done = true;
              }
              strm.adler = state.check = 0;
              state.mode = TYPE;
              break;
            case DICTID:
              while (bits < 32) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              strm.adler = state.check = zswap32(hold);
              hold = 0;
              bits = 0;
              state.mode = DICT;
            case DICT:
              if (state.havedict === 0) {
                strm.next_out = put;
                strm.avail_out = left;
                strm.next_in = next;
                strm.avail_in = have;
                state.hold = hold;
                state.bits = bits;
                return Z_NEED_DICT;
              }
              strm.adler = state.check = 1;
              state.mode = TYPE;
            case TYPE:
              if (flush === Z_BLOCK || flush === Z_TREES) {
                break inf_leave;
              }
            case TYPEDO:
              if (state.last) {
                hold >>>= bits & 7;
                bits -= bits & 7;
                state.mode = CHECK;
                break;
              }
              while (bits < 3) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              state.last = hold & 1;
              hold >>>= 1;
              bits -= 1;
              switch (hold & 3) {
                case 0:
                  state.mode = STORED;
                  break;
                case 1:
                  fixedtables(state);
                  state.mode = LEN_;
                  if (flush === Z_TREES) {
                    hold >>>= 2;
                    bits -= 2;
                    break inf_leave;
                  }
                  break;
                case 2:
                  state.mode = TABLE;
                  break;
                case 3:
                  strm.msg = "invalid block type";
                  state.mode = BAD;
              }
              hold >>>= 2;
              bits -= 2;
              break;
            case STORED:
              hold >>>= bits & 7;
              bits -= bits & 7;
              while (bits < 32) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              if ((hold & 65535) !== (hold >>> 16 ^ 65535)) {
                strm.msg = "invalid stored block lengths";
                state.mode = BAD;
                break;
              }
              state.length = hold & 65535;
              hold = 0;
              bits = 0;
              state.mode = COPY_;
              if (flush === Z_TREES) {
                break inf_leave;
              }
            case COPY_:
              state.mode = COPY;
            case COPY:
              copy = state.length;
              if (copy) {
                if (copy > have) {
                  copy = have;
                }
                if (copy > left) {
                  copy = left;
                }
                if (copy === 0) {
                  break inf_leave;
                }
                utils.arraySet(output, input, next, copy, put);
                have -= copy;
                next += copy;
                left -= copy;
                put += copy;
                state.length -= copy;
                break;
              }
              state.mode = TYPE;
              break;
            case TABLE:
              while (bits < 14) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              state.nlen = (hold & 31) + 257;
              hold >>>= 5;
              bits -= 5;
              state.ndist = (hold & 31) + 1;
              hold >>>= 5;
              bits -= 5;
              state.ncode = (hold & 15) + 4;
              hold >>>= 4;
              bits -= 4;
              if (state.nlen > 286 || state.ndist > 30) {
                strm.msg = "too many length or distance symbols";
                state.mode = BAD;
                break;
              }
              state.have = 0;
              state.mode = LENLENS;
            case LENLENS:
              while (state.have < state.ncode) {
                while (bits < 3) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                state.lens[order[state.have++]] = hold & 7;
                hold >>>= 3;
                bits -= 3;
              }
              while (state.have < 19) {
                state.lens[order[state.have++]] = 0;
              }
              state.lencode = state.lendyn;
              state.lenbits = 7;
              opts = {bits: state.lenbits};
              ret = inflate_table(CODES, state.lens, 0, 19, state.lencode, 0, state.work, opts);
              state.lenbits = opts.bits;
              if (ret) {
                strm.msg = "invalid code lengths set";
                state.mode = BAD;
                break;
              }
              state.have = 0;
              state.mode = CODELENS;
            case CODELENS:
              while (state.have < state.nlen + state.ndist) {
                for (; ; ) {
                  here = state.lencode[hold & (1 << state.lenbits) - 1];
                  here_bits = here >>> 24;
                  here_op = here >>> 16 & 255;
                  here_val = here & 65535;
                  if (here_bits <= bits) {
                    break;
                  }
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                if (here_val < 16) {
                  hold >>>= here_bits;
                  bits -= here_bits;
                  state.lens[state.have++] = here_val;
                } else {
                  if (here_val === 16) {
                    n3 = here_bits + 2;
                    while (bits < n3) {
                      if (have === 0) {
                        break inf_leave;
                      }
                      have--;
                      hold += input[next++] << bits;
                      bits += 8;
                    }
                    hold >>>= here_bits;
                    bits -= here_bits;
                    if (state.have === 0) {
                      strm.msg = "invalid bit length repeat";
                      state.mode = BAD;
                      break;
                    }
                    len = state.lens[state.have - 1];
                    copy = 3 + (hold & 3);
                    hold >>>= 2;
                    bits -= 2;
                  } else if (here_val === 17) {
                    n3 = here_bits + 3;
                    while (bits < n3) {
                      if (have === 0) {
                        break inf_leave;
                      }
                      have--;
                      hold += input[next++] << bits;
                      bits += 8;
                    }
                    hold >>>= here_bits;
                    bits -= here_bits;
                    len = 0;
                    copy = 3 + (hold & 7);
                    hold >>>= 3;
                    bits -= 3;
                  } else {
                    n3 = here_bits + 7;
                    while (bits < n3) {
                      if (have === 0) {
                        break inf_leave;
                      }
                      have--;
                      hold += input[next++] << bits;
                      bits += 8;
                    }
                    hold >>>= here_bits;
                    bits -= here_bits;
                    len = 0;
                    copy = 11 + (hold & 127);
                    hold >>>= 7;
                    bits -= 7;
                  }
                  if (state.have + copy > state.nlen + state.ndist) {
                    strm.msg = "invalid bit length repeat";
                    state.mode = BAD;
                    break;
                  }
                  while (copy--) {
                    state.lens[state.have++] = len;
                  }
                }
              }
              if (state.mode === BAD) {
                break;
              }
              if (state.lens[256] === 0) {
                strm.msg = "invalid code -- missing end-of-block";
                state.mode = BAD;
                break;
              }
              state.lenbits = 9;
              opts = {bits: state.lenbits};
              ret = inflate_table(LENS, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts);
              state.lenbits = opts.bits;
              if (ret) {
                strm.msg = "invalid literal/lengths set";
                state.mode = BAD;
                break;
              }
              state.distbits = 6;
              state.distcode = state.distdyn;
              opts = {bits: state.distbits};
              ret = inflate_table(DISTS, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts);
              state.distbits = opts.bits;
              if (ret) {
                strm.msg = "invalid distances set";
                state.mode = BAD;
                break;
              }
              state.mode = LEN_;
              if (flush === Z_TREES) {
                break inf_leave;
              }
            case LEN_:
              state.mode = LEN;
            case LEN:
              if (have >= 6 && left >= 258) {
                strm.next_out = put;
                strm.avail_out = left;
                strm.next_in = next;
                strm.avail_in = have;
                state.hold = hold;
                state.bits = bits;
                inflate_fast(strm, _out);
                put = strm.next_out;
                output = strm.output;
                left = strm.avail_out;
                next = strm.next_in;
                input = strm.input;
                have = strm.avail_in;
                hold = state.hold;
                bits = state.bits;
                if (state.mode === TYPE) {
                  state.back = -1;
                }
                break;
              }
              state.back = 0;
              for (; ; ) {
                here = state.lencode[hold & (1 << state.lenbits) - 1];
                here_bits = here >>> 24;
                here_op = here >>> 16 & 255;
                here_val = here & 65535;
                if (here_bits <= bits) {
                  break;
                }
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              if (here_op && (here_op & 240) === 0) {
                last_bits = here_bits;
                last_op = here_op;
                last_val = here_val;
                for (; ; ) {
                  here = state.lencode[last_val + ((hold & (1 << last_bits + last_op) - 1) >> last_bits)];
                  here_bits = here >>> 24;
                  here_op = here >>> 16 & 255;
                  here_val = here & 65535;
                  if (last_bits + here_bits <= bits) {
                    break;
                  }
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                hold >>>= last_bits;
                bits -= last_bits;
                state.back += last_bits;
              }
              hold >>>= here_bits;
              bits -= here_bits;
              state.back += here_bits;
              state.length = here_val;
              if (here_op === 0) {
                state.mode = LIT;
                break;
              }
              if (here_op & 32) {
                state.back = -1;
                state.mode = TYPE;
                break;
              }
              if (here_op & 64) {
                strm.msg = "invalid literal/length code";
                state.mode = BAD;
                break;
              }
              state.extra = here_op & 15;
              state.mode = LENEXT;
            case LENEXT:
              if (state.extra) {
                n3 = state.extra;
                while (bits < n3) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                state.length += hold & (1 << state.extra) - 1;
                hold >>>= state.extra;
                bits -= state.extra;
                state.back += state.extra;
              }
              state.was = state.length;
              state.mode = DIST;
            case DIST:
              for (; ; ) {
                here = state.distcode[hold & (1 << state.distbits) - 1];
                here_bits = here >>> 24;
                here_op = here >>> 16 & 255;
                here_val = here & 65535;
                if (here_bits <= bits) {
                  break;
                }
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              if ((here_op & 240) === 0) {
                last_bits = here_bits;
                last_op = here_op;
                last_val = here_val;
                for (; ; ) {
                  here = state.distcode[last_val + ((hold & (1 << last_bits + last_op) - 1) >> last_bits)];
                  here_bits = here >>> 24;
                  here_op = here >>> 16 & 255;
                  here_val = here & 65535;
                  if (last_bits + here_bits <= bits) {
                    break;
                  }
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                hold >>>= last_bits;
                bits -= last_bits;
                state.back += last_bits;
              }
              hold >>>= here_bits;
              bits -= here_bits;
              state.back += here_bits;
              if (here_op & 64) {
                strm.msg = "invalid distance code";
                state.mode = BAD;
                break;
              }
              state.offset = here_val;
              state.extra = here_op & 15;
              state.mode = DISTEXT;
            case DISTEXT:
              if (state.extra) {
                n3 = state.extra;
                while (bits < n3) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                state.offset += hold & (1 << state.extra) - 1;
                hold >>>= state.extra;
                bits -= state.extra;
                state.back += state.extra;
              }
              if (state.offset > state.dmax) {
                strm.msg = "invalid distance too far back";
                state.mode = BAD;
                break;
              }
              state.mode = MATCH;
            case MATCH:
              if (left === 0) {
                break inf_leave;
              }
              copy = _out - left;
              if (state.offset > copy) {
                copy = state.offset - copy;
                if (copy > state.whave) {
                  if (state.sane) {
                    strm.msg = "invalid distance too far back";
                    state.mode = BAD;
                    break;
                  }
                }
                if (copy > state.wnext) {
                  copy -= state.wnext;
                  from = state.wsize - copy;
                } else {
                  from = state.wnext - copy;
                }
                if (copy > state.length) {
                  copy = state.length;
                }
                from_source = state.window;
              } else {
                from_source = output;
                from = put - state.offset;
                copy = state.length;
              }
              if (copy > left) {
                copy = left;
              }
              left -= copy;
              state.length -= copy;
              do {
                output[put++] = from_source[from++];
              } while (--copy);
              if (state.length === 0) {
                state.mode = LEN;
              }
              break;
            case LIT:
              if (left === 0) {
                break inf_leave;
              }
              output[put++] = state.length;
              left--;
              state.mode = LEN;
              break;
            case CHECK:
              if (state.wrap) {
                while (bits < 32) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold |= input[next++] << bits;
                  bits += 8;
                }
                _out -= left;
                strm.total_out += _out;
                state.total += _out;
                if (_out) {
                  strm.adler = state.check = state.flags ? crc32(state.check, output, _out, put - _out) : adler32(state.check, output, _out, put - _out);
                }
                _out = left;
                if ((state.flags ? hold : zswap32(hold)) !== state.check) {
                  strm.msg = "incorrect data check";
                  state.mode = BAD;
                  break;
                }
                hold = 0;
                bits = 0;
              }
              state.mode = LENGTH;
            case LENGTH:
              if (state.wrap && state.flags) {
                while (bits < 32) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                if (hold !== (state.total & 4294967295)) {
                  strm.msg = "incorrect length check";
                  state.mode = BAD;
                  break;
                }
                hold = 0;
                bits = 0;
              }
              state.mode = DONE;
            case DONE:
              ret = Z_STREAM_END;
              break inf_leave;
            case BAD:
              ret = Z_DATA_ERROR;
              break inf_leave;
            case MEM:
              return Z_MEM_ERROR;
            case SYNC:
            default:
              return Z_STREAM_ERROR;
          }
        }
      strm.next_out = put;
      strm.avail_out = left;
      strm.next_in = next;
      strm.avail_in = have;
      state.hold = hold;
      state.bits = bits;
      if (state.wsize || _out !== strm.avail_out && state.mode < BAD && (state.mode < CHECK || flush !== Z_FINISH)) {
        if (updatewindow(strm, strm.output, strm.next_out, _out - strm.avail_out)) {
          state.mode = MEM;
          return Z_MEM_ERROR;
        }
      }
      _in -= strm.avail_in;
      _out -= strm.avail_out;
      strm.total_in += _in;
      strm.total_out += _out;
      state.total += _out;
      if (state.wrap && _out) {
        strm.adler = state.check = state.flags ? crc32(state.check, output, _out, strm.next_out - _out) : adler32(state.check, output, _out, strm.next_out - _out);
      }
      strm.data_type = state.bits + (state.last ? 64 : 0) + (state.mode === TYPE ? 128 : 0) + (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0);
      if ((_in === 0 && _out === 0 || flush === Z_FINISH) && ret === Z_OK) {
        ret = Z_BUF_ERROR;
      }
      return ret;
    }
    function inflateEnd(strm) {
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      var state = strm.state;
      if (state.window) {
        state.window = null;
      }
      strm.state = null;
      return Z_OK;
    }
    function inflateGetHeader(strm, head) {
      var state;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      state = strm.state;
      if ((state.wrap & 2) === 0) {
        return Z_STREAM_ERROR;
      }
      state.head = head;
      head.done = false;
      return Z_OK;
    }
    function inflateSetDictionary(strm, dictionary) {
      var dictLength = dictionary.length;
      var state;
      var dictid;
      var ret;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      state = strm.state;
      if (state.wrap !== 0 && state.mode !== DICT) {
        return Z_STREAM_ERROR;
      }
      if (state.mode === DICT) {
        dictid = 1;
        dictid = adler32(dictid, dictionary, dictLength, 0);
        if (dictid !== state.check) {
          return Z_DATA_ERROR;
        }
      }
      ret = updatewindow(strm, dictionary, dictLength, dictLength);
      if (ret) {
        state.mode = MEM;
        return Z_MEM_ERROR;
      }
      state.havedict = 1;
      return Z_OK;
    }
    exports.inflateReset = inflateReset;
    exports.inflateReset2 = inflateReset2;
    exports.inflateResetKeep = inflateResetKeep;
    exports.inflateInit = inflateInit;
    exports.inflateInit2 = inflateInit2;
    exports.inflate = inflate;
    exports.inflateEnd = inflateEnd;
    exports.inflateGetHeader = inflateGetHeader;
    exports.inflateSetDictionary = inflateSetDictionary;
    exports.inflateInfo = "pako inflate (from Nodeca project)";
  });

  // node_modules/pako/lib/zlib/constants.js
  var require_constants = __commonJS((exports, module) => {
    "use strict";
    module.exports = {
      Z_NO_FLUSH: 0,
      Z_PARTIAL_FLUSH: 1,
      Z_SYNC_FLUSH: 2,
      Z_FULL_FLUSH: 3,
      Z_FINISH: 4,
      Z_BLOCK: 5,
      Z_TREES: 6,
      Z_OK: 0,
      Z_STREAM_END: 1,
      Z_NEED_DICT: 2,
      Z_ERRNO: -1,
      Z_STREAM_ERROR: -2,
      Z_DATA_ERROR: -3,
      Z_BUF_ERROR: -5,
      Z_NO_COMPRESSION: 0,
      Z_BEST_SPEED: 1,
      Z_BEST_COMPRESSION: 9,
      Z_DEFAULT_COMPRESSION: -1,
      Z_FILTERED: 1,
      Z_HUFFMAN_ONLY: 2,
      Z_RLE: 3,
      Z_FIXED: 4,
      Z_DEFAULT_STRATEGY: 0,
      Z_BINARY: 0,
      Z_TEXT: 1,
      Z_UNKNOWN: 2,
      Z_DEFLATED: 8
    };
  });

  // node_modules/pako/lib/zlib/gzheader.js
  var require_gzheader = __commonJS((exports, module) => {
    "use strict";
    function GZheader() {
      this.text = 0;
      this.time = 0;
      this.xflags = 0;
      this.os = 0;
      this.extra = null;
      this.extra_len = 0;
      this.name = "";
      this.comment = "";
      this.hcrc = 0;
      this.done = false;
    }
    module.exports = GZheader;
  });

  // node_modules/pako/lib/inflate.js
  var require_inflate = __commonJS((exports) => {
    "use strict";
    var zlib_inflate = require_inflate2();
    var utils = require_common();
    var strings = require_strings();
    var c3 = require_constants();
    var msg = require_messages();
    var ZStream = require_zstream();
    var GZheader = require_gzheader();
    var toString = Object.prototype.toString;
    function Inflate(options) {
      if (!(this instanceof Inflate))
        return new Inflate(options);
      this.options = utils.assign({
        chunkSize: 16384,
        windowBits: 0,
        to: ""
      }, options || {});
      var opt = this.options;
      if (opt.raw && opt.windowBits >= 0 && opt.windowBits < 16) {
        opt.windowBits = -opt.windowBits;
        if (opt.windowBits === 0) {
          opt.windowBits = -15;
        }
      }
      if (opt.windowBits >= 0 && opt.windowBits < 16 && !(options && options.windowBits)) {
        opt.windowBits += 32;
      }
      if (opt.windowBits > 15 && opt.windowBits < 48) {
        if ((opt.windowBits & 15) === 0) {
          opt.windowBits |= 15;
        }
      }
      this.err = 0;
      this.msg = "";
      this.ended = false;
      this.chunks = [];
      this.strm = new ZStream();
      this.strm.avail_out = 0;
      var status = zlib_inflate.inflateInit2(this.strm, opt.windowBits);
      if (status !== c3.Z_OK) {
        throw new Error(msg[status]);
      }
      this.header = new GZheader();
      zlib_inflate.inflateGetHeader(this.strm, this.header);
      if (opt.dictionary) {
        if (typeof opt.dictionary === "string") {
          opt.dictionary = strings.string2buf(opt.dictionary);
        } else if (toString.call(opt.dictionary) === "[object ArrayBuffer]") {
          opt.dictionary = new Uint8Array(opt.dictionary);
        }
        if (opt.raw) {
          status = zlib_inflate.inflateSetDictionary(this.strm, opt.dictionary);
          if (status !== c3.Z_OK) {
            throw new Error(msg[status]);
          }
        }
      }
    }
    Inflate.prototype.push = function(data, mode) {
      var strm = this.strm;
      var chunkSize = this.options.chunkSize;
      var dictionary = this.options.dictionary;
      var status, _mode;
      var next_out_utf8, tail, utf8str;
      var allowBufError = false;
      if (this.ended) {
        return false;
      }
      _mode = mode === ~~mode ? mode : mode === true ? c3.Z_FINISH : c3.Z_NO_FLUSH;
      if (typeof data === "string") {
        strm.input = strings.binstring2buf(data);
      } else if (toString.call(data) === "[object ArrayBuffer]") {
        strm.input = new Uint8Array(data);
      } else {
        strm.input = data;
      }
      strm.next_in = 0;
      strm.avail_in = strm.input.length;
      do {
        if (strm.avail_out === 0) {
          strm.output = new utils.Buf8(chunkSize);
          strm.next_out = 0;
          strm.avail_out = chunkSize;
        }
        status = zlib_inflate.inflate(strm, c3.Z_NO_FLUSH);
        if (status === c3.Z_NEED_DICT && dictionary) {
          status = zlib_inflate.inflateSetDictionary(this.strm, dictionary);
        }
        if (status === c3.Z_BUF_ERROR && allowBufError === true) {
          status = c3.Z_OK;
          allowBufError = false;
        }
        if (status !== c3.Z_STREAM_END && status !== c3.Z_OK) {
          this.onEnd(status);
          this.ended = true;
          return false;
        }
        if (strm.next_out) {
          if (strm.avail_out === 0 || status === c3.Z_STREAM_END || strm.avail_in === 0 && (_mode === c3.Z_FINISH || _mode === c3.Z_SYNC_FLUSH)) {
            if (this.options.to === "string") {
              next_out_utf8 = strings.utf8border(strm.output, strm.next_out);
              tail = strm.next_out - next_out_utf8;
              utf8str = strings.buf2string(strm.output, next_out_utf8);
              strm.next_out = tail;
              strm.avail_out = chunkSize - tail;
              if (tail) {
                utils.arraySet(strm.output, strm.output, next_out_utf8, tail, 0);
              }
              this.onData(utf8str);
            } else {
              this.onData(utils.shrinkBuf(strm.output, strm.next_out));
            }
          }
        }
        if (strm.avail_in === 0 && strm.avail_out === 0) {
          allowBufError = true;
        }
      } while ((strm.avail_in > 0 || strm.avail_out === 0) && status !== c3.Z_STREAM_END);
      if (status === c3.Z_STREAM_END) {
        _mode = c3.Z_FINISH;
      }
      if (_mode === c3.Z_FINISH) {
        status = zlib_inflate.inflateEnd(this.strm);
        this.onEnd(status);
        this.ended = true;
        return status === c3.Z_OK;
      }
      if (_mode === c3.Z_SYNC_FLUSH) {
        this.onEnd(c3.Z_OK);
        strm.avail_out = 0;
        return true;
      }
      return true;
    };
    Inflate.prototype.onData = function(chunk) {
      this.chunks.push(chunk);
    };
    Inflate.prototype.onEnd = function(status) {
      if (status === c3.Z_OK) {
        if (this.options.to === "string") {
          this.result = this.chunks.join("");
        } else {
          this.result = utils.flattenChunks(this.chunks);
        }
      }
      this.chunks = [];
      this.err = status;
      this.msg = this.strm.msg;
    };
    function inflate(input, options) {
      var inflator = new Inflate(options);
      inflator.push(input, true);
      if (inflator.err) {
        throw inflator.msg || msg[inflator.err];
      }
      return inflator.result;
    }
    function inflateRaw(input, options) {
      options = options || {};
      options.raw = true;
      return inflate(input, options);
    }
    exports.Inflate = Inflate;
    exports.inflate = inflate;
    exports.inflateRaw = inflateRaw;
    exports.ungzip = inflate;
  });

  // node_modules/pako/index.js
  var require_pako = __commonJS((exports, module) => {
    "use strict";
    var assign = require_common().assign;
    var deflate2 = require_deflate();
    var inflate = require_inflate();
    var constants7 = require_constants();
    var pako2 = {};
    assign(pako2, deflate2, inflate, constants7);
    module.exports = pako2;
  });

  // node_modules/file-saver/dist/FileSaver.min.js
  var require_FileSaver_min = __commonJS((exports, module) => {
    (function(a3, b2) {
      if ("function" == typeof define && define.amd)
        define([], b2);
      else if ("undefined" != typeof exports)
        b2();
      else {
        b2(), a3.FileSaver = {exports: {}}.exports;
      }
    })(exports, function() {
      "use strict";
      function b2(a4, b3) {
        return "undefined" == typeof b3 ? b3 = {autoBom: false} : "object" != typeof b3 && (console.warn("Deprecated: Expected third argument to be a object"), b3 = {autoBom: !b3}), b3.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a4.type) ? new Blob(["﻿", a4], {type: a4.type}) : a4;
      }
      function c3(b3, c4, d3) {
        var e3 = new XMLHttpRequest();
        e3.open("GET", b3), e3.responseType = "blob", e3.onload = function() {
          a3(e3.response, c4, d3);
        }, e3.onerror = function() {
          console.error("could not download file");
        }, e3.send();
      }
      function d2(a4) {
        var b3 = new XMLHttpRequest();
        b3.open("HEAD", a4, false);
        try {
          b3.send();
        } catch (a5) {
        }
        return 200 <= b3.status && 299 >= b3.status;
      }
      function e2(a4) {
        try {
          a4.dispatchEvent(new MouseEvent("click"));
        } catch (c4) {
          var b3 = document.createEvent("MouseEvents");
          b3.initMouseEvent("click", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null), a4.dispatchEvent(b3);
        }
      }
      var f3 = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof global && global.global === global ? global : void 0, a3 = f3.saveAs || ("object" != typeof window || window !== f3 ? function() {
      } : "download" in HTMLAnchorElement.prototype ? function(b3, g3, h3) {
        var i3 = f3.URL || f3.webkitURL, j2 = document.createElement("a");
        g3 = g3 || b3.name || "download", j2.download = g3, j2.rel = "noopener", "string" == typeof b3 ? (j2.href = b3, j2.origin === location.origin ? e2(j2) : d2(j2.href) ? c3(b3, g3, h3) : e2(j2, j2.target = "_blank")) : (j2.href = i3.createObjectURL(b3), setTimeout(function() {
          i3.revokeObjectURL(j2.href);
        }, 4e4), setTimeout(function() {
          e2(j2);
        }, 0));
      } : "msSaveOrOpenBlob" in navigator ? function(f4, g3, h3) {
        if (g3 = g3 || f4.name || "download", "string" != typeof f4)
          navigator.msSaveOrOpenBlob(b2(f4, h3), g3);
        else if (d2(f4))
          c3(f4, g3, h3);
        else {
          var i3 = document.createElement("a");
          i3.href = f4, i3.target = "_blank", setTimeout(function() {
            e2(i3);
          });
        }
      } : function(a4, b3, d3, e3) {
        if (e3 = e3 || open("", "_blank"), e3 && (e3.document.title = e3.document.body.innerText = "downloading..."), "string" == typeof a4)
          return c3(a4, b3, d3);
        var g3 = "application/octet-stream" === a4.type, h3 = /constructor/i.test(f3.HTMLElement) || f3.safari, i3 = /CriOS\/[\d]+/.test(navigator.userAgent);
        if ((i3 || g3 && h3) && "object" == typeof FileReader) {
          var j2 = new FileReader();
          j2.onloadend = function() {
            var a5 = j2.result;
            a5 = i3 ? a5 : a5.replace(/^data:[^;]*;/, "data:attachment/file;"), e3 ? e3.location.href = a5 : location = a5, e3 = null;
          }, j2.readAsDataURL(a4);
        } else {
          var k2 = f3.URL || f3.webkitURL, l3 = k2.createObjectURL(a4);
          e3 ? e3.location = l3 : location.href = l3, e3 = null, setTimeout(function() {
            k2.revokeObjectURL(l3);
          }, 4e4);
        }
      });
      f3.saveAs = a3.saveAs = a3, "undefined" != typeof module && (module.exports = a3);
    });
  });

  // node_modules/pica/dist/pica.js
  var require_pica = __commonJS((exports, module) => {
    /*!
    
    pica
    https://github.com/nodeca/pica
    
    */
    (function(f3) {
      if (typeof exports === "object" && typeof module !== "undefined") {
        module.exports = f3();
      } else if (typeof define === "function" && define.amd) {
        define([], f3);
      } else {
        var g3;
        if (typeof window !== "undefined") {
          g3 = window;
        } else if (typeof global !== "undefined") {
          g3 = global;
        } else if (typeof self !== "undefined") {
          g3 = self;
        } else {
          g3 = this;
        }
        g3.pica = f3();
      }
    })(function() {
      var define2, module2, exports2;
      return function() {
        function r2(e2, n3, t2) {
          function o3(i4, f3) {
            if (!n3[i4]) {
              if (!e2[i4]) {
                var c3 = false;
                if (!f3 && c3)
                  return c3(i4, true);
                if (u3)
                  return u3(i4, true);
                var a3 = new Error("Cannot find module '" + i4 + "'");
                throw a3.code = "MODULE_NOT_FOUND", a3;
              }
              var p3 = n3[i4] = {exports: {}};
              e2[i4][0].call(p3.exports, function(r3) {
                var n4 = e2[i4][1][r3];
                return o3(n4 || r3);
              }, p3, p3.exports, r2, e2, n3, t2);
            }
            return n3[i4].exports;
          }
          for (var u3 = false, i3 = 0; i3 < t2.length; i3++)
            o3(t2[i3]);
          return o3;
        }
        return r2;
      }()({1: [function(_dereq_, module3, exports3) {
        "use strict";
        var inherits = _dereq_("inherits");
        var Multimath = _dereq_("multimath");
        var mm_unsharp_mask = _dereq_("multimath/lib/unsharp_mask");
        var mm_resize = _dereq_("./mm_resize");
        function MathLib(requested_features) {
          var __requested_features = requested_features || [];
          var features = {
            js: __requested_features.indexOf("js") >= 0,
            wasm: __requested_features.indexOf("wasm") >= 0
          };
          Multimath.call(this, features);
          this.features = {
            js: features.js,
            wasm: features.wasm && this.has_wasm()
          };
          this.use(mm_unsharp_mask);
          this.use(mm_resize);
        }
        inherits(MathLib, Multimath);
        MathLib.prototype.resizeAndUnsharp = function resizeAndUnsharp(options, cache) {
          var result = this.resize(options, cache);
          if (options.unsharpAmount) {
            this.unsharp_mask(result, options.toWidth, options.toHeight, options.unsharpAmount, options.unsharpRadius, options.unsharpThreshold);
          }
          return result;
        };
        module3.exports = MathLib;
      }, {"./mm_resize": 4, inherits: 15, multimath: 16, "multimath/lib/unsharp_mask": 19}], 2: [function(_dereq_, module3, exports3) {
        "use strict";
        function clampTo8(i3) {
          return i3 < 0 ? 0 : i3 > 255 ? 255 : i3;
        }
        function convolveHorizontally(src, dest, srcW, srcH, destW, filters2) {
          var r2, g3, b2, a3;
          var filterPtr, filterShift, filterSize;
          var srcPtr, srcY, destX, filterVal;
          var srcOffset = 0, destOffset = 0;
          for (srcY = 0; srcY < srcH; srcY++) {
            filterPtr = 0;
            for (destX = 0; destX < destW; destX++) {
              filterShift = filters2[filterPtr++];
              filterSize = filters2[filterPtr++];
              srcPtr = srcOffset + filterShift * 4 | 0;
              r2 = g3 = b2 = a3 = 0;
              for (; filterSize > 0; filterSize--) {
                filterVal = filters2[filterPtr++];
                a3 = a3 + filterVal * src[srcPtr + 3] | 0;
                b2 = b2 + filterVal * src[srcPtr + 2] | 0;
                g3 = g3 + filterVal * src[srcPtr + 1] | 0;
                r2 = r2 + filterVal * src[srcPtr] | 0;
                srcPtr = srcPtr + 4 | 0;
              }
              dest[destOffset + 3] = clampTo8(a3 + (1 << 13) >> 14);
              dest[destOffset + 2] = clampTo8(b2 + (1 << 13) >> 14);
              dest[destOffset + 1] = clampTo8(g3 + (1 << 13) >> 14);
              dest[destOffset] = clampTo8(r2 + (1 << 13) >> 14);
              destOffset = destOffset + srcH * 4 | 0;
            }
            destOffset = (srcY + 1) * 4 | 0;
            srcOffset = (srcY + 1) * srcW * 4 | 0;
          }
        }
        function convolveVertically(src, dest, srcW, srcH, destW, filters2) {
          var r2, g3, b2, a3;
          var filterPtr, filterShift, filterSize;
          var srcPtr, srcY, destX, filterVal;
          var srcOffset = 0, destOffset = 0;
          for (srcY = 0; srcY < srcH; srcY++) {
            filterPtr = 0;
            for (destX = 0; destX < destW; destX++) {
              filterShift = filters2[filterPtr++];
              filterSize = filters2[filterPtr++];
              srcPtr = srcOffset + filterShift * 4 | 0;
              r2 = g3 = b2 = a3 = 0;
              for (; filterSize > 0; filterSize--) {
                filterVal = filters2[filterPtr++];
                a3 = a3 + filterVal * src[srcPtr + 3] | 0;
                b2 = b2 + filterVal * src[srcPtr + 2] | 0;
                g3 = g3 + filterVal * src[srcPtr + 1] | 0;
                r2 = r2 + filterVal * src[srcPtr] | 0;
                srcPtr = srcPtr + 4 | 0;
              }
              dest[destOffset + 3] = clampTo8(a3 + (1 << 13) >> 14);
              dest[destOffset + 2] = clampTo8(b2 + (1 << 13) >> 14);
              dest[destOffset + 1] = clampTo8(g3 + (1 << 13) >> 14);
              dest[destOffset] = clampTo8(r2 + (1 << 13) >> 14);
              destOffset = destOffset + srcH * 4 | 0;
            }
            destOffset = (srcY + 1) * 4 | 0;
            srcOffset = (srcY + 1) * srcW * 4 | 0;
          }
        }
        module3.exports = {
          convolveHorizontally,
          convolveVertically
        };
      }, {}], 3: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = "AGFzbQEAAAABFAJgBn9/f39/fwBgB39/f39/f38AAg8BA2VudgZtZW1vcnkCAAEDAwIAAQQEAXAAAAcZAghjb252b2x2ZQAACmNvbnZvbHZlSFYAAQkBAArmAwLBAwEQfwJAIANFDQAgBEUNACAFQQRqIRVBACEMQQAhDQNAIA0hDkEAIRFBACEHA0AgB0ECaiESAn8gBSAHQQF0IgdqIgZBAmouAQAiEwRAQQAhCEEAIBNrIRQgFSAHaiEPIAAgDCAGLgEAakECdGohEEEAIQlBACEKQQAhCwNAIBAoAgAiB0EYdiAPLgEAIgZsIAtqIQsgB0H/AXEgBmwgCGohCCAHQRB2Qf8BcSAGbCAKaiEKIAdBCHZB/wFxIAZsIAlqIQkgD0ECaiEPIBBBBGohECAUQQFqIhQNAAsgEiATagwBC0EAIQtBACEKQQAhCUEAIQggEgshByABIA5BAnRqIApBgMAAakEOdSIGQf8BIAZB/wFIG0EQdEGAgPwHcUEAIAZBAEobIAtBgMAAakEOdSIGQf8BIAZB/wFIG0EYdEEAIAZBAEobciAJQYDAAGpBDnUiBkH/ASAGQf8BSBtBCHRBgP4DcUEAIAZBAEobciAIQYDAAGpBDnUiBkH/ASAGQf8BSBtB/wFxQQAgBkEAShtyNgIAIA4gA2ohDiARQQFqIhEgBEcNAAsgDCACaiEMIA1BAWoiDSADRw0ACwsLIQACQEEAIAIgAyAEIAUgABAAIAJBACAEIAUgBiABEAALCw==";
      }, {}], 4: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = {
          name: "resize",
          fn: _dereq_("./resize"),
          wasm_fn: _dereq_("./resize_wasm"),
          wasm_src: _dereq_("./convolve_wasm_base64")
        };
      }, {"./convolve_wasm_base64": 3, "./resize": 5, "./resize_wasm": 8}], 5: [function(_dereq_, module3, exports3) {
        "use strict";
        var createFilters = _dereq_("./resize_filter_gen");
        var convolveHorizontally = _dereq_("./convolve").convolveHorizontally;
        var convolveVertically = _dereq_("./convolve").convolveVertically;
        function resetAlpha(dst, width, height) {
          var ptr = 3, len = width * height * 4 | 0;
          while (ptr < len) {
            dst[ptr] = 255;
            ptr = ptr + 4 | 0;
          }
        }
        module3.exports = function resize(options) {
          var src = options.src;
          var srcW = options.width;
          var srcH = options.height;
          var destW = options.toWidth;
          var destH = options.toHeight;
          var scaleX = options.scaleX || options.toWidth / options.width;
          var scaleY = options.scaleY || options.toHeight / options.height;
          var offsetX = options.offsetX || 0;
          var offsetY = options.offsetY || 0;
          var dest = options.dest || new Uint8Array(destW * destH * 4);
          var quality = typeof options.quality === "undefined" ? 3 : options.quality;
          var alpha = options.alpha || false;
          var filtersX = createFilters(quality, srcW, destW, scaleX, offsetX), filtersY = createFilters(quality, srcH, destH, scaleY, offsetY);
          var tmp = new Uint8Array(destW * srcH * 4);
          convolveHorizontally(src, tmp, srcW, srcH, destW, filtersX);
          convolveVertically(tmp, dest, srcH, destW, destH, filtersY);
          if (!alpha)
            resetAlpha(dest, destW, destH);
          return dest;
        };
      }, {"./convolve": 2, "./resize_filter_gen": 6}], 6: [function(_dereq_, module3, exports3) {
        "use strict";
        var FILTER_INFO = _dereq_("./resize_filter_info");
        var FIXED_FRAC_BITS = 14;
        function toFixedPoint(num) {
          return Math.round(num * ((1 << FIXED_FRAC_BITS) - 1));
        }
        module3.exports = function resizeFilterGen(quality, srcSize, destSize, scale, offset) {
          var filterFunction = FILTER_INFO[quality].filter;
          var scaleInverted = 1 / scale;
          var scaleClamped = Math.min(1, scale);
          var srcWindow = FILTER_INFO[quality].win / scaleClamped;
          var destPixel, srcPixel, srcFirst, srcLast, filterElementSize, floatFilter, fxpFilter, total, pxl, idx, floatVal, filterTotal, filterVal;
          var leftNotEmpty, rightNotEmpty, filterShift, filterSize;
          var maxFilterElementSize = Math.floor((srcWindow + 1) * 2);
          var packedFilter = new Int16Array((maxFilterElementSize + 2) * destSize);
          var packedFilterPtr = 0;
          var slowCopy = !packedFilter.subarray || !packedFilter.set;
          for (destPixel = 0; destPixel < destSize; destPixel++) {
            srcPixel = (destPixel + 0.5) * scaleInverted + offset;
            srcFirst = Math.max(0, Math.floor(srcPixel - srcWindow));
            srcLast = Math.min(srcSize - 1, Math.ceil(srcPixel + srcWindow));
            filterElementSize = srcLast - srcFirst + 1;
            floatFilter = new Float32Array(filterElementSize);
            fxpFilter = new Int16Array(filterElementSize);
            total = 0;
            for (pxl = srcFirst, idx = 0; pxl <= srcLast; pxl++, idx++) {
              floatVal = filterFunction((pxl + 0.5 - srcPixel) * scaleClamped);
              total += floatVal;
              floatFilter[idx] = floatVal;
            }
            filterTotal = 0;
            for (idx = 0; idx < floatFilter.length; idx++) {
              filterVal = floatFilter[idx] / total;
              filterTotal += filterVal;
              fxpFilter[idx] = toFixedPoint(filterVal);
            }
            fxpFilter[destSize >> 1] += toFixedPoint(1 - filterTotal);
            leftNotEmpty = 0;
            while (leftNotEmpty < fxpFilter.length && fxpFilter[leftNotEmpty] === 0) {
              leftNotEmpty++;
            }
            if (leftNotEmpty < fxpFilter.length) {
              rightNotEmpty = fxpFilter.length - 1;
              while (rightNotEmpty > 0 && fxpFilter[rightNotEmpty] === 0) {
                rightNotEmpty--;
              }
              filterShift = srcFirst + leftNotEmpty;
              filterSize = rightNotEmpty - leftNotEmpty + 1;
              packedFilter[packedFilterPtr++] = filterShift;
              packedFilter[packedFilterPtr++] = filterSize;
              if (!slowCopy) {
                packedFilter.set(fxpFilter.subarray(leftNotEmpty, rightNotEmpty + 1), packedFilterPtr);
                packedFilterPtr += filterSize;
              } else {
                for (idx = leftNotEmpty; idx <= rightNotEmpty; idx++) {
                  packedFilter[packedFilterPtr++] = fxpFilter[idx];
                }
              }
            } else {
              packedFilter[packedFilterPtr++] = 0;
              packedFilter[packedFilterPtr++] = 0;
            }
          }
          return packedFilter;
        };
      }, {"./resize_filter_info": 7}], 7: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = [{
          win: 0.5,
          filter: function filter(x2) {
            return x2 >= -0.5 && x2 < 0.5 ? 1 : 0;
          }
        }, {
          win: 1,
          filter: function filter(x2) {
            if (x2 <= -1 || x2 >= 1) {
              return 0;
            }
            if (x2 > -11920929e-14 && x2 < 11920929e-14) {
              return 1;
            }
            var xpi = x2 * Math.PI;
            return Math.sin(xpi) / xpi * (0.54 + 0.46 * Math.cos(xpi / 1));
          }
        }, {
          win: 2,
          filter: function filter(x2) {
            if (x2 <= -2 || x2 >= 2) {
              return 0;
            }
            if (x2 > -11920929e-14 && x2 < 11920929e-14) {
              return 1;
            }
            var xpi = x2 * Math.PI;
            return Math.sin(xpi) / xpi * Math.sin(xpi / 2) / (xpi / 2);
          }
        }, {
          win: 3,
          filter: function filter(x2) {
            if (x2 <= -3 || x2 >= 3) {
              return 0;
            }
            if (x2 > -11920929e-14 && x2 < 11920929e-14) {
              return 1;
            }
            var xpi = x2 * Math.PI;
            return Math.sin(xpi) / xpi * Math.sin(xpi / 3) / (xpi / 3);
          }
        }];
      }, {}], 8: [function(_dereq_, module3, exports3) {
        "use strict";
        var createFilters = _dereq_("./resize_filter_gen");
        function resetAlpha(dst, width, height) {
          var ptr = 3, len = width * height * 4 | 0;
          while (ptr < len) {
            dst[ptr] = 255;
            ptr = ptr + 4 | 0;
          }
        }
        function asUint8Array(src) {
          return new Uint8Array(src.buffer, 0, src.byteLength);
        }
        var IS_LE = true;
        try {
          IS_LE = new Uint32Array(new Uint8Array([1, 0, 0, 0]).buffer)[0] === 1;
        } catch (__) {
        }
        function copyInt16asLE(src, target, target_offset) {
          if (IS_LE) {
            target.set(asUint8Array(src), target_offset);
            return;
          }
          for (var ptr = target_offset, i3 = 0; i3 < src.length; i3++) {
            var data = src[i3];
            target[ptr++] = data & 255;
            target[ptr++] = data >> 8 & 255;
          }
        }
        module3.exports = function resize_wasm(options) {
          var src = options.src;
          var srcW = options.width;
          var srcH = options.height;
          var destW = options.toWidth;
          var destH = options.toHeight;
          var scaleX = options.scaleX || options.toWidth / options.width;
          var scaleY = options.scaleY || options.toHeight / options.height;
          var offsetX = options.offsetX || 0;
          var offsetY = options.offsetY || 0;
          var dest = options.dest || new Uint8Array(destW * destH * 4);
          var quality = typeof options.quality === "undefined" ? 3 : options.quality;
          var alpha = options.alpha || false;
          var filtersX = createFilters(quality, srcW, destW, scaleX, offsetX), filtersY = createFilters(quality, srcH, destH, scaleY, offsetY);
          var src_offset = 0;
          var tmp_offset = this.__align(src_offset + Math.max(src.byteLength, dest.byteLength));
          var filtersX_offset = this.__align(tmp_offset + srcH * destW * 4);
          var filtersY_offset = this.__align(filtersX_offset + filtersX.byteLength);
          var alloc_bytes = filtersY_offset + filtersY.byteLength;
          var instance = this.__instance("resize", alloc_bytes);
          var mem = new Uint8Array(this.__memory.buffer);
          var mem32 = new Uint32Array(this.__memory.buffer);
          var src32 = new Uint32Array(src.buffer);
          mem32.set(src32);
          copyInt16asLE(filtersX, mem, filtersX_offset);
          copyInt16asLE(filtersY, mem, filtersY_offset);
          var fn = instance.exports.convolveHV || instance.exports._convolveHV;
          fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH);
          var dest32 = new Uint32Array(dest.buffer);
          dest32.set(new Uint32Array(this.__memory.buffer, 0, destH * destW));
          if (!alpha)
            resetAlpha(dest, destW, destH);
          return dest;
        };
      }, {"./resize_filter_gen": 6}], 9: [function(_dereq_, module3, exports3) {
        "use strict";
        var GC_INTERVAL = 100;
        function Pool(create, idle) {
          this.create = create;
          this.available = [];
          this.acquired = {};
          this.lastId = 1;
          this.timeoutId = 0;
          this.idle = idle || 2e3;
        }
        Pool.prototype.acquire = function() {
          var _this = this;
          var resource;
          if (this.available.length !== 0) {
            resource = this.available.pop();
          } else {
            resource = this.create();
            resource.id = this.lastId++;
            resource.release = function() {
              return _this.release(resource);
            };
          }
          this.acquired[resource.id] = resource;
          return resource;
        };
        Pool.prototype.release = function(resource) {
          var _this2 = this;
          delete this.acquired[resource.id];
          resource.lastUsed = Date.now();
          this.available.push(resource);
          if (this.timeoutId === 0) {
            this.timeoutId = setTimeout(function() {
              return _this2.gc();
            }, GC_INTERVAL);
          }
        };
        Pool.prototype.gc = function() {
          var _this3 = this;
          var now = Date.now();
          this.available = this.available.filter(function(resource) {
            if (now - resource.lastUsed > _this3.idle) {
              resource.destroy();
              return false;
            }
            return true;
          });
          if (this.available.length !== 0) {
            this.timeoutId = setTimeout(function() {
              return _this3.gc();
            }, GC_INTERVAL);
          } else {
            this.timeoutId = 0;
          }
        };
        module3.exports = Pool;
      }, {}], 10: [function(_dereq_, module3, exports3) {
        "use strict";
        var MIN_INNER_TILE_SIZE = 2;
        module3.exports = function createStages(fromWidth, fromHeight, toWidth, toHeight, srcTileSize, destTileBorder) {
          var scaleX = toWidth / fromWidth;
          var scaleY = toHeight / fromHeight;
          var minScale = (2 * destTileBorder + MIN_INNER_TILE_SIZE + 1) / srcTileSize;
          if (minScale > 0.5)
            return [[toWidth, toHeight]];
          var stageCount = Math.ceil(Math.log(Math.min(scaleX, scaleY)) / Math.log(minScale));
          if (stageCount <= 1)
            return [[toWidth, toHeight]];
          var result = [];
          for (var i3 = 0; i3 < stageCount; i3++) {
            var width = Math.round(Math.pow(Math.pow(fromWidth, stageCount - i3 - 1) * Math.pow(toWidth, i3 + 1), 1 / stageCount));
            var height = Math.round(Math.pow(Math.pow(fromHeight, stageCount - i3 - 1) * Math.pow(toHeight, i3 + 1), 1 / stageCount));
            result.push([width, height]);
          }
          return result;
        };
      }, {}], 11: [function(_dereq_, module3, exports3) {
        "use strict";
        var PIXEL_EPSILON = 1e-5;
        function pixelFloor(x2) {
          var nearest = Math.round(x2);
          if (Math.abs(x2 - nearest) < PIXEL_EPSILON) {
            return nearest;
          }
          return Math.floor(x2);
        }
        function pixelCeil(x2) {
          var nearest = Math.round(x2);
          if (Math.abs(x2 - nearest) < PIXEL_EPSILON) {
            return nearest;
          }
          return Math.ceil(x2);
        }
        module3.exports = function createRegions(options) {
          var scaleX = options.toWidth / options.width;
          var scaleY = options.toHeight / options.height;
          var innerTileWidth = pixelFloor(options.srcTileSize * scaleX) - 2 * options.destTileBorder;
          var innerTileHeight = pixelFloor(options.srcTileSize * scaleY) - 2 * options.destTileBorder;
          if (innerTileWidth < 1 || innerTileHeight < 1) {
            throw new Error("Internal error in pica: target tile width/height is too small.");
          }
          var x2, y2;
          var innerX, innerY, toTileWidth, toTileHeight;
          var tiles = [];
          var tile;
          for (innerY = 0; innerY < options.toHeight; innerY += innerTileHeight) {
            for (innerX = 0; innerX < options.toWidth; innerX += innerTileWidth) {
              x2 = innerX - options.destTileBorder;
              if (x2 < 0) {
                x2 = 0;
              }
              toTileWidth = innerX + innerTileWidth + options.destTileBorder - x2;
              if (x2 + toTileWidth >= options.toWidth) {
                toTileWidth = options.toWidth - x2;
              }
              y2 = innerY - options.destTileBorder;
              if (y2 < 0) {
                y2 = 0;
              }
              toTileHeight = innerY + innerTileHeight + options.destTileBorder - y2;
              if (y2 + toTileHeight >= options.toHeight) {
                toTileHeight = options.toHeight - y2;
              }
              tile = {
                toX: x2,
                toY: y2,
                toWidth: toTileWidth,
                toHeight: toTileHeight,
                toInnerX: innerX,
                toInnerY: innerY,
                toInnerWidth: innerTileWidth,
                toInnerHeight: innerTileHeight,
                offsetX: x2 / scaleX - pixelFloor(x2 / scaleX),
                offsetY: y2 / scaleY - pixelFloor(y2 / scaleY),
                scaleX,
                scaleY,
                x: pixelFloor(x2 / scaleX),
                y: pixelFloor(y2 / scaleY),
                width: pixelCeil(toTileWidth / scaleX),
                height: pixelCeil(toTileHeight / scaleY)
              };
              tiles.push(tile);
            }
          }
          return tiles;
        };
      }, {}], 12: [function(_dereq_, module3, exports3) {
        "use strict";
        function objClass(obj) {
          return Object.prototype.toString.call(obj);
        }
        module3.exports.isCanvas = function isCanvas(element) {
          var cname = objClass(element);
          return cname === "[object HTMLCanvasElement]" || cname === "[object OffscreenCanvas]" || cname === "[object Canvas]";
        };
        module3.exports.isImage = function isImage(element) {
          return objClass(element) === "[object HTMLImageElement]";
        };
        module3.exports.isImageBitmap = function isImageBitmap(element) {
          return objClass(element) === "[object ImageBitmap]";
        };
        module3.exports.limiter = function limiter(concurrency) {
          var active = 0, queue = [];
          function roll() {
            if (active < concurrency && queue.length) {
              active++;
              queue.shift()();
            }
          }
          return function limit(fn) {
            return new Promise(function(resolve, reject) {
              queue.push(function() {
                fn().then(function(result) {
                  resolve(result);
                  active--;
                  roll();
                }, function(err) {
                  reject(err);
                  active--;
                  roll();
                });
              });
              roll();
            });
          };
        };
        module3.exports.cib_quality_name = function cib_quality_name(num) {
          switch (num) {
            case 0:
              return "pixelated";
            case 1:
              return "low";
            case 2:
              return "medium";
          }
          return "high";
        };
        module3.exports.cib_support = function cib_support(createCanvas) {
          return Promise.resolve().then(function() {
            if (typeof createImageBitmap === "undefined") {
              return false;
            }
            var c3 = createCanvas(100, 100);
            return createImageBitmap(c3, 0, 0, 100, 100, {
              resizeWidth: 10,
              resizeHeight: 10,
              resizeQuality: "high"
            }).then(function(bitmap) {
              var status = bitmap.width === 10;
              bitmap.close();
              c3 = null;
              return status;
            });
          })["catch"](function() {
            return false;
          });
        };
      }, {}], 13: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = function() {
          var MathLib = _dereq_("./mathlib");
          var mathLib;
          onmessage = function onmessage2(ev) {
            var opts = ev.data.opts;
            if (!mathLib)
              mathLib = new MathLib(ev.data.features);
            var result = mathLib.resizeAndUnsharp(opts);
            postMessage({
              result
            }, [result.buffer]);
          };
        };
      }, {"./mathlib": 1}], 14: [function(_dereq_, module3, exports3) {
        var a0, a1, a22, a3, b1, b2, left_corner, right_corner;
        function gaussCoef(sigma) {
          if (sigma < 0.5) {
            sigma = 0.5;
          }
          var a4 = Math.exp(0.726 * 0.726) / sigma, g1 = Math.exp(-a4), g22 = Math.exp(-2 * a4), k2 = (1 - g1) * (1 - g1) / (1 + 2 * a4 * g1 - g22);
          a0 = k2;
          a1 = k2 * (a4 - 1) * g1;
          a22 = k2 * (a4 + 1) * g1;
          a3 = -k2 * g22;
          b1 = 2 * g1;
          b2 = -g22;
          left_corner = (a0 + a1) / (1 - b1 - b2);
          right_corner = (a22 + a3) / (1 - b1 - b2);
          return new Float32Array([a0, a1, a22, a3, b1, b2, left_corner, right_corner]);
        }
        function convolveMono16(src, out, line, coeff, width, height) {
          var prev_src, curr_src, curr_out, prev_out, prev_prev_out;
          var src_index, out_index, line_index;
          var i3, j2;
          var coeff_a0, coeff_a1, coeff_b1, coeff_b2;
          for (i3 = 0; i3 < height; i3++) {
            src_index = i3 * width;
            out_index = i3;
            line_index = 0;
            prev_src = src[src_index];
            prev_prev_out = prev_src * coeff[6];
            prev_out = prev_prev_out;
            coeff_a0 = coeff[0];
            coeff_a1 = coeff[1];
            coeff_b1 = coeff[4];
            coeff_b2 = coeff[5];
            for (j2 = 0; j2 < width; j2++) {
              curr_src = src[src_index];
              curr_out = curr_src * coeff_a0 + prev_src * coeff_a1 + prev_out * coeff_b1 + prev_prev_out * coeff_b2;
              prev_prev_out = prev_out;
              prev_out = curr_out;
              prev_src = curr_src;
              line[line_index] = prev_out;
              line_index++;
              src_index++;
            }
            src_index--;
            line_index--;
            out_index += height * (width - 1);
            prev_src = src[src_index];
            prev_prev_out = prev_src * coeff[7];
            prev_out = prev_prev_out;
            curr_src = prev_src;
            coeff_a0 = coeff[2];
            coeff_a1 = coeff[3];
            for (j2 = width - 1; j2 >= 0; j2--) {
              curr_out = curr_src * coeff_a0 + prev_src * coeff_a1 + prev_out * coeff_b1 + prev_prev_out * coeff_b2;
              prev_prev_out = prev_out;
              prev_out = curr_out;
              prev_src = curr_src;
              curr_src = src[src_index];
              out[out_index] = line[line_index] + prev_out;
              src_index--;
              line_index--;
              out_index -= height;
            }
          }
        }
        function blurMono16(src, width, height, radius) {
          if (!radius) {
            return;
          }
          var out = new Uint16Array(src.length), tmp_line = new Float32Array(Math.max(width, height));
          var coeff = gaussCoef(radius);
          convolveMono16(src, out, tmp_line, coeff, width, height, radius);
          convolveMono16(out, src, tmp_line, coeff, height, width, radius);
        }
        module3.exports = blurMono16;
      }, {}], 15: [function(_dereq_, module3, exports3) {
        if (typeof Object.create === "function") {
          module3.exports = function inherits(ctor, superCtor) {
            if (superCtor) {
              ctor.super_ = superCtor;
              ctor.prototype = Object.create(superCtor.prototype, {
                constructor: {
                  value: ctor,
                  enumerable: false,
                  writable: true,
                  configurable: true
                }
              });
            }
          };
        } else {
          module3.exports = function inherits(ctor, superCtor) {
            if (superCtor) {
              ctor.super_ = superCtor;
              var TempCtor = function() {
              };
              TempCtor.prototype = superCtor.prototype;
              ctor.prototype = new TempCtor();
              ctor.prototype.constructor = ctor;
            }
          };
        }
      }, {}], 16: [function(_dereq_, module3, exports3) {
        "use strict";
        var assign = _dereq_("object-assign");
        var base64decode = _dereq_("./lib/base64decode");
        var hasWebAssembly = _dereq_("./lib/wa_detect");
        var DEFAULT_OPTIONS = {
          js: true,
          wasm: true
        };
        function MultiMath(options) {
          if (!(this instanceof MultiMath))
            return new MultiMath(options);
          var opts = assign({}, DEFAULT_OPTIONS, options || {});
          this.options = opts;
          this.__cache = {};
          this.__init_promise = null;
          this.__modules = opts.modules || {};
          this.__memory = null;
          this.__wasm = {};
          this.__isLE = new Uint32Array(new Uint8Array([1, 0, 0, 0]).buffer)[0] === 1;
          if (!this.options.js && !this.options.wasm) {
            throw new Error('mathlib: at least "js" or "wasm" should be enabled');
          }
        }
        MultiMath.prototype.has_wasm = hasWebAssembly;
        MultiMath.prototype.use = function(module4) {
          this.__modules[module4.name] = module4;
          if (this.options.wasm && this.has_wasm() && module4.wasm_fn) {
            this[module4.name] = module4.wasm_fn;
          } else {
            this[module4.name] = module4.fn;
          }
          return this;
        };
        MultiMath.prototype.init = function() {
          if (this.__init_promise)
            return this.__init_promise;
          if (!this.options.js && this.options.wasm && !this.has_wasm()) {
            return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));
          }
          var self2 = this;
          this.__init_promise = Promise.all(Object.keys(self2.__modules).map(function(name2) {
            var module4 = self2.__modules[name2];
            if (!self2.options.wasm || !self2.has_wasm() || !module4.wasm_fn)
              return null;
            if (self2.__wasm[name2])
              return null;
            return WebAssembly.compile(self2.__base64decode(module4.wasm_src)).then(function(m2) {
              self2.__wasm[name2] = m2;
            });
          })).then(function() {
            return self2;
          });
          return this.__init_promise;
        };
        MultiMath.prototype.__base64decode = base64decode;
        MultiMath.prototype.__reallocate = function mem_grow_to(bytes) {
          if (!this.__memory) {
            this.__memory = new WebAssembly.Memory({
              initial: Math.ceil(bytes / (64 * 1024))
            });
            return this.__memory;
          }
          var mem_size = this.__memory.buffer.byteLength;
          if (mem_size < bytes) {
            this.__memory.grow(Math.ceil((bytes - mem_size) / (64 * 1024)));
          }
          return this.__memory;
        };
        MultiMath.prototype.__instance = function instance(name2, memsize, env_extra) {
          if (memsize)
            this.__reallocate(memsize);
          if (!this.__wasm[name2]) {
            var module4 = this.__modules[name2];
            this.__wasm[name2] = new WebAssembly.Module(this.__base64decode(module4.wasm_src));
          }
          if (!this.__cache[name2]) {
            var env_base = {
              memoryBase: 0,
              memory: this.__memory,
              tableBase: 0,
              table: new WebAssembly.Table({initial: 0, element: "anyfunc"})
            };
            this.__cache[name2] = new WebAssembly.Instance(this.__wasm[name2], {
              env: assign(env_base, env_extra || {})
            });
          }
          return this.__cache[name2];
        };
        MultiMath.prototype.__align = function align(number, base) {
          base = base || 8;
          var reminder = number % base;
          return number + (reminder ? base - reminder : 0);
        };
        module3.exports = MultiMath;
      }, {"./lib/base64decode": 17, "./lib/wa_detect": 23, "object-assign": 24}], 17: [function(_dereq_, module3, exports3) {
        "use strict";
        var BASE64_MAP = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
        module3.exports = function base64decode(str) {
          var input = str.replace(/[\r\n=]/g, ""), max = input.length;
          var out = new Uint8Array(max * 3 >> 2);
          var bits = 0;
          var ptr = 0;
          for (var idx = 0; idx < max; idx++) {
            if (idx % 4 === 0 && idx) {
              out[ptr++] = bits >> 16 & 255;
              out[ptr++] = bits >> 8 & 255;
              out[ptr++] = bits & 255;
            }
            bits = bits << 6 | BASE64_MAP.indexOf(input.charAt(idx));
          }
          var tailbits = max % 4 * 6;
          if (tailbits === 0) {
            out[ptr++] = bits >> 16 & 255;
            out[ptr++] = bits >> 8 & 255;
            out[ptr++] = bits & 255;
          } else if (tailbits === 18) {
            out[ptr++] = bits >> 10 & 255;
            out[ptr++] = bits >> 2 & 255;
          } else if (tailbits === 12) {
            out[ptr++] = bits >> 4 & 255;
          }
          return out;
        };
      }, {}], 18: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = function hsl_l16_js(img, width, height) {
          var size = width * height;
          var out = new Uint16Array(size);
          var r2, g3, b2, min, max;
          for (var i3 = 0; i3 < size; i3++) {
            r2 = img[4 * i3];
            g3 = img[4 * i3 + 1];
            b2 = img[4 * i3 + 2];
            max = r2 >= g3 && r2 >= b2 ? r2 : g3 >= b2 && g3 >= r2 ? g3 : b2;
            min = r2 <= g3 && r2 <= b2 ? r2 : g3 <= b2 && g3 <= r2 ? g3 : b2;
            out[i3] = (max + min) * 257 >> 1;
          }
          return out;
        };
      }, {}], 19: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = {
          name: "unsharp_mask",
          fn: _dereq_("./unsharp_mask"),
          wasm_fn: _dereq_("./unsharp_mask_wasm"),
          wasm_src: _dereq_("./unsharp_mask_wasm_base64")
        };
      }, {"./unsharp_mask": 20, "./unsharp_mask_wasm": 21, "./unsharp_mask_wasm_base64": 22}], 20: [function(_dereq_, module3, exports3) {
        "use strict";
        var glur_mono16 = _dereq_("glur/mono16");
        var hsl_l16 = _dereq_("./hsl_l16");
        module3.exports = function unsharp(img, width, height, amount, radius, threshold) {
          var r2, g3, b2;
          var h3, s3, l3;
          var min, max;
          var m1, m2, hShifted;
          var diff, iTimes4;
          if (amount === 0 || radius < 0.5) {
            return;
          }
          if (radius > 2) {
            radius = 2;
          }
          var lightness = hsl_l16(img, width, height);
          var blured = new Uint16Array(lightness);
          glur_mono16(blured, width, height, radius);
          var amountFp = amount / 100 * 4096 + 0.5 | 0;
          var thresholdFp = threshold * 257 | 0;
          var size = width * height;
          for (var i3 = 0; i3 < size; i3++) {
            diff = 2 * (lightness[i3] - blured[i3]);
            if (Math.abs(diff) >= thresholdFp) {
              iTimes4 = i3 * 4;
              r2 = img[iTimes4];
              g3 = img[iTimes4 + 1];
              b2 = img[iTimes4 + 2];
              max = r2 >= g3 && r2 >= b2 ? r2 : g3 >= r2 && g3 >= b2 ? g3 : b2;
              min = r2 <= g3 && r2 <= b2 ? r2 : g3 <= r2 && g3 <= b2 ? g3 : b2;
              l3 = (max + min) * 257 >> 1;
              if (min === max) {
                h3 = s3 = 0;
              } else {
                s3 = l3 <= 32767 ? (max - min) * 4095 / (max + min) | 0 : (max - min) * 4095 / (2 * 255 - max - min) | 0;
                h3 = r2 === max ? (g3 - b2) * 65535 / (6 * (max - min)) | 0 : g3 === max ? 21845 + ((b2 - r2) * 65535 / (6 * (max - min)) | 0) : 43690 + ((r2 - g3) * 65535 / (6 * (max - min)) | 0);
              }
              l3 += amountFp * diff + 2048 >> 12;
              if (l3 > 65535) {
                l3 = 65535;
              } else if (l3 < 0) {
                l3 = 0;
              }
              if (s3 === 0) {
                r2 = g3 = b2 = l3 >> 8;
              } else {
                m2 = l3 <= 32767 ? l3 * (4096 + s3) + 2048 >> 12 : l3 + ((65535 - l3) * s3 + 2048 >> 12);
                m1 = 2 * l3 - m2 >> 8;
                m2 >>= 8;
                hShifted = h3 + 21845 & 65535;
                r2 = hShifted >= 43690 ? m1 : hShifted >= 32767 ? m1 + ((m2 - m1) * 6 * (43690 - hShifted) + 32768 >> 16) : hShifted >= 10922 ? m2 : m1 + ((m2 - m1) * 6 * hShifted + 32768 >> 16);
                hShifted = h3 & 65535;
                g3 = hShifted >= 43690 ? m1 : hShifted >= 32767 ? m1 + ((m2 - m1) * 6 * (43690 - hShifted) + 32768 >> 16) : hShifted >= 10922 ? m2 : m1 + ((m2 - m1) * 6 * hShifted + 32768 >> 16);
                hShifted = h3 - 21845 & 65535;
                b2 = hShifted >= 43690 ? m1 : hShifted >= 32767 ? m1 + ((m2 - m1) * 6 * (43690 - hShifted) + 32768 >> 16) : hShifted >= 10922 ? m2 : m1 + ((m2 - m1) * 6 * hShifted + 32768 >> 16);
              }
              img[iTimes4] = r2;
              img[iTimes4 + 1] = g3;
              img[iTimes4 + 2] = b2;
            }
          }
        };
      }, {"./hsl_l16": 18, "glur/mono16": 14}], 21: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = function unsharp(img, width, height, amount, radius, threshold) {
          if (amount === 0 || radius < 0.5) {
            return;
          }
          if (radius > 2) {
            radius = 2;
          }
          var pixels = width * height;
          var img_bytes_cnt = pixels * 4;
          var hsl_bytes_cnt = pixels * 2;
          var blur_bytes_cnt = pixels * 2;
          var blur_line_byte_cnt = Math.max(width, height) * 4;
          var blur_coeffs_byte_cnt = 8 * 4;
          var img_offset = 0;
          var hsl_offset = img_bytes_cnt;
          var blur_offset = hsl_offset + hsl_bytes_cnt;
          var blur_tmp_offset = blur_offset + blur_bytes_cnt;
          var blur_line_offset = blur_tmp_offset + blur_bytes_cnt;
          var blur_coeffs_offset = blur_line_offset + blur_line_byte_cnt;
          var instance = this.__instance("unsharp_mask", img_bytes_cnt + hsl_bytes_cnt + blur_bytes_cnt * 2 + blur_line_byte_cnt + blur_coeffs_byte_cnt, {exp: Math.exp});
          var img32 = new Uint32Array(img.buffer);
          var mem32 = new Uint32Array(this.__memory.buffer);
          mem32.set(img32);
          var fn = instance.exports.hsl_l16 || instance.exports._hsl_l16;
          fn(img_offset, hsl_offset, width, height);
          fn = instance.exports.blurMono16 || instance.exports._blurMono16;
          fn(hsl_offset, blur_offset, blur_tmp_offset, blur_line_offset, blur_coeffs_offset, width, height, radius);
          fn = instance.exports.unsharp || instance.exports._unsharp;
          fn(img_offset, img_offset, hsl_offset, blur_offset, width, height, amount, threshold);
          img32.set(new Uint32Array(this.__memory.buffer, 0, pixels));
        };
      }, {}], 22: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = "AGFzbQEAAAABMQZgAXwBfGACfX8AYAZ/f39/f38AYAh/f39/f39/fQBgBH9/f38AYAh/f39/f39/fwACGQIDZW52A2V4cAAAA2VudgZtZW1vcnkCAAEDBgUBAgMEBQQEAXAAAAdMBRZfX2J1aWxkX2dhdXNzaWFuX2NvZWZzAAEOX19nYXVzczE2X2xpbmUAAgpibHVyTW9ubzE2AAMHaHNsX2wxNgAEB3Vuc2hhcnAABQkBAAqJEAXZAQEGfAJAIAFE24a6Q4Ia+z8gALujIgOaEAAiBCAEoCIGtjgCECABIANEAAAAAAAAAMCiEAAiBbaMOAIUIAFEAAAAAAAA8D8gBKEiAiACoiAEIAMgA6CiRAAAAAAAAPA/oCAFoaMiArY4AgAgASAEIANEAAAAAAAA8L+gIAKioiIHtjgCBCABIAQgA0QAAAAAAADwP6AgAqKiIgO2OAIIIAEgBSACoiIEtow4AgwgASACIAegIAVEAAAAAAAA8D8gBqGgIgKjtjgCGCABIAMgBKEgAqO2OAIcCwu3AwMDfwR9CHwCQCADKgIUIQkgAyoCECEKIAMqAgwhCyADKgIIIQwCQCAEQX9qIgdBAEgiCA0AIAIgAC8BALgiDSADKgIYu6IiDiAJuyIQoiAOIAq7IhGiIA0gAyoCBLsiEqIgAyoCALsiEyANoqCgoCIPtjgCACACQQRqIQIgAEECaiEAIAdFDQAgBCEGA0AgAiAOIBCiIA8iDiARoiANIBKiIBMgAC8BALgiDaKgoKAiD7Y4AgAgAkEEaiECIABBAmohACAGQX9qIgZBAUoNAAsLAkAgCA0AIAEgByAFbEEBdGogAEF+ai8BACIIuCINIAu7IhGiIA0gDLsiEqKgIA0gAyoCHLuiIg4gCrsiE6KgIA4gCbsiFKKgIg8gAkF8aioCALugqzsBACAHRQ0AIAJBeGohAiAAQXxqIQBBACAFQQF0ayEHIAEgBSAEQQF0QXxqbGohBgNAIAghAyAALwEAIQggBiANIBGiIAO4Ig0gEqKgIA8iECAToqAgDiAUoqAiDyACKgIAu6CrOwEAIAYgB2ohBiAAQX5qIQAgAkF8aiECIBAhDiAEQX9qIgRBAUoNAAsLCwvfAgIDfwZ8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIgyaEAAiDSANoCIPtjgCECAEIAxEAAAAAAAAAMCiEAAiDraMOAIUIAREAAAAAAAA8D8gDaEiCyALoiANIAwgDKCiRAAAAAAAAPA/oCAOoaMiC7Y4AgAgBCANIAxEAAAAAAAA8L+gIAuioiIQtjgCBCAEIA0gDEQAAAAAAADwP6AgC6KiIgy2OAIIIAQgDiALoiINtow4AgwgBCALIBCgIA5EAAAAAAAA8D8gD6GgIgujtjgCGCAEIAwgDaEgC6O2OAIcIAYEQCAFQQF0IQogBiEJIAIhCANAIAAgCCADIAQgBSAGEAIgACAKaiEAIAhBAmohCCAJQX9qIgkNAAsLIAVFDQAgBkEBdCEIIAUhAANAIAIgASADIAQgBiAFEAIgAiAIaiECIAFBAmohASAAQX9qIgANAAsLC7wBAQV/IAMgAmwiAwRAQQAgA2shBgNAIAAoAgAiBEEIdiIHQf8BcSECAn8gBEH/AXEiAyAEQRB2IgRB/wFxIgVPBEAgAyIIIAMgAk8NARoLIAQgBCAHIAIgA0kbIAIgBUkbQf8BcQshCAJAIAMgAk0EQCADIAVNDQELIAQgByAEIAMgAk8bIAIgBUsbQf8BcSEDCyAAQQRqIQAgASADIAhqQYECbEEBdjsBACABQQJqIQEgBkEBaiIGDQALCwvTBgEKfwJAIAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6CqIQ0gBSAEbCILBEAgB0GBAmwhDgNAQQAgAi8BACADLwEAayIGQQF0IgdrIAcgBkEASBsgDk8EQCAAQQJqLQAAIQUCfyAALQAAIgYgAEEBai0AACIESSIJRQRAIAYiCCAGIAVPDQEaCyAFIAUgBCAEIAVJGyAGIARLGwshCAJ/IAYgBE0EQCAGIgogBiAFTQ0BGgsgBSAFIAQgBCAFSxsgCRsLIgogCGoiD0GBAmwiEEEBdiERQQAhDAJ/QQAiCSAIIApGDQAaIAggCmsiCUH/H2wgD0H+AyAIayAKayAQQYCABEkbbSEMIAYgCEYEQCAEIAVrQf//A2wgCUEGbG0MAQsgBSAGayAGIARrIAQgCEYiBhtB//8DbCAJQQZsbUHVqgFBqtUCIAYbagshCSARIAcgDWxBgBBqQQx1aiIGQQAgBkEAShsiBkH//wMgBkH//wNIGyEGAkACfwJAIAxB//8DcSIFBEAgBkH//wFKDQEgBUGAIGogBmxBgBBqQQx2DAILIAZBCHYiBiEFIAYhBAwCCyAFIAZB//8Dc2xBgBBqQQx2IAZqCyIFQQh2IQcgBkEBdCAFa0EIdiIGIQQCQCAJQdWqAWpB//8DcSIFQanVAksNACAFQf//AU8EQEGq1QIgBWsgByAGa2xBBmxBgIACakEQdiAGaiEEDAELIAchBCAFQanVAEsNACAFIAcgBmtsQQZsQYCAAmpBEHYgBmohBAsCfyAGIgUgCUH//wNxIghBqdUCSw0AGkGq1QIgCGsgByAGa2xBBmxBgIACakEQdiAGaiAIQf//AU8NABogByIFIAhBqdUASw0AGiAIIAcgBmtsQQZsQYCAAmpBEHYgBmoLIQUgCUGr1QJqQf//A3EiCEGp1QJLDQAgCEH//wFPBEBBqtUCIAhrIAcgBmtsQQZsQYCAAmpBEHYgBmohBgwBCyAIQanVAEsEQCAHIQYMAQsgCCAHIAZrbEEGbEGAgAJqQRB2IAZqIQYLIAEgBDoAACABQQFqIAU6AAAgAUECaiAGOgAACyADQQJqIQMgAkECaiECIABBBGohACABQQRqIQEgC0F/aiILDQALCwsL";
      }, {}], 23: [function(_dereq_, module3, exports3) {
        "use strict";
        var wa;
        module3.exports = function hasWebAssembly() {
          if (typeof wa !== "undefined")
            return wa;
          wa = false;
          if (typeof WebAssembly === "undefined")
            return wa;
          try {
            var bin = new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 6, 1, 96, 1, 127, 1, 127, 3, 2, 1, 0, 5, 3, 1, 0, 1, 7, 8, 1, 4, 116, 101, 115, 116, 0, 0, 10, 16, 1, 14, 0, 32, 0, 65, 1, 54, 2, 0, 32, 0, 40, 2, 0, 11]);
            var module4 = new WebAssembly.Module(bin);
            var instance = new WebAssembly.Instance(module4, {});
            if (instance.exports.test(4) !== 0)
              wa = true;
            return wa;
          } catch (__) {
          }
          return wa;
        };
      }, {}], 24: [function(_dereq_, module3, exports3) {
        /*
        object-assign
        (c) Sindre Sorhus
        @license MIT
        */
        "use strict";
        var getOwnPropertySymbols = Object.getOwnPropertySymbols;
        var hasOwnProperty = Object.prototype.hasOwnProperty;
        var propIsEnumerable = Object.prototype.propertyIsEnumerable;
        function toObject(val) {
          if (val === null || val === void 0) {
            throw new TypeError("Object.assign cannot be called with null or undefined");
          }
          return Object(val);
        }
        function shouldUseNative() {
          try {
            if (!Object.assign) {
              return false;
            }
            var test1 = new String("abc");
            test1[5] = "de";
            if (Object.getOwnPropertyNames(test1)[0] === "5") {
              return false;
            }
            var test2 = {};
            for (var i3 = 0; i3 < 10; i3++) {
              test2["_" + String.fromCharCode(i3)] = i3;
            }
            var order2 = Object.getOwnPropertyNames(test2).map(function(n3) {
              return test2[n3];
            });
            if (order2.join("") !== "0123456789") {
              return false;
            }
            var test3 = {};
            "abcdefghijklmnopqrst".split("").forEach(function(letter) {
              test3[letter] = letter;
            });
            if (Object.keys(Object.assign({}, test3)).join("") !== "abcdefghijklmnopqrst") {
              return false;
            }
            return true;
          } catch (err) {
            return false;
          }
        }
        module3.exports = shouldUseNative() ? Object.assign : function(target, source) {
          var from;
          var to = toObject(target);
          var symbols;
          for (var s3 = 1; s3 < arguments.length; s3++) {
            from = Object(arguments[s3]);
            for (var key in from) {
              if (hasOwnProperty.call(from, key)) {
                to[key] = from[key];
              }
            }
            if (getOwnPropertySymbols) {
              symbols = getOwnPropertySymbols(from);
              for (var i3 = 0; i3 < symbols.length; i3++) {
                if (propIsEnumerable.call(from, symbols[i3])) {
                  to[symbols[i3]] = from[symbols[i3]];
                }
              }
            }
          }
          return to;
        };
      }, {}], 25: [function(_dereq_, module3, exports3) {
        var bundleFn = arguments[3];
        var sources = arguments[4];
        var cache = arguments[5];
        var stringify = JSON.stringify;
        module3.exports = function(fn, options) {
          var wkey;
          var cacheKeys = Object.keys(cache);
          for (var i3 = 0, l3 = cacheKeys.length; i3 < l3; i3++) {
            var key = cacheKeys[i3];
            var exp = cache[key].exports;
            if (exp === fn || exp && exp.default === fn) {
              wkey = key;
              break;
            }
          }
          if (!wkey) {
            wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);
            var wcache = {};
            for (var i3 = 0, l3 = cacheKeys.length; i3 < l3; i3++) {
              var key = cacheKeys[i3];
              wcache[key] = key;
            }
            sources[wkey] = [
              "function(require,module,exports){" + fn + "(self); }",
              wcache
            ];
          }
          var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);
          var scache = {};
          scache[wkey] = wkey;
          sources[skey] = [
            "function(require,module,exports){var f = require(" + stringify(wkey) + ");(f.default ? f.default : f)(self);}",
            scache
          ];
          var workerSources = {};
          resolveSources(skey);
          function resolveSources(key2) {
            workerSources[key2] = true;
            for (var depPath in sources[key2][1]) {
              var depKey = sources[key2][1][depPath];
              if (!workerSources[depKey]) {
                resolveSources(depKey);
              }
            }
          }
          var src = "(" + bundleFn + ")({" + Object.keys(workerSources).map(function(key2) {
            return stringify(key2) + ":[" + sources[key2][0] + "," + stringify(sources[key2][1]) + "]";
          }).join(",") + "},{},[" + stringify(skey) + "])";
          var URL2 = window.URL || window.webkitURL || window.mozURL || window.msURL;
          var blob = new Blob([src], {type: "text/javascript"});
          if (options && options.bare) {
            return blob;
          }
          var workerUrl = URL2.createObjectURL(blob);
          var worker = new Worker(workerUrl);
          worker.objectURL = workerUrl;
          return worker;
        };
      }, {}], "/index.js": [function(_dereq_, module3, exports3) {
        "use strict";
        function _slicedToArray(arr, i3) {
          return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i3) || _unsupportedIterableToArray(arr, i3) || _nonIterableRest();
        }
        function _nonIterableRest() {
          throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        function _unsupportedIterableToArray(o3, minLen) {
          if (!o3)
            return;
          if (typeof o3 === "string")
            return _arrayLikeToArray(o3, minLen);
          var n3 = Object.prototype.toString.call(o3).slice(8, -1);
          if (n3 === "Object" && o3.constructor)
            n3 = o3.constructor.name;
          if (n3 === "Map" || n3 === "Set")
            return Array.from(o3);
          if (n3 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3))
            return _arrayLikeToArray(o3, minLen);
        }
        function _arrayLikeToArray(arr, len) {
          if (len == null || len > arr.length)
            len = arr.length;
          for (var i3 = 0, arr2 = new Array(len); i3 < len; i3++) {
            arr2[i3] = arr[i3];
          }
          return arr2;
        }
        function _iterableToArrayLimit(arr, i3) {
          if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr)))
            return;
          var _arr = [];
          var _n = true;
          var _d = false;
          var _e = void 0;
          try {
            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
              _arr.push(_s.value);
              if (i3 && _arr.length === i3)
                break;
            }
          } catch (err) {
            _d = true;
            _e = err;
          } finally {
            try {
              if (!_n && _i["return"] != null)
                _i["return"]();
            } finally {
              if (_d)
                throw _e;
            }
          }
          return _arr;
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr))
            return arr;
        }
        var assign = _dereq_("object-assign");
        var webworkify = _dereq_("webworkify");
        var MathLib = _dereq_("./lib/mathlib");
        var Pool = _dereq_("./lib/pool");
        var utils = _dereq_("./lib/utils");
        var worker = _dereq_("./lib/worker");
        var createStages = _dereq_("./lib/stepper");
        var createRegions = _dereq_("./lib/tiler");
        var singletones = {};
        var NEED_SAFARI_FIX = false;
        try {
          if (typeof navigator !== "undefined" && navigator.userAgent) {
            NEED_SAFARI_FIX = navigator.userAgent.indexOf("Safari") >= 0;
          }
        } catch (e2) {
        }
        var concurrency = 1;
        if (typeof navigator !== "undefined") {
          concurrency = Math.min(navigator.hardwareConcurrency || 1, 4);
        }
        var DEFAULT_PICA_OPTS = {
          tile: 1024,
          concurrency,
          features: ["js", "wasm", "ww"],
          idle: 2e3,
          createCanvas: function createCanvas(width, height) {
            var tmpCanvas = document.createElement("canvas");
            tmpCanvas.width = width;
            tmpCanvas.height = height;
            return tmpCanvas;
          }
        };
        var DEFAULT_RESIZE_OPTS = {
          quality: 3,
          alpha: false,
          unsharpAmount: 0,
          unsharpRadius: 0,
          unsharpThreshold: 0
        };
        var CAN_NEW_IMAGE_DATA;
        var CAN_CREATE_IMAGE_BITMAP;
        function workerFabric() {
          return {
            value: webworkify(worker),
            destroy: function destroy() {
              this.value.terminate();
              if (typeof window !== "undefined") {
                var url = window.URL || window.webkitURL || window.mozURL || window.msURL;
                if (url && url.revokeObjectURL && this.value.objectURL) {
                  url.revokeObjectURL(this.value.objectURL);
                }
              }
            }
          };
        }
        function Pica2(options) {
          if (!(this instanceof Pica2))
            return new Pica2(options);
          this.options = assign({}, DEFAULT_PICA_OPTS, options || {});
          var limiter_key = "lk_".concat(this.options.concurrency);
          this.__limit = singletones[limiter_key] || utils.limiter(this.options.concurrency);
          if (!singletones[limiter_key])
            singletones[limiter_key] = this.__limit;
          this.features = {
            js: false,
            wasm: false,
            cib: false,
            ww: false
          };
          this.__workersPool = null;
          this.__requested_features = [];
          this.__mathlib = null;
        }
        Pica2.prototype.init = function() {
          var _this = this;
          if (this.__initPromise)
            return this.__initPromise;
          if (CAN_NEW_IMAGE_DATA !== false && CAN_NEW_IMAGE_DATA !== true) {
            CAN_NEW_IMAGE_DATA = false;
            if (typeof ImageData !== "undefined" && typeof Uint8ClampedArray !== "undefined") {
              try {
                new ImageData(new Uint8ClampedArray(400), 10, 10);
                CAN_NEW_IMAGE_DATA = true;
              } catch (__) {
              }
            }
          }
          if (CAN_CREATE_IMAGE_BITMAP !== false && CAN_CREATE_IMAGE_BITMAP !== true) {
            CAN_CREATE_IMAGE_BITMAP = false;
            if (typeof ImageBitmap !== "undefined") {
              if (ImageBitmap.prototype && ImageBitmap.prototype.close) {
                CAN_CREATE_IMAGE_BITMAP = true;
              } else {
                this.debug("ImageBitmap does not support .close(), disabled");
              }
            }
          }
          var features = this.options.features.slice();
          if (features.indexOf("all") >= 0) {
            features = ["cib", "wasm", "js", "ww"];
          }
          this.__requested_features = features;
          this.__mathlib = new MathLib(features);
          if (features.indexOf("ww") >= 0) {
            if (typeof window !== "undefined" && "Worker" in window) {
              try {
                var wkr = _dereq_("webworkify")(function() {
                });
                wkr.terminate();
                this.features.ww = true;
                var wpool_key = "wp_".concat(JSON.stringify(this.options));
                if (singletones[wpool_key]) {
                  this.__workersPool = singletones[wpool_key];
                } else {
                  this.__workersPool = new Pool(workerFabric, this.options.idle);
                  singletones[wpool_key] = this.__workersPool;
                }
              } catch (__) {
              }
            }
          }
          var initMath = this.__mathlib.init().then(function(mathlib) {
            assign(_this.features, mathlib.features);
          });
          var checkCibResize;
          if (!CAN_CREATE_IMAGE_BITMAP) {
            checkCibResize = Promise.resolve(false);
          } else {
            checkCibResize = utils.cib_support(this.options.createCanvas).then(function(status) {
              if (_this.features.cib && features.indexOf("cib") < 0) {
                _this.debug("createImageBitmap() resize supported, but disabled by config");
                return;
              }
              if (features.indexOf("cib") >= 0)
                _this.features.cib = status;
            });
          }
          this.__initPromise = Promise.all([initMath, checkCibResize]).then(function() {
            return _this;
          });
          return this.__initPromise;
        };
        Pica2.prototype.resize = function(from, to, options) {
          var _this2 = this;
          this.debug("Start resize...");
          var opts = assign({}, DEFAULT_RESIZE_OPTS);
          if (!isNaN(options)) {
            opts = assign(opts, {
              quality: options
            });
          } else if (options) {
            opts = assign(opts, options);
          }
          opts.toWidth = to.width;
          opts.toHeight = to.height;
          opts.width = from.naturalWidth || from.width;
          opts.height = from.naturalHeight || from.height;
          if (to.width === 0 || to.height === 0) {
            return Promise.reject(new Error("Invalid output size: ".concat(to.width, "x").concat(to.height)));
          }
          if (opts.unsharpRadius > 2)
            opts.unsharpRadius = 2;
          var canceled = false;
          var cancelToken = null;
          if (opts.cancelToken) {
            cancelToken = opts.cancelToken.then(function(data) {
              canceled = true;
              throw data;
            }, function(err) {
              canceled = true;
              throw err;
            });
          }
          var DEST_TILE_BORDER = 3;
          var destTileBorder = Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * opts.unsharpRadius | 0));
          return this.init().then(function() {
            if (canceled)
              return cancelToken;
            if (_this2.features.cib) {
              var toCtx = to.getContext("2d", {
                alpha: Boolean(opts.alpha)
              });
              _this2.debug("Resize via createImageBitmap()");
              return createImageBitmap(from, {
                resizeWidth: opts.toWidth,
                resizeHeight: opts.toHeight,
                resizeQuality: utils.cib_quality_name(opts.quality)
              }).then(function(imageBitmap) {
                if (canceled)
                  return cancelToken;
                if (!opts.unsharpAmount) {
                  toCtx.drawImage(imageBitmap, 0, 0);
                  imageBitmap.close();
                  toCtx = null;
                  _this2.debug("Finished!");
                  return to;
                }
                _this2.debug("Unsharp result");
                var tmpCanvas = _this2.options.createCanvas(opts.toWidth, opts.toHeight);
                var tmpCtx = tmpCanvas.getContext("2d", {
                  alpha: Boolean(opts.alpha)
                });
                tmpCtx.drawImage(imageBitmap, 0, 0);
                imageBitmap.close();
                var iData = tmpCtx.getImageData(0, 0, opts.toWidth, opts.toHeight);
                _this2.__mathlib.unsharp_mask(iData.data, opts.toWidth, opts.toHeight, opts.unsharpAmount, opts.unsharpRadius, opts.unsharpThreshold);
                toCtx.putImageData(iData, 0, 0);
                iData = tmpCtx = tmpCanvas = toCtx = null;
                _this2.debug("Finished!");
                return to;
              });
            }
            var cache = {};
            var invokeResize = function invokeResize2(opts2) {
              return Promise.resolve().then(function() {
                if (!_this2.features.ww)
                  return _this2.__mathlib.resizeAndUnsharp(opts2, cache);
                return new Promise(function(resolve, reject) {
                  var w2 = _this2.__workersPool.acquire();
                  if (cancelToken)
                    cancelToken["catch"](function(err) {
                      return reject(err);
                    });
                  w2.value.onmessage = function(ev) {
                    w2.release();
                    if (ev.data.err)
                      reject(ev.data.err);
                    else
                      resolve(ev.data.result);
                  };
                  w2.value.postMessage({
                    opts: opts2,
                    features: _this2.__requested_features,
                    preload: {
                      wasm_nodule: _this2.__mathlib.__
                    }
                  }, [opts2.src.buffer]);
                });
              });
            };
            var tileAndResize = function tileAndResize2(from2, to2, opts2) {
              var srcCtx;
              var srcImageBitmap;
              var isImageBitmapReused = false;
              var toCtx2;
              var processTile = function processTile2(tile) {
                return _this2.__limit(function() {
                  if (canceled)
                    return cancelToken;
                  var srcImageData;
                  if (utils.isCanvas(from2)) {
                    _this2.debug("Get tile pixel data");
                    srcImageData = srcCtx.getImageData(tile.x, tile.y, tile.width, tile.height);
                  } else {
                    _this2.debug("Draw tile imageBitmap/image to temporary canvas");
                    var tmpCanvas = _this2.options.createCanvas(tile.width, tile.height);
                    var tmpCtx = tmpCanvas.getContext("2d", {
                      alpha: Boolean(opts2.alpha)
                    });
                    tmpCtx.globalCompositeOperation = "copy";
                    tmpCtx.drawImage(srcImageBitmap || from2, tile.x, tile.y, tile.width, tile.height, 0, 0, tile.width, tile.height);
                    _this2.debug("Get tile pixel data");
                    srcImageData = tmpCtx.getImageData(0, 0, tile.width, tile.height);
                    tmpCtx = tmpCanvas = null;
                  }
                  var o3 = {
                    src: srcImageData.data,
                    width: tile.width,
                    height: tile.height,
                    toWidth: tile.toWidth,
                    toHeight: tile.toHeight,
                    scaleX: tile.scaleX,
                    scaleY: tile.scaleY,
                    offsetX: tile.offsetX,
                    offsetY: tile.offsetY,
                    quality: opts2.quality,
                    alpha: opts2.alpha,
                    unsharpAmount: opts2.unsharpAmount,
                    unsharpRadius: opts2.unsharpRadius,
                    unsharpThreshold: opts2.unsharpThreshold
                  };
                  _this2.debug("Invoke resize math");
                  return Promise.resolve().then(function() {
                    return invokeResize(o3);
                  }).then(function(result) {
                    if (canceled)
                      return cancelToken;
                    srcImageData = null;
                    var toImageData;
                    _this2.debug("Convert raw rgba tile result to ImageData");
                    if (CAN_NEW_IMAGE_DATA) {
                      toImageData = new ImageData(new Uint8ClampedArray(result), tile.toWidth, tile.toHeight);
                    } else {
                      toImageData = toCtx2.createImageData(tile.toWidth, tile.toHeight);
                      if (toImageData.data.set) {
                        toImageData.data.set(result);
                      } else {
                        for (var i3 = toImageData.data.length - 1; i3 >= 0; i3--) {
                          toImageData.data[i3] = result[i3];
                        }
                      }
                    }
                    _this2.debug("Draw tile");
                    if (NEED_SAFARI_FIX) {
                      toCtx2.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth + 1e-5, tile.toInnerHeight + 1e-5);
                    } else {
                      toCtx2.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth, tile.toInnerHeight);
                    }
                    return null;
                  });
                });
              };
              return Promise.resolve().then(function() {
                toCtx2 = to2.getContext("2d", {
                  alpha: Boolean(opts2.alpha)
                });
                if (utils.isCanvas(from2)) {
                  srcCtx = from2.getContext("2d", {
                    alpha: Boolean(opts2.alpha)
                  });
                  return null;
                }
                if (utils.isImageBitmap(from2)) {
                  srcImageBitmap = from2;
                  isImageBitmapReused = true;
                  return null;
                }
                if (utils.isImage(from2)) {
                  if (!CAN_CREATE_IMAGE_BITMAP)
                    return null;
                  _this2.debug("Decode image via createImageBitmap");
                  return createImageBitmap(from2).then(function(imageBitmap) {
                    srcImageBitmap = imageBitmap;
                  })["catch"](function(e2) {
                    return null;
                  });
                }
                throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap');
              }).then(function() {
                if (canceled)
                  return cancelToken;
                _this2.debug("Calculate tiles");
                var regions = createRegions({
                  width: opts2.width,
                  height: opts2.height,
                  srcTileSize: _this2.options.tile,
                  toWidth: opts2.toWidth,
                  toHeight: opts2.toHeight,
                  destTileBorder
                });
                var jobs = regions.map(function(tile) {
                  return processTile(tile);
                });
                function cleanup() {
                  if (srcImageBitmap) {
                    if (!isImageBitmapReused)
                      srcImageBitmap.close();
                    srcImageBitmap = null;
                  }
                }
                _this2.debug("Process tiles");
                return Promise.all(jobs).then(function() {
                  _this2.debug("Finished!");
                  cleanup();
                  return to2;
                }, function(err) {
                  cleanup();
                  throw err;
                });
              });
            };
            var processStages = function processStages2(stages2, from2, to2, opts2) {
              if (canceled)
                return cancelToken;
              var _stages$shift = stages2.shift(), _stages$shift2 = _slicedToArray(_stages$shift, 2), toWidth = _stages$shift2[0], toHeight = _stages$shift2[1];
              var isLastStage = stages2.length === 0;
              opts2 = assign({}, opts2, {
                toWidth,
                toHeight,
                quality: isLastStage ? opts2.quality : Math.min(1, opts2.quality)
              });
              var tmpCanvas;
              if (!isLastStage) {
                tmpCanvas = _this2.options.createCanvas(toWidth, toHeight);
              }
              return tileAndResize(from2, isLastStage ? to2 : tmpCanvas, opts2).then(function() {
                if (isLastStage)
                  return to2;
                opts2.width = toWidth;
                opts2.height = toHeight;
                return processStages2(stages2, tmpCanvas, to2, opts2);
              });
            };
            var stages = createStages(opts.width, opts.height, opts.toWidth, opts.toHeight, _this2.options.tile, destTileBorder);
            return processStages(stages, from, to, opts);
          });
        };
        Pica2.prototype.resizeBuffer = function(options) {
          var _this3 = this;
          var opts = assign({}, DEFAULT_RESIZE_OPTS, options);
          return this.init().then(function() {
            return _this3.__mathlib.resizeAndUnsharp(opts);
          });
        };
        Pica2.prototype.toBlob = function(canvas, mimeType, quality) {
          mimeType = mimeType || "image/png";
          return new Promise(function(resolve) {
            if (canvas.toBlob) {
              canvas.toBlob(function(blob) {
                return resolve(blob);
              }, mimeType, quality);
              return;
            }
            if (canvas.convertToBlob) {
              resolve(canvas.convertToBlob({
                type: mimeType,
                quality
              }));
              return;
            }
            var asString = atob(canvas.toDataURL(mimeType, quality).split(",")[1]);
            var len = asString.length;
            var asBuffer = new Uint8Array(len);
            for (var i3 = 0; i3 < len; i3++) {
              asBuffer[i3] = asString.charCodeAt(i3);
            }
            resolve(new Blob([asBuffer], {
              type: mimeType
            }));
          });
        };
        Pica2.prototype.debug = function() {
        };
        module3.exports = Pica2;
      }, {"./lib/mathlib": 1, "./lib/pool": 9, "./lib/stepper": 10, "./lib/tiler": 11, "./lib/utils": 12, "./lib/worker": 13, "object-assign": 24, webworkify: 25}]}, {}, [])("/index.js");
    });
  });

  // node_modules/upng-js/UPNG.js
  var require_UPNG = __commonJS((exports, module) => {
    (function() {
      var UPNG2 = {};
      var pako2;
      if (typeof module == "object") {
        module.exports = UPNG2;
      } else {
        window.UPNG = UPNG2;
      }
      if (true) {
        pako2 = require_pako();
      } else {
        pako2 = window.pako;
      }
      function log() {
        if (typeof process == "undefined" || true)
          console.log.apply(console, arguments);
      }
      (function(UPNG3, pako3) {
        UPNG3.toRGBA8 = function(out) {
          var w2 = out.width, h3 = out.height;
          if (out.tabs.acTL == null)
            return [UPNG3.toRGBA8.decodeImage(out.data, w2, h3, out).buffer];
          var frms = [];
          if (out.frames[0].data == null)
            out.frames[0].data = out.data;
          var img, empty = new Uint8Array(w2 * h3 * 4);
          for (var i3 = 0; i3 < out.frames.length; i3++) {
            var frm = out.frames[i3];
            var fx = frm.rect.x, fy = frm.rect.y, fw = frm.rect.width, fh = frm.rect.height;
            var fdata = UPNG3.toRGBA8.decodeImage(frm.data, fw, fh, out);
            if (i3 == 0)
              img = fdata;
            else if (frm.blend == 0)
              UPNG3._copyTile(fdata, fw, fh, img, w2, h3, fx, fy, 0);
            else if (frm.blend == 1)
              UPNG3._copyTile(fdata, fw, fh, img, w2, h3, fx, fy, 1);
            frms.push(img.buffer);
            img = img.slice(0);
            if (frm.dispose == 0) {
            } else if (frm.dispose == 1)
              UPNG3._copyTile(empty, fw, fh, img, w2, h3, fx, fy, 0);
            else if (frm.dispose == 2) {
              var pi = i3 - 1;
              while (out.frames[pi].dispose == 2)
                pi--;
              img = new Uint8Array(frms[pi]).slice(0);
            }
          }
          return frms;
        };
        UPNG3.toRGBA8.decodeImage = function(data, w2, h3, out) {
          var area = w2 * h3, bpp = UPNG3.decode._getBPP(out);
          var bpl = Math.ceil(w2 * bpp / 8);
          var bf = new Uint8Array(area * 4), bf32 = new Uint32Array(bf.buffer);
          var ctype = out.ctype, depth = out.depth;
          var rs = UPNG3._bin.readUshort;
          if (ctype == 6) {
            var qarea = area << 2;
            if (depth == 8)
              for (var i3 = 0; i3 < qarea; i3++) {
                bf[i3] = data[i3];
              }
            if (depth == 16)
              for (var i3 = 0; i3 < qarea; i3++) {
                bf[i3] = data[i3 << 1];
              }
          } else if (ctype == 2) {
            var ts = out.tabs["tRNS"], tr = -1, tg = -1, tb = -1;
            if (ts) {
              tr = ts[0];
              tg = ts[1];
              tb = ts[2];
            }
            if (depth == 8)
              for (var i3 = 0; i3 < area; i3++) {
                var qi = i3 << 2, ti = i3 * 3;
                bf[qi] = data[ti];
                bf[qi + 1] = data[ti + 1];
                bf[qi + 2] = data[ti + 2];
                bf[qi + 3] = 255;
                if (tr != -1 && data[ti] == tr && data[ti + 1] == tg && data[ti + 2] == tb)
                  bf[qi + 3] = 0;
              }
            if (depth == 16)
              for (var i3 = 0; i3 < area; i3++) {
                var qi = i3 << 2, ti = i3 * 6;
                bf[qi] = data[ti];
                bf[qi + 1] = data[ti + 2];
                bf[qi + 2] = data[ti + 4];
                bf[qi + 3] = 255;
                if (tr != -1 && rs(data, ti) == tr && rs(data, ti + 2) == tg && rs(data, ti + 4) == tb)
                  bf[qi + 3] = 0;
              }
          } else if (ctype == 3) {
            var p3 = out.tabs["PLTE"], ap = out.tabs["tRNS"], tl = ap ? ap.length : 0;
            if (depth == 1)
              for (var y2 = 0; y2 < h3; y2++) {
                var s0 = y2 * bpl, t0 = y2 * w2;
                for (var i3 = 0; i3 < w2; i3++) {
                  var qi = t0 + i3 << 2, j2 = data[s0 + (i3 >> 3)] >> 7 - ((i3 & 7) << 0) & 1, cj = 3 * j2;
                  bf[qi] = p3[cj];
                  bf[qi + 1] = p3[cj + 1];
                  bf[qi + 2] = p3[cj + 2];
                  bf[qi + 3] = j2 < tl ? ap[j2] : 255;
                }
              }
            if (depth == 2)
              for (var y2 = 0; y2 < h3; y2++) {
                var s0 = y2 * bpl, t0 = y2 * w2;
                for (var i3 = 0; i3 < w2; i3++) {
                  var qi = t0 + i3 << 2, j2 = data[s0 + (i3 >> 2)] >> 6 - ((i3 & 3) << 1) & 3, cj = 3 * j2;
                  bf[qi] = p3[cj];
                  bf[qi + 1] = p3[cj + 1];
                  bf[qi + 2] = p3[cj + 2];
                  bf[qi + 3] = j2 < tl ? ap[j2] : 255;
                }
              }
            if (depth == 4)
              for (var y2 = 0; y2 < h3; y2++) {
                var s0 = y2 * bpl, t0 = y2 * w2;
                for (var i3 = 0; i3 < w2; i3++) {
                  var qi = t0 + i3 << 2, j2 = data[s0 + (i3 >> 1)] >> 4 - ((i3 & 1) << 2) & 15, cj = 3 * j2;
                  bf[qi] = p3[cj];
                  bf[qi + 1] = p3[cj + 1];
                  bf[qi + 2] = p3[cj + 2];
                  bf[qi + 3] = j2 < tl ? ap[j2] : 255;
                }
              }
            if (depth == 8)
              for (var i3 = 0; i3 < area; i3++) {
                var qi = i3 << 2, j2 = data[i3], cj = 3 * j2;
                bf[qi] = p3[cj];
                bf[qi + 1] = p3[cj + 1];
                bf[qi + 2] = p3[cj + 2];
                bf[qi + 3] = j2 < tl ? ap[j2] : 255;
              }
          } else if (ctype == 4) {
            if (depth == 8)
              for (var i3 = 0; i3 < area; i3++) {
                var qi = i3 << 2, di = i3 << 1, gr = data[di];
                bf[qi] = gr;
                bf[qi + 1] = gr;
                bf[qi + 2] = gr;
                bf[qi + 3] = data[di + 1];
              }
            if (depth == 16)
              for (var i3 = 0; i3 < area; i3++) {
                var qi = i3 << 2, di = i3 << 2, gr = data[di];
                bf[qi] = gr;
                bf[qi + 1] = gr;
                bf[qi + 2] = gr;
                bf[qi + 3] = data[di + 2];
              }
          } else if (ctype == 0) {
            var tr = out.tabs["tRNS"] ? out.tabs["tRNS"] : -1;
            if (depth == 1)
              for (var i3 = 0; i3 < area; i3++) {
                var gr = 255 * (data[i3 >> 3] >> 7 - (i3 & 7) & 1), al = gr == tr * 255 ? 0 : 255;
                bf32[i3] = al << 24 | gr << 16 | gr << 8 | gr;
              }
            if (depth == 2)
              for (var i3 = 0; i3 < area; i3++) {
                var gr = 85 * (data[i3 >> 2] >> 6 - ((i3 & 3) << 1) & 3), al = gr == tr * 85 ? 0 : 255;
                bf32[i3] = al << 24 | gr << 16 | gr << 8 | gr;
              }
            if (depth == 4)
              for (var i3 = 0; i3 < area; i3++) {
                var gr = 17 * (data[i3 >> 1] >> 4 - ((i3 & 1) << 2) & 15), al = gr == tr * 17 ? 0 : 255;
                bf32[i3] = al << 24 | gr << 16 | gr << 8 | gr;
              }
            if (depth == 8)
              for (var i3 = 0; i3 < area; i3++) {
                var gr = data[i3], al = gr == tr ? 0 : 255;
                bf32[i3] = al << 24 | gr << 16 | gr << 8 | gr;
              }
            if (depth == 16)
              for (var i3 = 0; i3 < area; i3++) {
                var gr = data[i3 << 1], al = rs(data, i3 << 1) == tr ? 0 : 255;
                bf32[i3] = al << 24 | gr << 16 | gr << 8 | gr;
              }
          }
          return bf;
        };
        UPNG3.decode = function(buff) {
          var data = new Uint8Array(buff), offset = 8, bin = UPNG3._bin, rUs = bin.readUshort, rUi = bin.readUint;
          var out = {tabs: {}, frames: []};
          var dd = new Uint8Array(data.length), doff = 0;
          var fd, foff = 0;
          var mgck = [137, 80, 78, 71, 13, 10, 26, 10];
          for (var i3 = 0; i3 < 8; i3++)
            if (data[i3] != mgck[i3])
              throw "The input is not a PNG file!";
          while (offset < data.length) {
            var len = bin.readUint(data, offset);
            offset += 4;
            var type = bin.readASCII(data, offset, 4);
            offset += 4;
            if (type == "IHDR") {
              UPNG3.decode._IHDR(data, offset, out);
            } else if (type == "IDAT") {
              for (var i3 = 0; i3 < len; i3++)
                dd[doff + i3] = data[offset + i3];
              doff += len;
            } else if (type == "acTL") {
              out.tabs[type] = {num_frames: rUi(data, offset), num_plays: rUi(data, offset + 4)};
              fd = new Uint8Array(data.length);
            } else if (type == "fcTL") {
              if (foff != 0) {
                var fr = out.frames[out.frames.length - 1];
                fr.data = UPNG3.decode._decompress(out, fd.slice(0, foff), fr.rect.width, fr.rect.height);
                foff = 0;
              }
              var rct = {x: rUi(data, offset + 12), y: rUi(data, offset + 16), width: rUi(data, offset + 4), height: rUi(data, offset + 8)};
              var del = rUs(data, offset + 22);
              del = rUs(data, offset + 20) / (del == 0 ? 100 : del);
              var frm = {rect: rct, delay: Math.round(del * 1e3), dispose: data[offset + 24], blend: data[offset + 25]};
              out.frames.push(frm);
            } else if (type == "fdAT") {
              for (var i3 = 0; i3 < len - 4; i3++)
                fd[foff + i3] = data[offset + i3 + 4];
              foff += len - 4;
            } else if (type == "pHYs") {
              out.tabs[type] = [bin.readUint(data, offset), bin.readUint(data, offset + 4), data[offset + 8]];
            } else if (type == "cHRM") {
              out.tabs[type] = [];
              for (var i3 = 0; i3 < 8; i3++)
                out.tabs[type].push(bin.readUint(data, offset + i3 * 4));
            } else if (type == "tEXt") {
              if (out.tabs[type] == null)
                out.tabs[type] = {};
              var nz = bin.nextZero(data, offset);
              var keyw = bin.readASCII(data, offset, nz - offset);
              var text = bin.readASCII(data, nz + 1, offset + len - nz - 1);
              out.tabs[type][keyw] = text;
            } else if (type == "iTXt") {
              if (out.tabs[type] == null)
                out.tabs[type] = {};
              var nz = 0, off = offset;
              nz = bin.nextZero(data, off);
              var keyw = bin.readASCII(data, off, nz - off);
              off = nz + 1;
              var cflag = data[off], cmeth = data[off + 1];
              off += 2;
              nz = bin.nextZero(data, off);
              var ltag = bin.readASCII(data, off, nz - off);
              off = nz + 1;
              nz = bin.nextZero(data, off);
              var tkeyw = bin.readUTF8(data, off, nz - off);
              off = nz + 1;
              var text = bin.readUTF8(data, off, len - (off - offset));
              out.tabs[type][keyw] = text;
            } else if (type == "PLTE") {
              out.tabs[type] = bin.readBytes(data, offset, len);
            } else if (type == "hIST") {
              var pl = out.tabs["PLTE"].length / 3;
              out.tabs[type] = [];
              for (var i3 = 0; i3 < pl; i3++)
                out.tabs[type].push(rUs(data, offset + i3 * 2));
            } else if (type == "tRNS") {
              if (out.ctype == 3)
                out.tabs[type] = bin.readBytes(data, offset, len);
              else if (out.ctype == 0)
                out.tabs[type] = rUs(data, offset);
              else if (out.ctype == 2)
                out.tabs[type] = [rUs(data, offset), rUs(data, offset + 2), rUs(data, offset + 4)];
            } else if (type == "gAMA")
              out.tabs[type] = bin.readUint(data, offset) / 1e5;
            else if (type == "sRGB")
              out.tabs[type] = data[offset];
            else if (type == "bKGD") {
              if (out.ctype == 0 || out.ctype == 4)
                out.tabs[type] = [rUs(data, offset)];
              else if (out.ctype == 2 || out.ctype == 6)
                out.tabs[type] = [rUs(data, offset), rUs(data, offset + 2), rUs(data, offset + 4)];
              else if (out.ctype == 3)
                out.tabs[type] = data[offset];
            } else if (type == "IEND") {
              if (foff != 0) {
                var fr = out.frames[out.frames.length - 1];
                fr.data = UPNG3.decode._decompress(out, fd.slice(0, foff), fr.rect.width, fr.rect.height);
                foff = 0;
              }
              out.data = UPNG3.decode._decompress(out, dd, out.width, out.height);
              break;
            }
            offset += len;
            var crc = bin.readUint(data, offset);
            offset += 4;
          }
          delete out.compress;
          delete out.interlace;
          delete out.filter;
          return out;
        };
        UPNG3.decode._decompress = function(out, dd, w2, h3) {
          if (out.compress == 0)
            dd = UPNG3.decode._inflate(dd);
          if (out.interlace == 0)
            dd = UPNG3.decode._filterZero(dd, out, 0, w2, h3);
          else if (out.interlace == 1)
            dd = UPNG3.decode._readInterlace(dd, out);
          return dd;
        };
        UPNG3.decode._inflate = function(data) {
          return pako3["inflate"](data);
        };
        UPNG3.decode._readInterlace = function(data, out) {
          var w2 = out.width, h3 = out.height;
          var bpp = UPNG3.decode._getBPP(out), cbpp = bpp >> 3, bpl = Math.ceil(w2 * bpp / 8);
          var img = new Uint8Array(h3 * bpl);
          var di = 0;
          var starting_row = [0, 0, 4, 0, 2, 0, 1];
          var starting_col = [0, 4, 0, 2, 0, 1, 0];
          var row_increment = [8, 8, 8, 4, 4, 2, 2];
          var col_increment = [8, 8, 4, 4, 2, 2, 1];
          var pass = 0;
          while (pass < 7) {
            var ri = row_increment[pass], ci = col_increment[pass];
            var sw = 0, sh = 0;
            var cr = starting_row[pass];
            while (cr < h3) {
              cr += ri;
              sh++;
            }
            var cc = starting_col[pass];
            while (cc < w2) {
              cc += ci;
              sw++;
            }
            var bpll = Math.ceil(sw * bpp / 8);
            UPNG3.decode._filterZero(data, out, di, sw, sh);
            var y2 = 0, row = starting_row[pass];
            while (row < h3) {
              var col = starting_col[pass];
              var cdi = di + y2 * bpll << 3;
              while (col < w2) {
                if (bpp == 1) {
                  var val = data[cdi >> 3];
                  val = val >> 7 - (cdi & 7) & 1;
                  img[row * bpl + (col >> 3)] |= val << 7 - ((col & 3) << 0);
                }
                if (bpp == 2) {
                  var val = data[cdi >> 3];
                  val = val >> 6 - (cdi & 7) & 3;
                  img[row * bpl + (col >> 2)] |= val << 6 - ((col & 3) << 1);
                }
                if (bpp == 4) {
                  var val = data[cdi >> 3];
                  val = val >> 4 - (cdi & 7) & 15;
                  img[row * bpl + (col >> 1)] |= val << 4 - ((col & 1) << 2);
                }
                if (bpp >= 8) {
                  var ii = row * bpl + col * cbpp;
                  for (var j2 = 0; j2 < cbpp; j2++)
                    img[ii + j2] = data[(cdi >> 3) + j2];
                }
                cdi += bpp;
                col += ci;
              }
              y2++;
              row += ri;
            }
            if (sw * sh != 0)
              di += sh * (1 + bpll);
            pass = pass + 1;
          }
          return img;
        };
        UPNG3.decode._getBPP = function(out) {
          var noc = [1, null, 3, 1, 2, null, 4][out.ctype];
          return noc * out.depth;
        };
        UPNG3.decode._filterZero = function(data, out, off, w2, h3) {
          var bpp = UPNG3.decode._getBPP(out), bpl = Math.ceil(w2 * bpp / 8), paeth = UPNG3.decode._paeth;
          bpp = Math.ceil(bpp / 8);
          for (var y2 = 0; y2 < h3; y2++) {
            var i3 = off + y2 * bpl, di = i3 + y2 + 1;
            var type = data[di - 1];
            if (type == 0)
              for (var x2 = 0; x2 < bpl; x2++)
                data[i3 + x2] = data[di + x2];
            else if (type == 1) {
              for (var x2 = 0; x2 < bpp; x2++)
                data[i3 + x2] = data[di + x2];
              for (var x2 = bpp; x2 < bpl; x2++)
                data[i3 + x2] = data[di + x2] + data[i3 + x2 - bpp] & 255;
            } else if (y2 == 0) {
              for (var x2 = 0; x2 < bpp; x2++)
                data[i3 + x2] = data[di + x2];
              if (type == 2)
                for (var x2 = bpp; x2 < bpl; x2++)
                  data[i3 + x2] = data[di + x2] & 255;
              if (type == 3)
                for (var x2 = bpp; x2 < bpl; x2++)
                  data[i3 + x2] = data[di + x2] + (data[i3 + x2 - bpp] >> 1) & 255;
              if (type == 4)
                for (var x2 = bpp; x2 < bpl; x2++)
                  data[i3 + x2] = data[di + x2] + paeth(data[i3 + x2 - bpp], 0, 0) & 255;
            } else {
              if (type == 2) {
                for (var x2 = 0; x2 < bpl; x2++)
                  data[i3 + x2] = data[di + x2] + data[i3 + x2 - bpl] & 255;
              }
              if (type == 3) {
                for (var x2 = 0; x2 < bpp; x2++)
                  data[i3 + x2] = data[di + x2] + (data[i3 + x2 - bpl] >> 1) & 255;
                for (var x2 = bpp; x2 < bpl; x2++)
                  data[i3 + x2] = data[di + x2] + (data[i3 + x2 - bpl] + data[i3 + x2 - bpp] >> 1) & 255;
              }
              if (type == 4) {
                for (var x2 = 0; x2 < bpp; x2++)
                  data[i3 + x2] = data[di + x2] + paeth(0, data[i3 + x2 - bpl], 0) & 255;
                for (var x2 = bpp; x2 < bpl; x2++)
                  data[i3 + x2] = data[di + x2] + paeth(data[i3 + x2 - bpp], data[i3 + x2 - bpl], data[i3 + x2 - bpp - bpl]) & 255;
              }
            }
          }
          return data;
        };
        UPNG3.decode._paeth = function(a3, b2, c3) {
          var p3 = a3 + b2 - c3, pa = Math.abs(p3 - a3), pb = Math.abs(p3 - b2), pc = Math.abs(p3 - c3);
          if (pa <= pb && pa <= pc)
            return a3;
          else if (pb <= pc)
            return b2;
          return c3;
        };
        UPNG3.decode._IHDR = function(data, offset, out) {
          var bin = UPNG3._bin;
          out.width = bin.readUint(data, offset);
          offset += 4;
          out.height = bin.readUint(data, offset);
          offset += 4;
          out.depth = data[offset];
          offset++;
          out.ctype = data[offset];
          offset++;
          out.compress = data[offset];
          offset++;
          out.filter = data[offset];
          offset++;
          out.interlace = data[offset];
          offset++;
        };
        UPNG3._bin = {
          nextZero: function(data, p3) {
            while (data[p3] != 0)
              p3++;
            return p3;
          },
          readUshort: function(buff, p3) {
            return buff[p3] << 8 | buff[p3 + 1];
          },
          writeUshort: function(buff, p3, n3) {
            buff[p3] = n3 >> 8 & 255;
            buff[p3 + 1] = n3 & 255;
          },
          readUint: function(buff, p3) {
            return buff[p3] * (256 * 256 * 256) + (buff[p3 + 1] << 16 | buff[p3 + 2] << 8 | buff[p3 + 3]);
          },
          writeUint: function(buff, p3, n3) {
            buff[p3] = n3 >> 24 & 255;
            buff[p3 + 1] = n3 >> 16 & 255;
            buff[p3 + 2] = n3 >> 8 & 255;
            buff[p3 + 3] = n3 & 255;
          },
          readASCII: function(buff, p3, l3) {
            var s3 = "";
            for (var i3 = 0; i3 < l3; i3++)
              s3 += String.fromCharCode(buff[p3 + i3]);
            return s3;
          },
          writeASCII: function(data, p3, s3) {
            for (var i3 = 0; i3 < s3.length; i3++)
              data[p3 + i3] = s3.charCodeAt(i3);
          },
          readBytes: function(buff, p3, l3) {
            var arr = [];
            for (var i3 = 0; i3 < l3; i3++)
              arr.push(buff[p3 + i3]);
            return arr;
          },
          pad: function(n3) {
            return n3.length < 2 ? "0" + n3 : n3;
          },
          readUTF8: function(buff, p3, l3) {
            var s3 = "", ns;
            for (var i3 = 0; i3 < l3; i3++)
              s3 += "%" + UPNG3._bin.pad(buff[p3 + i3].toString(16));
            try {
              ns = decodeURIComponent(s3);
            } catch (e2) {
              return UPNG3._bin.readASCII(buff, p3, l3);
            }
            return ns;
          }
        };
        UPNG3._copyTile = function(sb, sw, sh, tb, tw, th, xoff, yoff, mode) {
          var w2 = Math.min(sw, tw), h3 = Math.min(sh, th);
          var si = 0, ti = 0;
          for (var y2 = 0; y2 < h3; y2++)
            for (var x2 = 0; x2 < w2; x2++) {
              if (xoff >= 0 && yoff >= 0) {
                si = y2 * sw + x2 << 2;
                ti = (yoff + y2) * tw + xoff + x2 << 2;
              } else {
                si = (-yoff + y2) * sw - xoff + x2 << 2;
                ti = y2 * tw + x2 << 2;
              }
              if (mode == 0) {
                tb[ti] = sb[si];
                tb[ti + 1] = sb[si + 1];
                tb[ti + 2] = sb[si + 2];
                tb[ti + 3] = sb[si + 3];
              } else if (mode == 1) {
                var fa = sb[si + 3] * (1 / 255), fr = sb[si] * fa, fg = sb[si + 1] * fa, fb = sb[si + 2] * fa;
                var ba = tb[ti + 3] * (1 / 255), br = tb[ti] * ba, bg = tb[ti + 1] * ba, bb = tb[ti + 2] * ba;
                var ifa = 1 - fa, oa = fa + ba * ifa, ioa = oa == 0 ? 0 : 1 / oa;
                tb[ti + 3] = 255 * oa;
                tb[ti + 0] = (fr + br * ifa) * ioa;
                tb[ti + 1] = (fg + bg * ifa) * ioa;
                tb[ti + 2] = (fb + bb * ifa) * ioa;
              } else if (mode == 2) {
                var fa = sb[si + 3], fr = sb[si], fg = sb[si + 1], fb = sb[si + 2];
                var ba = tb[ti + 3], br = tb[ti], bg = tb[ti + 1], bb = tb[ti + 2];
                if (fa == ba && fr == br && fg == bg && fb == bb) {
                  tb[ti] = 0;
                  tb[ti + 1] = 0;
                  tb[ti + 2] = 0;
                  tb[ti + 3] = 0;
                } else {
                  tb[ti] = fr;
                  tb[ti + 1] = fg;
                  tb[ti + 2] = fb;
                  tb[ti + 3] = fa;
                }
              } else if (mode == 3) {
                var fa = sb[si + 3], fr = sb[si], fg = sb[si + 1], fb = sb[si + 2];
                var ba = tb[ti + 3], br = tb[ti], bg = tb[ti + 1], bb = tb[ti + 2];
                if (fa == ba && fr == br && fg == bg && fb == bb)
                  continue;
                if (fa < 220 && ba > 20)
                  return false;
              }
            }
          return true;
        };
        UPNG3.encode = function(bufs, w2, h3, ps, dels, forbidPlte) {
          if (ps == null)
            ps = 0;
          if (forbidPlte == null)
            forbidPlte = false;
          var data = new Uint8Array(bufs[0].byteLength * bufs.length + 100);
          var wr = [137, 80, 78, 71, 13, 10, 26, 10];
          for (var i3 = 0; i3 < 8; i3++)
            data[i3] = wr[i3];
          var offset = 8, bin = UPNG3._bin, crc = UPNG3.crc.crc, wUi = bin.writeUint, wUs = bin.writeUshort, wAs = bin.writeASCII;
          var nimg = UPNG3.encode.compressPNG(bufs, w2, h3, ps, forbidPlte);
          wUi(data, offset, 13);
          offset += 4;
          wAs(data, offset, "IHDR");
          offset += 4;
          wUi(data, offset, w2);
          offset += 4;
          wUi(data, offset, h3);
          offset += 4;
          data[offset] = nimg.depth;
          offset++;
          data[offset] = nimg.ctype;
          offset++;
          data[offset] = 0;
          offset++;
          data[offset] = 0;
          offset++;
          data[offset] = 0;
          offset++;
          wUi(data, offset, crc(data, offset - 17, 17));
          offset += 4;
          wUi(data, offset, 1);
          offset += 4;
          wAs(data, offset, "sRGB");
          offset += 4;
          data[offset] = 1;
          offset++;
          wUi(data, offset, crc(data, offset - 5, 5));
          offset += 4;
          var anim = bufs.length > 1;
          if (anim) {
            wUi(data, offset, 8);
            offset += 4;
            wAs(data, offset, "acTL");
            offset += 4;
            wUi(data, offset, bufs.length);
            offset += 4;
            wUi(data, offset, 0);
            offset += 4;
            wUi(data, offset, crc(data, offset - 12, 12));
            offset += 4;
          }
          if (nimg.ctype == 3) {
            var dl = nimg.plte.length;
            wUi(data, offset, dl * 3);
            offset += 4;
            wAs(data, offset, "PLTE");
            offset += 4;
            for (var i3 = 0; i3 < dl; i3++) {
              var ti = i3 * 3, c3 = nimg.plte[i3], r2 = c3 & 255, g3 = c3 >> 8 & 255, b2 = c3 >> 16 & 255;
              data[offset + ti + 0] = r2;
              data[offset + ti + 1] = g3;
              data[offset + ti + 2] = b2;
            }
            offset += dl * 3;
            wUi(data, offset, crc(data, offset - dl * 3 - 4, dl * 3 + 4));
            offset += 4;
            if (nimg.gotAlpha) {
              wUi(data, offset, dl);
              offset += 4;
              wAs(data, offset, "tRNS");
              offset += 4;
              for (var i3 = 0; i3 < dl; i3++)
                data[offset + i3] = nimg.plte[i3] >> 24 & 255;
              offset += dl;
              wUi(data, offset, crc(data, offset - dl - 4, dl + 4));
              offset += 4;
            }
          }
          var fi = 0;
          for (var j2 = 0; j2 < nimg.frames.length; j2++) {
            var fr = nimg.frames[j2];
            if (anim) {
              wUi(data, offset, 26);
              offset += 4;
              wAs(data, offset, "fcTL");
              offset += 4;
              wUi(data, offset, fi++);
              offset += 4;
              wUi(data, offset, fr.rect.width);
              offset += 4;
              wUi(data, offset, fr.rect.height);
              offset += 4;
              wUi(data, offset, fr.rect.x);
              offset += 4;
              wUi(data, offset, fr.rect.y);
              offset += 4;
              wUs(data, offset, dels[j2]);
              offset += 2;
              wUs(data, offset, 1e3);
              offset += 2;
              data[offset] = fr.dispose;
              offset++;
              data[offset] = fr.blend;
              offset++;
              wUi(data, offset, crc(data, offset - 30, 30));
              offset += 4;
            }
            var imgd = fr.cimg, dl = imgd.length;
            wUi(data, offset, dl + (j2 == 0 ? 0 : 4));
            offset += 4;
            var ioff = offset;
            wAs(data, offset, j2 == 0 ? "IDAT" : "fdAT");
            offset += 4;
            if (j2 != 0) {
              wUi(data, offset, fi++);
              offset += 4;
            }
            for (var i3 = 0; i3 < dl; i3++)
              data[offset + i3] = imgd[i3];
            offset += dl;
            wUi(data, offset, crc(data, ioff, offset - ioff));
            offset += 4;
          }
          wUi(data, offset, 0);
          offset += 4;
          wAs(data, offset, "IEND");
          offset += 4;
          wUi(data, offset, crc(data, offset - 4, 4));
          offset += 4;
          return data.buffer.slice(0, offset);
        };
        UPNG3.encode.compressPNG = function(bufs, w2, h3, ps, forbidPlte) {
          var out = UPNG3.encode.compress(bufs, w2, h3, ps, false, forbidPlte);
          for (var i3 = 0; i3 < bufs.length; i3++) {
            var frm = out.frames[i3], nw = frm.rect.width, nh = frm.rect.height, bpl = frm.bpl, bpp = frm.bpp;
            var fdata = new Uint8Array(nh * bpl + nh);
            frm.cimg = UPNG3.encode._filterZero(frm.img, nh, bpp, bpl, fdata);
          }
          return out;
        };
        UPNG3.encode.compress = function(bufs, w2, h3, ps, forGIF, forbidPlte) {
          if (forbidPlte == null)
            forbidPlte = false;
          var ctype = 6, depth = 8, bpp = 4, alphaAnd = 255;
          for (var j2 = 0; j2 < bufs.length; j2++) {
            var img = new Uint8Array(bufs[j2]), ilen = img.length;
            for (var i3 = 0; i3 < ilen; i3 += 4)
              alphaAnd &= img[i3 + 3];
          }
          var gotAlpha = alphaAnd != 255;
          var cmap = {}, plte = [];
          if (bufs.length != 0) {
            cmap[0] = 0;
            plte.push(0);
            if (ps != 0)
              ps--;
          }
          if (ps != 0) {
            var qres = UPNG3.quantize(bufs, ps, forGIF);
            bufs = qres.bufs;
            for (var i3 = 0; i3 < qres.plte.length; i3++) {
              var c3 = qres.plte[i3].est.rgba;
              if (cmap[c3] == null) {
                cmap[c3] = plte.length;
                plte.push(c3);
              }
            }
          } else {
            for (var j2 = 0; j2 < bufs.length; j2++) {
              var img32 = new Uint32Array(bufs[j2]), ilen = img32.length;
              for (var i3 = 0; i3 < ilen; i3++) {
                var c3 = img32[i3];
                if ((i3 < w2 || c3 != img32[i3 - 1] && c3 != img32[i3 - w2]) && cmap[c3] == null) {
                  cmap[c3] = plte.length;
                  plte.push(c3);
                  if (plte.length >= 300)
                    break;
                }
              }
            }
          }
          var brute = gotAlpha ? forGIF : false;
          var cc = plte.length;
          if (cc <= 256 && forbidPlte == false) {
            if (cc <= 2)
              depth = 1;
            else if (cc <= 4)
              depth = 2;
            else if (cc <= 16)
              depth = 4;
            else
              depth = 8;
            if (forGIF)
              depth = 8;
            gotAlpha = true;
          }
          var frms = [];
          for (var j2 = 0; j2 < bufs.length; j2++) {
            var cimg = new Uint8Array(bufs[j2]), cimg32 = new Uint32Array(cimg.buffer);
            var nx = 0, ny = 0, nw = w2, nh = h3, blend = 0;
            if (j2 != 0 && !brute) {
              var tlim = forGIF || j2 == 1 || frms[frms.length - 2].dispose == 2 ? 1 : 2, tstp = 0, tarea = 1e9;
              for (var it = 0; it < tlim; it++) {
                var pimg = new Uint8Array(bufs[j2 - 1 - it]), p32 = new Uint32Array(bufs[j2 - 1 - it]);
                var mix = w2, miy = h3, max = -1, may = -1;
                for (var y2 = 0; y2 < h3; y2++)
                  for (var x2 = 0; x2 < w2; x2++) {
                    var i3 = y2 * w2 + x2;
                    if (cimg32[i3] != p32[i3]) {
                      if (x2 < mix)
                        mix = x2;
                      if (x2 > max)
                        max = x2;
                      if (y2 < miy)
                        miy = y2;
                      if (y2 > may)
                        may = y2;
                    }
                  }
                var sarea = max == -1 ? 1 : (max - mix + 1) * (may - miy + 1);
                if (sarea < tarea) {
                  tarea = sarea;
                  tstp = it;
                  if (max == -1) {
                    nx = ny = 0;
                    nw = nh = 1;
                  } else {
                    nx = mix;
                    ny = miy;
                    nw = max - mix + 1;
                    nh = may - miy + 1;
                  }
                }
              }
              var pimg = new Uint8Array(bufs[j2 - 1 - tstp]);
              if (tstp == 1)
                frms[frms.length - 1].dispose = 2;
              var nimg = new Uint8Array(nw * nh * 4), nimg32 = new Uint32Array(nimg.buffer);
              UPNG3._copyTile(pimg, w2, h3, nimg, nw, nh, -nx, -ny, 0);
              if (UPNG3._copyTile(cimg, w2, h3, nimg, nw, nh, -nx, -ny, 3)) {
                UPNG3._copyTile(cimg, w2, h3, nimg, nw, nh, -nx, -ny, 2);
                blend = 1;
              } else {
                UPNG3._copyTile(cimg, w2, h3, nimg, nw, nh, -nx, -ny, 0);
                blend = 0;
              }
              cimg = nimg;
              cimg32 = new Uint32Array(cimg.buffer);
            }
            var bpl = 4 * nw;
            if (cc <= 256 && forbidPlte == false) {
              bpl = Math.ceil(depth * nw / 8);
              var nimg = new Uint8Array(bpl * nh);
              for (var y2 = 0; y2 < nh; y2++) {
                var i3 = y2 * bpl, ii = y2 * nw;
                if (depth == 8)
                  for (var x2 = 0; x2 < nw; x2++)
                    nimg[i3 + x2] = cmap[cimg32[ii + x2]];
                else if (depth == 4)
                  for (var x2 = 0; x2 < nw; x2++)
                    nimg[i3 + (x2 >> 1)] |= cmap[cimg32[ii + x2]] << 4 - (x2 & 1) * 4;
                else if (depth == 2)
                  for (var x2 = 0; x2 < nw; x2++)
                    nimg[i3 + (x2 >> 2)] |= cmap[cimg32[ii + x2]] << 6 - (x2 & 3) * 2;
                else if (depth == 1)
                  for (var x2 = 0; x2 < nw; x2++)
                    nimg[i3 + (x2 >> 3)] |= cmap[cimg32[ii + x2]] << 7 - (x2 & 7) * 1;
              }
              cimg = nimg;
              ctype = 3;
              bpp = 1;
            } else if (gotAlpha == false && bufs.length == 1) {
              var nimg = new Uint8Array(nw * nh * 3), area = nw * nh;
              for (var i3 = 0; i3 < area; i3++) {
                var ti = i3 * 3, qi = i3 * 4;
                nimg[ti] = cimg[qi];
                nimg[ti + 1] = cimg[qi + 1];
                nimg[ti + 2] = cimg[qi + 2];
              }
              cimg = nimg;
              ctype = 2;
              bpp = 3;
              bpl = 3 * nw;
            }
            frms.push({rect: {x: nx, y: ny, width: nw, height: nh}, img: cimg, bpl, bpp, blend, dispose: brute ? 1 : 0});
          }
          return {ctype, depth, plte, gotAlpha, frames: frms};
        };
        UPNG3.encode._filterZero = function(img, h3, bpp, bpl, data) {
          var fls = [];
          for (var t2 = 0; t2 < 5; t2++) {
            if (h3 * bpl > 5e5 && (t2 == 2 || t2 == 3 || t2 == 4))
              continue;
            for (var y2 = 0; y2 < h3; y2++)
              UPNG3.encode._filterLine(data, img, y2, bpl, bpp, t2);
            fls.push(pako3["deflate"](data));
            if (bpp == 1)
              break;
          }
          var ti, tsize = 1e9;
          for (var i3 = 0; i3 < fls.length; i3++)
            if (fls[i3].length < tsize) {
              ti = i3;
              tsize = fls[i3].length;
            }
          return fls[ti];
        };
        UPNG3.encode._filterLine = function(data, img, y2, bpl, bpp, type) {
          var i3 = y2 * bpl, di = i3 + y2, paeth = UPNG3.decode._paeth;
          data[di] = type;
          di++;
          if (type == 0)
            for (var x2 = 0; x2 < bpl; x2++)
              data[di + x2] = img[i3 + x2];
          else if (type == 1) {
            for (var x2 = 0; x2 < bpp; x2++)
              data[di + x2] = img[i3 + x2];
            for (var x2 = bpp; x2 < bpl; x2++)
              data[di + x2] = img[i3 + x2] - img[i3 + x2 - bpp] + 256 & 255;
          } else if (y2 == 0) {
            for (var x2 = 0; x2 < bpp; x2++)
              data[di + x2] = img[i3 + x2];
            if (type == 2)
              for (var x2 = bpp; x2 < bpl; x2++)
                data[di + x2] = img[i3 + x2];
            if (type == 3)
              for (var x2 = bpp; x2 < bpl; x2++)
                data[di + x2] = img[i3 + x2] - (img[i3 + x2 - bpp] >> 1) + 256 & 255;
            if (type == 4)
              for (var x2 = bpp; x2 < bpl; x2++)
                data[di + x2] = img[i3 + x2] - paeth(img[i3 + x2 - bpp], 0, 0) + 256 & 255;
          } else {
            if (type == 2) {
              for (var x2 = 0; x2 < bpl; x2++)
                data[di + x2] = img[i3 + x2] + 256 - img[i3 + x2 - bpl] & 255;
            }
            if (type == 3) {
              for (var x2 = 0; x2 < bpp; x2++)
                data[di + x2] = img[i3 + x2] + 256 - (img[i3 + x2 - bpl] >> 1) & 255;
              for (var x2 = bpp; x2 < bpl; x2++)
                data[di + x2] = img[i3 + x2] + 256 - (img[i3 + x2 - bpl] + img[i3 + x2 - bpp] >> 1) & 255;
            }
            if (type == 4) {
              for (var x2 = 0; x2 < bpp; x2++)
                data[di + x2] = img[i3 + x2] + 256 - paeth(0, img[i3 + x2 - bpl], 0) & 255;
              for (var x2 = bpp; x2 < bpl; x2++)
                data[di + x2] = img[i3 + x2] + 256 - paeth(img[i3 + x2 - bpp], img[i3 + x2 - bpl], img[i3 + x2 - bpp - bpl]) & 255;
            }
          }
        };
        UPNG3.crc = {
          table: function() {
            var tab = new Uint32Array(256);
            for (var n3 = 0; n3 < 256; n3++) {
              var c3 = n3;
              for (var k2 = 0; k2 < 8; k2++) {
                if (c3 & 1)
                  c3 = 3988292384 ^ c3 >>> 1;
                else
                  c3 = c3 >>> 1;
              }
              tab[n3] = c3;
            }
            return tab;
          }(),
          update: function(c3, buf, off, len) {
            for (var i3 = 0; i3 < len; i3++)
              c3 = UPNG3.crc.table[(c3 ^ buf[off + i3]) & 255] ^ c3 >>> 8;
            return c3;
          },
          crc: function(b2, o3, l3) {
            return UPNG3.crc.update(4294967295, b2, o3, l3) ^ 4294967295;
          }
        };
        UPNG3.quantize = function(bufs, ps, roundAlpha) {
          var imgs = [], totl = 0;
          for (var i3 = 0; i3 < bufs.length; i3++) {
            imgs.push(UPNG3.encode.alphaMul(new Uint8Array(bufs[i3]), roundAlpha));
            totl += bufs[i3].byteLength;
          }
          var nimg = new Uint8Array(totl), nimg32 = new Uint32Array(nimg.buffer), noff = 0;
          for (var i3 = 0; i3 < imgs.length; i3++) {
            var img = imgs[i3], il = img.length;
            for (var j2 = 0; j2 < il; j2++)
              nimg[noff + j2] = img[j2];
            noff += il;
          }
          var root = {i0: 0, i1: nimg.length, bst: null, est: null, tdst: 0, left: null, right: null};
          root.bst = UPNG3.quantize.stats(nimg, root.i0, root.i1);
          root.est = UPNG3.quantize.estats(root.bst);
          var leafs = [root];
          while (leafs.length < ps) {
            var maxL = 0, mi = 0;
            for (var i3 = 0; i3 < leafs.length; i3++)
              if (leafs[i3].est.L > maxL) {
                maxL = leafs[i3].est.L;
                mi = i3;
              }
            if (maxL < 1e-3)
              break;
            var node = leafs[mi];
            var s0 = UPNG3.quantize.splitPixels(nimg, nimg32, node.i0, node.i1, node.est.e, node.est.eMq255);
            var ln = {i0: node.i0, i1: s0, bst: null, est: null, tdst: 0, left: null, right: null};
            ln.bst = UPNG3.quantize.stats(nimg, ln.i0, ln.i1);
            ln.est = UPNG3.quantize.estats(ln.bst);
            var rn = {i0: s0, i1: node.i1, bst: null, est: null, tdst: 0, left: null, right: null};
            rn.bst = {R: [], m: [], N: node.bst.N - ln.bst.N};
            for (var i3 = 0; i3 < 16; i3++)
              rn.bst.R[i3] = node.bst.R[i3] - ln.bst.R[i3];
            for (var i3 = 0; i3 < 4; i3++)
              rn.bst.m[i3] = node.bst.m[i3] - ln.bst.m[i3];
            rn.est = UPNG3.quantize.estats(rn.bst);
            node.left = ln;
            node.right = rn;
            leafs[mi] = ln;
            leafs.push(rn);
          }
          leafs.sort(function(a4, b3) {
            return b3.bst.N - a4.bst.N;
          });
          for (var ii = 0; ii < imgs.length; ii++) {
            var planeDst = UPNG3.quantize.planeDst;
            var sb = new Uint8Array(imgs[ii].buffer), tb = new Uint32Array(imgs[ii].buffer), len = sb.length;
            var stack = [], si = 0;
            for (var i3 = 0; i3 < len; i3 += 4) {
              var r2 = sb[i3] * (1 / 255), g3 = sb[i3 + 1] * (1 / 255), b2 = sb[i3 + 2] * (1 / 255), a3 = sb[i3 + 3] * (1 / 255);
              var nd = root;
              while (nd.left)
                nd = planeDst(nd.est, r2, g3, b2, a3) <= 0 ? nd.left : nd.right;
              tb[i3 >> 2] = nd.est.rgba;
            }
            imgs[ii] = tb.buffer;
          }
          return {bufs: imgs, plte: leafs};
        };
        UPNG3.quantize.getNearest = function(nd, r2, g3, b2, a3) {
          if (nd.left == null) {
            nd.tdst = UPNG3.quantize.dist(nd.est.q, r2, g3, b2, a3);
            return nd;
          }
          var planeDst = UPNG3.quantize.planeDst(nd.est, r2, g3, b2, a3);
          var node0 = nd.left, node1 = nd.right;
          if (planeDst > 0) {
            node0 = nd.right;
            node1 = nd.left;
          }
          var ln = UPNG3.quantize.getNearest(node0, r2, g3, b2, a3);
          if (ln.tdst <= planeDst * planeDst)
            return ln;
          var rn = UPNG3.quantize.getNearest(node1, r2, g3, b2, a3);
          return rn.tdst < ln.tdst ? rn : ln;
        };
        UPNG3.quantize.planeDst = function(est, r2, g3, b2, a3) {
          var e2 = est.e;
          return e2[0] * r2 + e2[1] * g3 + e2[2] * b2 + e2[3] * a3 - est.eMq;
        };
        UPNG3.quantize.dist = function(q2, r2, g3, b2, a3) {
          var d0 = r2 - q2[0], d1 = g3 - q2[1], d2 = b2 - q2[2], d3 = a3 - q2[3];
          return d0 * d0 + d1 * d1 + d2 * d2 + d3 * d3;
        };
        UPNG3.quantize.splitPixels = function(nimg, nimg32, i0, i1, e2, eMq) {
          var vecDot = UPNG3.quantize.vecDot;
          i1 -= 4;
          var shfs = 0;
          while (i0 < i1) {
            while (vecDot(nimg, i0, e2) <= eMq)
              i0 += 4;
            while (vecDot(nimg, i1, e2) > eMq)
              i1 -= 4;
            if (i0 >= i1)
              break;
            var t2 = nimg32[i0 >> 2];
            nimg32[i0 >> 2] = nimg32[i1 >> 2];
            nimg32[i1 >> 2] = t2;
            i0 += 4;
            i1 -= 4;
          }
          while (vecDot(nimg, i0, e2) > eMq)
            i0 -= 4;
          return i0 + 4;
        };
        UPNG3.quantize.vecDot = function(nimg, i3, e2) {
          return nimg[i3] * e2[0] + nimg[i3 + 1] * e2[1] + nimg[i3 + 2] * e2[2] + nimg[i3 + 3] * e2[3];
        };
        UPNG3.quantize.stats = function(nimg, i0, i1) {
          var R = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
          var m2 = [0, 0, 0, 0];
          var N2 = i1 - i0 >> 2;
          for (var i3 = i0; i3 < i1; i3 += 4) {
            var r2 = nimg[i3] * (1 / 255), g3 = nimg[i3 + 1] * (1 / 255), b2 = nimg[i3 + 2] * (1 / 255), a3 = nimg[i3 + 3] * (1 / 255);
            m2[0] += r2;
            m2[1] += g3;
            m2[2] += b2;
            m2[3] += a3;
            R[0] += r2 * r2;
            R[1] += r2 * g3;
            R[2] += r2 * b2;
            R[3] += r2 * a3;
            R[5] += g3 * g3;
            R[6] += g3 * b2;
            R[7] += g3 * a3;
            R[10] += b2 * b2;
            R[11] += b2 * a3;
            R[15] += a3 * a3;
          }
          R[4] = R[1];
          R[8] = R[2];
          R[12] = R[3];
          R[9] = R[6];
          R[13] = R[7];
          R[14] = R[11];
          return {R, m: m2, N: N2};
        };
        UPNG3.quantize.estats = function(stats) {
          var R = stats.R, m2 = stats.m, N2 = stats.N;
          var m0 = m2[0], m1 = m2[1], m22 = m2[2], m3 = m2[3], iN = N2 == 0 ? 0 : 1 / N2;
          var Rj = [
            R[0] - m0 * m0 * iN,
            R[1] - m0 * m1 * iN,
            R[2] - m0 * m22 * iN,
            R[3] - m0 * m3 * iN,
            R[4] - m1 * m0 * iN,
            R[5] - m1 * m1 * iN,
            R[6] - m1 * m22 * iN,
            R[7] - m1 * m3 * iN,
            R[8] - m22 * m0 * iN,
            R[9] - m22 * m1 * iN,
            R[10] - m22 * m22 * iN,
            R[11] - m22 * m3 * iN,
            R[12] - m3 * m0 * iN,
            R[13] - m3 * m1 * iN,
            R[14] - m3 * m22 * iN,
            R[15] - m3 * m3 * iN
          ];
          var A2 = Rj, M2 = UPNG3.M4;
          var b2 = [0.5, 0.5, 0.5, 0.5], mi = 0, tmi = 0;
          if (N2 != 0)
            for (var i3 = 0; i3 < 10; i3++) {
              b2 = M2.multVec(A2, b2);
              tmi = Math.sqrt(M2.dot(b2, b2));
              b2 = M2.sml(1 / tmi, b2);
              if (Math.abs(tmi - mi) < 1e-9)
                break;
              mi = tmi;
            }
          var q2 = [m0 * iN, m1 * iN, m22 * iN, m3 * iN];
          var eMq255 = M2.dot(M2.sml(255, q2), b2);
          var ia = q2[3] < 1e-3 ? 0 : 1 / q2[3];
          return {
            Cov: Rj,
            q: q2,
            e: b2,
            L: mi,
            eMq255,
            eMq: M2.dot(b2, q2),
            rgba: (Math.round(255 * q2[3]) << 24 | Math.round(255 * q2[2] * ia) << 16 | Math.round(255 * q2[1] * ia) << 8 | Math.round(255 * q2[0] * ia) << 0) >>> 0
          };
        };
        UPNG3.M4 = {
          multVec: function(m2, v3) {
            return [
              m2[0] * v3[0] + m2[1] * v3[1] + m2[2] * v3[2] + m2[3] * v3[3],
              m2[4] * v3[0] + m2[5] * v3[1] + m2[6] * v3[2] + m2[7] * v3[3],
              m2[8] * v3[0] + m2[9] * v3[1] + m2[10] * v3[2] + m2[11] * v3[3],
              m2[12] * v3[0] + m2[13] * v3[1] + m2[14] * v3[2] + m2[15] * v3[3]
            ];
          },
          dot: function(x2, y2) {
            return x2[0] * y2[0] + x2[1] * y2[1] + x2[2] * y2[2] + x2[3] * y2[3];
          },
          sml: function(a3, y2) {
            return [a3 * y2[0], a3 * y2[1], a3 * y2[2], a3 * y2[3]];
          }
        };
        UPNG3.encode.alphaMul = function(img, roundA) {
          var nimg = new Uint8Array(img.length), area = img.length >> 2;
          for (var i3 = 0; i3 < area; i3++) {
            var qi = i3 << 2, ia = img[qi + 3];
            if (roundA)
              ia = ia < 128 ? 0 : 255;
            var a3 = ia * (1 / 255);
            nimg[qi + 0] = img[qi + 0] * a3;
            nimg[qi + 1] = img[qi + 1] * a3;
            nimg[qi + 2] = img[qi + 2] * a3;
            nimg[qi + 3] = ia;
          }
          return nimg;
        };
      })(UPNG2, pako2);
    })();
  });

  // node_modules/preact/dist/preact.module.js
  var n;
  var l2;
  var u2;
  var i2;
  var t;
  var r;
  var o2;
  var f2 = {};
  var e = [];
  var c2 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;
  function s2(n3, l3) {
    for (var u3 in l3)
      n3[u3] = l3[u3];
    return n3;
  }
  function a2(n3) {
    var l3 = n3.parentNode;
    l3 && l3.removeChild(n3);
  }
  function v(n3, l3, u3) {
    var i3, t2 = arguments, r2 = {};
    for (i3 in l3)
      "key" !== i3 && "ref" !== i3 && (r2[i3] = l3[i3]);
    if (arguments.length > 3)
      for (u3 = [u3], i3 = 3; i3 < arguments.length; i3++)
        u3.push(t2[i3]);
    if (null != u3 && (r2.children = u3), "function" == typeof n3 && null != n3.defaultProps)
      for (i3 in n3.defaultProps)
        void 0 === r2[i3] && (r2[i3] = n3.defaultProps[i3]);
    return h2(n3, r2, l3 && l3.key, l3 && l3.ref, null);
  }
  function h2(l3, u3, i3, t2, r2) {
    var o3 = {type: l3, props: u3, key: i3, ref: t2, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, constructor: void 0, __v: r2};
    return null == r2 && (o3.__v = o3), n.vnode && n.vnode(o3), o3;
  }
  function y() {
    return {current: null};
  }
  function p(n3) {
    return n3.children;
  }
  function d(n3, l3) {
    this.props = n3, this.context = l3;
  }
  function _2(n3, l3) {
    if (null == l3)
      return n3.__ ? _2(n3.__, n3.__.__k.indexOf(n3) + 1) : null;
    for (var u3; l3 < n3.__k.length; l3++)
      if (null != (u3 = n3.__k[l3]) && null != u3.__e)
        return u3.__e;
    return "function" == typeof n3.type ? _2(n3) : null;
  }
  function k(n3) {
    var l3, u3;
    if (null != (n3 = n3.__) && null != n3.__c) {
      for (n3.__e = n3.__c.base = null, l3 = 0; l3 < n3.__k.length; l3++)
        if (null != (u3 = n3.__k[l3]) && null != u3.__e) {
          n3.__e = n3.__c.base = u3.__e;
          break;
        }
      return k(n3);
    }
  }
  function w(l3) {
    (!l3.__d && (l3.__d = true) && u2.push(l3) && !m.__r++ || t !== n.debounceRendering) && ((t = n.debounceRendering) || i2)(m);
  }
  function m() {
    for (var n3; m.__r = u2.length; )
      n3 = u2.sort(function(n4, l3) {
        return n4.__v.__b - l3.__v.__b;
      }), u2 = [], n3.some(function(n4) {
        var l3, u3, i3, t2, r2, o3, f3;
        n4.__d && (o3 = (r2 = (l3 = n4).__v).__e, (f3 = l3.__P) && (u3 = [], (i3 = s2({}, r2)).__v = i3, t2 = T(f3, r2, i3, l3.__n, void 0 !== f3.ownerSVGElement, null, u3, null == o3 ? _2(r2) : o3), $(u3, r2), t2 != o3 && k(r2)));
      });
  }
  function g2(n3, l3, u3, i3, t2, r2, o3, c3, s3, v3) {
    var y2, d2, k2, w2, m2, g3, b2, A2 = i3 && i3.__k || e, P2 = A2.length;
    for (s3 == f2 && (s3 = null != o3 ? o3[0] : P2 ? _2(i3, 0) : null), u3.__k = [], y2 = 0; y2 < l3.length; y2++)
      if (null != (w2 = u3.__k[y2] = null == (w2 = l3[y2]) || "boolean" == typeof w2 ? null : "string" == typeof w2 || "number" == typeof w2 ? h2(null, w2, null, null, w2) : Array.isArray(w2) ? h2(p, {children: w2}, null, null, null) : null != w2.__e || null != w2.__c ? h2(w2.type, w2.props, w2.key, null, w2.__v) : w2)) {
        if (w2.__ = u3, w2.__b = u3.__b + 1, null === (k2 = A2[y2]) || k2 && w2.key == k2.key && w2.type === k2.type)
          A2[y2] = void 0;
        else
          for (d2 = 0; d2 < P2; d2++) {
            if ((k2 = A2[d2]) && w2.key == k2.key && w2.type === k2.type) {
              A2[d2] = void 0;
              break;
            }
            k2 = null;
          }
        m2 = T(n3, w2, k2 = k2 || f2, t2, r2, o3, c3, s3, v3), (d2 = w2.ref) && k2.ref != d2 && (b2 || (b2 = []), k2.ref && b2.push(k2.ref, null, w2), b2.push(d2, w2.__c || m2, w2)), null != m2 ? (null == g3 && (g3 = m2), s3 = x(n3, w2, k2, A2, o3, m2, s3), "option" == u3.type ? n3.value = "" : "function" == typeof u3.type && (u3.__d = s3)) : s3 && k2.__e == s3 && s3.parentNode != n3 && (s3 = _2(k2));
      }
    if (u3.__e = g3, null != o3 && "function" != typeof u3.type)
      for (y2 = o3.length; y2--; )
        null != o3[y2] && a2(o3[y2]);
    for (y2 = P2; y2--; )
      null != A2[y2] && I(A2[y2], A2[y2]);
    if (b2)
      for (y2 = 0; y2 < b2.length; y2++)
        H(b2[y2], b2[++y2], b2[++y2]);
  }
  function x(n3, l3, u3, i3, t2, r2, o3) {
    var f3, e2, c3;
    if (void 0 !== l3.__d)
      f3 = l3.__d, l3.__d = void 0;
    else if (t2 == u3 || r2 != o3 || null == r2.parentNode)
      n:
        if (null == o3 || o3.parentNode !== n3)
          n3.appendChild(r2), f3 = null;
        else {
          for (e2 = o3, c3 = 0; (e2 = e2.nextSibling) && c3 < i3.length; c3 += 2)
            if (e2 == r2)
              break n;
          n3.insertBefore(r2, o3), f3 = o3;
        }
    return void 0 !== f3 ? f3 : r2.nextSibling;
  }
  function A(n3, l3, u3, i3, t2) {
    var r2;
    for (r2 in u3)
      "children" === r2 || "key" === r2 || r2 in l3 || C(n3, r2, null, u3[r2], i3);
    for (r2 in l3)
      t2 && "function" != typeof l3[r2] || "children" === r2 || "key" === r2 || "value" === r2 || "checked" === r2 || u3[r2] === l3[r2] || C(n3, r2, l3[r2], u3[r2], i3);
  }
  function P(n3, l3, u3) {
    "-" === l3[0] ? n3.setProperty(l3, u3) : n3[l3] = "number" == typeof u3 && false === c2.test(l3) ? u3 + "px" : null == u3 ? "" : u3;
  }
  function C(n3, l3, u3, i3, t2) {
    var r2, o3, f3, e2, c3;
    if (t2 ? "className" === l3 && (l3 = "class") : "class" === l3 && (l3 = "className"), "style" === l3)
      if (r2 = n3.style, "string" == typeof u3)
        r2.cssText = u3;
      else {
        if ("string" == typeof i3 && (r2.cssText = "", i3 = null), i3)
          for (e2 in i3)
            u3 && e2 in u3 || P(r2, e2, "");
        if (u3)
          for (c3 in u3)
            i3 && u3[c3] === i3[c3] || P(r2, c3, u3[c3]);
      }
    else
      "o" === l3[0] && "n" === l3[1] ? (o3 = l3 !== (l3 = l3.replace(/Capture$/, "")), f3 = l3.toLowerCase(), l3 = (f3 in n3 ? f3 : l3).slice(2), u3 ? (i3 || n3.addEventListener(l3, N, o3), (n3.l || (n3.l = {}))[l3] = u3) : n3.removeEventListener(l3, N, o3)) : "list" !== l3 && "tagName" !== l3 && "form" !== l3 && "type" !== l3 && "size" !== l3 && !t2 && l3 in n3 ? n3[l3] = null == u3 ? "" : u3 : "function" != typeof u3 && "dangerouslySetInnerHTML" !== l3 && (l3 !== (l3 = l3.replace(/^xlink:?/, "")) ? null == u3 || false === u3 ? n3.removeAttributeNS("http://www.w3.org/1999/xlink", l3.toLowerCase()) : n3.setAttributeNS("http://www.w3.org/1999/xlink", l3.toLowerCase(), u3) : null == u3 || false === u3 && !/^ar/.test(l3) ? n3.removeAttribute(l3) : n3.setAttribute(l3, u3));
  }
  function N(l3) {
    this.l[l3.type](n.event ? n.event(l3) : l3);
  }
  function z(n3, l3, u3) {
    var i3, t2;
    for (i3 = 0; i3 < n3.__k.length; i3++)
      (t2 = n3.__k[i3]) && (t2.__ = n3, t2.__e && ("function" == typeof t2.type && t2.__k.length > 1 && z(t2, l3, u3), l3 = x(u3, t2, t2, n3.__k, null, t2.__e, l3), "function" == typeof n3.type && (n3.__d = l3)));
  }
  function T(l3, u3, i3, t2, r2, o3, f3, e2, c3) {
    var a3, v3, h3, y2, _3, k2, w2, m2, b2, x2, A2, P2 = u3.type;
    if (void 0 !== u3.constructor)
      return null;
    (a3 = n.__b) && a3(u3);
    try {
      n:
        if ("function" == typeof P2) {
          if (m2 = u3.props, b2 = (a3 = P2.contextType) && t2[a3.__c], x2 = a3 ? b2 ? b2.props.value : a3.__ : t2, i3.__c ? w2 = (v3 = u3.__c = i3.__c).__ = v3.__E : ("prototype" in P2 && P2.prototype.render ? u3.__c = v3 = new P2(m2, x2) : (u3.__c = v3 = new d(m2, x2), v3.constructor = P2, v3.render = L), b2 && b2.sub(v3), v3.props = m2, v3.state || (v3.state = {}), v3.context = x2, v3.__n = t2, h3 = v3.__d = true, v3.__h = []), null == v3.__s && (v3.__s = v3.state), null != P2.getDerivedStateFromProps && (v3.__s == v3.state && (v3.__s = s2({}, v3.__s)), s2(v3.__s, P2.getDerivedStateFromProps(m2, v3.__s))), y2 = v3.props, _3 = v3.state, h3)
            null == P2.getDerivedStateFromProps && null != v3.componentWillMount && v3.componentWillMount(), null != v3.componentDidMount && v3.__h.push(v3.componentDidMount);
          else {
            if (null == P2.getDerivedStateFromProps && m2 !== y2 && null != v3.componentWillReceiveProps && v3.componentWillReceiveProps(m2, x2), !v3.__e && null != v3.shouldComponentUpdate && false === v3.shouldComponentUpdate(m2, v3.__s, x2) || u3.__v === i3.__v) {
              v3.props = m2, v3.state = v3.__s, u3.__v !== i3.__v && (v3.__d = false), v3.__v = u3, u3.__e = i3.__e, u3.__k = i3.__k, v3.__h.length && f3.push(v3), z(u3, e2, l3);
              break n;
            }
            null != v3.componentWillUpdate && v3.componentWillUpdate(m2, v3.__s, x2), null != v3.componentDidUpdate && v3.__h.push(function() {
              v3.componentDidUpdate(y2, _3, k2);
            });
          }
          v3.context = x2, v3.props = m2, v3.state = v3.__s, (a3 = n.__r) && a3(u3), v3.__d = false, v3.__v = u3, v3.__P = l3, a3 = v3.render(v3.props, v3.state, v3.context), v3.state = v3.__s, null != v3.getChildContext && (t2 = s2(s2({}, t2), v3.getChildContext())), h3 || null == v3.getSnapshotBeforeUpdate || (k2 = v3.getSnapshotBeforeUpdate(y2, _3)), A2 = null != a3 && a3.type == p && null == a3.key ? a3.props.children : a3, g2(l3, Array.isArray(A2) ? A2 : [A2], u3, i3, t2, r2, o3, f3, e2, c3), v3.base = u3.__e, v3.__h.length && f3.push(v3), w2 && (v3.__E = v3.__ = null), v3.__e = false;
        } else
          null == o3 && u3.__v === i3.__v ? (u3.__k = i3.__k, u3.__e = i3.__e) : u3.__e = j(i3.__e, u3, i3, t2, r2, o3, f3, c3);
      (a3 = n.diffed) && a3(u3);
    } catch (l4) {
      u3.__v = null, n.__e(l4, u3, i3);
    }
    return u3.__e;
  }
  function $(l3, u3) {
    n.__c && n.__c(u3, l3), l3.some(function(u4) {
      try {
        l3 = u4.__h, u4.__h = [], l3.some(function(n3) {
          n3.call(u4);
        });
      } catch (l4) {
        n.__e(l4, u4.__v);
      }
    });
  }
  function j(n3, l3, u3, i3, t2, r2, o3, c3) {
    var s3, a3, v3, h3, y2, p3 = u3.props, d2 = l3.props;
    if (t2 = "svg" === l3.type || t2, null != r2) {
      for (s3 = 0; s3 < r2.length; s3++)
        if (null != (a3 = r2[s3]) && ((null === l3.type ? 3 === a3.nodeType : a3.localName === l3.type) || n3 == a3)) {
          n3 = a3, r2[s3] = null;
          break;
        }
    }
    if (null == n3) {
      if (null === l3.type)
        return document.createTextNode(d2);
      n3 = t2 ? document.createElementNS("http://www.w3.org/2000/svg", l3.type) : document.createElement(l3.type, d2.is && {is: d2.is}), r2 = null, c3 = false;
    }
    if (null === l3.type)
      p3 !== d2 && n3.data != d2 && (n3.data = d2);
    else {
      if (null != r2 && (r2 = e.slice.call(n3.childNodes)), v3 = (p3 = u3.props || f2).dangerouslySetInnerHTML, h3 = d2.dangerouslySetInnerHTML, !c3) {
        if (null != r2)
          for (p3 = {}, y2 = 0; y2 < n3.attributes.length; y2++)
            p3[n3.attributes[y2].name] = n3.attributes[y2].value;
        (h3 || v3) && (h3 && v3 && h3.__html == v3.__html || (n3.innerHTML = h3 && h3.__html || ""));
      }
      A(n3, d2, p3, t2, c3), h3 ? l3.__k = [] : (s3 = l3.props.children, g2(n3, Array.isArray(s3) ? s3 : [s3], l3, u3, i3, "foreignObject" !== l3.type && t2, r2, o3, f2, c3)), c3 || ("value" in d2 && void 0 !== (s3 = d2.value) && s3 !== n3.value && C(n3, "value", s3, p3.value, false), "checked" in d2 && void 0 !== (s3 = d2.checked) && s3 !== n3.checked && C(n3, "checked", s3, p3.checked, false));
    }
    return n3;
  }
  function H(l3, u3, i3) {
    try {
      "function" == typeof l3 ? l3(u3) : l3.current = u3;
    } catch (l4) {
      n.__e(l4, i3);
    }
  }
  function I(l3, u3, i3) {
    var t2, r2, o3;
    if (n.unmount && n.unmount(l3), (t2 = l3.ref) && (t2.current && t2.current !== l3.__e || H(t2, null, u3)), i3 || "function" == typeof l3.type || (i3 = null != (r2 = l3.__e)), l3.__e = l3.__d = void 0, null != (t2 = l3.__c)) {
      if (t2.componentWillUnmount)
        try {
          t2.componentWillUnmount();
        } catch (l4) {
          n.__e(l4, u3);
        }
      t2.base = t2.__P = null;
    }
    if (t2 = l3.__k)
      for (o3 = 0; o3 < t2.length; o3++)
        t2[o3] && I(t2[o3], u3, i3);
    null != r2 && a2(r2);
  }
  function L(n3, l3, u3) {
    return this.constructor(n3, u3);
  }
  function M(l3, u3, i3) {
    var t2, o3, c3;
    n.__ && n.__(l3, u3), o3 = (t2 = i3 === r) ? null : i3 && i3.__k || u3.__k, l3 = v(p, null, [l3]), c3 = [], T(u3, (t2 ? u3 : i3 || u3).__k = l3, o3 || f2, f2, void 0 !== u3.ownerSVGElement, i3 && !t2 ? [i3] : o3 ? null : u3.childNodes.length ? e.slice.call(u3.childNodes) : null, c3, i3 || f2, t2), $(c3, l3);
  }
  n = {__e: function(n3, l3) {
    for (var u3, i3; l3 = l3.__; )
      if ((u3 = l3.__c) && !u3.__)
        try {
          if (u3.constructor && null != u3.constructor.getDerivedStateFromError && (i3 = true, u3.setState(u3.constructor.getDerivedStateFromError(n3))), null != u3.componentDidCatch && (i3 = true, u3.componentDidCatch(n3)), i3)
            return w(u3.__E = u3);
        } catch (l4) {
          n3 = l4;
        }
    throw n3;
  }}, l2 = function(n3) {
    return null != n3 && void 0 === n3.constructor;
  }, d.prototype.setState = function(n3, l3) {
    var u3;
    u3 = this.__s !== this.state ? this.__s : this.__s = s2({}, this.state), "function" == typeof n3 && (n3 = n3(u3, this.props)), n3 && s2(u3, n3), null != n3 && this.__v && (l3 && this.__h.push(l3), w(this));
  }, d.prototype.forceUpdate = function(n3) {
    this.__v && (this.__e = true, n3 && this.__h.push(n3), w(this));
  }, d.prototype.render = p, u2 = [], i2 = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, m.__r = 0, r = f2, o2 = 0;

  // src/utils/css.ts
  function injectCss(css2) {
    const styleEl = document.createElement("style");
    const styleText = document.createTextNode(css2);
    styleEl.appendChild(styleText);
    document.head.appendChild(styleEl);
  }

  // node_modules/preact-render-to-string/dist/index.module.js
  var n2 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;
  var o = function(e2) {
    return String(e2).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
  };
  var a = function(e2, t2) {
    return String(e2).replace(/(\n+)/g, "$1" + (t2 || "	"));
  };
  var i = function(e2, t2, r2) {
    return String(e2).length > (t2 || 40) || !r2 && -1 !== String(e2).indexOf("\n") || -1 !== String(e2).indexOf("<");
  };
  var l = {};
  function s(e2) {
    var t2 = "";
    for (var r2 in e2) {
      var o3 = e2[r2];
      null != o3 && (t2 && (t2 += " "), t2 += "-" == r2[0] ? r2 : l[r2] || (l[r2] = r2.replace(/([A-Z])/g, "-$1").toLowerCase()), t2 += ": ", t2 += o3, "number" == typeof o3 && false === n2.test(r2) && (t2 += "px"), t2 += ";");
    }
    return t2 || void 0;
  }
  function f(e2, t2) {
    for (var r2 in t2)
      e2[r2] = t2[r2];
    return e2;
  }
  function c(e2, t2) {
    return Array.isArray(t2) ? t2.reduce(c, e2) : null != t2 && false !== t2 && e2.push(t2), e2;
  }
  var p2 = {shallow: true};
  var u = [];
  var _ = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;
  var g = function() {
  };
  h.render = h;
  var v2 = function(e2, t2) {
    return h(e2, t2, p2);
  };
  function h(n3, l3, p3, v3, d2, m2) {
    if (null == n3 || "boolean" == typeof n3)
      return "";
    Array.isArray(n3) && (n3 = v(p, null, n3));
    var x2 = n3.type, y2 = n3.props, S2 = false;
    l3 = l3 || {};
    var b2, w2 = (p3 = p3 || {}).pretty, k2 = w2 && "string" == typeof w2 ? w2 : "	";
    if ("object" != typeof n3 && !x2)
      return o(n3);
    if ("function" == typeof x2) {
      if (S2 = true, !p3.shallow || !v3 && false !== p3.renderRootComponent) {
        if (x2 === p) {
          var O2 = "", C2 = [];
          c(C2, n3.props.children);
          for (var A2 = 0; A2 < C2.length; A2++)
            O2 += (A2 > 0 && w2 ? "\n" : "") + h(C2[A2], l3, p3, false !== p3.shallowHighOrder, d2, m2);
          return O2;
        }
        var H2, j2 = n3.__c = {__v: n3, context: l3, props: n3.props, setState: g, forceUpdate: g, __h: []};
        if (n.__r && n.__r(n3), x2.prototype && "function" == typeof x2.prototype.render) {
          var F = x2.contextType, M2 = F && l3[F.__c], T2 = null != F ? M2 ? M2.props.value : F.__ : l3;
          (j2 = n3.__c = new x2(y2, T2)).__v = n3, j2._dirty = j2.__d = true, j2.props = y2, null == j2.state && (j2.state = {}), null == j2._nextState && null == j2.__s && (j2._nextState = j2.__s = j2.state), j2.context = T2, x2.getDerivedStateFromProps ? j2.state = f(f({}, j2.state), x2.getDerivedStateFromProps(j2.props, j2.state)) : j2.componentWillMount && (j2.componentWillMount(), j2.state = j2._nextState !== j2.state ? j2._nextState : j2.__s !== j2.state ? j2.__s : j2.state), H2 = j2.render(j2.props, j2.state, j2.context);
        } else {
          var $2 = x2.contextType, L2 = $2 && l3[$2.__c];
          H2 = x2.call(n3.__c, y2, null != $2 ? L2 ? L2.props.value : $2.__ : l3);
        }
        return j2.getChildContext && (l3 = f(f({}, l3), j2.getChildContext())), h(H2, l3, p3, false !== p3.shallowHighOrder, d2, m2);
      }
      x2 = (b2 = x2).displayName || b2 !== Function && b2.name || function(e2) {
        var t2 = (Function.prototype.toString.call(e2).match(/^\s*function\s+([^( ]+)/) || "")[1];
        if (!t2) {
          for (var r2 = -1, n4 = u.length; n4--; )
            if (u[n4] === e2) {
              r2 = n4;
              break;
            }
          r2 < 0 && (r2 = u.push(e2) - 1), t2 = "UnnamedComponent" + r2;
        }
        return t2;
      }(b2);
    }
    var E, D, N2 = "";
    if (y2) {
      var P2 = Object.keys(y2);
      p3 && true === p3.sortAttributes && P2.sort();
      for (var R = 0; R < P2.length; R++) {
        var U = P2[R], W = y2[U];
        if ("children" !== U) {
          if (!U.match(/[\s\n\\/='"\0<>]/) && (p3 && p3.allAttributes || "key" !== U && "ref" !== U && "__self" !== U && "__source" !== U)) {
            if ("className" === U) {
              if (y2.class)
                continue;
              U = "class";
            } else
              d2 && U.match(/^xlink:?./) && (U = U.toLowerCase().replace(/^xlink:?/, "xlink:"));
            if ("htmlFor" === U) {
              if (y2.for)
                continue;
              U = "for";
            }
            "style" === U && W && "object" == typeof W && (W = s(W)), "a" === U[0] && "r" === U[1] && "boolean" == typeof W && (W = String(W));
            var q2 = p3.attributeHook && p3.attributeHook(U, W, l3, p3, S2);
            if (q2 || "" === q2)
              N2 += q2;
            else if ("dangerouslySetInnerHTML" === U)
              D = W && W.__html;
            else if ("textarea" === x2 && "value" === U)
              E = W;
            else if ((W || 0 === W || "" === W) && "function" != typeof W) {
              if (!(true !== W && "" !== W || (W = U, p3 && p3.xml))) {
                N2 += " " + U;
                continue;
              }
              if ("value" === U) {
                if ("select" === x2) {
                  m2 = W;
                  continue;
                }
                "option" === x2 && m2 == W && (N2 += " selected");
              }
              N2 += " " + U + '="' + o(W) + '"';
            }
          }
        } else
          E = W;
      }
    }
    if (w2) {
      var z2 = N2.replace(/^\n\s*/, " ");
      z2 === N2 || ~z2.indexOf("\n") ? w2 && ~N2.indexOf("\n") && (N2 += "\n") : N2 = z2;
    }
    if (N2 = "<" + x2 + N2 + ">", String(x2).match(/[\s\n\\/='"\0<>]/))
      throw new Error(x2 + " is not a valid HTML tag name in " + N2);
    var I2 = String(x2).match(_) || p3.voidElements && String(x2).match(p3.voidElements);
    I2 && (N2 = N2.replace(/>$/, " />"));
    var Z, B = [];
    if (D)
      w2 && i(D) && (D = "\n" + k2 + a(D, k2)), N2 += D;
    else if (null != E && c(Z = [], E).length) {
      for (var G = w2 && ~N2.indexOf("\n"), J = false, K = 0; K < Z.length; K++) {
        var Q = Z[K];
        if (null != Q && false !== Q) {
          var V = h(Q, l3, p3, true, "svg" === x2 || "foreignObject" !== x2 && d2, m2);
          if (w2 && !G && i(V) && (G = true), V)
            if (w2) {
              var X = V.length > 0 && "<" != V[0];
              J && X ? B[B.length - 1] += V : B.push(V), J = X;
            } else
              B.push(V);
        }
      }
      if (w2 && G)
        for (var Y = B.length; Y--; )
          B[Y] = "\n" + k2 + a(B[Y], k2);
    }
    if (B.length)
      N2 += B.join("");
    else if (p3 && p3.xml)
      return N2.substring(0, N2.length - 1) + " />";
    return I2 || (w2 && ~N2.indexOf("\n") && (N2 += "\n"), N2 += "</" + x2 + ">"), N2;
  }
  h.shallowRender = v2;
  var index_module_default = h;

  // src/embed.css
  var embed_default = 'html,\nbody {\n  margin: 0;\n\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE 10+ */\n}\n\nbody::-webkit-scrollbar {\n  width: 0px;\n  background: transparent; /* Chrome/Safari/Webkit */\n}\n\n.f2h__text {\n  margin: 0;\n  font-family: sans-serif;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  display: flex;\n}\n.f2h__text_inner {\n  margin: 0;\n  line-height: 0;\n  width: 100%;\n}\n\n.text-nodes {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  overflow: hidden;\n}\n\n.f2h__svg_container {\n  overflow: hidden;\n}\n\n.f2h__svg_container path,\n.f2h__svg_container rect,\n.f2h__svg_container circle,\n.f2h__svg_container line,\n.f2h__svg_container polyline,\n.f2h__svg_container polygon,\n.f2h__svg_container path,\n.f2h__svg_container ellipse {\n  vector-effect: non-scaling-stroke;\n}\n\n.f2h_headline {\n  font-family: "Austin News Deck Semibold", Georgia, "Times New Roman", Times,\n    serif;\n  font-size: 22px;\n  color: #333;\n  margin: 0;\n  line-height: 1.3;\n}\n.f2h_subbhead {\n  font-family: "Austin News Text Roman", Georgia, "Times New Roman", Times,\n    serif;\n  font-size: 17px;\n  color: #333;\n  margin: 0;\n  line-height: 1.5;\n}\n.f2h_header {\n  margin-bottom: 12px;\n}\n\n.f2h_source {\n  font-family: "Telesans Text Regular", Arial, Helvetica, sans-serif;\n  font-size: 12px;\n  color: #999;\n  margin: 12px 0 0;\n}\n\n/* Experiment stroking text */\n.stroked:after {\n  content: attr(data-text);\n  color: inherit;\n  position: absolute;\n  left: 0;\n  font-size: 1em;\n  z-index: -2;\n  -webkit-text-stroke: white 4px;\n}\n';

  // src/fonts.css
  var fonts_default = '@font-face {\n  /* Semibold */\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.woff2")\n      format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.ttf")\n      format("truetype");\n  font-weight: 700;\n  font-display: "swap";\n}\n@font-face {\n  /* Medium */\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.woff2")\n      format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.ttf")\n      format("truetype");\n  font-weight: 400;\n  font-display: "swap";\n}\n\n@font-face {\n  /* Roman */\n  font-family: "Austin News Text";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.woff2")\n      format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.ttf")\n      format("truetype");\n  font-weight: 400;\n  font-display: "swap";\n}\n@font-face {\n  /* Regular */\n  font-family: "Telesans Text";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.woff2")\n      format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.ttf")\n      format("truetype");\n  font-weight: 400;\n  font-display: "swap";\n}\n@font-face {\n  /* Regular */\n  font-family: "Telesans Agate";\n  font-style: "normal";\n  font-weight: 400;\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/TelesansAgate-Medium.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/TelesansAgate-Medium.ttf")\n      format("truetype");\n}\n';

  // src/outputRender.tsx
  function generateIframeHtml(body) {
    return `
    <!doctype html>
    <html>
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style> html, body { margin: 0; } </style>
      </head>
      <body>
        ${body}
      </body>
    </html>
  `;
  }
  function generateParagraphStyle(node, frameWidth, frameHeight) {
    const {
      x: x2,
      y: y2,
      width,
      height,
      textAlignHorizontal,
      textAlignVertical,
      constraints
    } = node;
    const BUFFER = 4;
    console.log("alignment", textAlignHorizontal, textAlignVertical);
    const left = `${(x2 + width / 2) / frameWidth * 100}%`;
    const top = `${(y2 + height / 2) / frameHeight * 100}%`;
    const alignVertical = "center";
    let alignHorizontal = "center";
    switch (constraints.horizontal) {
      case "MIN":
        alignHorizontal = "flex-start";
        break;
      case "CENTER":
        alignHorizontal = "center";
        break;
      case "MAX":
        alignHorizontal = "flex-end";
        break;
    }
    return `
        width: ${(width + BUFFER) / frameWidth * 100}%;
        height: ${(height + BUFFER) / frameHeight * 100}%;
        left: ${left};
        top: ${top};
        text-align: ${textAlignHorizontal.toLocaleLowerCase()};
        align-items: ${alignVertical};
        justify-content: ${alignHorizontal}
      `;
  }
  function generateSpanStyles(style) {
    const {r: r2, g: g3, b: b2} = style.colour;
    const colour = `rgb(${r2 * 255}, ${g3 * 255}, ${b2 * 255})`;
    const fontWeight = style.font.style === "Bold" || style.font.style === "Semibold" ? 700 : 400;
    let letterSpaceOffset = "0px";
    if (style.font.family === "Telesans Text") {
      letterSpaceOffset = "0.022em";
    }
    if (style.font.family === "Telesans Agate") {
      letterSpaceOffset = "0.013em";
    }
    return `
    letter-spacing: calc(${style.letterSpace} - ${letterSpaceOffset});
    line-height: ${style.lineHeight};
    font-size: ${style.size}px;
    color: ${colour};
    font-family: "${style.font.family}";
    font-weight: ${fontWeight};
`;
  }
  function Text(props) {
    const {node, width, height} = props;
    return /* @__PURE__ */ v("div", {
      className: "f2h__text",
      style: generateParagraphStyle(node, width, height)
    }, /* @__PURE__ */ v("p", {
      className: "f2h__text_inner"
    }, node.rangeStyles.map((style) => /* @__PURE__ */ v("span", {
      key: style.chars,
      style: generateSpanStyles(style),
      dangerouslySetInnerHTML: {
        __html: style.chars.replace(/\n/g, "<br />")
      }
    }))));
  }
  function renderInline(props) {
    const {frames, svgText, headline, subhead, source, responsive} = props;
    const mediaQuery = genreateMediaQueries(frames);
    const textNodes = [];
    for (const frame of frames) {
      const tNode = /* @__PURE__ */ v("div", {
        id: `textblock-${frame.id}`,
        className: frame.uid
      }, frame.textNodes.map((node) => /* @__PURE__ */ v(Text, {
        key: node.characters,
        node,
        width: frame.width,
        height: frame.height
      })));
      textNodes.push(tNode);
    }
    const html = index_module_default(/* @__PURE__ */ v("div", {
      className: `f2h__embed ${responsive ? "f2h--responsive" : ""}`
    }, /* @__PURE__ */ v("style", {
      dangerouslySetInnerHTML: {
        __html: `
       ${fonts_default}
       ${embed_default}
       ${mediaQuery}
      `
      }
    }), (headline || subhead) && /* @__PURE__ */ v("header", {
      className: "f2h_header"
    }, headline && /* @__PURE__ */ v("h1", {
      className: "f2h_headline"
    }, headline), subhead && /* @__PURE__ */ v("p", {
      className: "f2h_subbhead"
    }, "subhead")), /* @__PURE__ */ v("div", {
      className: "f2h__wrap",
      style: `position: relative;`
    }, /* @__PURE__ */ v("div", {
      className: "f2h__svg_container",
      dangerouslySetInnerHTML: {__html: svgText}
    }), /* @__PURE__ */ v("div", {
      className: "text-nodes"
    }, textNodes)), source && /* @__PURE__ */ v("footer", null, /* @__PURE__ */ v("p", {
      className: "f2h_source"
    }, source))));
    return html;
  }
  function genreateMediaQueries(frames) {
    const sortedFrames = Object.values(frames).map(({width, height, uid}) => ({width, height, uid})).sort((a3, b2) => a3.width < b2.width ? -1 : 1);
    const largestWidth = Math.max(...sortedFrames.map(({width}) => width));
    let cssText = "";
    for (let i3 = 0; i3 < sortedFrames.length; i3++) {
      const {uid, width, height} = sortedFrames[i3];
      if (i3 === 0) {
        cssText += `
            .f2h__svg_container,
            .f2h__wrap {
              width: ${width}px;
              height: ${height}px;
            }

            .f2h--responsive .f2h__svg_container,
            .f2h--responsive .f2h__wrap
            {
              width: 100%;
              height: ${height / width * 100}vw;
            }

            .f2h--responsive svg {
              width: ${largestWidth / width * 100}%;
              height: auto;
            }
          `;
        continue;
      }
      const {uid: prevId} = sortedFrames[i3 - 1];
      cssText += `
      /* Hide until width is reached */
      @media (max-width: ${width}px) {
        .${uid} { display: none; }
      }

      /* Hide previous and show current frame */
      @media (min-width: ${width}px) {
        .f2h--responsive svg {
          width: ${largestWidth / width * 100}%;
        }

        .${prevId} { display: none; }
        .${uid} { display: block; }
        .f2h__svg_container,
        .f2h__wrap {
          width: ${width}px;
          height: ${height}px;
        }

        .f2h--responsive .f2h__svg_container,
        .f2h--responsive .f2h__wrap {
          height: ${height / width * 100}vw;
         }

        }
      `;
    }
    return cssText;
  }

  // src/constants.ts
  var STAGES;
  (function(STAGES2) {
    STAGES2[STAGES2["CHOOSE_FRAMES"] = 0] = "CHOOSE_FRAMES";
    STAGES2[STAGES2["RESPONSIVE_PREVIEW"] = 1] = "RESPONSIVE_PREVIEW";
    STAGES2[STAGES2["SAVE_OUTPUT"] = 2] = "SAVE_OUTPUT";
  })(STAGES || (STAGES = {}));
  var MSG_EVENTS;
  (function(MSG_EVENTS3) {
    MSG_EVENTS3[MSG_EVENTS3["FOUND_FRAMES"] = 0] = "FOUND_FRAMES";
    MSG_EVENTS3[MSG_EVENTS3["NO_FRAMES"] = 1] = "NO_FRAMES";
    MSG_EVENTS3[MSG_EVENTS3["RENDER"] = 2] = "RENDER";
    MSG_EVENTS3[MSG_EVENTS3["CLOSE"] = 3] = "CLOSE";
    MSG_EVENTS3[MSG_EVENTS3["ERROR"] = 4] = "ERROR";
    MSG_EVENTS3[MSG_EVENTS3["UPDATE_HEADLINES"] = 5] = "UPDATE_HEADLINES";
    MSG_EVENTS3[MSG_EVENTS3["COMPRESS_IMAGE"] = 6] = "COMPRESS_IMAGE";
    MSG_EVENTS3[MSG_EVENTS3["GET_ROOT_FRAMES"] = 7] = "GET_ROOT_FRAMES";
  })(MSG_EVENTS || (MSG_EVENTS = {}));
  var OUTPUT_FORMATS;
  (function(OUTPUT_FORMATS2) {
    OUTPUT_FORMATS2[OUTPUT_FORMATS2["INLINE"] = 0] = "INLINE";
    OUTPUT_FORMATS2[OUTPUT_FORMATS2["IFRAME"] = 1] = "IFRAME";
  })(OUTPUT_FORMATS || (OUTPUT_FORMATS = {}));
  const UI_TEXT = {
    ERROR_UNEXPECTED: "Unexpected error",
    ERROR_MISSING_FRAMES: "No frames found. Please add some frames to the page.",
    WARN_NO_TARGETS: "Standard frames not found. Please select target frames.",
    WARN_TOO_MANY_TARGETS: "Please select three target frames",
    INFO_PREVIEW: "Preview each frame output",
    TITLE_CHOOSE_FRAME: "Choose which frames to export",
    TITLE_PREVIEW: "Preview",
    TITLE_RESPONSIVE_PREVIEW: "Responsive preview",
    TILE_OUTPUT: "Export",
    BUTTON_NEXT: "Next",
    BUTTON_DOWNLOAD: "Download",
    BUTTON_PREVIOUS: "Back"
  };
  const FRAME_WARNING_SIZE = 300;
  var HEADLINE_NODE_NAMES;
  (function(HEADLINE_NODE_NAMES2) {
    HEADLINE_NODE_NAMES2["HEADLINE"] = "headline";
    HEADLINE_NODE_NAMES2["SUBHEAD"] = "subhead";
    HEADLINE_NODE_NAMES2["SOURCE"] = "source";
  })(HEADLINE_NODE_NAMES || (HEADLINE_NODE_NAMES = {}));

  // src/components/Header.tsx
  const pako = __toModule(require_pako());
  function SvgInformation(props) {
    const {svgMarkup} = props;
    const fileKbSize = svgMarkup.length / 1e3;
    const isFileLarge = fileKbSize > FRAME_WARNING_SIZE;
    let fileSizeClassName = "f2h__file_size";
    if (isFileLarge) {
      fileSizeClassName += " f2h__file_size f2h__notice--error";
    }
    const gzipSize = (pako.deflate(svgMarkup).buffer.byteLength / 1024).toFixed(2);
    return /* @__PURE__ */ v("p", {
      className: "f2h__info"
    }, /* @__PURE__ */ v("span", {
      className: "f2h__info_meta"
    }, "Filesize", /* @__PURE__ */ v("span", {
      className: fileSizeClassName,
      title: `Uncompressed ${fileKbSize.toFixed(2)}KB`
    }, gzipSize, "KB")));
  }
  function HeaderTitle(props) {
    const {stage} = props;
    let title = "";
    switch (stage) {
      case STAGES.CHOOSE_FRAMES:
        title = UI_TEXT.TITLE_CHOOSE_FRAME;
        break;
      case STAGES.RESPONSIVE_PREVIEW:
        title = UI_TEXT.TITLE_RESPONSIVE_PREVIEW;
        break;
      case STAGES.SAVE_OUTPUT:
        title = UI_TEXT.TILE_OUTPUT;
        break;
    }
    return /* @__PURE__ */ v("h1", {
      className: "f2h__title"
    }, title);
  }

  // src/components/ResponsiveView.tsx
  class ResponsiveView2 extends d {
    constructor() {
      super(...arguments);
      this.iframeEl = y();
      this.state = {
        widthIndex: 0
      };
      this.setIndex = (i3) => {
        this.setState({widthIndex: i3});
        if (this.iframeEl.current) {
          const {frameWidths} = this.props;
          this.iframeEl.current.style.width = `${frameWidths[i3]}px`;
        }
      };
    }
    render() {
      const {widthIndex} = this.state;
      const {svgMarkup, frameWidths} = this.props;
      const maxWidth = Math.max(...frameWidths);
      return /* @__PURE__ */ v("div", {
        className: "f2h__responsive_preview"
      }, frameWidths.map((width, i3) => /* @__PURE__ */ v("p", {
        key: width,
        className: `responsive_width_btn ${widthIndex === i3 ? "active" : ""}`,
        onClick: () => this.setIndex(i3),
        style: `width: ${width / maxWidth * 100}%`
      }, width)), /* @__PURE__ */ v("div", {
        className: "f2h__responsive__wrapper"
      }, /* @__PURE__ */ v("iframe", {
        style: `width: {frameWidths[widthIndex]}px`,
        width: frameWidths[0],
        className: "f2h__responsive__sandbox",
        srcDoc: svgMarkup,
        ref: this.iframeEl
      })));
    }
  }

  // src/components/FrameSelection.tsx
  function InputField(props) {
    const {label, value, refTarget, handleChange} = props;
    return /* @__PURE__ */ v("p", {
      className: "f2h__info_form__item f2h__info_form__item--headline"
    }, /* @__PURE__ */ v("label", {
      className: "f2h__info_form__label"
    }, label), /* @__PURE__ */ v("input", {
      className: "f2h__info_form__input f2h__info_form__input--headline",
      type: "text",
      value,
      ref: refTarget,
      onChange: handleChange
    }));
  }
  class FrameSelection2 extends d {
    constructor() {
      super(...arguments);
      this.headlineInput = y();
      this.subheadInput = y();
      this.sourceInput = y();
      this.sendFormValues = () => {
        var _a, _b, _c;
        const {handleFormUpdate} = this.props;
        const headline = (_a = this.headlineInput.current) == null ? void 0 : _a.value;
        const subhead = (_b = this.subheadInput.current) == null ? void 0 : _b.value;
        const source = (_c = this.sourceInput.current) == null ? void 0 : _c.value;
        handleFormUpdate({headline, subhead, source});
      };
    }
    render() {
      const {
        frames,
        handleClick,
        toggleSelectAll,
        headline,
        subhead,
        source,
        selectedFrames,
        responsive,
        toggleResponsive
      } = this.props;
      const frameCount = Object.values(frames).length;
      const selectCount = selectedFrames.length;
      const someFramesSelected = selectCount > 0 && selectCount < frameCount;
      const allSelected = selectCount === frameCount;
      return /* @__PURE__ */ v("div", {
        className: "f2h__choose_frames"
      }, /* @__PURE__ */ v("div", {
        className: "f2h__info_form"
      }, /* @__PURE__ */ v(InputField, {
        refTarget: this.headlineInput,
        handleChange: this.sendFormValues,
        label: "Headline",
        value: headline
      }), /* @__PURE__ */ v(InputField, {
        refTarget: this.subheadInput,
        handleChange: this.sendFormValues,
        label: "Subhead",
        value: subhead
      }), /* @__PURE__ */ v(InputField, {
        refTarget: this.sourceInput,
        handleChange: this.sendFormValues,
        label: "Source",
        value: source
      })), /* @__PURE__ */ v("div", {
        className: "f2h__frame_selection"
      }, /* @__PURE__ */ v("label", {
        className: "f2h__sel_header f2h__sel_header--name"
      }, /* @__PURE__ */ v("input", {
        name: "selectAll",
        id: "selectAll",
        type: "checkbox",
        onClick: toggleSelectAll,
        checked: allSelected,
        ref: (el) => el && (el.indeterminate = someFramesSelected)
      }), " ", "Frames"), /* @__PURE__ */ v("label", {
        className: "f2h__sel_header f2h__sel_header--responsive"
      }, /* @__PURE__ */ v("input", {
        type: "checkbox",
        id: "responsiveAll",
        name: "responsiveAll",
        onClick: toggleResponsive,
        checked: responsive
      }), " ", "Responsive"), Object.values(frames).sort((a3, b2) => a3.width < b2.width ? -1 : 1).map(({name: name2, id, width, height}) => /* @__PURE__ */ v(p, {
        key: id
      }, /* @__PURE__ */ v("p", {
        className: "f2h__label f2h__label--name"
      }, /* @__PURE__ */ v("input", {
        className: "f2h__checkbox",
        type: "checkbox",
        checked: selectedFrames.includes(id),
        onClick: () => handleClick(id),
        id: name2,
        name: name2
      }), /* @__PURE__ */ v("label", {
        className: "f2h__label--name-text",
        htmlFor: name2
      }, name2), /* @__PURE__ */ v("span", {
        className: "f2h__sel_width"
      }, width, " x ", height))))));
    }
  }

  // src/components/Save.tsx
  const file_saver = __toModule(require_FileSaver_min());
  class Save2 extends d {
    constructor() {
      super(...arguments);
      this.state = {
        advancedOpen: false,
        showToast: false,
        outputFormat: OUTPUT_FORMATS.INLINE
      };
      this.textAreaEl = y();
      this.toggleAdvanced = () => {
        this.setState({
          advancedOpen: !this.state.advancedOpen
        });
      };
      this.saveToClipboard = () => {
        const {current: el} = this.textAreaEl;
        if (!el) {
          console.error("Missing textarea element");
          return;
        }
        el.select();
        document.execCommand("copy");
        const {showToast} = this.state;
        if (showToast) {
          return;
        }
        this.setState({showToast: true});
        setTimeout(() => this.setState({showToast: false}), 2e3);
      };
      this.saveBinaryFile = () => {
        const {svgMarkup} = this.props;
        const filename = "figma-to-html-test.html";
        const raw = generateIframeHtml(svgMarkup);
        const blob = new Blob([raw], {type: "text/html"});
        file_saver.saveAs(blob, filename);
      };
      this.handleFormatChange = (format) => {
        this.setState({
          outputFormat: format
        });
      };
    }
    render() {
      const {svgMarkup} = this.props;
      const {advancedOpen, showToast} = this.state;
      const advancedBtnText = `${advancedOpen ? "hide" : "show"}`;
      let advancedClassName = "f2h__save_advanced";
      if (advancedOpen) {
        advancedClassName += "f2h__save_advanced--open";
      }
      let toastClassName = "f2h__toast";
      if (showToast) {
        toastClassName += "f2h__toast--open";
      }
      return /* @__PURE__ */ v("div", {
        className: "f2h__save"
      }, /* @__PURE__ */ v("div", {
        className: "f2h__save_options"
      }, /* @__PURE__ */ v("button", {
        className: "f2h__save_btn btn--primary",
        onClick: this.saveToClipboard
      }, "Copy embed to clipboard"), /* @__PURE__ */ v("button", {
        className: "f2h__save_btn btn--primary",
        onClick: this.saveBinaryFile
      }, "Download iframe HTML file")), /* @__PURE__ */ v("h2", {
        className: "f2h__save__subhead f2h__save_advanced-header"
      }, /* @__PURE__ */ v("span", {
        className: "f2h__save_advanced_title"
      }, "Advanced settings"), /* @__PURE__ */ v("button", {
        className: "f2h__save_advanced_show",
        onClick: this.toggleAdvanced
      }, advancedBtnText)), /* @__PURE__ */ v("div", {
        className: advancedClassName
      }, /* @__PURE__ */ v("h2", {
        className: "f2h__save__subhead"
      }, "Raw HTML"), /* @__PURE__ */ v("textarea", {
        ref: this.textAreaEl,
        className: "f2h__save__raw",
        value: svgMarkup
      })), /* @__PURE__ */ v("div", {
        className: toastClassName
      }, "Copied to clipboard"));
    }
  }

  // src/utils/lib/tools.ts
  const cleanupOutData = function(data, params2, command) {
    var str = "", delimiter, prev;
    data.forEach(function(item, i3) {
      delimiter = " ";
      if (i3 == 0)
        delimiter = "";
      if (params2.noSpaceAfterFlags && (command == "A" || command == "a")) {
        var pos = i3 % 7;
        if (pos == 4 || pos == 5)
          delimiter = "";
      }
      if (params2.leadingZero) {
        item = removeLeadingZero(item);
      }
      if (params2.negativeExtraSpace && delimiter != "" && (item < 0 || String(item).charCodeAt(0) == 46 && prev % 1 !== 0)) {
        delimiter = "";
      }
      prev = item;
      str += delimiter + item;
    });
    return str;
  };
  const removeLeadingZero = function(num) {
    var strNum = num.toString();
    if (0 < num && num < 1 && strNum.charCodeAt(0) == 48) {
      strNum = strNum.slice(1);
    } else if (-1 < num && num < 0 && strNum.charCodeAt(1) == 48) {
      strNum = strNum.charAt(0) + strNum.slice(2);
    }
    return strNum;
  };

  // src/utils/lib/path.ts
  const rNumber = String.raw`[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?\s*`;
  const rCommaWsp = String.raw`(?:\s,?\s*|,\s*)`;
  const rNumberCommaWsp = `(${rNumber})` + rCommaWsp;
  const rFlagCommaWsp = `([01])${rCommaWsp}?`;
  const rCoordinatePair = String.raw`(${rNumber})${rCommaWsp}?(${rNumber})`;
  const rArcSeq = (rNumberCommaWsp + "?").repeat(2) + rNumberCommaWsp + rFlagCommaWsp.repeat(2) + rCoordinatePair;
  const regPathInstructions = /([MmLlHhVvCcSsQqTtAaZz])\s*/;
  const regCoordinateSequence = new RegExp(rNumber, "g");
  const regArcArgumentSequence = new RegExp(rArcSeq, "g");
  function path2js(path2) {
    var _a;
    const paramsLength = {
      H: 1,
      V: 1,
      M: 2,
      L: 2,
      T: 2,
      Q: 4,
      S: 4,
      C: 6,
      A: 7,
      h: 1,
      v: 1,
      m: 2,
      l: 2,
      t: 2,
      q: 4,
      s: 4,
      c: 6,
      a: 7
    };
    let pathData = [];
    let instruction;
    let startMoveto = false;
    (_a = path2.getAttribute("d")) == null ? void 0 : _a.split(regPathInstructions).forEach(function(data) {
      if (!data)
        return;
      if (!startMoveto) {
        if (data == "M" || data == "m") {
          startMoveto = true;
        } else
          return;
      }
      if (regPathInstructions.test(data)) {
        instruction = data;
        if (instruction == "Z" || instruction == "z") {
          pathData.push({
            instruction: "z"
          });
        }
      } else {
        if (instruction == "A" || instruction == "a") {
          var newData = [];
          for (var args; args = regArcArgumentSequence.exec(data); ) {
            for (var i3 = 1; i3 < args.length; i3++) {
              newData.push(args[i3]);
            }
          }
          data = newData;
        } else {
          data = data.match(regCoordinateSequence);
        }
        if (!data)
          return;
        data = data.map(Number);
        if (instruction == "M" || instruction == "m") {
          pathData.push({
            instruction: pathData.length == 0 ? "M" : instruction,
            data: data.splice(0, 2)
          });
          instruction = instruction == "M" ? "L" : "l";
        }
        for (var pair = paramsLength[instruction]; data.length; ) {
          pathData.push({
            instruction,
            data: data.splice(0, pair)
          });
        }
      }
    });
    if (pathData.length && pathData[0].instruction == "m") {
      pathData[0].instruction = "M";
    }
    return pathData;
  }
  const js2path = function(path2, data, params2) {
    if (params2.collapseRepeated) {
      data = collapseRepeated(data);
    }
    path2.setAttribute("d", data.reduce(function(pathString, item) {
      var strData = "";
      if (item.data) {
        strData = cleanupOutData(item.data, params2, item.instruction);
      }
      return pathString += item.instruction + strData;
    }, ""));
  };
  function collapseRepeated(data) {
    var prev, prevIndex;
    data = data.reduce(function(newPath, item) {
      if (prev && item.data && item.instruction == prev.instruction) {
        if (item.instruction != "M") {
          prev = newPath[prevIndex] = {
            instruction: prev.instruction,
            data: prev.data.concat(item.data),
            coords: item.coords,
            base: prev.base
          };
        } else {
          prev.data = item.data;
          prev.coords = item.coords;
        }
      } else {
        newPath.push(item);
        prev = item;
        prevIndex = newPath.length - 1;
      }
      return newPath;
    }, []);
    return data;
  }

  // src/utils/lib/shapeToPath.ts
  function convertShapesToPath(el) {
    var _a, _b, _c, _d, _e;
    if (el instanceof SVGRectElement && el.hasAttribute("width") && el.hasAttribute("height") && el.hasAttribute("rx") === false && el.hasAttribute("ry") === false) {
      const x2 = parseFloat(el.getAttribute("x") || "0");
      const y2 = parseFloat(el.getAttribute("y") || "0");
      const width = parseFloat(el.getAttribute("width") || "0");
      const height = parseFloat(el.getAttribute("height") || "0");
      if (isNaN(x2 - y2 + width - height))
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const pathData = `M${x2} ${y2}H${x2 + width}V${y2 + height}H${x2}z`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["x", "y", "width", "height"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_a = el.parentElement) == null ? void 0 : _a.replaceChild(pathEl, el);
    } else if (el instanceof SVGLineElement) {
      const x1 = parseFloat(el.getAttribute("x1") || "0");
      const x2 = parseFloat(el.getAttribute("x2") || "0");
      const y1 = parseFloat(el.getAttribute("y1") || "0");
      const y2 = parseFloat(el.getAttribute("y2") || "0");
      if (isNaN(x1 - y1 + x2 - y2))
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const pathData = `M${x1} ${y1}L${x2} ${y2}`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["x1", "y1", "x2", "y2"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_b = el.parentElement) == null ? void 0 : _b.replaceChild(pathEl, el);
    } else if ((el instanceof SVGPolylineElement || el instanceof SVGPolygonElement) && el.hasAttribute("points")) {
      const REGX_NUMBER = /[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?/g;
      const points = (_c = el.getAttribute("points")) != null ? _c : "";
      const coords = ((_d = points.match(REGX_NUMBER)) != null ? _d : []).map(Number);
      if (coords.length < 4)
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const [x2, y2] = coords.slice(0, 2);
      const remainingPoints = coords.slice(2).join(" ");
      const suffix = el instanceof SVGPolygonElement ? "z" : "";
      const pathData = `M${x2} ${y2}L${remainingPoints}${suffix}`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["points"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_e = el.parentElement) == null ? void 0 : _e.replaceChild(pathEl, el);
    }
  }

  // src/utils/crunchSvg.ts
  const params = {
    applyTransforms: true,
    applyTransformsStroked: true,
    makeArcs: {
      threshold: 2.5,
      tolerance: 0.5
    },
    straightCurves: true,
    lineShorthands: true,
    curveSmoothShorthands: true,
    floatPrecision: 1,
    transformPrecision: 5,
    removeUseless: true,
    collapseRepeated: true,
    utilizeAbsolute: true,
    leadingZero: true,
    negativeExtraSpace: true,
    noSpaceAfterFlags: true,
    forceAbsolutePath: false
  };
  let roundData;
  let precision;
  let error;
  let arcThreshold;
  let arcTolerance;
  let hasMarkerMid;
  let hasStrokeLinecap;
  function crunchSvg(svg2) {
    for (const node of Array.from(svg2.querySelectorAll("*"))) {
      convertShapesToPath(node);
      optimiseElement(node);
    }
  }
  function optimiseElement(item) {
    precision = params.floatPrecision;
    if (item instanceof SVGPathElement && item.hasAttribute("d")) {
      error = precision !== false ? +Math.pow(0.1, precision).toFixed(precision) : 0.01;
      roundData = precision > 0 && precision < 20 ? strongRound : round;
      if (params.makeArcs) {
        arcThreshold = params.makeArcs.threshold;
        arcTolerance = params.makeArcs.tolerance;
      }
      hasMarkerMid = item.hasAttribute("marker-mid");
      const stroke = item.getAttribute("stroke");
      const strokeLinecap = item.getAttribute("stroke");
      hasStrokeLinecap = stroke && stroke != "none" && strokeLinecap && strokeLinecap != "butt";
      var data = path2js(item);
      if (data.length) {
        convertToRelative(data);
        data = filters(data, params);
        if (params.utilizeAbsolute) {
          data = convertToMixed(data, params);
        }
        js2path(item, data, params);
      }
    }
  }
  function convertToRelative(path2) {
    var point = [0, 0], subpathPoint = [0, 0], baseItem;
    path2.forEach(function(item, index) {
      var instruction = item.instruction, data = item.data;
      if (data) {
        if ("mcslqta".indexOf(instruction) > -1) {
          point[0] += data[data.length - 2];
          point[1] += data[data.length - 1];
          if (instruction === "m") {
            subpathPoint[0] = point[0];
            subpathPoint[1] = point[1];
            baseItem = item;
          }
        } else if (instruction === "h") {
          point[0] += data[0];
        } else if (instruction === "v") {
          point[1] += data[0];
        }
        if (instruction === "M") {
          if (index > 0)
            instruction = "m";
          data[0] -= point[0];
          data[1] -= point[1];
          subpathPoint[0] = point[0] += data[0];
          subpathPoint[1] = point[1] += data[1];
          baseItem = item;
        } else if ("LT".indexOf(instruction) > -1) {
          instruction = instruction.toLowerCase();
          data[0] -= point[0];
          data[1] -= point[1];
          point[0] += data[0];
          point[1] += data[1];
        } else if (instruction === "C") {
          instruction = "c";
          data[0] -= point[0];
          data[1] -= point[1];
          data[2] -= point[0];
          data[3] -= point[1];
          data[4] -= point[0];
          data[5] -= point[1];
          point[0] += data[4];
          point[1] += data[5];
        } else if ("SQ".indexOf(instruction) > -1) {
          instruction = instruction.toLowerCase();
          data[0] -= point[0];
          data[1] -= point[1];
          data[2] -= point[0];
          data[3] -= point[1];
          point[0] += data[2];
          point[1] += data[3];
        } else if (instruction === "A") {
          instruction = "a";
          data[5] -= point[0];
          data[6] -= point[1];
          point[0] += data[5];
          point[1] += data[6];
        } else if (instruction === "H") {
          instruction = "h";
          data[0] -= point[0];
          point[0] += data[0];
        } else if (instruction === "V") {
          instruction = "v";
          data[0] -= point[1];
          point[1] += data[0];
        }
        item.instruction = instruction;
        item.data = data;
        item.coords = point.slice(-2);
      } else if (instruction == "z") {
        if (baseItem) {
          item.coords = baseItem.coords;
        }
        point[0] = subpathPoint[0];
        point[1] = subpathPoint[1];
      }
      item.base = index > 0 ? path2[index - 1].coords : [0, 0];
    });
    return path2;
  }
  function filters(path2, params2) {
    var stringify = data2Path.bind(null, params2), relSubpoint = [0, 0], pathBase = [0, 0], prev = {};
    path2 = path2.filter(function(item, index, path3) {
      var instruction = item.instruction, data = item.data, next = path3[index + 1];
      if (data) {
        var sdata = data, circle;
        if (instruction === "s") {
          sdata = [0, 0].concat(data);
          if ("cs".indexOf(prev.instruction) > -1) {
            var pdata = prev.data, n3 = pdata.length;
            sdata[0] = pdata[n3 - 2] - pdata[n3 - 4];
            sdata[1] = pdata[n3 - 1] - pdata[n3 - 3];
          }
        }
        if (params2.makeArcs && (instruction == "c" || instruction == "s") && isConvex(sdata) && (circle = findCircle(sdata))) {
          var r2 = roundData([circle.radius])[0], angle = findArcAngle(sdata, circle), sweep = sdata[5] * sdata[0] - sdata[4] * sdata[1] > 0 ? 1 : 0, arc = {
            instruction: "a",
            data: [r2, r2, 0, 0, sweep, sdata[4], sdata[5]],
            coords: item.coords.slice(),
            base: item.base
          }, output = [arc], relCenter = [
            circle.center[0] - sdata[4],
            circle.center[1] - sdata[5]
          ], relCircle = {center: relCenter, radius: circle.radius}, arcCurves = [item], hasPrev = 0, suffix = "", nextLonghand;
          if (prev.instruction == "c" && isConvex(prev.data) && isArcPrev(prev.data, circle) || prev.instruction == "a" && prev.sdata && isArcPrev(prev.sdata, circle)) {
            arcCurves.unshift(prev);
            arc.base = prev.base;
            arc.data[5] = arc.coords[0] - arc.base[0];
            arc.data[6] = arc.coords[1] - arc.base[1];
            var prevData = prev.instruction == "a" ? prev.sdata : prev.data;
            var prevAngle = findArcAngle(prevData, {
              center: [
                prevData[4] + circle.center[0],
                prevData[5] + circle.center[1]
              ],
              radius: circle.radius
            });
            angle += prevAngle;
            if (angle > Math.PI)
              arc.data[3] = 1;
            hasPrev = 1;
          }
          for (var j2 = index; (next = path3[++j2]) && ~"cs".indexOf(next.instruction); ) {
            var nextData = next.data;
            if (next.instruction == "s") {
              nextLonghand = makeLonghand({instruction: "s", data: next.data.slice()}, path3[j2 - 1].data);
              nextData = nextLonghand.data;
              nextLonghand.data = nextData.slice(0, 2);
              suffix = stringify([nextLonghand]);
            }
            if (isConvex(nextData) && isArc(nextData, relCircle)) {
              angle += findArcAngle(nextData, relCircle);
              if (angle - 2 * Math.PI > 1e-3)
                break;
              if (angle > Math.PI)
                arc.data[3] = 1;
              arcCurves.push(next);
              if (2 * Math.PI - angle > 1e-3) {
                arc.coords = next.coords;
                arc.data[5] = arc.coords[0] - arc.base[0];
                arc.data[6] = arc.coords[1] - arc.base[1];
              } else {
                arc.data[5] = 2 * (relCircle.center[0] - nextData[4]);
                arc.data[6] = 2 * (relCircle.center[1] - nextData[5]);
                arc.coords = [
                  arc.base[0] + arc.data[5],
                  arc.base[1] + arc.data[6]
                ];
                arc = {
                  instruction: "a",
                  data: [
                    r2,
                    r2,
                    0,
                    0,
                    sweep,
                    next.coords[0] - arc.coords[0],
                    next.coords[1] - arc.coords[1]
                  ],
                  coords: next.coords,
                  base: arc.coords
                };
                output.push(arc);
                j2++;
                break;
              }
              relCenter[0] -= nextData[4];
              relCenter[1] -= nextData[5];
            } else
              break;
          }
          if ((stringify(output) + suffix).length < stringify(arcCurves).length) {
            if (path3[j2] && path3[j2].instruction == "s") {
              makeLonghand(path3[j2], path3[j2 - 1].data);
            }
            if (hasPrev) {
              var prevArc = output.shift();
              roundData(prevArc.data);
              relSubpoint[0] += prevArc.data[5] - prev.data[prev.data.length - 2];
              relSubpoint[1] += prevArc.data[6] - prev.data[prev.data.length - 1];
              prev.instruction = "a";
              prev.data = prevArc.data;
              item.base = prev.coords = prevArc.coords;
            }
            arc = output.shift();
            if (arcCurves.length == 1) {
              item.sdata = sdata.slice();
            } else if (arcCurves.length - 1 - hasPrev > 0) {
              path3.splice.apply(path3, [index + 1, arcCurves.length - 1 - hasPrev].concat(output));
            }
            if (!arc)
              return false;
            instruction = "a";
            data = arc.data;
            item.coords = arc.coords;
          }
        }
        if (precision !== false) {
          if ("mltqsc".indexOf(instruction) > -1) {
            for (var i3 = data.length; i3--; ) {
              data[i3] += item.base[i3 % 2] - relSubpoint[i3 % 2];
            }
          } else if (instruction == "h") {
            data[0] += item.base[0] - relSubpoint[0];
          } else if (instruction == "v") {
            data[0] += item.base[1] - relSubpoint[1];
          } else if (instruction == "a") {
            data[5] += item.base[0] - relSubpoint[0];
            data[6] += item.base[1] - relSubpoint[1];
          }
          roundData(data);
          if (instruction == "h")
            relSubpoint[0] += data[0];
          else if (instruction == "v")
            relSubpoint[1] += data[0];
          else {
            relSubpoint[0] += data[data.length - 2];
            relSubpoint[1] += data[data.length - 1];
          }
          roundData(relSubpoint);
          if (instruction.toLowerCase() == "m") {
            pathBase[0] = relSubpoint[0];
            pathBase[1] = relSubpoint[1];
          }
        }
        if (params2.straightCurves) {
          if (instruction === "c" && isCurveStraightLine(data) || instruction === "s" && isCurveStraightLine(sdata)) {
            if (next && next.instruction == "s")
              makeLonghand(next, data);
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "q" && isCurveStraightLine(data)) {
            if (next && next.instruction == "t")
              makeLonghand(next, data);
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "t" && prev.instruction !== "q" && prev.instruction !== "t") {
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "a" && (data[0] === 0 || data[1] === 0)) {
            instruction = "l";
            data = data.slice(-2);
          }
        }
        if (params2.lineShorthands && instruction === "l") {
          if (data[1] === 0) {
            instruction = "h";
            data.pop();
          } else if (data[0] === 0) {
            instruction = "v";
            data.shift();
          }
        }
        if (params2.collapseRepeated && !hasMarkerMid && "mhv".indexOf(instruction) > -1 && prev.instruction && instruction == prev.instruction.toLowerCase() && (instruction != "h" && instruction != "v" || prev.data[0] >= 0 == data[0] >= 0)) {
          prev.data[0] += data[0];
          if (instruction != "h" && instruction != "v") {
            prev.data[1] += data[1];
          }
          prev.coords = item.coords;
          path3[index] = prev;
          return false;
        }
        if (params2.curveSmoothShorthands && prev.instruction) {
          if (instruction === "c") {
            if (prev.instruction === "c" && data[0] === -(prev.data[2] - prev.data[4]) && data[1] === -(prev.data[3] - prev.data[5])) {
              instruction = "s";
              data = data.slice(2);
            } else if (prev.instruction === "s" && data[0] === -(prev.data[0] - prev.data[2]) && data[1] === -(prev.data[1] - prev.data[3])) {
              instruction = "s";
              data = data.slice(2);
            } else if ("cs".indexOf(prev.instruction) === -1 && data[0] === 0 && data[1] === 0) {
              instruction = "s";
              data = data.slice(2);
            }
          } else if (instruction === "q") {
            if (prev.instruction === "q" && data[0] === prev.data[2] - prev.data[0] && data[1] === prev.data[3] - prev.data[1]) {
              instruction = "t";
              data = data.slice(2);
            } else if (prev.instruction === "t" && data[2] === prev.data[0] && data[3] === prev.data[1]) {
              instruction = "t";
              data = data.slice(2);
            }
          }
        }
        if (params2.removeUseless && !hasStrokeLinecap) {
          if ("lhvqtcs".indexOf(instruction) > -1 && data.every(function(i4) {
            return i4 === 0;
          })) {
            path3[index] = prev;
            return false;
          }
          if (instruction === "a" && data[5] === 0 && data[6] === 0) {
            path3[index] = prev;
            return false;
          }
        }
        item.instruction = instruction;
        item.data = data;
        prev = item;
      } else {
        relSubpoint[0] = pathBase[0];
        relSubpoint[1] = pathBase[1];
        if (prev.instruction == "z")
          return false;
        prev = item;
      }
      return true;
    });
    return path2;
  }
  function convertToMixed(path2, params2) {
    var prev = path2[0];
    path2 = path2.filter(function(item, index) {
      if (index == 0)
        return true;
      if (!item.data) {
        prev = item;
        return true;
      }
      var instruction = item.instruction, data = item.data, adata = data && data.slice(0);
      if ("mltqsc".indexOf(instruction) > -1) {
        for (var i3 = adata.length; i3--; ) {
          adata[i3] += item.base[i3 % 2];
        }
      } else if (instruction == "h") {
        adata[0] += item.base[0];
      } else if (instruction == "v") {
        adata[0] += item.base[1];
      } else if (instruction == "a") {
        adata[5] += item.base[0];
        adata[6] += item.base[1];
      }
      roundData(adata);
      var absoluteDataStr = cleanupOutData(adata, params2), relativeDataStr = cleanupOutData(data, params2);
      if (params2.forceAbsolutePath || absoluteDataStr.length < relativeDataStr.length && !(params2.negativeExtraSpace && instruction == prev.instruction && prev.instruction.charCodeAt(0) > 96 && absoluteDataStr.length == relativeDataStr.length - 1 && (data[0] < 0 || /^0\./.test(data[0]) && prev.data[prev.data.length - 1] % 1))) {
        item.instruction = instruction.toUpperCase();
        item.data = adata;
      }
      prev = item;
      return true;
    });
    return path2;
  }
  function isConvex(data) {
    var center = getIntersection([
      0,
      0,
      data[2],
      data[3],
      data[0],
      data[1],
      data[4],
      data[5]
    ]);
    return center && data[2] < center[0] == center[0] < 0 && data[3] < center[1] == center[1] < 0 && data[4] < center[0] == center[0] < data[0] && data[5] < center[1] == center[1] < data[1];
  }
  function getIntersection(coords) {
    var a1 = coords[1] - coords[3], b1 = coords[2] - coords[0], c1 = coords[0] * coords[3] - coords[2] * coords[1], a22 = coords[5] - coords[7], b2 = coords[6] - coords[4], c22 = coords[4] * coords[7] - coords[5] * coords[6], denom = a1 * b2 - a22 * b1;
    if (!denom)
      return;
    var cross = [(b1 * c22 - b2 * c1) / denom, (a1 * c22 - a22 * c1) / -denom];
    if (!isNaN(cross[0]) && !isNaN(cross[1]) && isFinite(cross[0]) && isFinite(cross[1])) {
      return cross;
    }
  }
  function strongRound(data) {
    for (var i3 = data.length; i3-- > 0; ) {
      if (data[i3].toFixed(precision) != data[i3]) {
        var rounded = +data[i3].toFixed(precision - 1);
        data[i3] = +Math.abs(rounded - data[i3]).toFixed(precision + 1) >= error ? +data[i3].toFixed(precision) : rounded;
      }
    }
    return data;
  }
  function round(data) {
    for (var i3 = data.length; i3-- > 0; ) {
      data[i3] = Math.round(data[i3]);
    }
    return data;
  }
  function isCurveStraightLine(data) {
    var i3 = data.length - 2, a3 = -data[i3 + 1], b2 = data[i3], d2 = 1 / (a3 * a3 + b2 * b2);
    if (i3 <= 1 || !isFinite(d2))
      return false;
    while ((i3 -= 2) >= 0) {
      if (Math.sqrt(Math.pow(a3 * data[i3] + b2 * data[i3 + 1], 2) * d2) > error)
        return false;
    }
    return true;
  }
  function makeLonghand(item, data) {
    switch (item.instruction) {
      case "s":
        item.instruction = "c";
        break;
      case "t":
        item.instruction = "q";
        break;
    }
    item.data.unshift(data[data.length - 2] - data[data.length - 4], data[data.length - 1] - data[data.length - 3]);
    return item;
  }
  function getDistance(point1, point2) {
    return Math.hypot(point1[0] - point2[0], point1[1] - point2[1]);
  }
  function getCubicBezierPoint(curve, t2) {
    var sqrT = t2 * t2, cubT = sqrT * t2, mt = 1 - t2, sqrMt = mt * mt;
    return [
      3 * sqrMt * t2 * curve[0] + 3 * mt * sqrT * curve[2] + cubT * curve[4],
      3 * sqrMt * t2 * curve[1] + 3 * mt * sqrT * curve[3] + cubT * curve[5]
    ];
  }
  function findCircle(curve) {
    var midPoint = getCubicBezierPoint(curve, 1 / 2), m1 = [midPoint[0] / 2, midPoint[1] / 2], m2 = [(midPoint[0] + curve[4]) / 2, (midPoint[1] + curve[5]) / 2], center = getIntersection([
      m1[0],
      m1[1],
      m1[0] + m1[1],
      m1[1] - m1[0],
      m2[0],
      m2[1],
      m2[0] + (m2[1] - midPoint[1]),
      m2[1] - (m2[0] - midPoint[0])
    ]), radius = center && getDistance([0, 0], center), tolerance = Math.min(arcThreshold * error, arcTolerance * radius / 100);
    if (center && radius < 1e15 && [1 / 4, 3 / 4].every(function(point) {
      return Math.abs(getDistance(getCubicBezierPoint(curve, point), center) - radius) <= tolerance;
    }))
      return {center, radius};
  }
  function isArc(curve, circle) {
    var tolerance = Math.min(arcThreshold * error, arcTolerance * circle.radius / 100);
    return [0, 1 / 4, 1 / 2, 3 / 4, 1].every(function(point) {
      return Math.abs(getDistance(getCubicBezierPoint(curve, point), circle.center) - circle.radius) <= tolerance;
    });
  }
  function isArcPrev(curve, circle) {
    return isArc(curve, {
      center: [circle.center[0] + curve[4], circle.center[1] + curve[5]],
      radius: circle.radius
    });
  }
  function findArcAngle(curve, relCircle) {
    var x1 = -relCircle.center[0], y1 = -relCircle.center[1], x2 = curve[4] - relCircle.center[0], y2 = curve[5] - relCircle.center[1];
    return Math.acos((x1 * x2 + y1 * y2) / Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2)));
  }
  function data2Path(params2, pathData) {
    return pathData.reduce(function(pathString, item) {
      var strData = "";
      if (item.data) {
        strData = cleanupOutData(roundData(item.data.slice()), params2);
      }
      return pathString + item.instruction + strData;
    }, "");
  }

  // src/utils/svg.ts
  async function decodeSvgToString(svg2, ids) {
    let svgStr = new TextDecoder("utf-8").decode(svg2);
    svgStr = svgStr.replace(/http:\/\//g, "https://");
    ids.forEach(([id, uid]) => {
      svgStr = svgStr.replace(`id="${id}"`, `id="${id}" class="${uid}" `);
    });
    const emptyDiv = document.createElement("div");
    emptyDiv.innerHTML = svgStr;
    const svgEl = emptyDiv.querySelector("svg");
    if (!svgEl) {
      throw new Error("SVG decode failed. Missing SVG element");
    }
    crunchSvg(svgEl);
    [...(svgEl == null ? void 0 : svgEl.querySelectorAll("clipPath")) || []].forEach((clipPath) => {
      var _a;
      if (clipPath.childElementCount === 0) {
        (_a = clipPath.parentNode) == null ? void 0 : _a.removeChild(clipPath);
      }
    });
    [...(svgEl == null ? void 0 : svgEl.querySelectorAll("text")) || []].forEach((textNode) => {
      var _a;
      (_a = textNode.parentNode) == null ? void 0 : _a.removeChild(textNode);
    });
    return svgEl.outerHTML;
  }

  // src/utils/messages.ts
  class Postman {
    constructor(props) {
      this.TIMEOUT = 3e4;
      this.receive = async (event) => {
        var _a;
        const msgBody = this.inFigmaSandbox ? event : (_a = event == null ? void 0 : event.data) == null ? void 0 : _a.pluginMessage;
        const {data, workload, name: name2, uid, returning, err} = msgBody || {};
        try {
          if (this.name !== name2)
            return;
          if (returning && !this.callbackStore[uid]) {
            throw new Error(`Missing callback: ${uid}`);
          }
          if (!returning && !this.workers[workload]) {
            throw new Error(`No workload registered: ${workload}`);
          }
          if (returning) {
            this.callbackStore[uid](data, err);
          } else {
            const workloadResult = await this.workers[workload](data);
            this.postBack({data: workloadResult, uid});
          }
        } catch (err2) {
          this.postBack({uid, err: "Postman failed"});
          console.error("Postman failed", err2);
        }
      };
      this.registerWorker = (eventType, fn) => {
        this.workers[eventType] = fn;
      };
      this.postBack = (props) => this.postMessage({
        name: this.name,
        uid: props.uid,
        data: props.data,
        returning: true,
        err: props.err
      });
      this.postMessage = (messageBody) => this.inFigmaSandbox ? figma.ui.postMessage(messageBody) : parent.postMessage({pluginMessage: messageBody}, "*");
      this.send = (props) => {
        return new Promise((resolve, reject) => {
          const {workload, data} = props;
          const randomId = Math.random().toString(36).substr(5);
          this.postMessage({
            name: this.name,
            uid: randomId,
            workload,
            data
          });
          this.callbackStore[randomId] = (result, err) => {
            if (err) {
              reject(err);
            } else {
              resolve(result);
            }
          };
          setTimeout(() => reject(new Error("Timed out")), this.TIMEOUT);
        });
      };
      this.name = (props == null ? void 0 : props.messageName) || "POSTMAN";
      this.inFigmaSandbox = typeof figma === "object";
      this.callbackStore = {};
      this.workers = {};
      this.inFigmaSandbox ? figma.ui.on("message", this.receive) : window.addEventListener("message", this.receive);
    }
  }
  const postMan = new Postman();

  // src/components/App.tsx
  class App extends d {
    constructor() {
      super(...arguments);
      this.state = {
        error: void 0,
        ready: false,
        frames: {},
        stage: STAGES.CHOOSE_FRAMES,
        selectedFrames: [],
        responsive: true,
        headline: void 0,
        subhead: void 0,
        source: void 0,
        loading: false,
        svgMarkup: ""
      };
      this.updateInitialState = (data) => {
        const {frames, headline, subhead, source} = data;
        if (!Array.isArray(frames) || (frames == null ? void 0 : frames.length) < 1) {
          this.setState({error: "No frames!"});
          console.error("Post error: no frames", data);
          return;
        }
        const hasDuplicateWidths = frames.map((f3) => f3.width).some((width, _i, arr) => arr.indexOf(width) !== arr.lastIndexOf(width));
        if (hasDuplicateWidths) {
          this.setState({
            error: "The are frames with identical widths. Please resize or remove some frames."
          });
          return;
        }
        const frameData = {};
        for (const frame of frames) {
          const {id} = frame;
          const rndId = btoa(`${Math.random()}`).substr(6, 6);
          frameData[id] = __assign(__assign({}, frame), {uid: `f2h__${rndId}`});
        }
        const selectedFrames = frames.map((frame) => frame.id);
        this.setState({
          frames: frameData,
          ready: true,
          headline,
          subhead,
          source,
          selectedFrames
        });
      };
      this.handleRenderMessage = async (svgData) => {
        if (!svgData) {
          this.setState({error: "Failed to render"});
          console.error("Post message: failed to render");
          return;
        }
        const {
          selectedFrames,
          frames,
          headline,
          subhead,
          source,
          responsive
        } = this.state;
        const ids = selectedFrames.map((id) => [id, frames[id].uid]);
        const svgText = await decodeSvgToString(svgData, ids);
        const selected = Object.values(frames).filter((f3) => selectedFrames.includes(f3.id));
        const html = renderInline({
          frames: selected,
          svgText,
          headline,
          subhead,
          source,
          responsive
        });
        this.setState({
          svgMarkup: html,
          stage: STAGES.RESPONSIVE_PREVIEW,
          loading: false
        });
      };
      this.goNext = () => {
        const {stage} = this.state;
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            this.getOutputRender();
            this.setState({loading: true});
            return;
          case STAGES.RESPONSIVE_PREVIEW:
            this.setState({stage: STAGES.SAVE_OUTPUT});
            return;
          case STAGES.SAVE_OUTPUT:
            return;
        }
      };
      this.goBack = () => {
        const {stage} = this.state;
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return;
          case STAGES.RESPONSIVE_PREVIEW:
            this.setState({stage: STAGES.CHOOSE_FRAMES});
            return;
          case STAGES.SAVE_OUTPUT:
            this.setState({stage: STAGES.RESPONSIVE_PREVIEW});
            return;
        }
      };
      this.getOutputRender = () => {
        const {selectedFrames} = this.state;
        postMan.send({workload: MSG_EVENTS.RENDER, data: selectedFrames}).then(this.handleRenderMessage).catch((err) => {
          console.error("error getting render", err);
        });
      };
      this.toggleFrameSelect = (id) => {
        const {selectedFrames} = this.state;
        this.setState({
          selectedFrames: selectedFrames.includes(id) ? selectedFrames.filter((frameId) => id !== frameId) : [...selectedFrames, id]
        });
      };
      this.toggleSelectAll = () => {
        const {selectedFrames, frames} = this.state;
        if (selectedFrames.length > 0) {
          this.setState({selectedFrames: []});
        } else {
          this.setState({selectedFrames: Object.values(frames).map((f3) => f3.id)});
        }
      };
      this.handleFormUpdate = (props) => {
        this.setState(__assign({}, props));
        postMan.send({workload: MSG_EVENTS.UPDATE_HEADLINES, data: props}).catch(() => this.setState({error: "Form update failed"}));
      };
      this.getSelectedFrames = () => {
        const {frames, selectedFrames} = this.state;
        return Object.values(frames).filter((f3) => selectedFrames.includes(f3.id));
      };
      this.toggleResponsive = () => {
        this.setState({responsive: !this.state.responsive});
      };
    }
    componentDidMount() {
      postMan.send({workload: MSG_EVENTS.GET_ROOT_FRAMES}).then(this.updateInitialState).catch((err) => console.error("error requesting frames", err));
    }
    render() {
      const {version: version2} = this.props;
      const {
        error: error2,
        stage,
        loading,
        svgMarkup,
        headline,
        subhead,
        source,
        selectedFrames,
        frames,
        responsive
      } = this.state;
      console.log(this.state);
      const frameWidths = this.getSelectedFrames().map((f3) => f3.width).sort();
      return /* @__PURE__ */ v("div", {
        className: "f2h"
      }, !error2 && /* @__PURE__ */ v("header", {
        className: "f2h__header"
      }, /* @__PURE__ */ v(HeaderTitle, {
        stage
      }), stage === STAGES.RESPONSIVE_PREVIEW && /* @__PURE__ */ v(SvgInformation, {
        svgMarkup
      }), /* @__PURE__ */ v("button", {
        onClick: this.goBack,
        disabled: stage === STAGES.CHOOSE_FRAMES
      }, "Back"), /* @__PURE__ */ v("button", {
        className: "btn--primary",
        onClick: this.goNext,
        disabled: stage === STAGES.SAVE_OUTPUT
      }, "Next")), /* @__PURE__ */ v("div", {
        className: "f2h__body"
      }, error2 && /* @__PURE__ */ v("div", {
        className: "error"
      }, error2), loading && /* @__PURE__ */ v("div", {
        className: "loading"
      }, /* @__PURE__ */ v("p", {
        className: "loading__msg"
      }, "Merging frames"), /* @__PURE__ */ v("p", {
        className: "loading__msg"
      }, "Rendering HTML"), /* @__PURE__ */ v("p", {
        className: "loading__msg"
      }, "Optimising images"), /* @__PURE__ */ v("p", {
        className: "loading__msg"
      }, "Simplifying shapes")), !error2 && !loading && stage === STAGES.CHOOSE_FRAMES && /* @__PURE__ */ v(FrameSelection2, {
        frames,
        selectedFrames,
        handleClick: this.toggleFrameSelect,
        toggleSelectAll: this.toggleSelectAll,
        responsive,
        toggleResponsive: this.toggleResponsive,
        headline,
        subhead,
        source,
        handleFormUpdate: this.handleFormUpdate
      }), !error2 && !loading && stage === STAGES.RESPONSIVE_PREVIEW && /* @__PURE__ */ v(ResponsiveView2, {
        svgMarkup,
        frameWidths
      }), !error2 && !loading && stage === STAGES.SAVE_OUTPUT && /* @__PURE__ */ v(Save2, {
        svgMarkup
      })), /* @__PURE__ */ v("p", {
        className: "f2h__version"
      }, "Version: ", version2));
    }
  }

  // src/helpers/imageHelper.ts
  const pica = __toModule(require_pica());
  const upng_js = __toModule(require_UPNG());
  const JPEG_MAGIC_BYTES = [
    [255, 216, 255, 219],
    [255, 216, 255, 238],
    [255, 216, 255, 225],
    [255, 216, 255, 224, 0, 16, 74, 70, 73, 70, 0, 1]
  ];
  const PNG_MAGIC_BYTES = [137, 80, 78, 71, 13, 10, 26, 10];
  const GIF_MAGIC_BYTES = [
    [71, 73, 70, 56, 55, 97],
    [71, 73, 70, 56, 57, 97]
  ];
  var IMAGE_FORMATS;
  (function(IMAGE_FORMATS2) {
    IMAGE_FORMATS2[IMAGE_FORMATS2["PNG"] = 0] = "PNG";
    IMAGE_FORMATS2[IMAGE_FORMATS2["JPEG"] = 1] = "JPEG";
    IMAGE_FORMATS2[IMAGE_FORMATS2["GIF"] = 2] = "GIF";
    IMAGE_FORMATS2[IMAGE_FORMATS2["UNKNOWN"] = 3] = "UNKNOWN";
  })(IMAGE_FORMATS || (IMAGE_FORMATS = {}));
  function identifyImageFormat(imageData) {
    const isPng = PNG_MAGIC_BYTES.every((val, i3) => val === imageData[i3]);
    if (isPng) {
      return 0;
    }
    const isJpeg = JPEG_MAGIC_BYTES.some((bytes) => bytes.every((val, i3) => val === imageData[i3]));
    if (isJpeg) {
      return 1;
    }
    const isGif = GIF_MAGIC_BYTES.some((bytes) => bytes.every((val, i3) => val === imageData[i3]));
    if (isGif) {
      return 2;
    }
    return 3;
  }
  function calcSmallestImageSize(originalWidth, originalHeight, nodeDimensions) {
    const aspectRatio = originalWidth / originalHeight;
    let width = 200;
    let height = 200;
    if (aspectRatio < 1) {
      const maxAspectHeight = Math.max(...nodeDimensions.flatMap((d2) => d2.width / aspectRatio));
      const maxNodeHeight = Math.max(...nodeDimensions.flatMap((d2) => d2.height));
      height = Math.max(maxNodeHeight, maxAspectHeight);
      width = height * aspectRatio;
    } else {
      const maxAspectWidth = Math.max(...nodeDimensions.flatMap((d2) => d2.height * aspectRatio));
      const maxNodeWidth = Math.max(...nodeDimensions.flatMap((d2) => d2.width));
      width = Math.max(maxNodeWidth, maxAspectWidth);
      height = width / aspectRatio;
    }
    if (width > originalWidth || height > originalHeight) {
      width = originalWidth;
      height = originalHeight;
    } else {
      width = Math.round(width);
      height = Math.round(height);
    }
    return {width, height};
  }
  async function optimizeImage(imgData, canvas) {
    const _COLOUR_COUNT = 64;
    const imageFormat = identifyImageFormat(imgData);
    const {width, height} = canvas;
    const ctx = canvas.getContext("2d");
    let returnImageData;
    if (imageFormat === 0 || imageFormat === 2) {
      const data = ctx.getImageData(0, 0, width, height).data;
      const tinyPng = upng_js.default.encode([data.buffer], width, height, _COLOUR_COUNT);
      returnImageData = new Uint8Array(tinyPng);
    } else {
      const blob = await canvas.convertToBlob({
        type: "image/jpeg",
        quality: 0.85
      });
      const buff = await blob.arrayBuffer();
      returnImageData = new Uint8Array(buff);
    }
    return returnImageData;
  }
  async function resizeAndOptimiseImage(props) {
    const {img, imgData, nodeDimensions, resolve, reject} = props;
    try {
      const {width, height} = calcSmallestImageSize(img.width, img.height, nodeDimensions);
      const canvas = new OffscreenCanvas(width, height);
      const pica2 = new pica.default();
      await pica2.resize(img, canvas, {
        unsharpAmount: 50,
        alpha: true
      });
      const optimisedImage = await optimizeImage(imgData, canvas);
      resolve(optimisedImage);
    } catch (err) {
      reject(err);
    }
  }

  // src/helpers.ts
  function compressImage(props) {
    return new Promise((resolve, reject) => {
      const img = new Image();
      const {imgData, nodeDimensions} = props;
      img.addEventListener("load", () => {
        resizeAndOptimiseImage({
          img,
          imgData,
          nodeDimensions,
          resolve,
          reject
        }).catch((err) => reject(err));
      });
      img.addEventListener("error", (err) => {
        console.error("Error loading compressed image");
        reject(err);
      });
      const blob = new Blob([imgData], {type: "image/png"});
      const imgUrl = URL.createObjectURL(blob);
      img.src = imgUrl;
    });
  }

  // package.json
  var version = "0.3.0";

  // src/ui.css
  var ui_default = '/*! minireset.css v0.0.6 | MIT License | github.com/jgthms/minireset.css */\nhtml,\nbody,\np,\nol,\nul,\nli,\ndl,\ndt,\ndd,\nblockquote,\nfigure,\nfieldset,\nlegend,\ntextarea,\npre,\niframe,\nhr,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n  padding: 0;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: 100%;\n  font-weight: normal;\n}\nul {\n  list-style: none;\n}\nbutton,\ninput,\nselect,\ntextarea {\n  margin: 0;\n}\nhtml {\n  box-sizing: border-box;\n}\n*,\n*::before,\n*::after {\n  box-sizing: inherit;\n}\n\niframe {\n  border: 0;\n}\n\n@import url("https://rsms.me/inter/inter.css");\n\nbody {\n  --padding-small: 6px;\n  --padding-medium: 12px;\n  --padding-large: 24px;\n  --padding-huge: 48px;\n\n  --border-radius-small: 3px;\n  --border-radius-medium: 6px;\n  --border-radius-large: 12px;\n\n  --colours-grey-0: rgb(33, 33, 33);\n  --colours-grey-1: rgb(74, 74, 74);\n  --colours-grey-2: rgb(133, 133, 133);\n  --colours-grey-3: rgb(179, 179, 179);\n  --colours-grey-4: rgb(227, 227, 227);\n  --colours-grey-5: rgb(245, 245, 245);\n  --colours-main: rgb(72, 202, 126);\n  --colours-main-light: rgb(208, 242, 222);\n  --colours-main-dark: rgb(44, 75, 57);\n  --colours-warning: rgb(255, 242, 175);\n\n  --font-family-sans-serif: Arial, Helvetica, sans-serif;\n  --font-famailt-serif: Georgia, "Times New Roman", Times, serif;\n\n  --font-size--small: 11px;\n  --font-size--medium: 14px;\n  --font-size--large: 18px;\n}\n\nhtml {\n  font-family: "Inter", sans-serif;\n}\n@supports (font-variation-settings: normal) {\n  html {\n    font-family: "Inter var", sans-serif;\n  }\n}\n\nhtml,\nbody {\n  margin: 0;\n  font-size: 14px;\n}\n\nbutton {\n  border: 1px solid transparent;\n  background: #fff;\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  cursor: pointer;\n  border-radius: var(--border-radius-small, 0);\n  outline: none;\n  border: 1px solid var(--colours-grey-3, #f0f);\n  background: #fff;\n}\n\n.btn--primary {\n  color: #fff;\n  background: var(--colours-main, #f0f);\n  border-color: var(--colours-main, #f0f);\n}\n\nbutton:disabled {\n  border: 1px solid var(--colours-grey-4, #f0f);\n  color: var(--colours-grey-4, #f0f);\n  background: #fff;\n}\n\nbutton:active,\nbutton:hover {\n  outline: none;\n}\n\n.f2h {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n/* [Header] */\n.f2h__header {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  border-bottom: 1px solid #e4e4e4;\n  background: #f9f9f9;\n}\n\n.f2h__title {\n  font-family: var(--font-family-sans-serif, sans-serif);\n  font-size: var(--font-size--medium, 1em);\n  flex: 1;\n}\n.f2h__info {\n  margin-left: var(--padding-medium, 0);\n  display: flex;\n  max-width: 60%;\n  white-space: nowrap;\n}\n.f2h__info_title {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.f2h__info_meta {\n  font-size: var(--font-size--medium, 1em);\n  margin: 0 var(--padding-small, 0);\n}\n.f2h__file_size {\n  margin-left: var(--padding-small, 0);\n  font-weight: bold;\n}\n\n.f2h__header button {\n  margin-left: var(--padding-small, 0);\n}\n\n/* [ Body ] */\n.f2h__body {\n  display: flex;\n  padding: var(--padding-large, 0) var(--padding-huge, 0);\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background-color: var(--colours-grey-5, #f0f);\n}\n\n/* [ Footer ] */\n.f2h__version {\n  position: absolute;\n  bottom: var(--padding-small, 0);\n  right: var(--padding-small, 0);\n  color: var(--colours-grey-3, #f0f);\n  font-size: var(--font-size--small, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n}\n\n/* [ Frame selection and Form ] */\n.f2h__choose_frames {\n  min-width: 50%;\n}\n.f2h__info_form {\n  margin-bottom: var(--padding-large, 0);\n}\n.f2h__info_form__item {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: var(--padding-medium, 0);\n}\n.f2h__info_form__label {\n  font-size: var(--font-size--small, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n}\n.f2h__info_form__input {\n  font-size: var(--font-size--medium, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n}\n\n.f2h__frame_selection {\n  display: grid;\n  grid-template-columns: 1fr min-content;\n  grid-template-rows: auto;\n  min-width: 320px;\n  grid-gap: var(--padding-small, 0) var(--padding-medium, 0);\n  align-items: center;\n}\n\n.f2h__sel_header {\n  color: var(--colours-grey-0, #f0f);\n  font-size: var(--font-size--medium);\n  border-bottom: 1px solid var(--colours-grey-0);\n  padding-bottom: var(--padding-small, 0);\n}\n\n.f2h__sel_header--name {\n  grid-column: 1/2;\n  grid-row: 1/2;\n}\n\n.f2h__sel_header--responsive {\n  grid-column: 2/3;\n  grid-row: 1/2;\n  justify-self: center;\n  white-space: nowrap;\n}\n\n.f2h__label.f2h__label--name {\n  grid-column: 1/2;\n  align-items: baseline;\n}\n.f2h__label--name-text {\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.f2h__input--responsive {\n  grid-column: 2/3;\n  justify-self: center;\n  margin: 0;\n}\n\n.f2h__label {\n  display: flex;\n  cursor: pointer;\n  padding: var(--padding-small) 0;\n  align-items: center;\n  min-width: 0;\n}\n\n.f2h__sel_width {\n  font-size: var(--font-size--small, 1em);\n  color: var(--colours-grey-3, #f0f);\n  padding-left: var(--padding-small, 0);\n  white-space: nowrap;\n}\n\n.f2h__checkbox,\n.f2h__radio_btn {\n  margin-right: var(--padding-medium, 0);\n}\n\n.f2h__selection_width {\n  font-size: var(--font-size--small, 1);\n  margin: 0 var(--padding-small, 0);\n  display: block;\n  color: var(--colours-grey-2, #f0f);\n}\n\n/* [Preview]  */\n.f2h__preview {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n}\n.f2h__preview_title {\n  font-size: var(--font-size--medium, 1);\n  margin: var(--padding-small, 0) 0;\n  display: flex;\n}\n.f2h__preview_name {\n  flex: 1;\n}\n\n.f2h__preview_inner {\n  overflow: auto;\n  max-height: 100%;\n  max-width: 100%;\n  margin: auto;\n}\n.f2h__preview_inner--scaled {\n  overflow: hidden;\n}\n\n.f2h__preview_wrapper {\n  overflow-x: auto;\n  overflow-y: hidden;\n  width: 100%;\n}\n\n.f2h__preview_responsive,\n.f2h__preview_width {\n  font-size: var(--font-size--small, 1);\n  color: var(--colours-grey-3, #f0f);\n  padding-left: var(--padding-small, 0);\n}\n\n.f2h__notice--warning {\n  background: var(--colours-warning, #f0f);\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  margin: var(--padding-small, 0) 0;\n  font-size: var(--font-size--medium, 1em);\n  border-radius: var(--border-radius-medium, 0);\n}\n\n.f2h__notice--error {\n  font-weight: bold;\n  background: #ffeded;\n  color: #a70f0f;\n}\n\n/* [Render] */\n.f2h__render {\n  transform-origin: top left;\n}\n\n.f2h__render--responsive svg {\n  width: 100%;\n}\n\n.error {\n  background-color: var(--colours-grey-5, #f0f);\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0) var(--padding-small, 0);\n  text-align: center;\n  color: var(--colours-grey-0, #f0f);\n  margin: var(--padding-medium, 0) 0;\n  flex: 1;\n  align-self: center;\n}\n\n/* [Save] */\n.f2h__save {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-self: center;\n  max-width: 800px;\n}\n\n.f2h__save_btn {\n  font-size: var(--font-size--large, 1em);\n  color: #fff;\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0);\n  margin-right: var(--padding-medium, 0);\n  border-bottom: 2px solid var(--colours-main-dark, #f0f);\n  border-top: 3px solid transparent;\n}\n.f2h__save_btn:hover {\n  border-top: 0;\n  border-bottom-width: 5px;\n  box-shadow: 0 4px 2px rgba(0, 0, 0, 0.1);\n}\n.f2h__save_btn:active {\n  border-bottom: 2px solid var(--colours-main-dark, #f0f);\n  border-top: 3px solid transparent;\n}\n\n.f2h__save_btn:last-of-type {\n  margin: 0;\n}\n\n.f2h__save_options {\n  display: flex;\n  justify-content: center;\n}\n\n.f2h__save__subhead {\n  font-size: var(--font-size--medium, 1);\n  margin: var(--padding-large, 0) 0 var(--padding-small, 0);\n  padding-bottom: var(--padding-small, 0);\n  border-bottom: 1px solid var(--colours-grey-4, #f0f);\n}\n\n.f2h__save_advanced {\n  opacity: 0;\n  transition: opacity 0.1s;\n}\n.f2h__save_advanced--open {\n  opacity: 1;\n}\n\n.f2h__save_advanced-header {\n  display: flex;\n}\n\n.f2h__save_advanced_title {\n  flex: 1;\n}\n\n.f2h__save_advanced_show {\n  background-color: transparent;\n  border: 1px solid var(--colours-grey-3, #f0f);\n}\n\n.f2h__save__raw {\n  width: 100%;\n  padding: var(--padding-small, 0);\n  border: 1px solid var(--colours-grey-4, #f0f);\n  font-family: monospace;\n  font-size: 11px;\n  min-height: 150px;\n  max-height: 300px;\n}\n\n/* Resize widget */\n.f2h__resizer {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  bottom: 6px;\n  right: 6px;\n  cursor: grabbing;\n  background: repeating-linear-gradient(\n    -45deg,\n    #d2d2d2,\n    #d2d2d2 2px,\n    transparent 1px,\n    transparent 8px\n  );\n  border-radius: 100% 0 0;\n}\n\n.f2h__toast {\n  background-color: var(--colours-grey-1, #f0f);\n  color: #fff;\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0);\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 0);\n  transition: transform 0.3s, opacity 0.3s 0.1s;\n  opacity: 0;\n}\n\n.f2h__toast--open {\n  transform: translate(-50%, -100%);\n  opacity: 1;\n}\n\n/* [Responsive preview] */\n.f2h__responsive_preview {\n  /* width: 300px; */\n  display: flex;\n  flex-direction: column;\n  align-self: center;\n}\n\n.f2h__responsive__wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 500px;\n}\n\n.f2h__ruler {\n  position: relative;\n  display: grid;\n  justify-items: center;\n}\n.f2h__ruler_break {\n  height: var(--padding-medium, 10px);\n  background-color: var(--colours-grey-4, #f0f);\n  border: 2px solid #fff;\n  grid-row: 1/2;\n  grid-column: 1/2;\n  border-top: none;\n  border-bottom: none;\n}\n.f2h__ruler_break--0 {\n  width: 320px;\n  z-index: 3;\n}\n.f2h__ruler_break--1 {\n  width: 450px;\n  z-index: 2;\n}\n.f2h__ruler_break--2 {\n  width: 640px;\n  z-index: 1;\n}\n\n.f2h__responsive__sandbox {\n  resize: both;\n  overflow: hidden;\n  outline: 1px solid var(--colours-grey-4, #f0f);\n  margin: var(--padding-small, 0) 0;\n\n  /* https://leaverou.github.io/css3patterns/#checkerboard */\n  background-color: #eee;\n  background-image: linear-gradient(\n      45deg,\n      var(--colours-grey-4, #f0f) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--colours-grey-4, #f0f) 75%,\n      var(--colours-grey-4, #f0f)\n    ),\n    linear-gradient(\n      45deg,\n      var(--colours-grey-4, #f0f) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--colours-grey-4, #f0f) 75%,\n      var(--colours-grey-4, #f0f)\n    );\n  background-size: 20px 20px;\n  background-position: 0 0, 10px 10px;\n  min-height: 60vh;\n  max-width: 98vw;\n}\n\n.responsive_width_btn {\n  background-color: var(--colours-grey-4, #f0f);\n  margin: 1px;\n  border-radius: 3px;\n  padding: 2px var(--padding-small);\n  font-size: var(--font-size--small);\n  cursor: pointer;\n  box-sizing: border-box;\n  display: inline-block;\n}\n.responsive_width_btn.active {\n  background-color: var(--colours-grey-3, #f0f);\n  color: #fff;\n}\n\n/* [ Loading ] */\n.loading {\n  --loading-animation-duration: 8s;\n  background: var(--colours-grey-4, #f0f);\n  padding: var(--padding-medium, 0) var(--padding-large, 0);\n  border-radius: 3px;\n  display: grid;\n}\n\n.loading__msg {\n  animation-duration: var(--loading-animation-duration, 0);\n  animation-timing-function: ease-in-out;\n  animation-direction: normal;\n  animation-iteration-count: infinite;\n  animation-name: loadingFadeInOut;\n  animation-delay: 0;\n  opacity: 0;\n  grid-row: 1/2;\n  grid-column: 1/2;\n  text-align: center;\n  font-size: var(--font-size--large, 1em);\n}\n\n@keyframes loadingFadeInOut {\n  0% {\n    opacity: 0;\n  }\n  17.5% {\n    opacity: 1;\n  }\n  25% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n.loading__msg:nth-child(2) {\n  animation-delay: calc(var(--loading-animation-duration, 1s) / 4);\n}\n\n.loading__msg:nth-child(3) {\n  animation-delay: calc(var(--loading-animation-duration, 1s) / 4 * 2);\n}\n\n.loading__msg:nth-child(4) {\n  animation-delay: calc(var(--loading-animation-duration, 1s) / 4 * 3);\n}\n';

  // src/ui.tsx
  injectCss(ui_default);
  injectCss(embed_default);
  injectCss(fonts_default);
  postMan.registerWorker(MSG_EVENTS.COMPRESS_IMAGE, compressImage);
  M(/* @__PURE__ */ v(App, {
    version
  }), document.body);
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3Bha28vbGliL3V0aWxzL2NvbW1vbi5qcyIsICJub2RlX21vZHVsZXMvcGFrby9saWIvemxpYi90cmVlcy5qcyIsICJub2RlX21vZHVsZXMvcGFrby9saWIvemxpYi9hZGxlcjMyLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi96bGliL2NyYzMyLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi96bGliL21lc3NhZ2VzLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi96bGliL2RlZmxhdGUuanMiLCAibm9kZV9tb2R1bGVzL3Bha28vbGliL3V0aWxzL3N0cmluZ3MuanMiLCAibm9kZV9tb2R1bGVzL3Bha28vbGliL3psaWIvenN0cmVhbS5qcyIsICJub2RlX21vZHVsZXMvcGFrby9saWIvZGVmbGF0ZS5qcyIsICJub2RlX21vZHVsZXMvcGFrby9saWIvemxpYi9pbmZmYXN0LmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi96bGliL2luZnRyZWVzLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi96bGliL2luZmxhdGUuanMiLCAibm9kZV9tb2R1bGVzL3Bha28vbGliL3psaWIvY29uc3RhbnRzLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi96bGliL2d6aGVhZGVyLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi9pbmZsYXRlLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9maWxlLXNhdmVyL2Rpc3QvLi4vc3JjL0ZpbGVTYXZlci5qcyIsICJub2RlX21vZHVsZXMvcGljYS9kaXN0L3BpY2EuanMiLCAibm9kZV9tb2R1bGVzL3VwbmctanMvVVBORy5qcyIsICJub2RlX21vZHVsZXMvcHJlYWN0L2Rpc3QvLi4vc3JjL2NvbnN0YW50cy5qcyIsICJub2RlX21vZHVsZXMvcHJlYWN0L2Rpc3QvLi4vc3JjL29wdGlvbnMuanMiLCAibm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0Ly4uL3NyYy9jcmVhdGUtZWxlbWVudC5qcyIsICJub2RlX21vZHVsZXMvcHJlYWN0L2Rpc3QvLi4vc3JjL2NvbXBvbmVudC5qcyIsICJub2RlX21vZHVsZXMvcHJlYWN0L2Rpc3QvLi4vc3JjL3JlbmRlci5qcyIsICJub2RlX21vZHVsZXMvcHJlYWN0L2Rpc3QvLi4vc3JjL2NyZWF0ZS1jb250ZXh0LmpzIiwgIm5vZGVfbW9kdWxlcy9wcmVhY3QvZGlzdC8uLi9zcmMvdXRpbC5qcyIsICJub2RlX21vZHVsZXMvcHJlYWN0L2Rpc3QvLi4vc3JjL2RpZmYvY2hpbGRyZW4uanMiLCAibm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0Ly4uL3NyYy9kaWZmL3Byb3BzLmpzIiwgIm5vZGVfbW9kdWxlcy9wcmVhY3QvZGlzdC8uLi9zcmMvZGlmZi9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvcHJlYWN0L2Rpc3QvLi4vc3JjL2Nsb25lLWVsZW1lbnQuanMiLCAibm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0Ly4uL3NyYy9kaWZmL2NhdGNoLWVycm9yLmpzIiwgInNyYy91dGlscy9jc3MudHMiLCAibm9kZV9tb2R1bGVzL3ByZWFjdC1yZW5kZXItdG8tc3RyaW5nL2Rpc3QvLi4vc3JjL3V0aWwuanMiLCAibm9kZV9tb2R1bGVzL3ByZWFjdC1yZW5kZXItdG8tc3RyaW5nL2Rpc3QvLi4vc3JjL2luZGV4LmpzIiwgInNyYy9vdXRwdXRSZW5kZXIudHN4IiwgInNyYy9jb25zdGFudHMudHMiLCAic3JjL2NvbXBvbmVudHMvSGVhZGVyLnRzeCIsICJzcmMvY29tcG9uZW50cy9SZXNwb25zaXZlVmlldy50c3giLCAic3JjL2NvbXBvbmVudHMvRnJhbWVTZWxlY3Rpb24udHN4IiwgInNyYy9jb21wb25lbnRzL1NhdmUudHN4IiwgInNyYy91dGlscy9saWIvdG9vbHMudHMiLCAic3JjL3V0aWxzL2xpYi9wYXRoLnRzIiwgInNyYy91dGlscy9saWIvc2hhcGVUb1BhdGgudHMiLCAic3JjL3V0aWxzL2NydW5jaFN2Zy50cyIsICJzcmMvdXRpbHMvc3ZnLnRzIiwgInNyYy91dGlscy9tZXNzYWdlcy50cyIsICJzcmMvY29tcG9uZW50cy9BcHAudHN4IiwgInNyYy9oZWxwZXJzL2ltYWdlSGVscGVyLnRzIiwgInNyYy9oZWxwZXJzLnRzIiwgInNyYy91aS50c3giXSwKICAic291cmNlc0NvbnRlbnQiOiBbIid1c2Ugc3RyaWN0JztcblxuXG52YXIgVFlQRURfT0sgPSAgKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJykgJiZcbiAgICAgICAgICAgICAgICAodHlwZW9mIFVpbnQxNkFycmF5ICE9PSAndW5kZWZpbmVkJykgJiZcbiAgICAgICAgICAgICAgICAodHlwZW9mIEludDMyQXJyYXkgIT09ICd1bmRlZmluZWQnKTtcblxuZnVuY3Rpb24gX2hhcyhvYmosIGtleSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cblxuZXhwb3J0cy5hc3NpZ24gPSBmdW5jdGlvbiAob2JqIC8qZnJvbTEsIGZyb20yLCBmcm9tMywgLi4uKi8pIHtcbiAgdmFyIHNvdXJjZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICB3aGlsZSAoc291cmNlcy5sZW5ndGgpIHtcbiAgICB2YXIgc291cmNlID0gc291cmNlcy5zaGlmdCgpO1xuICAgIGlmICghc291cmNlKSB7IGNvbnRpbnVlOyB9XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3Ioc291cmNlICsgJ211c3QgYmUgbm9uLW9iamVjdCcpO1xuICAgIH1cblxuICAgIGZvciAodmFyIHAgaW4gc291cmNlKSB7XG4gICAgICBpZiAoX2hhcyhzb3VyY2UsIHApKSB7XG4gICAgICAgIG9ialtwXSA9IHNvdXJjZVtwXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxuXG4vLyByZWR1Y2UgYnVmZmVyIHNpemUsIGF2b2lkaW5nIG1lbSBjb3B5XG5leHBvcnRzLnNocmlua0J1ZiA9IGZ1bmN0aW9uIChidWYsIHNpemUpIHtcbiAgaWYgKGJ1Zi5sZW5ndGggPT09IHNpemUpIHsgcmV0dXJuIGJ1ZjsgfVxuICBpZiAoYnVmLnN1YmFycmF5KSB7IHJldHVybiBidWYuc3ViYXJyYXkoMCwgc2l6ZSk7IH1cbiAgYnVmLmxlbmd0aCA9IHNpemU7XG4gIHJldHVybiBidWY7XG59O1xuXG5cbnZhciBmblR5cGVkID0ge1xuICBhcnJheVNldDogZnVuY3Rpb24gKGRlc3QsIHNyYywgc3JjX29mZnMsIGxlbiwgZGVzdF9vZmZzKSB7XG4gICAgaWYgKHNyYy5zdWJhcnJheSAmJiBkZXN0LnN1YmFycmF5KSB7XG4gICAgICBkZXN0LnNldChzcmMuc3ViYXJyYXkoc3JjX29mZnMsIHNyY19vZmZzICsgbGVuKSwgZGVzdF9vZmZzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gRmFsbGJhY2sgdG8gb3JkaW5hcnkgYXJyYXlcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBkZXN0W2Rlc3Rfb2ZmcyArIGldID0gc3JjW3NyY19vZmZzICsgaV07XG4gICAgfVxuICB9LFxuICAvLyBKb2luIGFycmF5IG9mIGNodW5rcyB0byBzaW5nbGUgYXJyYXkuXG4gIGZsYXR0ZW5DaHVua3M6IGZ1bmN0aW9uIChjaHVua3MpIHtcbiAgICB2YXIgaSwgbCwgbGVuLCBwb3MsIGNodW5rLCByZXN1bHQ7XG5cbiAgICAvLyBjYWxjdWxhdGUgZGF0YSBsZW5ndGhcbiAgICBsZW4gPSAwO1xuICAgIGZvciAoaSA9IDAsIGwgPSBjaHVua3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBsZW4gKz0gY2h1bmtzW2ldLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvLyBqb2luIGNodW5rc1xuICAgIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gICAgcG9zID0gMDtcbiAgICBmb3IgKGkgPSAwLCBsID0gY2h1bmtzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY2h1bmsgPSBjaHVua3NbaV07XG4gICAgICByZXN1bHQuc2V0KGNodW5rLCBwb3MpO1xuICAgICAgcG9zICs9IGNodW5rLmxlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuXG52YXIgZm5VbnR5cGVkID0ge1xuICBhcnJheVNldDogZnVuY3Rpb24gKGRlc3QsIHNyYywgc3JjX29mZnMsIGxlbiwgZGVzdF9vZmZzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgZGVzdFtkZXN0X29mZnMgKyBpXSA9IHNyY1tzcmNfb2ZmcyArIGldO1xuICAgIH1cbiAgfSxcbiAgLy8gSm9pbiBhcnJheSBvZiBjaHVua3MgdG8gc2luZ2xlIGFycmF5LlxuICBmbGF0dGVuQ2h1bmtzOiBmdW5jdGlvbiAoY2h1bmtzKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdC5hcHBseShbXSwgY2h1bmtzKTtcbiAgfVxufTtcblxuXG4vLyBFbmFibGUvRGlzYWJsZSB0eXBlZCBhcnJheXMgdXNlLCBmb3IgdGVzdGluZ1xuLy9cbmV4cG9ydHMuc2V0VHlwZWQgPSBmdW5jdGlvbiAob24pIHtcbiAgaWYgKG9uKSB7XG4gICAgZXhwb3J0cy5CdWY4ICA9IFVpbnQ4QXJyYXk7XG4gICAgZXhwb3J0cy5CdWYxNiA9IFVpbnQxNkFycmF5O1xuICAgIGV4cG9ydHMuQnVmMzIgPSBJbnQzMkFycmF5O1xuICAgIGV4cG9ydHMuYXNzaWduKGV4cG9ydHMsIGZuVHlwZWQpO1xuICB9IGVsc2Uge1xuICAgIGV4cG9ydHMuQnVmOCAgPSBBcnJheTtcbiAgICBleHBvcnRzLkJ1ZjE2ID0gQXJyYXk7XG4gICAgZXhwb3J0cy5CdWYzMiA9IEFycmF5O1xuICAgIGV4cG9ydHMuYXNzaWduKGV4cG9ydHMsIGZuVW50eXBlZCk7XG4gIH1cbn07XG5cbmV4cG9ydHMuc2V0VHlwZWQoVFlQRURfT0spO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG4vKiBlc2xpbnQtZGlzYWJsZSBzcGFjZS11bmFyeS1vcHMgKi9cblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvY29tbW9uJyk7XG5cbi8qIFB1YmxpYyBjb25zdGFudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbi8vdmFyIFpfRklMVEVSRUQgICAgICAgICAgPSAxO1xuLy92YXIgWl9IVUZGTUFOX09OTFkgICAgICA9IDI7XG4vL3ZhciBaX1JMRSAgICAgICAgICAgICAgID0gMztcbnZhciBaX0ZJWEVEICAgICAgICAgICAgICAgPSA0O1xuLy92YXIgWl9ERUZBVUxUX1NUUkFURUdZICA9IDA7XG5cbi8qIFBvc3NpYmxlIHZhbHVlcyBvZiB0aGUgZGF0YV90eXBlIGZpZWxkICh0aG91Z2ggc2VlIGluZmxhdGUoKSkgKi9cbnZhciBaX0JJTkFSWSAgICAgICAgICAgICAgPSAwO1xudmFyIFpfVEVYVCAgICAgICAgICAgICAgICA9IDE7XG4vL3ZhciBaX0FTQ0lJICAgICAgICAgICAgID0gMTsgLy8gPSBaX1RFWFRcbnZhciBaX1VOS05PV04gICAgICAgICAgICAgPSAyO1xuXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbmZ1bmN0aW9uIHplcm8oYnVmKSB7IHZhciBsZW4gPSBidWYubGVuZ3RoOyB3aGlsZSAoLS1sZW4gPj0gMCkgeyBidWZbbGVuXSA9IDA7IH0gfVxuXG4vLyBGcm9tIHp1dGlsLmhcblxudmFyIFNUT1JFRF9CTE9DSyA9IDA7XG52YXIgU1RBVElDX1RSRUVTID0gMTtcbnZhciBEWU5fVFJFRVMgICAgPSAyO1xuLyogVGhlIHRocmVlIGtpbmRzIG9mIGJsb2NrIHR5cGUgKi9cblxudmFyIE1JTl9NQVRDSCAgICA9IDM7XG52YXIgTUFYX01BVENIICAgID0gMjU4O1xuLyogVGhlIG1pbmltdW0gYW5kIG1heGltdW0gbWF0Y2ggbGVuZ3RocyAqL1xuXG4vLyBGcm9tIGRlZmxhdGUuaFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbnRlcm5hbCBjb21wcmVzc2lvbiBzdGF0ZS5cbiAqL1xuXG52YXIgTEVOR1RIX0NPREVTICA9IDI5O1xuLyogbnVtYmVyIG9mIGxlbmd0aCBjb2Rlcywgbm90IGNvdW50aW5nIHRoZSBzcGVjaWFsIEVORF9CTE9DSyBjb2RlICovXG5cbnZhciBMSVRFUkFMUyAgICAgID0gMjU2O1xuLyogbnVtYmVyIG9mIGxpdGVyYWwgYnl0ZXMgMC4uMjU1ICovXG5cbnZhciBMX0NPREVTICAgICAgID0gTElURVJBTFMgKyAxICsgTEVOR1RIX0NPREVTO1xuLyogbnVtYmVyIG9mIExpdGVyYWwgb3IgTGVuZ3RoIGNvZGVzLCBpbmNsdWRpbmcgdGhlIEVORF9CTE9DSyBjb2RlICovXG5cbnZhciBEX0NPREVTICAgICAgID0gMzA7XG4vKiBudW1iZXIgb2YgZGlzdGFuY2UgY29kZXMgKi9cblxudmFyIEJMX0NPREVTICAgICAgPSAxOTtcbi8qIG51bWJlciBvZiBjb2RlcyB1c2VkIHRvIHRyYW5zZmVyIHRoZSBiaXQgbGVuZ3RocyAqL1xuXG52YXIgSEVBUF9TSVpFICAgICA9IDIgKiBMX0NPREVTICsgMTtcbi8qIG1heGltdW0gaGVhcCBzaXplICovXG5cbnZhciBNQVhfQklUUyAgICAgID0gMTU7XG4vKiBBbGwgY29kZXMgbXVzdCBub3QgZXhjZWVkIE1BWF9CSVRTIGJpdHMgKi9cblxudmFyIEJ1Zl9zaXplICAgICAgPSAxNjtcbi8qIHNpemUgb2YgYml0IGJ1ZmZlciBpbiBiaV9idWYgKi9cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvbnN0YW50c1xuICovXG5cbnZhciBNQVhfQkxfQklUUyA9IDc7XG4vKiBCaXQgbGVuZ3RoIGNvZGVzIG11c3Qgbm90IGV4Y2VlZCBNQVhfQkxfQklUUyBiaXRzICovXG5cbnZhciBFTkRfQkxPQ0sgICA9IDI1Njtcbi8qIGVuZCBvZiBibG9jayBsaXRlcmFsIGNvZGUgKi9cblxudmFyIFJFUF8zXzYgICAgID0gMTY7XG4vKiByZXBlYXQgcHJldmlvdXMgYml0IGxlbmd0aCAzLTYgdGltZXMgKDIgYml0cyBvZiByZXBlYXQgY291bnQpICovXG5cbnZhciBSRVBaXzNfMTAgICA9IDE3O1xuLyogcmVwZWF0IGEgemVybyBsZW5ndGggMy0xMCB0aW1lcyAgKDMgYml0cyBvZiByZXBlYXQgY291bnQpICovXG5cbnZhciBSRVBaXzExXzEzOCA9IDE4O1xuLyogcmVwZWF0IGEgemVybyBsZW5ndGggMTEtMTM4IHRpbWVzICAoNyBiaXRzIG9mIHJlcGVhdCBjb3VudCkgKi9cblxuLyogZXNsaW50LWRpc2FibGUgY29tbWEtc3BhY2luZyxhcnJheS1icmFja2V0LXNwYWNpbmcgKi9cbnZhciBleHRyYV9sYml0cyA9ICAgLyogZXh0cmEgYml0cyBmb3IgZWFjaCBsZW5ndGggY29kZSAqL1xuICBbMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwXTtcblxudmFyIGV4dHJhX2RiaXRzID0gICAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGRpc3RhbmNlIGNvZGUgKi9cbiAgWzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTNdO1xuXG52YXIgZXh0cmFfYmxiaXRzID0gIC8qIGV4dHJhIGJpdHMgZm9yIGVhY2ggYml0IGxlbmd0aCBjb2RlICovXG4gIFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XTtcblxudmFyIGJsX29yZGVyID1cbiAgWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdO1xuLyogZXNsaW50LWVuYWJsZSBjb21tYS1zcGFjaW5nLGFycmF5LWJyYWNrZXQtc3BhY2luZyAqL1xuXG4vKiBUaGUgbGVuZ3RocyBvZiB0aGUgYml0IGxlbmd0aCBjb2RlcyBhcmUgc2VudCBpbiBvcmRlciBvZiBkZWNyZWFzaW5nXG4gKiBwcm9iYWJpbGl0eSwgdG8gYXZvaWQgdHJhbnNtaXR0aW5nIHRoZSBsZW5ndGhzIGZvciB1bnVzZWQgYml0IGxlbmd0aCBjb2Rlcy5cbiAqL1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIExvY2FsIGRhdGEuIFRoZXNlIGFyZSBpbml0aWFsaXplZCBvbmx5IG9uY2UuXG4gKi9cblxuLy8gV2UgcHJlLWZpbGwgYXJyYXlzIHdpdGggMCB0byBhdm9pZCB1bmluaXRpYWxpemVkIGdhcHNcblxudmFyIERJU1RfQ09ERV9MRU4gPSA1MTI7IC8qIHNlZSBkZWZpbml0aW9uIG9mIGFycmF5IGRpc3RfY29kZSBiZWxvdyAqL1xuXG4vLyAhISEhIFVzZSBmbGF0IGFycmF5IGluc3RlYWQgb2Ygc3RydWN0dXJlLCBGcmVxID0gaSoyLCBMZW4gPSBpKjIrMVxudmFyIHN0YXRpY19sdHJlZSAgPSBuZXcgQXJyYXkoKExfQ09ERVMgKyAyKSAqIDIpO1xuemVybyhzdGF0aWNfbHRyZWUpO1xuLyogVGhlIHN0YXRpYyBsaXRlcmFsIHRyZWUuIFNpbmNlIHRoZSBiaXQgbGVuZ3RocyBhcmUgaW1wb3NlZCwgdGhlcmUgaXMgbm9cbiAqIG5lZWQgZm9yIHRoZSBMX0NPREVTIGV4dHJhIGNvZGVzIHVzZWQgZHVyaW5nIGhlYXAgY29uc3RydWN0aW9uLiBIb3dldmVyXG4gKiBUaGUgY29kZXMgMjg2IGFuZCAyODcgYXJlIG5lZWRlZCB0byBidWlsZCBhIGNhbm9uaWNhbCB0cmVlIChzZWUgX3RyX2luaXRcbiAqIGJlbG93KS5cbiAqL1xuXG52YXIgc3RhdGljX2R0cmVlICA9IG5ldyBBcnJheShEX0NPREVTICogMik7XG56ZXJvKHN0YXRpY19kdHJlZSk7XG4vKiBUaGUgc3RhdGljIGRpc3RhbmNlIHRyZWUuIChBY3R1YWxseSBhIHRyaXZpYWwgdHJlZSBzaW5jZSBhbGwgY29kZXMgdXNlXG4gKiA1IGJpdHMuKVxuICovXG5cbnZhciBfZGlzdF9jb2RlICAgID0gbmV3IEFycmF5KERJU1RfQ09ERV9MRU4pO1xuemVybyhfZGlzdF9jb2RlKTtcbi8qIERpc3RhbmNlIGNvZGVzLiBUaGUgZmlyc3QgMjU2IHZhbHVlcyBjb3JyZXNwb25kIHRvIHRoZSBkaXN0YW5jZXNcbiAqIDMgLi4gMjU4LCB0aGUgbGFzdCAyNTYgdmFsdWVzIGNvcnJlc3BvbmQgdG8gdGhlIHRvcCA4IGJpdHMgb2ZcbiAqIHRoZSAxNSBiaXQgZGlzdGFuY2VzLlxuICovXG5cbnZhciBfbGVuZ3RoX2NvZGUgID0gbmV3IEFycmF5KE1BWF9NQVRDSCAtIE1JTl9NQVRDSCArIDEpO1xuemVybyhfbGVuZ3RoX2NvZGUpO1xuLyogbGVuZ3RoIGNvZGUgZm9yIGVhY2ggbm9ybWFsaXplZCBtYXRjaCBsZW5ndGggKDAgPT0gTUlOX01BVENIKSAqL1xuXG52YXIgYmFzZV9sZW5ndGggICA9IG5ldyBBcnJheShMRU5HVEhfQ09ERVMpO1xuemVybyhiYXNlX2xlbmd0aCk7XG4vKiBGaXJzdCBub3JtYWxpemVkIGxlbmd0aCBmb3IgZWFjaCBjb2RlICgwID0gTUlOX01BVENIKSAqL1xuXG52YXIgYmFzZV9kaXN0ICAgICA9IG5ldyBBcnJheShEX0NPREVTKTtcbnplcm8oYmFzZV9kaXN0KTtcbi8qIEZpcnN0IG5vcm1hbGl6ZWQgZGlzdGFuY2UgZm9yIGVhY2ggY29kZSAoMCA9IGRpc3RhbmNlIG9mIDEpICovXG5cblxuZnVuY3Rpb24gU3RhdGljVHJlZURlc2Moc3RhdGljX3RyZWUsIGV4dHJhX2JpdHMsIGV4dHJhX2Jhc2UsIGVsZW1zLCBtYXhfbGVuZ3RoKSB7XG5cbiAgdGhpcy5zdGF0aWNfdHJlZSAgPSBzdGF0aWNfdHJlZTsgIC8qIHN0YXRpYyB0cmVlIG9yIE5VTEwgKi9cbiAgdGhpcy5leHRyYV9iaXRzICAgPSBleHRyYV9iaXRzOyAgIC8qIGV4dHJhIGJpdHMgZm9yIGVhY2ggY29kZSBvciBOVUxMICovXG4gIHRoaXMuZXh0cmFfYmFzZSAgID0gZXh0cmFfYmFzZTsgICAvKiBiYXNlIGluZGV4IGZvciBleHRyYV9iaXRzICovXG4gIHRoaXMuZWxlbXMgICAgICAgID0gZWxlbXM7ICAgICAgICAvKiBtYXggbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSB0cmVlICovXG4gIHRoaXMubWF4X2xlbmd0aCAgID0gbWF4X2xlbmd0aDsgICAvKiBtYXggYml0IGxlbmd0aCBmb3IgdGhlIGNvZGVzICovXG5cbiAgLy8gc2hvdyBpZiBgc3RhdGljX3RyZWVgIGhhcyBkYXRhIG9yIGR1bW15IC0gbmVlZGVkIGZvciBtb25vbW9ycGhpYyBvYmplY3RzXG4gIHRoaXMuaGFzX3N0cmVlICAgID0gc3RhdGljX3RyZWUgJiYgc3RhdGljX3RyZWUubGVuZ3RoO1xufVxuXG5cbnZhciBzdGF0aWNfbF9kZXNjO1xudmFyIHN0YXRpY19kX2Rlc2M7XG52YXIgc3RhdGljX2JsX2Rlc2M7XG5cblxuZnVuY3Rpb24gVHJlZURlc2MoZHluX3RyZWUsIHN0YXRfZGVzYykge1xuICB0aGlzLmR5bl90cmVlID0gZHluX3RyZWU7ICAgICAvKiB0aGUgZHluYW1pYyB0cmVlICovXG4gIHRoaXMubWF4X2NvZGUgPSAwOyAgICAgICAgICAgIC8qIGxhcmdlc3QgY29kZSB3aXRoIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuICB0aGlzLnN0YXRfZGVzYyA9IHN0YXRfZGVzYzsgICAvKiB0aGUgY29ycmVzcG9uZGluZyBzdGF0aWMgdHJlZSAqL1xufVxuXG5cblxuZnVuY3Rpb24gZF9jb2RlKGRpc3QpIHtcbiAgcmV0dXJuIGRpc3QgPCAyNTYgPyBfZGlzdF9jb2RlW2Rpc3RdIDogX2Rpc3RfY29kZVsyNTYgKyAoZGlzdCA+Pj4gNyldO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogT3V0cHV0IGEgc2hvcnQgTFNCIGZpcnN0IG9uIHRoZSBzdHJlYW0uXG4gKiBJTiBhc3NlcnRpb246IHRoZXJlIGlzIGVub3VnaCByb29tIGluIHBlbmRpbmdCdWYuXG4gKi9cbmZ1bmN0aW9uIHB1dF9zaG9ydChzLCB3KSB7XG4vLyAgICBwdXRfYnl0ZShzLCAodWNoKSgodykgJiAweGZmKSk7XG4vLyAgICBwdXRfYnl0ZShzLCAodWNoKSgodXNoKSh3KSA+PiA4KSk7XG4gIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gKHcpICYgMHhmZjtcbiAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSAodyA+Pj4gOCkgJiAweGZmO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2VuZCBhIHZhbHVlIG9uIGEgZ2l2ZW4gbnVtYmVyIG9mIGJpdHMuXG4gKiBJTiBhc3NlcnRpb246IGxlbmd0aCA8PSAxNiBhbmQgdmFsdWUgZml0cyBpbiBsZW5ndGggYml0cy5cbiAqL1xuZnVuY3Rpb24gc2VuZF9iaXRzKHMsIHZhbHVlLCBsZW5ndGgpIHtcbiAgaWYgKHMuYmlfdmFsaWQgPiAoQnVmX3NpemUgLSBsZW5ndGgpKSB7XG4gICAgcy5iaV9idWYgfD0gKHZhbHVlIDw8IHMuYmlfdmFsaWQpICYgMHhmZmZmO1xuICAgIHB1dF9zaG9ydChzLCBzLmJpX2J1Zik7XG4gICAgcy5iaV9idWYgPSB2YWx1ZSA+PiAoQnVmX3NpemUgLSBzLmJpX3ZhbGlkKTtcbiAgICBzLmJpX3ZhbGlkICs9IGxlbmd0aCAtIEJ1Zl9zaXplO1xuICB9IGVsc2Uge1xuICAgIHMuYmlfYnVmIHw9ICh2YWx1ZSA8PCBzLmJpX3ZhbGlkKSAmIDB4ZmZmZjtcbiAgICBzLmJpX3ZhbGlkICs9IGxlbmd0aDtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHNlbmRfY29kZShzLCBjLCB0cmVlKSB7XG4gIHNlbmRfYml0cyhzLCB0cmVlW2MgKiAyXS8qLkNvZGUqLywgdHJlZVtjICogMiArIDFdLyouTGVuKi8pO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogUmV2ZXJzZSB0aGUgZmlyc3QgbGVuIGJpdHMgb2YgYSBjb2RlLCB1c2luZyBzdHJhaWdodGZvcndhcmQgY29kZSAoYSBmYXN0ZXJcbiAqIG1ldGhvZCB3b3VsZCB1c2UgYSB0YWJsZSlcbiAqIElOIGFzc2VydGlvbjogMSA8PSBsZW4gPD0gMTVcbiAqL1xuZnVuY3Rpb24gYmlfcmV2ZXJzZShjb2RlLCBsZW4pIHtcbiAgdmFyIHJlcyA9IDA7XG4gIGRvIHtcbiAgICByZXMgfD0gY29kZSAmIDE7XG4gICAgY29kZSA+Pj49IDE7XG4gICAgcmVzIDw8PSAxO1xuICB9IHdoaWxlICgtLWxlbiA+IDApO1xuICByZXR1cm4gcmVzID4+PiAxO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRmx1c2ggdGhlIGJpdCBidWZmZXIsIGtlZXBpbmcgYXQgbW9zdCA3IGJpdHMgaW4gaXQuXG4gKi9cbmZ1bmN0aW9uIGJpX2ZsdXNoKHMpIHtcbiAgaWYgKHMuYmlfdmFsaWQgPT09IDE2KSB7XG4gICAgcHV0X3Nob3J0KHMsIHMuYmlfYnVmKTtcbiAgICBzLmJpX2J1ZiA9IDA7XG4gICAgcy5iaV92YWxpZCA9IDA7XG5cbiAgfSBlbHNlIGlmIChzLmJpX3ZhbGlkID49IDgpIHtcbiAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IHMuYmlfYnVmICYgMHhmZjtcbiAgICBzLmJpX2J1ZiA+Pj0gODtcbiAgICBzLmJpX3ZhbGlkIC09IDg7XG4gIH1cbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvbXB1dGUgdGhlIG9wdGltYWwgYml0IGxlbmd0aHMgZm9yIGEgdHJlZSBhbmQgdXBkYXRlIHRoZSB0b3RhbCBiaXQgbGVuZ3RoXG4gKiBmb3IgdGhlIGN1cnJlbnQgYmxvY2suXG4gKiBJTiBhc3NlcnRpb246IHRoZSBmaWVsZHMgZnJlcSBhbmQgZGFkIGFyZSBzZXQsIGhlYXBbaGVhcF9tYXhdIGFuZFxuICogICAgYWJvdmUgYXJlIHRoZSB0cmVlIG5vZGVzIHNvcnRlZCBieSBpbmNyZWFzaW5nIGZyZXF1ZW5jeS5cbiAqIE9VVCBhc3NlcnRpb25zOiB0aGUgZmllbGQgbGVuIGlzIHNldCB0byB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RoLCB0aGVcbiAqICAgICBhcnJheSBibF9jb3VudCBjb250YWlucyB0aGUgZnJlcXVlbmNpZXMgZm9yIGVhY2ggYml0IGxlbmd0aC5cbiAqICAgICBUaGUgbGVuZ3RoIG9wdF9sZW4gaXMgdXBkYXRlZDsgc3RhdGljX2xlbiBpcyBhbHNvIHVwZGF0ZWQgaWYgc3RyZWUgaXNcbiAqICAgICBub3QgbnVsbC5cbiAqL1xuZnVuY3Rpb24gZ2VuX2JpdGxlbihzLCBkZXNjKVxuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIHRyZWVfZGVzYyAqZGVzYzsgICAgLyogdGhlIHRyZWUgZGVzY3JpcHRvciAqL1xue1xuICB2YXIgdHJlZSAgICAgICAgICAgID0gZGVzYy5keW5fdHJlZTtcbiAgdmFyIG1heF9jb2RlICAgICAgICA9IGRlc2MubWF4X2NvZGU7XG4gIHZhciBzdHJlZSAgICAgICAgICAgPSBkZXNjLnN0YXRfZGVzYy5zdGF0aWNfdHJlZTtcbiAgdmFyIGhhc19zdHJlZSAgICAgICA9IGRlc2Muc3RhdF9kZXNjLmhhc19zdHJlZTtcbiAgdmFyIGV4dHJhICAgICAgICAgICA9IGRlc2Muc3RhdF9kZXNjLmV4dHJhX2JpdHM7XG4gIHZhciBiYXNlICAgICAgICAgICAgPSBkZXNjLnN0YXRfZGVzYy5leHRyYV9iYXNlO1xuICB2YXIgbWF4X2xlbmd0aCAgICAgID0gZGVzYy5zdGF0X2Rlc2MubWF4X2xlbmd0aDtcbiAgdmFyIGg7ICAgICAgICAgICAgICAvKiBoZWFwIGluZGV4ICovXG4gIHZhciBuLCBtOyAgICAgICAgICAgLyogaXRlcmF0ZSBvdmVyIHRoZSB0cmVlIGVsZW1lbnRzICovXG4gIHZhciBiaXRzOyAgICAgICAgICAgLyogYml0IGxlbmd0aCAqL1xuICB2YXIgeGJpdHM7ICAgICAgICAgIC8qIGV4dHJhIGJpdHMgKi9cbiAgdmFyIGY7ICAgICAgICAgICAgICAvKiBmcmVxdWVuY3kgKi9cbiAgdmFyIG92ZXJmbG93ID0gMDsgICAvKiBudW1iZXIgb2YgZWxlbWVudHMgd2l0aCBiaXQgbGVuZ3RoIHRvbyBsYXJnZSAqL1xuXG4gIGZvciAoYml0cyA9IDA7IGJpdHMgPD0gTUFYX0JJVFM7IGJpdHMrKykge1xuICAgIHMuYmxfY291bnRbYml0c10gPSAwO1xuICB9XG5cbiAgLyogSW4gYSBmaXJzdCBwYXNzLCBjb21wdXRlIHRoZSBvcHRpbWFsIGJpdCBsZW5ndGhzICh3aGljaCBtYXlcbiAgICogb3ZlcmZsb3cgaW4gdGhlIGNhc2Ugb2YgdGhlIGJpdCBsZW5ndGggdHJlZSkuXG4gICAqL1xuICB0cmVlW3MuaGVhcFtzLmhlYXBfbWF4XSAqIDIgKyAxXS8qLkxlbiovID0gMDsgLyogcm9vdCBvZiB0aGUgaGVhcCAqL1xuXG4gIGZvciAoaCA9IHMuaGVhcF9tYXggKyAxOyBoIDwgSEVBUF9TSVpFOyBoKyspIHtcbiAgICBuID0gcy5oZWFwW2hdO1xuICAgIGJpdHMgPSB0cmVlW3RyZWVbbiAqIDIgKyAxXS8qLkRhZCovICogMiArIDFdLyouTGVuKi8gKyAxO1xuICAgIGlmIChiaXRzID4gbWF4X2xlbmd0aCkge1xuICAgICAgYml0cyA9IG1heF9sZW5ndGg7XG4gICAgICBvdmVyZmxvdysrO1xuICAgIH1cbiAgICB0cmVlW24gKiAyICsgMV0vKi5MZW4qLyA9IGJpdHM7XG4gICAgLyogV2Ugb3ZlcndyaXRlIHRyZWVbbl0uRGFkIHdoaWNoIGlzIG5vIGxvbmdlciBuZWVkZWQgKi9cblxuICAgIGlmIChuID4gbWF4X2NvZGUpIHsgY29udGludWU7IH0gLyogbm90IGEgbGVhZiBub2RlICovXG5cbiAgICBzLmJsX2NvdW50W2JpdHNdKys7XG4gICAgeGJpdHMgPSAwO1xuICAgIGlmIChuID49IGJhc2UpIHtcbiAgICAgIHhiaXRzID0gZXh0cmFbbiAtIGJhc2VdO1xuICAgIH1cbiAgICBmID0gdHJlZVtuICogMl0vKi5GcmVxKi87XG4gICAgcy5vcHRfbGVuICs9IGYgKiAoYml0cyArIHhiaXRzKTtcbiAgICBpZiAoaGFzX3N0cmVlKSB7XG4gICAgICBzLnN0YXRpY19sZW4gKz0gZiAqIChzdHJlZVtuICogMiArIDFdLyouTGVuKi8gKyB4Yml0cyk7XG4gICAgfVxuICB9XG4gIGlmIChvdmVyZmxvdyA9PT0gMCkgeyByZXR1cm47IH1cblxuICAvLyBUcmFjZSgoc3RkZXJyLFwiXFxuYml0IGxlbmd0aCBvdmVyZmxvd1xcblwiKSk7XG4gIC8qIFRoaXMgaGFwcGVucyBmb3IgZXhhbXBsZSBvbiBvYmoyIGFuZCBwaWMgb2YgdGhlIENhbGdhcnkgY29ycHVzICovXG5cbiAgLyogRmluZCB0aGUgZmlyc3QgYml0IGxlbmd0aCB3aGljaCBjb3VsZCBpbmNyZWFzZTogKi9cbiAgZG8ge1xuICAgIGJpdHMgPSBtYXhfbGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAocy5ibF9jb3VudFtiaXRzXSA9PT0gMCkgeyBiaXRzLS07IH1cbiAgICBzLmJsX2NvdW50W2JpdHNdLS07ICAgICAgLyogbW92ZSBvbmUgbGVhZiBkb3duIHRoZSB0cmVlICovXG4gICAgcy5ibF9jb3VudFtiaXRzICsgMV0gKz0gMjsgLyogbW92ZSBvbmUgb3ZlcmZsb3cgaXRlbSBhcyBpdHMgYnJvdGhlciAqL1xuICAgIHMuYmxfY291bnRbbWF4X2xlbmd0aF0tLTtcbiAgICAvKiBUaGUgYnJvdGhlciBvZiB0aGUgb3ZlcmZsb3cgaXRlbSBhbHNvIG1vdmVzIG9uZSBzdGVwIHVwLFxuICAgICAqIGJ1dCB0aGlzIGRvZXMgbm90IGFmZmVjdCBibF9jb3VudFttYXhfbGVuZ3RoXVxuICAgICAqL1xuICAgIG92ZXJmbG93IC09IDI7XG4gIH0gd2hpbGUgKG92ZXJmbG93ID4gMCk7XG5cbiAgLyogTm93IHJlY29tcHV0ZSBhbGwgYml0IGxlbmd0aHMsIHNjYW5uaW5nIGluIGluY3JlYXNpbmcgZnJlcXVlbmN5LlxuICAgKiBoIGlzIHN0aWxsIGVxdWFsIHRvIEhFQVBfU0laRS4gKEl0IGlzIHNpbXBsZXIgdG8gcmVjb25zdHJ1Y3QgYWxsXG4gICAqIGxlbmd0aHMgaW5zdGVhZCBvZiBmaXhpbmcgb25seSB0aGUgd3Jvbmcgb25lcy4gVGhpcyBpZGVhIGlzIHRha2VuXG4gICAqIGZyb20gJ2FyJyB3cml0dGVuIGJ5IEhhcnVoaWtvIE9rdW11cmEuKVxuICAgKi9cbiAgZm9yIChiaXRzID0gbWF4X2xlbmd0aDsgYml0cyAhPT0gMDsgYml0cy0tKSB7XG4gICAgbiA9IHMuYmxfY291bnRbYml0c107XG4gICAgd2hpbGUgKG4gIT09IDApIHtcbiAgICAgIG0gPSBzLmhlYXBbLS1oXTtcbiAgICAgIGlmIChtID4gbWF4X2NvZGUpIHsgY29udGludWU7IH1cbiAgICAgIGlmICh0cmVlW20gKiAyICsgMV0vKi5MZW4qLyAhPT0gYml0cykge1xuICAgICAgICAvLyBUcmFjZSgoc3RkZXJyLFwiY29kZSAlZCBiaXRzICVkLT4lZFxcblwiLCBtLCB0cmVlW21dLkxlbiwgYml0cykpO1xuICAgICAgICBzLm9wdF9sZW4gKz0gKGJpdHMgLSB0cmVlW20gKiAyICsgMV0vKi5MZW4qLykgKiB0cmVlW20gKiAyXS8qLkZyZXEqLztcbiAgICAgICAgdHJlZVttICogMiArIDFdLyouTGVuKi8gPSBiaXRzO1xuICAgICAgfVxuICAgICAgbi0tO1xuICAgIH1cbiAgfVxufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogR2VuZXJhdGUgdGhlIGNvZGVzIGZvciBhIGdpdmVuIHRyZWUgYW5kIGJpdCBjb3VudHMgKHdoaWNoIG5lZWQgbm90IGJlXG4gKiBvcHRpbWFsKS5cbiAqIElOIGFzc2VydGlvbjogdGhlIGFycmF5IGJsX2NvdW50IGNvbnRhaW5zIHRoZSBiaXQgbGVuZ3RoIHN0YXRpc3RpY3MgZm9yXG4gKiB0aGUgZ2l2ZW4gdHJlZSBhbmQgdGhlIGZpZWxkIGxlbiBpcyBzZXQgZm9yIGFsbCB0cmVlIGVsZW1lbnRzLlxuICogT1VUIGFzc2VydGlvbjogdGhlIGZpZWxkIGNvZGUgaXMgc2V0IGZvciBhbGwgdHJlZSBlbGVtZW50cyBvZiBub25cbiAqICAgICB6ZXJvIGNvZGUgbGVuZ3RoLlxuICovXG5mdW5jdGlvbiBnZW5fY29kZXModHJlZSwgbWF4X2NvZGUsIGJsX2NvdW50KVxuLy8gICAgY3RfZGF0YSAqdHJlZTsgICAgICAgICAgICAgLyogdGhlIHRyZWUgdG8gZGVjb3JhdGUgKi9cbi8vICAgIGludCBtYXhfY29kZTsgICAgICAgICAgICAgIC8qIGxhcmdlc3QgY29kZSB3aXRoIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuLy8gICAgdXNoZiAqYmxfY291bnQ7ICAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvZGVzIGF0IGVhY2ggYml0IGxlbmd0aCAqL1xue1xuICB2YXIgbmV4dF9jb2RlID0gbmV3IEFycmF5KE1BWF9CSVRTICsgMSk7IC8qIG5leHQgY29kZSB2YWx1ZSBmb3IgZWFjaCBiaXQgbGVuZ3RoICovXG4gIHZhciBjb2RlID0gMDsgICAgICAgICAgICAgIC8qIHJ1bm5pbmcgY29kZSB2YWx1ZSAqL1xuICB2YXIgYml0czsgICAgICAgICAgICAgICAgICAvKiBiaXQgaW5kZXggKi9cbiAgdmFyIG47ICAgICAgICAgICAgICAgICAgICAgLyogY29kZSBpbmRleCAqL1xuXG4gIC8qIFRoZSBkaXN0cmlidXRpb24gY291bnRzIGFyZSBmaXJzdCB1c2VkIHRvIGdlbmVyYXRlIHRoZSBjb2RlIHZhbHVlc1xuICAgKiB3aXRob3V0IGJpdCByZXZlcnNhbC5cbiAgICovXG4gIGZvciAoYml0cyA9IDE7IGJpdHMgPD0gTUFYX0JJVFM7IGJpdHMrKykge1xuICAgIG5leHRfY29kZVtiaXRzXSA9IGNvZGUgPSAoY29kZSArIGJsX2NvdW50W2JpdHMgLSAxXSkgPDwgMTtcbiAgfVxuICAvKiBDaGVjayB0aGF0IHRoZSBiaXQgY291bnRzIGluIGJsX2NvdW50IGFyZSBjb25zaXN0ZW50LiBUaGUgbGFzdCBjb2RlXG4gICAqIG11c3QgYmUgYWxsIG9uZXMuXG4gICAqL1xuICAvL0Fzc2VydCAoY29kZSArIGJsX2NvdW50W01BWF9CSVRTXS0xID09ICgxPDxNQVhfQklUUyktMSxcbiAgLy8gICAgICAgIFwiaW5jb25zaXN0ZW50IGJpdCBjb3VudHNcIik7XG4gIC8vVHJhY2V2KChzdGRlcnIsXCJcXG5nZW5fY29kZXM6IG1heF9jb2RlICVkIFwiLCBtYXhfY29kZSkpO1xuXG4gIGZvciAobiA9IDA7ICBuIDw9IG1heF9jb2RlOyBuKyspIHtcbiAgICB2YXIgbGVuID0gdHJlZVtuICogMiArIDFdLyouTGVuKi87XG4gICAgaWYgKGxlbiA9PT0gMCkgeyBjb250aW51ZTsgfVxuICAgIC8qIE5vdyByZXZlcnNlIHRoZSBiaXRzICovXG4gICAgdHJlZVtuICogMl0vKi5Db2RlKi8gPSBiaV9yZXZlcnNlKG5leHRfY29kZVtsZW5dKyssIGxlbik7XG5cbiAgICAvL1RyYWNlY3YodHJlZSAhPSBzdGF0aWNfbHRyZWUsIChzdGRlcnIsXCJcXG5uICUzZCAlYyBsICUyZCBjICU0eCAoJXgpIFwiLFxuICAgIC8vICAgICBuLCAoaXNncmFwaChuKSA/IG4gOiAnICcpLCBsZW4sIHRyZWVbbl0uQ29kZSwgbmV4dF9jb2RlW2xlbl0tMSkpO1xuICB9XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbml0aWFsaXplIHRoZSB2YXJpb3VzICdjb25zdGFudCcgdGFibGVzLlxuICovXG5mdW5jdGlvbiB0cl9zdGF0aWNfaW5pdCgpIHtcbiAgdmFyIG47ICAgICAgICAvKiBpdGVyYXRlcyBvdmVyIHRyZWUgZWxlbWVudHMgKi9cbiAgdmFyIGJpdHM7ICAgICAvKiBiaXQgY291bnRlciAqL1xuICB2YXIgbGVuZ3RoOyAgIC8qIGxlbmd0aCB2YWx1ZSAqL1xuICB2YXIgY29kZTsgICAgIC8qIGNvZGUgdmFsdWUgKi9cbiAgdmFyIGRpc3Q7ICAgICAvKiBkaXN0YW5jZSBpbmRleCAqL1xuICB2YXIgYmxfY291bnQgPSBuZXcgQXJyYXkoTUFYX0JJVFMgKyAxKTtcbiAgLyogbnVtYmVyIG9mIGNvZGVzIGF0IGVhY2ggYml0IGxlbmd0aCBmb3IgYW4gb3B0aW1hbCB0cmVlICovXG5cbiAgLy8gZG8gY2hlY2sgaW4gX3RyX2luaXQoKVxuICAvL2lmIChzdGF0aWNfaW5pdF9kb25lKSByZXR1cm47XG5cbiAgLyogRm9yIHNvbWUgZW1iZWRkZWQgdGFyZ2V0cywgZ2xvYmFsIHZhcmlhYmxlcyBhcmUgbm90IGluaXRpYWxpemVkOiAqL1xuLyojaWZkZWYgTk9fSU5JVF9HTE9CQUxfUE9JTlRFUlNcbiAgc3RhdGljX2xfZGVzYy5zdGF0aWNfdHJlZSA9IHN0YXRpY19sdHJlZTtcbiAgc3RhdGljX2xfZGVzYy5leHRyYV9iaXRzID0gZXh0cmFfbGJpdHM7XG4gIHN0YXRpY19kX2Rlc2Muc3RhdGljX3RyZWUgPSBzdGF0aWNfZHRyZWU7XG4gIHN0YXRpY19kX2Rlc2MuZXh0cmFfYml0cyA9IGV4dHJhX2RiaXRzO1xuICBzdGF0aWNfYmxfZGVzYy5leHRyYV9iaXRzID0gZXh0cmFfYmxiaXRzO1xuI2VuZGlmKi9cblxuICAvKiBJbml0aWFsaXplIHRoZSBtYXBwaW5nIGxlbmd0aCAoMC4uMjU1KSAtPiBsZW5ndGggY29kZSAoMC4uMjgpICovXG4gIGxlbmd0aCA9IDA7XG4gIGZvciAoY29kZSA9IDA7IGNvZGUgPCBMRU5HVEhfQ09ERVMgLSAxOyBjb2RlKyspIHtcbiAgICBiYXNlX2xlbmd0aFtjb2RlXSA9IGxlbmd0aDtcbiAgICBmb3IgKG4gPSAwOyBuIDwgKDEgPDwgZXh0cmFfbGJpdHNbY29kZV0pOyBuKyspIHtcbiAgICAgIF9sZW5ndGhfY29kZVtsZW5ndGgrK10gPSBjb2RlO1xuICAgIH1cbiAgfVxuICAvL0Fzc2VydCAobGVuZ3RoID09IDI1NiwgXCJ0cl9zdGF0aWNfaW5pdDogbGVuZ3RoICE9IDI1NlwiKTtcbiAgLyogTm90ZSB0aGF0IHRoZSBsZW5ndGggMjU1IChtYXRjaCBsZW5ndGggMjU4KSBjYW4gYmUgcmVwcmVzZW50ZWRcbiAgICogaW4gdHdvIGRpZmZlcmVudCB3YXlzOiBjb2RlIDI4NCArIDUgYml0cyBvciBjb2RlIDI4NSwgc28gd2VcbiAgICogb3ZlcndyaXRlIGxlbmd0aF9jb2RlWzI1NV0gdG8gdXNlIHRoZSBiZXN0IGVuY29kaW5nOlxuICAgKi9cbiAgX2xlbmd0aF9jb2RlW2xlbmd0aCAtIDFdID0gY29kZTtcblxuICAvKiBJbml0aWFsaXplIHRoZSBtYXBwaW5nIGRpc3QgKDAuLjMySykgLT4gZGlzdCBjb2RlICgwLi4yOSkgKi9cbiAgZGlzdCA9IDA7XG4gIGZvciAoY29kZSA9IDA7IGNvZGUgPCAxNjsgY29kZSsrKSB7XG4gICAgYmFzZV9kaXN0W2NvZGVdID0gZGlzdDtcbiAgICBmb3IgKG4gPSAwOyBuIDwgKDEgPDwgZXh0cmFfZGJpdHNbY29kZV0pOyBuKyspIHtcbiAgICAgIF9kaXN0X2NvZGVbZGlzdCsrXSA9IGNvZGU7XG4gICAgfVxuICB9XG4gIC8vQXNzZXJ0IChkaXN0ID09IDI1NiwgXCJ0cl9zdGF0aWNfaW5pdDogZGlzdCAhPSAyNTZcIik7XG4gIGRpc3QgPj49IDc7IC8qIGZyb20gbm93IG9uLCBhbGwgZGlzdGFuY2VzIGFyZSBkaXZpZGVkIGJ5IDEyOCAqL1xuICBmb3IgKDsgY29kZSA8IERfQ09ERVM7IGNvZGUrKykge1xuICAgIGJhc2VfZGlzdFtjb2RlXSA9IGRpc3QgPDwgNztcbiAgICBmb3IgKG4gPSAwOyBuIDwgKDEgPDwgKGV4dHJhX2RiaXRzW2NvZGVdIC0gNykpOyBuKyspIHtcbiAgICAgIF9kaXN0X2NvZGVbMjU2ICsgZGlzdCsrXSA9IGNvZGU7XG4gICAgfVxuICB9XG4gIC8vQXNzZXJ0IChkaXN0ID09IDI1NiwgXCJ0cl9zdGF0aWNfaW5pdDogMjU2K2Rpc3QgIT0gNTEyXCIpO1xuXG4gIC8qIENvbnN0cnVjdCB0aGUgY29kZXMgb2YgdGhlIHN0YXRpYyBsaXRlcmFsIHRyZWUgKi9cbiAgZm9yIChiaXRzID0gMDsgYml0cyA8PSBNQVhfQklUUzsgYml0cysrKSB7XG4gICAgYmxfY291bnRbYml0c10gPSAwO1xuICB9XG5cbiAgbiA9IDA7XG4gIHdoaWxlIChuIDw9IDE0Mykge1xuICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSA4O1xuICAgIG4rKztcbiAgICBibF9jb3VudFs4XSsrO1xuICB9XG4gIHdoaWxlIChuIDw9IDI1NSkge1xuICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSA5O1xuICAgIG4rKztcbiAgICBibF9jb3VudFs5XSsrO1xuICB9XG4gIHdoaWxlIChuIDw9IDI3OSkge1xuICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSA3O1xuICAgIG4rKztcbiAgICBibF9jb3VudFs3XSsrO1xuICB9XG4gIHdoaWxlIChuIDw9IDI4Nykge1xuICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSA4O1xuICAgIG4rKztcbiAgICBibF9jb3VudFs4XSsrO1xuICB9XG4gIC8qIENvZGVzIDI4NiBhbmQgMjg3IGRvIG5vdCBleGlzdCwgYnV0IHdlIG11c3QgaW5jbHVkZSB0aGVtIGluIHRoZVxuICAgKiB0cmVlIGNvbnN0cnVjdGlvbiB0byBnZXQgYSBjYW5vbmljYWwgSHVmZm1hbiB0cmVlIChsb25nZXN0IGNvZGVcbiAgICogYWxsIG9uZXMpXG4gICAqL1xuICBnZW5fY29kZXMoc3RhdGljX2x0cmVlLCBMX0NPREVTICsgMSwgYmxfY291bnQpO1xuXG4gIC8qIFRoZSBzdGF0aWMgZGlzdGFuY2UgdHJlZSBpcyB0cml2aWFsOiAqL1xuICBmb3IgKG4gPSAwOyBuIDwgRF9DT0RFUzsgbisrKSB7XG4gICAgc3RhdGljX2R0cmVlW24gKiAyICsgMV0vKi5MZW4qLyA9IDU7XG4gICAgc3RhdGljX2R0cmVlW24gKiAyXS8qLkNvZGUqLyA9IGJpX3JldmVyc2UobiwgNSk7XG4gIH1cblxuICAvLyBOb3cgZGF0YSByZWFkeSBhbmQgd2UgY2FuIGluaXQgc3RhdGljIHRyZWVzXG4gIHN0YXRpY19sX2Rlc2MgPSBuZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2x0cmVlLCBleHRyYV9sYml0cywgTElURVJBTFMgKyAxLCBMX0NPREVTLCBNQVhfQklUUyk7XG4gIHN0YXRpY19kX2Rlc2MgPSBuZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2R0cmVlLCBleHRyYV9kYml0cywgMCwgICAgICAgICAgRF9DT0RFUywgTUFYX0JJVFMpO1xuICBzdGF0aWNfYmxfZGVzYyA9IG5ldyBTdGF0aWNUcmVlRGVzYyhuZXcgQXJyYXkoMCksIGV4dHJhX2JsYml0cywgMCwgICAgICAgICBCTF9DT0RFUywgTUFYX0JMX0JJVFMpO1xuXG4gIC8vc3RhdGljX2luaXRfZG9uZSA9IHRydWU7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbml0aWFsaXplIGEgbmV3IGJsb2NrLlxuICovXG5mdW5jdGlvbiBpbml0X2Jsb2NrKHMpIHtcbiAgdmFyIG47IC8qIGl0ZXJhdGVzIG92ZXIgdHJlZSBlbGVtZW50cyAqL1xuXG4gIC8qIEluaXRpYWxpemUgdGhlIHRyZWVzLiAqL1xuICBmb3IgKG4gPSAwOyBuIDwgTF9DT0RFUzsgIG4rKykgeyBzLmR5bl9sdHJlZVtuICogMl0vKi5GcmVxKi8gPSAwOyB9XG4gIGZvciAobiA9IDA7IG4gPCBEX0NPREVTOyAgbisrKSB7IHMuZHluX2R0cmVlW24gKiAyXS8qLkZyZXEqLyA9IDA7IH1cbiAgZm9yIChuID0gMDsgbiA8IEJMX0NPREVTOyBuKyspIHsgcy5ibF90cmVlW24gKiAyXS8qLkZyZXEqLyA9IDA7IH1cblxuICBzLmR5bl9sdHJlZVtFTkRfQkxPQ0sgKiAyXS8qLkZyZXEqLyA9IDE7XG4gIHMub3B0X2xlbiA9IHMuc3RhdGljX2xlbiA9IDA7XG4gIHMubGFzdF9saXQgPSBzLm1hdGNoZXMgPSAwO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRmx1c2ggdGhlIGJpdCBidWZmZXIgYW5kIGFsaWduIHRoZSBvdXRwdXQgb24gYSBieXRlIGJvdW5kYXJ5XG4gKi9cbmZ1bmN0aW9uIGJpX3dpbmR1cChzKVxue1xuICBpZiAocy5iaV92YWxpZCA+IDgpIHtcbiAgICBwdXRfc2hvcnQocywgcy5iaV9idWYpO1xuICB9IGVsc2UgaWYgKHMuYmlfdmFsaWQgPiAwKSB7XG4gICAgLy9wdXRfYnl0ZShzLCAoQnl0ZSlzLT5iaV9idWYpO1xuICAgIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gcy5iaV9idWY7XG4gIH1cbiAgcy5iaV9idWYgPSAwO1xuICBzLmJpX3ZhbGlkID0gMDtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5IGEgc3RvcmVkIGJsb2NrLCBzdG9yaW5nIGZpcnN0IHRoZSBsZW5ndGggYW5kIGl0c1xuICogb25lJ3MgY29tcGxlbWVudCBpZiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGNvcHlfYmxvY2socywgYnVmLCBsZW4sIGhlYWRlcilcbi8vRGVmbGF0ZVN0YXRlICpzO1xuLy9jaGFyZiAgICAqYnVmOyAgICAvKiB0aGUgaW5wdXQgZGF0YSAqL1xuLy91bnNpZ25lZCBsZW47ICAgICAvKiBpdHMgbGVuZ3RoICovXG4vL2ludCAgICAgIGhlYWRlcjsgIC8qIHRydWUgaWYgYmxvY2sgaGVhZGVyIG11c3QgYmUgd3JpdHRlbiAqL1xue1xuICBiaV93aW5kdXAocyk7ICAgICAgICAvKiBhbGlnbiBvbiBieXRlIGJvdW5kYXJ5ICovXG5cbiAgaWYgKGhlYWRlcikge1xuICAgIHB1dF9zaG9ydChzLCBsZW4pO1xuICAgIHB1dF9zaG9ydChzLCB+bGVuKTtcbiAgfVxuLy8gIHdoaWxlIChsZW4tLSkge1xuLy8gICAgcHV0X2J5dGUocywgKmJ1ZisrKTtcbi8vICB9XG4gIHV0aWxzLmFycmF5U2V0KHMucGVuZGluZ19idWYsIHMud2luZG93LCBidWYsIGxlbiwgcy5wZW5kaW5nKTtcbiAgcy5wZW5kaW5nICs9IGxlbjtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb21wYXJlcyB0byBzdWJ0cmVlcywgdXNpbmcgdGhlIHRyZWUgZGVwdGggYXMgdGllIGJyZWFrZXIgd2hlblxuICogdGhlIHN1YnRyZWVzIGhhdmUgZXF1YWwgZnJlcXVlbmN5LiBUaGlzIG1pbmltaXplcyB0aGUgd29yc3QgY2FzZSBsZW5ndGguXG4gKi9cbmZ1bmN0aW9uIHNtYWxsZXIodHJlZSwgbiwgbSwgZGVwdGgpIHtcbiAgdmFyIF9uMiA9IG4gKiAyO1xuICB2YXIgX20yID0gbSAqIDI7XG4gIHJldHVybiAodHJlZVtfbjJdLyouRnJlcSovIDwgdHJlZVtfbTJdLyouRnJlcSovIHx8XG4gICAgICAgICAodHJlZVtfbjJdLyouRnJlcSovID09PSB0cmVlW19tMl0vKi5GcmVxKi8gJiYgZGVwdGhbbl0gPD0gZGVwdGhbbV0pKTtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBSZXN0b3JlIHRoZSBoZWFwIHByb3BlcnR5IGJ5IG1vdmluZyBkb3duIHRoZSB0cmVlIHN0YXJ0aW5nIGF0IG5vZGUgayxcbiAqIGV4Y2hhbmdpbmcgYSBub2RlIHdpdGggdGhlIHNtYWxsZXN0IG9mIGl0cyB0d28gc29ucyBpZiBuZWNlc3NhcnksIHN0b3BwaW5nXG4gKiB3aGVuIHRoZSBoZWFwIHByb3BlcnR5IGlzIHJlLWVzdGFibGlzaGVkIChlYWNoIGZhdGhlciBzbWFsbGVyIHRoYW4gaXRzXG4gKiB0d28gc29ucykuXG4gKi9cbmZ1bmN0aW9uIHBxZG93bmhlYXAocywgdHJlZSwgaylcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICBjdF9kYXRhICp0cmVlOyAgLyogdGhlIHRyZWUgdG8gcmVzdG9yZSAqL1xuLy8gICAgaW50IGs7ICAgICAgICAgICAgICAgLyogbm9kZSB0byBtb3ZlIGRvd24gKi9cbntcbiAgdmFyIHYgPSBzLmhlYXBba107XG4gIHZhciBqID0gayA8PCAxOyAgLyogbGVmdCBzb24gb2YgayAqL1xuICB3aGlsZSAoaiA8PSBzLmhlYXBfbGVuKSB7XG4gICAgLyogU2V0IGogdG8gdGhlIHNtYWxsZXN0IG9mIHRoZSB0d28gc29uczogKi9cbiAgICBpZiAoaiA8IHMuaGVhcF9sZW4gJiZcbiAgICAgIHNtYWxsZXIodHJlZSwgcy5oZWFwW2ogKyAxXSwgcy5oZWFwW2pdLCBzLmRlcHRoKSkge1xuICAgICAgaisrO1xuICAgIH1cbiAgICAvKiBFeGl0IGlmIHYgaXMgc21hbGxlciB0aGFuIGJvdGggc29ucyAqL1xuICAgIGlmIChzbWFsbGVyKHRyZWUsIHYsIHMuaGVhcFtqXSwgcy5kZXB0aCkpIHsgYnJlYWs7IH1cblxuICAgIC8qIEV4Y2hhbmdlIHYgd2l0aCB0aGUgc21hbGxlc3Qgc29uICovXG4gICAgcy5oZWFwW2tdID0gcy5oZWFwW2pdO1xuICAgIGsgPSBqO1xuXG4gICAgLyogQW5kIGNvbnRpbnVlIGRvd24gdGhlIHRyZWUsIHNldHRpbmcgaiB0byB0aGUgbGVmdCBzb24gb2YgayAqL1xuICAgIGogPDw9IDE7XG4gIH1cbiAgcy5oZWFwW2tdID0gdjtcbn1cblxuXG4vLyBpbmxpbmVkIG1hbnVhbGx5XG4vLyB2YXIgU01BTExFU1QgPSAxO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNlbmQgdGhlIGJsb2NrIGRhdGEgY29tcHJlc3NlZCB1c2luZyB0aGUgZ2l2ZW4gSHVmZm1hbiB0cmVlc1xuICovXG5mdW5jdGlvbiBjb21wcmVzc19ibG9jayhzLCBsdHJlZSwgZHRyZWUpXG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgY29uc3QgY3RfZGF0YSAqbHRyZWU7IC8qIGxpdGVyYWwgdHJlZSAqL1xuLy8gICAgY29uc3QgY3RfZGF0YSAqZHRyZWU7IC8qIGRpc3RhbmNlIHRyZWUgKi9cbntcbiAgdmFyIGRpc3Q7ICAgICAgICAgICAvKiBkaXN0YW5jZSBvZiBtYXRjaGVkIHN0cmluZyAqL1xuICB2YXIgbGM7ICAgICAgICAgICAgIC8qIG1hdGNoIGxlbmd0aCBvciB1bm1hdGNoZWQgY2hhciAoaWYgZGlzdCA9PSAwKSAqL1xuICB2YXIgbHggPSAwOyAgICAgICAgIC8qIHJ1bm5pbmcgaW5kZXggaW4gbF9idWYgKi9cbiAgdmFyIGNvZGU7ICAgICAgICAgICAvKiB0aGUgY29kZSB0byBzZW5kICovXG4gIHZhciBleHRyYTsgICAgICAgICAgLyogbnVtYmVyIG9mIGV4dHJhIGJpdHMgdG8gc2VuZCAqL1xuXG4gIGlmIChzLmxhc3RfbGl0ICE9PSAwKSB7XG4gICAgZG8ge1xuICAgICAgZGlzdCA9IChzLnBlbmRpbmdfYnVmW3MuZF9idWYgKyBseCAqIDJdIDw8IDgpIHwgKHMucGVuZGluZ19idWZbcy5kX2J1ZiArIGx4ICogMiArIDFdKTtcbiAgICAgIGxjID0gcy5wZW5kaW5nX2J1ZltzLmxfYnVmICsgbHhdO1xuICAgICAgbHgrKztcblxuICAgICAgaWYgKGRpc3QgPT09IDApIHtcbiAgICAgICAgc2VuZF9jb2RlKHMsIGxjLCBsdHJlZSk7IC8qIHNlbmQgYSBsaXRlcmFsIGJ5dGUgKi9cbiAgICAgICAgLy9UcmFjZWN2KGlzZ3JhcGgobGMpLCAoc3RkZXJyLFwiICclYycgXCIsIGxjKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBIZXJlLCBsYyBpcyB0aGUgbWF0Y2ggbGVuZ3RoIC0gTUlOX01BVENIICovXG4gICAgICAgIGNvZGUgPSBfbGVuZ3RoX2NvZGVbbGNdO1xuICAgICAgICBzZW5kX2NvZGUocywgY29kZSArIExJVEVSQUxTICsgMSwgbHRyZWUpOyAvKiBzZW5kIHRoZSBsZW5ndGggY29kZSAqL1xuICAgICAgICBleHRyYSA9IGV4dHJhX2xiaXRzW2NvZGVdO1xuICAgICAgICBpZiAoZXh0cmEgIT09IDApIHtcbiAgICAgICAgICBsYyAtPSBiYXNlX2xlbmd0aFtjb2RlXTtcbiAgICAgICAgICBzZW5kX2JpdHMocywgbGMsIGV4dHJhKTsgICAgICAgLyogc2VuZCB0aGUgZXh0cmEgbGVuZ3RoIGJpdHMgKi9cbiAgICAgICAgfVxuICAgICAgICBkaXN0LS07IC8qIGRpc3QgaXMgbm93IHRoZSBtYXRjaCBkaXN0YW5jZSAtIDEgKi9cbiAgICAgICAgY29kZSA9IGRfY29kZShkaXN0KTtcbiAgICAgICAgLy9Bc3NlcnQgKGNvZGUgPCBEX0NPREVTLCBcImJhZCBkX2NvZGVcIik7XG5cbiAgICAgICAgc2VuZF9jb2RlKHMsIGNvZGUsIGR0cmVlKTsgICAgICAgLyogc2VuZCB0aGUgZGlzdGFuY2UgY29kZSAqL1xuICAgICAgICBleHRyYSA9IGV4dHJhX2RiaXRzW2NvZGVdO1xuICAgICAgICBpZiAoZXh0cmEgIT09IDApIHtcbiAgICAgICAgICBkaXN0IC09IGJhc2VfZGlzdFtjb2RlXTtcbiAgICAgICAgICBzZW5kX2JpdHMocywgZGlzdCwgZXh0cmEpOyAgIC8qIHNlbmQgdGhlIGV4dHJhIGRpc3RhbmNlIGJpdHMgKi9cbiAgICAgICAgfVxuICAgICAgfSAvKiBsaXRlcmFsIG9yIG1hdGNoIHBhaXIgPyAqL1xuXG4gICAgICAvKiBDaGVjayB0aGF0IHRoZSBvdmVybGF5IGJldHdlZW4gcGVuZGluZ19idWYgYW5kIGRfYnVmK2xfYnVmIGlzIG9rOiAqL1xuICAgICAgLy9Bc3NlcnQoKHVJbnQpKHMtPnBlbmRpbmcpIDwgcy0+bGl0X2J1ZnNpemUgKyAyKmx4LFxuICAgICAgLy8gICAgICAgXCJwZW5kaW5nQnVmIG92ZXJmbG93XCIpO1xuXG4gICAgfSB3aGlsZSAobHggPCBzLmxhc3RfbGl0KTtcbiAgfVxuXG4gIHNlbmRfY29kZShzLCBFTkRfQkxPQ0ssIGx0cmVlKTtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvbnN0cnVjdCBvbmUgSHVmZm1hbiB0cmVlIGFuZCBhc3NpZ25zIHRoZSBjb2RlIGJpdCBzdHJpbmdzIGFuZCBsZW5ndGhzLlxuICogVXBkYXRlIHRoZSB0b3RhbCBiaXQgbGVuZ3RoIGZvciB0aGUgY3VycmVudCBibG9jay5cbiAqIElOIGFzc2VydGlvbjogdGhlIGZpZWxkIGZyZXEgaXMgc2V0IGZvciBhbGwgdHJlZSBlbGVtZW50cy5cbiAqIE9VVCBhc3NlcnRpb25zOiB0aGUgZmllbGRzIGxlbiBhbmQgY29kZSBhcmUgc2V0IHRvIHRoZSBvcHRpbWFsIGJpdCBsZW5ndGhcbiAqICAgICBhbmQgY29ycmVzcG9uZGluZyBjb2RlLiBUaGUgbGVuZ3RoIG9wdF9sZW4gaXMgdXBkYXRlZDsgc3RhdGljX2xlbiBpc1xuICogICAgIGFsc28gdXBkYXRlZCBpZiBzdHJlZSBpcyBub3QgbnVsbC4gVGhlIGZpZWxkIG1heF9jb2RlIGlzIHNldC5cbiAqL1xuZnVuY3Rpb24gYnVpbGRfdHJlZShzLCBkZXNjKVxuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIHRyZWVfZGVzYyAqZGVzYzsgLyogdGhlIHRyZWUgZGVzY3JpcHRvciAqL1xue1xuICB2YXIgdHJlZSAgICAgPSBkZXNjLmR5bl90cmVlO1xuICB2YXIgc3RyZWUgICAgPSBkZXNjLnN0YXRfZGVzYy5zdGF0aWNfdHJlZTtcbiAgdmFyIGhhc19zdHJlZSA9IGRlc2Muc3RhdF9kZXNjLmhhc19zdHJlZTtcbiAgdmFyIGVsZW1zICAgID0gZGVzYy5zdGF0X2Rlc2MuZWxlbXM7XG4gIHZhciBuLCBtOyAgICAgICAgICAvKiBpdGVyYXRlIG92ZXIgaGVhcCBlbGVtZW50cyAqL1xuICB2YXIgbWF4X2NvZGUgPSAtMTsgLyogbGFyZ2VzdCBjb2RlIHdpdGggbm9uIHplcm8gZnJlcXVlbmN5ICovXG4gIHZhciBub2RlOyAgICAgICAgICAvKiBuZXcgbm9kZSBiZWluZyBjcmVhdGVkICovXG5cbiAgLyogQ29uc3RydWN0IHRoZSBpbml0aWFsIGhlYXAsIHdpdGggbGVhc3QgZnJlcXVlbnQgZWxlbWVudCBpblxuICAgKiBoZWFwW1NNQUxMRVNUXS4gVGhlIHNvbnMgb2YgaGVhcFtuXSBhcmUgaGVhcFsyKm5dIGFuZCBoZWFwWzIqbisxXS5cbiAgICogaGVhcFswXSBpcyBub3QgdXNlZC5cbiAgICovXG4gIHMuaGVhcF9sZW4gPSAwO1xuICBzLmhlYXBfbWF4ID0gSEVBUF9TSVpFO1xuXG4gIGZvciAobiA9IDA7IG4gPCBlbGVtczsgbisrKSB7XG4gICAgaWYgKHRyZWVbbiAqIDJdLyouRnJlcSovICE9PSAwKSB7XG4gICAgICBzLmhlYXBbKytzLmhlYXBfbGVuXSA9IG1heF9jb2RlID0gbjtcbiAgICAgIHMuZGVwdGhbbl0gPSAwO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovID0gMDtcbiAgICB9XG4gIH1cblxuICAvKiBUaGUgcGt6aXAgZm9ybWF0IHJlcXVpcmVzIHRoYXQgYXQgbGVhc3Qgb25lIGRpc3RhbmNlIGNvZGUgZXhpc3RzLFxuICAgKiBhbmQgdGhhdCBhdCBsZWFzdCBvbmUgYml0IHNob3VsZCBiZSBzZW50IGV2ZW4gaWYgdGhlcmUgaXMgb25seSBvbmVcbiAgICogcG9zc2libGUgY29kZS4gU28gdG8gYXZvaWQgc3BlY2lhbCBjaGVja3MgbGF0ZXIgb24gd2UgZm9yY2UgYXQgbGVhc3RcbiAgICogdHdvIGNvZGVzIG9mIG5vbiB6ZXJvIGZyZXF1ZW5jeS5cbiAgICovXG4gIHdoaWxlIChzLmhlYXBfbGVuIDwgMikge1xuICAgIG5vZGUgPSBzLmhlYXBbKytzLmhlYXBfbGVuXSA9IChtYXhfY29kZSA8IDIgPyArK21heF9jb2RlIDogMCk7XG4gICAgdHJlZVtub2RlICogMl0vKi5GcmVxKi8gPSAxO1xuICAgIHMuZGVwdGhbbm9kZV0gPSAwO1xuICAgIHMub3B0X2xlbi0tO1xuXG4gICAgaWYgKGhhc19zdHJlZSkge1xuICAgICAgcy5zdGF0aWNfbGVuIC09IHN0cmVlW25vZGUgKiAyICsgMV0vKi5MZW4qLztcbiAgICB9XG4gICAgLyogbm9kZSBpcyAwIG9yIDEgc28gaXQgZG9lcyBub3QgaGF2ZSBleHRyYSBiaXRzICovXG4gIH1cbiAgZGVzYy5tYXhfY29kZSA9IG1heF9jb2RlO1xuXG4gIC8qIFRoZSBlbGVtZW50cyBoZWFwW2hlYXBfbGVuLzIrMSAuLiBoZWFwX2xlbl0gYXJlIGxlYXZlcyBvZiB0aGUgdHJlZSxcbiAgICogZXN0YWJsaXNoIHN1Yi1oZWFwcyBvZiBpbmNyZWFzaW5nIGxlbmd0aHM6XG4gICAqL1xuICBmb3IgKG4gPSAocy5oZWFwX2xlbiA+PiAxLyppbnQgLzIqLyk7IG4gPj0gMTsgbi0tKSB7IHBxZG93bmhlYXAocywgdHJlZSwgbik7IH1cblxuICAvKiBDb25zdHJ1Y3QgdGhlIEh1ZmZtYW4gdHJlZSBieSByZXBlYXRlZGx5IGNvbWJpbmluZyB0aGUgbGVhc3QgdHdvXG4gICAqIGZyZXF1ZW50IG5vZGVzLlxuICAgKi9cbiAgbm9kZSA9IGVsZW1zOyAgICAgICAgICAgICAgLyogbmV4dCBpbnRlcm5hbCBub2RlIG9mIHRoZSB0cmVlICovXG4gIGRvIHtcbiAgICAvL3BxcmVtb3ZlKHMsIHRyZWUsIG4pOyAgLyogbiA9IG5vZGUgb2YgbGVhc3QgZnJlcXVlbmN5ICovXG4gICAgLyoqKiBwcXJlbW92ZSAqKiovXG4gICAgbiA9IHMuaGVhcFsxLypTTUFMTEVTVCovXTtcbiAgICBzLmhlYXBbMS8qU01BTExFU1QqL10gPSBzLmhlYXBbcy5oZWFwX2xlbi0tXTtcbiAgICBwcWRvd25oZWFwKHMsIHRyZWUsIDEvKlNNQUxMRVNUKi8pO1xuICAgIC8qKiovXG5cbiAgICBtID0gcy5oZWFwWzEvKlNNQUxMRVNUKi9dOyAvKiBtID0gbm9kZSBvZiBuZXh0IGxlYXN0IGZyZXF1ZW5jeSAqL1xuXG4gICAgcy5oZWFwWy0tcy5oZWFwX21heF0gPSBuOyAvKiBrZWVwIHRoZSBub2RlcyBzb3J0ZWQgYnkgZnJlcXVlbmN5ICovXG4gICAgcy5oZWFwWy0tcy5oZWFwX21heF0gPSBtO1xuXG4gICAgLyogQ3JlYXRlIGEgbmV3IG5vZGUgZmF0aGVyIG9mIG4gYW5kIG0gKi9cbiAgICB0cmVlW25vZGUgKiAyXS8qLkZyZXEqLyA9IHRyZWVbbiAqIDJdLyouRnJlcSovICsgdHJlZVttICogMl0vKi5GcmVxKi87XG4gICAgcy5kZXB0aFtub2RlXSA9IChzLmRlcHRoW25dID49IHMuZGVwdGhbbV0gPyBzLmRlcHRoW25dIDogcy5kZXB0aFttXSkgKyAxO1xuICAgIHRyZWVbbiAqIDIgKyAxXS8qLkRhZCovID0gdHJlZVttICogMiArIDFdLyouRGFkKi8gPSBub2RlO1xuXG4gICAgLyogYW5kIGluc2VydCB0aGUgbmV3IG5vZGUgaW4gdGhlIGhlYXAgKi9cbiAgICBzLmhlYXBbMS8qU01BTExFU1QqL10gPSBub2RlKys7XG4gICAgcHFkb3duaGVhcChzLCB0cmVlLCAxLypTTUFMTEVTVCovKTtcblxuICB9IHdoaWxlIChzLmhlYXBfbGVuID49IDIpO1xuXG4gIHMuaGVhcFstLXMuaGVhcF9tYXhdID0gcy5oZWFwWzEvKlNNQUxMRVNUKi9dO1xuXG4gIC8qIEF0IHRoaXMgcG9pbnQsIHRoZSBmaWVsZHMgZnJlcSBhbmQgZGFkIGFyZSBzZXQuIFdlIGNhbiBub3dcbiAgICogZ2VuZXJhdGUgdGhlIGJpdCBsZW5ndGhzLlxuICAgKi9cbiAgZ2VuX2JpdGxlbihzLCBkZXNjKTtcblxuICAvKiBUaGUgZmllbGQgbGVuIGlzIG5vdyBzZXQsIHdlIGNhbiBnZW5lcmF0ZSB0aGUgYml0IGNvZGVzICovXG4gIGdlbl9jb2Rlcyh0cmVlLCBtYXhfY29kZSwgcy5ibF9jb3VudCk7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTY2FuIGEgbGl0ZXJhbCBvciBkaXN0YW5jZSB0cmVlIHRvIGRldGVybWluZSB0aGUgZnJlcXVlbmNpZXMgb2YgdGhlIGNvZGVzXG4gKiBpbiB0aGUgYml0IGxlbmd0aCB0cmVlLlxuICovXG5mdW5jdGlvbiBzY2FuX3RyZWUocywgdHJlZSwgbWF4X2NvZGUpXG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgY3RfZGF0YSAqdHJlZTsgICAvKiB0aGUgdHJlZSB0byBiZSBzY2FubmVkICovXG4vLyAgICBpbnQgbWF4X2NvZGU7ICAgIC8qIGFuZCBpdHMgbGFyZ2VzdCBjb2RlIG9mIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xue1xuICB2YXIgbjsgICAgICAgICAgICAgICAgICAgICAvKiBpdGVyYXRlcyBvdmVyIGFsbCB0cmVlIGVsZW1lbnRzICovXG4gIHZhciBwcmV2bGVuID0gLTE7ICAgICAgICAgIC8qIGxhc3QgZW1pdHRlZCBsZW5ndGggKi9cbiAgdmFyIGN1cmxlbjsgICAgICAgICAgICAgICAgLyogbGVuZ3RoIG9mIGN1cnJlbnQgY29kZSAqL1xuXG4gIHZhciBuZXh0bGVuID0gdHJlZVswICogMiArIDFdLyouTGVuKi87IC8qIGxlbmd0aCBvZiBuZXh0IGNvZGUgKi9cblxuICB2YXIgY291bnQgPSAwOyAgICAgICAgICAgICAvKiByZXBlYXQgY291bnQgb2YgdGhlIGN1cnJlbnQgY29kZSAqL1xuICB2YXIgbWF4X2NvdW50ID0gNzsgICAgICAgICAvKiBtYXggcmVwZWF0IGNvdW50ICovXG4gIHZhciBtaW5fY291bnQgPSA0OyAgICAgICAgIC8qIG1pbiByZXBlYXQgY291bnQgKi9cblxuICBpZiAobmV4dGxlbiA9PT0gMCkge1xuICAgIG1heF9jb3VudCA9IDEzODtcbiAgICBtaW5fY291bnQgPSAzO1xuICB9XG4gIHRyZWVbKG1heF9jb2RlICsgMSkgKiAyICsgMV0vKi5MZW4qLyA9IDB4ZmZmZjsgLyogZ3VhcmQgKi9cblxuICBmb3IgKG4gPSAwOyBuIDw9IG1heF9jb2RlOyBuKyspIHtcbiAgICBjdXJsZW4gPSBuZXh0bGVuO1xuICAgIG5leHRsZW4gPSB0cmVlWyhuICsgMSkgKiAyICsgMV0vKi5MZW4qLztcblxuICAgIGlmICgrK2NvdW50IDwgbWF4X2NvdW50ICYmIGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgY29udGludWU7XG5cbiAgICB9IGVsc2UgaWYgKGNvdW50IDwgbWluX2NvdW50KSB7XG4gICAgICBzLmJsX3RyZWVbY3VybGVuICogMl0vKi5GcmVxKi8gKz0gY291bnQ7XG5cbiAgICB9IGVsc2UgaWYgKGN1cmxlbiAhPT0gMCkge1xuXG4gICAgICBpZiAoY3VybGVuICE9PSBwcmV2bGVuKSB7IHMuYmxfdHJlZVtjdXJsZW4gKiAyXS8qLkZyZXEqLysrOyB9XG4gICAgICBzLmJsX3RyZWVbUkVQXzNfNiAqIDJdLyouRnJlcSovKys7XG5cbiAgICB9IGVsc2UgaWYgKGNvdW50IDw9IDEwKSB7XG4gICAgICBzLmJsX3RyZWVbUkVQWl8zXzEwICogMl0vKi5GcmVxKi8rKztcblxuICAgIH0gZWxzZSB7XG4gICAgICBzLmJsX3RyZWVbUkVQWl8xMV8xMzggKiAyXS8qLkZyZXEqLysrO1xuICAgIH1cblxuICAgIGNvdW50ID0gMDtcbiAgICBwcmV2bGVuID0gY3VybGVuO1xuXG4gICAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICAgIG1heF9jb3VudCA9IDEzODtcbiAgICAgIG1pbl9jb3VudCA9IDM7XG5cbiAgICB9IGVsc2UgaWYgKGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgbWF4X2NvdW50ID0gNjtcbiAgICAgIG1pbl9jb3VudCA9IDM7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgbWF4X2NvdW50ID0gNztcbiAgICAgIG1pbl9jb3VudCA9IDQ7XG4gICAgfVxuICB9XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZW5kIGEgbGl0ZXJhbCBvciBkaXN0YW5jZSB0cmVlIGluIGNvbXByZXNzZWQgZm9ybSwgdXNpbmcgdGhlIGNvZGVzIGluXG4gKiBibF90cmVlLlxuICovXG5mdW5jdGlvbiBzZW5kX3RyZWUocywgdHJlZSwgbWF4X2NvZGUpXG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgY3RfZGF0YSAqdHJlZTsgLyogdGhlIHRyZWUgdG8gYmUgc2Nhbm5lZCAqL1xuLy8gICAgaW50IG1heF9jb2RlOyAgICAgICAvKiBhbmQgaXRzIGxhcmdlc3QgY29kZSBvZiBub24gemVybyBmcmVxdWVuY3kgKi9cbntcbiAgdmFyIG47ICAgICAgICAgICAgICAgICAgICAgLyogaXRlcmF0ZXMgb3ZlciBhbGwgdHJlZSBlbGVtZW50cyAqL1xuICB2YXIgcHJldmxlbiA9IC0xOyAgICAgICAgICAvKiBsYXN0IGVtaXR0ZWQgbGVuZ3RoICovXG4gIHZhciBjdXJsZW47ICAgICAgICAgICAgICAgIC8qIGxlbmd0aCBvZiBjdXJyZW50IGNvZGUgKi9cblxuICB2YXIgbmV4dGxlbiA9IHRyZWVbMCAqIDIgKyAxXS8qLkxlbiovOyAvKiBsZW5ndGggb2YgbmV4dCBjb2RlICovXG5cbiAgdmFyIGNvdW50ID0gMDsgICAgICAgICAgICAgLyogcmVwZWF0IGNvdW50IG9mIHRoZSBjdXJyZW50IGNvZGUgKi9cbiAgdmFyIG1heF9jb3VudCA9IDc7ICAgICAgICAgLyogbWF4IHJlcGVhdCBjb3VudCAqL1xuICB2YXIgbWluX2NvdW50ID0gNDsgICAgICAgICAvKiBtaW4gcmVwZWF0IGNvdW50ICovXG5cbiAgLyogdHJlZVttYXhfY29kZSsxXS5MZW4gPSAtMTsgKi8gIC8qIGd1YXJkIGFscmVhZHkgc2V0ICovXG4gIGlmIChuZXh0bGVuID09PSAwKSB7XG4gICAgbWF4X2NvdW50ID0gMTM4O1xuICAgIG1pbl9jb3VudCA9IDM7XG4gIH1cblxuICBmb3IgKG4gPSAwOyBuIDw9IG1heF9jb2RlOyBuKyspIHtcbiAgICBjdXJsZW4gPSBuZXh0bGVuO1xuICAgIG5leHRsZW4gPSB0cmVlWyhuICsgMSkgKiAyICsgMV0vKi5MZW4qLztcblxuICAgIGlmICgrK2NvdW50IDwgbWF4X2NvdW50ICYmIGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgY29udGludWU7XG5cbiAgICB9IGVsc2UgaWYgKGNvdW50IDwgbWluX2NvdW50KSB7XG4gICAgICBkbyB7IHNlbmRfY29kZShzLCBjdXJsZW4sIHMuYmxfdHJlZSk7IH0gd2hpbGUgKC0tY291bnQgIT09IDApO1xuXG4gICAgfSBlbHNlIGlmIChjdXJsZW4gIT09IDApIHtcbiAgICAgIGlmIChjdXJsZW4gIT09IHByZXZsZW4pIHtcbiAgICAgICAgc2VuZF9jb2RlKHMsIGN1cmxlbiwgcy5ibF90cmVlKTtcbiAgICAgICAgY291bnQtLTtcbiAgICAgIH1cbiAgICAgIC8vQXNzZXJ0KGNvdW50ID49IDMgJiYgY291bnQgPD0gNiwgXCIgM182P1wiKTtcbiAgICAgIHNlbmRfY29kZShzLCBSRVBfM182LCBzLmJsX3RyZWUpO1xuICAgICAgc2VuZF9iaXRzKHMsIGNvdW50IC0gMywgMik7XG5cbiAgICB9IGVsc2UgaWYgKGNvdW50IDw9IDEwKSB7XG4gICAgICBzZW5kX2NvZGUocywgUkVQWl8zXzEwLCBzLmJsX3RyZWUpO1xuICAgICAgc2VuZF9iaXRzKHMsIGNvdW50IC0gMywgMyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgc2VuZF9jb2RlKHMsIFJFUFpfMTFfMTM4LCBzLmJsX3RyZWUpO1xuICAgICAgc2VuZF9iaXRzKHMsIGNvdW50IC0gMTEsIDcpO1xuICAgIH1cblxuICAgIGNvdW50ID0gMDtcbiAgICBwcmV2bGVuID0gY3VybGVuO1xuICAgIGlmIChuZXh0bGVuID09PSAwKSB7XG4gICAgICBtYXhfY291bnQgPSAxMzg7XG4gICAgICBtaW5fY291bnQgPSAzO1xuXG4gICAgfSBlbHNlIGlmIChjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgIG1heF9jb3VudCA9IDY7XG4gICAgICBtaW5fY291bnQgPSAzO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIG1heF9jb3VudCA9IDc7XG4gICAgICBtaW5fY291bnQgPSA0O1xuICAgIH1cbiAgfVxufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29uc3RydWN0IHRoZSBIdWZmbWFuIHRyZWUgZm9yIHRoZSBiaXQgbGVuZ3RocyBhbmQgcmV0dXJuIHRoZSBpbmRleCBpblxuICogYmxfb3JkZXIgb2YgdGhlIGxhc3QgYml0IGxlbmd0aCBjb2RlIHRvIHNlbmQuXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkX2JsX3RyZWUocykge1xuICB2YXIgbWF4X2JsaW5kZXg7ICAvKiBpbmRleCBvZiBsYXN0IGJpdCBsZW5ndGggY29kZSBvZiBub24gemVybyBmcmVxICovXG5cbiAgLyogRGV0ZXJtaW5lIHRoZSBiaXQgbGVuZ3RoIGZyZXF1ZW5jaWVzIGZvciBsaXRlcmFsIGFuZCBkaXN0YW5jZSB0cmVlcyAqL1xuICBzY2FuX3RyZWUocywgcy5keW5fbHRyZWUsIHMubF9kZXNjLm1heF9jb2RlKTtcbiAgc2Nhbl90cmVlKHMsIHMuZHluX2R0cmVlLCBzLmRfZGVzYy5tYXhfY29kZSk7XG5cbiAgLyogQnVpbGQgdGhlIGJpdCBsZW5ndGggdHJlZTogKi9cbiAgYnVpbGRfdHJlZShzLCBzLmJsX2Rlc2MpO1xuICAvKiBvcHRfbGVuIG5vdyBpbmNsdWRlcyB0aGUgbGVuZ3RoIG9mIHRoZSB0cmVlIHJlcHJlc2VudGF0aW9ucywgZXhjZXB0XG4gICAqIHRoZSBsZW5ndGhzIG9mIHRoZSBiaXQgbGVuZ3RocyBjb2RlcyBhbmQgdGhlIDUrNSs0IGJpdHMgZm9yIHRoZSBjb3VudHMuXG4gICAqL1xuXG4gIC8qIERldGVybWluZSB0aGUgbnVtYmVyIG9mIGJpdCBsZW5ndGggY29kZXMgdG8gc2VuZC4gVGhlIHBremlwIGZvcm1hdFxuICAgKiByZXF1aXJlcyB0aGF0IGF0IGxlYXN0IDQgYml0IGxlbmd0aCBjb2RlcyBiZSBzZW50LiAoYXBwbm90ZS50eHQgc2F5c1xuICAgKiAzIGJ1dCB0aGUgYWN0dWFsIHZhbHVlIHVzZWQgaXMgNC4pXG4gICAqL1xuICBmb3IgKG1heF9ibGluZGV4ID0gQkxfQ09ERVMgLSAxOyBtYXhfYmxpbmRleCA+PSAzOyBtYXhfYmxpbmRleC0tKSB7XG4gICAgaWYgKHMuYmxfdHJlZVtibF9vcmRlclttYXhfYmxpbmRleF0gKiAyICsgMV0vKi5MZW4qLyAhPT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qIFVwZGF0ZSBvcHRfbGVuIHRvIGluY2x1ZGUgdGhlIGJpdCBsZW5ndGggdHJlZSBhbmQgY291bnRzICovXG4gIHMub3B0X2xlbiArPSAzICogKG1heF9ibGluZGV4ICsgMSkgKyA1ICsgNSArIDQ7XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxuZHluIHRyZWVzOiBkeW4gJWxkLCBzdGF0ICVsZFwiLFxuICAvLyAgICAgICAgcy0+b3B0X2xlbiwgcy0+c3RhdGljX2xlbikpO1xuXG4gIHJldHVybiBtYXhfYmxpbmRleDtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNlbmQgdGhlIGhlYWRlciBmb3IgYSBibG9jayB1c2luZyBkeW5hbWljIEh1ZmZtYW4gdHJlZXM6IHRoZSBjb3VudHMsIHRoZVxuICogbGVuZ3RocyBvZiB0aGUgYml0IGxlbmd0aCBjb2RlcywgdGhlIGxpdGVyYWwgdHJlZSBhbmQgdGhlIGRpc3RhbmNlIHRyZWUuXG4gKiBJTiBhc3NlcnRpb246IGxjb2RlcyA+PSAyNTcsIGRjb2RlcyA+PSAxLCBibGNvZGVzID49IDQuXG4gKi9cbmZ1bmN0aW9uIHNlbmRfYWxsX3RyZWVzKHMsIGxjb2RlcywgZGNvZGVzLCBibGNvZGVzKVxuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGludCBsY29kZXMsIGRjb2RlcywgYmxjb2RlczsgLyogbnVtYmVyIG9mIGNvZGVzIGZvciBlYWNoIHRyZWUgKi9cbntcbiAgdmFyIHJhbms7ICAgICAgICAgICAgICAgICAgICAvKiBpbmRleCBpbiBibF9vcmRlciAqL1xuXG4gIC8vQXNzZXJ0IChsY29kZXMgPj0gMjU3ICYmIGRjb2RlcyA+PSAxICYmIGJsY29kZXMgPj0gNCwgXCJub3QgZW5vdWdoIGNvZGVzXCIpO1xuICAvL0Fzc2VydCAobGNvZGVzIDw9IExfQ09ERVMgJiYgZGNvZGVzIDw9IERfQ09ERVMgJiYgYmxjb2RlcyA8PSBCTF9DT0RFUyxcbiAgLy8gICAgICAgIFwidG9vIG1hbnkgY29kZXNcIik7XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxuYmwgY291bnRzOiBcIikpO1xuICBzZW5kX2JpdHMocywgbGNvZGVzIC0gMjU3LCA1KTsgLyogbm90ICsyNTUgYXMgc3RhdGVkIGluIGFwcG5vdGUudHh0ICovXG4gIHNlbmRfYml0cyhzLCBkY29kZXMgLSAxLCAgIDUpO1xuICBzZW5kX2JpdHMocywgYmxjb2RlcyAtIDQsICA0KTsgLyogbm90IC0zIGFzIHN0YXRlZCBpbiBhcHBub3RlLnR4dCAqL1xuICBmb3IgKHJhbmsgPSAwOyByYW5rIDwgYmxjb2RlczsgcmFuaysrKSB7XG4gICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJcXG5ibCBjb2RlICUyZCBcIiwgYmxfb3JkZXJbcmFua10pKTtcbiAgICBzZW5kX2JpdHMocywgcy5ibF90cmVlW2JsX29yZGVyW3JhbmtdICogMiArIDFdLyouTGVuKi8sIDMpO1xuICB9XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxuYmwgdHJlZTogc2VudCAlbGRcIiwgcy0+Yml0c19zZW50KSk7XG5cbiAgc2VuZF90cmVlKHMsIHMuZHluX2x0cmVlLCBsY29kZXMgLSAxKTsgLyogbGl0ZXJhbCB0cmVlICovXG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxubGl0IHRyZWU6IHNlbnQgJWxkXCIsIHMtPmJpdHNfc2VudCkpO1xuXG4gIHNlbmRfdHJlZShzLCBzLmR5bl9kdHJlZSwgZGNvZGVzIC0gMSk7IC8qIGRpc3RhbmNlIHRyZWUgKi9cbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJcXG5kaXN0IHRyZWU6IHNlbnQgJWxkXCIsIHMtPmJpdHNfc2VudCkpO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ2hlY2sgaWYgdGhlIGRhdGEgdHlwZSBpcyBURVhUIG9yIEJJTkFSWSwgdXNpbmcgdGhlIGZvbGxvd2luZyBhbGdvcml0aG06XG4gKiAtIFRFWFQgaWYgdGhlIHR3byBjb25kaXRpb25zIGJlbG93IGFyZSBzYXRpc2ZpZWQ6XG4gKiAgICBhKSBUaGVyZSBhcmUgbm8gbm9uLXBvcnRhYmxlIGNvbnRyb2wgY2hhcmFjdGVycyBiZWxvbmdpbmcgdG8gdGhlXG4gKiAgICAgICBcImJsYWNrIGxpc3RcIiAoMC4uNiwgMTQuLjI1LCAyOC4uMzEpLlxuICogICAgYikgVGhlcmUgaXMgYXQgbGVhc3Qgb25lIHByaW50YWJsZSBjaGFyYWN0ZXIgYmVsb25naW5nIHRvIHRoZVxuICogICAgICAgXCJ3aGl0ZSBsaXN0XCIgKDkge1RBQn0sIDEwIHtMRn0sIDEzIHtDUn0sIDMyLi4yNTUpLlxuICogLSBCSU5BUlkgb3RoZXJ3aXNlLlxuICogLSBUaGUgZm9sbG93aW5nIHBhcnRpYWxseS1wb3J0YWJsZSBjb250cm9sIGNoYXJhY3RlcnMgZm9ybSBhXG4gKiAgIFwiZ3JheSBsaXN0XCIgdGhhdCBpcyBpZ25vcmVkIGluIHRoaXMgZGV0ZWN0aW9uIGFsZ29yaXRobTpcbiAqICAgKDcge0JFTH0sIDgge0JTfSwgMTEge1ZUfSwgMTIge0ZGfSwgMjYge1NVQn0sIDI3IHtFU0N9KS5cbiAqIElOIGFzc2VydGlvbjogdGhlIGZpZWxkcyBGcmVxIG9mIGR5bl9sdHJlZSBhcmUgc2V0LlxuICovXG5mdW5jdGlvbiBkZXRlY3RfZGF0YV90eXBlKHMpIHtcbiAgLyogYmxhY2tfbWFzayBpcyB0aGUgYml0IG1hc2sgb2YgYmxhY2stbGlzdGVkIGJ5dGVzXG4gICAqIHNldCBiaXRzIDAuLjYsIDE0Li4yNSwgYW5kIDI4Li4zMVxuICAgKiAweGYzZmZjMDdmID0gYmluYXJ5IDExMTEwMDExMTExMTExMTExMTAwMDAwMDAxMTExMTExXG4gICAqL1xuICB2YXIgYmxhY2tfbWFzayA9IDB4ZjNmZmMwN2Y7XG4gIHZhciBuO1xuXG4gIC8qIENoZWNrIGZvciBub24tdGV4dHVhbCAoXCJibGFjay1saXN0ZWRcIikgYnl0ZXMuICovXG4gIGZvciAobiA9IDA7IG4gPD0gMzE7IG4rKywgYmxhY2tfbWFzayA+Pj49IDEpIHtcbiAgICBpZiAoKGJsYWNrX21hc2sgJiAxKSAmJiAocy5keW5fbHRyZWVbbiAqIDJdLyouRnJlcSovICE9PSAwKSkge1xuICAgICAgcmV0dXJuIFpfQklOQVJZO1xuICAgIH1cbiAgfVxuXG4gIC8qIENoZWNrIGZvciB0ZXh0dWFsIChcIndoaXRlLWxpc3RlZFwiKSBieXRlcy4gKi9cbiAgaWYgKHMuZHluX2x0cmVlWzkgKiAyXS8qLkZyZXEqLyAhPT0gMCB8fCBzLmR5bl9sdHJlZVsxMCAqIDJdLyouRnJlcSovICE9PSAwIHx8XG4gICAgICBzLmR5bl9sdHJlZVsxMyAqIDJdLyouRnJlcSovICE9PSAwKSB7XG4gICAgcmV0dXJuIFpfVEVYVDtcbiAgfVxuICBmb3IgKG4gPSAzMjsgbiA8IExJVEVSQUxTOyBuKyspIHtcbiAgICBpZiAocy5keW5fbHRyZWVbbiAqIDJdLyouRnJlcSovICE9PSAwKSB7XG4gICAgICByZXR1cm4gWl9URVhUO1xuICAgIH1cbiAgfVxuXG4gIC8qIFRoZXJlIGFyZSBubyBcImJsYWNrLWxpc3RlZFwiIG9yIFwid2hpdGUtbGlzdGVkXCIgYnl0ZXM6XG4gICAqIHRoaXMgc3RyZWFtIGVpdGhlciBpcyBlbXB0eSBvciBoYXMgdG9sZXJhdGVkIChcImdyYXktbGlzdGVkXCIpIGJ5dGVzIG9ubHkuXG4gICAqL1xuICByZXR1cm4gWl9CSU5BUlk7XG59XG5cblxudmFyIHN0YXRpY19pbml0X2RvbmUgPSBmYWxzZTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbml0aWFsaXplIHRoZSB0cmVlIGRhdGEgc3RydWN0dXJlcyBmb3IgYSBuZXcgemxpYiBzdHJlYW0uXG4gKi9cbmZ1bmN0aW9uIF90cl9pbml0KHMpXG57XG5cbiAgaWYgKCFzdGF0aWNfaW5pdF9kb25lKSB7XG4gICAgdHJfc3RhdGljX2luaXQoKTtcbiAgICBzdGF0aWNfaW5pdF9kb25lID0gdHJ1ZTtcbiAgfVxuXG4gIHMubF9kZXNjICA9IG5ldyBUcmVlRGVzYyhzLmR5bl9sdHJlZSwgc3RhdGljX2xfZGVzYyk7XG4gIHMuZF9kZXNjICA9IG5ldyBUcmVlRGVzYyhzLmR5bl9kdHJlZSwgc3RhdGljX2RfZGVzYyk7XG4gIHMuYmxfZGVzYyA9IG5ldyBUcmVlRGVzYyhzLmJsX3RyZWUsIHN0YXRpY19ibF9kZXNjKTtcblxuICBzLmJpX2J1ZiA9IDA7XG4gIHMuYmlfdmFsaWQgPSAwO1xuXG4gIC8qIEluaXRpYWxpemUgdGhlIGZpcnN0IGJsb2NrIG9mIHRoZSBmaXJzdCBmaWxlOiAqL1xuICBpbml0X2Jsb2NrKHMpO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2VuZCBhIHN0b3JlZCBibG9ja1xuICovXG5mdW5jdGlvbiBfdHJfc3RvcmVkX2Jsb2NrKHMsIGJ1Ziwgc3RvcmVkX2xlbiwgbGFzdClcbi8vRGVmbGF0ZVN0YXRlICpzO1xuLy9jaGFyZiAqYnVmOyAgICAgICAvKiBpbnB1dCBibG9jayAqL1xuLy91bGcgc3RvcmVkX2xlbjsgICAvKiBsZW5ndGggb2YgaW5wdXQgYmxvY2sgKi9cbi8vaW50IGxhc3Q7ICAgICAgICAgLyogb25lIGlmIHRoaXMgaXMgdGhlIGxhc3QgYmxvY2sgZm9yIGEgZmlsZSAqL1xue1xuICBzZW5kX2JpdHMocywgKFNUT1JFRF9CTE9DSyA8PCAxKSArIChsYXN0ID8gMSA6IDApLCAzKTsgICAgLyogc2VuZCBibG9jayB0eXBlICovXG4gIGNvcHlfYmxvY2socywgYnVmLCBzdG9yZWRfbGVuLCB0cnVlKTsgLyogd2l0aCBoZWFkZXIgKi9cbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNlbmQgb25lIGVtcHR5IHN0YXRpYyBibG9jayB0byBnaXZlIGVub3VnaCBsb29rYWhlYWQgZm9yIGluZmxhdGUuXG4gKiBUaGlzIHRha2VzIDEwIGJpdHMsIG9mIHdoaWNoIDcgbWF5IHJlbWFpbiBpbiB0aGUgYml0IGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gX3RyX2FsaWduKHMpIHtcbiAgc2VuZF9iaXRzKHMsIFNUQVRJQ19UUkVFUyA8PCAxLCAzKTtcbiAgc2VuZF9jb2RlKHMsIEVORF9CTE9DSywgc3RhdGljX2x0cmVlKTtcbiAgYmlfZmx1c2gocyk7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBEZXRlcm1pbmUgdGhlIGJlc3QgZW5jb2RpbmcgZm9yIHRoZSBjdXJyZW50IGJsb2NrOiBkeW5hbWljIHRyZWVzLCBzdGF0aWNcbiAqIHRyZWVzIG9yIHN0b3JlLCBhbmQgb3V0cHV0IHRoZSBlbmNvZGVkIGJsb2NrIHRvIHRoZSB6aXAgZmlsZS5cbiAqL1xuZnVuY3Rpb24gX3RyX2ZsdXNoX2Jsb2NrKHMsIGJ1Ziwgc3RvcmVkX2xlbiwgbGFzdClcbi8vRGVmbGF0ZVN0YXRlICpzO1xuLy9jaGFyZiAqYnVmOyAgICAgICAvKiBpbnB1dCBibG9jaywgb3IgTlVMTCBpZiB0b28gb2xkICovXG4vL3VsZyBzdG9yZWRfbGVuOyAgIC8qIGxlbmd0aCBvZiBpbnB1dCBibG9jayAqL1xuLy9pbnQgbGFzdDsgICAgICAgICAvKiBvbmUgaWYgdGhpcyBpcyB0aGUgbGFzdCBibG9jayBmb3IgYSBmaWxlICovXG57XG4gIHZhciBvcHRfbGVuYiwgc3RhdGljX2xlbmI7ICAvKiBvcHRfbGVuIGFuZCBzdGF0aWNfbGVuIGluIGJ5dGVzICovXG4gIHZhciBtYXhfYmxpbmRleCA9IDA7ICAgICAgICAvKiBpbmRleCBvZiBsYXN0IGJpdCBsZW5ndGggY29kZSBvZiBub24gemVybyBmcmVxICovXG5cbiAgLyogQnVpbGQgdGhlIEh1ZmZtYW4gdHJlZXMgdW5sZXNzIGEgc3RvcmVkIGJsb2NrIGlzIGZvcmNlZCAqL1xuICBpZiAocy5sZXZlbCA+IDApIHtcblxuICAgIC8qIENoZWNrIGlmIHRoZSBmaWxlIGlzIGJpbmFyeSBvciB0ZXh0ICovXG4gICAgaWYgKHMuc3RybS5kYXRhX3R5cGUgPT09IFpfVU5LTk9XTikge1xuICAgICAgcy5zdHJtLmRhdGFfdHlwZSA9IGRldGVjdF9kYXRhX3R5cGUocyk7XG4gICAgfVxuXG4gICAgLyogQ29uc3RydWN0IHRoZSBsaXRlcmFsIGFuZCBkaXN0YW5jZSB0cmVlcyAqL1xuICAgIGJ1aWxkX3RyZWUocywgcy5sX2Rlc2MpO1xuICAgIC8vIFRyYWNldigoc3RkZXJyLCBcIlxcbmxpdCBkYXRhOiBkeW4gJWxkLCBzdGF0ICVsZFwiLCBzLT5vcHRfbGVuLFxuICAgIC8vICAgICAgICBzLT5zdGF0aWNfbGVuKSk7XG5cbiAgICBidWlsZF90cmVlKHMsIHMuZF9kZXNjKTtcbiAgICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5kaXN0IGRhdGE6IGR5biAlbGQsIHN0YXQgJWxkXCIsIHMtPm9wdF9sZW4sXG4gICAgLy8gICAgICAgIHMtPnN0YXRpY19sZW4pKTtcbiAgICAvKiBBdCB0aGlzIHBvaW50LCBvcHRfbGVuIGFuZCBzdGF0aWNfbGVuIGFyZSB0aGUgdG90YWwgYml0IGxlbmd0aHMgb2ZcbiAgICAgKiB0aGUgY29tcHJlc3NlZCBibG9jayBkYXRhLCBleGNsdWRpbmcgdGhlIHRyZWUgcmVwcmVzZW50YXRpb25zLlxuICAgICAqL1xuXG4gICAgLyogQnVpbGQgdGhlIGJpdCBsZW5ndGggdHJlZSBmb3IgdGhlIGFib3ZlIHR3byB0cmVlcywgYW5kIGdldCB0aGUgaW5kZXhcbiAgICAgKiBpbiBibF9vcmRlciBvZiB0aGUgbGFzdCBiaXQgbGVuZ3RoIGNvZGUgdG8gc2VuZC5cbiAgICAgKi9cbiAgICBtYXhfYmxpbmRleCA9IGJ1aWxkX2JsX3RyZWUocyk7XG5cbiAgICAvKiBEZXRlcm1pbmUgdGhlIGJlc3QgZW5jb2RpbmcuIENvbXB1dGUgdGhlIGJsb2NrIGxlbmd0aHMgaW4gYnl0ZXMuICovXG4gICAgb3B0X2xlbmIgPSAocy5vcHRfbGVuICsgMyArIDcpID4+PiAzO1xuICAgIHN0YXRpY19sZW5iID0gKHMuc3RhdGljX2xlbiArIDMgKyA3KSA+Pj4gMztcblxuICAgIC8vIFRyYWNldigoc3RkZXJyLCBcIlxcbm9wdCAlbHUoJWx1KSBzdGF0ICVsdSglbHUpIHN0b3JlZCAlbHUgbGl0ICV1IFwiLFxuICAgIC8vICAgICAgICBvcHRfbGVuYiwgcy0+b3B0X2xlbiwgc3RhdGljX2xlbmIsIHMtPnN0YXRpY19sZW4sIHN0b3JlZF9sZW4sXG4gICAgLy8gICAgICAgIHMtPmxhc3RfbGl0KSk7XG5cbiAgICBpZiAoc3RhdGljX2xlbmIgPD0gb3B0X2xlbmIpIHsgb3B0X2xlbmIgPSBzdGF0aWNfbGVuYjsgfVxuXG4gIH0gZWxzZSB7XG4gICAgLy8gQXNzZXJ0KGJ1ZiAhPSAoY2hhciopMCwgXCJsb3N0IGJ1ZlwiKTtcbiAgICBvcHRfbGVuYiA9IHN0YXRpY19sZW5iID0gc3RvcmVkX2xlbiArIDU7IC8qIGZvcmNlIGEgc3RvcmVkIGJsb2NrICovXG4gIH1cblxuICBpZiAoKHN0b3JlZF9sZW4gKyA0IDw9IG9wdF9sZW5iKSAmJiAoYnVmICE9PSAtMSkpIHtcbiAgICAvKiA0OiB0d28gd29yZHMgZm9yIHRoZSBsZW5ndGhzICovXG5cbiAgICAvKiBUaGUgdGVzdCBidWYgIT0gTlVMTCBpcyBvbmx5IG5lY2Vzc2FyeSBpZiBMSVRfQlVGU0laRSA+IFdTSVpFLlxuICAgICAqIE90aGVyd2lzZSB3ZSBjYW4ndCBoYXZlIHByb2Nlc3NlZCBtb3JlIHRoYW4gV1NJWkUgaW5wdXQgYnl0ZXMgc2luY2VcbiAgICAgKiB0aGUgbGFzdCBibG9jayBmbHVzaCwgYmVjYXVzZSBjb21wcmVzc2lvbiB3b3VsZCBoYXZlIGJlZW5cbiAgICAgKiBzdWNjZXNzZnVsLiBJZiBMSVRfQlVGU0laRSA8PSBXU0laRSwgaXQgaXMgbmV2ZXIgdG9vIGxhdGUgdG9cbiAgICAgKiB0cmFuc2Zvcm0gYSBibG9jayBpbnRvIGEgc3RvcmVkIGJsb2NrLlxuICAgICAqL1xuICAgIF90cl9zdG9yZWRfYmxvY2socywgYnVmLCBzdG9yZWRfbGVuLCBsYXN0KTtcblxuICB9IGVsc2UgaWYgKHMuc3RyYXRlZ3kgPT09IFpfRklYRUQgfHwgc3RhdGljX2xlbmIgPT09IG9wdF9sZW5iKSB7XG5cbiAgICBzZW5kX2JpdHMocywgKFNUQVRJQ19UUkVFUyA8PCAxKSArIChsYXN0ID8gMSA6IDApLCAzKTtcbiAgICBjb21wcmVzc19ibG9jayhzLCBzdGF0aWNfbHRyZWUsIHN0YXRpY19kdHJlZSk7XG5cbiAgfSBlbHNlIHtcbiAgICBzZW5kX2JpdHMocywgKERZTl9UUkVFUyA8PCAxKSArIChsYXN0ID8gMSA6IDApLCAzKTtcbiAgICBzZW5kX2FsbF90cmVlcyhzLCBzLmxfZGVzYy5tYXhfY29kZSArIDEsIHMuZF9kZXNjLm1heF9jb2RlICsgMSwgbWF4X2JsaW5kZXggKyAxKTtcbiAgICBjb21wcmVzc19ibG9jayhzLCBzLmR5bl9sdHJlZSwgcy5keW5fZHRyZWUpO1xuICB9XG4gIC8vIEFzc2VydCAocy0+Y29tcHJlc3NlZF9sZW4gPT0gcy0+Yml0c19zZW50LCBcImJhZCBjb21wcmVzc2VkIHNpemVcIik7XG4gIC8qIFRoZSBhYm92ZSBjaGVjayBpcyBtYWRlIG1vZCAyXjMyLCBmb3IgZmlsZXMgbGFyZ2VyIHRoYW4gNTEyIE1CXG4gICAqIGFuZCB1TG9uZyBpbXBsZW1lbnRlZCBvbiAzMiBiaXRzLlxuICAgKi9cbiAgaW5pdF9ibG9jayhzKTtcblxuICBpZiAobGFzdCkge1xuICAgIGJpX3dpbmR1cChzKTtcbiAgfVxuICAvLyBUcmFjZXYoKHN0ZGVycixcIlxcbmNvbXBybGVuICVsdSglbHUpIFwiLCBzLT5jb21wcmVzc2VkX2xlbj4+MyxcbiAgLy8gICAgICAgcy0+Y29tcHJlc3NlZF9sZW4tNypsYXN0KSk7XG59XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2F2ZSB0aGUgbWF0Y2ggaW5mbyBhbmQgdGFsbHkgdGhlIGZyZXF1ZW5jeSBjb3VudHMuIFJldHVybiB0cnVlIGlmXG4gKiB0aGUgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQuXG4gKi9cbmZ1bmN0aW9uIF90cl90YWxseShzLCBkaXN0LCBsYylcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICB1bnNpZ25lZCBkaXN0OyAgLyogZGlzdGFuY2Ugb2YgbWF0Y2hlZCBzdHJpbmcgKi9cbi8vICAgIHVuc2lnbmVkIGxjOyAgICAvKiBtYXRjaCBsZW5ndGgtTUlOX01BVENIIG9yIHVubWF0Y2hlZCBjaGFyIChpZiBkaXN0PT0wKSAqL1xue1xuICAvL3ZhciBvdXRfbGVuZ3RoLCBpbl9sZW5ndGgsIGRjb2RlO1xuXG4gIHMucGVuZGluZ19idWZbcy5kX2J1ZiArIHMubGFzdF9saXQgKiAyXSAgICAgPSAoZGlzdCA+Pj4gOCkgJiAweGZmO1xuICBzLnBlbmRpbmdfYnVmW3MuZF9idWYgKyBzLmxhc3RfbGl0ICogMiArIDFdID0gZGlzdCAmIDB4ZmY7XG5cbiAgcy5wZW5kaW5nX2J1ZltzLmxfYnVmICsgcy5sYXN0X2xpdF0gPSBsYyAmIDB4ZmY7XG4gIHMubGFzdF9saXQrKztcblxuICBpZiAoZGlzdCA9PT0gMCkge1xuICAgIC8qIGxjIGlzIHRoZSB1bm1hdGNoZWQgY2hhciAqL1xuICAgIHMuZHluX2x0cmVlW2xjICogMl0vKi5GcmVxKi8rKztcbiAgfSBlbHNlIHtcbiAgICBzLm1hdGNoZXMrKztcbiAgICAvKiBIZXJlLCBsYyBpcyB0aGUgbWF0Y2ggbGVuZ3RoIC0gTUlOX01BVENIICovXG4gICAgZGlzdC0tOyAgICAgICAgICAgICAvKiBkaXN0ID0gbWF0Y2ggZGlzdGFuY2UgLSAxICovXG4gICAgLy9Bc3NlcnQoKHVzaClkaXN0IDwgKHVzaClNQVhfRElTVChzKSAmJlxuICAgIC8vICAgICAgICh1c2gpbGMgPD0gKHVzaCkoTUFYX01BVENILU1JTl9NQVRDSCkgJiZcbiAgICAvLyAgICAgICAodXNoKWRfY29kZShkaXN0KSA8ICh1c2gpRF9DT0RFUywgIFwiX3RyX3RhbGx5OiBiYWQgbWF0Y2hcIik7XG5cbiAgICBzLmR5bl9sdHJlZVsoX2xlbmd0aF9jb2RlW2xjXSArIExJVEVSQUxTICsgMSkgKiAyXS8qLkZyZXEqLysrO1xuICAgIHMuZHluX2R0cmVlW2RfY29kZShkaXN0KSAqIDJdLyouRnJlcSovKys7XG4gIH1cblxuLy8gKCEpIFRoaXMgYmxvY2sgaXMgZGlzYWJsZWQgaW4gemxpYiBkZWZhdWx0cyxcbi8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcblxuLy8jaWZkZWYgVFJVTkNBVEVfQkxPQ0tcbi8vICAvKiBUcnkgdG8gZ3Vlc3MgaWYgaXQgaXMgcHJvZml0YWJsZSB0byBzdG9wIHRoZSBjdXJyZW50IGJsb2NrIGhlcmUgKi9cbi8vICBpZiAoKHMubGFzdF9saXQgJiAweDFmZmYpID09PSAwICYmIHMubGV2ZWwgPiAyKSB7XG4vLyAgICAvKiBDb21wdXRlIGFuIHVwcGVyIGJvdW5kIGZvciB0aGUgY29tcHJlc3NlZCBsZW5ndGggKi9cbi8vICAgIG91dF9sZW5ndGggPSBzLmxhc3RfbGl0Kjg7XG4vLyAgICBpbl9sZW5ndGggPSBzLnN0cnN0YXJ0IC0gcy5ibG9ja19zdGFydDtcbi8vXG4vLyAgICBmb3IgKGRjb2RlID0gMDsgZGNvZGUgPCBEX0NPREVTOyBkY29kZSsrKSB7XG4vLyAgICAgIG91dF9sZW5ndGggKz0gcy5keW5fZHRyZWVbZGNvZGUqMl0vKi5GcmVxKi8gKiAoNSArIGV4dHJhX2RiaXRzW2Rjb2RlXSk7XG4vLyAgICB9XG4vLyAgICBvdXRfbGVuZ3RoID4+Pj0gMztcbi8vICAgIC8vVHJhY2V2KChzdGRlcnIsXCJcXG5sYXN0X2xpdCAldSwgaW4gJWxkLCBvdXQgfiVsZCglbGQlJSkgXCIsXG4vLyAgICAvLyAgICAgICBzLT5sYXN0X2xpdCwgaW5fbGVuZ3RoLCBvdXRfbGVuZ3RoLFxuLy8gICAgLy8gICAgICAgMTAwTCAtIG91dF9sZW5ndGgqMTAwTC9pbl9sZW5ndGgpKTtcbi8vICAgIGlmIChzLm1hdGNoZXMgPCAocy5sYXN0X2xpdD4+MSkvKmludCAvMiovICYmIG91dF9sZW5ndGggPCAoaW5fbGVuZ3RoPj4xKS8qaW50IC8yKi8pIHtcbi8vICAgICAgcmV0dXJuIHRydWU7XG4vLyAgICB9XG4vLyAgfVxuLy8jZW5kaWZcblxuICByZXR1cm4gKHMubGFzdF9saXQgPT09IHMubGl0X2J1ZnNpemUgLSAxKTtcbiAgLyogV2UgYXZvaWQgZXF1YWxpdHkgd2l0aCBsaXRfYnVmc2l6ZSBiZWNhdXNlIG9mIHdyYXBhcm91bmQgYXQgNjRLXG4gICAqIG9uIDE2IGJpdCBtYWNoaW5lcyBhbmQgYmVjYXVzZSBzdG9yZWQgYmxvY2tzIGFyZSByZXN0cmljdGVkIHRvXG4gICAqIDY0Sy0xIGJ5dGVzLlxuICAgKi9cbn1cblxuZXhwb3J0cy5fdHJfaW5pdCAgPSBfdHJfaW5pdDtcbmV4cG9ydHMuX3RyX3N0b3JlZF9ibG9jayA9IF90cl9zdG9yZWRfYmxvY2s7XG5leHBvcnRzLl90cl9mbHVzaF9ibG9jayAgPSBfdHJfZmx1c2hfYmxvY2s7XG5leHBvcnRzLl90cl90YWxseSA9IF90cl90YWxseTtcbmV4cG9ydHMuX3RyX2FsaWduID0gX3RyX2FsaWduO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLy8gTm90ZTogYWRsZXIzMiB0YWtlcyAxMiUgZm9yIGxldmVsIDAgYW5kIDIlIGZvciBsZXZlbCA2LlxuLy8gSXQgaXNuJ3Qgd29ydGggaXQgdG8gbWFrZSBhZGRpdGlvbmFsIG9wdGltaXphdGlvbnMgYXMgaW4gb3JpZ2luYWwuXG4vLyBTbWFsbCBzaXplIGlzIHByZWZlcmFibGUuXG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuZnVuY3Rpb24gYWRsZXIzMihhZGxlciwgYnVmLCBsZW4sIHBvcykge1xuICB2YXIgczEgPSAoYWRsZXIgJiAweGZmZmYpIHwwLFxuICAgICAgczIgPSAoKGFkbGVyID4+PiAxNikgJiAweGZmZmYpIHwwLFxuICAgICAgbiA9IDA7XG5cbiAgd2hpbGUgKGxlbiAhPT0gMCkge1xuICAgIC8vIFNldCBsaW1pdCB+IHR3aWNlIGxlc3MgdGhhbiA1NTUyLCB0byBrZWVwXG4gICAgLy8gczIgaW4gMzEtYml0cywgYmVjYXVzZSB3ZSBmb3JjZSBzaWduZWQgaW50cy5cbiAgICAvLyBpbiBvdGhlciBjYXNlICU9IHdpbGwgZmFpbC5cbiAgICBuID0gbGVuID4gMjAwMCA/IDIwMDAgOiBsZW47XG4gICAgbGVuIC09IG47XG5cbiAgICBkbyB7XG4gICAgICBzMSA9IChzMSArIGJ1Zltwb3MrK10pIHwwO1xuICAgICAgczIgPSAoczIgKyBzMSkgfDA7XG4gICAgfSB3aGlsZSAoLS1uKTtcblxuICAgIHMxICU9IDY1NTIxO1xuICAgIHMyICU9IDY1NTIxO1xuICB9XG5cbiAgcmV0dXJuIChzMSB8IChzMiA8PCAxNikpIHwwO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gYWRsZXIzMjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8vIE5vdGU6IHdlIGNhbid0IGdldCBzaWduaWZpY2FudCBzcGVlZCBib29zdCBoZXJlLlxuLy8gU28gd3JpdGUgY29kZSB0byBtaW5pbWl6ZSBzaXplIC0gbm8gcHJlZ2VuZXJhdGVkIHRhYmxlc1xuLy8gYW5kIGFycmF5IHRvb2xzIGRlcGVuZGVuY2llcy5cblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG4vLyBVc2Ugb3JkaW5hcnkgYXJyYXksIHNpbmNlIHVudHlwZWQgbWFrZXMgbm8gYm9vc3QgaGVyZVxuZnVuY3Rpb24gbWFrZVRhYmxlKCkge1xuICB2YXIgYywgdGFibGUgPSBbXTtcblxuICBmb3IgKHZhciBuID0gMDsgbiA8IDI1NjsgbisrKSB7XG4gICAgYyA9IG47XG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCA4OyBrKyspIHtcbiAgICAgIGMgPSAoKGMgJiAxKSA/ICgweEVEQjg4MzIwIF4gKGMgPj4+IDEpKSA6IChjID4+PiAxKSk7XG4gICAgfVxuICAgIHRhYmxlW25dID0gYztcbiAgfVxuXG4gIHJldHVybiB0YWJsZTtcbn1cblxuLy8gQ3JlYXRlIHRhYmxlIG9uIGxvYWQuIEp1c3QgMjU1IHNpZ25lZCBsb25ncy4gTm90IGEgcHJvYmxlbS5cbnZhciBjcmNUYWJsZSA9IG1ha2VUYWJsZSgpO1xuXG5cbmZ1bmN0aW9uIGNyYzMyKGNyYywgYnVmLCBsZW4sIHBvcykge1xuICB2YXIgdCA9IGNyY1RhYmxlLFxuICAgICAgZW5kID0gcG9zICsgbGVuO1xuXG4gIGNyYyBePSAtMTtcblxuICBmb3IgKHZhciBpID0gcG9zOyBpIDwgZW5kOyBpKyspIHtcbiAgICBjcmMgPSAoY3JjID4+PiA4KSBeIHRbKGNyYyBeIGJ1ZltpXSkgJiAweEZGXTtcbiAgfVxuXG4gIHJldHVybiAoY3JjIF4gKC0xKSk7IC8vID4+PiAwO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gY3JjMzI7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAyOiAgICAgICduZWVkIGRpY3Rpb25hcnknLCAgICAgLyogWl9ORUVEX0RJQ1QgICAgICAgMiAgKi9cbiAgMTogICAgICAnc3RyZWFtIGVuZCcsICAgICAgICAgIC8qIFpfU1RSRUFNX0VORCAgICAgIDEgICovXG4gIDA6ICAgICAgJycsICAgICAgICAgICAgICAgICAgICAvKiBaX09LICAgICAgICAgICAgICAwICAqL1xuICAnLTEnOiAgICdmaWxlIGVycm9yJywgICAgICAgICAgLyogWl9FUlJOTyAgICAgICAgICgtMSkgKi9cbiAgJy0yJzogICAnc3RyZWFtIGVycm9yJywgICAgICAgIC8qIFpfU1RSRUFNX0VSUk9SICAoLTIpICovXG4gICctMyc6ICAgJ2RhdGEgZXJyb3InLCAgICAgICAgICAvKiBaX0RBVEFfRVJST1IgICAgKC0zKSAqL1xuICAnLTQnOiAgICdpbnN1ZmZpY2llbnQgbWVtb3J5JywgLyogWl9NRU1fRVJST1IgICAgICgtNCkgKi9cbiAgJy01JzogICAnYnVmZmVyIGVycm9yJywgICAgICAgIC8qIFpfQlVGX0VSUk9SICAgICAoLTUpICovXG4gICctNic6ICAgJ2luY29tcGF0aWJsZSB2ZXJzaW9uJyAvKiBaX1ZFUlNJT05fRVJST1IgKC02KSAqL1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxudmFyIHV0aWxzICAgPSByZXF1aXJlKCcuLi91dGlscy9jb21tb24nKTtcbnZhciB0cmVlcyAgID0gcmVxdWlyZSgnLi90cmVlcycpO1xudmFyIGFkbGVyMzIgPSByZXF1aXJlKCcuL2FkbGVyMzInKTtcbnZhciBjcmMzMiAgID0gcmVxdWlyZSgnLi9jcmMzMicpO1xudmFyIG1zZyAgICAgPSByZXF1aXJlKCcuL21lc3NhZ2VzJyk7XG5cbi8qIFB1YmxpYyBjb25zdGFudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbi8qIEFsbG93ZWQgZmx1c2ggdmFsdWVzOyBzZWUgZGVmbGF0ZSgpIGFuZCBpbmZsYXRlKCkgYmVsb3cgZm9yIGRldGFpbHMgKi9cbnZhciBaX05PX0ZMVVNIICAgICAgPSAwO1xudmFyIFpfUEFSVElBTF9GTFVTSCA9IDE7XG4vL3ZhciBaX1NZTkNfRkxVU0ggICAgPSAyO1xudmFyIFpfRlVMTF9GTFVTSCAgICA9IDM7XG52YXIgWl9GSU5JU0ggICAgICAgID0gNDtcbnZhciBaX0JMT0NLICAgICAgICAgPSA1O1xuLy92YXIgWl9UUkVFUyAgICAgICAgID0gNjtcblxuXG4vKiBSZXR1cm4gY29kZXMgZm9yIHRoZSBjb21wcmVzc2lvbi9kZWNvbXByZXNzaW9uIGZ1bmN0aW9ucy4gTmVnYXRpdmUgdmFsdWVzXG4gKiBhcmUgZXJyb3JzLCBwb3NpdGl2ZSB2YWx1ZXMgYXJlIHVzZWQgZm9yIHNwZWNpYWwgYnV0IG5vcm1hbCBldmVudHMuXG4gKi9cbnZhciBaX09LICAgICAgICAgICAgPSAwO1xudmFyIFpfU1RSRUFNX0VORCAgICA9IDE7XG4vL3ZhciBaX05FRURfRElDVCAgICAgPSAyO1xuLy92YXIgWl9FUlJOTyAgICAgICAgID0gLTE7XG52YXIgWl9TVFJFQU1fRVJST1IgID0gLTI7XG52YXIgWl9EQVRBX0VSUk9SICAgID0gLTM7XG4vL3ZhciBaX01FTV9FUlJPUiAgICAgPSAtNDtcbnZhciBaX0JVRl9FUlJPUiAgICAgPSAtNTtcbi8vdmFyIFpfVkVSU0lPTl9FUlJPUiA9IC02O1xuXG5cbi8qIGNvbXByZXNzaW9uIGxldmVscyAqL1xuLy92YXIgWl9OT19DT01QUkVTU0lPTiAgICAgID0gMDtcbi8vdmFyIFpfQkVTVF9TUEVFRCAgICAgICAgICA9IDE7XG4vL3ZhciBaX0JFU1RfQ09NUFJFU1NJT04gICAgPSA5O1xudmFyIFpfREVGQVVMVF9DT01QUkVTU0lPTiA9IC0xO1xuXG5cbnZhciBaX0ZJTFRFUkVEICAgICAgICAgICAgPSAxO1xudmFyIFpfSFVGRk1BTl9PTkxZICAgICAgICA9IDI7XG52YXIgWl9STEUgICAgICAgICAgICAgICAgID0gMztcbnZhciBaX0ZJWEVEICAgICAgICAgICAgICAgPSA0O1xudmFyIFpfREVGQVVMVF9TVFJBVEVHWSAgICA9IDA7XG5cbi8qIFBvc3NpYmxlIHZhbHVlcyBvZiB0aGUgZGF0YV90eXBlIGZpZWxkICh0aG91Z2ggc2VlIGluZmxhdGUoKSkgKi9cbi8vdmFyIFpfQklOQVJZICAgICAgICAgICAgICA9IDA7XG4vL3ZhciBaX1RFWFQgICAgICAgICAgICAgICAgPSAxO1xuLy92YXIgWl9BU0NJSSAgICAgICAgICAgICAgID0gMTsgLy8gPSBaX1RFWFRcbnZhciBaX1VOS05PV04gICAgICAgICAgICAgPSAyO1xuXG5cbi8qIFRoZSBkZWZsYXRlIGNvbXByZXNzaW9uIG1ldGhvZCAqL1xudmFyIFpfREVGTEFURUQgID0gODtcblxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG52YXIgTUFYX01FTV9MRVZFTCA9IDk7XG4vKiBNYXhpbXVtIHZhbHVlIGZvciBtZW1MZXZlbCBpbiBkZWZsYXRlSW5pdDIgKi9cbnZhciBNQVhfV0JJVFMgPSAxNTtcbi8qIDMySyBMWjc3IHdpbmRvdyAqL1xudmFyIERFRl9NRU1fTEVWRUwgPSA4O1xuXG5cbnZhciBMRU5HVEhfQ09ERVMgID0gMjk7XG4vKiBudW1iZXIgb2YgbGVuZ3RoIGNvZGVzLCBub3QgY291bnRpbmcgdGhlIHNwZWNpYWwgRU5EX0JMT0NLIGNvZGUgKi9cbnZhciBMSVRFUkFMUyAgICAgID0gMjU2O1xuLyogbnVtYmVyIG9mIGxpdGVyYWwgYnl0ZXMgMC4uMjU1ICovXG52YXIgTF9DT0RFUyAgICAgICA9IExJVEVSQUxTICsgMSArIExFTkdUSF9DT0RFUztcbi8qIG51bWJlciBvZiBMaXRlcmFsIG9yIExlbmd0aCBjb2RlcywgaW5jbHVkaW5nIHRoZSBFTkRfQkxPQ0sgY29kZSAqL1xudmFyIERfQ09ERVMgICAgICAgPSAzMDtcbi8qIG51bWJlciBvZiBkaXN0YW5jZSBjb2RlcyAqL1xudmFyIEJMX0NPREVTICAgICAgPSAxOTtcbi8qIG51bWJlciBvZiBjb2RlcyB1c2VkIHRvIHRyYW5zZmVyIHRoZSBiaXQgbGVuZ3RocyAqL1xudmFyIEhFQVBfU0laRSAgICAgPSAyICogTF9DT0RFUyArIDE7XG4vKiBtYXhpbXVtIGhlYXAgc2l6ZSAqL1xudmFyIE1BWF9CSVRTICA9IDE1O1xuLyogQWxsIGNvZGVzIG11c3Qgbm90IGV4Y2VlZCBNQVhfQklUUyBiaXRzICovXG5cbnZhciBNSU5fTUFUQ0ggPSAzO1xudmFyIE1BWF9NQVRDSCA9IDI1ODtcbnZhciBNSU5fTE9PS0FIRUFEID0gKE1BWF9NQVRDSCArIE1JTl9NQVRDSCArIDEpO1xuXG52YXIgUFJFU0VUX0RJQ1QgPSAweDIwO1xuXG52YXIgSU5JVF9TVEFURSA9IDQyO1xudmFyIEVYVFJBX1NUQVRFID0gNjk7XG52YXIgTkFNRV9TVEFURSA9IDczO1xudmFyIENPTU1FTlRfU1RBVEUgPSA5MTtcbnZhciBIQ1JDX1NUQVRFID0gMTAzO1xudmFyIEJVU1lfU1RBVEUgPSAxMTM7XG52YXIgRklOSVNIX1NUQVRFID0gNjY2O1xuXG52YXIgQlNfTkVFRF9NT1JFICAgICAgPSAxOyAvKiBibG9jayBub3QgY29tcGxldGVkLCBuZWVkIG1vcmUgaW5wdXQgb3IgbW9yZSBvdXRwdXQgKi9cbnZhciBCU19CTE9DS19ET05FICAgICA9IDI7IC8qIGJsb2NrIGZsdXNoIHBlcmZvcm1lZCAqL1xudmFyIEJTX0ZJTklTSF9TVEFSVEVEID0gMzsgLyogZmluaXNoIHN0YXJ0ZWQsIG5lZWQgb25seSBtb3JlIG91dHB1dCBhdCBuZXh0IGRlZmxhdGUgKi9cbnZhciBCU19GSU5JU0hfRE9ORSAgICA9IDQ7IC8qIGZpbmlzaCBkb25lLCBhY2NlcHQgbm8gbW9yZSBpbnB1dCBvciBvdXRwdXQgKi9cblxudmFyIE9TX0NPREUgPSAweDAzOyAvLyBVbml4IDopIC4gRG9uJ3QgZGV0ZWN0LCB1c2UgdGhpcyBkZWZhdWx0LlxuXG5mdW5jdGlvbiBlcnIoc3RybSwgZXJyb3JDb2RlKSB7XG4gIHN0cm0ubXNnID0gbXNnW2Vycm9yQ29kZV07XG4gIHJldHVybiBlcnJvckNvZGU7XG59XG5cbmZ1bmN0aW9uIHJhbmsoZikge1xuICByZXR1cm4gKChmKSA8PCAxKSAtICgoZikgPiA0ID8gOSA6IDApO1xufVxuXG5mdW5jdGlvbiB6ZXJvKGJ1ZikgeyB2YXIgbGVuID0gYnVmLmxlbmd0aDsgd2hpbGUgKC0tbGVuID49IDApIHsgYnVmW2xlbl0gPSAwOyB9IH1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBGbHVzaCBhcyBtdWNoIHBlbmRpbmcgb3V0cHV0IGFzIHBvc3NpYmxlLiBBbGwgZGVmbGF0ZSgpIG91dHB1dCBnb2VzXG4gKiB0aHJvdWdoIHRoaXMgZnVuY3Rpb24gc28gc29tZSBhcHBsaWNhdGlvbnMgbWF5IHdpc2ggdG8gbW9kaWZ5IGl0XG4gKiB0byBhdm9pZCBhbGxvY2F0aW5nIGEgbGFyZ2Ugc3RybS0+b3V0cHV0IGJ1ZmZlciBhbmQgY29weWluZyBpbnRvIGl0LlxuICogKFNlZSBhbHNvIHJlYWRfYnVmKCkpLlxuICovXG5mdW5jdGlvbiBmbHVzaF9wZW5kaW5nKHN0cm0pIHtcbiAgdmFyIHMgPSBzdHJtLnN0YXRlO1xuXG4gIC8vX3RyX2ZsdXNoX2JpdHMocyk7XG4gIHZhciBsZW4gPSBzLnBlbmRpbmc7XG4gIGlmIChsZW4gPiBzdHJtLmF2YWlsX291dCkge1xuICAgIGxlbiA9IHN0cm0uYXZhaWxfb3V0O1xuICB9XG4gIGlmIChsZW4gPT09IDApIHsgcmV0dXJuOyB9XG5cbiAgdXRpbHMuYXJyYXlTZXQoc3RybS5vdXRwdXQsIHMucGVuZGluZ19idWYsIHMucGVuZGluZ19vdXQsIGxlbiwgc3RybS5uZXh0X291dCk7XG4gIHN0cm0ubmV4dF9vdXQgKz0gbGVuO1xuICBzLnBlbmRpbmdfb3V0ICs9IGxlbjtcbiAgc3RybS50b3RhbF9vdXQgKz0gbGVuO1xuICBzdHJtLmF2YWlsX291dCAtPSBsZW47XG4gIHMucGVuZGluZyAtPSBsZW47XG4gIGlmIChzLnBlbmRpbmcgPT09IDApIHtcbiAgICBzLnBlbmRpbmdfb3V0ID0gMDtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGZsdXNoX2Jsb2NrX29ubHkocywgbGFzdCkge1xuICB0cmVlcy5fdHJfZmx1c2hfYmxvY2socywgKHMuYmxvY2tfc3RhcnQgPj0gMCA/IHMuYmxvY2tfc3RhcnQgOiAtMSksIHMuc3Ryc3RhcnQgLSBzLmJsb2NrX3N0YXJ0LCBsYXN0KTtcbiAgcy5ibG9ja19zdGFydCA9IHMuc3Ryc3RhcnQ7XG4gIGZsdXNoX3BlbmRpbmcocy5zdHJtKTtcbn1cblxuXG5mdW5jdGlvbiBwdXRfYnl0ZShzLCBiKSB7XG4gIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gYjtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBQdXQgYSBzaG9ydCBpbiB0aGUgcGVuZGluZyBidWZmZXIuIFRoZSAxNi1iaXQgdmFsdWUgaXMgcHV0IGluIE1TQiBvcmRlci5cbiAqIElOIGFzc2VydGlvbjogdGhlIHN0cmVhbSBzdGF0ZSBpcyBjb3JyZWN0IGFuZCB0aGVyZSBpcyBlbm91Z2ggcm9vbSBpblxuICogcGVuZGluZ19idWYuXG4gKi9cbmZ1bmN0aW9uIHB1dFNob3J0TVNCKHMsIGIpIHtcbi8vICBwdXRfYnl0ZShzLCAoQnl0ZSkoYiA+PiA4KSk7XG4vLyAgcHV0X2J5dGUocywgKEJ5dGUpKGIgJiAweGZmKSk7XG4gIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gKGIgPj4+IDgpICYgMHhmZjtcbiAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSBiICYgMHhmZjtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFJlYWQgYSBuZXcgYnVmZmVyIGZyb20gdGhlIGN1cnJlbnQgaW5wdXQgc3RyZWFtLCB1cGRhdGUgdGhlIGFkbGVyMzJcbiAqIGFuZCB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgcmVhZC4gIEFsbCBkZWZsYXRlKCkgaW5wdXQgZ29lcyB0aHJvdWdoXG4gKiB0aGlzIGZ1bmN0aW9uIHNvIHNvbWUgYXBwbGljYXRpb25zIG1heSB3aXNoIHRvIG1vZGlmeSBpdCB0byBhdm9pZFxuICogYWxsb2NhdGluZyBhIGxhcmdlIHN0cm0tPmlucHV0IGJ1ZmZlciBhbmQgY29weWluZyBmcm9tIGl0LlxuICogKFNlZSBhbHNvIGZsdXNoX3BlbmRpbmcoKSkuXG4gKi9cbmZ1bmN0aW9uIHJlYWRfYnVmKHN0cm0sIGJ1Ziwgc3RhcnQsIHNpemUpIHtcbiAgdmFyIGxlbiA9IHN0cm0uYXZhaWxfaW47XG5cbiAgaWYgKGxlbiA+IHNpemUpIHsgbGVuID0gc2l6ZTsgfVxuICBpZiAobGVuID09PSAwKSB7IHJldHVybiAwOyB9XG5cbiAgc3RybS5hdmFpbF9pbiAtPSBsZW47XG5cbiAgLy8gem1lbWNweShidWYsIHN0cm0tPm5leHRfaW4sIGxlbik7XG4gIHV0aWxzLmFycmF5U2V0KGJ1Ziwgc3RybS5pbnB1dCwgc3RybS5uZXh0X2luLCBsZW4sIHN0YXJ0KTtcbiAgaWYgKHN0cm0uc3RhdGUud3JhcCA9PT0gMSkge1xuICAgIHN0cm0uYWRsZXIgPSBhZGxlcjMyKHN0cm0uYWRsZXIsIGJ1ZiwgbGVuLCBzdGFydCk7XG4gIH1cblxuICBlbHNlIGlmIChzdHJtLnN0YXRlLndyYXAgPT09IDIpIHtcbiAgICBzdHJtLmFkbGVyID0gY3JjMzIoc3RybS5hZGxlciwgYnVmLCBsZW4sIHN0YXJ0KTtcbiAgfVxuXG4gIHN0cm0ubmV4dF9pbiArPSBsZW47XG4gIHN0cm0udG90YWxfaW4gKz0gbGVuO1xuXG4gIHJldHVybiBsZW47XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZXQgbWF0Y2hfc3RhcnQgdG8gdGhlIGxvbmdlc3QgbWF0Y2ggc3RhcnRpbmcgYXQgdGhlIGdpdmVuIHN0cmluZyBhbmRcbiAqIHJldHVybiBpdHMgbGVuZ3RoLiBNYXRjaGVzIHNob3J0ZXIgb3IgZXF1YWwgdG8gcHJldl9sZW5ndGggYXJlIGRpc2NhcmRlZCxcbiAqIGluIHdoaWNoIGNhc2UgdGhlIHJlc3VsdCBpcyBlcXVhbCB0byBwcmV2X2xlbmd0aCBhbmQgbWF0Y2hfc3RhcnQgaXNcbiAqIGdhcmJhZ2UuXG4gKiBJTiBhc3NlcnRpb25zOiBjdXJfbWF0Y2ggaXMgdGhlIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW4gZm9yIHRoZSBjdXJyZW50XG4gKiAgIHN0cmluZyAoc3Ryc3RhcnQpIGFuZCBpdHMgZGlzdGFuY2UgaXMgPD0gTUFYX0RJU1QsIGFuZCBwcmV2X2xlbmd0aCA+PSAxXG4gKiBPVVQgYXNzZXJ0aW9uOiB0aGUgbWF0Y2ggbGVuZ3RoIGlzIG5vdCBncmVhdGVyIHRoYW4gcy0+bG9va2FoZWFkLlxuICovXG5mdW5jdGlvbiBsb25nZXN0X21hdGNoKHMsIGN1cl9tYXRjaCkge1xuICB2YXIgY2hhaW5fbGVuZ3RoID0gcy5tYXhfY2hhaW5fbGVuZ3RoOyAgICAgIC8qIG1heCBoYXNoIGNoYWluIGxlbmd0aCAqL1xuICB2YXIgc2NhbiA9IHMuc3Ryc3RhcnQ7IC8qIGN1cnJlbnQgc3RyaW5nICovXG4gIHZhciBtYXRjaDsgICAgICAgICAgICAgICAgICAgICAgIC8qIG1hdGNoZWQgc3RyaW5nICovXG4gIHZhciBsZW47ICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogbGVuZ3RoIG9mIGN1cnJlbnQgbWF0Y2ggKi9cbiAgdmFyIGJlc3RfbGVuID0gcy5wcmV2X2xlbmd0aDsgICAgICAgICAgICAgIC8qIGJlc3QgbWF0Y2ggbGVuZ3RoIHNvIGZhciAqL1xuICB2YXIgbmljZV9tYXRjaCA9IHMubmljZV9tYXRjaDsgICAgICAgICAgICAgLyogc3RvcCBpZiBtYXRjaCBsb25nIGVub3VnaCAqL1xuICB2YXIgbGltaXQgPSAocy5zdHJzdGFydCA+IChzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpKSA/XG4gICAgICBzLnN0cnN0YXJ0IC0gKHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCkgOiAwLypOSUwqLztcblxuICB2YXIgX3dpbiA9IHMud2luZG93OyAvLyBzaG9ydGN1dFxuXG4gIHZhciB3bWFzayA9IHMud19tYXNrO1xuICB2YXIgcHJldiAgPSBzLnByZXY7XG5cbiAgLyogU3RvcCB3aGVuIGN1cl9tYXRjaCBiZWNvbWVzIDw9IGxpbWl0LiBUbyBzaW1wbGlmeSB0aGUgY29kZSxcbiAgICogd2UgcHJldmVudCBtYXRjaGVzIHdpdGggdGhlIHN0cmluZyBvZiB3aW5kb3cgaW5kZXggMC5cbiAgICovXG5cbiAgdmFyIHN0cmVuZCA9IHMuc3Ryc3RhcnQgKyBNQVhfTUFUQ0g7XG4gIHZhciBzY2FuX2VuZDEgID0gX3dpbltzY2FuICsgYmVzdF9sZW4gLSAxXTtcbiAgdmFyIHNjYW5fZW5kICAgPSBfd2luW3NjYW4gKyBiZXN0X2xlbl07XG5cbiAgLyogVGhlIGNvZGUgaXMgb3B0aW1pemVkIGZvciBIQVNIX0JJVFMgPj0gOCBhbmQgTUFYX01BVENILTIgbXVsdGlwbGUgb2YgMTYuXG4gICAqIEl0IGlzIGVhc3kgdG8gZ2V0IHJpZCBvZiB0aGlzIG9wdGltaXphdGlvbiBpZiBuZWNlc3NhcnkuXG4gICAqL1xuICAvLyBBc3NlcnQocy0+aGFzaF9iaXRzID49IDggJiYgTUFYX01BVENIID09IDI1OCwgXCJDb2RlIHRvbyBjbGV2ZXJcIik7XG5cbiAgLyogRG8gbm90IHdhc3RlIHRvbyBtdWNoIHRpbWUgaWYgd2UgYWxyZWFkeSBoYXZlIGEgZ29vZCBtYXRjaDogKi9cbiAgaWYgKHMucHJldl9sZW5ndGggPj0gcy5nb29kX21hdGNoKSB7XG4gICAgY2hhaW5fbGVuZ3RoID4+PSAyO1xuICB9XG4gIC8qIERvIG5vdCBsb29rIGZvciBtYXRjaGVzIGJleW9uZCB0aGUgZW5kIG9mIHRoZSBpbnB1dC4gVGhpcyBpcyBuZWNlc3NhcnlcbiAgICogdG8gbWFrZSBkZWZsYXRlIGRldGVybWluaXN0aWMuXG4gICAqL1xuICBpZiAobmljZV9tYXRjaCA+IHMubG9va2FoZWFkKSB7IG5pY2VfbWF0Y2ggPSBzLmxvb2thaGVhZDsgfVxuXG4gIC8vIEFzc2VydCgodWxnKXMtPnN0cnN0YXJ0IDw9IHMtPndpbmRvd19zaXplLU1JTl9MT09LQUhFQUQsIFwibmVlZCBsb29rYWhlYWRcIik7XG5cbiAgZG8ge1xuICAgIC8vIEFzc2VydChjdXJfbWF0Y2ggPCBzLT5zdHJzdGFydCwgXCJubyBmdXR1cmVcIik7XG4gICAgbWF0Y2ggPSBjdXJfbWF0Y2g7XG5cbiAgICAvKiBTa2lwIHRvIG5leHQgbWF0Y2ggaWYgdGhlIG1hdGNoIGxlbmd0aCBjYW5ub3QgaW5jcmVhc2VcbiAgICAgKiBvciBpZiB0aGUgbWF0Y2ggbGVuZ3RoIGlzIGxlc3MgdGhhbiAyLiAgTm90ZSB0aGF0IHRoZSBjaGVja3MgYmVsb3dcbiAgICAgKiBmb3IgaW5zdWZmaWNpZW50IGxvb2thaGVhZCBvbmx5IG9jY3VyIG9jY2FzaW9uYWxseSBmb3IgcGVyZm9ybWFuY2VcbiAgICAgKiByZWFzb25zLiAgVGhlcmVmb3JlIHVuaW5pdGlhbGl6ZWQgbWVtb3J5IHdpbGwgYmUgYWNjZXNzZWQsIGFuZFxuICAgICAqIGNvbmRpdGlvbmFsIGp1bXBzIHdpbGwgYmUgbWFkZSB0aGF0IGRlcGVuZCBvbiB0aG9zZSB2YWx1ZXMuXG4gICAgICogSG93ZXZlciB0aGUgbGVuZ3RoIG9mIHRoZSBtYXRjaCBpcyBsaW1pdGVkIHRvIHRoZSBsb29rYWhlYWQsIHNvXG4gICAgICogdGhlIG91dHB1dCBvZiBkZWZsYXRlIGlzIG5vdCBhZmZlY3RlZCBieSB0aGUgdW5pbml0aWFsaXplZCB2YWx1ZXMuXG4gICAgICovXG5cbiAgICBpZiAoX3dpblttYXRjaCArIGJlc3RfbGVuXSAgICAgIT09IHNjYW5fZW5kICB8fFxuICAgICAgICBfd2luW21hdGNoICsgYmVzdF9sZW4gLSAxXSAhPT0gc2Nhbl9lbmQxIHx8XG4gICAgICAgIF93aW5bbWF0Y2hdICAgICAgICAgICAgICAgICE9PSBfd2luW3NjYW5dIHx8XG4gICAgICAgIF93aW5bKyttYXRjaF0gICAgICAgICAgICAgICE9PSBfd2luW3NjYW4gKyAxXSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLyogVGhlIGNoZWNrIGF0IGJlc3RfbGVuLTEgY2FuIGJlIHJlbW92ZWQgYmVjYXVzZSBpdCB3aWxsIGJlIG1hZGVcbiAgICAgKiBhZ2FpbiBsYXRlci4gKFRoaXMgaGV1cmlzdGljIGlzIG5vdCBhbHdheXMgYSB3aW4uKVxuICAgICAqIEl0IGlzIG5vdCBuZWNlc3NhcnkgdG8gY29tcGFyZSBzY2FuWzJdIGFuZCBtYXRjaFsyXSBzaW5jZSB0aGV5XG4gICAgICogYXJlIGFsd2F5cyBlcXVhbCB3aGVuIHRoZSBvdGhlciBieXRlcyBtYXRjaCwgZ2l2ZW4gdGhhdFxuICAgICAqIHRoZSBoYXNoIGtleXMgYXJlIGVxdWFsIGFuZCB0aGF0IEhBU0hfQklUUyA+PSA4LlxuICAgICAqL1xuICAgIHNjYW4gKz0gMjtcbiAgICBtYXRjaCsrO1xuICAgIC8vIEFzc2VydCgqc2NhbiA9PSAqbWF0Y2gsIFwibWF0Y2hbMl0/XCIpO1xuXG4gICAgLyogV2UgY2hlY2sgZm9yIGluc3VmZmljaWVudCBsb29rYWhlYWQgb25seSBldmVyeSA4dGggY29tcGFyaXNvbjtcbiAgICAgKiB0aGUgMjU2dGggY2hlY2sgd2lsbCBiZSBtYWRlIGF0IHN0cnN0YXJ0KzI1OC5cbiAgICAgKi9cbiAgICBkbyB7XG4gICAgICAvKmpzaGludCBub2VtcHR5OmZhbHNlKi9cbiAgICB9IHdoaWxlIChfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiYgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJlxuICAgICAgICAgICAgIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJiBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgICAgICAgICBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiYgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgICAgc2NhbiA8IHN0cmVuZCk7XG5cbiAgICAvLyBBc3NlcnQoc2NhbiA8PSBzLT53aW5kb3crKHVuc2lnbmVkKShzLT53aW5kb3dfc2l6ZS0xKSwgXCJ3aWxkIHNjYW5cIik7XG5cbiAgICBsZW4gPSBNQVhfTUFUQ0ggLSAoc3RyZW5kIC0gc2Nhbik7XG4gICAgc2NhbiA9IHN0cmVuZCAtIE1BWF9NQVRDSDtcblxuICAgIGlmIChsZW4gPiBiZXN0X2xlbikge1xuICAgICAgcy5tYXRjaF9zdGFydCA9IGN1cl9tYXRjaDtcbiAgICAgIGJlc3RfbGVuID0gbGVuO1xuICAgICAgaWYgKGxlbiA+PSBuaWNlX21hdGNoKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgc2Nhbl9lbmQxICA9IF93aW5bc2NhbiArIGJlc3RfbGVuIC0gMV07XG4gICAgICBzY2FuX2VuZCAgID0gX3dpbltzY2FuICsgYmVzdF9sZW5dO1xuICAgIH1cbiAgfSB3aGlsZSAoKGN1cl9tYXRjaCA9IHByZXZbY3VyX21hdGNoICYgd21hc2tdKSA+IGxpbWl0ICYmIC0tY2hhaW5fbGVuZ3RoICE9PSAwKTtcblxuICBpZiAoYmVzdF9sZW4gPD0gcy5sb29rYWhlYWQpIHtcbiAgICByZXR1cm4gYmVzdF9sZW47XG4gIH1cbiAgcmV0dXJuIHMubG9va2FoZWFkO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRmlsbCB0aGUgd2luZG93IHdoZW4gdGhlIGxvb2thaGVhZCBiZWNvbWVzIGluc3VmZmljaWVudC5cbiAqIFVwZGF0ZXMgc3Ryc3RhcnQgYW5kIGxvb2thaGVhZC5cbiAqXG4gKiBJTiBhc3NlcnRpb246IGxvb2thaGVhZCA8IE1JTl9MT09LQUhFQURcbiAqIE9VVCBhc3NlcnRpb25zOiBzdHJzdGFydCA8PSB3aW5kb3dfc2l6ZS1NSU5fTE9PS0FIRUFEXG4gKiAgICBBdCBsZWFzdCBvbmUgYnl0ZSBoYXMgYmVlbiByZWFkLCBvciBhdmFpbF9pbiA9PSAwOyByZWFkcyBhcmVcbiAqICAgIHBlcmZvcm1lZCBmb3IgYXQgbGVhc3QgdHdvIGJ5dGVzIChyZXF1aXJlZCBmb3IgdGhlIHppcCB0cmFuc2xhdGVfZW9sXG4gKiAgICBvcHRpb24gLS0gbm90IHN1cHBvcnRlZCBoZXJlKS5cbiAqL1xuZnVuY3Rpb24gZmlsbF93aW5kb3cocykge1xuICB2YXIgX3dfc2l6ZSA9IHMud19zaXplO1xuICB2YXIgcCwgbiwgbSwgbW9yZSwgc3RyO1xuXG4gIC8vQXNzZXJ0KHMtPmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQsIFwiYWxyZWFkeSBlbm91Z2ggbG9va2FoZWFkXCIpO1xuXG4gIGRvIHtcbiAgICBtb3JlID0gcy53aW5kb3dfc2l6ZSAtIHMubG9va2FoZWFkIC0gcy5zdHJzdGFydDtcblxuICAgIC8vIEpTIGludHMgaGF2ZSAzMiBiaXQsIGJsb2NrIGJlbG93IG5vdCBuZWVkZWRcbiAgICAvKiBEZWFsIHdpdGggIUAjJCUgNjRLIGxpbWl0OiAqL1xuICAgIC8vaWYgKHNpemVvZihpbnQpIDw9IDIpIHtcbiAgICAvLyAgICBpZiAobW9yZSA9PSAwICYmIHMtPnN0cnN0YXJ0ID09IDAgJiYgcy0+bG9va2FoZWFkID09IDApIHtcbiAgICAvLyAgICAgICAgbW9yZSA9IHdzaXplO1xuICAgIC8vXG4gICAgLy8gIH0gZWxzZSBpZiAobW9yZSA9PSAodW5zaWduZWQpKC0xKSkge1xuICAgIC8vICAgICAgICAvKiBWZXJ5IHVubGlrZWx5LCBidXQgcG9zc2libGUgb24gMTYgYml0IG1hY2hpbmUgaWZcbiAgICAvLyAgICAgICAgICogc3Ryc3RhcnQgPT0gMCAmJiBsb29rYWhlYWQgPT0gMSAoaW5wdXQgZG9uZSBhIGJ5dGUgYXQgdGltZSlcbiAgICAvLyAgICAgICAgICovXG4gICAgLy8gICAgICAgIG1vcmUtLTtcbiAgICAvLyAgICB9XG4gICAgLy99XG5cblxuICAgIC8qIElmIHRoZSB3aW5kb3cgaXMgYWxtb3N0IGZ1bGwgYW5kIHRoZXJlIGlzIGluc3VmZmljaWVudCBsb29rYWhlYWQsXG4gICAgICogbW92ZSB0aGUgdXBwZXIgaGFsZiB0byB0aGUgbG93ZXIgb25lIHRvIG1ha2Ugcm9vbSBpbiB0aGUgdXBwZXIgaGFsZi5cbiAgICAgKi9cbiAgICBpZiAocy5zdHJzdGFydCA+PSBfd19zaXplICsgKF93X3NpemUgLSBNSU5fTE9PS0FIRUFEKSkge1xuXG4gICAgICB1dGlscy5hcnJheVNldChzLndpbmRvdywgcy53aW5kb3csIF93X3NpemUsIF93X3NpemUsIDApO1xuICAgICAgcy5tYXRjaF9zdGFydCAtPSBfd19zaXplO1xuICAgICAgcy5zdHJzdGFydCAtPSBfd19zaXplO1xuICAgICAgLyogd2Ugbm93IGhhdmUgc3Ryc3RhcnQgPj0gTUFYX0RJU1QgKi9cbiAgICAgIHMuYmxvY2tfc3RhcnQgLT0gX3dfc2l6ZTtcblxuICAgICAgLyogU2xpZGUgdGhlIGhhc2ggdGFibGUgKGNvdWxkIGJlIGF2b2lkZWQgd2l0aCAzMiBiaXQgdmFsdWVzXG4gICAgICAgYXQgdGhlIGV4cGVuc2Ugb2YgbWVtb3J5IHVzYWdlKS4gV2Ugc2xpZGUgZXZlbiB3aGVuIGxldmVsID09IDBcbiAgICAgICB0byBrZWVwIHRoZSBoYXNoIHRhYmxlIGNvbnNpc3RlbnQgaWYgd2Ugc3dpdGNoIGJhY2sgdG8gbGV2ZWwgPiAwXG4gICAgICAgbGF0ZXIuIChVc2luZyBsZXZlbCAwIHBlcm1hbmVudGx5IGlzIG5vdCBhbiBvcHRpbWFsIHVzYWdlIG9mXG4gICAgICAgemxpYiwgc28gd2UgZG9uJ3QgY2FyZSBhYm91dCB0aGlzIHBhdGhvbG9naWNhbCBjYXNlLilcbiAgICAgICAqL1xuXG4gICAgICBuID0gcy5oYXNoX3NpemU7XG4gICAgICBwID0gbjtcbiAgICAgIGRvIHtcbiAgICAgICAgbSA9IHMuaGVhZFstLXBdO1xuICAgICAgICBzLmhlYWRbcF0gPSAobSA+PSBfd19zaXplID8gbSAtIF93X3NpemUgOiAwKTtcbiAgICAgIH0gd2hpbGUgKC0tbik7XG5cbiAgICAgIG4gPSBfd19zaXplO1xuICAgICAgcCA9IG47XG4gICAgICBkbyB7XG4gICAgICAgIG0gPSBzLnByZXZbLS1wXTtcbiAgICAgICAgcy5wcmV2W3BdID0gKG0gPj0gX3dfc2l6ZSA/IG0gLSBfd19zaXplIDogMCk7XG4gICAgICAgIC8qIElmIG4gaXMgbm90IG9uIGFueSBoYXNoIGNoYWluLCBwcmV2W25dIGlzIGdhcmJhZ2UgYnV0XG4gICAgICAgICAqIGl0cyB2YWx1ZSB3aWxsIG5ldmVyIGJlIHVzZWQuXG4gICAgICAgICAqL1xuICAgICAgfSB3aGlsZSAoLS1uKTtcblxuICAgICAgbW9yZSArPSBfd19zaXplO1xuICAgIH1cbiAgICBpZiAocy5zdHJtLmF2YWlsX2luID09PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvKiBJZiB0aGVyZSB3YXMgbm8gc2xpZGluZzpcbiAgICAgKiAgICBzdHJzdGFydCA8PSBXU0laRStNQVhfRElTVC0xICYmIGxvb2thaGVhZCA8PSBNSU5fTE9PS0FIRUFEIC0gMSAmJlxuICAgICAqICAgIG1vcmUgPT0gd2luZG93X3NpemUgLSBsb29rYWhlYWQgLSBzdHJzdGFydFxuICAgICAqID0+IG1vcmUgPj0gd2luZG93X3NpemUgLSAoTUlOX0xPT0tBSEVBRC0xICsgV1NJWkUgKyBNQVhfRElTVC0xKVxuICAgICAqID0+IG1vcmUgPj0gd2luZG93X3NpemUgLSAyKldTSVpFICsgMlxuICAgICAqIEluIHRoZSBCSUdfTUVNIG9yIE1NQVAgY2FzZSAobm90IHlldCBzdXBwb3J0ZWQpLFxuICAgICAqICAgd2luZG93X3NpemUgPT0gaW5wdXRfc2l6ZSArIE1JTl9MT09LQUhFQUQgICYmXG4gICAgICogICBzdHJzdGFydCArIHMtPmxvb2thaGVhZCA8PSBpbnB1dF9zaXplID0+IG1vcmUgPj0gTUlOX0xPT0tBSEVBRC5cbiAgICAgKiBPdGhlcndpc2UsIHdpbmRvd19zaXplID09IDIqV1NJWkUgc28gbW9yZSA+PSAyLlxuICAgICAqIElmIHRoZXJlIHdhcyBzbGlkaW5nLCBtb3JlID49IFdTSVpFLiBTbyBpbiBhbGwgY2FzZXMsIG1vcmUgPj0gMi5cbiAgICAgKi9cbiAgICAvL0Fzc2VydChtb3JlID49IDIsIFwibW9yZSA8IDJcIik7XG4gICAgbiA9IHJlYWRfYnVmKHMuc3RybSwgcy53aW5kb3csIHMuc3Ryc3RhcnQgKyBzLmxvb2thaGVhZCwgbW9yZSk7XG4gICAgcy5sb29rYWhlYWQgKz0gbjtcblxuICAgIC8qIEluaXRpYWxpemUgdGhlIGhhc2ggdmFsdWUgbm93IHRoYXQgd2UgaGF2ZSBzb21lIGlucHV0OiAqL1xuICAgIGlmIChzLmxvb2thaGVhZCArIHMuaW5zZXJ0ID49IE1JTl9NQVRDSCkge1xuICAgICAgc3RyID0gcy5zdHJzdGFydCAtIHMuaW5zZXJ0O1xuICAgICAgcy5pbnNfaCA9IHMud2luZG93W3N0cl07XG5cbiAgICAgIC8qIFVQREFURV9IQVNIKHMsIHMtPmluc19oLCBzLT53aW5kb3dbc3RyICsgMV0pOyAqL1xuICAgICAgcy5pbnNfaCA9ICgocy5pbnNfaCA8PCBzLmhhc2hfc2hpZnQpIF4gcy53aW5kb3dbc3RyICsgMV0pICYgcy5oYXNoX21hc2s7XG4vLyNpZiBNSU5fTUFUQ0ggIT0gM1xuLy8gICAgICAgIENhbGwgdXBkYXRlX2hhc2goKSBNSU5fTUFUQ0gtMyBtb3JlIHRpbWVzXG4vLyNlbmRpZlxuICAgICAgd2hpbGUgKHMuaW5zZXJ0KSB7XG4gICAgICAgIC8qIFVQREFURV9IQVNIKHMsIHMtPmluc19oLCBzLT53aW5kb3dbc3RyICsgTUlOX01BVENILTFdKTsgKi9cbiAgICAgICAgcy5pbnNfaCA9ICgocy5pbnNfaCA8PCBzLmhhc2hfc2hpZnQpIF4gcy53aW5kb3dbc3RyICsgTUlOX01BVENIIC0gMV0pICYgcy5oYXNoX21hc2s7XG5cbiAgICAgICAgcy5wcmV2W3N0ciAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgICAgcy5oZWFkW3MuaW5zX2hdID0gc3RyO1xuICAgICAgICBzdHIrKztcbiAgICAgICAgcy5pbnNlcnQtLTtcbiAgICAgICAgaWYgKHMubG9va2FoZWFkICsgcy5pbnNlcnQgPCBNSU5fTUFUQ0gpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKiBJZiB0aGUgd2hvbGUgaW5wdXQgaGFzIGxlc3MgdGhhbiBNSU5fTUFUQ0ggYnl0ZXMsIGluc19oIGlzIGdhcmJhZ2UsXG4gICAgICogYnV0IHRoaXMgaXMgbm90IGltcG9ydGFudCBzaW5jZSBvbmx5IGxpdGVyYWwgYnl0ZXMgd2lsbCBiZSBlbWl0dGVkLlxuICAgICAqL1xuXG4gIH0gd2hpbGUgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCAmJiBzLnN0cm0uYXZhaWxfaW4gIT09IDApO1xuXG4gIC8qIElmIHRoZSBXSU5fSU5JVCBieXRlcyBhZnRlciB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGRhdGEgaGF2ZSBuZXZlciBiZWVuXG4gICAqIHdyaXR0ZW4sIHRoZW4gemVybyB0aG9zZSBieXRlcyBpbiBvcmRlciB0byBhdm9pZCBtZW1vcnkgY2hlY2sgcmVwb3J0cyBvZlxuICAgKiB0aGUgdXNlIG9mIHVuaW5pdGlhbGl6ZWQgKG9yIHVuaW5pdGlhbGlzZWQgYXMgSnVsaWFuIHdyaXRlcykgYnl0ZXMgYnlcbiAgICogdGhlIGxvbmdlc3QgbWF0Y2ggcm91dGluZXMuICBVcGRhdGUgdGhlIGhpZ2ggd2F0ZXIgbWFyayBmb3IgdGhlIG5leHRcbiAgICogdGltZSB0aHJvdWdoIGhlcmUuICBXSU5fSU5JVCBpcyBzZXQgdG8gTUFYX01BVENIIHNpbmNlIHRoZSBsb25nZXN0IG1hdGNoXG4gICAqIHJvdXRpbmVzIGFsbG93IHNjYW5uaW5nIHRvIHN0cnN0YXJ0ICsgTUFYX01BVENILCBpZ25vcmluZyBsb29rYWhlYWQuXG4gICAqL1xuLy8gIGlmIChzLmhpZ2hfd2F0ZXIgPCBzLndpbmRvd19zaXplKSB7XG4vLyAgICB2YXIgY3VyciA9IHMuc3Ryc3RhcnQgKyBzLmxvb2thaGVhZDtcbi8vICAgIHZhciBpbml0ID0gMDtcbi8vXG4vLyAgICBpZiAocy5oaWdoX3dhdGVyIDwgY3Vycikge1xuLy8gICAgICAvKiBQcmV2aW91cyBoaWdoIHdhdGVyIG1hcmsgYmVsb3cgY3VycmVudCBkYXRhIC0tIHplcm8gV0lOX0lOSVRcbi8vICAgICAgICogYnl0ZXMgb3IgdXAgdG8gZW5kIG9mIHdpbmRvdywgd2hpY2hldmVyIGlzIGxlc3MuXG4vLyAgICAgICAqL1xuLy8gICAgICBpbml0ID0gcy53aW5kb3dfc2l6ZSAtIGN1cnI7XG4vLyAgICAgIGlmIChpbml0ID4gV0lOX0lOSVQpXG4vLyAgICAgICAgaW5pdCA9IFdJTl9JTklUO1xuLy8gICAgICB6bWVtemVybyhzLT53aW5kb3cgKyBjdXJyLCAodW5zaWduZWQpaW5pdCk7XG4vLyAgICAgIHMtPmhpZ2hfd2F0ZXIgPSBjdXJyICsgaW5pdDtcbi8vICAgIH1cbi8vICAgIGVsc2UgaWYgKHMtPmhpZ2hfd2F0ZXIgPCAodWxnKWN1cnIgKyBXSU5fSU5JVCkge1xuLy8gICAgICAvKiBIaWdoIHdhdGVyIG1hcmsgYXQgb3IgYWJvdmUgY3VycmVudCBkYXRhLCBidXQgYmVsb3cgY3VycmVudCBkYXRhXG4vLyAgICAgICAqIHBsdXMgV0lOX0lOSVQgLS0gemVybyBvdXQgdG8gY3VycmVudCBkYXRhIHBsdXMgV0lOX0lOSVQsIG9yIHVwXG4vLyAgICAgICAqIHRvIGVuZCBvZiB3aW5kb3csIHdoaWNoZXZlciBpcyBsZXNzLlxuLy8gICAgICAgKi9cbi8vICAgICAgaW5pdCA9ICh1bGcpY3VyciArIFdJTl9JTklUIC0gcy0+aGlnaF93YXRlcjtcbi8vICAgICAgaWYgKGluaXQgPiBzLT53aW5kb3dfc2l6ZSAtIHMtPmhpZ2hfd2F0ZXIpXG4vLyAgICAgICAgaW5pdCA9IHMtPndpbmRvd19zaXplIC0gcy0+aGlnaF93YXRlcjtcbi8vICAgICAgem1lbXplcm8ocy0+d2luZG93ICsgcy0+aGlnaF93YXRlciwgKHVuc2lnbmVkKWluaXQpO1xuLy8gICAgICBzLT5oaWdoX3dhdGVyICs9IGluaXQ7XG4vLyAgICB9XG4vLyAgfVxuLy9cbi8vICBBc3NlcnQoKHVsZylzLT5zdHJzdGFydCA8PSBzLT53aW5kb3dfc2l6ZSAtIE1JTl9MT09LQUhFQUQsXG4vLyAgICBcIm5vdCBlbm91Z2ggcm9vbSBmb3Igc2VhcmNoXCIpO1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHkgd2l0aG91dCBjb21wcmVzc2lvbiBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gdGhlIGlucHV0IHN0cmVhbSwgcmV0dXJuXG4gKiB0aGUgY3VycmVudCBibG9jayBzdGF0ZS5cbiAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgaW5zZXJ0IG5ldyBzdHJpbmdzIGluIHRoZSBkaWN0aW9uYXJ5IHNpbmNlXG4gKiB1bmNvbXByZXNzaWJsZSBkYXRhIGlzIHByb2JhYmx5IG5vdCB1c2VmdWwuIFRoaXMgZnVuY3Rpb24gaXMgdXNlZFxuICogb25seSBmb3IgdGhlIGxldmVsPTAgY29tcHJlc3Npb24gb3B0aW9uLlxuICogTk9URTogdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgb3B0aW1pemVkIHRvIGF2b2lkIGV4dHJhIGNvcHlpbmcgZnJvbVxuICogd2luZG93IHRvIHBlbmRpbmdfYnVmLlxuICovXG5mdW5jdGlvbiBkZWZsYXRlX3N0b3JlZChzLCBmbHVzaCkge1xuICAvKiBTdG9yZWQgYmxvY2tzIGFyZSBsaW1pdGVkIHRvIDB4ZmZmZiBieXRlcywgcGVuZGluZ19idWYgaXMgbGltaXRlZFxuICAgKiB0byBwZW5kaW5nX2J1Zl9zaXplLCBhbmQgZWFjaCBzdG9yZWQgYmxvY2sgaGFzIGEgNSBieXRlIGhlYWRlcjpcbiAgICovXG4gIHZhciBtYXhfYmxvY2tfc2l6ZSA9IDB4ZmZmZjtcblxuICBpZiAobWF4X2Jsb2NrX3NpemUgPiBzLnBlbmRpbmdfYnVmX3NpemUgLSA1KSB7XG4gICAgbWF4X2Jsb2NrX3NpemUgPSBzLnBlbmRpbmdfYnVmX3NpemUgLSA1O1xuICB9XG5cbiAgLyogQ29weSBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gaW5wdXQgdG8gb3V0cHV0OiAqL1xuICBmb3IgKDs7KSB7XG4gICAgLyogRmlsbCB0aGUgd2luZG93IGFzIG11Y2ggYXMgcG9zc2libGU6ICovXG4gICAgaWYgKHMubG9va2FoZWFkIDw9IDEpIHtcblxuICAgICAgLy9Bc3NlcnQocy0+c3Ryc3RhcnQgPCBzLT53X3NpemUrTUFYX0RJU1QocykgfHxcbiAgICAgIC8vICBzLT5ibG9ja19zdGFydCA+PSAobG9uZylzLT53X3NpemUsIFwic2xpZGUgdG9vIGxhdGVcIik7XG4vLyAgICAgIGlmICghKHMuc3Ryc3RhcnQgPCBzLndfc2l6ZSArIChzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpIHx8XG4vLyAgICAgICAgcy5ibG9ja19zdGFydCA+PSBzLndfc2l6ZSkpIHtcbi8vICAgICAgICB0aHJvdyAgbmV3IEVycm9yKFwic2xpZGUgdG9vIGxhdGVcIik7XG4vLyAgICAgIH1cblxuICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICBpZiAocy5sb29rYWhlYWQgPT09IDAgJiYgZmx1c2ggPT09IFpfTk9fRkxVU0gpIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cblxuICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLyogZmx1c2ggdGhlIGN1cnJlbnQgYmxvY2sgKi9cbiAgICB9XG4gICAgLy9Bc3NlcnQocy0+YmxvY2tfc3RhcnQgPj0gMEwsIFwiYmxvY2sgZ29uZVwiKTtcbi8vICAgIGlmIChzLmJsb2NrX3N0YXJ0IDwgMCkgdGhyb3cgbmV3IEVycm9yKFwiYmxvY2sgZ29uZVwiKTtcblxuICAgIHMuc3Ryc3RhcnQgKz0gcy5sb29rYWhlYWQ7XG4gICAgcy5sb29rYWhlYWQgPSAwO1xuXG4gICAgLyogRW1pdCBhIHN0b3JlZCBibG9jayBpZiBwZW5kaW5nX2J1ZiB3aWxsIGJlIGZ1bGw6ICovXG4gICAgdmFyIG1heF9zdGFydCA9IHMuYmxvY2tfc3RhcnQgKyBtYXhfYmxvY2tfc2l6ZTtcblxuICAgIGlmIChzLnN0cnN0YXJ0ID09PSAwIHx8IHMuc3Ryc3RhcnQgPj0gbWF4X3N0YXJ0KSB7XG4gICAgICAvKiBzdHJzdGFydCA9PSAwIGlzIHBvc3NpYmxlIHdoZW4gd3JhcGFyb3VuZCBvbiAxNi1iaXQgbWFjaGluZSAqL1xuICAgICAgcy5sb29rYWhlYWQgPSBzLnN0cnN0YXJ0IC0gbWF4X3N0YXJ0O1xuICAgICAgcy5zdHJzdGFydCA9IG1heF9zdGFydDtcbiAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIC8qKiovXG5cblxuICAgIH1cbiAgICAvKiBGbHVzaCBpZiB3ZSBtYXkgaGF2ZSB0byBzbGlkZSwgb3RoZXJ3aXNlIGJsb2NrX3N0YXJ0IG1heSBiZWNvbWVcbiAgICAgKiBuZWdhdGl2ZSBhbmQgdGhlIGRhdGEgd2lsbCBiZSBnb25lOlxuICAgICAqL1xuICAgIGlmIChzLnN0cnN0YXJ0IC0gcy5ibG9ja19zdGFydCA+PSAocy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSkge1xuICAgICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgLyoqKi9cbiAgICB9XG4gIH1cblxuICBzLmluc2VydCA9IDA7XG5cbiAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMSk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgfVxuICAgIC8qKiovXG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG5cbiAgaWYgKHMuc3Ryc3RhcnQgPiBzLmJsb2NrX3N0YXJ0KSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgIH1cbiAgICAvKioqL1xuICB9XG5cbiAgcmV0dXJuIEJTX05FRURfTU9SRTtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb21wcmVzcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gdGhlIGlucHV0IHN0cmVhbSwgcmV0dXJuIHRoZSBjdXJyZW50XG4gKiBibG9jayBzdGF0ZS5cbiAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgcGVyZm9ybSBsYXp5IGV2YWx1YXRpb24gb2YgbWF0Y2hlcyBhbmQgaW5zZXJ0c1xuICogbmV3IHN0cmluZ3MgaW4gdGhlIGRpY3Rpb25hcnkgb25seSBmb3IgdW5tYXRjaGVkIHN0cmluZ3Mgb3IgZm9yIHNob3J0XG4gKiBtYXRjaGVzLiBJdCBpcyB1c2VkIG9ubHkgZm9yIHRoZSBmYXN0IGNvbXByZXNzaW9uIG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGRlZmxhdGVfZmFzdChzLCBmbHVzaCkge1xuICB2YXIgaGFzaF9oZWFkOyAgICAgICAgLyogaGVhZCBvZiB0aGUgaGFzaCBjaGFpbiAqL1xuICB2YXIgYmZsdXNoOyAgICAgICAgICAgLyogc2V0IGlmIGN1cnJlbnQgYmxvY2sgbXVzdCBiZSBmbHVzaGVkICovXG5cbiAgZm9yICg7Oykge1xuICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGFsd2F5cyBoYXZlIGVub3VnaCBsb29rYWhlYWQsIGV4Y2VwdFxuICAgICAqIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0IGZpbGUuIFdlIG5lZWQgTUFYX01BVENIIGJ5dGVzXG4gICAgICogZm9yIHRoZSBuZXh0IG1hdGNoLCBwbHVzIE1JTl9NQVRDSCBieXRlcyB0byBpbnNlcnQgdGhlXG4gICAgICogc3RyaW5nIGZvbGxvd2luZyB0aGUgbmV4dCBtYXRjaC5cbiAgICAgKi9cbiAgICBpZiAocy5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEKSB7XG4gICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQgJiYgZmx1c2ggPT09IFpfTk9fRkxVU0gpIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICBicmVhazsgLyogZmx1c2ggdGhlIGN1cnJlbnQgYmxvY2sgKi9cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBJbnNlcnQgdGhlIHN0cmluZyB3aW5kb3dbc3Ryc3RhcnQgLi4gc3Ryc3RhcnQrMl0gaW4gdGhlXG4gICAgICogZGljdGlvbmFyeSwgYW5kIHNldCBoYXNoX2hlYWQgdG8gdGhlIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW46XG4gICAgICovXG4gICAgaGFzaF9oZWFkID0gMC8qTklMKi87XG4gICAgaWYgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCkge1xuICAgICAgLyoqKiBJTlNFUlRfU1RSSU5HKHMsIHMuc3Ryc3RhcnQsIGhhc2hfaGVhZCk7ICoqKi9cbiAgICAgIHMuaW5zX2ggPSAoKHMuaW5zX2ggPDwgcy5oYXNoX3NoaWZ0KSBeIHMud2luZG93W3Muc3Ryc3RhcnQgKyBNSU5fTUFUQ0ggLSAxXSkgJiBzLmhhc2hfbWFzaztcbiAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydDtcbiAgICAgIC8qKiovXG4gICAgfVxuXG4gICAgLyogRmluZCB0aGUgbG9uZ2VzdCBtYXRjaCwgZGlzY2FyZGluZyB0aG9zZSA8PSBwcmV2X2xlbmd0aC5cbiAgICAgKiBBdCB0aGlzIHBvaW50IHdlIGhhdmUgYWx3YXlzIG1hdGNoX2xlbmd0aCA8IE1JTl9NQVRDSFxuICAgICAqL1xuICAgIGlmIChoYXNoX2hlYWQgIT09IDAvKk5JTCovICYmICgocy5zdHJzdGFydCAtIGhhc2hfaGVhZCkgPD0gKHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCkpKSB7XG4gICAgICAvKiBUbyBzaW1wbGlmeSB0aGUgY29kZSwgd2UgcHJldmVudCBtYXRjaGVzIHdpdGggdGhlIHN0cmluZ1xuICAgICAgICogb2Ygd2luZG93IGluZGV4IDAgKGluIHBhcnRpY3VsYXIgd2UgaGF2ZSB0byBhdm9pZCBhIG1hdGNoXG4gICAgICAgKiBvZiB0aGUgc3RyaW5nIHdpdGggaXRzZWxmIGF0IHRoZSBzdGFydCBvZiB0aGUgaW5wdXQgZmlsZSkuXG4gICAgICAgKi9cbiAgICAgIHMubWF0Y2hfbGVuZ3RoID0gbG9uZ2VzdF9tYXRjaChzLCBoYXNoX2hlYWQpO1xuICAgICAgLyogbG9uZ2VzdF9tYXRjaCgpIHNldHMgbWF0Y2hfc3RhcnQgKi9cbiAgICB9XG4gICAgaWYgKHMubWF0Y2hfbGVuZ3RoID49IE1JTl9NQVRDSCkge1xuICAgICAgLy8gY2hlY2tfbWF0Y2gocywgcy5zdHJzdGFydCwgcy5tYXRjaF9zdGFydCwgcy5tYXRjaF9sZW5ndGgpOyAvLyBmb3IgZGVidWcgb25seVxuXG4gICAgICAvKioqIF90cl90YWxseV9kaXN0KHMsIHMuc3Ryc3RhcnQgLSBzLm1hdGNoX3N0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gsIGJmbHVzaCk7ICoqKi9cbiAgICAgIGJmbHVzaCA9IHRyZWVzLl90cl90YWxseShzLCBzLnN0cnN0YXJ0IC0gcy5tYXRjaF9zdGFydCwgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gpO1xuXG4gICAgICBzLmxvb2thaGVhZCAtPSBzLm1hdGNoX2xlbmd0aDtcblxuICAgICAgLyogSW5zZXJ0IG5ldyBzdHJpbmdzIGluIHRoZSBoYXNoIHRhYmxlIG9ubHkgaWYgdGhlIG1hdGNoIGxlbmd0aFxuICAgICAgICogaXMgbm90IHRvbyBsYXJnZS4gVGhpcyBzYXZlcyB0aW1lIGJ1dCBkZWdyYWRlcyBjb21wcmVzc2lvbi5cbiAgICAgICAqL1xuICAgICAgaWYgKHMubWF0Y2hfbGVuZ3RoIDw9IHMubWF4X2xhenlfbWF0Y2gvKm1heF9pbnNlcnRfbGVuZ3RoKi8gJiYgcy5sb29rYWhlYWQgPj0gTUlOX01BVENIKSB7XG4gICAgICAgIHMubWF0Y2hfbGVuZ3RoLS07IC8qIHN0cmluZyBhdCBzdHJzdGFydCBhbHJlYWR5IGluIHRhYmxlICovXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICAgICAgLyoqKiBJTlNFUlRfU1RSSU5HKHMsIHMuc3Ryc3RhcnQsIGhhc2hfaGVhZCk7ICoqKi9cbiAgICAgICAgICBzLmluc19oID0gKChzLmluc19oIDw8IHMuaGFzaF9zaGlmdCkgXiBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIIC0gMV0pICYgcy5oYXNoX21hc2s7XG4gICAgICAgICAgaGFzaF9oZWFkID0gcy5wcmV2W3Muc3Ryc3RhcnQgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydDtcbiAgICAgICAgICAvKioqL1xuICAgICAgICAgIC8qIHN0cnN0YXJ0IG5ldmVyIGV4Y2VlZHMgV1NJWkUtTUFYX01BVENILCBzbyB0aGVyZSBhcmVcbiAgICAgICAgICAgKiBhbHdheXMgTUlOX01BVENIIGJ5dGVzIGFoZWFkLlxuICAgICAgICAgICAqL1xuICAgICAgICB9IHdoaWxlICgtLXMubWF0Y2hfbGVuZ3RoICE9PSAwKTtcbiAgICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgfSBlbHNlXG4gICAgICB7XG4gICAgICAgIHMuc3Ryc3RhcnQgKz0gcy5tYXRjaF9sZW5ndGg7XG4gICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gMDtcbiAgICAgICAgcy5pbnNfaCA9IHMud2luZG93W3Muc3Ryc3RhcnRdO1xuICAgICAgICAvKiBVUERBVEVfSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0KzFdKTsgKi9cbiAgICAgICAgcy5pbnNfaCA9ICgocy5pbnNfaCA8PCBzLmhhc2hfc2hpZnQpIF4gcy53aW5kb3dbcy5zdHJzdGFydCArIDFdKSAmIHMuaGFzaF9tYXNrO1xuXG4vLyNpZiBNSU5fTUFUQ0ggIT0gM1xuLy8gICAgICAgICAgICAgICAgQ2FsbCBVUERBVEVfSEFTSCgpIE1JTl9NQVRDSC0zIG1vcmUgdGltZXNcbi8vI2VuZGlmXG4gICAgICAgIC8qIElmIGxvb2thaGVhZCA8IE1JTl9NQVRDSCwgaW5zX2ggaXMgZ2FyYmFnZSwgYnV0IGl0IGRvZXMgbm90XG4gICAgICAgICAqIG1hdHRlciBzaW5jZSBpdCB3aWxsIGJlIHJlY29tcHV0ZWQgYXQgbmV4dCBkZWZsYXRlIGNhbGwuXG4gICAgICAgICAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBObyBtYXRjaCwgb3V0cHV0IGEgbGl0ZXJhbCBieXRlICovXG4gICAgICAvL1RyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMud2luZG93W3Muc3Ryc3RhcnRdKSk7XG4gICAgICAvKioqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydF0sIGJmbHVzaCk7ICoqKi9cbiAgICAgIGJmbHVzaCA9IHRyZWVzLl90cl90YWxseShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSk7XG5cbiAgICAgIHMubG9va2FoZWFkLS07XG4gICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgfVxuICAgIGlmIChiZmx1c2gpIHtcbiAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIC8qKiovXG4gICAgfVxuICB9XG4gIHMuaW5zZXJ0ID0gKChzLnN0cnN0YXJ0IDwgKE1JTl9NQVRDSCAtIDEpKSA/IHMuc3Ryc3RhcnQgOiBNSU5fTUFUQ0ggLSAxKTtcbiAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMSk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgfVxuICAgIC8qKiovXG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG4gIGlmIChzLmxhc3RfbGl0KSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgIH1cbiAgICAvKioqL1xuICB9XG4gIHJldHVybiBCU19CTE9DS19ET05FO1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNhbWUgYXMgYWJvdmUsIGJ1dCBhY2hpZXZlcyBiZXR0ZXIgY29tcHJlc3Npb24uIFdlIHVzZSBhIGxhenlcbiAqIGV2YWx1YXRpb24gZm9yIG1hdGNoZXM6IGEgbWF0Y2ggaXMgZmluYWxseSBhZG9wdGVkIG9ubHkgaWYgdGhlcmUgaXNcbiAqIG5vIGJldHRlciBtYXRjaCBhdCB0aGUgbmV4dCB3aW5kb3cgcG9zaXRpb24uXG4gKi9cbmZ1bmN0aW9uIGRlZmxhdGVfc2xvdyhzLCBmbHVzaCkge1xuICB2YXIgaGFzaF9oZWFkOyAgICAgICAgICAvKiBoZWFkIG9mIGhhc2ggY2hhaW4gKi9cbiAgdmFyIGJmbHVzaDsgICAgICAgICAgICAgIC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuXG4gIHZhciBtYXhfaW5zZXJ0O1xuXG4gIC8qIFByb2Nlc3MgdGhlIGlucHV0IGJsb2NrLiAqL1xuICBmb3IgKDs7KSB7XG4gICAgLyogTWFrZSBzdXJlIHRoYXQgd2UgYWx3YXlzIGhhdmUgZW5vdWdoIGxvb2thaGVhZCwgZXhjZXB0XG4gICAgICogYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgZmlsZS4gV2UgbmVlZCBNQVhfTUFUQ0ggYnl0ZXNcbiAgICAgKiBmb3IgdGhlIG5leHQgbWF0Y2gsIHBsdXMgTUlOX01BVENIIGJ5dGVzIHRvIGluc2VydCB0aGVcbiAgICAgKiBzdHJpbmcgZm9sbG93aW5nIHRoZSBuZXh0IG1hdGNoLlxuICAgICAqL1xuICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQpIHtcbiAgICAgIGZpbGxfd2luZG93KHMpO1xuICAgICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7IGJyZWFrOyB9IC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgfVxuXG4gICAgLyogSW5zZXJ0IHRoZSBzdHJpbmcgd2luZG93W3N0cnN0YXJ0IC4uIHN0cnN0YXJ0KzJdIGluIHRoZVxuICAgICAqIGRpY3Rpb25hcnksIGFuZCBzZXQgaGFzaF9oZWFkIHRvIHRoZSBoZWFkIG9mIHRoZSBoYXNoIGNoYWluOlxuICAgICAqL1xuICAgIGhhc2hfaGVhZCA9IDAvKk5JTCovO1xuICAgIGlmIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgIC8qKiogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiovXG4gICAgICBzLmluc19oID0gKChzLmluc19oIDw8IHMuaGFzaF9zaGlmdCkgXiBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIIC0gMV0pICYgcy5oYXNoX21hc2s7XG4gICAgICBoYXNoX2hlYWQgPSBzLnByZXZbcy5zdHJzdGFydCAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnQ7XG4gICAgICAvKioqL1xuICAgIH1cblxuICAgIC8qIEZpbmQgdGhlIGxvbmdlc3QgbWF0Y2gsIGRpc2NhcmRpbmcgdGhvc2UgPD0gcHJldl9sZW5ndGguXG4gICAgICovXG4gICAgcy5wcmV2X2xlbmd0aCA9IHMubWF0Y2hfbGVuZ3RoO1xuICAgIHMucHJldl9tYXRjaCA9IHMubWF0Y2hfc3RhcnQ7XG4gICAgcy5tYXRjaF9sZW5ndGggPSBNSU5fTUFUQ0ggLSAxO1xuXG4gICAgaWYgKGhhc2hfaGVhZCAhPT0gMC8qTklMKi8gJiYgcy5wcmV2X2xlbmd0aCA8IHMubWF4X2xhenlfbWF0Y2ggJiZcbiAgICAgICAgcy5zdHJzdGFydCAtIGhhc2hfaGVhZCA8PSAocy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKS8qTUFYX0RJU1QocykqLykge1xuICAgICAgLyogVG8gc2ltcGxpZnkgdGhlIGNvZGUsIHdlIHByZXZlbnQgbWF0Y2hlcyB3aXRoIHRoZSBzdHJpbmdcbiAgICAgICAqIG9mIHdpbmRvdyBpbmRleCAwIChpbiBwYXJ0aWN1bGFyIHdlIGhhdmUgdG8gYXZvaWQgYSBtYXRjaFxuICAgICAgICogb2YgdGhlIHN0cmluZyB3aXRoIGl0c2VsZiBhdCB0aGUgc3RhcnQgb2YgdGhlIGlucHV0IGZpbGUpLlxuICAgICAgICovXG4gICAgICBzLm1hdGNoX2xlbmd0aCA9IGxvbmdlc3RfbWF0Y2gocywgaGFzaF9oZWFkKTtcbiAgICAgIC8qIGxvbmdlc3RfbWF0Y2goKSBzZXRzIG1hdGNoX3N0YXJ0ICovXG5cbiAgICAgIGlmIChzLm1hdGNoX2xlbmd0aCA8PSA1ICYmXG4gICAgICAgICAocy5zdHJhdGVneSA9PT0gWl9GSUxURVJFRCB8fCAocy5tYXRjaF9sZW5ndGggPT09IE1JTl9NQVRDSCAmJiBzLnN0cnN0YXJ0IC0gcy5tYXRjaF9zdGFydCA+IDQwOTYvKlRPT19GQVIqLykpKSB7XG5cbiAgICAgICAgLyogSWYgcHJldl9tYXRjaCBpcyBhbHNvIE1JTl9NQVRDSCwgbWF0Y2hfc3RhcnQgaXMgZ2FyYmFnZVxuICAgICAgICAgKiBidXQgd2Ugd2lsbCBpZ25vcmUgdGhlIGN1cnJlbnQgbWF0Y2ggYW55d2F5LlxuICAgICAgICAgKi9cbiAgICAgICAgcy5tYXRjaF9sZW5ndGggPSBNSU5fTUFUQ0ggLSAxO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBJZiB0aGVyZSB3YXMgYSBtYXRjaCBhdCB0aGUgcHJldmlvdXMgc3RlcCBhbmQgdGhlIGN1cnJlbnRcbiAgICAgKiBtYXRjaCBpcyBub3QgYmV0dGVyLCBvdXRwdXQgdGhlIHByZXZpb3VzIG1hdGNoOlxuICAgICAqL1xuICAgIGlmIChzLnByZXZfbGVuZ3RoID49IE1JTl9NQVRDSCAmJiBzLm1hdGNoX2xlbmd0aCA8PSBzLnByZXZfbGVuZ3RoKSB7XG4gICAgICBtYXhfaW5zZXJ0ID0gcy5zdHJzdGFydCArIHMubG9va2FoZWFkIC0gTUlOX01BVENIO1xuICAgICAgLyogRG8gbm90IGluc2VydCBzdHJpbmdzIGluIGhhc2ggdGFibGUgYmV5b25kIHRoaXMuICovXG5cbiAgICAgIC8vY2hlY2tfbWF0Y2gocywgcy5zdHJzdGFydC0xLCBzLnByZXZfbWF0Y2gsIHMucHJldl9sZW5ndGgpO1xuXG4gICAgICAvKioqX3RyX3RhbGx5X2Rpc3Qocywgcy5zdHJzdGFydCAtIDEgLSBzLnByZXZfbWF0Y2gsXG4gICAgICAgICAgICAgICAgICAgICBzLnByZXZfbGVuZ3RoIC0gTUlOX01BVENILCBiZmx1c2gpOyoqKi9cbiAgICAgIGJmbHVzaCA9IHRyZWVzLl90cl90YWxseShzLCBzLnN0cnN0YXJ0IC0gMSAtIHMucHJldl9tYXRjaCwgcy5wcmV2X2xlbmd0aCAtIE1JTl9NQVRDSCk7XG4gICAgICAvKiBJbnNlcnQgaW4gaGFzaCB0YWJsZSBhbGwgc3RyaW5ncyB1cCB0byB0aGUgZW5kIG9mIHRoZSBtYXRjaC5cbiAgICAgICAqIHN0cnN0YXJ0LTEgYW5kIHN0cnN0YXJ0IGFyZSBhbHJlYWR5IGluc2VydGVkLiBJZiB0aGVyZSBpcyBub3RcbiAgICAgICAqIGVub3VnaCBsb29rYWhlYWQsIHRoZSBsYXN0IHR3byBzdHJpbmdzIGFyZSBub3QgaW5zZXJ0ZWQgaW5cbiAgICAgICAqIHRoZSBoYXNoIHRhYmxlLlxuICAgICAgICovXG4gICAgICBzLmxvb2thaGVhZCAtPSBzLnByZXZfbGVuZ3RoIC0gMTtcbiAgICAgIHMucHJldl9sZW5ndGggLT0gMjtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKCsrcy5zdHJzdGFydCA8PSBtYXhfaW5zZXJ0KSB7XG4gICAgICAgICAgLyoqKiBJTlNFUlRfU1RSSU5HKHMsIHMuc3Ryc3RhcnQsIGhhc2hfaGVhZCk7ICoqKi9cbiAgICAgICAgICBzLmluc19oID0gKChzLmluc19oIDw8IHMuaGFzaF9zaGlmdCkgXiBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIIC0gMV0pICYgcy5oYXNoX21hc2s7XG4gICAgICAgICAgaGFzaF9oZWFkID0gcy5wcmV2W3Muc3Ryc3RhcnQgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydDtcbiAgICAgICAgICAvKioqL1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlICgtLXMucHJldl9sZW5ndGggIT09IDApO1xuICAgICAgcy5tYXRjaF9hdmFpbGFibGUgPSAwO1xuICAgICAgcy5tYXRjaF9sZW5ndGggPSBNSU5fTUFUQ0ggLSAxO1xuICAgICAgcy5zdHJzdGFydCsrO1xuXG4gICAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgfVxuICAgICAgICAvKioqL1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChzLm1hdGNoX2F2YWlsYWJsZSkge1xuICAgICAgLyogSWYgdGhlcmUgd2FzIG5vIG1hdGNoIGF0IHRoZSBwcmV2aW91cyBwb3NpdGlvbiwgb3V0cHV0IGFcbiAgICAgICAqIHNpbmdsZSBsaXRlcmFsLiBJZiB0aGVyZSB3YXMgYSBtYXRjaCBidXQgdGhlIGN1cnJlbnQgbWF0Y2hcbiAgICAgICAqIGlzIGxvbmdlciwgdHJ1bmNhdGUgdGhlIHByZXZpb3VzIG1hdGNoIHRvIGEgc2luZ2xlIGxpdGVyYWwuXG4gICAgICAgKi9cbiAgICAgIC8vVHJhY2V2digoc3RkZXJyLFwiJWNcIiwgcy0+d2luZG93W3MtPnN0cnN0YXJ0LTFdKSk7XG4gICAgICAvKioqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydC0xXSwgYmZsdXNoKTsgKioqL1xuICAgICAgYmZsdXNoID0gdHJlZXMuX3RyX3RhbGx5KHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnQgLSAxXSk7XG5cbiAgICAgIGlmIChiZmx1c2gpIHtcbiAgICAgICAgLyoqKiBGTFVTSF9CTE9DS19PTkxZKHMsIDApICoqKi9cbiAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICAgIC8qKiovXG4gICAgICB9XG4gICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICBzLmxvb2thaGVhZC0tO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyogVGhlcmUgaXMgbm8gcHJldmlvdXMgbWF0Y2ggdG8gY29tcGFyZSB3aXRoLCB3YWl0IGZvclxuICAgICAgICogdGhlIG5leHQgc3RlcCB0byBkZWNpZGUuXG4gICAgICAgKi9cbiAgICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMTtcbiAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICAgIHMubG9va2FoZWFkLS07XG4gICAgfVxuICB9XG4gIC8vQXNzZXJ0IChmbHVzaCAhPSBaX05PX0ZMVVNILCBcIm5vIGZsdXNoP1wiKTtcbiAgaWYgKHMubWF0Y2hfYXZhaWxhYmxlKSB7XG4gICAgLy9UcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnQtMV0pKTtcbiAgICAvKioqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydC0xXSwgYmZsdXNoKTsgKioqL1xuICAgIGJmbHVzaCA9IHRyZWVzLl90cl90YWxseShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0IC0gMV0pO1xuXG4gICAgcy5tYXRjaF9hdmFpbGFibGUgPSAwO1xuICB9XG4gIHMuaW5zZXJ0ID0gcy5zdHJzdGFydCA8IE1JTl9NQVRDSCAtIDEgPyBzLnN0cnN0YXJ0IDogTUlOX01BVENIIC0gMTtcbiAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMSk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgfVxuICAgIC8qKiovXG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG4gIGlmIChzLmxhc3RfbGl0KSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgIH1cbiAgICAvKioqL1xuICB9XG5cbiAgcmV0dXJuIEJTX0JMT0NLX0RPTkU7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBGb3IgWl9STEUsIHNpbXBseSBsb29rIGZvciBydW5zIG9mIGJ5dGVzLCBnZW5lcmF0ZSBtYXRjaGVzIG9ubHkgb2YgZGlzdGFuY2VcbiAqIG9uZS4gIERvIG5vdCBtYWludGFpbiBhIGhhc2ggdGFibGUuICAoSXQgd2lsbCBiZSByZWdlbmVyYXRlZCBpZiB0aGlzIHJ1biBvZlxuICogZGVmbGF0ZSBzd2l0Y2hlcyBhd2F5IGZyb20gWl9STEUuKVxuICovXG5mdW5jdGlvbiBkZWZsYXRlX3JsZShzLCBmbHVzaCkge1xuICB2YXIgYmZsdXNoOyAgICAgICAgICAgIC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuICB2YXIgcHJldjsgICAgICAgICAgICAgIC8qIGJ5dGUgYXQgZGlzdGFuY2Ugb25lIHRvIG1hdGNoICovXG4gIHZhciBzY2FuLCBzdHJlbmQ7ICAgICAgLyogc2NhbiBnb2VzIHVwIHRvIHN0cmVuZCBmb3IgbGVuZ3RoIG9mIHJ1biAqL1xuXG4gIHZhciBfd2luID0gcy53aW5kb3c7XG5cbiAgZm9yICg7Oykge1xuICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGFsd2F5cyBoYXZlIGVub3VnaCBsb29rYWhlYWQsIGV4Y2VwdFxuICAgICAqIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0IGZpbGUuIFdlIG5lZWQgTUFYX01BVENIIGJ5dGVzXG4gICAgICogZm9yIHRoZSBsb25nZXN0IHJ1biwgcGx1cyBvbmUgZm9yIHRoZSB1bnJvbGxlZCBsb29wLlxuICAgICAqL1xuICAgIGlmIChzLmxvb2thaGVhZCA8PSBNQVhfTUFUQ0gpIHtcbiAgICAgIGZpbGxfd2luZG93KHMpO1xuICAgICAgaWYgKHMubG9va2FoZWFkIDw9IE1BWF9NQVRDSCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7IGJyZWFrOyB9IC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgfVxuXG4gICAgLyogU2VlIGhvdyBtYW55IHRpbWVzIHRoZSBwcmV2aW91cyBieXRlIHJlcGVhdHMgKi9cbiAgICBzLm1hdGNoX2xlbmd0aCA9IDA7XG4gICAgaWYgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCAmJiBzLnN0cnN0YXJ0ID4gMCkge1xuICAgICAgc2NhbiA9IHMuc3Ryc3RhcnQgLSAxO1xuICAgICAgcHJldiA9IF93aW5bc2Nhbl07XG4gICAgICBpZiAocHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0pIHtcbiAgICAgICAgc3RyZW5kID0gcy5zdHJzdGFydCArIE1BWF9NQVRDSDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIC8qanNoaW50IG5vZW1wdHk6ZmFsc2UqL1xuICAgICAgICB9IHdoaWxlIChwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmXG4gICAgICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmXG4gICAgICAgICAgICAgICAgIHNjYW4gPCBzdHJlbmQpO1xuICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IE1BWF9NQVRDSCAtIChzdHJlbmQgLSBzY2FuKTtcbiAgICAgICAgaWYgKHMubWF0Y2hfbGVuZ3RoID4gcy5sb29rYWhlYWQpIHtcbiAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IHMubG9va2FoZWFkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL0Fzc2VydChzY2FuIDw9IHMtPndpbmRvdysodUludCkocy0+d2luZG93X3NpemUtMSksIFwid2lsZCBzY2FuXCIpO1xuICAgIH1cblxuICAgIC8qIEVtaXQgbWF0Y2ggaWYgaGF2ZSBydW4gb2YgTUlOX01BVENIIG9yIGxvbmdlciwgZWxzZSBlbWl0IGxpdGVyYWwgKi9cbiAgICBpZiAocy5tYXRjaF9sZW5ndGggPj0gTUlOX01BVENIKSB7XG4gICAgICAvL2NoZWNrX21hdGNoKHMsIHMuc3Ryc3RhcnQsIHMuc3Ryc3RhcnQgLSAxLCBzLm1hdGNoX2xlbmd0aCk7XG5cbiAgICAgIC8qKiogX3RyX3RhbGx5X2Rpc3QocywgMSwgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gsIGJmbHVzaCk7ICoqKi9cbiAgICAgIGJmbHVzaCA9IHRyZWVzLl90cl90YWxseShzLCAxLCBzLm1hdGNoX2xlbmd0aCAtIE1JTl9NQVRDSCk7XG5cbiAgICAgIHMubG9va2FoZWFkIC09IHMubWF0Y2hfbGVuZ3RoO1xuICAgICAgcy5zdHJzdGFydCArPSBzLm1hdGNoX2xlbmd0aDtcbiAgICAgIHMubWF0Y2hfbGVuZ3RoID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgLyogTm8gbWF0Y2gsIG91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnRdKSk7XG4gICAgICAvKioqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydF0sIGJmbHVzaCk7ICoqKi9cbiAgICAgIGJmbHVzaCA9IHRyZWVzLl90cl90YWxseShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSk7XG5cbiAgICAgIHMubG9va2FoZWFkLS07XG4gICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgfVxuICAgIGlmIChiZmx1c2gpIHtcbiAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIC8qKiovXG4gICAgfVxuICB9XG4gIHMuaW5zZXJ0ID0gMDtcbiAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMSk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgfVxuICAgIC8qKiovXG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG4gIGlmIChzLmxhc3RfbGl0KSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgIH1cbiAgICAvKioqL1xuICB9XG4gIHJldHVybiBCU19CTE9DS19ET05FO1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZvciBaX0hVRkZNQU5fT05MWSwgZG8gbm90IGxvb2sgZm9yIG1hdGNoZXMuICBEbyBub3QgbWFpbnRhaW4gYSBoYXNoIHRhYmxlLlxuICogKEl0IHdpbGwgYmUgcmVnZW5lcmF0ZWQgaWYgdGhpcyBydW4gb2YgZGVmbGF0ZSBzd2l0Y2hlcyBhd2F5IGZyb20gSHVmZm1hbi4pXG4gKi9cbmZ1bmN0aW9uIGRlZmxhdGVfaHVmZihzLCBmbHVzaCkge1xuICB2YXIgYmZsdXNoOyAgICAgICAgICAgICAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cblxuICBmb3IgKDs7KSB7XG4gICAgLyogTWFrZSBzdXJlIHRoYXQgd2UgaGF2ZSBhIGxpdGVyYWwgdG8gd3JpdGUuICovXG4gICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICBpZiAoZmx1c2ggPT09IFpfTk9fRkxVU0gpIHtcbiAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrOyAgICAgIC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogT3V0cHV0IGEgbGl0ZXJhbCBieXRlICovXG4gICAgcy5tYXRjaF9sZW5ndGggPSAwO1xuICAgIC8vVHJhY2V2digoc3RkZXJyLFwiJWNcIiwgcy0+d2luZG93W3MtPnN0cnN0YXJ0XSkpO1xuICAgIC8qKiogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSwgYmZsdXNoKTsgKioqL1xuICAgIGJmbHVzaCA9IHRyZWVzLl90cl90YWxseShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSk7XG4gICAgcy5sb29rYWhlYWQtLTtcbiAgICBzLnN0cnN0YXJ0Kys7XG4gICAgaWYgKGJmbHVzaCkge1xuICAgICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgLyoqKi9cbiAgICB9XG4gIH1cbiAgcy5pbnNlcnQgPSAwO1xuICBpZiAoZmx1c2ggPT09IFpfRklOSVNIKSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAxKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgdHJ1ZSk7XG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHJldHVybiBCU19GSU5JU0hfU1RBUlRFRDtcbiAgICB9XG4gICAgLyoqKi9cbiAgICByZXR1cm4gQlNfRklOSVNIX0RPTkU7XG4gIH1cbiAgaWYgKHMubGFzdF9saXQpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgfVxuICAgIC8qKiovXG4gIH1cbiAgcmV0dXJuIEJTX0JMT0NLX0RPTkU7XG59XG5cbi8qIFZhbHVlcyBmb3IgbWF4X2xhenlfbWF0Y2gsIGdvb2RfbWF0Y2ggYW5kIG1heF9jaGFpbl9sZW5ndGgsIGRlcGVuZGluZyBvblxuICogdGhlIGRlc2lyZWQgcGFjayBsZXZlbCAoMC4uOSkuIFRoZSB2YWx1ZXMgZ2l2ZW4gYmVsb3cgaGF2ZSBiZWVuIHR1bmVkIHRvXG4gKiBleGNsdWRlIHdvcnN0IGNhc2UgcGVyZm9ybWFuY2UgZm9yIHBhdGhvbG9naWNhbCBmaWxlcy4gQmV0dGVyIHZhbHVlcyBtYXkgYmVcbiAqIGZvdW5kIGZvciBzcGVjaWZpYyBmaWxlcy5cbiAqL1xuZnVuY3Rpb24gQ29uZmlnKGdvb2RfbGVuZ3RoLCBtYXhfbGF6eSwgbmljZV9sZW5ndGgsIG1heF9jaGFpbiwgZnVuYykge1xuICB0aGlzLmdvb2RfbGVuZ3RoID0gZ29vZF9sZW5ndGg7XG4gIHRoaXMubWF4X2xhenkgPSBtYXhfbGF6eTtcbiAgdGhpcy5uaWNlX2xlbmd0aCA9IG5pY2VfbGVuZ3RoO1xuICB0aGlzLm1heF9jaGFpbiA9IG1heF9jaGFpbjtcbiAgdGhpcy5mdW5jID0gZnVuYztcbn1cblxudmFyIGNvbmZpZ3VyYXRpb25fdGFibGU7XG5cbmNvbmZpZ3VyYXRpb25fdGFibGUgPSBbXG4gIC8qICAgICAgZ29vZCBsYXp5IG5pY2UgY2hhaW4gKi9cbiAgbmV3IENvbmZpZygwLCAwLCAwLCAwLCBkZWZsYXRlX3N0b3JlZCksICAgICAgICAgIC8qIDAgc3RvcmUgb25seSAqL1xuICBuZXcgQ29uZmlnKDQsIDQsIDgsIDQsIGRlZmxhdGVfZmFzdCksICAgICAgICAgICAgLyogMSBtYXggc3BlZWQsIG5vIGxhenkgbWF0Y2hlcyAqL1xuICBuZXcgQ29uZmlnKDQsIDUsIDE2LCA4LCBkZWZsYXRlX2Zhc3QpLCAgICAgICAgICAgLyogMiAqL1xuICBuZXcgQ29uZmlnKDQsIDYsIDMyLCAzMiwgZGVmbGF0ZV9mYXN0KSwgICAgICAgICAgLyogMyAqL1xuXG4gIG5ldyBDb25maWcoNCwgNCwgMTYsIDE2LCBkZWZsYXRlX3Nsb3cpLCAgICAgICAgICAvKiA0IGxhenkgbWF0Y2hlcyAqL1xuICBuZXcgQ29uZmlnKDgsIDE2LCAzMiwgMzIsIGRlZmxhdGVfc2xvdyksICAgICAgICAgLyogNSAqL1xuICBuZXcgQ29uZmlnKDgsIDE2LCAxMjgsIDEyOCwgZGVmbGF0ZV9zbG93KSwgICAgICAgLyogNiAqL1xuICBuZXcgQ29uZmlnKDgsIDMyLCAxMjgsIDI1NiwgZGVmbGF0ZV9zbG93KSwgICAgICAgLyogNyAqL1xuICBuZXcgQ29uZmlnKDMyLCAxMjgsIDI1OCwgMTAyNCwgZGVmbGF0ZV9zbG93KSwgICAgLyogOCAqL1xuICBuZXcgQ29uZmlnKDMyLCAyNTgsIDI1OCwgNDA5NiwgZGVmbGF0ZV9zbG93KSAgICAgLyogOSBtYXggY29tcHJlc3Npb24gKi9cbl07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbml0aWFsaXplIHRoZSBcImxvbmdlc3QgbWF0Y2hcIiByb3V0aW5lcyBmb3IgYSBuZXcgemxpYiBzdHJlYW1cbiAqL1xuZnVuY3Rpb24gbG1faW5pdChzKSB7XG4gIHMud2luZG93X3NpemUgPSAyICogcy53X3NpemU7XG5cbiAgLyoqKiBDTEVBUl9IQVNIKHMpOyAqKiovXG4gIHplcm8ocy5oZWFkKTsgLy8gRmlsbCB3aXRoIE5JTCAoPSAwKTtcblxuICAvKiBTZXQgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzOlxuICAgKi9cbiAgcy5tYXhfbGF6eV9tYXRjaCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubWF4X2xhenk7XG4gIHMuZ29vZF9tYXRjaCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0uZ29vZF9sZW5ndGg7XG4gIHMubmljZV9tYXRjaCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubmljZV9sZW5ndGg7XG4gIHMubWF4X2NoYWluX2xlbmd0aCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubWF4X2NoYWluO1xuXG4gIHMuc3Ryc3RhcnQgPSAwO1xuICBzLmJsb2NrX3N0YXJ0ID0gMDtcbiAgcy5sb29rYWhlYWQgPSAwO1xuICBzLmluc2VydCA9IDA7XG4gIHMubWF0Y2hfbGVuZ3RoID0gcy5wcmV2X2xlbmd0aCA9IE1JTl9NQVRDSCAtIDE7XG4gIHMubWF0Y2hfYXZhaWxhYmxlID0gMDtcbiAgcy5pbnNfaCA9IDA7XG59XG5cblxuZnVuY3Rpb24gRGVmbGF0ZVN0YXRlKCkge1xuICB0aGlzLnN0cm0gPSBudWxsOyAgICAgICAgICAgIC8qIHBvaW50ZXIgYmFjayB0byB0aGlzIHpsaWIgc3RyZWFtICovXG4gIHRoaXMuc3RhdHVzID0gMDsgICAgICAgICAgICAvKiBhcyB0aGUgbmFtZSBpbXBsaWVzICovXG4gIHRoaXMucGVuZGluZ19idWYgPSBudWxsOyAgICAgIC8qIG91dHB1dCBzdGlsbCBwZW5kaW5nICovXG4gIHRoaXMucGVuZGluZ19idWZfc2l6ZSA9IDA7ICAvKiBzaXplIG9mIHBlbmRpbmdfYnVmICovXG4gIHRoaXMucGVuZGluZ19vdXQgPSAwOyAgICAgICAvKiBuZXh0IHBlbmRpbmcgYnl0ZSB0byBvdXRwdXQgdG8gdGhlIHN0cmVhbSAqL1xuICB0aGlzLnBlbmRpbmcgPSAwOyAgICAgICAgICAgLyogbmIgb2YgYnl0ZXMgaW4gdGhlIHBlbmRpbmcgYnVmZmVyICovXG4gIHRoaXMud3JhcCA9IDA7ICAgICAgICAgICAgICAvKiBiaXQgMCB0cnVlIGZvciB6bGliLCBiaXQgMSB0cnVlIGZvciBnemlwICovXG4gIHRoaXMuZ3poZWFkID0gbnVsbDsgICAgICAgICAvKiBnemlwIGhlYWRlciBpbmZvcm1hdGlvbiB0byB3cml0ZSAqL1xuICB0aGlzLmd6aW5kZXggPSAwOyAgICAgICAgICAgLyogd2hlcmUgaW4gZXh0cmEsIG5hbWUsIG9yIGNvbW1lbnQgKi9cbiAgdGhpcy5tZXRob2QgPSBaX0RFRkxBVEVEOyAvKiBjYW4gb25seSBiZSBERUZMQVRFRCAqL1xuICB0aGlzLmxhc3RfZmx1c2ggPSAtMTsgICAvKiB2YWx1ZSBvZiBmbHVzaCBwYXJhbSBmb3IgcHJldmlvdXMgZGVmbGF0ZSBjYWxsICovXG5cbiAgdGhpcy53X3NpemUgPSAwOyAgLyogTFo3NyB3aW5kb3cgc2l6ZSAoMzJLIGJ5IGRlZmF1bHQpICovXG4gIHRoaXMud19iaXRzID0gMDsgIC8qIGxvZzIod19zaXplKSAgKDguLjE2KSAqL1xuICB0aGlzLndfbWFzayA9IDA7ICAvKiB3X3NpemUgLSAxICovXG5cbiAgdGhpcy53aW5kb3cgPSBudWxsO1xuICAvKiBTbGlkaW5nIHdpbmRvdy4gSW5wdXQgYnl0ZXMgYXJlIHJlYWQgaW50byB0aGUgc2Vjb25kIGhhbGYgb2YgdGhlIHdpbmRvdyxcbiAgICogYW5kIG1vdmUgdG8gdGhlIGZpcnN0IGhhbGYgbGF0ZXIgdG8ga2VlcCBhIGRpY3Rpb25hcnkgb2YgYXQgbGVhc3Qgd1NpemVcbiAgICogYnl0ZXMuIFdpdGggdGhpcyBvcmdhbml6YXRpb24sIG1hdGNoZXMgYXJlIGxpbWl0ZWQgdG8gYSBkaXN0YW5jZSBvZlxuICAgKiB3U2l6ZS1NQVhfTUFUQ0ggYnl0ZXMsIGJ1dCB0aGlzIGVuc3VyZXMgdGhhdCBJTyBpcyBhbHdheXNcbiAgICogcGVyZm9ybWVkIHdpdGggYSBsZW5ndGggbXVsdGlwbGUgb2YgdGhlIGJsb2NrIHNpemUuXG4gICAqL1xuXG4gIHRoaXMud2luZG93X3NpemUgPSAwO1xuICAvKiBBY3R1YWwgc2l6ZSBvZiB3aW5kb3c6IDIqd1NpemUsIGV4Y2VwdCB3aGVuIHRoZSB1c2VyIGlucHV0IGJ1ZmZlclxuICAgKiBpcyBkaXJlY3RseSB1c2VkIGFzIHNsaWRpbmcgd2luZG93LlxuICAgKi9cblxuICB0aGlzLnByZXYgPSBudWxsO1xuICAvKiBMaW5rIHRvIG9sZGVyIHN0cmluZyB3aXRoIHNhbWUgaGFzaCBpbmRleC4gVG8gbGltaXQgdGhlIHNpemUgb2YgdGhpc1xuICAgKiBhcnJheSB0byA2NEssIHRoaXMgbGluayBpcyBtYWludGFpbmVkIG9ubHkgZm9yIHRoZSBsYXN0IDMySyBzdHJpbmdzLlxuICAgKiBBbiBpbmRleCBpbiB0aGlzIGFycmF5IGlzIHRodXMgYSB3aW5kb3cgaW5kZXggbW9kdWxvIDMySy5cbiAgICovXG5cbiAgdGhpcy5oZWFkID0gbnVsbDsgICAvKiBIZWFkcyBvZiB0aGUgaGFzaCBjaGFpbnMgb3IgTklMLiAqL1xuXG4gIHRoaXMuaW5zX2ggPSAwOyAgICAgICAvKiBoYXNoIGluZGV4IG9mIHN0cmluZyB0byBiZSBpbnNlcnRlZCAqL1xuICB0aGlzLmhhc2hfc2l6ZSA9IDA7ICAgLyogbnVtYmVyIG9mIGVsZW1lbnRzIGluIGhhc2ggdGFibGUgKi9cbiAgdGhpcy5oYXNoX2JpdHMgPSAwOyAgIC8qIGxvZzIoaGFzaF9zaXplKSAqL1xuICB0aGlzLmhhc2hfbWFzayA9IDA7ICAgLyogaGFzaF9zaXplLTEgKi9cblxuICB0aGlzLmhhc2hfc2hpZnQgPSAwO1xuICAvKiBOdW1iZXIgb2YgYml0cyBieSB3aGljaCBpbnNfaCBtdXN0IGJlIHNoaWZ0ZWQgYXQgZWFjaCBpbnB1dFxuICAgKiBzdGVwLiBJdCBtdXN0IGJlIHN1Y2ggdGhhdCBhZnRlciBNSU5fTUFUQ0ggc3RlcHMsIHRoZSBvbGRlc3RcbiAgICogYnl0ZSBubyBsb25nZXIgdGFrZXMgcGFydCBpbiB0aGUgaGFzaCBrZXksIHRoYXQgaXM6XG4gICAqICAgaGFzaF9zaGlmdCAqIE1JTl9NQVRDSCA+PSBoYXNoX2JpdHNcbiAgICovXG5cbiAgdGhpcy5ibG9ja19zdGFydCA9IDA7XG4gIC8qIFdpbmRvdyBwb3NpdGlvbiBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBjdXJyZW50IG91dHB1dCBibG9jay4gR2V0c1xuICAgKiBuZWdhdGl2ZSB3aGVuIHRoZSB3aW5kb3cgaXMgbW92ZWQgYmFja3dhcmRzLlxuICAgKi9cblxuICB0aGlzLm1hdGNoX2xlbmd0aCA9IDA7ICAgICAgLyogbGVuZ3RoIG9mIGJlc3QgbWF0Y2ggKi9cbiAgdGhpcy5wcmV2X21hdGNoID0gMDsgICAgICAgIC8qIHByZXZpb3VzIG1hdGNoICovXG4gIHRoaXMubWF0Y2hfYXZhaWxhYmxlID0gMDsgICAvKiBzZXQgaWYgcHJldmlvdXMgbWF0Y2ggZXhpc3RzICovXG4gIHRoaXMuc3Ryc3RhcnQgPSAwOyAgICAgICAgICAvKiBzdGFydCBvZiBzdHJpbmcgdG8gaW5zZXJ0ICovXG4gIHRoaXMubWF0Y2hfc3RhcnQgPSAwOyAgICAgICAvKiBzdGFydCBvZiBtYXRjaGluZyBzdHJpbmcgKi9cbiAgdGhpcy5sb29rYWhlYWQgPSAwOyAgICAgICAgIC8qIG51bWJlciBvZiB2YWxpZCBieXRlcyBhaGVhZCBpbiB3aW5kb3cgKi9cblxuICB0aGlzLnByZXZfbGVuZ3RoID0gMDtcbiAgLyogTGVuZ3RoIG9mIHRoZSBiZXN0IG1hdGNoIGF0IHByZXZpb3VzIHN0ZXAuIE1hdGNoZXMgbm90IGdyZWF0ZXIgdGhhbiB0aGlzXG4gICAqIGFyZSBkaXNjYXJkZWQuIFRoaXMgaXMgdXNlZCBpbiB0aGUgbGF6eSBtYXRjaCBldmFsdWF0aW9uLlxuICAgKi9cblxuICB0aGlzLm1heF9jaGFpbl9sZW5ndGggPSAwO1xuICAvKiBUbyBzcGVlZCB1cCBkZWZsYXRpb24sIGhhc2ggY2hhaW5zIGFyZSBuZXZlciBzZWFyY2hlZCBiZXlvbmQgdGhpc1xuICAgKiBsZW5ndGguICBBIGhpZ2hlciBsaW1pdCBpbXByb3ZlcyBjb21wcmVzc2lvbiByYXRpbyBidXQgZGVncmFkZXMgdGhlXG4gICAqIHNwZWVkLlxuICAgKi9cblxuICB0aGlzLm1heF9sYXp5X21hdGNoID0gMDtcbiAgLyogQXR0ZW1wdCB0byBmaW5kIGEgYmV0dGVyIG1hdGNoIG9ubHkgd2hlbiB0aGUgY3VycmVudCBtYXRjaCBpcyBzdHJpY3RseVxuICAgKiBzbWFsbGVyIHRoYW4gdGhpcyB2YWx1ZS4gVGhpcyBtZWNoYW5pc20gaXMgdXNlZCBvbmx5IGZvciBjb21wcmVzc2lvblxuICAgKiBsZXZlbHMgPj0gNC5cbiAgICovXG4gIC8vIFRoYXQncyBhbGlhcyB0byBtYXhfbGF6eV9tYXRjaCwgZG9uJ3QgdXNlIGRpcmVjdGx5XG4gIC8vdGhpcy5tYXhfaW5zZXJ0X2xlbmd0aCA9IDA7XG4gIC8qIEluc2VydCBuZXcgc3RyaW5ncyBpbiB0aGUgaGFzaCB0YWJsZSBvbmx5IGlmIHRoZSBtYXRjaCBsZW5ndGggaXMgbm90XG4gICAqIGdyZWF0ZXIgdGhhbiB0aGlzIGxlbmd0aC4gVGhpcyBzYXZlcyB0aW1lIGJ1dCBkZWdyYWRlcyBjb21wcmVzc2lvbi5cbiAgICogbWF4X2luc2VydF9sZW5ndGggaXMgdXNlZCBvbmx5IGZvciBjb21wcmVzc2lvbiBsZXZlbHMgPD0gMy5cbiAgICovXG5cbiAgdGhpcy5sZXZlbCA9IDA7ICAgICAvKiBjb21wcmVzc2lvbiBsZXZlbCAoMS4uOSkgKi9cbiAgdGhpcy5zdHJhdGVneSA9IDA7ICAvKiBmYXZvciBvciBmb3JjZSBIdWZmbWFuIGNvZGluZyovXG5cbiAgdGhpcy5nb29kX21hdGNoID0gMDtcbiAgLyogVXNlIGEgZmFzdGVyIHNlYXJjaCB3aGVuIHRoZSBwcmV2aW91cyBtYXRjaCBpcyBsb25nZXIgdGhhbiB0aGlzICovXG5cbiAgdGhpcy5uaWNlX21hdGNoID0gMDsgLyogU3RvcCBzZWFyY2hpbmcgd2hlbiBjdXJyZW50IG1hdGNoIGV4Y2VlZHMgdGhpcyAqL1xuXG4gICAgICAgICAgICAgIC8qIHVzZWQgYnkgdHJlZXMuYzogKi9cblxuICAvKiBEaWRuJ3QgdXNlIGN0X2RhdGEgdHlwZWRlZiBiZWxvdyB0byBzdXBwcmVzcyBjb21waWxlciB3YXJuaW5nICovXG5cbiAgLy8gc3RydWN0IGN0X2RhdGFfcyBkeW5fbHRyZWVbSEVBUF9TSVpFXTsgICAvKiBsaXRlcmFsIGFuZCBsZW5ndGggdHJlZSAqL1xuICAvLyBzdHJ1Y3QgY3RfZGF0YV9zIGR5bl9kdHJlZVsyKkRfQ09ERVMrMV07IC8qIGRpc3RhbmNlIHRyZWUgKi9cbiAgLy8gc3RydWN0IGN0X2RhdGFfcyBibF90cmVlWzIqQkxfQ09ERVMrMV07ICAvKiBIdWZmbWFuIHRyZWUgZm9yIGJpdCBsZW5ndGhzICovXG5cbiAgLy8gVXNlIGZsYXQgYXJyYXkgb2YgRE9VQkxFIHNpemUsIHdpdGggaW50ZXJsZWF2ZWQgZmF0YSxcbiAgLy8gYmVjYXVzZSBKUyBkb2VzIG5vdCBzdXBwb3J0IGVmZmVjdGl2ZVxuICB0aGlzLmR5bl9sdHJlZSAgPSBuZXcgdXRpbHMuQnVmMTYoSEVBUF9TSVpFICogMik7XG4gIHRoaXMuZHluX2R0cmVlICA9IG5ldyB1dGlscy5CdWYxNigoMiAqIERfQ09ERVMgKyAxKSAqIDIpO1xuICB0aGlzLmJsX3RyZWUgICAgPSBuZXcgdXRpbHMuQnVmMTYoKDIgKiBCTF9DT0RFUyArIDEpICogMik7XG4gIHplcm8odGhpcy5keW5fbHRyZWUpO1xuICB6ZXJvKHRoaXMuZHluX2R0cmVlKTtcbiAgemVybyh0aGlzLmJsX3RyZWUpO1xuXG4gIHRoaXMubF9kZXNjICAgPSBudWxsOyAgICAgICAgIC8qIGRlc2MuIGZvciBsaXRlcmFsIHRyZWUgKi9cbiAgdGhpcy5kX2Rlc2MgICA9IG51bGw7ICAgICAgICAgLyogZGVzYy4gZm9yIGRpc3RhbmNlIHRyZWUgKi9cbiAgdGhpcy5ibF9kZXNjICA9IG51bGw7ICAgICAgICAgLyogZGVzYy4gZm9yIGJpdCBsZW5ndGggdHJlZSAqL1xuXG4gIC8vdXNoIGJsX2NvdW50W01BWF9CSVRTKzFdO1xuICB0aGlzLmJsX2NvdW50ID0gbmV3IHV0aWxzLkJ1ZjE2KE1BWF9CSVRTICsgMSk7XG4gIC8qIG51bWJlciBvZiBjb2RlcyBhdCBlYWNoIGJpdCBsZW5ndGggZm9yIGFuIG9wdGltYWwgdHJlZSAqL1xuXG4gIC8vaW50IGhlYXBbMipMX0NPREVTKzFdOyAgICAgIC8qIGhlYXAgdXNlZCB0byBidWlsZCB0aGUgSHVmZm1hbiB0cmVlcyAqL1xuICB0aGlzLmhlYXAgPSBuZXcgdXRpbHMuQnVmMTYoMiAqIExfQ09ERVMgKyAxKTsgIC8qIGhlYXAgdXNlZCB0byBidWlsZCB0aGUgSHVmZm1hbiB0cmVlcyAqL1xuICB6ZXJvKHRoaXMuaGVhcCk7XG5cbiAgdGhpcy5oZWFwX2xlbiA9IDA7ICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBoZWFwICovXG4gIHRoaXMuaGVhcF9tYXggPSAwOyAgICAgICAgICAgICAgIC8qIGVsZW1lbnQgb2YgbGFyZ2VzdCBmcmVxdWVuY3kgKi9cbiAgLyogVGhlIHNvbnMgb2YgaGVhcFtuXSBhcmUgaGVhcFsyKm5dIGFuZCBoZWFwWzIqbisxXS4gaGVhcFswXSBpcyBub3QgdXNlZC5cbiAgICogVGhlIHNhbWUgaGVhcCBhcnJheSBpcyB1c2VkIHRvIGJ1aWxkIGFsbCB0cmVlcy5cbiAgICovXG5cbiAgdGhpcy5kZXB0aCA9IG5ldyB1dGlscy5CdWYxNigyICogTF9DT0RFUyArIDEpOyAvL3VjaCBkZXB0aFsyKkxfQ09ERVMrMV07XG4gIHplcm8odGhpcy5kZXB0aCk7XG4gIC8qIERlcHRoIG9mIGVhY2ggc3VidHJlZSB1c2VkIGFzIHRpZSBicmVha2VyIGZvciB0cmVlcyBvZiBlcXVhbCBmcmVxdWVuY3lcbiAgICovXG5cbiAgdGhpcy5sX2J1ZiA9IDA7ICAgICAgICAgIC8qIGJ1ZmZlciBpbmRleCBmb3IgbGl0ZXJhbHMgb3IgbGVuZ3RocyAqL1xuXG4gIHRoaXMubGl0X2J1ZnNpemUgPSAwO1xuICAvKiBTaXplIG9mIG1hdGNoIGJ1ZmZlciBmb3IgbGl0ZXJhbHMvbGVuZ3Rocy4gIFRoZXJlIGFyZSA0IHJlYXNvbnMgZm9yXG4gICAqIGxpbWl0aW5nIGxpdF9idWZzaXplIHRvIDY0SzpcbiAgICogICAtIGZyZXF1ZW5jaWVzIGNhbiBiZSBrZXB0IGluIDE2IGJpdCBjb3VudGVyc1xuICAgKiAgIC0gaWYgY29tcHJlc3Npb24gaXMgbm90IHN1Y2Nlc3NmdWwgZm9yIHRoZSBmaXJzdCBibG9jaywgYWxsIGlucHV0XG4gICAqICAgICBkYXRhIGlzIHN0aWxsIGluIHRoZSB3aW5kb3cgc28gd2UgY2FuIHN0aWxsIGVtaXQgYSBzdG9yZWQgYmxvY2sgZXZlblxuICAgKiAgICAgd2hlbiBpbnB1dCBjb21lcyBmcm9tIHN0YW5kYXJkIGlucHV0LiAgKFRoaXMgY2FuIGFsc28gYmUgZG9uZSBmb3JcbiAgICogICAgIGFsbCBibG9ja3MgaWYgbGl0X2J1ZnNpemUgaXMgbm90IGdyZWF0ZXIgdGhhbiAzMksuKVxuICAgKiAgIC0gaWYgY29tcHJlc3Npb24gaXMgbm90IHN1Y2Nlc3NmdWwgZm9yIGEgZmlsZSBzbWFsbGVyIHRoYW4gNjRLLCB3ZSBjYW5cbiAgICogICAgIGV2ZW4gZW1pdCBhIHN0b3JlZCBmaWxlIGluc3RlYWQgb2YgYSBzdG9yZWQgYmxvY2sgKHNhdmluZyA1IGJ5dGVzKS5cbiAgICogICAgIFRoaXMgaXMgYXBwbGljYWJsZSBvbmx5IGZvciB6aXAgKG5vdCBnemlwIG9yIHpsaWIpLlxuICAgKiAgIC0gY3JlYXRpbmcgbmV3IEh1ZmZtYW4gdHJlZXMgbGVzcyBmcmVxdWVudGx5IG1heSBub3QgcHJvdmlkZSBmYXN0XG4gICAqICAgICBhZGFwdGF0aW9uIHRvIGNoYW5nZXMgaW4gdGhlIGlucHV0IGRhdGEgc3RhdGlzdGljcy4gKFRha2UgZm9yXG4gICAqICAgICBleGFtcGxlIGEgYmluYXJ5IGZpbGUgd2l0aCBwb29ybHkgY29tcHJlc3NpYmxlIGNvZGUgZm9sbG93ZWQgYnlcbiAgICogICAgIGEgaGlnaGx5IGNvbXByZXNzaWJsZSBzdHJpbmcgdGFibGUuKSBTbWFsbGVyIGJ1ZmZlciBzaXplcyBnaXZlXG4gICAqICAgICBmYXN0IGFkYXB0YXRpb24gYnV0IGhhdmUgb2YgY291cnNlIHRoZSBvdmVyaGVhZCBvZiB0cmFuc21pdHRpbmdcbiAgICogICAgIHRyZWVzIG1vcmUgZnJlcXVlbnRseS5cbiAgICogICAtIEkgY2FuJ3QgY291bnQgYWJvdmUgNFxuICAgKi9cblxuICB0aGlzLmxhc3RfbGl0ID0gMDsgICAgICAvKiBydW5uaW5nIGluZGV4IGluIGxfYnVmICovXG5cbiAgdGhpcy5kX2J1ZiA9IDA7XG4gIC8qIEJ1ZmZlciBpbmRleCBmb3IgZGlzdGFuY2VzLiBUbyBzaW1wbGlmeSB0aGUgY29kZSwgZF9idWYgYW5kIGxfYnVmIGhhdmVcbiAgICogdGhlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzLiBUbyB1c2UgZGlmZmVyZW50IGxlbmd0aHMsIGFuIGV4dHJhIGZsYWdcbiAgICogYXJyYXkgd291bGQgYmUgbmVjZXNzYXJ5LlxuICAgKi9cblxuICB0aGlzLm9wdF9sZW4gPSAwOyAgICAgICAvKiBiaXQgbGVuZ3RoIG9mIGN1cnJlbnQgYmxvY2sgd2l0aCBvcHRpbWFsIHRyZWVzICovXG4gIHRoaXMuc3RhdGljX2xlbiA9IDA7ICAgIC8qIGJpdCBsZW5ndGggb2YgY3VycmVudCBibG9jayB3aXRoIHN0YXRpYyB0cmVlcyAqL1xuICB0aGlzLm1hdGNoZXMgPSAwOyAgICAgICAvKiBudW1iZXIgb2Ygc3RyaW5nIG1hdGNoZXMgaW4gY3VycmVudCBibG9jayAqL1xuICB0aGlzLmluc2VydCA9IDA7ICAgICAgICAvKiBieXRlcyBhdCBlbmQgb2Ygd2luZG93IGxlZnQgdG8gaW5zZXJ0ICovXG5cblxuICB0aGlzLmJpX2J1ZiA9IDA7XG4gIC8qIE91dHB1dCBidWZmZXIuIGJpdHMgYXJlIGluc2VydGVkIHN0YXJ0aW5nIGF0IHRoZSBib3R0b20gKGxlYXN0XG4gICAqIHNpZ25pZmljYW50IGJpdHMpLlxuICAgKi9cbiAgdGhpcy5iaV92YWxpZCA9IDA7XG4gIC8qIE51bWJlciBvZiB2YWxpZCBiaXRzIGluIGJpX2J1Zi4gIEFsbCBiaXRzIGFib3ZlIHRoZSBsYXN0IHZhbGlkIGJpdFxuICAgKiBhcmUgYWx3YXlzIHplcm8uXG4gICAqL1xuXG4gIC8vIFVzZWQgZm9yIHdpbmRvdyBtZW1vcnkgaW5pdC4gV2Ugc2FmZWx5IGlnbm9yZSBpdCBmb3IgSlMuIFRoYXQgbWFrZXNcbiAgLy8gc2Vuc2Ugb25seSBmb3IgcG9pbnRlcnMgYW5kIG1lbW9yeSBjaGVjayB0b29scy5cbiAgLy90aGlzLmhpZ2hfd2F0ZXIgPSAwO1xuICAvKiBIaWdoIHdhdGVyIG1hcmsgb2Zmc2V0IGluIHdpbmRvdyBmb3IgaW5pdGlhbGl6ZWQgYnl0ZXMgLS0gYnl0ZXMgYWJvdmVcbiAgICogdGhpcyBhcmUgc2V0IHRvIHplcm8gaW4gb3JkZXIgdG8gYXZvaWQgbWVtb3J5IGNoZWNrIHdhcm5pbmdzIHdoZW5cbiAgICogbG9uZ2VzdCBtYXRjaCByb3V0aW5lcyBhY2Nlc3MgYnl0ZXMgcGFzdCB0aGUgaW5wdXQuICBUaGlzIGlzIHRoZW5cbiAgICogdXBkYXRlZCB0byB0aGUgbmV3IGhpZ2ggd2F0ZXIgbWFyay5cbiAgICovXG59XG5cblxuZnVuY3Rpb24gZGVmbGF0ZVJlc2V0S2VlcChzdHJtKSB7XG4gIHZhciBzO1xuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkge1xuICAgIHJldHVybiBlcnIoc3RybSwgWl9TVFJFQU1fRVJST1IpO1xuICB9XG5cbiAgc3RybS50b3RhbF9pbiA9IHN0cm0udG90YWxfb3V0ID0gMDtcbiAgc3RybS5kYXRhX3R5cGUgPSBaX1VOS05PV047XG5cbiAgcyA9IHN0cm0uc3RhdGU7XG4gIHMucGVuZGluZyA9IDA7XG4gIHMucGVuZGluZ19vdXQgPSAwO1xuXG4gIGlmIChzLndyYXAgPCAwKSB7XG4gICAgcy53cmFwID0gLXMud3JhcDtcbiAgICAvKiB3YXMgbWFkZSBuZWdhdGl2ZSBieSBkZWZsYXRlKC4uLiwgWl9GSU5JU0gpOyAqL1xuICB9XG4gIHMuc3RhdHVzID0gKHMud3JhcCA/IElOSVRfU1RBVEUgOiBCVVNZX1NUQVRFKTtcbiAgc3RybS5hZGxlciA9IChzLndyYXAgPT09IDIpID9cbiAgICAwICAvLyBjcmMzMigwLCBaX05VTEwsIDApXG4gIDpcbiAgICAxOyAvLyBhZGxlcjMyKDAsIFpfTlVMTCwgMClcbiAgcy5sYXN0X2ZsdXNoID0gWl9OT19GTFVTSDtcbiAgdHJlZXMuX3RyX2luaXQocyk7XG4gIHJldHVybiBaX09LO1xufVxuXG5cbmZ1bmN0aW9uIGRlZmxhdGVSZXNldChzdHJtKSB7XG4gIHZhciByZXQgPSBkZWZsYXRlUmVzZXRLZWVwKHN0cm0pO1xuICBpZiAocmV0ID09PSBaX09LKSB7XG4gICAgbG1faW5pdChzdHJtLnN0YXRlKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5cbmZ1bmN0aW9uIGRlZmxhdGVTZXRIZWFkZXIoc3RybSwgaGVhZCkge1xuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIGlmIChzdHJtLnN0YXRlLndyYXAgIT09IDIpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0cm0uc3RhdGUuZ3poZWFkID0gaGVhZDtcbiAgcmV0dXJuIFpfT0s7XG59XG5cblxuZnVuY3Rpb24gZGVmbGF0ZUluaXQyKHN0cm0sIGxldmVsLCBtZXRob2QsIHdpbmRvd0JpdHMsIG1lbUxldmVsLCBzdHJhdGVneSkge1xuICBpZiAoIXN0cm0pIHsgLy8gPT09IFpfTlVMTFxuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuICB2YXIgd3JhcCA9IDE7XG5cbiAgaWYgKGxldmVsID09PSBaX0RFRkFVTFRfQ09NUFJFU1NJT04pIHtcbiAgICBsZXZlbCA9IDY7XG4gIH1cblxuICBpZiAod2luZG93Qml0cyA8IDApIHsgLyogc3VwcHJlc3MgemxpYiB3cmFwcGVyICovXG4gICAgd3JhcCA9IDA7XG4gICAgd2luZG93Qml0cyA9IC13aW5kb3dCaXRzO1xuICB9XG5cbiAgZWxzZSBpZiAod2luZG93Qml0cyA+IDE1KSB7XG4gICAgd3JhcCA9IDI7ICAgICAgICAgICAvKiB3cml0ZSBnemlwIHdyYXBwZXIgaW5zdGVhZCAqL1xuICAgIHdpbmRvd0JpdHMgLT0gMTY7XG4gIH1cblxuXG4gIGlmIChtZW1MZXZlbCA8IDEgfHwgbWVtTGV2ZWwgPiBNQVhfTUVNX0xFVkVMIHx8IG1ldGhvZCAhPT0gWl9ERUZMQVRFRCB8fFxuICAgIHdpbmRvd0JpdHMgPCA4IHx8IHdpbmRvd0JpdHMgPiAxNSB8fCBsZXZlbCA8IDAgfHwgbGV2ZWwgPiA5IHx8XG4gICAgc3RyYXRlZ3kgPCAwIHx8IHN0cmF0ZWd5ID4gWl9GSVhFRCkge1xuICAgIHJldHVybiBlcnIoc3RybSwgWl9TVFJFQU1fRVJST1IpO1xuICB9XG5cblxuICBpZiAod2luZG93Qml0cyA9PT0gOCkge1xuICAgIHdpbmRvd0JpdHMgPSA5O1xuICB9XG4gIC8qIHVudGlsIDI1Ni1ieXRlIHdpbmRvdyBidWcgZml4ZWQgKi9cblxuICB2YXIgcyA9IG5ldyBEZWZsYXRlU3RhdGUoKTtcblxuICBzdHJtLnN0YXRlID0gcztcbiAgcy5zdHJtID0gc3RybTtcblxuICBzLndyYXAgPSB3cmFwO1xuICBzLmd6aGVhZCA9IG51bGw7XG4gIHMud19iaXRzID0gd2luZG93Qml0cztcbiAgcy53X3NpemUgPSAxIDw8IHMud19iaXRzO1xuICBzLndfbWFzayA9IHMud19zaXplIC0gMTtcblxuICBzLmhhc2hfYml0cyA9IG1lbUxldmVsICsgNztcbiAgcy5oYXNoX3NpemUgPSAxIDw8IHMuaGFzaF9iaXRzO1xuICBzLmhhc2hfbWFzayA9IHMuaGFzaF9zaXplIC0gMTtcbiAgcy5oYXNoX3NoaWZ0ID0gfn4oKHMuaGFzaF9iaXRzICsgTUlOX01BVENIIC0gMSkgLyBNSU5fTUFUQ0gpO1xuXG4gIHMud2luZG93ID0gbmV3IHV0aWxzLkJ1Zjgocy53X3NpemUgKiAyKTtcbiAgcy5oZWFkID0gbmV3IHV0aWxzLkJ1ZjE2KHMuaGFzaF9zaXplKTtcbiAgcy5wcmV2ID0gbmV3IHV0aWxzLkJ1ZjE2KHMud19zaXplKTtcblxuICAvLyBEb24ndCBuZWVkIG1lbSBpbml0IG1hZ2ljIGZvciBKUy5cbiAgLy9zLmhpZ2hfd2F0ZXIgPSAwOyAgLyogbm90aGluZyB3cml0dGVuIHRvIHMtPndpbmRvdyB5ZXQgKi9cblxuICBzLmxpdF9idWZzaXplID0gMSA8PCAobWVtTGV2ZWwgKyA2KTsgLyogMTZLIGVsZW1lbnRzIGJ5IGRlZmF1bHQgKi9cblxuICBzLnBlbmRpbmdfYnVmX3NpemUgPSBzLmxpdF9idWZzaXplICogNDtcblxuICAvL292ZXJsYXkgPSAodXNoZiAqKSBaQUxMT0Moc3RybSwgcy0+bGl0X2J1ZnNpemUsIHNpemVvZih1c2gpKzIpO1xuICAvL3MtPnBlbmRpbmdfYnVmID0gKHVjaGYgKikgb3ZlcmxheTtcbiAgcy5wZW5kaW5nX2J1ZiA9IG5ldyB1dGlscy5CdWY4KHMucGVuZGluZ19idWZfc2l6ZSk7XG5cbiAgLy8gSXQgaXMgb2Zmc2V0IGZyb20gYHMucGVuZGluZ19idWZgIChzaXplIGlzIGBzLmxpdF9idWZzaXplICogMmApXG4gIC8vcy0+ZF9idWYgPSBvdmVybGF5ICsgcy0+bGl0X2J1ZnNpemUvc2l6ZW9mKHVzaCk7XG4gIHMuZF9idWYgPSAxICogcy5saXRfYnVmc2l6ZTtcblxuICAvL3MtPmxfYnVmID0gcy0+cGVuZGluZ19idWYgKyAoMStzaXplb2YodXNoKSkqcy0+bGl0X2J1ZnNpemU7XG4gIHMubF9idWYgPSAoMSArIDIpICogcy5saXRfYnVmc2l6ZTtcblxuICBzLmxldmVsID0gbGV2ZWw7XG4gIHMuc3RyYXRlZ3kgPSBzdHJhdGVneTtcbiAgcy5tZXRob2QgPSBtZXRob2Q7XG5cbiAgcmV0dXJuIGRlZmxhdGVSZXNldChzdHJtKTtcbn1cblxuZnVuY3Rpb24gZGVmbGF0ZUluaXQoc3RybSwgbGV2ZWwpIHtcbiAgcmV0dXJuIGRlZmxhdGVJbml0MihzdHJtLCBsZXZlbCwgWl9ERUZMQVRFRCwgTUFYX1dCSVRTLCBERUZfTUVNX0xFVkVMLCBaX0RFRkFVTFRfU1RSQVRFR1kpO1xufVxuXG5cbmZ1bmN0aW9uIGRlZmxhdGUoc3RybSwgZmx1c2gpIHtcbiAgdmFyIG9sZF9mbHVzaCwgcztcbiAgdmFyIGJlZywgdmFsOyAvLyBmb3IgZ3ppcCBoZWFkZXIgd3JpdGUgb25seVxuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSB8fFxuICAgIGZsdXNoID4gWl9CTE9DSyB8fCBmbHVzaCA8IDApIHtcbiAgICByZXR1cm4gc3RybSA/IGVycihzdHJtLCBaX1NUUkVBTV9FUlJPUikgOiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIHMgPSBzdHJtLnN0YXRlO1xuXG4gIGlmICghc3RybS5vdXRwdXQgfHxcbiAgICAgICghc3RybS5pbnB1dCAmJiBzdHJtLmF2YWlsX2luICE9PSAwKSB8fFxuICAgICAgKHMuc3RhdHVzID09PSBGSU5JU0hfU1RBVEUgJiYgZmx1c2ggIT09IFpfRklOSVNIKSkge1xuICAgIHJldHVybiBlcnIoc3RybSwgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSA/IFpfQlVGX0VSUk9SIDogWl9TVFJFQU1fRVJST1IpO1xuICB9XG5cbiAgcy5zdHJtID0gc3RybTsgLyoganVzdCBpbiBjYXNlICovXG4gIG9sZF9mbHVzaCA9IHMubGFzdF9mbHVzaDtcbiAgcy5sYXN0X2ZsdXNoID0gZmx1c2g7XG5cbiAgLyogV3JpdGUgdGhlIGhlYWRlciAqL1xuICBpZiAocy5zdGF0dXMgPT09IElOSVRfU1RBVEUpIHtcblxuICAgIGlmIChzLndyYXAgPT09IDIpIHsgLy8gR1pJUCBoZWFkZXJcbiAgICAgIHN0cm0uYWRsZXIgPSAwOyAgLy9jcmMzMigwTCwgWl9OVUxMLCAwKTtcbiAgICAgIHB1dF9ieXRlKHMsIDMxKTtcbiAgICAgIHB1dF9ieXRlKHMsIDEzOSk7XG4gICAgICBwdXRfYnl0ZShzLCA4KTtcbiAgICAgIGlmICghcy5nemhlYWQpIHsgLy8gcy0+Z3poZWFkID09IFpfTlVMTFxuICAgICAgICBwdXRfYnl0ZShzLCAwKTtcbiAgICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgICBwdXRfYnl0ZShzLCAwKTtcbiAgICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICAgIHB1dF9ieXRlKHMsIHMubGV2ZWwgPT09IDkgPyAyIDpcbiAgICAgICAgICAgICAgICAgICAgKHMuc3RyYXRlZ3kgPj0gWl9IVUZGTUFOX09OTFkgfHwgcy5sZXZlbCA8IDIgP1xuICAgICAgICAgICAgICAgICAgICAgNCA6IDApKTtcbiAgICAgICAgcHV0X2J5dGUocywgT1NfQ09ERSk7XG4gICAgICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQudGV4dCA/IDEgOiAwKSArXG4gICAgICAgICAgICAgICAgICAgIChzLmd6aGVhZC5oY3JjID8gMiA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgKCFzLmd6aGVhZC5leHRyYSA/IDAgOiA0KSArXG4gICAgICAgICAgICAgICAgICAgICghcy5nemhlYWQubmFtZSA/IDAgOiA4KSArXG4gICAgICAgICAgICAgICAgICAgICghcy5nemhlYWQuY29tbWVudCA/IDAgOiAxNilcbiAgICAgICAgKTtcbiAgICAgICAgcHV0X2J5dGUocywgcy5nemhlYWQudGltZSAmIDB4ZmYpO1xuICAgICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQudGltZSA+PiA4KSAmIDB4ZmYpO1xuICAgICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQudGltZSA+PiAxNikgJiAweGZmKTtcbiAgICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLnRpbWUgPj4gMjQpICYgMHhmZik7XG4gICAgICAgIHB1dF9ieXRlKHMsIHMubGV2ZWwgPT09IDkgPyAyIDpcbiAgICAgICAgICAgICAgICAgICAgKHMuc3RyYXRlZ3kgPj0gWl9IVUZGTUFOX09OTFkgfHwgcy5sZXZlbCA8IDIgP1xuICAgICAgICAgICAgICAgICAgICAgNCA6IDApKTtcbiAgICAgICAgcHV0X2J5dGUocywgcy5nemhlYWQub3MgJiAweGZmKTtcbiAgICAgICAgaWYgKHMuZ3poZWFkLmV4dHJhICYmIHMuZ3poZWFkLmV4dHJhLmxlbmd0aCkge1xuICAgICAgICAgIHB1dF9ieXRlKHMsIHMuZ3poZWFkLmV4dHJhLmxlbmd0aCAmIDB4ZmYpO1xuICAgICAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC5leHRyYS5sZW5ndGggPj4gOCkgJiAweGZmKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5nemhlYWQuaGNyYykge1xuICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMihzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcsIDApO1xuICAgICAgICB9XG4gICAgICAgIHMuZ3ppbmRleCA9IDA7XG4gICAgICAgIHMuc3RhdHVzID0gRVhUUkFfU1RBVEU7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgLy8gREVGTEFURSBoZWFkZXJcbiAgICB7XG4gICAgICB2YXIgaGVhZGVyID0gKFpfREVGTEFURUQgKyAoKHMud19iaXRzIC0gOCkgPDwgNCkpIDw8IDg7XG4gICAgICB2YXIgbGV2ZWxfZmxhZ3MgPSAtMTtcblxuICAgICAgaWYgKHMuc3RyYXRlZ3kgPj0gWl9IVUZGTUFOX09OTFkgfHwgcy5sZXZlbCA8IDIpIHtcbiAgICAgICAgbGV2ZWxfZmxhZ3MgPSAwO1xuICAgICAgfSBlbHNlIGlmIChzLmxldmVsIDwgNikge1xuICAgICAgICBsZXZlbF9mbGFncyA9IDE7XG4gICAgICB9IGVsc2UgaWYgKHMubGV2ZWwgPT09IDYpIHtcbiAgICAgICAgbGV2ZWxfZmxhZ3MgPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV2ZWxfZmxhZ3MgPSAzO1xuICAgICAgfVxuICAgICAgaGVhZGVyIHw9IChsZXZlbF9mbGFncyA8PCA2KTtcbiAgICAgIGlmIChzLnN0cnN0YXJ0ICE9PSAwKSB7IGhlYWRlciB8PSBQUkVTRVRfRElDVDsgfVxuICAgICAgaGVhZGVyICs9IDMxIC0gKGhlYWRlciAlIDMxKTtcblxuICAgICAgcy5zdGF0dXMgPSBCVVNZX1NUQVRFO1xuICAgICAgcHV0U2hvcnRNU0IocywgaGVhZGVyKTtcblxuICAgICAgLyogU2F2ZSB0aGUgYWRsZXIzMiBvZiB0aGUgcHJlc2V0IGRpY3Rpb25hcnk6ICovXG4gICAgICBpZiAocy5zdHJzdGFydCAhPT0gMCkge1xuICAgICAgICBwdXRTaG9ydE1TQihzLCBzdHJtLmFkbGVyID4+PiAxNik7XG4gICAgICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgJiAweGZmZmYpO1xuICAgICAgfVxuICAgICAgc3RybS5hZGxlciA9IDE7IC8vIGFkbGVyMzIoMEwsIFpfTlVMTCwgMCk7XG4gICAgfVxuICB9XG5cbi8vI2lmZGVmIEdaSVBcbiAgaWYgKHMuc3RhdHVzID09PSBFWFRSQV9TVEFURSkge1xuICAgIGlmIChzLmd6aGVhZC5leHRyYS8qICE9IFpfTlVMTCovKSB7XG4gICAgICBiZWcgPSBzLnBlbmRpbmc7ICAvKiBzdGFydCBvZiBieXRlcyB0byB1cGRhdGUgY3JjICovXG5cbiAgICAgIHdoaWxlIChzLmd6aW5kZXggPCAocy5nemhlYWQuZXh0cmEubGVuZ3RoICYgMHhmZmZmKSkge1xuICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMihzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgICAgYmVnID0gcy5wZW5kaW5nO1xuICAgICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHB1dF9ieXRlKHMsIHMuZ3poZWFkLmV4dHJhW3MuZ3ppbmRleF0gJiAweGZmKTtcbiAgICAgICAgcy5nemluZGV4Kys7XG4gICAgICB9XG4gICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgIH1cbiAgICAgIGlmIChzLmd6aW5kZXggPT09IHMuZ3poZWFkLmV4dHJhLmxlbmd0aCkge1xuICAgICAgICBzLmd6aW5kZXggPSAwO1xuICAgICAgICBzLnN0YXR1cyA9IE5BTUVfU1RBVEU7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcy5zdGF0dXMgPSBOQU1FX1NUQVRFO1xuICAgIH1cbiAgfVxuICBpZiAocy5zdGF0dXMgPT09IE5BTUVfU1RBVEUpIHtcbiAgICBpZiAocy5nemhlYWQubmFtZS8qICE9IFpfTlVMTCovKSB7XG4gICAgICBiZWcgPSBzLnBlbmRpbmc7ICAvKiBzdGFydCBvZiBieXRlcyB0byB1cGRhdGUgY3JjICovXG4gICAgICAvL2ludCB2YWw7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzIoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgICAgIGJlZyA9IHMucGVuZGluZztcbiAgICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgIHZhbCA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSlMgc3BlY2lmaWM6IGxpdHRsZSBtYWdpYyB0byBhZGQgemVybyB0ZXJtaW5hdG9yIHRvIGVuZCBvZiBzdHJpbmdcbiAgICAgICAgaWYgKHMuZ3ppbmRleCA8IHMuZ3poZWFkLm5hbWUubGVuZ3RoKSB7XG4gICAgICAgICAgdmFsID0gcy5nemhlYWQubmFtZS5jaGFyQ29kZUF0KHMuZ3ppbmRleCsrKSAmIDB4ZmY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsID0gMDtcbiAgICAgICAgfVxuICAgICAgICBwdXRfYnl0ZShzLCB2YWwpO1xuICAgICAgfSB3aGlsZSAodmFsICE9PSAwKTtcblxuICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMihzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICB9XG4gICAgICBpZiAodmFsID09PSAwKSB7XG4gICAgICAgIHMuZ3ppbmRleCA9IDA7XG4gICAgICAgIHMuc3RhdHVzID0gQ09NTUVOVF9TVEFURTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzLnN0YXR1cyA9IENPTU1FTlRfU1RBVEU7XG4gICAgfVxuICB9XG4gIGlmIChzLnN0YXR1cyA9PT0gQ09NTUVOVF9TVEFURSkge1xuICAgIGlmIChzLmd6aGVhZC5jb21tZW50LyogIT0gWl9OVUxMKi8pIHtcbiAgICAgIGJlZyA9IHMucGVuZGluZzsgIC8qIHN0YXJ0IG9mIGJ5dGVzIHRvIHVwZGF0ZSBjcmMgKi9cbiAgICAgIC8vaW50IHZhbDtcblxuICAgICAgZG8ge1xuICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMihzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgICAgYmVnID0gcy5wZW5kaW5nO1xuICAgICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgICAgdmFsID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBKUyBzcGVjaWZpYzogbGl0dGxlIG1hZ2ljIHRvIGFkZCB6ZXJvIHRlcm1pbmF0b3IgdG8gZW5kIG9mIHN0cmluZ1xuICAgICAgICBpZiAocy5nemluZGV4IDwgcy5nemhlYWQuY29tbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICB2YWwgPSBzLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQocy5nemluZGV4KyspICYgMHhmZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWwgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHB1dF9ieXRlKHMsIHZhbCk7XG4gICAgICB9IHdoaWxlICh2YWwgIT09IDApO1xuXG4gICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWwgPT09IDApIHtcbiAgICAgICAgcy5zdGF0dXMgPSBIQ1JDX1NUQVRFO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHMuc3RhdHVzID0gSENSQ19TVEFURTtcbiAgICB9XG4gIH1cbiAgaWYgKHMuc3RhdHVzID09PSBIQ1JDX1NUQVRFKSB7XG4gICAgaWYgKHMuZ3poZWFkLmhjcmMpIHtcbiAgICAgIGlmIChzLnBlbmRpbmcgKyAyID4gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICB9XG4gICAgICBpZiAocy5wZW5kaW5nICsgMiA8PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgcHV0X2J5dGUocywgc3RybS5hZGxlciAmIDB4ZmYpO1xuICAgICAgICBwdXRfYnl0ZShzLCAoc3RybS5hZGxlciA+PiA4KSAmIDB4ZmYpO1xuICAgICAgICBzdHJtLmFkbGVyID0gMDsgLy9jcmMzMigwTCwgWl9OVUxMLCAwKTtcbiAgICAgICAgcy5zdGF0dXMgPSBCVVNZX1NUQVRFO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURTtcbiAgICB9XG4gIH1cbi8vI2VuZGlmXG5cbiAgLyogRmx1c2ggYXMgbXVjaCBwZW5kaW5nIG91dHB1dCBhcyBwb3NzaWJsZSAqL1xuICBpZiAocy5wZW5kaW5nICE9PSAwKSB7XG4gICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIC8qIFNpbmNlIGF2YWlsX291dCBpcyAwLCBkZWZsYXRlIHdpbGwgYmUgY2FsbGVkIGFnYWluIHdpdGhcbiAgICAgICAqIG1vcmUgb3V0cHV0IHNwYWNlLCBidXQgcG9zc2libHkgd2l0aCBib3RoIHBlbmRpbmcgYW5kXG4gICAgICAgKiBhdmFpbF9pbiBlcXVhbCB0byB6ZXJvLiBUaGVyZSB3b24ndCBiZSBhbnl0aGluZyB0byBkbyxcbiAgICAgICAqIGJ1dCB0aGlzIGlzIG5vdCBhbiBlcnJvciBzaXR1YXRpb24gc28gbWFrZSBzdXJlIHdlXG4gICAgICAgKiByZXR1cm4gT0sgaW5zdGVhZCBvZiBCVUZfRVJST1IgYXQgbmV4dCBjYWxsIG9mIGRlZmxhdGU6XG4gICAgICAgKi9cbiAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgcmV0dXJuIFpfT0s7XG4gICAgfVxuXG4gICAgLyogTWFrZSBzdXJlIHRoZXJlIGlzIHNvbWV0aGluZyB0byBkbyBhbmQgYXZvaWQgZHVwbGljYXRlIGNvbnNlY3V0aXZlXG4gICAgICogZmx1c2hlcy4gRm9yIHJlcGVhdGVkIGFuZCB1c2VsZXNzIGNhbGxzIHdpdGggWl9GSU5JU0gsIHdlIGtlZXBcbiAgICAgKiByZXR1cm5pbmcgWl9TVFJFQU1fRU5EIGluc3RlYWQgb2YgWl9CVUZfRVJST1IuXG4gICAgICovXG4gIH0gZWxzZSBpZiAoc3RybS5hdmFpbF9pbiA9PT0gMCAmJiByYW5rKGZsdXNoKSA8PSByYW5rKG9sZF9mbHVzaCkgJiZcbiAgICBmbHVzaCAhPT0gWl9GSU5JU0gpIHtcbiAgICByZXR1cm4gZXJyKHN0cm0sIFpfQlVGX0VSUk9SKTtcbiAgfVxuXG4gIC8qIFVzZXIgbXVzdCBub3QgcHJvdmlkZSBtb3JlIGlucHV0IGFmdGVyIHRoZSBmaXJzdCBGSU5JU0g6ICovXG4gIGlmIChzLnN0YXR1cyA9PT0gRklOSVNIX1NUQVRFICYmIHN0cm0uYXZhaWxfaW4gIT09IDApIHtcbiAgICByZXR1cm4gZXJyKHN0cm0sIFpfQlVGX0VSUk9SKTtcbiAgfVxuXG4gIC8qIFN0YXJ0IGEgbmV3IGJsb2NrIG9yIGNvbnRpbnVlIHRoZSBjdXJyZW50IG9uZS5cbiAgICovXG4gIGlmIChzdHJtLmF2YWlsX2luICE9PSAwIHx8IHMubG9va2FoZWFkICE9PSAwIHx8XG4gICAgKGZsdXNoICE9PSBaX05PX0ZMVVNIICYmIHMuc3RhdHVzICE9PSBGSU5JU0hfU1RBVEUpKSB7XG4gICAgdmFyIGJzdGF0ZSA9IChzLnN0cmF0ZWd5ID09PSBaX0hVRkZNQU5fT05MWSkgPyBkZWZsYXRlX2h1ZmYocywgZmx1c2gpIDpcbiAgICAgIChzLnN0cmF0ZWd5ID09PSBaX1JMRSA/IGRlZmxhdGVfcmxlKHMsIGZsdXNoKSA6XG4gICAgICAgIGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0uZnVuYyhzLCBmbHVzaCkpO1xuXG4gICAgaWYgKGJzdGF0ZSA9PT0gQlNfRklOSVNIX1NUQVJURUQgfHwgYnN0YXRlID09PSBCU19GSU5JU0hfRE9ORSkge1xuICAgICAgcy5zdGF0dXMgPSBGSU5JU0hfU1RBVEU7XG4gICAgfVxuICAgIGlmIChic3RhdGUgPT09IEJTX05FRURfTU9SRSB8fCBic3RhdGUgPT09IEJTX0ZJTklTSF9TVEFSVEVEKSB7XG4gICAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7XG4gICAgICAgIC8qIGF2b2lkIEJVRl9FUlJPUiBuZXh0IGNhbGwsIHNlZSBhYm92ZSAqL1xuICAgICAgfVxuICAgICAgcmV0dXJuIFpfT0s7XG4gICAgICAvKiBJZiBmbHVzaCAhPSBaX05PX0ZMVVNIICYmIGF2YWlsX291dCA9PSAwLCB0aGUgbmV4dCBjYWxsXG4gICAgICAgKiBvZiBkZWZsYXRlIHNob3VsZCB1c2UgdGhlIHNhbWUgZmx1c2ggcGFyYW1ldGVyIHRvIG1ha2Ugc3VyZVxuICAgICAgICogdGhhdCB0aGUgZmx1c2ggaXMgY29tcGxldGUuIFNvIHdlIGRvbid0IGhhdmUgdG8gb3V0cHV0IGFuXG4gICAgICAgKiBlbXB0eSBibG9jayBoZXJlLCB0aGlzIHdpbGwgYmUgZG9uZSBhdCBuZXh0IGNhbGwuIFRoaXMgYWxzb1xuICAgICAgICogZW5zdXJlcyB0aGF0IGZvciBhIHZlcnkgc21hbGwgb3V0cHV0IGJ1ZmZlciwgd2UgZW1pdCBhdCBtb3N0XG4gICAgICAgKiBvbmUgZW1wdHkgYmxvY2suXG4gICAgICAgKi9cbiAgICB9XG4gICAgaWYgKGJzdGF0ZSA9PT0gQlNfQkxPQ0tfRE9ORSkge1xuICAgICAgaWYgKGZsdXNoID09PSBaX1BBUlRJQUxfRkxVU0gpIHtcbiAgICAgICAgdHJlZXMuX3RyX2FsaWduKHMpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZmx1c2ggIT09IFpfQkxPQ0spIHsgLyogRlVMTF9GTFVTSCBvciBTWU5DX0ZMVVNIICovXG5cbiAgICAgICAgdHJlZXMuX3RyX3N0b3JlZF9ibG9jayhzLCAwLCAwLCBmYWxzZSk7XG4gICAgICAgIC8qIEZvciBhIGZ1bGwgZmx1c2gsIHRoaXMgZW1wdHkgYmxvY2sgd2lsbCBiZSByZWNvZ25pemVkXG4gICAgICAgICAqIGFzIGEgc3BlY2lhbCBtYXJrZXIgYnkgaW5mbGF0ZV9zeW5jKCkuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoZmx1c2ggPT09IFpfRlVMTF9GTFVTSCkge1xuICAgICAgICAgIC8qKiogQ0xFQVJfSEFTSChzKTsgKioqLyAgICAgICAgICAgICAvKiBmb3JnZXQgaGlzdG9yeSAqL1xuICAgICAgICAgIHplcm8ocy5oZWFkKTsgLy8gRmlsbCB3aXRoIE5JTCAoPSAwKTtcblxuICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICAgICAgcy5zdHJzdGFydCA9IDA7XG4gICAgICAgICAgICBzLmJsb2NrX3N0YXJ0ID0gMDtcbiAgICAgICAgICAgIHMuaW5zZXJ0ID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7IC8qIGF2b2lkIEJVRl9FUlJPUiBhdCBuZXh0IGNhbGwsIHNlZSBhYm92ZSAqL1xuICAgICAgICByZXR1cm4gWl9PSztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy9Bc3NlcnQoc3RybS0+YXZhaWxfb3V0ID4gMCwgXCJidWcyXCIpO1xuICAvL2lmIChzdHJtLmF2YWlsX291dCA8PSAwKSB7IHRocm93IG5ldyBFcnJvcihcImJ1ZzJcIik7fVxuXG4gIGlmIChmbHVzaCAhPT0gWl9GSU5JU0gpIHsgcmV0dXJuIFpfT0s7IH1cbiAgaWYgKHMud3JhcCA8PSAwKSB7IHJldHVybiBaX1NUUkVBTV9FTkQ7IH1cblxuICAvKiBXcml0ZSB0aGUgdHJhaWxlciAqL1xuICBpZiAocy53cmFwID09PSAyKSB7XG4gICAgcHV0X2J5dGUocywgc3RybS5hZGxlciAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDgpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gMTYpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gMjQpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgc3RybS50b3RhbF9pbiAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLnRvdGFsX2luID4+IDgpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0udG90YWxfaW4gPj4gMTYpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0udG90YWxfaW4gPj4gMjQpICYgMHhmZik7XG4gIH1cbiAgZWxzZVxuICB7XG4gICAgcHV0U2hvcnRNU0Iocywgc3RybS5hZGxlciA+Pj4gMTYpO1xuICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgJiAweGZmZmYpO1xuICB9XG5cbiAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgLyogSWYgYXZhaWxfb3V0IGlzIHplcm8sIHRoZSBhcHBsaWNhdGlvbiB3aWxsIGNhbGwgZGVmbGF0ZSBhZ2FpblxuICAgKiB0byBmbHVzaCB0aGUgcmVzdC5cbiAgICovXG4gIGlmIChzLndyYXAgPiAwKSB7IHMud3JhcCA9IC1zLndyYXA7IH1cbiAgLyogd3JpdGUgdGhlIHRyYWlsZXIgb25seSBvbmNlISAqL1xuICByZXR1cm4gcy5wZW5kaW5nICE9PSAwID8gWl9PSyA6IFpfU1RSRUFNX0VORDtcbn1cblxuZnVuY3Rpb24gZGVmbGF0ZUVuZChzdHJtKSB7XG4gIHZhciBzdGF0dXM7XG5cbiAgaWYgKCFzdHJtLyo9PSBaX05VTEwqLyB8fCAhc3RybS5zdGF0ZS8qPT0gWl9OVUxMKi8pIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cblxuICBzdGF0dXMgPSBzdHJtLnN0YXRlLnN0YXR1cztcbiAgaWYgKHN0YXR1cyAhPT0gSU5JVF9TVEFURSAmJlxuICAgIHN0YXR1cyAhPT0gRVhUUkFfU1RBVEUgJiZcbiAgICBzdGF0dXMgIT09IE5BTUVfU1RBVEUgJiZcbiAgICBzdGF0dXMgIT09IENPTU1FTlRfU1RBVEUgJiZcbiAgICBzdGF0dXMgIT09IEhDUkNfU1RBVEUgJiZcbiAgICBzdGF0dXMgIT09IEJVU1lfU1RBVEUgJiZcbiAgICBzdGF0dXMgIT09IEZJTklTSF9TVEFURVxuICApIHtcbiAgICByZXR1cm4gZXJyKHN0cm0sIFpfU1RSRUFNX0VSUk9SKTtcbiAgfVxuXG4gIHN0cm0uc3RhdGUgPSBudWxsO1xuXG4gIHJldHVybiBzdGF0dXMgPT09IEJVU1lfU1RBVEUgPyBlcnIoc3RybSwgWl9EQVRBX0VSUk9SKSA6IFpfT0s7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5pdGlhbGl6ZXMgdGhlIGNvbXByZXNzaW9uIGRpY3Rpb25hcnkgZnJvbSB0aGUgZ2l2ZW4gYnl0ZVxuICogc2VxdWVuY2Ugd2l0aG91dCBwcm9kdWNpbmcgYW55IGNvbXByZXNzZWQgb3V0cHV0LlxuICovXG5mdW5jdGlvbiBkZWZsYXRlU2V0RGljdGlvbmFyeShzdHJtLCBkaWN0aW9uYXJ5KSB7XG4gIHZhciBkaWN0TGVuZ3RoID0gZGljdGlvbmFyeS5sZW5ndGg7XG5cbiAgdmFyIHM7XG4gIHZhciBzdHIsIG47XG4gIHZhciB3cmFwO1xuICB2YXIgYXZhaWw7XG4gIHZhciBuZXh0O1xuICB2YXIgaW5wdXQ7XG4gIHZhciB0bXBEaWN0O1xuXG4gIGlmICghc3RybS8qPT0gWl9OVUxMKi8gfHwgIXN0cm0uc3RhdGUvKj09IFpfTlVMTCovKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG5cbiAgcyA9IHN0cm0uc3RhdGU7XG4gIHdyYXAgPSBzLndyYXA7XG5cbiAgaWYgKHdyYXAgPT09IDIgfHwgKHdyYXAgPT09IDEgJiYgcy5zdGF0dXMgIT09IElOSVRfU1RBVEUpIHx8IHMubG9va2FoZWFkKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG5cbiAgLyogd2hlbiB1c2luZyB6bGliIHdyYXBwZXJzLCBjb21wdXRlIEFkbGVyLTMyIGZvciBwcm92aWRlZCBkaWN0aW9uYXJ5ICovXG4gIGlmICh3cmFwID09PSAxKSB7XG4gICAgLyogYWRsZXIzMihzdHJtLT5hZGxlciwgZGljdGlvbmFyeSwgZGljdExlbmd0aCk7ICovXG4gICAgc3RybS5hZGxlciA9IGFkbGVyMzIoc3RybS5hZGxlciwgZGljdGlvbmFyeSwgZGljdExlbmd0aCwgMCk7XG4gIH1cblxuICBzLndyYXAgPSAwOyAgIC8qIGF2b2lkIGNvbXB1dGluZyBBZGxlci0zMiBpbiByZWFkX2J1ZiAqL1xuXG4gIC8qIGlmIGRpY3Rpb25hcnkgd291bGQgZmlsbCB3aW5kb3csIGp1c3QgcmVwbGFjZSB0aGUgaGlzdG9yeSAqL1xuICBpZiAoZGljdExlbmd0aCA+PSBzLndfc2l6ZSkge1xuICAgIGlmICh3cmFwID09PSAwKSB7ICAgICAgICAgICAgLyogYWxyZWFkeSBlbXB0eSBvdGhlcndpc2UgKi9cbiAgICAgIC8qKiogQ0xFQVJfSEFTSChzKTsgKioqL1xuICAgICAgemVybyhzLmhlYWQpOyAvLyBGaWxsIHdpdGggTklMICg9IDApO1xuICAgICAgcy5zdHJzdGFydCA9IDA7XG4gICAgICBzLmJsb2NrX3N0YXJ0ID0gMDtcbiAgICAgIHMuaW5zZXJ0ID0gMDtcbiAgICB9XG4gICAgLyogdXNlIHRoZSB0YWlsICovXG4gICAgLy8gZGljdGlvbmFyeSA9IGRpY3Rpb25hcnkuc2xpY2UoZGljdExlbmd0aCAtIHMud19zaXplKTtcbiAgICB0bXBEaWN0ID0gbmV3IHV0aWxzLkJ1Zjgocy53X3NpemUpO1xuICAgIHV0aWxzLmFycmF5U2V0KHRtcERpY3QsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGggLSBzLndfc2l6ZSwgcy53X3NpemUsIDApO1xuICAgIGRpY3Rpb25hcnkgPSB0bXBEaWN0O1xuICAgIGRpY3RMZW5ndGggPSBzLndfc2l6ZTtcbiAgfVxuICAvKiBpbnNlcnQgZGljdGlvbmFyeSBpbnRvIHdpbmRvdyBhbmQgaGFzaCAqL1xuICBhdmFpbCA9IHN0cm0uYXZhaWxfaW47XG4gIG5leHQgPSBzdHJtLm5leHRfaW47XG4gIGlucHV0ID0gc3RybS5pbnB1dDtcbiAgc3RybS5hdmFpbF9pbiA9IGRpY3RMZW5ndGg7XG4gIHN0cm0ubmV4dF9pbiA9IDA7XG4gIHN0cm0uaW5wdXQgPSBkaWN0aW9uYXJ5O1xuICBmaWxsX3dpbmRvdyhzKTtcbiAgd2hpbGUgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCkge1xuICAgIHN0ciA9IHMuc3Ryc3RhcnQ7XG4gICAgbiA9IHMubG9va2FoZWFkIC0gKE1JTl9NQVRDSCAtIDEpO1xuICAgIGRvIHtcbiAgICAgIC8qIFVQREFURV9IQVNIKHMsIHMtPmluc19oLCBzLT53aW5kb3dbc3RyICsgTUlOX01BVENILTFdKTsgKi9cbiAgICAgIHMuaW5zX2ggPSAoKHMuaW5zX2ggPDwgcy5oYXNoX3NoaWZ0KSBeIHMud2luZG93W3N0ciArIE1JTl9NQVRDSCAtIDFdKSAmIHMuaGFzaF9tYXNrO1xuXG4gICAgICBzLnByZXZbc3RyICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuXG4gICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzdHI7XG4gICAgICBzdHIrKztcbiAgICB9IHdoaWxlICgtLW4pO1xuICAgIHMuc3Ryc3RhcnQgPSBzdHI7XG4gICAgcy5sb29rYWhlYWQgPSBNSU5fTUFUQ0ggLSAxO1xuICAgIGZpbGxfd2luZG93KHMpO1xuICB9XG4gIHMuc3Ryc3RhcnQgKz0gcy5sb29rYWhlYWQ7XG4gIHMuYmxvY2tfc3RhcnQgPSBzLnN0cnN0YXJ0O1xuICBzLmluc2VydCA9IHMubG9va2FoZWFkO1xuICBzLmxvb2thaGVhZCA9IDA7XG4gIHMubWF0Y2hfbGVuZ3RoID0gcy5wcmV2X2xlbmd0aCA9IE1JTl9NQVRDSCAtIDE7XG4gIHMubWF0Y2hfYXZhaWxhYmxlID0gMDtcbiAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgc3RybS5pbnB1dCA9IGlucHV0O1xuICBzdHJtLmF2YWlsX2luID0gYXZhaWw7XG4gIHMud3JhcCA9IHdyYXA7XG4gIHJldHVybiBaX09LO1xufVxuXG5cbmV4cG9ydHMuZGVmbGF0ZUluaXQgPSBkZWZsYXRlSW5pdDtcbmV4cG9ydHMuZGVmbGF0ZUluaXQyID0gZGVmbGF0ZUluaXQyO1xuZXhwb3J0cy5kZWZsYXRlUmVzZXQgPSBkZWZsYXRlUmVzZXQ7XG5leHBvcnRzLmRlZmxhdGVSZXNldEtlZXAgPSBkZWZsYXRlUmVzZXRLZWVwO1xuZXhwb3J0cy5kZWZsYXRlU2V0SGVhZGVyID0gZGVmbGF0ZVNldEhlYWRlcjtcbmV4cG9ydHMuZGVmbGF0ZSA9IGRlZmxhdGU7XG5leHBvcnRzLmRlZmxhdGVFbmQgPSBkZWZsYXRlRW5kO1xuZXhwb3J0cy5kZWZsYXRlU2V0RGljdGlvbmFyeSA9IGRlZmxhdGVTZXREaWN0aW9uYXJ5O1xuZXhwb3J0cy5kZWZsYXRlSW5mbyA9ICdwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpJztcblxuLyogTm90IGltcGxlbWVudGVkXG5leHBvcnRzLmRlZmxhdGVCb3VuZCA9IGRlZmxhdGVCb3VuZDtcbmV4cG9ydHMuZGVmbGF0ZUNvcHkgPSBkZWZsYXRlQ29weTtcbmV4cG9ydHMuZGVmbGF0ZVBhcmFtcyA9IGRlZmxhdGVQYXJhbXM7XG5leHBvcnRzLmRlZmxhdGVQZW5kaW5nID0gZGVmbGF0ZVBlbmRpbmc7XG5leHBvcnRzLmRlZmxhdGVQcmltZSA9IGRlZmxhdGVQcmltZTtcbmV4cG9ydHMuZGVmbGF0ZVR1bmUgPSBkZWZsYXRlVHVuZTtcbiovXG4iLCAiLy8gU3RyaW5nIGVuY29kZS9kZWNvZGUgaGVscGVyc1xuJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vY29tbW9uJyk7XG5cblxuLy8gUXVpY2sgY2hlY2sgaWYgd2UgY2FuIHVzZSBmYXN0IGFycmF5IHRvIGJpbiBzdHJpbmcgY29udmVyc2lvblxuLy9cbi8vIC0gYXBwbHkoQXJyYXkpIGNhbiBmYWlsIG9uIEFuZHJvaWQgMi4yXG4vLyAtIGFwcGx5KFVpbnQ4QXJyYXkpIGNhbiBmYWlsIG9uIGlPUyA1LjEgU2FmYXJpXG4vL1xudmFyIFNUUl9BUFBMWV9PSyA9IHRydWU7XG52YXIgU1RSX0FQUExZX1VJQV9PSyA9IHRydWU7XG5cbnRyeSB7IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgWyAwIF0pOyB9IGNhdGNoIChfXykgeyBTVFJfQVBQTFlfT0sgPSBmYWxzZTsgfVxudHJ5IHsgU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheSgxKSk7IH0gY2F0Y2ggKF9fKSB7IFNUUl9BUFBMWV9VSUFfT0sgPSBmYWxzZTsgfVxuXG5cbi8vIFRhYmxlIHdpdGggdXRmOCBsZW5ndGhzIChjYWxjdWxhdGVkIGJ5IGZpcnN0IGJ5dGUgb2Ygc2VxdWVuY2UpXG4vLyBOb3RlLCB0aGF0IDUgJiA2LWJ5dGUgdmFsdWVzIGFuZCBzb21lIDQtYnl0ZSB2YWx1ZXMgY2FuIG5vdCBiZSByZXByZXNlbnRlZCBpbiBKUyxcbi8vIGJlY2F1c2UgbWF4IHBvc3NpYmxlIGNvZGVwb2ludCBpcyAweDEwZmZmZlxudmFyIF91dGY4bGVuID0gbmV3IHV0aWxzLkJ1ZjgoMjU2KTtcbmZvciAodmFyIHEgPSAwOyBxIDwgMjU2OyBxKyspIHtcbiAgX3V0ZjhsZW5bcV0gPSAocSA+PSAyNTIgPyA2IDogcSA+PSAyNDggPyA1IDogcSA+PSAyNDAgPyA0IDogcSA+PSAyMjQgPyAzIDogcSA+PSAxOTIgPyAyIDogMSk7XG59XG5fdXRmOGxlblsyNTRdID0gX3V0ZjhsZW5bMjU0XSA9IDE7IC8vIEludmFsaWQgc2VxdWVuY2Ugc3RhcnRcblxuXG4vLyBjb252ZXJ0IHN0cmluZyB0byBhcnJheSAodHlwZWQsIHdoZW4gcG9zc2libGUpXG5leHBvcnRzLnN0cmluZzJidWYgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHZhciBidWYsIGMsIGMyLCBtX3BvcywgaSwgc3RyX2xlbiA9IHN0ci5sZW5ndGgsIGJ1Zl9sZW4gPSAwO1xuXG4gIC8vIGNvdW50IGJpbmFyeSBzaXplXG4gIGZvciAobV9wb3MgPSAwOyBtX3BvcyA8IHN0cl9sZW47IG1fcG9zKyspIHtcbiAgICBjID0gc3RyLmNoYXJDb2RlQXQobV9wb3MpO1xuICAgIGlmICgoYyAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiAobV9wb3MgKyAxIDwgc3RyX2xlbikpIHtcbiAgICAgIGMyID0gc3RyLmNoYXJDb2RlQXQobV9wb3MgKyAxKTtcbiAgICAgIGlmICgoYzIgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgICAgYyA9IDB4MTAwMDAgKyAoKGMgLSAweGQ4MDApIDw8IDEwKSArIChjMiAtIDB4ZGMwMCk7XG4gICAgICAgIG1fcG9zKys7XG4gICAgICB9XG4gICAgfVxuICAgIGJ1Zl9sZW4gKz0gYyA8IDB4ODAgPyAxIDogYyA8IDB4ODAwID8gMiA6IGMgPCAweDEwMDAwID8gMyA6IDQ7XG4gIH1cblxuICAvLyBhbGxvY2F0ZSBidWZmZXJcbiAgYnVmID0gbmV3IHV0aWxzLkJ1ZjgoYnVmX2xlbik7XG5cbiAgLy8gY29udmVydFxuICBmb3IgKGkgPSAwLCBtX3BvcyA9IDA7IGkgPCBidWZfbGVuOyBtX3BvcysrKSB7XG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KG1fcG9zKTtcbiAgICBpZiAoKGMgJiAweGZjMDApID09PSAweGQ4MDAgJiYgKG1fcG9zICsgMSA8IHN0cl9sZW4pKSB7XG4gICAgICBjMiA9IHN0ci5jaGFyQ29kZUF0KG1fcG9zICsgMSk7XG4gICAgICBpZiAoKGMyICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XG4gICAgICAgIGMgPSAweDEwMDAwICsgKChjIC0gMHhkODAwKSA8PCAxMCkgKyAoYzIgLSAweGRjMDApO1xuICAgICAgICBtX3BvcysrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgIC8qIG9uZSBieXRlICovXG4gICAgICBidWZbaSsrXSA9IGM7XG4gICAgfSBlbHNlIGlmIChjIDwgMHg4MDApIHtcbiAgICAgIC8qIHR3byBieXRlcyAqL1xuICAgICAgYnVmW2krK10gPSAweEMwIHwgKGMgPj4+IDYpO1xuICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgJiAweDNmKTtcbiAgICB9IGVsc2UgaWYgKGMgPCAweDEwMDAwKSB7XG4gICAgICAvKiB0aHJlZSBieXRlcyAqL1xuICAgICAgYnVmW2krK10gPSAweEUwIHwgKGMgPj4+IDEyKTtcbiAgICAgIGJ1ZltpKytdID0gMHg4MCB8IChjID4+PiA2ICYgMHgzZik7XG4gICAgICBidWZbaSsrXSA9IDB4ODAgfCAoYyAmIDB4M2YpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBmb3VyIGJ5dGVzICovXG4gICAgICBidWZbaSsrXSA9IDB4ZjAgfCAoYyA+Pj4gMTgpO1xuICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgPj4+IDEyICYgMHgzZik7XG4gICAgICBidWZbaSsrXSA9IDB4ODAgfCAoYyA+Pj4gNiAmIDB4M2YpO1xuICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgJiAweDNmKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmO1xufTtcblxuLy8gSGVscGVyICh1c2VkIGluIDIgcGxhY2VzKVxuZnVuY3Rpb24gYnVmMmJpbnN0cmluZyhidWYsIGxlbikge1xuICAvLyBPbiBDaHJvbWUsIHRoZSBhcmd1bWVudHMgaW4gYSBmdW5jdGlvbiBjYWxsIHRoYXQgYXJlIGFsbG93ZWQgaXMgYDY1NTM0YC5cbiAgLy8gSWYgdGhlIGxlbmd0aCBvZiB0aGUgYnVmZmVyIGlzIHNtYWxsZXIgdGhhbiB0aGF0LCB3ZSBjYW4gdXNlIHRoaXMgb3B0aW1pemF0aW9uLFxuICAvLyBvdGhlcndpc2Ugd2Ugd2lsbCB0YWtlIGEgc2xvd2VyIHBhdGguXG4gIGlmIChsZW4gPCA2NTUzNCkge1xuICAgIGlmICgoYnVmLnN1YmFycmF5ICYmIFNUUl9BUFBMWV9VSUFfT0spIHx8ICghYnVmLnN1YmFycmF5ICYmIFNUUl9BUFBMWV9PSykpIHtcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHV0aWxzLnNocmlua0J1ZihidWYsIGxlbikpO1xuICAgIH1cbiAgfVxuXG4gIHZhciByZXN1bHQgPSAnJztcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vLyBDb252ZXJ0IGJ5dGUgYXJyYXkgdG8gYmluYXJ5IHN0cmluZ1xuZXhwb3J0cy5idWYyYmluc3RyaW5nID0gZnVuY3Rpb24gKGJ1Zikge1xuICByZXR1cm4gYnVmMmJpbnN0cmluZyhidWYsIGJ1Zi5sZW5ndGgpO1xufTtcblxuXG4vLyBDb252ZXJ0IGJpbmFyeSBzdHJpbmcgKHR5cGVkLCB3aGVuIHBvc3NpYmxlKVxuZXhwb3J0cy5iaW5zdHJpbmcyYnVmID0gZnVuY3Rpb24gKHN0cikge1xuICB2YXIgYnVmID0gbmV3IHV0aWxzLkJ1Zjgoc3RyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBidWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBidWZbaV0gPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gYnVmO1xufTtcblxuXG4vLyBjb252ZXJ0IGFycmF5IHRvIHN0cmluZ1xuZXhwb3J0cy5idWYyc3RyaW5nID0gZnVuY3Rpb24gKGJ1ZiwgbWF4KSB7XG4gIHZhciBpLCBvdXQsIGMsIGNfbGVuO1xuICB2YXIgbGVuID0gbWF4IHx8IGJ1Zi5sZW5ndGg7XG5cbiAgLy8gUmVzZXJ2ZSBtYXggcG9zc2libGUgbGVuZ3RoICgyIHdvcmRzIHBlciBjaGFyKVxuICAvLyBOQjogYnkgdW5rbm93biByZWFzb25zLCBBcnJheSBpcyBzaWduaWZpY2FudGx5IGZhc3RlciBmb3JcbiAgLy8gICAgIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkgdGhhbiBVaW50MTZBcnJheS5cbiAgdmFyIHV0ZjE2YnVmID0gbmV3IEFycmF5KGxlbiAqIDIpO1xuXG4gIGZvciAob3V0ID0gMCwgaSA9IDA7IGkgPCBsZW47KSB7XG4gICAgYyA9IGJ1ZltpKytdO1xuICAgIC8vIHF1aWNrIHByb2Nlc3MgYXNjaWlcbiAgICBpZiAoYyA8IDB4ODApIHsgdXRmMTZidWZbb3V0KytdID0gYzsgY29udGludWU7IH1cblxuICAgIGNfbGVuID0gX3V0ZjhsZW5bY107XG4gICAgLy8gc2tpcCA1ICYgNiBieXRlIGNvZGVzXG4gICAgaWYgKGNfbGVuID4gNCkgeyB1dGYxNmJ1ZltvdXQrK10gPSAweGZmZmQ7IGkgKz0gY19sZW4gLSAxOyBjb250aW51ZTsgfVxuXG4gICAgLy8gYXBwbHkgbWFzayBvbiBmaXJzdCBieXRlXG4gICAgYyAmPSBjX2xlbiA9PT0gMiA/IDB4MWYgOiBjX2xlbiA9PT0gMyA/IDB4MGYgOiAweDA3O1xuICAgIC8vIGpvaW4gdGhlIHJlc3RcbiAgICB3aGlsZSAoY19sZW4gPiAxICYmIGkgPCBsZW4pIHtcbiAgICAgIGMgPSAoYyA8PCA2KSB8IChidWZbaSsrXSAmIDB4M2YpO1xuICAgICAgY19sZW4tLTtcbiAgICB9XG5cbiAgICAvLyB0ZXJtaW5hdGVkIGJ5IGVuZCBvZiBzdHJpbmc/XG4gICAgaWYgKGNfbGVuID4gMSkgeyB1dGYxNmJ1ZltvdXQrK10gPSAweGZmZmQ7IGNvbnRpbnVlOyB9XG5cbiAgICBpZiAoYyA8IDB4MTAwMDApIHtcbiAgICAgIHV0ZjE2YnVmW291dCsrXSA9IGM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGMgLT0gMHgxMDAwMDtcbiAgICAgIHV0ZjE2YnVmW291dCsrXSA9IDB4ZDgwMCB8ICgoYyA+PiAxMCkgJiAweDNmZik7XG4gICAgICB1dGYxNmJ1ZltvdXQrK10gPSAweGRjMDAgfCAoYyAmIDB4M2ZmKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmMmJpbnN0cmluZyh1dGYxNmJ1Ziwgb3V0KTtcbn07XG5cblxuLy8gQ2FsY3VsYXRlIG1heCBwb3NzaWJsZSBwb3NpdGlvbiBpbiB1dGY4IGJ1ZmZlcixcbi8vIHRoYXQgd2lsbCBub3QgYnJlYWsgc2VxdWVuY2UuIElmIHRoYXQncyBub3QgcG9zc2libGVcbi8vIC0gKHZlcnkgc21hbGwgbGltaXRzKSByZXR1cm4gbWF4IHNpemUgYXMgaXMuXG4vL1xuLy8gYnVmW10gLSB1dGY4IGJ5dGVzIGFycmF5XG4vLyBtYXggICAtIGxlbmd0aCBsaW1pdCAobWFuZGF0b3J5KTtcbmV4cG9ydHMudXRmOGJvcmRlciA9IGZ1bmN0aW9uIChidWYsIG1heCkge1xuICB2YXIgcG9zO1xuXG4gIG1heCA9IG1heCB8fCBidWYubGVuZ3RoO1xuICBpZiAobWF4ID4gYnVmLmxlbmd0aCkgeyBtYXggPSBidWYubGVuZ3RoOyB9XG5cbiAgLy8gZ28gYmFjayBmcm9tIGxhc3QgcG9zaXRpb24sIHVudGlsIHN0YXJ0IG9mIHNlcXVlbmNlIGZvdW5kXG4gIHBvcyA9IG1heCAtIDE7XG4gIHdoaWxlIChwb3MgPj0gMCAmJiAoYnVmW3Bvc10gJiAweEMwKSA9PT0gMHg4MCkgeyBwb3MtLTsgfVxuXG4gIC8vIFZlcnkgc21hbGwgYW5kIGJyb2tlbiBzZXF1ZW5jZSxcbiAgLy8gcmV0dXJuIG1heCwgYmVjYXVzZSB3ZSBzaG91bGQgcmV0dXJuIHNvbWV0aGluZyBhbnl3YXkuXG4gIGlmIChwb3MgPCAwKSB7IHJldHVybiBtYXg7IH1cblxuICAvLyBJZiB3ZSBjYW1lIHRvIHN0YXJ0IG9mIGJ1ZmZlciAtIHRoYXQgbWVhbnMgYnVmZmVyIGlzIHRvbyBzbWFsbCxcbiAgLy8gcmV0dXJuIG1heCB0b28uXG4gIGlmIChwb3MgPT09IDApIHsgcmV0dXJuIG1heDsgfVxuXG4gIHJldHVybiAocG9zICsgX3V0ZjhsZW5bYnVmW3Bvc11dID4gbWF4KSA/IHBvcyA6IG1heDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbmZ1bmN0aW9uIFpTdHJlYW0oKSB7XG4gIC8qIG5leHQgaW5wdXQgYnl0ZSAqL1xuICB0aGlzLmlucHV0ID0gbnVsbDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuICB0aGlzLm5leHRfaW4gPSAwO1xuICAvKiBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlIGF0IGlucHV0ICovXG4gIHRoaXMuYXZhaWxfaW4gPSAwO1xuICAvKiB0b3RhbCBudW1iZXIgb2YgaW5wdXQgYnl0ZXMgcmVhZCBzbyBmYXIgKi9cbiAgdGhpcy50b3RhbF9pbiA9IDA7XG4gIC8qIG5leHQgb3V0cHV0IGJ5dGUgc2hvdWxkIGJlIHB1dCB0aGVyZSAqL1xuICB0aGlzLm91dHB1dCA9IG51bGw7IC8vIEpTIHNwZWNpZmljLCBiZWNhdXNlIHdlIGhhdmUgbm8gcG9pbnRlcnNcbiAgdGhpcy5uZXh0X291dCA9IDA7XG4gIC8qIHJlbWFpbmluZyBmcmVlIHNwYWNlIGF0IG91dHB1dCAqL1xuICB0aGlzLmF2YWlsX291dCA9IDA7XG4gIC8qIHRvdGFsIG51bWJlciBvZiBieXRlcyBvdXRwdXQgc28gZmFyICovXG4gIHRoaXMudG90YWxfb3V0ID0gMDtcbiAgLyogbGFzdCBlcnJvciBtZXNzYWdlLCBOVUxMIGlmIG5vIGVycm9yICovXG4gIHRoaXMubXNnID0gJycvKlpfTlVMTCovO1xuICAvKiBub3QgdmlzaWJsZSBieSBhcHBsaWNhdGlvbnMgKi9cbiAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gIC8qIGJlc3QgZ3Vlc3MgYWJvdXQgdGhlIGRhdGEgdHlwZTogYmluYXJ5IG9yIHRleHQgKi9cbiAgdGhpcy5kYXRhX3R5cGUgPSAyLypaX1VOS05PV04qLztcbiAgLyogYWRsZXIzMiB2YWx1ZSBvZiB0aGUgdW5jb21wcmVzc2VkIGRhdGEgKi9cbiAgdGhpcy5hZGxlciA9IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gWlN0cmVhbTtcbiIsICIndXNlIHN0cmljdCc7XG5cblxudmFyIHpsaWJfZGVmbGF0ZSA9IHJlcXVpcmUoJy4vemxpYi9kZWZsYXRlJyk7XG52YXIgdXRpbHMgICAgICAgID0gcmVxdWlyZSgnLi91dGlscy9jb21tb24nKTtcbnZhciBzdHJpbmdzICAgICAgPSByZXF1aXJlKCcuL3V0aWxzL3N0cmluZ3MnKTtcbnZhciBtc2cgICAgICAgICAgPSByZXF1aXJlKCcuL3psaWIvbWVzc2FnZXMnKTtcbnZhciBaU3RyZWFtICAgICAgPSByZXF1aXJlKCcuL3psaWIvenN0cmVhbScpO1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxudmFyIFpfTk9fRkxVU0ggICAgICA9IDA7XG52YXIgWl9GSU5JU0ggICAgICAgID0gNDtcblxudmFyIFpfT0sgICAgICAgICAgICA9IDA7XG52YXIgWl9TVFJFQU1fRU5EICAgID0gMTtcbnZhciBaX1NZTkNfRkxVU0ggICAgPSAyO1xuXG52YXIgWl9ERUZBVUxUX0NPTVBSRVNTSU9OID0gLTE7XG5cbnZhciBaX0RFRkFVTFRfU1RSQVRFR1kgICAgPSAwO1xuXG52YXIgWl9ERUZMQVRFRCAgPSA4O1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbi8qKlxuICogY2xhc3MgRGVmbGF0ZVxuICpcbiAqIEdlbmVyaWMgSlMtc3R5bGUgd3JhcHBlciBmb3IgemxpYiBjYWxscy4gSWYgeW91IGRvbid0IG5lZWRcbiAqIHN0cmVhbWluZyBiZWhhdmlvdXIgLSB1c2UgbW9yZSBzaW1wbGUgZnVuY3Rpb25zOiBbW2RlZmxhdGVdXSxcbiAqIFtbZGVmbGF0ZVJhd11dIGFuZCBbW2d6aXBdXS5cbiAqKi9cblxuLyogaW50ZXJuYWxcbiAqIERlZmxhdGUuY2h1bmtzIC0+IEFycmF5XG4gKlxuICogQ2h1bmtzIG9mIG91dHB1dCBkYXRhLCBpZiBbW0RlZmxhdGUjb25EYXRhXV0gbm90IG92ZXJyaWRkZW4uXG4gKiovXG5cbi8qKlxuICogRGVmbGF0ZS5yZXN1bHQgLT4gVWludDhBcnJheXxBcnJheVxuICpcbiAqIENvbXByZXNzZWQgcmVzdWx0LCBnZW5lcmF0ZWQgYnkgZGVmYXVsdCBbW0RlZmxhdGUjb25EYXRhXV1cbiAqIGFuZCBbW0RlZmxhdGUjb25FbmRdXSBoYW5kbGVycy4gRmlsbGVkIGFmdGVyIHlvdSBwdXNoIGxhc3QgY2h1bmtcbiAqIChjYWxsIFtbRGVmbGF0ZSNwdXNoXV0gd2l0aCBgWl9GSU5JU0hgIC8gYHRydWVgIHBhcmFtKSAgb3IgaWYgeW91XG4gKiBwdXNoIGEgY2h1bmsgd2l0aCBleHBsaWNpdCBmbHVzaCAoY2FsbCBbW0RlZmxhdGUjcHVzaF1dIHdpdGhcbiAqIGBaX1NZTkNfRkxVU0hgIHBhcmFtKS5cbiAqKi9cblxuLyoqXG4gKiBEZWZsYXRlLmVyciAtPiBOdW1iZXJcbiAqXG4gKiBFcnJvciBjb2RlIGFmdGVyIGRlZmxhdGUgZmluaXNoZWQuIDAgKFpfT0spIG9uIHN1Y2Nlc3MuXG4gKiBZb3Ugd2lsbCBub3QgbmVlZCBpdCBpbiByZWFsIGxpZmUsIGJlY2F1c2UgZGVmbGF0ZSBlcnJvcnNcbiAqIGFyZSBwb3NzaWJsZSBvbmx5IG9uIHdyb25nIG9wdGlvbnMgb3IgYmFkIGBvbkRhdGFgIC8gYG9uRW5kYFxuICogY3VzdG9tIGhhbmRsZXJzLlxuICoqL1xuXG4vKipcbiAqIERlZmxhdGUubXNnIC0+IFN0cmluZ1xuICpcbiAqIEVycm9yIG1lc3NhZ2UsIGlmIFtbRGVmbGF0ZS5lcnJdXSAhPSAwXG4gKiovXG5cblxuLyoqXG4gKiBuZXcgRGVmbGF0ZShvcHRpb25zKVxuICogLSBvcHRpb25zIChPYmplY3QpOiB6bGliIGRlZmxhdGUgb3B0aW9ucy5cbiAqXG4gKiBDcmVhdGVzIG5ldyBkZWZsYXRvciBpbnN0YW5jZSB3aXRoIHNwZWNpZmllZCBwYXJhbXMuIFRocm93cyBleGNlcHRpb25cbiAqIG9uIGJhZCBwYXJhbXMuIFN1cHBvcnRlZCBvcHRpb25zOlxuICpcbiAqIC0gYGxldmVsYFxuICogLSBgd2luZG93Qml0c2BcbiAqIC0gYG1lbUxldmVsYFxuICogLSBgc3RyYXRlZ3lgXG4gKiAtIGBkaWN0aW9uYXJ5YFxuICpcbiAqIFtodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWRdKGh0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZClcbiAqIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHRoZXNlLlxuICpcbiAqIEFkZGl0aW9uYWwgb3B0aW9ucywgZm9yIGludGVybmFsIG5lZWRzOlxuICpcbiAqIC0gYGNodW5rU2l6ZWAgLSBzaXplIG9mIGdlbmVyYXRlZCBkYXRhIGNodW5rcyAoMTZLIGJ5IGRlZmF1bHQpXG4gKiAtIGByYXdgIChCb29sZWFuKSAtIGRvIHJhdyBkZWZsYXRlXG4gKiAtIGBnemlwYCAoQm9vbGVhbikgLSBjcmVhdGUgZ3ppcCB3cmFwcGVyXG4gKiAtIGB0b2AgKFN0cmluZykgLSBpZiBlcXVhbCB0byAnc3RyaW5nJywgdGhlbiByZXN1bHQgd2lsbCBiZSBcImJpbmFyeSBzdHJpbmdcIlxuICogICAgKGVhY2ggY2hhciBjb2RlIFswLi4yNTVdKVxuICogLSBgaGVhZGVyYCAoT2JqZWN0KSAtIGN1c3RvbSBoZWFkZXIgZm9yIGd6aXBcbiAqICAgLSBgdGV4dGAgKEJvb2xlYW4pIC0gdHJ1ZSBpZiBjb21wcmVzc2VkIGRhdGEgYmVsaWV2ZWQgdG8gYmUgdGV4dFxuICogICAtIGB0aW1lYCAoTnVtYmVyKSAtIG1vZGlmaWNhdGlvbiB0aW1lLCB1bml4IHRpbWVzdGFtcFxuICogICAtIGBvc2AgKE51bWJlcikgLSBvcGVyYXRpb24gc3lzdGVtIGNvZGVcbiAqICAgLSBgZXh0cmFgIChBcnJheSkgLSBhcnJheSBvZiBieXRlcyB3aXRoIGV4dHJhIGRhdGEgKG1heCA2NTUzNilcbiAqICAgLSBgbmFtZWAgKFN0cmluZykgLSBmaWxlIG5hbWUgKGJpbmFyeSBzdHJpbmcpXG4gKiAgIC0gYGNvbW1lbnRgIChTdHJpbmcpIC0gY29tbWVudCAoYmluYXJ5IHN0cmluZylcbiAqICAgLSBgaGNyY2AgKEJvb2xlYW4pIC0gdHJ1ZSBpZiBoZWFkZXIgY3JjIHNob3VsZCBiZSBhZGRlZFxuICpcbiAqICMjIyMjIEV4YW1wbGU6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogdmFyIHBha28gPSByZXF1aXJlKCdwYWtvJylcbiAqICAgLCBjaHVuazEgPSBVaW50OEFycmF5KFsxLDIsMyw0LDUsNiw3LDgsOV0pXG4gKiAgICwgY2h1bmsyID0gVWludDhBcnJheShbMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTldKTtcbiAqXG4gKiB2YXIgZGVmbGF0ZSA9IG5ldyBwYWtvLkRlZmxhdGUoeyBsZXZlbDogM30pO1xuICpcbiAqIGRlZmxhdGUucHVzaChjaHVuazEsIGZhbHNlKTtcbiAqIGRlZmxhdGUucHVzaChjaHVuazIsIHRydWUpOyAgLy8gdHJ1ZSAtPiBsYXN0IGNodW5rXG4gKlxuICogaWYgKGRlZmxhdGUuZXJyKSB7IHRocm93IG5ldyBFcnJvcihkZWZsYXRlLmVycik7IH1cbiAqXG4gKiBjb25zb2xlLmxvZyhkZWZsYXRlLnJlc3VsdCk7XG4gKiBgYGBcbiAqKi9cbmZ1bmN0aW9uIERlZmxhdGUob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRGVmbGF0ZSkpIHJldHVybiBuZXcgRGVmbGF0ZShvcHRpb25zKTtcblxuICB0aGlzLm9wdGlvbnMgPSB1dGlscy5hc3NpZ24oe1xuICAgIGxldmVsOiBaX0RFRkFVTFRfQ09NUFJFU1NJT04sXG4gICAgbWV0aG9kOiBaX0RFRkxBVEVELFxuICAgIGNodW5rU2l6ZTogMTYzODQsXG4gICAgd2luZG93Qml0czogMTUsXG4gICAgbWVtTGV2ZWw6IDgsXG4gICAgc3RyYXRlZ3k6IFpfREVGQVVMVF9TVFJBVEVHWSxcbiAgICB0bzogJydcbiAgfSwgb3B0aW9ucyB8fCB7fSk7XG5cbiAgdmFyIG9wdCA9IHRoaXMub3B0aW9ucztcblxuICBpZiAob3B0LnJhdyAmJiAob3B0LndpbmRvd0JpdHMgPiAwKSkge1xuICAgIG9wdC53aW5kb3dCaXRzID0gLW9wdC53aW5kb3dCaXRzO1xuICB9XG5cbiAgZWxzZSBpZiAob3B0Lmd6aXAgJiYgKG9wdC53aW5kb3dCaXRzID4gMCkgJiYgKG9wdC53aW5kb3dCaXRzIDwgMTYpKSB7XG4gICAgb3B0LndpbmRvd0JpdHMgKz0gMTY7XG4gIH1cblxuICB0aGlzLmVyciAgICA9IDA7ICAgICAgLy8gZXJyb3IgY29kZSwgaWYgaGFwcGVucyAoMCA9IFpfT0spXG4gIHRoaXMubXNnICAgID0gJyc7ICAgICAvLyBlcnJvciBtZXNzYWdlXG4gIHRoaXMuZW5kZWQgID0gZmFsc2U7ICAvLyB1c2VkIHRvIGF2b2lkIG11bHRpcGxlIG9uRW5kKCkgY2FsbHNcbiAgdGhpcy5jaHVua3MgPSBbXTsgICAgIC8vIGNodW5rcyBvZiBjb21wcmVzc2VkIGRhdGFcblxuICB0aGlzLnN0cm0gPSBuZXcgWlN0cmVhbSgpO1xuICB0aGlzLnN0cm0uYXZhaWxfb3V0ID0gMDtcblxuICB2YXIgc3RhdHVzID0gemxpYl9kZWZsYXRlLmRlZmxhdGVJbml0MihcbiAgICB0aGlzLnN0cm0sXG4gICAgb3B0LmxldmVsLFxuICAgIG9wdC5tZXRob2QsXG4gICAgb3B0LndpbmRvd0JpdHMsXG4gICAgb3B0Lm1lbUxldmVsLFxuICAgIG9wdC5zdHJhdGVneVxuICApO1xuXG4gIGlmIChzdGF0dXMgIT09IFpfT0spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobXNnW3N0YXR1c10pO1xuICB9XG5cbiAgaWYgKG9wdC5oZWFkZXIpIHtcbiAgICB6bGliX2RlZmxhdGUuZGVmbGF0ZVNldEhlYWRlcih0aGlzLnN0cm0sIG9wdC5oZWFkZXIpO1xuICB9XG5cbiAgaWYgKG9wdC5kaWN0aW9uYXJ5KSB7XG4gICAgdmFyIGRpY3Q7XG4gICAgLy8gQ29udmVydCBkYXRhIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2Ygb3B0LmRpY3Rpb25hcnkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBJZiB3ZSBuZWVkIHRvIGNvbXByZXNzIHRleHQsIGNoYW5nZSBlbmNvZGluZyB0byB1dGY4LlxuICAgICAgZGljdCA9IHN0cmluZ3Muc3RyaW5nMmJ1ZihvcHQuZGljdGlvbmFyeSk7XG4gICAgfSBlbHNlIGlmICh0b1N0cmluZy5jYWxsKG9wdC5kaWN0aW9uYXJ5KSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuICAgICAgZGljdCA9IG5ldyBVaW50OEFycmF5KG9wdC5kaWN0aW9uYXJ5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGljdCA9IG9wdC5kaWN0aW9uYXJ5O1xuICAgIH1cblxuICAgIHN0YXR1cyA9IHpsaWJfZGVmbGF0ZS5kZWZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sIGRpY3QpO1xuXG4gICAgaWYgKHN0YXR1cyAhPT0gWl9PSykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZ1tzdGF0dXNdKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kaWN0X3NldCA9IHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBEZWZsYXRlI3B1c2goZGF0YVssIG1vZGVdKSAtPiBCb29sZWFuXG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXl8QXJyYXlCdWZmZXJ8U3RyaW5nKTogaW5wdXQgZGF0YS4gU3RyaW5ncyB3aWxsIGJlXG4gKiAgIGNvbnZlcnRlZCB0byB1dGY4IGJ5dGUgc2VxdWVuY2UuXG4gKiAtIG1vZGUgKE51bWJlcnxCb29sZWFuKTogMC4uNiBmb3IgY29ycmVzcG9uZGluZyBaX05PX0ZMVVNILi5aX1RSRUUgbW9kZXMuXG4gKiAgIFNlZSBjb25zdGFudHMuIFNraXBwZWQgb3IgYGZhbHNlYCBtZWFucyBaX05PX0ZMVVNILCBgdHJ1ZWAgbWVhbnMgWl9GSU5JU0guXG4gKlxuICogU2VuZHMgaW5wdXQgZGF0YSB0byBkZWZsYXRlIHBpcGUsIGdlbmVyYXRpbmcgW1tEZWZsYXRlI29uRGF0YV1dIGNhbGxzIHdpdGhcbiAqIG5ldyBjb21wcmVzc2VkIGNodW5rcy4gUmV0dXJucyBgdHJ1ZWAgb24gc3VjY2Vzcy4gVGhlIGxhc3QgZGF0YSBibG9jayBtdXN0IGhhdmVcbiAqIG1vZGUgWl9GSU5JU0ggKG9yIGB0cnVlYCkuIFRoYXQgd2lsbCBmbHVzaCBpbnRlcm5hbCBwZW5kaW5nIGJ1ZmZlcnMgYW5kIGNhbGxcbiAqIFtbRGVmbGF0ZSNvbkVuZF1dLiBGb3IgaW50ZXJpbSBleHBsaWNpdCBmbHVzaGVzICh3aXRob3V0IGVuZGluZyB0aGUgc3RyZWFtKSB5b3VcbiAqIGNhbiB1c2UgbW9kZSBaX1NZTkNfRkxVU0gsIGtlZXBpbmcgdGhlIGNvbXByZXNzaW9uIGNvbnRleHQuXG4gKlxuICogT24gZmFpbCBjYWxsIFtbRGVmbGF0ZSNvbkVuZF1dIHdpdGggZXJyb3IgY29kZSBhbmQgcmV0dXJuIGZhbHNlLlxuICpcbiAqIFdlIHN0cm9uZ2x5IHJlY29tbWVuZCB0byB1c2UgYFVpbnQ4QXJyYXlgIG9uIGlucHV0IGZvciBiZXN0IHNwZWVkIChvdXRwdXRcbiAqIGFycmF5IGZvcm1hdCBpcyBkZXRlY3RlZCBhdXRvbWF0aWNhbGx5KS4gQWxzbywgZG9uJ3Qgc2tpcCBsYXN0IHBhcmFtIGFuZCBhbHdheXNcbiAqIHVzZSB0aGUgc2FtZSB0eXBlIGluIHlvdXIgY29kZSAoYm9vbGVhbiBvciBudW1iZXIpLiBUaGF0IHdpbGwgaW1wcm92ZSBKUyBzcGVlZC5cbiAqXG4gKiBGb3IgcmVndWxhciBgQXJyYXlgLXMgbWFrZSBzdXJlIGFsbCBlbGVtZW50cyBhcmUgWzAuLjI1NV0uXG4gKlxuICogIyMjIyMgRXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHB1c2goY2h1bmssIGZhbHNlKTsgLy8gcHVzaCBvbmUgb2YgZGF0YSBjaHVua3NcbiAqIC4uLlxuICogcHVzaChjaHVuaywgdHJ1ZSk7ICAvLyBwdXNoIGxhc3QgY2h1bmtcbiAqIGBgYFxuICoqL1xuRGVmbGF0ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChkYXRhLCBtb2RlKSB7XG4gIHZhciBzdHJtID0gdGhpcy5zdHJtO1xuICB2YXIgY2h1bmtTaXplID0gdGhpcy5vcHRpb25zLmNodW5rU2l6ZTtcbiAgdmFyIHN0YXR1cywgX21vZGU7XG5cbiAgaWYgKHRoaXMuZW5kZWQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgX21vZGUgPSAobW9kZSA9PT0gfn5tb2RlKSA/IG1vZGUgOiAoKG1vZGUgPT09IHRydWUpID8gWl9GSU5JU0ggOiBaX05PX0ZMVVNIKTtcblxuICAvLyBDb252ZXJ0IGRhdGEgaWYgbmVlZGVkXG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBJZiB3ZSBuZWVkIHRvIGNvbXByZXNzIHRleHQsIGNoYW5nZSBlbmNvZGluZyB0byB1dGY4LlxuICAgIHN0cm0uaW5wdXQgPSBzdHJpbmdzLnN0cmluZzJidWYoZGF0YSk7XG4gIH0gZWxzZSBpZiAodG9TdHJpbmcuY2FsbChkYXRhKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuICAgIHN0cm0uaW5wdXQgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHJtLmlucHV0ID0gZGF0YTtcbiAgfVxuXG4gIHN0cm0ubmV4dF9pbiA9IDA7XG4gIHN0cm0uYXZhaWxfaW4gPSBzdHJtLmlucHV0Lmxlbmd0aDtcblxuICBkbyB7XG4gICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICBzdHJtLm91dHB1dCA9IG5ldyB1dGlscy5CdWY4KGNodW5rU2l6ZSk7XG4gICAgICBzdHJtLm5leHRfb3V0ID0gMDtcbiAgICAgIHN0cm0uYXZhaWxfb3V0ID0gY2h1bmtTaXplO1xuICAgIH1cbiAgICBzdGF0dXMgPSB6bGliX2RlZmxhdGUuZGVmbGF0ZShzdHJtLCBfbW9kZSk7ICAgIC8qIG5vIGJhZCByZXR1cm4gdmFsdWUgKi9cblxuICAgIGlmIChzdGF0dXMgIT09IFpfU1RSRUFNX0VORCAmJiBzdGF0dXMgIT09IFpfT0spIHtcbiAgICAgIHRoaXMub25FbmQoc3RhdHVzKTtcbiAgICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDAgfHwgKHN0cm0uYXZhaWxfaW4gPT09IDAgJiYgKF9tb2RlID09PSBaX0ZJTklTSCB8fCBfbW9kZSA9PT0gWl9TWU5DX0ZMVVNIKSkpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudG8gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMub25EYXRhKHN0cmluZ3MuYnVmMmJpbnN0cmluZyh1dGlscy5zaHJpbmtCdWYoc3RybS5vdXRwdXQsIHN0cm0ubmV4dF9vdXQpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uRGF0YSh1dGlscy5zaHJpbmtCdWYoc3RybS5vdXRwdXQsIHN0cm0ubmV4dF9vdXQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gd2hpbGUgKChzdHJtLmF2YWlsX2luID4gMCB8fCBzdHJtLmF2YWlsX291dCA9PT0gMCkgJiYgc3RhdHVzICE9PSBaX1NUUkVBTV9FTkQpO1xuXG4gIC8vIEZpbmFsaXplIG9uIHRoZSBsYXN0IGNodW5rLlxuICBpZiAoX21vZGUgPT09IFpfRklOSVNIKSB7XG4gICAgc3RhdHVzID0gemxpYl9kZWZsYXRlLmRlZmxhdGVFbmQodGhpcy5zdHJtKTtcbiAgICB0aGlzLm9uRW5kKHN0YXR1cyk7XG4gICAgdGhpcy5lbmRlZCA9IHRydWU7XG4gICAgcmV0dXJuIHN0YXR1cyA9PT0gWl9PSztcbiAgfVxuXG4gIC8vIGNhbGxiYWNrIGludGVyaW0gcmVzdWx0cyBpZiBaX1NZTkNfRkxVU0guXG4gIGlmIChfbW9kZSA9PT0gWl9TWU5DX0ZMVVNIKSB7XG4gICAgdGhpcy5vbkVuZChaX09LKTtcbiAgICBzdHJtLmF2YWlsX291dCA9IDA7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cblxuLyoqXG4gKiBEZWZsYXRlI29uRGF0YShjaHVuaykgLT4gVm9pZFxuICogLSBjaHVuayAoVWludDhBcnJheXxBcnJheXxTdHJpbmcpOiBvdXRwdXQgZGF0YS4gVHlwZSBvZiBhcnJheSBkZXBlbmRzXG4gKiAgIG9uIGpzIGVuZ2luZSBzdXBwb3J0LiBXaGVuIHN0cmluZyBvdXRwdXQgcmVxdWVzdGVkLCBlYWNoIGNodW5rXG4gKiAgIHdpbGwgYmUgc3RyaW5nLlxuICpcbiAqIEJ5IGRlZmF1bHQsIHN0b3JlcyBkYXRhIGJsb2NrcyBpbiBgY2h1bmtzW11gIHByb3BlcnR5IGFuZCBnbHVlXG4gKiB0aG9zZSBpbiBgb25FbmRgLiBPdmVycmlkZSB0aGlzIGhhbmRsZXIsIGlmIHlvdSBuZWVkIGFub3RoZXIgYmVoYXZpb3VyLlxuICoqL1xuRGVmbGF0ZS5wcm90b3R5cGUub25EYXRhID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIHRoaXMuY2h1bmtzLnB1c2goY2h1bmspO1xufTtcblxuXG4vKipcbiAqIERlZmxhdGUjb25FbmQoc3RhdHVzKSAtPiBWb2lkXG4gKiAtIHN0YXR1cyAoTnVtYmVyKTogZGVmbGF0ZSBzdGF0dXMuIDAgKFpfT0spIG9uIHN1Y2Nlc3MsXG4gKiAgIG90aGVyIGlmIG5vdC5cbiAqXG4gKiBDYWxsZWQgb25jZSBhZnRlciB5b3UgdGVsbCBkZWZsYXRlIHRoYXQgdGhlIGlucHV0IHN0cmVhbSBpc1xuICogY29tcGxldGUgKFpfRklOSVNIKSBvciBzaG91bGQgYmUgZmx1c2hlZCAoWl9TWU5DX0ZMVVNIKVxuICogb3IgaWYgYW4gZXJyb3IgaGFwcGVuZWQuIEJ5IGRlZmF1bHQgLSBqb2luIGNvbGxlY3RlZCBjaHVua3MsXG4gKiBmcmVlIG1lbW9yeSBhbmQgZmlsbCBgcmVzdWx0c2AgLyBgZXJyYCBwcm9wZXJ0aWVzLlxuICoqL1xuRGVmbGF0ZS5wcm90b3R5cGUub25FbmQgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gIC8vIE9uIHN1Y2Nlc3MgLSBqb2luXG4gIGlmIChzdGF0dXMgPT09IFpfT0spIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnRvID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5yZXN1bHQgPSB0aGlzLmNodW5rcy5qb2luKCcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXN1bHQgPSB1dGlscy5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKTtcbiAgICB9XG4gIH1cbiAgdGhpcy5jaHVua3MgPSBbXTtcbiAgdGhpcy5lcnIgPSBzdGF0dXM7XG4gIHRoaXMubXNnID0gdGhpcy5zdHJtLm1zZztcbn07XG5cblxuLyoqXG4gKiBkZWZsYXRlKGRhdGFbLCBvcHRpb25zXSkgLT4gVWludDhBcnJheXxBcnJheXxTdHJpbmdcbiAqIC0gZGF0YSAoVWludDhBcnJheXxBcnJheXxTdHJpbmcpOiBpbnB1dCBkYXRhIHRvIGNvbXByZXNzLlxuICogLSBvcHRpb25zIChPYmplY3QpOiB6bGliIGRlZmxhdGUgb3B0aW9ucy5cbiAqXG4gKiBDb21wcmVzcyBgZGF0YWAgd2l0aCBkZWZsYXRlIGFsZ29yaXRobSBhbmQgYG9wdGlvbnNgLlxuICpcbiAqIFN1cHBvcnRlZCBvcHRpb25zIGFyZTpcbiAqXG4gKiAtIGxldmVsXG4gKiAtIHdpbmRvd0JpdHNcbiAqIC0gbWVtTGV2ZWxcbiAqIC0gc3RyYXRlZ3lcbiAqIC0gZGljdGlvbmFyeVxuICpcbiAqIFtodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWRdKGh0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZClcbiAqIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHRoZXNlLlxuICpcbiAqIFN1Z2FyIChvcHRpb25zKTpcbiAqXG4gKiAtIGByYXdgIChCb29sZWFuKSAtIHNheSB0aGF0IHdlIHdvcmsgd2l0aCByYXcgc3RyZWFtLCBpZiB5b3UgZG9uJ3Qgd2lzaCB0byBzcGVjaWZ5XG4gKiAgIG5lZ2F0aXZlIHdpbmRvd0JpdHMgaW1wbGljaXRseS5cbiAqIC0gYHRvYCAoU3RyaW5nKSAtIGlmIGVxdWFsIHRvICdzdHJpbmcnLCB0aGVuIHJlc3VsdCB3aWxsIGJlIFwiYmluYXJ5IHN0cmluZ1wiXG4gKiAgICAoZWFjaCBjaGFyIGNvZGUgWzAuLjI1NV0pXG4gKlxuICogIyMjIyMgRXhhbXBsZTpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiB2YXIgcGFrbyA9IHJlcXVpcmUoJ3Bha28nKVxuICogICAsIGRhdGEgPSBVaW50OEFycmF5KFsxLDIsMyw0LDUsNiw3LDgsOV0pO1xuICpcbiAqIGNvbnNvbGUubG9nKHBha28uZGVmbGF0ZShkYXRhKSk7XG4gKiBgYGBcbiAqKi9cbmZ1bmN0aW9uIGRlZmxhdGUoaW5wdXQsIG9wdGlvbnMpIHtcbiAgdmFyIGRlZmxhdG9yID0gbmV3IERlZmxhdGUob3B0aW9ucyk7XG5cbiAgZGVmbGF0b3IucHVzaChpbnB1dCwgdHJ1ZSk7XG5cbiAgLy8gVGhhdCB3aWxsIG5ldmVyIGhhcHBlbnMsIGlmIHlvdSBkb24ndCBjaGVhdCB3aXRoIG9wdGlvbnMgOilcbiAgaWYgKGRlZmxhdG9yLmVycikgeyB0aHJvdyBkZWZsYXRvci5tc2cgfHwgbXNnW2RlZmxhdG9yLmVycl07IH1cblxuICByZXR1cm4gZGVmbGF0b3IucmVzdWx0O1xufVxuXG5cbi8qKlxuICogZGVmbGF0ZVJhdyhkYXRhWywgb3B0aW9uc10pIC0+IFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nXG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nKTogaW5wdXQgZGF0YSB0byBjb21wcmVzcy5cbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBkZWZsYXRlIG9wdGlvbnMuXG4gKlxuICogVGhlIHNhbWUgYXMgW1tkZWZsYXRlXV0sIGJ1dCBjcmVhdGVzIHJhdyBkYXRhLCB3aXRob3V0IHdyYXBwZXJcbiAqIChoZWFkZXIgYW5kIGFkbGVyMzIgY3JjKS5cbiAqKi9cbmZ1bmN0aW9uIGRlZmxhdGVSYXcoaW5wdXQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMucmF3ID0gdHJ1ZTtcbiAgcmV0dXJuIGRlZmxhdGUoaW5wdXQsIG9wdGlvbnMpO1xufVxuXG5cbi8qKlxuICogZ3ppcChkYXRhWywgb3B0aW9uc10pIC0+IFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nXG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nKTogaW5wdXQgZGF0YSB0byBjb21wcmVzcy5cbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBkZWZsYXRlIG9wdGlvbnMuXG4gKlxuICogVGhlIHNhbWUgYXMgW1tkZWZsYXRlXV0sIGJ1dCBjcmVhdGUgZ3ppcCB3cmFwcGVyIGluc3RlYWQgb2ZcbiAqIGRlZmxhdGUgb25lLlxuICoqL1xuZnVuY3Rpb24gZ3ppcChpbnB1dCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5nemlwID0gdHJ1ZTtcbiAgcmV0dXJuIGRlZmxhdGUoaW5wdXQsIG9wdGlvbnMpO1xufVxuXG5cbmV4cG9ydHMuRGVmbGF0ZSA9IERlZmxhdGU7XG5leHBvcnRzLmRlZmxhdGUgPSBkZWZsYXRlO1xuZXhwb3J0cy5kZWZsYXRlUmF3ID0gZGVmbGF0ZVJhdztcbmV4cG9ydHMuZ3ppcCA9IGd6aXA7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbi8vIFNlZSBzdGF0ZSBkZWZzIGZyb20gaW5mbGF0ZS5qc1xudmFyIEJBRCA9IDMwOyAgICAgICAvKiBnb3QgYSBkYXRhIGVycm9yIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG52YXIgVFlQRSA9IDEyOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIHR5cGUgYml0cywgaW5jbHVkaW5nIGxhc3QtZmxhZyBiaXQgKi9cblxuLypcbiAgIERlY29kZSBsaXRlcmFsLCBsZW5ndGgsIGFuZCBkaXN0YW5jZSBjb2RlcyBhbmQgd3JpdGUgb3V0IHRoZSByZXN1bHRpbmdcbiAgIGxpdGVyYWwgYW5kIG1hdGNoIGJ5dGVzIHVudGlsIGVpdGhlciBub3QgZW5vdWdoIGlucHV0IG9yIG91dHB1dCBpc1xuICAgYXZhaWxhYmxlLCBhbiBlbmQtb2YtYmxvY2sgaXMgZW5jb3VudGVyZWQsIG9yIGEgZGF0YSBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAgIFdoZW4gbGFyZ2UgZW5vdWdoIGlucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBhcmUgc3VwcGxpZWQgdG8gaW5mbGF0ZSgpLCBmb3JcbiAgIGV4YW1wbGUsIGEgMTZLIGlucHV0IGJ1ZmZlciBhbmQgYSA2NEsgb3V0cHV0IGJ1ZmZlciwgbW9yZSB0aGFuIDk1JSBvZiB0aGVcbiAgIGluZmxhdGUgZXhlY3V0aW9uIHRpbWUgaXMgc3BlbnQgaW4gdGhpcyByb3V0aW5lLlxuXG4gICBFbnRyeSBhc3N1bXB0aW9uczpcblxuICAgICAgICBzdGF0ZS5tb2RlID09PSBMRU5cbiAgICAgICAgc3RybS5hdmFpbF9pbiA+PSA2XG4gICAgICAgIHN0cm0uYXZhaWxfb3V0ID49IDI1OFxuICAgICAgICBzdGFydCA+PSBzdHJtLmF2YWlsX291dFxuICAgICAgICBzdGF0ZS5iaXRzIDwgOFxuXG4gICBPbiByZXR1cm4sIHN0YXRlLm1vZGUgaXMgb25lIG9mOlxuXG4gICAgICAgIExFTiAtLSByYW4gb3V0IG9mIGVub3VnaCBvdXRwdXQgc3BhY2Ugb3IgZW5vdWdoIGF2YWlsYWJsZSBpbnB1dFxuICAgICAgICBUWVBFIC0tIHJlYWNoZWQgZW5kIG9mIGJsb2NrIGNvZGUsIGluZmxhdGUoKSB0byBpbnRlcnByZXQgbmV4dCBibG9ja1xuICAgICAgICBCQUQgLS0gZXJyb3IgaW4gYmxvY2sgZGF0YVxuXG4gICBOb3RlczpcblxuICAgIC0gVGhlIG1heGltdW0gaW5wdXQgYml0cyB1c2VkIGJ5IGEgbGVuZ3RoL2Rpc3RhbmNlIHBhaXIgaXMgMTUgYml0cyBmb3IgdGhlXG4gICAgICBsZW5ndGggY29kZSwgNSBiaXRzIGZvciB0aGUgbGVuZ3RoIGV4dHJhLCAxNSBiaXRzIGZvciB0aGUgZGlzdGFuY2UgY29kZSxcbiAgICAgIGFuZCAxMyBiaXRzIGZvciB0aGUgZGlzdGFuY2UgZXh0cmEuICBUaGlzIHRvdGFscyA0OCBiaXRzLCBvciBzaXggYnl0ZXMuXG4gICAgICBUaGVyZWZvcmUgaWYgc3RybS5hdmFpbF9pbiA+PSA2LCB0aGVuIHRoZXJlIGlzIGVub3VnaCBpbnB1dCB0byBhdm9pZFxuICAgICAgY2hlY2tpbmcgZm9yIGF2YWlsYWJsZSBpbnB1dCB3aGlsZSBkZWNvZGluZy5cblxuICAgIC0gVGhlIG1heGltdW0gYnl0ZXMgdGhhdCBhIHNpbmdsZSBsZW5ndGgvZGlzdGFuY2UgcGFpciBjYW4gb3V0cHV0IGlzIDI1OFxuICAgICAgYnl0ZXMsIHdoaWNoIGlzIHRoZSBtYXhpbXVtIGxlbmd0aCB0aGF0IGNhbiBiZSBjb2RlZC4gIGluZmxhdGVfZmFzdCgpXG4gICAgICByZXF1aXJlcyBzdHJtLmF2YWlsX291dCA+PSAyNTggZm9yIGVhY2ggbG9vcCB0byBhdm9pZCBjaGVja2luZyBmb3JcbiAgICAgIG91dHB1dCBzcGFjZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmZsYXRlX2Zhc3Qoc3RybSwgc3RhcnQpIHtcbiAgdmFyIHN0YXRlO1xuICB2YXIgX2luOyAgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5pbnB1dCAqL1xuICB2YXIgbGFzdDsgICAgICAgICAgICAgICAgICAgLyogaGF2ZSBlbm91Z2ggaW5wdXQgd2hpbGUgaW4gPCBsYXN0ICovXG4gIHZhciBfb3V0OyAgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLm91dHB1dCAqL1xuICB2YXIgYmVnOyAgICAgICAgICAgICAgICAgICAgLyogaW5mbGF0ZSgpJ3MgaW5pdGlhbCBzdHJtLm91dHB1dCAqL1xuICB2YXIgZW5kOyAgICAgICAgICAgICAgICAgICAgLyogd2hpbGUgb3V0IDwgZW5kLCBlbm91Z2ggc3BhY2UgYXZhaWxhYmxlICovXG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICB2YXIgZG1heDsgICAgICAgICAgICAgICAgICAgLyogbWF4aW11bSBkaXN0YW5jZSBmcm9tIHpsaWIgaGVhZGVyICovXG4vLyNlbmRpZlxuICB2YXIgd3NpemU7ICAgICAgICAgICAgICAgICAgLyogd2luZG93IHNpemUgb3IgemVybyBpZiBub3QgdXNpbmcgd2luZG93ICovXG4gIHZhciB3aGF2ZTsgICAgICAgICAgICAgICAgICAvKiB2YWxpZCBieXRlcyBpbiB0aGUgd2luZG93ICovXG4gIHZhciB3bmV4dDsgICAgICAgICAgICAgICAgICAvKiB3aW5kb3cgd3JpdGUgaW5kZXggKi9cbiAgLy8gVXNlIGBzX3dpbmRvd2AgaW5zdGVhZCBgd2luZG93YCwgYXZvaWQgY29uZmxpY3Qgd2l0aCBpbnN0cnVtZW50YXRpb24gdG9vbHNcbiAgdmFyIHNfd2luZG93OyAgICAgICAgICAgICAgIC8qIGFsbG9jYXRlZCBzbGlkaW5nIHdpbmRvdywgaWYgd3NpemUgIT0gMCAqL1xuICB2YXIgaG9sZDsgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5ob2xkICovXG4gIHZhciBiaXRzOyAgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmJpdHMgKi9cbiAgdmFyIGxjb2RlOyAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0ubGVuY29kZSAqL1xuICB2YXIgZGNvZGU7ICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5kaXN0Y29kZSAqL1xuICB2YXIgbG1hc2s7ICAgICAgICAgICAgICAgICAgLyogbWFzayBmb3IgZmlyc3QgbGV2ZWwgb2YgbGVuZ3RoIGNvZGVzICovXG4gIHZhciBkbWFzazsgICAgICAgICAgICAgICAgICAvKiBtYXNrIGZvciBmaXJzdCBsZXZlbCBvZiBkaXN0YW5jZSBjb2RlcyAqL1xuICB2YXIgaGVyZTsgICAgICAgICAgICAgICAgICAgLyogcmV0cmlldmVkIHRhYmxlIGVudHJ5ICovXG4gIHZhciBvcDsgICAgICAgICAgICAgICAgICAgICAvKiBjb2RlIGJpdHMsIG9wZXJhdGlvbiwgZXh0cmEgYml0cywgb3IgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qICB3aW5kb3cgcG9zaXRpb24sIHdpbmRvdyBieXRlcyB0byBjb3B5ICovXG4gIHZhciBsZW47ICAgICAgICAgICAgICAgICAgICAvKiBtYXRjaCBsZW5ndGgsIHVudXNlZCBieXRlcyAqL1xuICB2YXIgZGlzdDsgICAgICAgICAgICAgICAgICAgLyogbWF0Y2ggZGlzdGFuY2UgKi9cbiAgdmFyIGZyb207ICAgICAgICAgICAgICAgICAgIC8qIHdoZXJlIHRvIGNvcHkgbWF0Y2ggZnJvbSAqL1xuICB2YXIgZnJvbV9zb3VyY2U7XG5cblxuICB2YXIgaW5wdXQsIG91dHB1dDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuXG4gIC8qIGNvcHkgc3RhdGUgdG8gbG9jYWwgdmFyaWFibGVzICovXG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgLy9oZXJlID0gc3RhdGUuaGVyZTtcbiAgX2luID0gc3RybS5uZXh0X2luO1xuICBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gIGxhc3QgPSBfaW4gKyAoc3RybS5hdmFpbF9pbiAtIDUpO1xuICBfb3V0ID0gc3RybS5uZXh0X291dDtcbiAgb3V0cHV0ID0gc3RybS5vdXRwdXQ7XG4gIGJlZyA9IF9vdXQgLSAoc3RhcnQgLSBzdHJtLmF2YWlsX291dCk7XG4gIGVuZCA9IF9vdXQgKyAoc3RybS5hdmFpbF9vdXQgLSAyNTcpO1xuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgZG1heCA9IHN0YXRlLmRtYXg7XG4vLyNlbmRpZlxuICB3c2l6ZSA9IHN0YXRlLndzaXplO1xuICB3aGF2ZSA9IHN0YXRlLndoYXZlO1xuICB3bmV4dCA9IHN0YXRlLnduZXh0O1xuICBzX3dpbmRvdyA9IHN0YXRlLndpbmRvdztcbiAgaG9sZCA9IHN0YXRlLmhvbGQ7XG4gIGJpdHMgPSBzdGF0ZS5iaXRzO1xuICBsY29kZSA9IHN0YXRlLmxlbmNvZGU7XG4gIGRjb2RlID0gc3RhdGUuZGlzdGNvZGU7XG4gIGxtYXNrID0gKDEgPDwgc3RhdGUubGVuYml0cykgLSAxO1xuICBkbWFzayA9ICgxIDw8IHN0YXRlLmRpc3RiaXRzKSAtIDE7XG5cblxuICAvKiBkZWNvZGUgbGl0ZXJhbHMgYW5kIGxlbmd0aC9kaXN0YW5jZXMgdW50aWwgZW5kLW9mLWJsb2NrIG9yIG5vdCBlbm91Z2hcbiAgICAgaW5wdXQgZGF0YSBvciBvdXRwdXQgc3BhY2UgKi9cblxuICB0b3A6XG4gIGRvIHtcbiAgICBpZiAoYml0cyA8IDE1KSB7XG4gICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgYml0cyArPSA4O1xuICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgIGJpdHMgKz0gODtcbiAgICB9XG5cbiAgICBoZXJlID0gbGNvZGVbaG9sZCAmIGxtYXNrXTtcblxuICAgIGRvbGVuOlxuICAgIGZvciAoOzspIHsgLy8gR290byBlbXVsYXRpb25cbiAgICAgIG9wID0gaGVyZSA+Pj4gMjQvKmhlcmUuYml0cyovO1xuICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgYml0cyAtPSBvcDtcbiAgICAgIG9wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmYvKmhlcmUub3AqLztcbiAgICAgIGlmIChvcCA9PT0gMCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgLyogbGl0ZXJhbCAqL1xuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgaGVyZS52YWwgPj0gMHgyMCAmJiBoZXJlLnZhbCA8IDB4N2YgP1xuICAgICAgICAvLyAgICAgICAgXCJpbmZsYXRlOiAgICAgICAgIGxpdGVyYWwgJyVjJ1xcblwiIDpcbiAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsIDB4JTAyeFxcblwiLCBoZXJlLnZhbCkpO1xuICAgICAgICBvdXRwdXRbX291dCsrXSA9IGhlcmUgJiAweGZmZmYvKmhlcmUudmFsKi87XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvcCAmIDE2KSB7ICAgICAgICAgICAgICAgICAgICAgLyogbGVuZ3RoIGJhc2UgKi9cbiAgICAgICAgbGVuID0gaGVyZSAmIDB4ZmZmZi8qaGVyZS52YWwqLztcbiAgICAgICAgb3AgJj0gMTU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGV4dHJhIGJpdHMgKi9cbiAgICAgICAgaWYgKG9wKSB7XG4gICAgICAgICAgaWYgKGJpdHMgPCBvcCkge1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGVuICs9IGhvbGQgJiAoKDEgPDwgb3ApIC0gMSk7XG4gICAgICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgICAgIGJpdHMgLT0gb3A7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBsZW5ndGggJXVcXG5cIiwgbGVuKSk7XG4gICAgICAgIGlmIChiaXRzIDwgMTUpIHtcbiAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICBoZXJlID0gZGNvZGVbaG9sZCAmIGRtYXNrXTtcblxuICAgICAgICBkb2Rpc3Q6XG4gICAgICAgIGZvciAoOzspIHsgLy8gZ290byBlbXVsYXRpb25cbiAgICAgICAgICBvcCA9IGhlcmUgPj4+IDI0LypoZXJlLmJpdHMqLztcbiAgICAgICAgICBob2xkID4+Pj0gb3A7XG4gICAgICAgICAgYml0cyAtPSBvcDtcbiAgICAgICAgICBvcCA9IChoZXJlID4+PiAxNikgJiAweGZmLypoZXJlLm9wKi87XG5cbiAgICAgICAgICBpZiAob3AgJiAxNikgeyAgICAgICAgICAgICAgICAgICAgICAvKiBkaXN0YW5jZSBiYXNlICovXG4gICAgICAgICAgICBkaXN0ID0gaGVyZSAmIDB4ZmZmZi8qaGVyZS52YWwqLztcbiAgICAgICAgICAgIG9wICY9IDE1OyAgICAgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGV4dHJhIGJpdHMgKi9cbiAgICAgICAgICAgIGlmIChiaXRzIDwgb3ApIHtcbiAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICBpZiAoYml0cyA8IG9wKSB7XG4gICAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3QgKz0gaG9sZCAmICgoMSA8PCBvcCkgLSAxKTtcbi8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gICAgICAgICAgICBpZiAoZGlzdCA+IGRtYXgpIHtcbiAgICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2snO1xuICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICBicmVhayB0b3A7XG4gICAgICAgICAgICB9XG4vLyNlbmRpZlxuICAgICAgICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgICAgICAgYml0cyAtPSBvcDtcbiAgICAgICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZGlzdGFuY2UgJXVcXG5cIiwgZGlzdCkpO1xuICAgICAgICAgICAgb3AgPSBfb3V0IC0gYmVnOyAgICAgICAgICAgICAgICAvKiBtYXggZGlzdGFuY2UgaW4gb3V0cHV0ICovXG4gICAgICAgICAgICBpZiAoZGlzdCA+IG9wKSB7ICAgICAgICAgICAgICAgIC8qIHNlZSBpZiBjb3B5IGZyb20gd2luZG93ICovXG4gICAgICAgICAgICAgIG9wID0gZGlzdCAtIG9wOyAgICAgICAgICAgICAgIC8qIGRpc3RhbmNlIGJhY2sgaW4gd2luZG93ICovXG4gICAgICAgICAgICAgIGlmIChvcCA+IHdoYXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLnNhbmUpIHtcbiAgICAgICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICAgICAgICBicmVhayB0b3A7XG4gICAgICAgICAgICAgICAgfVxuXG4vLyAoISkgVGhpcyBibG9jayBpcyBkaXNhYmxlZCBpbiB6bGliIGRlZmF1bHRzLFxuLy8gZG9uJ3QgZW5hYmxlIGl0IGZvciBiaW5hcnkgY29tcGF0aWJpbGl0eVxuLy8jaWZkZWYgSU5GTEFURV9BTExPV19JTlZBTElEX0RJU1RBTkNFX1RPT0ZBUl9BUlJSXG4vLyAgICAgICAgICAgICAgICBpZiAobGVuIDw9IG9wIC0gd2hhdmUpIHtcbi8vICAgICAgICAgICAgICAgICAgZG8ge1xuLy8gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gMDtcbi8vICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1sZW4pO1xuLy8gICAgICAgICAgICAgICAgICBjb250aW51ZSB0b3A7XG4vLyAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICBsZW4gLT0gb3AgLSB3aGF2ZTtcbi8vICAgICAgICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSAwO1xuLy8gICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCA+IHdoYXZlKTtcbi8vICAgICAgICAgICAgICAgIGlmIChvcCA9PT0gMCkge1xuLy8gICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7XG4vLyAgICAgICAgICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuLy8gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLWxlbik7XG4vLyAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHRvcDtcbi8vICAgICAgICAgICAgICAgIH1cbi8vI2VuZGlmXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZnJvbSA9IDA7IC8vIHdpbmRvdyBpbmRleFxuICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IHNfd2luZG93O1xuICAgICAgICAgICAgICBpZiAod25leHQgPT09IDApIHsgICAgICAgICAgIC8qIHZlcnkgY29tbW9uIGNhc2UgKi9cbiAgICAgICAgICAgICAgICBmcm9tICs9IHdzaXplIC0gb3A7XG4gICAgICAgICAgICAgICAgaWYgKG9wIDwgbGVuKSB7ICAgICAgICAgLyogc29tZSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgICAgbGVuIC09IG9wO1xuICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IHNfd2luZG93W2Zyb20rK107XG4gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wKTtcbiAgICAgICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDsgIC8qIHJlc3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgICAgIGZyb21fc291cmNlID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmICh3bmV4dCA8IG9wKSB7ICAgICAgLyogd3JhcCBhcm91bmQgd2luZG93ICovXG4gICAgICAgICAgICAgICAgZnJvbSArPSB3c2l6ZSArIHduZXh0IC0gb3A7XG4gICAgICAgICAgICAgICAgb3AgLT0gd25leHQ7XG4gICAgICAgICAgICAgICAgaWYgKG9wIDwgbGVuKSB7ICAgICAgICAgLyogc29tZSBmcm9tIGVuZCBvZiB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICBmcm9tID0gMDtcbiAgICAgICAgICAgICAgICAgIGlmICh3bmV4dCA8IGxlbikgeyAgLyogc29tZSBmcm9tIHN0YXJ0IG9mIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgICAgICBvcCA9IHduZXh0O1xuICAgICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IHNfd2luZG93W2Zyb20rK107XG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAgICAgLyogcmVzdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgIC8qIGNvbnRpZ3VvdXMgaW4gd2luZG93ICovXG4gICAgICAgICAgICAgICAgZnJvbSArPSB3bmV4dCAtIG9wO1xuICAgICAgICAgICAgICAgIGlmIChvcCA8IGxlbikgeyAgICAgICAgIC8qIHNvbWUgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAvKiByZXN0IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd2hpbGUgKGxlbiA+IDIpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBsZW4gLT0gMztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPiAxKSB7XG4gICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgICAgICAgICAvKiBjb3B5IGRpcmVjdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICBkbyB7ICAgICAgICAgICAgICAgICAgICAgICAgLyogbWluaW11bSBsZW5ndGggaXMgdGhyZWUgKi9cbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBsZW4gLT0gMztcbiAgICAgICAgICAgICAgfSB3aGlsZSAobGVuID4gMik7XG4gICAgICAgICAgICAgIGlmIChsZW4pIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPiAxKSB7XG4gICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICgob3AgJiA2NCkgPT09IDApIHsgICAgICAgICAgLyogMm5kIGxldmVsIGRpc3RhbmNlIGNvZGUgKi9cbiAgICAgICAgICAgIGhlcmUgPSBkY29kZVsoaGVyZSAmIDB4ZmZmZikvKmhlcmUudmFsKi8gKyAoaG9sZCAmICgoMSA8PCBvcCkgLSAxKSldO1xuICAgICAgICAgICAgY29udGludWUgZG9kaXN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgY29kZSc7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrOyAvLyBuZWVkIHRvIGVtdWxhdGUgZ290byB2aWEgXCJjb250aW51ZVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKChvcCAmIDY0KSA9PT0gMCkgeyAgICAgICAgICAgICAgLyogMm5kIGxldmVsIGxlbmd0aCBjb2RlICovXG4gICAgICAgIGhlcmUgPSBsY29kZVsoaGVyZSAmIDB4ZmZmZikvKmhlcmUudmFsKi8gKyAoaG9sZCAmICgoMSA8PCBvcCkgLSAxKSldO1xuICAgICAgICBjb250aW51ZSBkb2xlbjtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG9wICYgMzIpIHsgICAgICAgICAgICAgICAgICAgICAvKiBlbmQtb2YtYmxvY2sgKi9cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBlbmQgb2YgYmxvY2tcXG5cIikpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrIHRvcDtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7IC8vIG5lZWQgdG8gZW11bGF0ZSBnb3RvIHZpYSBcImNvbnRpbnVlXCJcbiAgICB9XG4gIH0gd2hpbGUgKF9pbiA8IGxhc3QgJiYgX291dCA8IGVuZCk7XG5cbiAgLyogcmV0dXJuIHVudXNlZCBieXRlcyAob24gZW50cnksIGJpdHMgPCA4LCBzbyBpbiB3b24ndCBnbyB0b28gZmFyIGJhY2spICovXG4gIGxlbiA9IGJpdHMgPj4gMztcbiAgX2luIC09IGxlbjtcbiAgYml0cyAtPSBsZW4gPDwgMztcbiAgaG9sZCAmPSAoMSA8PCBiaXRzKSAtIDE7XG5cbiAgLyogdXBkYXRlIHN0YXRlIGFuZCByZXR1cm4gKi9cbiAgc3RybS5uZXh0X2luID0gX2luO1xuICBzdHJtLm5leHRfb3V0ID0gX291dDtcbiAgc3RybS5hdmFpbF9pbiA9IChfaW4gPCBsYXN0ID8gNSArIChsYXN0IC0gX2luKSA6IDUgLSAoX2luIC0gbGFzdCkpO1xuICBzdHJtLmF2YWlsX291dCA9IChfb3V0IDwgZW5kID8gMjU3ICsgKGVuZCAtIF9vdXQpIDogMjU3IC0gKF9vdXQgLSBlbmQpKTtcbiAgc3RhdGUuaG9sZCA9IGhvbGQ7XG4gIHN0YXRlLmJpdHMgPSBiaXRzO1xuICByZXR1cm47XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy9jb21tb24nKTtcblxudmFyIE1BWEJJVFMgPSAxNTtcbnZhciBFTk9VR0hfTEVOUyA9IDg1MjtcbnZhciBFTk9VR0hfRElTVFMgPSA1OTI7XG4vL3ZhciBFTk9VR0ggPSAoRU5PVUdIX0xFTlMrRU5PVUdIX0RJU1RTKTtcblxudmFyIENPREVTID0gMDtcbnZhciBMRU5TID0gMTtcbnZhciBESVNUUyA9IDI7XG5cbnZhciBsYmFzZSA9IFsgLyogTGVuZ3RoIGNvZGVzIDI1Ny4uMjg1IGJhc2UgKi9cbiAgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMywgMTUsIDE3LCAxOSwgMjMsIDI3LCAzMSxcbiAgMzUsIDQzLCA1MSwgNTksIDY3LCA4MywgOTksIDExNSwgMTMxLCAxNjMsIDE5NSwgMjI3LCAyNTgsIDAsIDBcbl07XG5cbnZhciBsZXh0ID0gWyAvKiBMZW5ndGggY29kZXMgMjU3Li4yODUgZXh0cmEgKi9cbiAgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNywgMTcsIDE3LCAxNywgMTgsIDE4LCAxOCwgMTgsXG4gIDE5LCAxOSwgMTksIDE5LCAyMCwgMjAsIDIwLCAyMCwgMjEsIDIxLCAyMSwgMjEsIDE2LCA3MiwgNzhcbl07XG5cbnZhciBkYmFzZSA9IFsgLyogRGlzdGFuY2UgY29kZXMgMC4uMjkgYmFzZSAqL1xuICAxLCAyLCAzLCA0LCA1LCA3LCA5LCAxMywgMTcsIDI1LCAzMywgNDksIDY1LCA5NywgMTI5LCAxOTMsXG4gIDI1NywgMzg1LCA1MTMsIDc2OSwgMTAyNSwgMTUzNywgMjA0OSwgMzA3MywgNDA5NywgNjE0NSxcbiAgODE5MywgMTIyODksIDE2Mzg1LCAyNDU3NywgMCwgMFxuXTtcblxudmFyIGRleHQgPSBbIC8qIERpc3RhbmNlIGNvZGVzIDAuLjI5IGV4dHJhICovXG4gIDE2LCAxNiwgMTYsIDE2LCAxNywgMTcsIDE4LCAxOCwgMTksIDE5LCAyMCwgMjAsIDIxLCAyMSwgMjIsIDIyLFxuICAyMywgMjMsIDI0LCAyNCwgMjUsIDI1LCAyNiwgMjYsIDI3LCAyNyxcbiAgMjgsIDI4LCAyOSwgMjksIDY0LCA2NFxuXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmZsYXRlX3RhYmxlKHR5cGUsIGxlbnMsIGxlbnNfaW5kZXgsIGNvZGVzLCB0YWJsZSwgdGFibGVfaW5kZXgsIHdvcmssIG9wdHMpXG57XG4gIHZhciBiaXRzID0gb3B0cy5iaXRzO1xuICAgICAgLy9oZXJlID0gb3B0cy5oZXJlOyAvKiB0YWJsZSBlbnRyeSBmb3IgZHVwbGljYXRpb24gKi9cblxuICB2YXIgbGVuID0gMDsgICAgICAgICAgICAgICAvKiBhIGNvZGUncyBsZW5ndGggaW4gYml0cyAqL1xuICB2YXIgc3ltID0gMDsgICAgICAgICAgICAgICAvKiBpbmRleCBvZiBjb2RlIHN5bWJvbHMgKi9cbiAgdmFyIG1pbiA9IDAsIG1heCA9IDA7ICAgICAgICAgIC8qIG1pbmltdW0gYW5kIG1heGltdW0gY29kZSBsZW5ndGhzICovXG4gIHZhciByb290ID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBpbmRleCBiaXRzIGZvciByb290IHRhYmxlICovXG4gIHZhciBjdXJyID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBpbmRleCBiaXRzIGZvciBjdXJyZW50IHRhYmxlICovXG4gIHZhciBkcm9wID0gMDsgICAgICAgICAgICAgIC8qIGNvZGUgYml0cyB0byBkcm9wIGZvciBzdWItdGFibGUgKi9cbiAgdmFyIGxlZnQgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgcHJlZml4IGNvZGVzIGF2YWlsYWJsZSAqL1xuICB2YXIgdXNlZCA9IDA7ICAgICAgICAgICAgICAvKiBjb2RlIGVudHJpZXMgaW4gdGFibGUgdXNlZCAqL1xuICB2YXIgaHVmZiA9IDA7ICAgICAgICAgICAgICAvKiBIdWZmbWFuIGNvZGUgKi9cbiAgdmFyIGluY3I7ICAgICAgICAgICAgICAvKiBmb3IgaW5jcmVtZW50aW5nIGNvZGUsIGluZGV4ICovXG4gIHZhciBmaWxsOyAgICAgICAgICAgICAgLyogaW5kZXggZm9yIHJlcGxpY2F0aW5nIGVudHJpZXMgKi9cbiAgdmFyIGxvdzsgICAgICAgICAgICAgICAvKiBsb3cgYml0cyBmb3IgY3VycmVudCByb290IGVudHJ5ICovXG4gIHZhciBtYXNrOyAgICAgICAgICAgICAgLyogbWFzayBmb3IgbG93IHJvb3QgYml0cyAqL1xuICB2YXIgbmV4dDsgICAgICAgICAgICAgLyogbmV4dCBhdmFpbGFibGUgc3BhY2UgaW4gdGFibGUgKi9cbiAgdmFyIGJhc2UgPSBudWxsOyAgICAgLyogYmFzZSB2YWx1ZSB0YWJsZSB0byB1c2UgKi9cbiAgdmFyIGJhc2VfaW5kZXggPSAwO1xuLy8gIHZhciBzaG9leHRyYTsgICAgLyogZXh0cmEgYml0cyB0YWJsZSB0byB1c2UgKi9cbiAgdmFyIGVuZDsgICAgICAgICAgICAgICAgICAgIC8qIHVzZSBiYXNlIGFuZCBleHRyYSBmb3Igc3ltYm9sID4gZW5kICovXG4gIHZhciBjb3VudCA9IG5ldyB1dGlscy5CdWYxNihNQVhCSVRTICsgMSk7IC8vW01BWEJJVFMrMV07ICAgIC8qIG51bWJlciBvZiBjb2RlcyBvZiBlYWNoIGxlbmd0aCAqL1xuICB2YXIgb2ZmcyA9IG5ldyB1dGlscy5CdWYxNihNQVhCSVRTICsgMSk7IC8vW01BWEJJVFMrMV07ICAgICAvKiBvZmZzZXRzIGluIHRhYmxlIGZvciBlYWNoIGxlbmd0aCAqL1xuICB2YXIgZXh0cmEgPSBudWxsO1xuICB2YXIgZXh0cmFfaW5kZXggPSAwO1xuXG4gIHZhciBoZXJlX2JpdHMsIGhlcmVfb3AsIGhlcmVfdmFsO1xuXG4gIC8qXG4gICBQcm9jZXNzIGEgc2V0IG9mIGNvZGUgbGVuZ3RocyB0byBjcmVhdGUgYSBjYW5vbmljYWwgSHVmZm1hbiBjb2RlLiAgVGhlXG4gICBjb2RlIGxlbmd0aHMgYXJlIGxlbnNbMC4uY29kZXMtMV0uICBFYWNoIGxlbmd0aCBjb3JyZXNwb25kcyB0byB0aGVcbiAgIHN5bWJvbHMgMC4uY29kZXMtMS4gIFRoZSBIdWZmbWFuIGNvZGUgaXMgZ2VuZXJhdGVkIGJ5IGZpcnN0IHNvcnRpbmcgdGhlXG4gICBzeW1ib2xzIGJ5IGxlbmd0aCBmcm9tIHNob3J0IHRvIGxvbmcsIGFuZCByZXRhaW5pbmcgdGhlIHN5bWJvbCBvcmRlclxuICAgZm9yIGNvZGVzIHdpdGggZXF1YWwgbGVuZ3Rocy4gIFRoZW4gdGhlIGNvZGUgc3RhcnRzIHdpdGggYWxsIHplcm8gYml0c1xuICAgZm9yIHRoZSBmaXJzdCBjb2RlIG9mIHRoZSBzaG9ydGVzdCBsZW5ndGgsIGFuZCB0aGUgY29kZXMgYXJlIGludGVnZXJcbiAgIGluY3JlbWVudHMgZm9yIHRoZSBzYW1lIGxlbmd0aCwgYW5kIHplcm9zIGFyZSBhcHBlbmRlZCBhcyB0aGUgbGVuZ3RoXG4gICBpbmNyZWFzZXMuICBGb3IgdGhlIGRlZmxhdGUgZm9ybWF0LCB0aGVzZSBiaXRzIGFyZSBzdG9yZWQgYmFja3dhcmRzXG4gICBmcm9tIHRoZWlyIG1vcmUgbmF0dXJhbCBpbnRlZ2VyIGluY3JlbWVudCBvcmRlcmluZywgYW5kIHNvIHdoZW4gdGhlXG4gICBkZWNvZGluZyB0YWJsZXMgYXJlIGJ1aWx0IGluIHRoZSBsYXJnZSBsb29wIGJlbG93LCB0aGUgaW50ZWdlciBjb2Rlc1xuICAgYXJlIGluY3JlbWVudGVkIGJhY2t3YXJkcy5cblxuICAgVGhpcyByb3V0aW5lIGFzc3VtZXMsIGJ1dCBkb2VzIG5vdCBjaGVjaywgdGhhdCBhbGwgb2YgdGhlIGVudHJpZXMgaW5cbiAgIGxlbnNbXSBhcmUgaW4gdGhlIHJhbmdlIDAuLk1BWEJJVFMuICBUaGUgY2FsbGVyIG11c3QgYXNzdXJlIHRoaXMuXG4gICAxLi5NQVhCSVRTIGlzIGludGVycHJldGVkIGFzIHRoYXQgY29kZSBsZW5ndGguICB6ZXJvIG1lYW5zIHRoYXQgdGhhdFxuICAgc3ltYm9sIGRvZXMgbm90IG9jY3VyIGluIHRoaXMgY29kZS5cblxuICAgVGhlIGNvZGVzIGFyZSBzb3J0ZWQgYnkgY29tcHV0aW5nIGEgY291bnQgb2YgY29kZXMgZm9yIGVhY2ggbGVuZ3RoLFxuICAgY3JlYXRpbmcgZnJvbSB0aGF0IGEgdGFibGUgb2Ygc3RhcnRpbmcgaW5kaWNlcyBmb3IgZWFjaCBsZW5ndGggaW4gdGhlXG4gICBzb3J0ZWQgdGFibGUsIGFuZCB0aGVuIGVudGVyaW5nIHRoZSBzeW1ib2xzIGluIG9yZGVyIGluIHRoZSBzb3J0ZWRcbiAgIHRhYmxlLiAgVGhlIHNvcnRlZCB0YWJsZSBpcyB3b3JrW10sIHdpdGggdGhhdCBzcGFjZSBiZWluZyBwcm92aWRlZCBieVxuICAgdGhlIGNhbGxlci5cblxuICAgVGhlIGxlbmd0aCBjb3VudHMgYXJlIHVzZWQgZm9yIG90aGVyIHB1cnBvc2VzIGFzIHdlbGwsIGkuZS4gZmluZGluZ1xuICAgdGhlIG1pbmltdW0gYW5kIG1heGltdW0gbGVuZ3RoIGNvZGVzLCBkZXRlcm1pbmluZyBpZiB0aGVyZSBhcmUgYW55XG4gICBjb2RlcyBhdCBhbGwsIGNoZWNraW5nIGZvciBhIHZhbGlkIHNldCBvZiBsZW5ndGhzLCBhbmQgbG9va2luZyBhaGVhZFxuICAgYXQgbGVuZ3RoIGNvdW50cyB0byBkZXRlcm1pbmUgc3ViLXRhYmxlIHNpemVzIHdoZW4gYnVpbGRpbmcgdGhlXG4gICBkZWNvZGluZyB0YWJsZXMuXG4gICAqL1xuXG4gIC8qIGFjY3VtdWxhdGUgbGVuZ3RocyBmb3IgY29kZXMgKGFzc3VtZXMgbGVuc1tdIGFsbCBpbiAwLi5NQVhCSVRTKSAqL1xuICBmb3IgKGxlbiA9IDA7IGxlbiA8PSBNQVhCSVRTOyBsZW4rKykge1xuICAgIGNvdW50W2xlbl0gPSAwO1xuICB9XG4gIGZvciAoc3ltID0gMDsgc3ltIDwgY29kZXM7IHN5bSsrKSB7XG4gICAgY291bnRbbGVuc1tsZW5zX2luZGV4ICsgc3ltXV0rKztcbiAgfVxuXG4gIC8qIGJvdW5kIGNvZGUgbGVuZ3RocywgZm9yY2Ugcm9vdCB0byBiZSB3aXRoaW4gY29kZSBsZW5ndGhzICovXG4gIHJvb3QgPSBiaXRzO1xuICBmb3IgKG1heCA9IE1BWEJJVFM7IG1heCA+PSAxOyBtYXgtLSkge1xuICAgIGlmIChjb3VudFttYXhdICE9PSAwKSB7IGJyZWFrOyB9XG4gIH1cbiAgaWYgKHJvb3QgPiBtYXgpIHtcbiAgICByb290ID0gbWF4O1xuICB9XG4gIGlmIChtYXggPT09IDApIHsgICAgICAgICAgICAgICAgICAgICAvKiBubyBzeW1ib2xzIHRvIGNvZGUgYXQgYWxsICovXG4gICAgLy90YWJsZS5vcFtvcHRzLnRhYmxlX2luZGV4XSA9IDY0OyAgLy9oZXJlLm9wID0gKHZhciBjaGFyKTY0OyAgICAvKiBpbnZhbGlkIGNvZGUgbWFya2VyICovXG4gICAgLy90YWJsZS5iaXRzW29wdHMudGFibGVfaW5kZXhdID0gMTsgICAvL2hlcmUuYml0cyA9ICh2YXIgY2hhcikxO1xuICAgIC8vdGFibGUudmFsW29wdHMudGFibGVfaW5kZXgrK10gPSAwOyAgIC8vaGVyZS52YWwgPSAodmFyIHNob3J0KTA7XG4gICAgdGFibGVbdGFibGVfaW5kZXgrK10gPSAoMSA8PCAyNCkgfCAoNjQgPDwgMTYpIHwgMDtcblxuXG4gICAgLy90YWJsZS5vcFtvcHRzLnRhYmxlX2luZGV4XSA9IDY0O1xuICAgIC8vdGFibGUuYml0c1tvcHRzLnRhYmxlX2luZGV4XSA9IDE7XG4gICAgLy90YWJsZS52YWxbb3B0cy50YWJsZV9pbmRleCsrXSA9IDA7XG4gICAgdGFibGVbdGFibGVfaW5kZXgrK10gPSAoMSA8PCAyNCkgfCAoNjQgPDwgMTYpIHwgMDtcblxuICAgIG9wdHMuYml0cyA9IDE7XG4gICAgcmV0dXJuIDA7ICAgICAvKiBubyBzeW1ib2xzLCBidXQgd2FpdCBmb3IgZGVjb2RpbmcgdG8gcmVwb3J0IGVycm9yICovXG4gIH1cbiAgZm9yIChtaW4gPSAxOyBtaW4gPCBtYXg7IG1pbisrKSB7XG4gICAgaWYgKGNvdW50W21pbl0gIT09IDApIHsgYnJlYWs7IH1cbiAgfVxuICBpZiAocm9vdCA8IG1pbikge1xuICAgIHJvb3QgPSBtaW47XG4gIH1cblxuICAvKiBjaGVjayBmb3IgYW4gb3Zlci1zdWJzY3JpYmVkIG9yIGluY29tcGxldGUgc2V0IG9mIGxlbmd0aHMgKi9cbiAgbGVmdCA9IDE7XG4gIGZvciAobGVuID0gMTsgbGVuIDw9IE1BWEJJVFM7IGxlbisrKSB7XG4gICAgbGVmdCA8PD0gMTtcbiAgICBsZWZ0IC09IGNvdW50W2xlbl07XG4gICAgaWYgKGxlZnQgPCAwKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSAgICAgICAgLyogb3Zlci1zdWJzY3JpYmVkICovXG4gIH1cbiAgaWYgKGxlZnQgPiAwICYmICh0eXBlID09PSBDT0RFUyB8fCBtYXggIT09IDEpKSB7XG4gICAgcmV0dXJuIC0xOyAgICAgICAgICAgICAgICAgICAgICAvKiBpbmNvbXBsZXRlIHNldCAqL1xuICB9XG5cbiAgLyogZ2VuZXJhdGUgb2Zmc2V0cyBpbnRvIHN5bWJvbCB0YWJsZSBmb3IgZWFjaCBsZW5ndGggZm9yIHNvcnRpbmcgKi9cbiAgb2Zmc1sxXSA9IDA7XG4gIGZvciAobGVuID0gMTsgbGVuIDwgTUFYQklUUzsgbGVuKyspIHtcbiAgICBvZmZzW2xlbiArIDFdID0gb2Zmc1tsZW5dICsgY291bnRbbGVuXTtcbiAgfVxuXG4gIC8qIHNvcnQgc3ltYm9scyBieSBsZW5ndGgsIGJ5IHN5bWJvbCBvcmRlciB3aXRoaW4gZWFjaCBsZW5ndGggKi9cbiAgZm9yIChzeW0gPSAwOyBzeW0gPCBjb2Rlczsgc3ltKyspIHtcbiAgICBpZiAobGVuc1tsZW5zX2luZGV4ICsgc3ltXSAhPT0gMCkge1xuICAgICAgd29ya1tvZmZzW2xlbnNbbGVuc19pbmRleCArIHN5bV1dKytdID0gc3ltO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICBDcmVhdGUgYW5kIGZpbGwgaW4gZGVjb2RpbmcgdGFibGVzLiAgSW4gdGhpcyBsb29wLCB0aGUgdGFibGUgYmVpbmdcbiAgIGZpbGxlZCBpcyBhdCBuZXh0IGFuZCBoYXMgY3VyciBpbmRleCBiaXRzLiAgVGhlIGNvZGUgYmVpbmcgdXNlZCBpcyBodWZmXG4gICB3aXRoIGxlbmd0aCBsZW4uICBUaGF0IGNvZGUgaXMgY29udmVydGVkIHRvIGFuIGluZGV4IGJ5IGRyb3BwaW5nIGRyb3BcbiAgIGJpdHMgb2ZmIG9mIHRoZSBib3R0b20uICBGb3IgY29kZXMgd2hlcmUgbGVuIGlzIGxlc3MgdGhhbiBkcm9wICsgY3VycixcbiAgIHRob3NlIHRvcCBkcm9wICsgY3VyciAtIGxlbiBiaXRzIGFyZSBpbmNyZW1lbnRlZCB0aHJvdWdoIGFsbCB2YWx1ZXMgdG9cbiAgIGZpbGwgdGhlIHRhYmxlIHdpdGggcmVwbGljYXRlZCBlbnRyaWVzLlxuXG4gICByb290IGlzIHRoZSBudW1iZXIgb2YgaW5kZXggYml0cyBmb3IgdGhlIHJvb3QgdGFibGUuICBXaGVuIGxlbiBleGNlZWRzXG4gICByb290LCBzdWItdGFibGVzIGFyZSBjcmVhdGVkIHBvaW50ZWQgdG8gYnkgdGhlIHJvb3QgZW50cnkgd2l0aCBhbiBpbmRleFxuICAgb2YgdGhlIGxvdyByb290IGJpdHMgb2YgaHVmZi4gIFRoaXMgaXMgc2F2ZWQgaW4gbG93IHRvIGNoZWNrIGZvciB3aGVuIGFcbiAgIG5ldyBzdWItdGFibGUgc2hvdWxkIGJlIHN0YXJ0ZWQuICBkcm9wIGlzIHplcm8gd2hlbiB0aGUgcm9vdCB0YWJsZSBpc1xuICAgYmVpbmcgZmlsbGVkLCBhbmQgZHJvcCBpcyByb290IHdoZW4gc3ViLXRhYmxlcyBhcmUgYmVpbmcgZmlsbGVkLlxuXG4gICBXaGVuIGEgbmV3IHN1Yi10YWJsZSBpcyBuZWVkZWQsIGl0IGlzIG5lY2Vzc2FyeSB0byBsb29rIGFoZWFkIGluIHRoZVxuICAgY29kZSBsZW5ndGhzIHRvIGRldGVybWluZSB3aGF0IHNpemUgc3ViLXRhYmxlIGlzIG5lZWRlZC4gIFRoZSBsZW5ndGhcbiAgIGNvdW50cyBhcmUgdXNlZCBmb3IgdGhpcywgYW5kIHNvIGNvdW50W10gaXMgZGVjcmVtZW50ZWQgYXMgY29kZXMgYXJlXG4gICBlbnRlcmVkIGluIHRoZSB0YWJsZXMuXG5cbiAgIHVzZWQga2VlcHMgdHJhY2sgb2YgaG93IG1hbnkgdGFibGUgZW50cmllcyBoYXZlIGJlZW4gYWxsb2NhdGVkIGZyb20gdGhlXG4gICBwcm92aWRlZCAqdGFibGUgc3BhY2UuICBJdCBpcyBjaGVja2VkIGZvciBMRU5TIGFuZCBESVNUIHRhYmxlcyBhZ2FpbnN0XG4gICB0aGUgY29uc3RhbnRzIEVOT1VHSF9MRU5TIGFuZCBFTk9VR0hfRElTVFMgdG8gZ3VhcmQgYWdhaW5zdCBjaGFuZ2VzIGluXG4gICB0aGUgaW5pdGlhbCByb290IHRhYmxlIHNpemUgY29uc3RhbnRzLiAgU2VlIHRoZSBjb21tZW50cyBpbiBpbmZ0cmVlcy5oXG4gICBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblxuICAgc3ltIGluY3JlbWVudHMgdGhyb3VnaCBhbGwgc3ltYm9scywgYW5kIHRoZSBsb29wIHRlcm1pbmF0ZXMgd2hlblxuICAgYWxsIGNvZGVzIG9mIGxlbmd0aCBtYXgsIGkuZS4gYWxsIGNvZGVzLCBoYXZlIGJlZW4gcHJvY2Vzc2VkLiAgVGhpc1xuICAgcm91dGluZSBwZXJtaXRzIGluY29tcGxldGUgY29kZXMsIHNvIGFub3RoZXIgbG9vcCBhZnRlciB0aGlzIG9uZSBmaWxsc1xuICAgaW4gdGhlIHJlc3Qgb2YgdGhlIGRlY29kaW5nIHRhYmxlcyB3aXRoIGludmFsaWQgY29kZSBtYXJrZXJzLlxuICAgKi9cblxuICAvKiBzZXQgdXAgZm9yIGNvZGUgdHlwZSAqL1xuICAvLyBwb29yIG1hbiBvcHRpbWl6YXRpb24gLSB1c2UgaWYtZWxzZSBpbnN0ZWFkIG9mIHN3aXRjaCxcbiAgLy8gdG8gYXZvaWQgZGVvcHRzIGluIG9sZCB2OFxuICBpZiAodHlwZSA9PT0gQ09ERVMpIHtcbiAgICBiYXNlID0gZXh0cmEgPSB3b3JrOyAgICAvKiBkdW1teSB2YWx1ZS0tbm90IHVzZWQgKi9cbiAgICBlbmQgPSAxOTtcblxuICB9IGVsc2UgaWYgKHR5cGUgPT09IExFTlMpIHtcbiAgICBiYXNlID0gbGJhc2U7XG4gICAgYmFzZV9pbmRleCAtPSAyNTc7XG4gICAgZXh0cmEgPSBsZXh0O1xuICAgIGV4dHJhX2luZGV4IC09IDI1NztcbiAgICBlbmQgPSAyNTY7XG5cbiAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgIC8qIERJU1RTICovXG4gICAgYmFzZSA9IGRiYXNlO1xuICAgIGV4dHJhID0gZGV4dDtcbiAgICBlbmQgPSAtMTtcbiAgfVxuXG4gIC8qIGluaXRpYWxpemUgb3B0cyBmb3IgbG9vcCAqL1xuICBodWZmID0gMDsgICAgICAgICAgICAgICAgICAgLyogc3RhcnRpbmcgY29kZSAqL1xuICBzeW0gPSAwOyAgICAgICAgICAgICAgICAgICAgLyogc3RhcnRpbmcgY29kZSBzeW1ib2wgKi9cbiAgbGVuID0gbWluOyAgICAgICAgICAgICAgICAgIC8qIHN0YXJ0aW5nIGNvZGUgbGVuZ3RoICovXG4gIG5leHQgPSB0YWJsZV9pbmRleDsgICAgICAgICAgICAgIC8qIGN1cnJlbnQgdGFibGUgdG8gZmlsbCBpbiAqL1xuICBjdXJyID0gcm9vdDsgICAgICAgICAgICAgICAgLyogY3VycmVudCB0YWJsZSBpbmRleCBiaXRzICovXG4gIGRyb3AgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBjdXJyZW50IGJpdHMgdG8gZHJvcCBmcm9tIGNvZGUgZm9yIGluZGV4ICovXG4gIGxvdyA9IC0xOyAgICAgICAgICAgICAgICAgICAvKiB0cmlnZ2VyIG5ldyBzdWItdGFibGUgd2hlbiBsZW4gPiByb290ICovXG4gIHVzZWQgPSAxIDw8IHJvb3Q7ICAgICAgICAgIC8qIHVzZSByb290IHRhYmxlIGVudHJpZXMgKi9cbiAgbWFzayA9IHVzZWQgLSAxOyAgICAgICAgICAgIC8qIG1hc2sgZm9yIGNvbXBhcmluZyBsb3cgKi9cblxuICAvKiBjaGVjayBhdmFpbGFibGUgdGFibGUgc3BhY2UgKi9cbiAgaWYgKCh0eXBlID09PSBMRU5TICYmIHVzZWQgPiBFTk9VR0hfTEVOUykgfHxcbiAgICAodHlwZSA9PT0gRElTVFMgJiYgdXNlZCA+IEVOT1VHSF9ESVNUUykpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIC8qIHByb2Nlc3MgYWxsIGNvZGVzIGFuZCBtYWtlIHRhYmxlIGVudHJpZXMgKi9cbiAgZm9yICg7Oykge1xuICAgIC8qIGNyZWF0ZSB0YWJsZSBlbnRyeSAqL1xuICAgIGhlcmVfYml0cyA9IGxlbiAtIGRyb3A7XG4gICAgaWYgKHdvcmtbc3ltXSA8IGVuZCkge1xuICAgICAgaGVyZV9vcCA9IDA7XG4gICAgICBoZXJlX3ZhbCA9IHdvcmtbc3ltXTtcbiAgICB9XG4gICAgZWxzZSBpZiAod29ya1tzeW1dID4gZW5kKSB7XG4gICAgICBoZXJlX29wID0gZXh0cmFbZXh0cmFfaW5kZXggKyB3b3JrW3N5bV1dO1xuICAgICAgaGVyZV92YWwgPSBiYXNlW2Jhc2VfaW5kZXggKyB3b3JrW3N5bV1dO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGhlcmVfb3AgPSAzMiArIDY0OyAgICAgICAgIC8qIGVuZCBvZiBibG9jayAqL1xuICAgICAgaGVyZV92YWwgPSAwO1xuICAgIH1cblxuICAgIC8qIHJlcGxpY2F0ZSBmb3IgdGhvc2UgaW5kaWNlcyB3aXRoIGxvdyBsZW4gYml0cyBlcXVhbCB0byBodWZmICovXG4gICAgaW5jciA9IDEgPDwgKGxlbiAtIGRyb3ApO1xuICAgIGZpbGwgPSAxIDw8IGN1cnI7XG4gICAgbWluID0gZmlsbDsgICAgICAgICAgICAgICAgIC8qIHNhdmUgb2Zmc2V0IHRvIG5leHQgdGFibGUgKi9cbiAgICBkbyB7XG4gICAgICBmaWxsIC09IGluY3I7XG4gICAgICB0YWJsZVtuZXh0ICsgKGh1ZmYgPj4gZHJvcCkgKyBmaWxsXSA9IChoZXJlX2JpdHMgPDwgMjQpIHwgKGhlcmVfb3AgPDwgMTYpIHwgaGVyZV92YWwgfDA7XG4gICAgfSB3aGlsZSAoZmlsbCAhPT0gMCk7XG5cbiAgICAvKiBiYWNrd2FyZHMgaW5jcmVtZW50IHRoZSBsZW4tYml0IGNvZGUgaHVmZiAqL1xuICAgIGluY3IgPSAxIDw8IChsZW4gLSAxKTtcbiAgICB3aGlsZSAoaHVmZiAmIGluY3IpIHtcbiAgICAgIGluY3IgPj49IDE7XG4gICAgfVxuICAgIGlmIChpbmNyICE9PSAwKSB7XG4gICAgICBodWZmICY9IGluY3IgLSAxO1xuICAgICAgaHVmZiArPSBpbmNyO1xuICAgIH0gZWxzZSB7XG4gICAgICBodWZmID0gMDtcbiAgICB9XG5cbiAgICAvKiBnbyB0byBuZXh0IHN5bWJvbCwgdXBkYXRlIGNvdW50LCBsZW4gKi9cbiAgICBzeW0rKztcbiAgICBpZiAoLS1jb3VudFtsZW5dID09PSAwKSB7XG4gICAgICBpZiAobGVuID09PSBtYXgpIHsgYnJlYWs7IH1cbiAgICAgIGxlbiA9IGxlbnNbbGVuc19pbmRleCArIHdvcmtbc3ltXV07XG4gICAgfVxuXG4gICAgLyogY3JlYXRlIG5ldyBzdWItdGFibGUgaWYgbmVlZGVkICovXG4gICAgaWYgKGxlbiA+IHJvb3QgJiYgKGh1ZmYgJiBtYXNrKSAhPT0gbG93KSB7XG4gICAgICAvKiBpZiBmaXJzdCB0aW1lLCB0cmFuc2l0aW9uIHRvIHN1Yi10YWJsZXMgKi9cbiAgICAgIGlmIChkcm9wID09PSAwKSB7XG4gICAgICAgIGRyb3AgPSByb290O1xuICAgICAgfVxuXG4gICAgICAvKiBpbmNyZW1lbnQgcGFzdCBsYXN0IHRhYmxlICovXG4gICAgICBuZXh0ICs9IG1pbjsgICAgICAgICAgICAvKiBoZXJlIG1pbiBpcyAxIDw8IGN1cnIgKi9cblxuICAgICAgLyogZGV0ZXJtaW5lIGxlbmd0aCBvZiBuZXh0IHRhYmxlICovXG4gICAgICBjdXJyID0gbGVuIC0gZHJvcDtcbiAgICAgIGxlZnQgPSAxIDw8IGN1cnI7XG4gICAgICB3aGlsZSAoY3VyciArIGRyb3AgPCBtYXgpIHtcbiAgICAgICAgbGVmdCAtPSBjb3VudFtjdXJyICsgZHJvcF07XG4gICAgICAgIGlmIChsZWZ0IDw9IDApIHsgYnJlYWs7IH1cbiAgICAgICAgY3VycisrO1xuICAgICAgICBsZWZ0IDw8PSAxO1xuICAgICAgfVxuXG4gICAgICAvKiBjaGVjayBmb3IgZW5vdWdoIHNwYWNlICovXG4gICAgICB1c2VkICs9IDEgPDwgY3VycjtcbiAgICAgIGlmICgodHlwZSA9PT0gTEVOUyAmJiB1c2VkID4gRU5PVUdIX0xFTlMpIHx8XG4gICAgICAgICh0eXBlID09PSBESVNUUyAmJiB1c2VkID4gRU5PVUdIX0RJU1RTKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cblxuICAgICAgLyogcG9pbnQgZW50cnkgaW4gcm9vdCB0YWJsZSB0byBzdWItdGFibGUgKi9cbiAgICAgIGxvdyA9IGh1ZmYgJiBtYXNrO1xuICAgICAgLyp0YWJsZS5vcFtsb3ddID0gY3VycjtcbiAgICAgIHRhYmxlLmJpdHNbbG93XSA9IHJvb3Q7XG4gICAgICB0YWJsZS52YWxbbG93XSA9IG5leHQgLSBvcHRzLnRhYmxlX2luZGV4OyovXG4gICAgICB0YWJsZVtsb3ddID0gKHJvb3QgPDwgMjQpIHwgKGN1cnIgPDwgMTYpIHwgKG5leHQgLSB0YWJsZV9pbmRleCkgfDA7XG4gICAgfVxuICB9XG5cbiAgLyogZmlsbCBpbiByZW1haW5pbmcgdGFibGUgZW50cnkgaWYgY29kZSBpcyBpbmNvbXBsZXRlIChndWFyYW50ZWVkIHRvIGhhdmVcbiAgIGF0IG1vc3Qgb25lIHJlbWFpbmluZyBlbnRyeSwgc2luY2UgaWYgdGhlIGNvZGUgaXMgaW5jb21wbGV0ZSwgdGhlXG4gICBtYXhpbXVtIGNvZGUgbGVuZ3RoIHRoYXQgd2FzIGFsbG93ZWQgdG8gZ2V0IHRoaXMgZmFyIGlzIG9uZSBiaXQpICovXG4gIGlmIChodWZmICE9PSAwKSB7XG4gICAgLy90YWJsZS5vcFtuZXh0ICsgaHVmZl0gPSA2NDsgICAgICAgICAgICAvKiBpbnZhbGlkIGNvZGUgbWFya2VyICovXG4gICAgLy90YWJsZS5iaXRzW25leHQgKyBodWZmXSA9IGxlbiAtIGRyb3A7XG4gICAgLy90YWJsZS52YWxbbmV4dCArIGh1ZmZdID0gMDtcbiAgICB0YWJsZVtuZXh0ICsgaHVmZl0gPSAoKGxlbiAtIGRyb3ApIDw8IDI0KSB8ICg2NCA8PCAxNikgfDA7XG4gIH1cblxuICAvKiBzZXQgcmV0dXJuIHBhcmFtZXRlcnMgKi9cbiAgLy9vcHRzLnRhYmxlX2luZGV4ICs9IHVzZWQ7XG4gIG9wdHMuYml0cyA9IHJvb3Q7XG4gIHJldHVybiAwO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxudmFyIHV0aWxzICAgICAgICAgPSByZXF1aXJlKCcuLi91dGlscy9jb21tb24nKTtcbnZhciBhZGxlcjMyICAgICAgID0gcmVxdWlyZSgnLi9hZGxlcjMyJyk7XG52YXIgY3JjMzIgICAgICAgICA9IHJlcXVpcmUoJy4vY3JjMzInKTtcbnZhciBpbmZsYXRlX2Zhc3QgID0gcmVxdWlyZSgnLi9pbmZmYXN0Jyk7XG52YXIgaW5mbGF0ZV90YWJsZSA9IHJlcXVpcmUoJy4vaW5mdHJlZXMnKTtcblxudmFyIENPREVTID0gMDtcbnZhciBMRU5TID0gMTtcbnZhciBESVNUUyA9IDI7XG5cbi8qIFB1YmxpYyBjb25zdGFudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbi8qIEFsbG93ZWQgZmx1c2ggdmFsdWVzOyBzZWUgZGVmbGF0ZSgpIGFuZCBpbmZsYXRlKCkgYmVsb3cgZm9yIGRldGFpbHMgKi9cbi8vdmFyIFpfTk9fRkxVU0ggICAgICA9IDA7XG4vL3ZhciBaX1BBUlRJQUxfRkxVU0ggPSAxO1xuLy92YXIgWl9TWU5DX0ZMVVNIICAgID0gMjtcbi8vdmFyIFpfRlVMTF9GTFVTSCAgICA9IDM7XG52YXIgWl9GSU5JU0ggICAgICAgID0gNDtcbnZhciBaX0JMT0NLICAgICAgICAgPSA1O1xudmFyIFpfVFJFRVMgICAgICAgICA9IDY7XG5cblxuLyogUmV0dXJuIGNvZGVzIGZvciB0aGUgY29tcHJlc3Npb24vZGVjb21wcmVzc2lvbiBmdW5jdGlvbnMuIE5lZ2F0aXZlIHZhbHVlc1xuICogYXJlIGVycm9ycywgcG9zaXRpdmUgdmFsdWVzIGFyZSB1c2VkIGZvciBzcGVjaWFsIGJ1dCBub3JtYWwgZXZlbnRzLlxuICovXG52YXIgWl9PSyAgICAgICAgICAgID0gMDtcbnZhciBaX1NUUkVBTV9FTkQgICAgPSAxO1xudmFyIFpfTkVFRF9ESUNUICAgICA9IDI7XG4vL3ZhciBaX0VSUk5PICAgICAgICAgPSAtMTtcbnZhciBaX1NUUkVBTV9FUlJPUiAgPSAtMjtcbnZhciBaX0RBVEFfRVJST1IgICAgPSAtMztcbnZhciBaX01FTV9FUlJPUiAgICAgPSAtNDtcbnZhciBaX0JVRl9FUlJPUiAgICAgPSAtNTtcbi8vdmFyIFpfVkVSU0lPTl9FUlJPUiA9IC02O1xuXG4vKiBUaGUgZGVmbGF0ZSBjb21wcmVzc2lvbiBtZXRob2QgKi9cbnZhciBaX0RFRkxBVEVEICA9IDg7XG5cblxuLyogU1RBVEVTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxudmFyICAgIEhFQUQgPSAxOyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBtYWdpYyBoZWFkZXIgKi9cbnZhciAgICBGTEFHUyA9IDI7ICAgICAgLyogaTogd2FpdGluZyBmb3IgbWV0aG9kIGFuZCBmbGFncyAoZ3ppcCkgKi9cbnZhciAgICBUSU1FID0gMzsgICAgICAgLyogaTogd2FpdGluZyBmb3IgbW9kaWZpY2F0aW9uIHRpbWUgKGd6aXApICovXG52YXIgICAgT1MgPSA0OyAgICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGV4dHJhIGZsYWdzIGFuZCBvcGVyYXRpbmcgc3lzdGVtIChnemlwKSAqL1xudmFyICAgIEVYTEVOID0gNTsgICAgICAvKiBpOiB3YWl0aW5nIGZvciBleHRyYSBsZW5ndGggKGd6aXApICovXG52YXIgICAgRVhUUkEgPSA2OyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGV4dHJhIGJ5dGVzIChnemlwKSAqL1xudmFyICAgIE5BTUUgPSA3OyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBlbmQgb2YgZmlsZSBuYW1lIChnemlwKSAqL1xudmFyICAgIENPTU1FTlQgPSA4OyAgICAvKiBpOiB3YWl0aW5nIGZvciBlbmQgb2YgY29tbWVudCAoZ3ppcCkgKi9cbnZhciAgICBIQ1JDID0gOTsgICAgICAgLyogaTogd2FpdGluZyBmb3IgaGVhZGVyIGNyYyAoZ3ppcCkgKi9cbnZhciAgICBESUNUSUQgPSAxMDsgICAgLyogaTogd2FpdGluZyBmb3IgZGljdGlvbmFyeSBjaGVjayB2YWx1ZSAqL1xudmFyICAgIERJQ1QgPSAxMTsgICAgICAvKiB3YWl0aW5nIGZvciBpbmZsYXRlU2V0RGljdGlvbmFyeSgpIGNhbGwgKi9cbnZhciAgICAgICAgVFlQRSA9IDEyOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIHR5cGUgYml0cywgaW5jbHVkaW5nIGxhc3QtZmxhZyBiaXQgKi9cbnZhciAgICAgICAgVFlQRURPID0gMTM7ICAgIC8qIGk6IHNhbWUsIGJ1dCBza2lwIGNoZWNrIHRvIGV4aXQgaW5mbGF0ZSBvbiBuZXcgYmxvY2sgKi9cbnZhciAgICAgICAgU1RPUkVEID0gMTQ7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIHN0b3JlZCBzaXplIChsZW5ndGggYW5kIGNvbXBsZW1lbnQpICovXG52YXIgICAgICAgIENPUFlfID0gMTU7ICAgICAvKiBpL286IHNhbWUgYXMgQ09QWSBiZWxvdywgYnV0IG9ubHkgZmlyc3QgdGltZSBpbiAqL1xudmFyICAgICAgICBDT1BZID0gMTY7ICAgICAgLyogaS9vOiB3YWl0aW5nIGZvciBpbnB1dCBvciBvdXRwdXQgdG8gY29weSBzdG9yZWQgYmxvY2sgKi9cbnZhciAgICAgICAgVEFCTEUgPSAxNzsgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGR5bmFtaWMgYmxvY2sgdGFibGUgbGVuZ3RocyAqL1xudmFyICAgICAgICBMRU5MRU5TID0gMTg7ICAgLyogaTogd2FpdGluZyBmb3IgY29kZSBsZW5ndGggY29kZSBsZW5ndGhzICovXG52YXIgICAgICAgIENPREVMRU5TID0gMTk7ICAvKiBpOiB3YWl0aW5nIGZvciBsZW5ndGgvbGl0IGFuZCBkaXN0YW5jZSBjb2RlIGxlbmd0aHMgKi9cbnZhciAgICAgICAgICAgIExFTl8gPSAyMDsgICAgICAvKiBpOiBzYW1lIGFzIExFTiBiZWxvdywgYnV0IG9ubHkgZmlyc3QgdGltZSBpbiAqL1xudmFyICAgICAgICAgICAgTEVOID0gMjE7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGxlbmd0aC9saXQvZW9iIGNvZGUgKi9cbnZhciAgICAgICAgICAgIExFTkVYVCA9IDIyOyAgICAvKiBpOiB3YWl0aW5nIGZvciBsZW5ndGggZXh0cmEgYml0cyAqL1xudmFyICAgICAgICAgICAgRElTVCA9IDIzOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGRpc3RhbmNlIGNvZGUgKi9cbnZhciAgICAgICAgICAgIERJU1RFWFQgPSAyNDsgICAvKiBpOiB3YWl0aW5nIGZvciBkaXN0YW5jZSBleHRyYSBiaXRzICovXG52YXIgICAgICAgICAgICBNQVRDSCA9IDI1OyAgICAgLyogbzogd2FpdGluZyBmb3Igb3V0cHV0IHNwYWNlIHRvIGNvcHkgc3RyaW5nICovXG52YXIgICAgICAgICAgICBMSVQgPSAyNjsgICAgICAgLyogbzogd2FpdGluZyBmb3Igb3V0cHV0IHNwYWNlIHRvIHdyaXRlIGxpdGVyYWwgKi9cbnZhciAgICBDSEVDSyA9IDI3OyAgICAgLyogaTogd2FpdGluZyBmb3IgMzItYml0IGNoZWNrIHZhbHVlICovXG52YXIgICAgTEVOR1RIID0gMjg7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIDMyLWJpdCBsZW5ndGggKGd6aXApICovXG52YXIgICAgRE9ORSA9IDI5OyAgICAgIC8qIGZpbmlzaGVkIGNoZWNrLCBkb25lIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG52YXIgICAgQkFEID0gMzA7ICAgICAgIC8qIGdvdCBhIGRhdGEgZXJyb3IgLS0gcmVtYWluIGhlcmUgdW50aWwgcmVzZXQgKi9cbnZhciAgICBNRU0gPSAzMTsgICAgICAgLyogZ290IGFuIGluZmxhdGUoKSBtZW1vcnkgZXJyb3IgLS0gcmVtYWluIGhlcmUgdW50aWwgcmVzZXQgKi9cbnZhciAgICBTWU5DID0gMzI7ICAgICAgLyogbG9va2luZyBmb3Igc3luY2hyb25pemF0aW9uIGJ5dGVzIHRvIHJlc3RhcnQgaW5mbGF0ZSgpICovXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxuXG52YXIgRU5PVUdIX0xFTlMgPSA4NTI7XG52YXIgRU5PVUdIX0RJU1RTID0gNTkyO1xuLy92YXIgRU5PVUdIID0gIChFTk9VR0hfTEVOUytFTk9VR0hfRElTVFMpO1xuXG52YXIgTUFYX1dCSVRTID0gMTU7XG4vKiAzMksgTFo3NyB3aW5kb3cgKi9cbnZhciBERUZfV0JJVFMgPSBNQVhfV0JJVFM7XG5cblxuZnVuY3Rpb24genN3YXAzMihxKSB7XG4gIHJldHVybiAgKCgocSA+Pj4gMjQpICYgMHhmZikgK1xuICAgICAgICAgICgocSA+Pj4gOCkgJiAweGZmMDApICtcbiAgICAgICAgICAoKHEgJiAweGZmMDApIDw8IDgpICtcbiAgICAgICAgICAoKHEgJiAweGZmKSA8PCAyNCkpO1xufVxuXG5cbmZ1bmN0aW9uIEluZmxhdGVTdGF0ZSgpIHtcbiAgdGhpcy5tb2RlID0gMDsgICAgICAgICAgICAgLyogY3VycmVudCBpbmZsYXRlIG1vZGUgKi9cbiAgdGhpcy5sYXN0ID0gZmFsc2U7ICAgICAgICAgIC8qIHRydWUgaWYgcHJvY2Vzc2luZyBsYXN0IGJsb2NrICovXG4gIHRoaXMud3JhcCA9IDA7ICAgICAgICAgICAgICAvKiBiaXQgMCB0cnVlIGZvciB6bGliLCBiaXQgMSB0cnVlIGZvciBnemlwICovXG4gIHRoaXMuaGF2ZWRpY3QgPSBmYWxzZTsgICAgICAvKiB0cnVlIGlmIGRpY3Rpb25hcnkgcHJvdmlkZWQgKi9cbiAgdGhpcy5mbGFncyA9IDA7ICAgICAgICAgICAgIC8qIGd6aXAgaGVhZGVyIG1ldGhvZCBhbmQgZmxhZ3MgKDAgaWYgemxpYikgKi9cbiAgdGhpcy5kbWF4ID0gMDsgICAgICAgICAgICAgIC8qIHpsaWIgaGVhZGVyIG1heCBkaXN0YW5jZSAoSU5GTEFURV9TVFJJQ1QpICovXG4gIHRoaXMuY2hlY2sgPSAwOyAgICAgICAgICAgICAvKiBwcm90ZWN0ZWQgY29weSBvZiBjaGVjayB2YWx1ZSAqL1xuICB0aGlzLnRvdGFsID0gMDsgICAgICAgICAgICAgLyogcHJvdGVjdGVkIGNvcHkgb2Ygb3V0cHV0IGNvdW50ICovXG4gIC8vIFRPRE86IG1heSBiZSB7fVxuICB0aGlzLmhlYWQgPSBudWxsOyAgICAgICAgICAgLyogd2hlcmUgdG8gc2F2ZSBnemlwIGhlYWRlciBpbmZvcm1hdGlvbiAqL1xuXG4gIC8qIHNsaWRpbmcgd2luZG93ICovXG4gIHRoaXMud2JpdHMgPSAwOyAgICAgICAgICAgICAvKiBsb2cgYmFzZSAyIG9mIHJlcXVlc3RlZCB3aW5kb3cgc2l6ZSAqL1xuICB0aGlzLndzaXplID0gMDsgICAgICAgICAgICAgLyogd2luZG93IHNpemUgb3IgemVybyBpZiBub3QgdXNpbmcgd2luZG93ICovXG4gIHRoaXMud2hhdmUgPSAwOyAgICAgICAgICAgICAvKiB2YWxpZCBieXRlcyBpbiB0aGUgd2luZG93ICovXG4gIHRoaXMud25leHQgPSAwOyAgICAgICAgICAgICAvKiB3aW5kb3cgd3JpdGUgaW5kZXggKi9cbiAgdGhpcy53aW5kb3cgPSBudWxsOyAgICAgICAgIC8qIGFsbG9jYXRlZCBzbGlkaW5nIHdpbmRvdywgaWYgbmVlZGVkICovXG5cbiAgLyogYml0IGFjY3VtdWxhdG9yICovXG4gIHRoaXMuaG9sZCA9IDA7ICAgICAgICAgICAgICAvKiBpbnB1dCBiaXQgYWNjdW11bGF0b3IgKi9cbiAgdGhpcy5iaXRzID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBiaXRzIGluIFwiaW5cIiAqL1xuXG4gIC8qIGZvciBzdHJpbmcgYW5kIHN0b3JlZCBibG9jayBjb3B5aW5nICovXG4gIHRoaXMubGVuZ3RoID0gMDsgICAgICAgICAgICAvKiBsaXRlcmFsIG9yIGxlbmd0aCBvZiBkYXRhIHRvIGNvcHkgKi9cbiAgdGhpcy5vZmZzZXQgPSAwOyAgICAgICAgICAgIC8qIGRpc3RhbmNlIGJhY2sgdG8gY29weSBzdHJpbmcgZnJvbSAqL1xuXG4gIC8qIGZvciB0YWJsZSBhbmQgY29kZSBkZWNvZGluZyAqL1xuICB0aGlzLmV4dHJhID0gMDsgICAgICAgICAgICAgLyogZXh0cmEgYml0cyBuZWVkZWQgKi9cblxuICAvKiBmaXhlZCBhbmQgZHluYW1pYyBjb2RlIHRhYmxlcyAqL1xuICB0aGlzLmxlbmNvZGUgPSBudWxsOyAgICAgICAgICAvKiBzdGFydGluZyB0YWJsZSBmb3IgbGVuZ3RoL2xpdGVyYWwgY29kZXMgKi9cbiAgdGhpcy5kaXN0Y29kZSA9IG51bGw7ICAgICAgICAgLyogc3RhcnRpbmcgdGFibGUgZm9yIGRpc3RhbmNlIGNvZGVzICovXG4gIHRoaXMubGVuYml0cyA9IDA7ICAgICAgICAgICAvKiBpbmRleCBiaXRzIGZvciBsZW5jb2RlICovXG4gIHRoaXMuZGlzdGJpdHMgPSAwOyAgICAgICAgICAvKiBpbmRleCBiaXRzIGZvciBkaXN0Y29kZSAqL1xuXG4gIC8qIGR5bmFtaWMgdGFibGUgYnVpbGRpbmcgKi9cbiAgdGhpcy5uY29kZSA9IDA7ICAgICAgICAgICAgIC8qIG51bWJlciBvZiBjb2RlIGxlbmd0aCBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy5ubGVuID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBsZW5ndGggY29kZSBsZW5ndGhzICovXG4gIHRoaXMubmRpc3QgPSAwOyAgICAgICAgICAgICAvKiBudW1iZXIgb2YgZGlzdGFuY2UgY29kZSBsZW5ndGhzICovXG4gIHRoaXMuaGF2ZSA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgY29kZSBsZW5ndGhzIGluIGxlbnNbXSAqL1xuICB0aGlzLm5leHQgPSBudWxsOyAgICAgICAgICAgICAgLyogbmV4dCBhdmFpbGFibGUgc3BhY2UgaW4gY29kZXNbXSAqL1xuXG4gIHRoaXMubGVucyA9IG5ldyB1dGlscy5CdWYxNigzMjApOyAvKiB0ZW1wb3Jhcnkgc3RvcmFnZSBmb3IgY29kZSBsZW5ndGhzICovXG4gIHRoaXMud29yayA9IG5ldyB1dGlscy5CdWYxNigyODgpOyAvKiB3b3JrIGFyZWEgZm9yIGNvZGUgdGFibGUgYnVpbGRpbmcgKi9cblxuICAvKlxuICAgYmVjYXVzZSB3ZSBkb24ndCBoYXZlIHBvaW50ZXJzIGluIGpzLCB3ZSB1c2UgbGVuY29kZSBhbmQgZGlzdGNvZGUgZGlyZWN0bHlcbiAgIGFzIGJ1ZmZlcnMgc28gd2UgZG9uJ3QgbmVlZCBjb2Rlc1xuICAqL1xuICAvL3RoaXMuY29kZXMgPSBuZXcgdXRpbHMuQnVmMzIoRU5PVUdIKTsgICAgICAgLyogc3BhY2UgZm9yIGNvZGUgdGFibGVzICovXG4gIHRoaXMubGVuZHluID0gbnVsbDsgICAgICAgICAgICAgIC8qIGR5bmFtaWMgdGFibGUgZm9yIGxlbmd0aC9saXRlcmFsIGNvZGVzIChKUyBzcGVjaWZpYykgKi9cbiAgdGhpcy5kaXN0ZHluID0gbnVsbDsgICAgICAgICAgICAgLyogZHluYW1pYyB0YWJsZSBmb3IgZGlzdGFuY2UgY29kZXMgKEpTIHNwZWNpZmljKSAqL1xuICB0aGlzLnNhbmUgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBpZiBmYWxzZSwgYWxsb3cgaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyICovXG4gIHRoaXMuYmFjayA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIGJpdHMgYmFjayBvZiBsYXN0IHVucHJvY2Vzc2VkIGxlbmd0aC9saXQgKi9cbiAgdGhpcy53YXMgPSAwOyAgICAgICAgICAgICAgICAgICAgLyogaW5pdGlhbCBsZW5ndGggb2YgbWF0Y2ggKi9cbn1cblxuZnVuY3Rpb24gaW5mbGF0ZVJlc2V0S2VlcChzdHJtKSB7XG4gIHZhciBzdGF0ZTtcblxuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgc3RybS50b3RhbF9pbiA9IHN0cm0udG90YWxfb3V0ID0gc3RhdGUudG90YWwgPSAwO1xuICBzdHJtLm1zZyA9ICcnOyAvKlpfTlVMTCovXG4gIGlmIChzdGF0ZS53cmFwKSB7ICAgICAgIC8qIHRvIHN1cHBvcnQgaWxsLWNvbmNlaXZlZCBKYXZhIHRlc3Qgc3VpdGUgKi9cbiAgICBzdHJtLmFkbGVyID0gc3RhdGUud3JhcCAmIDE7XG4gIH1cbiAgc3RhdGUubW9kZSA9IEhFQUQ7XG4gIHN0YXRlLmxhc3QgPSAwO1xuICBzdGF0ZS5oYXZlZGljdCA9IDA7XG4gIHN0YXRlLmRtYXggPSAzMjc2ODtcbiAgc3RhdGUuaGVhZCA9IG51bGwvKlpfTlVMTCovO1xuICBzdGF0ZS5ob2xkID0gMDtcbiAgc3RhdGUuYml0cyA9IDA7XG4gIC8vc3RhdGUubGVuY29kZSA9IHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUubmV4dCA9IHN0YXRlLmNvZGVzO1xuICBzdGF0ZS5sZW5jb2RlID0gc3RhdGUubGVuZHluID0gbmV3IHV0aWxzLkJ1ZjMyKEVOT1VHSF9MRU5TKTtcbiAgc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5kaXN0ZHluID0gbmV3IHV0aWxzLkJ1ZjMyKEVOT1VHSF9ESVNUUyk7XG5cbiAgc3RhdGUuc2FuZSA9IDE7XG4gIHN0YXRlLmJhY2sgPSAtMTtcbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiByZXNldFxcblwiKSk7XG4gIHJldHVybiBaX09LO1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlUmVzZXQoc3RybSkge1xuICB2YXIgc3RhdGU7XG5cbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIHN0YXRlLndzaXplID0gMDtcbiAgc3RhdGUud2hhdmUgPSAwO1xuICBzdGF0ZS53bmV4dCA9IDA7XG4gIHJldHVybiBpbmZsYXRlUmVzZXRLZWVwKHN0cm0pO1xuXG59XG5cbmZ1bmN0aW9uIGluZmxhdGVSZXNldDIoc3RybSwgd2luZG93Qml0cykge1xuICB2YXIgd3JhcDtcbiAgdmFyIHN0YXRlO1xuXG4gIC8qIGdldCB0aGUgc3RhdGUgKi9cbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG5cbiAgLyogZXh0cmFjdCB3cmFwIHJlcXVlc3QgZnJvbSB3aW5kb3dCaXRzIHBhcmFtZXRlciAqL1xuICBpZiAod2luZG93Qml0cyA8IDApIHtcbiAgICB3cmFwID0gMDtcbiAgICB3aW5kb3dCaXRzID0gLXdpbmRvd0JpdHM7XG4gIH1cbiAgZWxzZSB7XG4gICAgd3JhcCA9ICh3aW5kb3dCaXRzID4+IDQpICsgMTtcbiAgICBpZiAod2luZG93Qml0cyA8IDQ4KSB7XG4gICAgICB3aW5kb3dCaXRzICY9IDE1O1xuICAgIH1cbiAgfVxuXG4gIC8qIHNldCBudW1iZXIgb2Ygd2luZG93IGJpdHMsIGZyZWUgd2luZG93IGlmIGRpZmZlcmVudCAqL1xuICBpZiAod2luZG93Qml0cyAmJiAod2luZG93Qml0cyA8IDggfHwgd2luZG93Qml0cyA+IDE1KSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuICBpZiAoc3RhdGUud2luZG93ICE9PSBudWxsICYmIHN0YXRlLndiaXRzICE9PSB3aW5kb3dCaXRzKSB7XG4gICAgc3RhdGUud2luZG93ID0gbnVsbDtcbiAgfVxuXG4gIC8qIHVwZGF0ZSBzdGF0ZSBhbmQgcmVzZXQgdGhlIHJlc3Qgb2YgaXQgKi9cbiAgc3RhdGUud3JhcCA9IHdyYXA7XG4gIHN0YXRlLndiaXRzID0gd2luZG93Qml0cztcbiAgcmV0dXJuIGluZmxhdGVSZXNldChzdHJtKTtcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZUluaXQyKHN0cm0sIHdpbmRvd0JpdHMpIHtcbiAgdmFyIHJldDtcbiAgdmFyIHN0YXRlO1xuXG4gIGlmICghc3RybSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cbiAgLy9zdHJtLm1zZyA9IFpfTlVMTDsgICAgICAgICAgICAgICAgIC8qIGluIGNhc2Ugd2UgcmV0dXJuIGFuIGVycm9yICovXG5cbiAgc3RhdGUgPSBuZXcgSW5mbGF0ZVN0YXRlKCk7XG5cbiAgLy9pZiAoc3RhdGUgPT09IFpfTlVMTCkgcmV0dXJuIFpfTUVNX0VSUk9SO1xuICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6IGFsbG9jYXRlZFxcblwiKSk7XG4gIHN0cm0uc3RhdGUgPSBzdGF0ZTtcbiAgc3RhdGUud2luZG93ID0gbnVsbC8qWl9OVUxMKi87XG4gIHJldCA9IGluZmxhdGVSZXNldDIoc3RybSwgd2luZG93Qml0cyk7XG4gIGlmIChyZXQgIT09IFpfT0spIHtcbiAgICBzdHJtLnN0YXRlID0gbnVsbC8qWl9OVUxMKi87XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZUluaXQoc3RybSkge1xuICByZXR1cm4gaW5mbGF0ZUluaXQyKHN0cm0sIERFRl9XQklUUyk7XG59XG5cblxuLypcbiBSZXR1cm4gc3RhdGUgd2l0aCBsZW5ndGggYW5kIGRpc3RhbmNlIGRlY29kaW5nIHRhYmxlcyBhbmQgaW5kZXggc2l6ZXMgc2V0IHRvXG4gZml4ZWQgY29kZSBkZWNvZGluZy4gIE5vcm1hbGx5IHRoaXMgcmV0dXJucyBmaXhlZCB0YWJsZXMgZnJvbSBpbmZmaXhlZC5oLlxuIElmIEJVSUxERklYRUQgaXMgZGVmaW5lZCwgdGhlbiBpbnN0ZWFkIHRoaXMgcm91dGluZSBidWlsZHMgdGhlIHRhYmxlcyB0aGVcbiBmaXJzdCB0aW1lIGl0J3MgY2FsbGVkLCBhbmQgcmV0dXJucyB0aG9zZSB0YWJsZXMgdGhlIGZpcnN0IHRpbWUgYW5kXG4gdGhlcmVhZnRlci4gIFRoaXMgcmVkdWNlcyB0aGUgc2l6ZSBvZiB0aGUgY29kZSBieSBhYm91dCAySyBieXRlcywgaW5cbiBleGNoYW5nZSBmb3IgYSBsaXR0bGUgZXhlY3V0aW9uIHRpbWUuICBIb3dldmVyLCBCVUlMREZJWEVEIHNob3VsZCBub3QgYmVcbiB1c2VkIGZvciB0aHJlYWRlZCBhcHBsaWNhdGlvbnMsIHNpbmNlIHRoZSByZXdyaXRpbmcgb2YgdGhlIHRhYmxlcyBhbmQgdmlyZ2luXG4gbWF5IG5vdCBiZSB0aHJlYWQtc2FmZS5cbiAqL1xudmFyIHZpcmdpbiA9IHRydWU7XG5cbnZhciBsZW5maXgsIGRpc3RmaXg7IC8vIFdlIGhhdmUgbm8gcG9pbnRlcnMgaW4gSlMsIHNvIGtlZXAgdGFibGVzIHNlcGFyYXRlXG5cbmZ1bmN0aW9uIGZpeGVkdGFibGVzKHN0YXRlKSB7XG4gIC8qIGJ1aWxkIGZpeGVkIGh1ZmZtYW4gdGFibGVzIGlmIGZpcnN0IGNhbGwgKG1heSBub3QgYmUgdGhyZWFkIHNhZmUpICovXG4gIGlmICh2aXJnaW4pIHtcbiAgICB2YXIgc3ltO1xuXG4gICAgbGVuZml4ID0gbmV3IHV0aWxzLkJ1ZjMyKDUxMik7XG4gICAgZGlzdGZpeCA9IG5ldyB1dGlscy5CdWYzMigzMik7XG5cbiAgICAvKiBsaXRlcmFsL2xlbmd0aCB0YWJsZSAqL1xuICAgIHN5bSA9IDA7XG4gICAgd2hpbGUgKHN5bSA8IDE0NCkgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDg7IH1cbiAgICB3aGlsZSAoc3ltIDwgMjU2KSB7IHN0YXRlLmxlbnNbc3ltKytdID0gOTsgfVxuICAgIHdoaWxlIChzeW0gPCAyODApIHsgc3RhdGUubGVuc1tzeW0rK10gPSA3OyB9XG4gICAgd2hpbGUgKHN5bSA8IDI4OCkgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDg7IH1cblxuICAgIGluZmxhdGVfdGFibGUoTEVOUywgIHN0YXRlLmxlbnMsIDAsIDI4OCwgbGVuZml4LCAgIDAsIHN0YXRlLndvcmssIHsgYml0czogOSB9KTtcblxuICAgIC8qIGRpc3RhbmNlIHRhYmxlICovXG4gICAgc3ltID0gMDtcbiAgICB3aGlsZSAoc3ltIDwgMzIpIHsgc3RhdGUubGVuc1tzeW0rK10gPSA1OyB9XG5cbiAgICBpbmZsYXRlX3RhYmxlKERJU1RTLCBzdGF0ZS5sZW5zLCAwLCAzMiwgICBkaXN0Zml4LCAwLCBzdGF0ZS53b3JrLCB7IGJpdHM6IDUgfSk7XG5cbiAgICAvKiBkbyB0aGlzIGp1c3Qgb25jZSAqL1xuICAgIHZpcmdpbiA9IGZhbHNlO1xuICB9XG5cbiAgc3RhdGUubGVuY29kZSA9IGxlbmZpeDtcbiAgc3RhdGUubGVuYml0cyA9IDk7XG4gIHN0YXRlLmRpc3Rjb2RlID0gZGlzdGZpeDtcbiAgc3RhdGUuZGlzdGJpdHMgPSA1O1xufVxuXG5cbi8qXG4gVXBkYXRlIHRoZSB3aW5kb3cgd2l0aCB0aGUgbGFzdCB3c2l6ZSAobm9ybWFsbHkgMzJLKSBieXRlcyB3cml0dGVuIGJlZm9yZVxuIHJldHVybmluZy4gIElmIHdpbmRvdyBkb2VzIG5vdCBleGlzdCB5ZXQsIGNyZWF0ZSBpdC4gIFRoaXMgaXMgb25seSBjYWxsZWRcbiB3aGVuIGEgd2luZG93IGlzIGFscmVhZHkgaW4gdXNlLCBvciB3aGVuIG91dHB1dCBoYXMgYmVlbiB3cml0dGVuIGR1cmluZyB0aGlzXG4gaW5mbGF0ZSBjYWxsLCBidXQgdGhlIGVuZCBvZiB0aGUgZGVmbGF0ZSBzdHJlYW0gaGFzIG5vdCBiZWVuIHJlYWNoZWQgeWV0LlxuIEl0IGlzIGFsc28gY2FsbGVkIHRvIGNyZWF0ZSBhIHdpbmRvdyBmb3IgZGljdGlvbmFyeSBkYXRhIHdoZW4gYSBkaWN0aW9uYXJ5XG4gaXMgbG9hZGVkLlxuXG4gUHJvdmlkaW5nIG91dHB1dCBidWZmZXJzIGxhcmdlciB0aGFuIDMySyB0byBpbmZsYXRlKCkgc2hvdWxkIHByb3ZpZGUgYSBzcGVlZFxuIGFkdmFudGFnZSwgc2luY2Ugb25seSB0aGUgbGFzdCAzMksgb2Ygb3V0cHV0IGlzIGNvcGllZCB0byB0aGUgc2xpZGluZyB3aW5kb3dcbiB1cG9uIHJldHVybiBmcm9tIGluZmxhdGUoKSwgYW5kIHNpbmNlIGFsbCBkaXN0YW5jZXMgYWZ0ZXIgdGhlIGZpcnN0IDMySyBvZlxuIG91dHB1dCB3aWxsIGZhbGwgaW4gdGhlIG91dHB1dCBkYXRhLCBtYWtpbmcgbWF0Y2ggY29waWVzIHNpbXBsZXIgYW5kIGZhc3Rlci5cbiBUaGUgYWR2YW50YWdlIG1heSBiZSBkZXBlbmRlbnQgb24gdGhlIHNpemUgb2YgdGhlIHByb2Nlc3NvcidzIGRhdGEgY2FjaGVzLlxuICovXG5mdW5jdGlvbiB1cGRhdGV3aW5kb3coc3RybSwgc3JjLCBlbmQsIGNvcHkpIHtcbiAgdmFyIGRpc3Q7XG4gIHZhciBzdGF0ZSA9IHN0cm0uc3RhdGU7XG5cbiAgLyogaWYgaXQgaGFzbid0IGJlZW4gZG9uZSBhbHJlYWR5LCBhbGxvY2F0ZSBzcGFjZSBmb3IgdGhlIHdpbmRvdyAqL1xuICBpZiAoc3RhdGUud2luZG93ID09PSBudWxsKSB7XG4gICAgc3RhdGUud3NpemUgPSAxIDw8IHN0YXRlLndiaXRzO1xuICAgIHN0YXRlLnduZXh0ID0gMDtcbiAgICBzdGF0ZS53aGF2ZSA9IDA7XG5cbiAgICBzdGF0ZS53aW5kb3cgPSBuZXcgdXRpbHMuQnVmOChzdGF0ZS53c2l6ZSk7XG4gIH1cblxuICAvKiBjb3B5IHN0YXRlLT53c2l6ZSBvciBsZXNzIG91dHB1dCBieXRlcyBpbnRvIHRoZSBjaXJjdWxhciB3aW5kb3cgKi9cbiAgaWYgKGNvcHkgPj0gc3RhdGUud3NpemUpIHtcbiAgICB1dGlscy5hcnJheVNldChzdGF0ZS53aW5kb3csIHNyYywgZW5kIC0gc3RhdGUud3NpemUsIHN0YXRlLndzaXplLCAwKTtcbiAgICBzdGF0ZS53bmV4dCA9IDA7XG4gICAgc3RhdGUud2hhdmUgPSBzdGF0ZS53c2l6ZTtcbiAgfVxuICBlbHNlIHtcbiAgICBkaXN0ID0gc3RhdGUud3NpemUgLSBzdGF0ZS53bmV4dDtcbiAgICBpZiAoZGlzdCA+IGNvcHkpIHtcbiAgICAgIGRpc3QgPSBjb3B5O1xuICAgIH1cbiAgICAvL3ptZW1jcHkoc3RhdGUtPndpbmRvdyArIHN0YXRlLT53bmV4dCwgZW5kIC0gY29weSwgZGlzdCk7XG4gICAgdXRpbHMuYXJyYXlTZXQoc3RhdGUud2luZG93LCBzcmMsIGVuZCAtIGNvcHksIGRpc3QsIHN0YXRlLnduZXh0KTtcbiAgICBjb3B5IC09IGRpc3Q7XG4gICAgaWYgKGNvcHkpIHtcbiAgICAgIC8vem1lbWNweShzdGF0ZS0+d2luZG93LCBlbmQgLSBjb3B5LCBjb3B5KTtcbiAgICAgIHV0aWxzLmFycmF5U2V0KHN0YXRlLndpbmRvdywgc3JjLCBlbmQgLSBjb3B5LCBjb3B5LCAwKTtcbiAgICAgIHN0YXRlLnduZXh0ID0gY29weTtcbiAgICAgIHN0YXRlLndoYXZlID0gc3RhdGUud3NpemU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc3RhdGUud25leHQgKz0gZGlzdDtcbiAgICAgIGlmIChzdGF0ZS53bmV4dCA9PT0gc3RhdGUud3NpemUpIHsgc3RhdGUud25leHQgPSAwOyB9XG4gICAgICBpZiAoc3RhdGUud2hhdmUgPCBzdGF0ZS53c2l6ZSkgeyBzdGF0ZS53aGF2ZSArPSBkaXN0OyB9XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlKHN0cm0sIGZsdXNoKSB7XG4gIHZhciBzdGF0ZTtcbiAgdmFyIGlucHV0LCBvdXRwdXQ7ICAgICAgICAgIC8vIGlucHV0L291dHB1dCBidWZmZXJzXG4gIHZhciBuZXh0OyAgICAgICAgICAgICAgICAgICAvKiBuZXh0IGlucHV0IElOREVYICovXG4gIHZhciBwdXQ7ICAgICAgICAgICAgICAgICAgICAvKiBuZXh0IG91dHB1dCBJTkRFWCAqL1xuICB2YXIgaGF2ZSwgbGVmdDsgICAgICAgICAgICAgLyogYXZhaWxhYmxlIGlucHV0IGFuZCBvdXRwdXQgKi9cbiAgdmFyIGhvbGQ7ICAgICAgICAgICAgICAgICAgIC8qIGJpdCBidWZmZXIgKi9cbiAgdmFyIGJpdHM7ICAgICAgICAgICAgICAgICAgIC8qIGJpdHMgaW4gYml0IGJ1ZmZlciAqL1xuICB2YXIgX2luLCBfb3V0OyAgICAgICAgICAgICAgLyogc2F2ZSBzdGFydGluZyBhdmFpbGFibGUgaW5wdXQgYW5kIG91dHB1dCAqL1xuICB2YXIgY29weTsgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIHN0b3JlZCBvciBtYXRjaCBieXRlcyB0byBjb3B5ICovXG4gIHZhciBmcm9tOyAgICAgICAgICAgICAgICAgICAvKiB3aGVyZSB0byBjb3B5IG1hdGNoIGJ5dGVzIGZyb20gKi9cbiAgdmFyIGZyb21fc291cmNlO1xuICB2YXIgaGVyZSA9IDA7ICAgICAgICAgICAgICAgLyogY3VycmVudCBkZWNvZGluZyB0YWJsZSBlbnRyeSAqL1xuICB2YXIgaGVyZV9iaXRzLCBoZXJlX29wLCBoZXJlX3ZhbDsgLy8gcGFrZWQgXCJoZXJlXCIgZGVub3JtYWxpemVkIChKUyBzcGVjaWZpYylcbiAgLy92YXIgbGFzdDsgICAgICAgICAgICAgICAgICAgLyogcGFyZW50IHRhYmxlIGVudHJ5ICovXG4gIHZhciBsYXN0X2JpdHMsIGxhc3Rfb3AsIGxhc3RfdmFsOyAvLyBwYWtlZCBcImxhc3RcIiBkZW5vcm1hbGl6ZWQgKEpTIHNwZWNpZmljKVxuICB2YXIgbGVuOyAgICAgICAgICAgICAgICAgICAgLyogbGVuZ3RoIHRvIGNvcHkgZm9yIHJlcGVhdHMsIGJpdHMgdG8gZHJvcCAqL1xuICB2YXIgcmV0OyAgICAgICAgICAgICAgICAgICAgLyogcmV0dXJuIGNvZGUgKi9cbiAgdmFyIGhidWYgPSBuZXcgdXRpbHMuQnVmOCg0KTsgICAgLyogYnVmZmVyIGZvciBnemlwIGhlYWRlciBjcmMgY2FsY3VsYXRpb24gKi9cbiAgdmFyIG9wdHM7XG5cbiAgdmFyIG47IC8vIHRlbXBvcmFyeSB2YXIgZm9yIE5FRURfQklUU1xuXG4gIHZhciBvcmRlciA9IC8qIHBlcm11dGF0aW9uIG9mIGNvZGUgbGVuZ3RocyAqL1xuICAgIFsgMTYsIDE3LCAxOCwgMCwgOCwgNywgOSwgNiwgMTAsIDUsIDExLCA0LCAxMiwgMywgMTMsIDIsIDE0LCAxLCAxNSBdO1xuXG5cbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlIHx8ICFzdHJtLm91dHB1dCB8fFxuICAgICAgKCFzdHJtLmlucHV0ICYmIHN0cm0uYXZhaWxfaW4gIT09IDApKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG5cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBpZiAoc3RhdGUubW9kZSA9PT0gVFlQRSkgeyBzdGF0ZS5tb2RlID0gVFlQRURPOyB9ICAgIC8qIHNraXAgY2hlY2sgKi9cblxuXG4gIC8vLS0tIExPQUQoKSAtLS1cbiAgcHV0ID0gc3RybS5uZXh0X291dDtcbiAgb3V0cHV0ID0gc3RybS5vdXRwdXQ7XG4gIGxlZnQgPSBzdHJtLmF2YWlsX291dDtcbiAgbmV4dCA9IHN0cm0ubmV4dF9pbjtcbiAgaW5wdXQgPSBzdHJtLmlucHV0O1xuICBoYXZlID0gc3RybS5hdmFpbF9pbjtcbiAgaG9sZCA9IHN0YXRlLmhvbGQ7XG4gIGJpdHMgPSBzdGF0ZS5iaXRzO1xuICAvLy0tLVxuXG4gIF9pbiA9IGhhdmU7XG4gIF9vdXQgPSBsZWZ0O1xuICByZXQgPSBaX09LO1xuXG4gIGluZl9sZWF2ZTogLy8gZ290byBlbXVsYXRpb25cbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoc3RhdGUubW9kZSkge1xuICAgICAgY2FzZSBIRUFEOlxuICAgICAgICBpZiAoc3RhdGUud3JhcCA9PT0gMCkge1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFRE87XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gTkVFREJJVFMoMTYpO1xuICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIGlmICgoc3RhdGUud3JhcCAmIDIpICYmIGhvbGQgPT09IDB4OGIxZikgeyAgLyogZ3ppcCBoZWFkZXIgKi9cbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IDAvKmNyYzMyKDBMLCBaX05VTEwsIDApKi87XG4gICAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAgIC8vPT09Ly9cblxuICAgICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBGTEFHUztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5mbGFncyA9IDA7ICAgICAgICAgICAvKiBleHBlY3QgemxpYiBoZWFkZXIgKi9cbiAgICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShzdGF0ZS53cmFwICYgMSkgfHwgICAvKiBjaGVjayBpZiB6bGliIGhlYWRlciBhbGxvd2VkICovXG4gICAgICAgICAgKCgoaG9sZCAmIDB4ZmYpLypCSVRTKDgpKi8gPDwgOCkgKyAoaG9sZCA+PiA4KSkgJSAzMSkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBoZWFkZXIgY2hlY2snO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChob2xkICYgMHgwZikvKkJJVFMoNCkqLyAhPT0gWl9ERUZMQVRFRCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ3Vua25vd24gY29tcHJlc3Npb24gbWV0aG9kJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDQpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSA0O1xuICAgICAgICBiaXRzIC09IDQ7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgbGVuID0gKGhvbGQgJiAweDBmKS8qQklUUyg0KSovICsgODtcbiAgICAgICAgaWYgKHN0YXRlLndiaXRzID09PSAwKSB7XG4gICAgICAgICAgc3RhdGUud2JpdHMgPSBsZW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGVuID4gc3RhdGUud2JpdHMpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIHdpbmRvdyBzaXplJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmRtYXggPSAxIDw8IGxlbjtcbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIHpsaWIgaGVhZGVyIG9rXFxuXCIpKTtcbiAgICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gMS8qYWRsZXIzMigwTCwgWl9OVUxMLCAwKSovO1xuICAgICAgICBzdGF0ZS5tb2RlID0gaG9sZCAmIDB4MjAwID8gRElDVElEIDogVFlQRTtcbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGTEFHUzpcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMTYpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLmZsYWdzID0gaG9sZDtcbiAgICAgICAgaWYgKChzdGF0ZS5mbGFncyAmIDB4ZmYpICE9PSBaX0RFRkxBVEVEKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAndW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHhlMDAwKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAndW5rbm93biBoZWFkZXIgZmxhZ3Mgc2V0JztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC50ZXh0ID0gKChob2xkID4+IDgpICYgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgfVxuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubW9kZSA9IFRJTUU7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgVElNRTpcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC50aW1lID0gaG9sZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgICAvLz09PSBDUkM0KHN0YXRlLmNoZWNrLCBob2xkKVxuICAgICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzJdID0gKGhvbGQgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlszXSA9IChob2xkID4+PiAyNCkgJiAweGZmO1xuICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGhidWYsIDQsIDApO1xuICAgICAgICAgIC8vPT09XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBPUztcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBPUzpcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMTYpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC54ZmxhZ3MgPSAoaG9sZCAmIDB4ZmYpO1xuICAgICAgICAgIHN0YXRlLmhlYWQub3MgPSAoaG9sZCA+PiA4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgICAvLz09PSBDUkMyKHN0YXRlLmNoZWNrLCBob2xkKTtcbiAgICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaGJ1ZiwgMiwgMCk7XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICB9XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gRVhMRU47XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgRVhMRU46XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDQwMCkge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgc3RhdGUubGVuZ3RoID0gaG9sZDtcbiAgICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgICAgc3RhdGUuaGVhZC5leHRyYV9sZW4gPSBob2xkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgICBob2xkID0gMDtcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQuZXh0cmEgPSBudWxsLypaX05VTEwqLztcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5tb2RlID0gRVhUUkE7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgRVhUUkE6XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDQwMCkge1xuICAgICAgICAgIGNvcHkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgICAgaWYgKGNvcHkgPiBoYXZlKSB7IGNvcHkgPSBoYXZlOyB9XG4gICAgICAgICAgaWYgKGNvcHkpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgICAgIGxlbiA9IHN0YXRlLmhlYWQuZXh0cmFfbGVuIC0gc3RhdGUubGVuZ3RoO1xuICAgICAgICAgICAgICBpZiAoIXN0YXRlLmhlYWQuZXh0cmEpIHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgdW50eXBlZCBhcnJheSBmb3IgbW9yZSBjb252ZW5pZW50IHByb2Nlc3NpbmcgbGF0ZXJcbiAgICAgICAgICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhID0gbmV3IEFycmF5KHN0YXRlLmhlYWQuZXh0cmFfbGVuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB1dGlscy5hcnJheVNldChcbiAgICAgICAgICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIG5leHQsXG4gICAgICAgICAgICAgICAgLy8gZXh0cmEgZmllbGQgaXMgbGltaXRlZCB0byA2NTUzNiBieXRlc1xuICAgICAgICAgICAgICAgIC8vIC0gbm8gbmVlZCBmb3IgYWRkaXRpb25hbCBzaXplIGNoZWNrXG4gICAgICAgICAgICAgICAgY29weSxcbiAgICAgICAgICAgICAgICAvKmxlbiArIGNvcHkgPiBzdGF0ZS5oZWFkLmV4dHJhX21heCAtIGxlbiA/IHN0YXRlLmhlYWQuZXh0cmFfbWF4IDogY29weSwqL1xuICAgICAgICAgICAgICAgIGxlblxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAvL3ptZW1jcHkoc3RhdGUuaGVhZC5leHRyYSArIGxlbiwgbmV4dCxcbiAgICAgICAgICAgICAgLy8gICAgICAgIGxlbiArIGNvcHkgPiBzdGF0ZS5oZWFkLmV4dHJhX21heCA/XG4gICAgICAgICAgICAgIC8vICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhX21heCAtIGxlbiA6IGNvcHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGlucHV0LCBjb3B5LCBuZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3RhdGUubGVuZ3RoKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmxlbmd0aCA9IDA7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBOQU1FO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIE5BTUU6XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDgwMCkge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGNvcHkgPSAwO1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vIFRPRE86IDIgb3IgMSBieXRlcz9cbiAgICAgICAgICAgIGxlbiA9IGlucHV0W25leHQgKyBjb3B5KytdO1xuICAgICAgICAgICAgLyogdXNlIGNvbnN0YW50IGxpbWl0IGJlY2F1c2UgaW4ganMgd2Ugc2hvdWxkIG5vdCBwcmVhbGxvY2F0ZSBtZW1vcnkgKi9cbiAgICAgICAgICAgIGlmIChzdGF0ZS5oZWFkICYmIGxlbiAmJlxuICAgICAgICAgICAgICAgIChzdGF0ZS5sZW5ndGggPCA2NTUzNiAvKnN0YXRlLmhlYWQubmFtZV9tYXgqLykpIHtcbiAgICAgICAgICAgICAgc3RhdGUuaGVhZC5uYW1lICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlIChsZW4gJiYgY29weSA8IGhhdmUpO1xuXG4gICAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBpbnB1dCwgY29weSwgbmV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgICAgaWYgKGxlbikgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5uYW1lID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5sZW5ndGggPSAwO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQ09NTUVOVDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBDT01NRU5UOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDEwMDApIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBjb3B5ID0gMDtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBsZW4gPSBpbnB1dFtuZXh0ICsgY29weSsrXTtcbiAgICAgICAgICAgIC8qIHVzZSBjb25zdGFudCBsaW1pdCBiZWNhdXNlIGluIGpzIHdlIHNob3VsZCBub3QgcHJlYWxsb2NhdGUgbWVtb3J5ICovXG4gICAgICAgICAgICBpZiAoc3RhdGUuaGVhZCAmJiBsZW4gJiZcbiAgICAgICAgICAgICAgICAoc3RhdGUubGVuZ3RoIDwgNjU1MzYgLypzdGF0ZS5oZWFkLmNvbW1fbWF4Ki8pKSB7XG4gICAgICAgICAgICAgIHN0YXRlLmhlYWQuY29tbWVudCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGxlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSB3aGlsZSAobGVuICYmIGNvcHkgPCBoYXZlKTtcbiAgICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGlucHV0LCBjb3B5LCBuZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgICBpZiAobGVuKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLmNvbW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm1vZGUgPSBIQ1JDO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIEhDUkM6XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgaWYgKGhvbGQgIT09IChzdGF0ZS5jaGVjayAmIDB4ZmZmZikpIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2hlYWRlciBjcmMgbWlzbWF0Y2gnO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICAgIGhvbGQgPSAwO1xuICAgICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQuaGNyYyA9ICgoc3RhdGUuZmxhZ3MgPj4gOSkgJiAxKTtcbiAgICAgICAgICBzdGF0ZS5oZWFkLmRvbmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IDA7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElDVElEOlxuICAgICAgICAvLz09PSBORUVEQklUUygzMik7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0genN3YXAzMihob2xkKTtcbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBESUNUO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIERJQ1Q6XG4gICAgICAgIGlmIChzdGF0ZS5oYXZlZGljdCA9PT0gMCkge1xuICAgICAgICAgIC8vLS0tIFJFU1RPUkUoKSAtLS1cbiAgICAgICAgICBzdHJtLm5leHRfb3V0ID0gcHV0O1xuICAgICAgICAgIHN0cm0uYXZhaWxfb3V0ID0gbGVmdDtcbiAgICAgICAgICBzdHJtLm5leHRfaW4gPSBuZXh0O1xuICAgICAgICAgIHN0cm0uYXZhaWxfaW4gPSBoYXZlO1xuICAgICAgICAgIHN0YXRlLmhvbGQgPSBob2xkO1xuICAgICAgICAgIHN0YXRlLmJpdHMgPSBiaXRzO1xuICAgICAgICAgIC8vLS0tXG4gICAgICAgICAgcmV0dXJuIFpfTkVFRF9ESUNUO1xuICAgICAgICB9XG4gICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IDEvKmFkbGVyMzIoMEwsIFpfTlVMTCwgMCkqLztcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgVFlQRTpcbiAgICAgICAgaWYgKGZsdXNoID09PSBaX0JMT0NLIHx8IGZsdXNoID09PSBaX1RSRUVTKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIFRZUEVETzpcbiAgICAgICAgaWYgKHN0YXRlLmxhc3QpIHtcbiAgICAgICAgICAvLy0tLSBCWVRFQklUUygpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IGJpdHMgJiA3O1xuICAgICAgICAgIGJpdHMgLT0gYml0cyAmIDc7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBDSEVDSztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLz09PSBORUVEQklUUygzKTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAzKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLmxhc3QgPSAoaG9sZCAmIDB4MDEpLypCSVRTKDEpKi87XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDEpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSAxO1xuICAgICAgICBiaXRzIC09IDE7XG4gICAgICAgIC8vLS0tLy9cblxuICAgICAgICBzd2l0Y2ggKChob2xkICYgMHgwMykvKkJJVFMoMikqLykge1xuICAgICAgICAgIGNhc2UgMDogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIHN0b3JlZCBibG9jayAqL1xuICAgICAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgc3RvcmVkIGJsb2NrJXNcXG5cIixcbiAgICAgICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gU1RPUkVEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZml4ZWQgYmxvY2sgKi9cbiAgICAgICAgICAgIGZpeGVkdGFibGVzKHN0YXRlKTtcbiAgICAgICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgIGZpeGVkIGNvZGVzIGJsb2NrJXNcXG5cIixcbiAgICAgICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gTEVOXzsgICAgICAgICAgICAgLyogZGVjb2RlIGNvZGVzICovXG4gICAgICAgICAgICBpZiAoZmx1c2ggPT09IFpfVFJFRVMpIHtcbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IDI7XG4gICAgICAgICAgICAgIGJpdHMgLT0gMjtcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBkeW5hbWljIGJsb2NrICovXG4gICAgICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICBkeW5hbWljIGNvZGVzIGJsb2NrJXNcXG5cIixcbiAgICAgICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gVEFCTEU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJsb2NrIHR5cGUnO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgfVxuICAgICAgICAvLy0tLSBEUk9QQklUUygyKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gMjtcbiAgICAgICAgYml0cyAtPSAyO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTVE9SRUQ6XG4gICAgICAgIC8vLS0tIEJZVEVCSVRTKCkgLS0tLy8gLyogZ28gdG8gYnl0ZSBib3VuZGFyeSAqL1xuICAgICAgICBob2xkID4+Pj0gYml0cyAmIDc7XG4gICAgICAgIGJpdHMgLT0gYml0cyAmIDc7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIGlmICgoaG9sZCAmIDB4ZmZmZikgIT09ICgoaG9sZCA+Pj4gMTYpIF4gMHhmZmZmKSkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgc3RvcmVkIGJsb2NrIGxlbmd0aHMnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubGVuZ3RoID0gaG9sZCAmIDB4ZmZmZjtcbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICBzdG9yZWQgbGVuZ3RoICV1XFxuXCIsXG4gICAgICAgIC8vICAgICAgICBzdGF0ZS5sZW5ndGgpKTtcbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBDT1BZXztcbiAgICAgICAgaWYgKGZsdXNoID09PSBaX1RSRUVTKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIENPUFlfOlxuICAgICAgICBzdGF0ZS5tb2RlID0gQ09QWTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBDT1BZOlxuICAgICAgICBjb3B5ID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICBpZiAoY29weSkge1xuICAgICAgICAgIGlmIChjb3B5ID4gaGF2ZSkgeyBjb3B5ID0gaGF2ZTsgfVxuICAgICAgICAgIGlmIChjb3B5ID4gbGVmdCkgeyBjb3B5ID0gbGVmdDsgfVxuICAgICAgICAgIGlmIChjb3B5ID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIC8vLS0tIHptZW1jcHkocHV0LCBuZXh0LCBjb3B5KTsgLS0tXG4gICAgICAgICAgdXRpbHMuYXJyYXlTZXQob3V0cHV0LCBpbnB1dCwgbmV4dCwgY29weSwgcHV0KTtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgICBsZWZ0IC09IGNvcHk7XG4gICAgICAgICAgcHV0ICs9IGNvcHk7XG4gICAgICAgICAgc3RhdGUubGVuZ3RoIC09IGNvcHk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICBzdG9yZWQgZW5kXFxuXCIpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUQUJMRTpcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMTQpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDE0KSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm5sZW4gPSAoaG9sZCAmIDB4MWYpLypCSVRTKDUpKi8gKyAyNTc7XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDUpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSA1O1xuICAgICAgICBiaXRzIC09IDU7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUubmRpc3QgPSAoaG9sZCAmIDB4MWYpLypCSVRTKDUpKi8gKyAxO1xuICAgICAgICAvLy0tLSBEUk9QQklUUyg1KSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gNTtcbiAgICAgICAgYml0cyAtPSA1O1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLm5jb2RlID0gKGhvbGQgJiAweDBmKS8qQklUUyg0KSovICsgNDtcbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoNCkgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IDQ7XG4gICAgICAgIGJpdHMgLT0gNDtcbiAgICAgICAgLy8tLS0vL1xuLy8jaWZuZGVmIFBLWklQX0JVR19XT1JLQVJPVU5EXG4gICAgICAgIGlmIChzdGF0ZS5ubGVuID4gMjg2IHx8IHN0YXRlLm5kaXN0ID4gMzApIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICd0b28gbWFueSBsZW5ndGggb3IgZGlzdGFuY2Ugc3ltYm9scyc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuLy8jZW5kaWZcbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICB0YWJsZSBzaXplcyBva1xcblwiKSk7XG4gICAgICAgIHN0YXRlLmhhdmUgPSAwO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTEVOTEVOUztcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBMRU5MRU5TOlxuICAgICAgICB3aGlsZSAoc3RhdGUuaGF2ZSA8IHN0YXRlLm5jb2RlKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoMyk7XG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCAzKSB7XG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgc3RhdGUubGVuc1tvcmRlcltzdGF0ZS5oYXZlKytdXSA9IChob2xkICYgMHgwNyk7Ly9CSVRTKDMpO1xuICAgICAgICAgIC8vLS0tIERST1BCSVRTKDMpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IDM7XG4gICAgICAgICAgYml0cyAtPSAzO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoc3RhdGUuaGF2ZSA8IDE5KSB7XG4gICAgICAgICAgc3RhdGUubGVuc1tvcmRlcltzdGF0ZS5oYXZlKytdXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgaGF2ZSBzZXBhcmF0ZSB0YWJsZXMgJiBubyBwb2ludGVycy4gMiBjb21tZW50ZWQgbGluZXMgYmVsb3cgbm90IG5lZWRlZC5cbiAgICAgICAgLy9zdGF0ZS5uZXh0ID0gc3RhdGUuY29kZXM7XG4gICAgICAgIC8vc3RhdGUubGVuY29kZSA9IHN0YXRlLm5leHQ7XG4gICAgICAgIC8vIFN3aXRjaCB0byB1c2UgZHluYW1pYyB0YWJsZVxuICAgICAgICBzdGF0ZS5sZW5jb2RlID0gc3RhdGUubGVuZHluO1xuICAgICAgICBzdGF0ZS5sZW5iaXRzID0gNztcblxuICAgICAgICBvcHRzID0geyBiaXRzOiBzdGF0ZS5sZW5iaXRzIH07XG4gICAgICAgIHJldCA9IGluZmxhdGVfdGFibGUoQ09ERVMsIHN0YXRlLmxlbnMsIDAsIDE5LCBzdGF0ZS5sZW5jb2RlLCAwLCBzdGF0ZS53b3JrLCBvcHRzKTtcbiAgICAgICAgc3RhdGUubGVuYml0cyA9IG9wdHMuYml0cztcblxuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0JztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgY29kZSBsZW5ndGhzIG9rXFxuXCIpKTtcbiAgICAgICAgc3RhdGUuaGF2ZSA9IDA7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBDT0RFTEVOUztcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBDT0RFTEVOUzpcbiAgICAgICAgd2hpbGUgKHN0YXRlLmhhdmUgPCBzdGF0ZS5ubGVuICsgc3RhdGUubmRpc3QpIHtcbiAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBoZXJlID0gc3RhdGUubGVuY29kZVtob2xkICYgKCgxIDw8IHN0YXRlLmxlbmJpdHMpIC0gMSldOy8qQklUUyhzdGF0ZS5sZW5iaXRzKSovXG4gICAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgICAgaWYgKChoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoZXJlX3ZhbCA8IDE2KSB7XG4gICAgICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICBzdGF0ZS5sZW5zW3N0YXRlLmhhdmUrK10gPSBoZXJlX3ZhbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoaGVyZV92YWwgPT09IDE2KSB7XG4gICAgICAgICAgICAgIC8vPT09IE5FRURCSVRTKGhlcmUuYml0cyArIDIpO1xuICAgICAgICAgICAgICBuID0gaGVyZV9iaXRzICsgMjtcbiAgICAgICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgICAgaWYgKHN0YXRlLmhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0JztcbiAgICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxlbiA9IHN0YXRlLmxlbnNbc3RhdGUuaGF2ZSAtIDFdO1xuICAgICAgICAgICAgICBjb3B5ID0gMyArIChob2xkICYgMHgwMyk7Ly9CSVRTKDIpO1xuICAgICAgICAgICAgICAvLy0tLSBEUk9QQklUUygyKSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gMjtcbiAgICAgICAgICAgICAgYml0cyAtPSAyO1xuICAgICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZXJlX3ZhbCA9PT0gMTcpIHtcbiAgICAgICAgICAgICAgLy89PT0gTkVFREJJVFMoaGVyZS5iaXRzICsgMyk7XG4gICAgICAgICAgICAgIG4gPSBoZXJlX2JpdHMgKyAzO1xuICAgICAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgICBsZW4gPSAwO1xuICAgICAgICAgICAgICBjb3B5ID0gMyArIChob2xkICYgMHgwNyk7Ly9CSVRTKDMpO1xuICAgICAgICAgICAgICAvLy0tLSBEUk9QQklUUygzKSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gMztcbiAgICAgICAgICAgICAgYml0cyAtPSAzO1xuICAgICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgLy89PT0gTkVFREJJVFMoaGVyZS5iaXRzICsgNyk7XG4gICAgICAgICAgICAgIG4gPSBoZXJlX2JpdHMgKyA3O1xuICAgICAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgICBsZW4gPSAwO1xuICAgICAgICAgICAgICBjb3B5ID0gMTEgKyAoaG9sZCAmIDB4N2YpOy8vQklUUyg3KTtcbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoNykgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IDc7XG4gICAgICAgICAgICAgIGJpdHMgLT0gNztcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlLmhhdmUgKyBjb3B5ID4gc3RhdGUubmxlbiArIHN0YXRlLm5kaXN0KSB7XG4gICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgYml0IGxlbmd0aCByZXBlYXQnO1xuICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChjb3B5LS0pIHtcbiAgICAgICAgICAgICAgc3RhdGUubGVuc1tzdGF0ZS5oYXZlKytdID0gbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGhhbmRsZSBlcnJvciBicmVha3MgaW4gd2hpbGUgKi9cbiAgICAgICAgaWYgKHN0YXRlLm1vZGUgPT09IEJBRCkgeyBicmVhazsgfVxuXG4gICAgICAgIC8qIGNoZWNrIGZvciBlbmQtb2YtYmxvY2sgY29kZSAoYmV0dGVyIGhhdmUgb25lKSAqL1xuICAgICAgICBpZiAoc3RhdGUubGVuc1syNTZdID09PSAwKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogYnVpbGQgY29kZSB0YWJsZXMgLS0gbm90ZTogZG8gbm90IGNoYW5nZSB0aGUgbGVuYml0cyBvciBkaXN0Yml0c1xuICAgICAgICAgICB2YWx1ZXMgaGVyZSAoOSBhbmQgNikgd2l0aG91dCByZWFkaW5nIHRoZSBjb21tZW50cyBpbiBpbmZ0cmVlcy5oXG4gICAgICAgICAgIGNvbmNlcm5pbmcgdGhlIEVOT1VHSCBjb25zdGFudHMsIHdoaWNoIGRlcGVuZCBvbiB0aG9zZSB2YWx1ZXMgKi9cbiAgICAgICAgc3RhdGUubGVuYml0cyA9IDk7XG5cbiAgICAgICAgb3B0cyA9IHsgYml0czogc3RhdGUubGVuYml0cyB9O1xuICAgICAgICByZXQgPSBpbmZsYXRlX3RhYmxlKExFTlMsIHN0YXRlLmxlbnMsIDAsIHN0YXRlLm5sZW4sIHN0YXRlLmxlbmNvZGUsIDAsIHN0YXRlLndvcmssIG9wdHMpO1xuICAgICAgICAvLyBXZSBoYXZlIHNlcGFyYXRlIHRhYmxlcyAmIG5vIHBvaW50ZXJzLiAyIGNvbW1lbnRlZCBsaW5lcyBiZWxvdyBub3QgbmVlZGVkLlxuICAgICAgICAvLyBzdGF0ZS5uZXh0X2luZGV4ID0gb3B0cy50YWJsZV9pbmRleDtcbiAgICAgICAgc3RhdGUubGVuYml0cyA9IG9wdHMuYml0cztcbiAgICAgICAgLy8gc3RhdGUubGVuY29kZSA9IHN0YXRlLm5leHQ7XG5cbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLmRpc3RiaXRzID0gNjtcbiAgICAgICAgLy9zdGF0ZS5kaXN0Y29kZS5jb3B5KHN0YXRlLmNvZGVzKTtcbiAgICAgICAgLy8gU3dpdGNoIHRvIHVzZSBkeW5hbWljIHRhYmxlXG4gICAgICAgIHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUuZGlzdGR5bjtcbiAgICAgICAgb3B0cyA9IHsgYml0czogc3RhdGUuZGlzdGJpdHMgfTtcbiAgICAgICAgcmV0ID0gaW5mbGF0ZV90YWJsZShESVNUUywgc3RhdGUubGVucywgc3RhdGUubmxlbiwgc3RhdGUubmRpc3QsIHN0YXRlLmRpc3Rjb2RlLCAwLCBzdGF0ZS53b3JrLCBvcHRzKTtcbiAgICAgICAgLy8gV2UgaGF2ZSBzZXBhcmF0ZSB0YWJsZXMgJiBubyBwb2ludGVycy4gMiBjb21tZW50ZWQgbGluZXMgYmVsb3cgbm90IG5lZWRlZC5cbiAgICAgICAgLy8gc3RhdGUubmV4dF9pbmRleCA9IG9wdHMudGFibGVfaW5kZXg7XG4gICAgICAgIHN0YXRlLmRpc3RiaXRzID0gb3B0cy5iaXRzO1xuICAgICAgICAvLyBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLm5leHQ7XG5cbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2VzIHNldCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCAnaW5mbGF0ZTogICAgICAgY29kZXMgb2tcXG4nKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU5fO1xuICAgICAgICBpZiAoZmx1c2ggPT09IFpfVFJFRVMpIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTEVOXzpcbiAgICAgICAgc3RhdGUubW9kZSA9IExFTjtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBMRU46XG4gICAgICAgIGlmIChoYXZlID49IDYgJiYgbGVmdCA+PSAyNTgpIHtcbiAgICAgICAgICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gICAgICAgICAgc3RybS5uZXh0X291dCA9IHB1dDtcbiAgICAgICAgICBzdHJtLmF2YWlsX291dCA9IGxlZnQ7XG4gICAgICAgICAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgICAgICAgICBzdHJtLmF2YWlsX2luID0gaGF2ZTtcbiAgICAgICAgICBzdGF0ZS5ob2xkID0gaG9sZDtcbiAgICAgICAgICBzdGF0ZS5iaXRzID0gYml0cztcbiAgICAgICAgICAvLy0tLVxuICAgICAgICAgIGluZmxhdGVfZmFzdChzdHJtLCBfb3V0KTtcbiAgICAgICAgICAvLy0tLSBMT0FEKCkgLS0tXG4gICAgICAgICAgcHV0ID0gc3RybS5uZXh0X291dDtcbiAgICAgICAgICBvdXRwdXQgPSBzdHJtLm91dHB1dDtcbiAgICAgICAgICBsZWZ0ID0gc3RybS5hdmFpbF9vdXQ7XG4gICAgICAgICAgbmV4dCA9IHN0cm0ubmV4dF9pbjtcbiAgICAgICAgICBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gICAgICAgICAgaGF2ZSA9IHN0cm0uYXZhaWxfaW47XG4gICAgICAgICAgaG9sZCA9IHN0YXRlLmhvbGQ7XG4gICAgICAgICAgYml0cyA9IHN0YXRlLmJpdHM7XG4gICAgICAgICAgLy8tLS1cblxuICAgICAgICAgIGlmIChzdGF0ZS5tb2RlID09PSBUWVBFKSB7XG4gICAgICAgICAgICBzdGF0ZS5iYWNrID0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmJhY2sgPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgaGVyZSA9IHN0YXRlLmxlbmNvZGVbaG9sZCAmICgoMSA8PCBzdGF0ZS5sZW5iaXRzKSAtIDEpXTsgIC8qQklUUyhzdGF0ZS5sZW5iaXRzKSovXG4gICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgIGlmIChoZXJlX2JpdHMgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVyZV9vcCAmJiAoaGVyZV9vcCAmIDB4ZjApID09PSAwKSB7XG4gICAgICAgICAgbGFzdF9iaXRzID0gaGVyZV9iaXRzO1xuICAgICAgICAgIGxhc3Rfb3AgPSBoZXJlX29wO1xuICAgICAgICAgIGxhc3RfdmFsID0gaGVyZV92YWw7XG4gICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaGVyZSA9IHN0YXRlLmxlbmNvZGVbbGFzdF92YWwgK1xuICAgICAgICAgICAgICAgICAgICAoKGhvbGQgJiAoKDEgPDwgKGxhc3RfYml0cyArIGxhc3Rfb3ApKSAtIDEpKS8qQklUUyhsYXN0LmJpdHMgKyBsYXN0Lm9wKSovID4+IGxhc3RfYml0cyldO1xuICAgICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICAgIGlmICgobGFzdF9iaXRzICsgaGVyZV9iaXRzKSA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLy0tLSBEUk9QQklUUyhsYXN0LmJpdHMpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IGxhc3RfYml0cztcbiAgICAgICAgICBiaXRzIC09IGxhc3RfYml0cztcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgc3RhdGUuYmFjayArPSBsYXN0X2JpdHM7XG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5iYWNrICs9IGhlcmVfYml0cztcbiAgICAgICAgc3RhdGUubGVuZ3RoID0gaGVyZV92YWw7XG4gICAgICAgIGlmIChoZXJlX29wID09PSAwKSB7XG4gICAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIGhlcmUudmFsID49IDB4MjAgJiYgaGVyZS52YWwgPCAweDdmID9cbiAgICAgICAgICAvLyAgICAgICAgXCJpbmZsYXRlOiAgICAgICAgIGxpdGVyYWwgJyVjJ1xcblwiIDpcbiAgICAgICAgICAvLyAgICAgICAgXCJpbmZsYXRlOiAgICAgICAgIGxpdGVyYWwgMHglMDJ4XFxuXCIsIGhlcmUudmFsKSk7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IExJVDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVyZV9vcCAmIDMyKSB7XG4gICAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBlbmQgb2YgYmxvY2tcXG5cIikpO1xuICAgICAgICAgIHN0YXRlLmJhY2sgPSAtMTtcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVyZV9vcCAmIDY0KSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmV4dHJhID0gaGVyZV9vcCAmIDE1O1xuICAgICAgICBzdGF0ZS5tb2RlID0gTEVORVhUO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIExFTkVYVDpcbiAgICAgICAgaWYgKHN0YXRlLmV4dHJhKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoc3RhdGUuZXh0cmEpO1xuICAgICAgICAgIG4gPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBzdGF0ZS5sZW5ndGggKz0gaG9sZCAmICgoMSA8PCBzdGF0ZS5leHRyYSkgLSAxKS8qQklUUyhzdGF0ZS5leHRyYSkqLztcbiAgICAgICAgICAvLy0tLSBEUk9QQklUUyhzdGF0ZS5leHRyYSkgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gc3RhdGUuZXh0cmE7XG4gICAgICAgICAgYml0cyAtPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgc3RhdGUuYmFjayArPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgfVxuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGxlbmd0aCAldVxcblwiLCBzdGF0ZS5sZW5ndGgpKTtcbiAgICAgICAgc3RhdGUud2FzID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICBzdGF0ZS5tb2RlID0gRElTVDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBESVNUOlxuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgaGVyZSA9IHN0YXRlLmRpc3Rjb2RlW2hvbGQgJiAoKDEgPDwgc3RhdGUuZGlzdGJpdHMpIC0gMSldOy8qQklUUyhzdGF0ZS5kaXN0Yml0cykqL1xuICAgICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICBpZiAoKGhlcmVfYml0cykgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgfVxuICAgICAgICBpZiAoKGhlcmVfb3AgJiAweGYwKSA9PT0gMCkge1xuICAgICAgICAgIGxhc3RfYml0cyA9IGhlcmVfYml0cztcbiAgICAgICAgICBsYXN0X29wID0gaGVyZV9vcDtcbiAgICAgICAgICBsYXN0X3ZhbCA9IGhlcmVfdmFsO1xuICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGhlcmUgPSBzdGF0ZS5kaXN0Y29kZVtsYXN0X3ZhbCArXG4gICAgICAgICAgICAgICAgICAgICgoaG9sZCAmICgoMSA8PCAobGFzdF9iaXRzICsgbGFzdF9vcCkpIC0gMSkpLypCSVRTKGxhc3QuYml0cyArIGxhc3Qub3ApKi8gPj4gbGFzdF9iaXRzKV07XG4gICAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgICAgaWYgKChsYXN0X2JpdHMgKyBoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vLS0tIERST1BCSVRTKGxhc3QuYml0cykgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gbGFzdF9iaXRzO1xuICAgICAgICAgIGJpdHMgLT0gbGFzdF9iaXRzO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5iYWNrICs9IGxhc3RfYml0cztcbiAgICAgICAgfVxuICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLmJhY2sgKz0gaGVyZV9iaXRzO1xuICAgICAgICBpZiAoaGVyZV9vcCAmIDY0KSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSBjb2RlJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm9mZnNldCA9IGhlcmVfdmFsO1xuICAgICAgICBzdGF0ZS5leHRyYSA9IChoZXJlX29wKSAmIDE1O1xuICAgICAgICBzdGF0ZS5tb2RlID0gRElTVEVYVDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBESVNURVhUOlxuICAgICAgICBpZiAoc3RhdGUuZXh0cmEpIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUyhzdGF0ZS5leHRyYSk7XG4gICAgICAgICAgbiA9IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIHN0YXRlLm9mZnNldCArPSBob2xkICYgKCgxIDw8IHN0YXRlLmV4dHJhKSAtIDEpLypCSVRTKHN0YXRlLmV4dHJhKSovO1xuICAgICAgICAgIC8vLS0tIERST1BCSVRTKHN0YXRlLmV4dHJhKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICBiaXRzIC09IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5iYWNrICs9IHN0YXRlLmV4dHJhO1xuICAgICAgICB9XG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICAgICAgICBpZiAoc3RhdGUub2Zmc2V0ID4gc3RhdGUuZG1heCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4vLyNlbmRpZlxuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGRpc3RhbmNlICV1XFxuXCIsIHN0YXRlLm9mZnNldCkpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTUFUQ0g7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTUFUQ0g6XG4gICAgICAgIGlmIChsZWZ0ID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBjb3B5ID0gX291dCAtIGxlZnQ7XG4gICAgICAgIGlmIChzdGF0ZS5vZmZzZXQgPiBjb3B5KSB7ICAgICAgICAgLyogY29weSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICAgIGNvcHkgPSBzdGF0ZS5vZmZzZXQgLSBjb3B5O1xuICAgICAgICAgIGlmIChjb3B5ID4gc3RhdGUud2hhdmUpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5zYW5lKSB7XG4gICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4vLyAoISkgVGhpcyBibG9jayBpcyBkaXNhYmxlZCBpbiB6bGliIGRlZmF1bHRzLFxuLy8gZG9uJ3QgZW5hYmxlIGl0IGZvciBiaW5hcnkgY29tcGF0aWJpbGl0eVxuLy8jaWZkZWYgSU5GTEFURV9BTExPV19JTlZBTElEX0RJU1RBTkNFX1RPT0ZBUl9BUlJSXG4vLyAgICAgICAgICBUcmFjZSgoc3RkZXJyLCBcImluZmxhdGUuYyB0b28gZmFyXFxuXCIpKTtcbi8vICAgICAgICAgIGNvcHkgLT0gc3RhdGUud2hhdmU7XG4vLyAgICAgICAgICBpZiAoY29weSA+IHN0YXRlLmxlbmd0aCkgeyBjb3B5ID0gc3RhdGUubGVuZ3RoOyB9XG4vLyAgICAgICAgICBpZiAoY29weSA+IGxlZnQpIHsgY29weSA9IGxlZnQ7IH1cbi8vICAgICAgICAgIGxlZnQgLT0gY29weTtcbi8vICAgICAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuLy8gICAgICAgICAgZG8ge1xuLy8gICAgICAgICAgICBvdXRwdXRbcHV0KytdID0gMDtcbi8vICAgICAgICAgIH0gd2hpbGUgKC0tY29weSk7XG4vLyAgICAgICAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSB7IHN0YXRlLm1vZGUgPSBMRU47IH1cbi8vICAgICAgICAgIGJyZWFrO1xuLy8jZW5kaWZcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS53bmV4dCkge1xuICAgICAgICAgICAgY29weSAtPSBzdGF0ZS53bmV4dDtcbiAgICAgICAgICAgIGZyb20gPSBzdGF0ZS53c2l6ZSAtIGNvcHk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJvbSA9IHN0YXRlLnduZXh0IC0gY29weTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS5sZW5ndGgpIHsgY29weSA9IHN0YXRlLmxlbmd0aDsgfVxuICAgICAgICAgIGZyb21fc291cmNlID0gc3RhdGUud2luZG93O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGNvcHkgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICBmcm9tID0gcHV0IC0gc3RhdGUub2Zmc2V0O1xuICAgICAgICAgIGNvcHkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvcHkgPiBsZWZ0KSB7IGNvcHkgPSBsZWZ0OyB9XG4gICAgICAgIGxlZnQgLT0gY29weTtcbiAgICAgICAgc3RhdGUubGVuZ3RoIC09IGNvcHk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBvdXRwdXRbcHV0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgfSB3aGlsZSAoLS1jb3B5KTtcbiAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgeyBzdGF0ZS5tb2RlID0gTEVOOyB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBMSVQ6XG4gICAgICAgIGlmIChsZWZ0ID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBvdXRwdXRbcHV0KytdID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICBsZWZ0LS07XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU47XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDSEVDSzpcbiAgICAgICAgaWYgKHN0YXRlLndyYXApIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUygzMik7XG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICAvLyBVc2UgJ3wnIGluc3RlYWQgb2YgJysnIHRvIG1ha2Ugc3VyZSB0aGF0IHJlc3VsdCBpcyBzaWduZWRcbiAgICAgICAgICAgIGhvbGQgfD0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgX291dCAtPSBsZWZ0O1xuICAgICAgICAgIHN0cm0udG90YWxfb3V0ICs9IF9vdXQ7XG4gICAgICAgICAgc3RhdGUudG90YWwgKz0gX291dDtcbiAgICAgICAgICBpZiAoX291dCkge1xuICAgICAgICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID1cbiAgICAgICAgICAgICAgICAvKlVQREFURShzdGF0ZS5jaGVjaywgcHV0IC0gX291dCwgX291dCk7Ki9cbiAgICAgICAgICAgICAgICAoc3RhdGUuZmxhZ3MgPyBjcmMzMihzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBwdXQgLSBfb3V0KSA6IGFkbGVyMzIoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgcHV0IC0gX291dCkpO1xuXG4gICAgICAgICAgfVxuICAgICAgICAgIF9vdXQgPSBsZWZ0O1xuICAgICAgICAgIC8vIE5COiBjcmMzMiBzdG9yZWQgYXMgc2lnbmVkIDMyLWJpdCBpbnQsIHpzd2FwMzIgcmV0dXJucyBzaWduZWQgdG9vXG4gICAgICAgICAgaWYgKChzdGF0ZS5mbGFncyA/IGhvbGQgOiB6c3dhcDMyKGhvbGQpKSAhPT0gc3RhdGUuY2hlY2spIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBkYXRhIGNoZWNrJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgICBob2xkID0gMDtcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGNoZWNrIG1hdGNoZXMgdHJhaWxlclxcblwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubW9kZSA9IExFTkdUSDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBMRU5HVEg6XG4gICAgICAgIGlmIChzdGF0ZS53cmFwICYmIHN0YXRlLmZsYWdzKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBpZiAoaG9sZCAhPT0gKHN0YXRlLnRvdGFsICYgMHhmZmZmZmZmZikpIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBsZW5ndGggY2hlY2snO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICAgIGhvbGQgPSAwO1xuICAgICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgbGVuZ3RoIG1hdGNoZXMgdHJhaWxlclxcblwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubW9kZSA9IERPTkU7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgRE9ORTpcbiAgICAgICAgcmV0ID0gWl9TVFJFQU1fRU5EO1xuICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICBjYXNlIEJBRDpcbiAgICAgICAgcmV0ID0gWl9EQVRBX0VSUk9SO1xuICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICBjYXNlIE1FTTpcbiAgICAgICAgcmV0dXJuIFpfTUVNX0VSUk9SO1xuICAgICAgY2FzZSBTWU5DOlxuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gICAgfVxuICB9XG5cbiAgLy8gaW5mX2xlYXZlIDwtIGhlcmUgaXMgcmVhbCBwbGFjZSBmb3IgXCJnb3RvIGluZl9sZWF2ZVwiLCBlbXVsYXRlZCB2aWEgXCJicmVhayBpbmZfbGVhdmVcIlxuXG4gIC8qXG4gICAgIFJldHVybiBmcm9tIGluZmxhdGUoKSwgdXBkYXRpbmcgdGhlIHRvdGFsIGNvdW50cyBhbmQgdGhlIGNoZWNrIHZhbHVlLlxuICAgICBJZiB0aGVyZSB3YXMgbm8gcHJvZ3Jlc3MgZHVyaW5nIHRoZSBpbmZsYXRlKCkgY2FsbCwgcmV0dXJuIGEgYnVmZmVyXG4gICAgIGVycm9yLiAgQ2FsbCB1cGRhdGV3aW5kb3coKSB0byBjcmVhdGUgYW5kL29yIHVwZGF0ZSB0aGUgd2luZG93IHN0YXRlLlxuICAgICBOb3RlOiBhIG1lbW9yeSBlcnJvciBmcm9tIGluZmxhdGUoKSBpcyBub24tcmVjb3ZlcmFibGUuXG4gICAqL1xuXG4gIC8vLS0tIFJFU1RPUkUoKSAtLS1cbiAgc3RybS5uZXh0X291dCA9IHB1dDtcbiAgc3RybS5hdmFpbF9vdXQgPSBsZWZ0O1xuICBzdHJtLm5leHRfaW4gPSBuZXh0O1xuICBzdHJtLmF2YWlsX2luID0gaGF2ZTtcbiAgc3RhdGUuaG9sZCA9IGhvbGQ7XG4gIHN0YXRlLmJpdHMgPSBiaXRzO1xuICAvLy0tLVxuXG4gIGlmIChzdGF0ZS53c2l6ZSB8fCAoX291dCAhPT0gc3RybS5hdmFpbF9vdXQgJiYgc3RhdGUubW9kZSA8IEJBRCAmJlxuICAgICAgICAgICAgICAgICAgICAgIChzdGF0ZS5tb2RlIDwgQ0hFQ0sgfHwgZmx1c2ggIT09IFpfRklOSVNIKSkpIHtcbiAgICBpZiAodXBkYXRld2luZG93KHN0cm0sIHN0cm0ub3V0cHV0LCBzdHJtLm5leHRfb3V0LCBfb3V0IC0gc3RybS5hdmFpbF9vdXQpKSB7XG4gICAgICBzdGF0ZS5tb2RlID0gTUVNO1xuICAgICAgcmV0dXJuIFpfTUVNX0VSUk9SO1xuICAgIH1cbiAgfVxuICBfaW4gLT0gc3RybS5hdmFpbF9pbjtcbiAgX291dCAtPSBzdHJtLmF2YWlsX291dDtcbiAgc3RybS50b3RhbF9pbiArPSBfaW47XG4gIHN0cm0udG90YWxfb3V0ICs9IF9vdXQ7XG4gIHN0YXRlLnRvdGFsICs9IF9vdXQ7XG4gIGlmIChzdGF0ZS53cmFwICYmIF9vdXQpIHtcbiAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAvKlVQREFURShzdGF0ZS5jaGVjaywgc3RybS5uZXh0X291dCAtIF9vdXQsIF9vdXQpOyovXG4gICAgICAoc3RhdGUuZmxhZ3MgPyBjcmMzMihzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBzdHJtLm5leHRfb3V0IC0gX291dCkgOiBhZGxlcjMyKHN0YXRlLmNoZWNrLCBvdXRwdXQsIF9vdXQsIHN0cm0ubmV4dF9vdXQgLSBfb3V0KSk7XG4gIH1cbiAgc3RybS5kYXRhX3R5cGUgPSBzdGF0ZS5iaXRzICsgKHN0YXRlLmxhc3QgPyA2NCA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgKHN0YXRlLm1vZGUgPT09IFRZUEUgPyAxMjggOiAwKSArXG4gICAgICAgICAgICAgICAgICAgIChzdGF0ZS5tb2RlID09PSBMRU5fIHx8IHN0YXRlLm1vZGUgPT09IENPUFlfID8gMjU2IDogMCk7XG4gIGlmICgoKF9pbiA9PT0gMCAmJiBfb3V0ID09PSAwKSB8fCBmbHVzaCA9PT0gWl9GSU5JU0gpICYmIHJldCA9PT0gWl9PSykge1xuICAgIHJldCA9IFpfQlVGX0VSUk9SO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGVFbmQoc3RybSkge1xuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSAvKnx8IHN0cm0tPnpmcmVlID09IChmcmVlX2Z1bmMpMCovKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG5cbiAgdmFyIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKHN0YXRlLndpbmRvdykge1xuICAgIHN0YXRlLndpbmRvdyA9IG51bGw7XG4gIH1cbiAgc3RybS5zdGF0ZSA9IG51bGw7XG4gIHJldHVybiBaX09LO1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlR2V0SGVhZGVyKHN0cm0sIGhlYWQpIHtcbiAgdmFyIHN0YXRlO1xuXG4gIC8qIGNoZWNrIHN0YXRlICovXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBpZiAoKHN0YXRlLndyYXAgJiAyKSA9PT0gMCkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cblxuICAvKiBzYXZlIGhlYWRlciBzdHJ1Y3R1cmUgKi9cbiAgc3RhdGUuaGVhZCA9IGhlYWQ7XG4gIGhlYWQuZG9uZSA9IGZhbHNlO1xuICByZXR1cm4gWl9PSztcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZVNldERpY3Rpb25hcnkoc3RybSwgZGljdGlvbmFyeSkge1xuICB2YXIgZGljdExlbmd0aCA9IGRpY3Rpb25hcnkubGVuZ3RoO1xuXG4gIHZhciBzdGF0ZTtcbiAgdmFyIGRpY3RpZDtcbiAgdmFyIHJldDtcblxuICAvKiBjaGVjayBzdGF0ZSAqL1xuICBpZiAoIXN0cm0gLyogPT0gWl9OVUxMICovIHx8ICFzdHJtLnN0YXRlIC8qID09IFpfTlVMTCAqLykgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuXG4gIGlmIChzdGF0ZS53cmFwICE9PSAwICYmIHN0YXRlLm1vZGUgIT09IERJQ1QpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cblxuICAvKiBjaGVjayBmb3IgY29ycmVjdCBkaWN0aW9uYXJ5IGlkZW50aWZpZXIgKi9cbiAgaWYgKHN0YXRlLm1vZGUgPT09IERJQ1QpIHtcbiAgICBkaWN0aWQgPSAxOyAvKiBhZGxlcjMyKDAsIG51bGwsIDApKi9cbiAgICAvKiBkaWN0aWQgPSBhZGxlcjMyKGRpY3RpZCwgZGljdGlvbmFyeSwgZGljdExlbmd0aCk7ICovXG4gICAgZGljdGlkID0gYWRsZXIzMihkaWN0aWQsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIDApO1xuICAgIGlmIChkaWN0aWQgIT09IHN0YXRlLmNoZWNrKSB7XG4gICAgICByZXR1cm4gWl9EQVRBX0VSUk9SO1xuICAgIH1cbiAgfVxuICAvKiBjb3B5IGRpY3Rpb25hcnkgdG8gd2luZG93IHVzaW5nIHVwZGF0ZXdpbmRvdygpLCB3aGljaCB3aWxsIGFtZW5kIHRoZVxuICAgZXhpc3RpbmcgZGljdGlvbmFyeSBpZiBhcHByb3ByaWF0ZSAqL1xuICByZXQgPSB1cGRhdGV3aW5kb3coc3RybSwgZGljdGlvbmFyeSwgZGljdExlbmd0aCwgZGljdExlbmd0aCk7XG4gIGlmIChyZXQpIHtcbiAgICBzdGF0ZS5tb2RlID0gTUVNO1xuICAgIHJldHVybiBaX01FTV9FUlJPUjtcbiAgfVxuICBzdGF0ZS5oYXZlZGljdCA9IDE7XG4gIC8vIFRyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgZGljdGlvbmFyeSBzZXRcXG5cIikpO1xuICByZXR1cm4gWl9PSztcbn1cblxuZXhwb3J0cy5pbmZsYXRlUmVzZXQgPSBpbmZsYXRlUmVzZXQ7XG5leHBvcnRzLmluZmxhdGVSZXNldDIgPSBpbmZsYXRlUmVzZXQyO1xuZXhwb3J0cy5pbmZsYXRlUmVzZXRLZWVwID0gaW5mbGF0ZVJlc2V0S2VlcDtcbmV4cG9ydHMuaW5mbGF0ZUluaXQgPSBpbmZsYXRlSW5pdDtcbmV4cG9ydHMuaW5mbGF0ZUluaXQyID0gaW5mbGF0ZUluaXQyO1xuZXhwb3J0cy5pbmZsYXRlID0gaW5mbGF0ZTtcbmV4cG9ydHMuaW5mbGF0ZUVuZCA9IGluZmxhdGVFbmQ7XG5leHBvcnRzLmluZmxhdGVHZXRIZWFkZXIgPSBpbmZsYXRlR2V0SGVhZGVyO1xuZXhwb3J0cy5pbmZsYXRlU2V0RGljdGlvbmFyeSA9IGluZmxhdGVTZXREaWN0aW9uYXJ5O1xuZXhwb3J0cy5pbmZsYXRlSW5mbyA9ICdwYWtvIGluZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpJztcblxuLyogTm90IGltcGxlbWVudGVkXG5leHBvcnRzLmluZmxhdGVDb3B5ID0gaW5mbGF0ZUNvcHk7XG5leHBvcnRzLmluZmxhdGVHZXREaWN0aW9uYXJ5ID0gaW5mbGF0ZUdldERpY3Rpb25hcnk7XG5leHBvcnRzLmluZmxhdGVNYXJrID0gaW5mbGF0ZU1hcms7XG5leHBvcnRzLmluZmxhdGVQcmltZSA9IGluZmxhdGVQcmltZTtcbmV4cG9ydHMuaW5mbGF0ZVN5bmMgPSBpbmZsYXRlU3luYztcbmV4cG9ydHMuaW5mbGF0ZVN5bmNQb2ludCA9IGluZmxhdGVTeW5jUG9pbnQ7XG5leHBvcnRzLmluZmxhdGVVbmRlcm1pbmUgPSBpbmZsYXRlVW5kZXJtaW5lO1xuKi9cbiIsICIndXNlIHN0cmljdCc7XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cbiAgLyogQWxsb3dlZCBmbHVzaCB2YWx1ZXM7IHNlZSBkZWZsYXRlKCkgYW5kIGluZmxhdGUoKSBiZWxvdyBmb3IgZGV0YWlscyAqL1xuICBaX05PX0ZMVVNIOiAgICAgICAgIDAsXG4gIFpfUEFSVElBTF9GTFVTSDogICAgMSxcbiAgWl9TWU5DX0ZMVVNIOiAgICAgICAyLFxuICBaX0ZVTExfRkxVU0g6ICAgICAgIDMsXG4gIFpfRklOSVNIOiAgICAgICAgICAgNCxcbiAgWl9CTE9DSzogICAgICAgICAgICA1LFxuICBaX1RSRUVTOiAgICAgICAgICAgIDYsXG5cbiAgLyogUmV0dXJuIGNvZGVzIGZvciB0aGUgY29tcHJlc3Npb24vZGVjb21wcmVzc2lvbiBmdW5jdGlvbnMuIE5lZ2F0aXZlIHZhbHVlc1xuICAqIGFyZSBlcnJvcnMsIHBvc2l0aXZlIHZhbHVlcyBhcmUgdXNlZCBmb3Igc3BlY2lhbCBidXQgbm9ybWFsIGV2ZW50cy5cbiAgKi9cbiAgWl9PSzogICAgICAgICAgICAgICAwLFxuICBaX1NUUkVBTV9FTkQ6ICAgICAgIDEsXG4gIFpfTkVFRF9ESUNUOiAgICAgICAgMixcbiAgWl9FUlJOTzogICAgICAgICAgIC0xLFxuICBaX1NUUkVBTV9FUlJPUjogICAgLTIsXG4gIFpfREFUQV9FUlJPUjogICAgICAtMyxcbiAgLy9aX01FTV9FUlJPUjogICAgIC00LFxuICBaX0JVRl9FUlJPUjogICAgICAgLTUsXG4gIC8vWl9WRVJTSU9OX0VSUk9SOiAtNixcblxuICAvKiBjb21wcmVzc2lvbiBsZXZlbHMgKi9cbiAgWl9OT19DT01QUkVTU0lPTjogICAgICAgICAwLFxuICBaX0JFU1RfU1BFRUQ6ICAgICAgICAgICAgIDEsXG4gIFpfQkVTVF9DT01QUkVTU0lPTjogICAgICAgOSxcbiAgWl9ERUZBVUxUX0NPTVBSRVNTSU9OOiAgIC0xLFxuXG5cbiAgWl9GSUxURVJFRDogICAgICAgICAgICAgICAxLFxuICBaX0hVRkZNQU5fT05MWTogICAgICAgICAgIDIsXG4gIFpfUkxFOiAgICAgICAgICAgICAgICAgICAgMyxcbiAgWl9GSVhFRDogICAgICAgICAgICAgICAgICA0LFxuICBaX0RFRkFVTFRfU1RSQVRFR1k6ICAgICAgIDAsXG5cbiAgLyogUG9zc2libGUgdmFsdWVzIG9mIHRoZSBkYXRhX3R5cGUgZmllbGQgKHRob3VnaCBzZWUgaW5mbGF0ZSgpKSAqL1xuICBaX0JJTkFSWTogICAgICAgICAgICAgICAgIDAsXG4gIFpfVEVYVDogICAgICAgICAgICAgICAgICAgMSxcbiAgLy9aX0FTQ0lJOiAgICAgICAgICAgICAgICAxLCAvLyA9IFpfVEVYVCAoZGVwcmVjYXRlZClcbiAgWl9VTktOT1dOOiAgICAgICAgICAgICAgICAyLFxuXG4gIC8qIFRoZSBkZWZsYXRlIGNvbXByZXNzaW9uIG1ldGhvZCAqL1xuICBaX0RFRkxBVEVEOiAgICAgICAgICAgICAgIDhcbiAgLy9aX05VTEw6ICAgICAgICAgICAgICAgICBudWxsIC8vIFVzZSAtMSBvciBudWxsIGlubGluZSwgZGVwZW5kaW5nIG9uIHZhciB0eXBlXG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG5mdW5jdGlvbiBHWmhlYWRlcigpIHtcbiAgLyogdHJ1ZSBpZiBjb21wcmVzc2VkIGRhdGEgYmVsaWV2ZWQgdG8gYmUgdGV4dCAqL1xuICB0aGlzLnRleHQgICAgICAgPSAwO1xuICAvKiBtb2RpZmljYXRpb24gdGltZSAqL1xuICB0aGlzLnRpbWUgICAgICAgPSAwO1xuICAvKiBleHRyYSBmbGFncyAobm90IHVzZWQgd2hlbiB3cml0aW5nIGEgZ3ppcCBmaWxlKSAqL1xuICB0aGlzLnhmbGFncyAgICAgPSAwO1xuICAvKiBvcGVyYXRpbmcgc3lzdGVtICovXG4gIHRoaXMub3MgICAgICAgICA9IDA7XG4gIC8qIHBvaW50ZXIgdG8gZXh0cmEgZmllbGQgb3IgWl9OVUxMIGlmIG5vbmUgKi9cbiAgdGhpcy5leHRyYSAgICAgID0gbnVsbDtcbiAgLyogZXh0cmEgZmllbGQgbGVuZ3RoICh2YWxpZCBpZiBleHRyYSAhPSBaX05VTEwpICovXG4gIHRoaXMuZXh0cmFfbGVuICA9IDA7IC8vIEFjdHVhbGx5LCB3ZSBkb24ndCBuZWVkIGl0IGluIEpTLFxuICAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgbGVhdmUgZm9yIGZldyBjb2RlIG1vZGlmaWNhdGlvbnNcblxuICAvL1xuICAvLyBTZXR1cCBsaW1pdHMgaXMgbm90IG5lY2Vzc2FyeSBiZWNhdXNlIGluIGpzIHdlIHNob3VsZCBub3QgcHJlYWxsb2NhdGUgbWVtb3J5XG4gIC8vIGZvciBpbmZsYXRlIHVzZSBjb25zdGFudCBsaW1pdCBpbiA2NTUzNiBieXRlc1xuICAvL1xuXG4gIC8qIHNwYWNlIGF0IGV4dHJhIChvbmx5IHdoZW4gcmVhZGluZyBoZWFkZXIpICovXG4gIC8vIHRoaXMuZXh0cmFfbWF4ICA9IDA7XG4gIC8qIHBvaW50ZXIgdG8gemVyby10ZXJtaW5hdGVkIGZpbGUgbmFtZSBvciBaX05VTEwgKi9cbiAgdGhpcy5uYW1lICAgICAgID0gJyc7XG4gIC8qIHNwYWNlIGF0IG5hbWUgKG9ubHkgd2hlbiByZWFkaW5nIGhlYWRlcikgKi9cbiAgLy8gdGhpcy5uYW1lX21heCAgID0gMDtcbiAgLyogcG9pbnRlciB0byB6ZXJvLXRlcm1pbmF0ZWQgY29tbWVudCBvciBaX05VTEwgKi9cbiAgdGhpcy5jb21tZW50ICAgID0gJyc7XG4gIC8qIHNwYWNlIGF0IGNvbW1lbnQgKG9ubHkgd2hlbiByZWFkaW5nIGhlYWRlcikgKi9cbiAgLy8gdGhpcy5jb21tX21heCAgID0gMDtcbiAgLyogdHJ1ZSBpZiB0aGVyZSB3YXMgb3Igd2lsbCBiZSBhIGhlYWRlciBjcmMgKi9cbiAgdGhpcy5oY3JjICAgICAgID0gMDtcbiAgLyogdHJ1ZSB3aGVuIGRvbmUgcmVhZGluZyBnemlwIGhlYWRlciAobm90IHVzZWQgd2hlbiB3cml0aW5nIGEgZ3ppcCBmaWxlKSAqL1xuICB0aGlzLmRvbmUgICAgICAgPSBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBHWmhlYWRlcjtcbiIsICIndXNlIHN0cmljdCc7XG5cblxudmFyIHpsaWJfaW5mbGF0ZSA9IHJlcXVpcmUoJy4vemxpYi9pbmZsYXRlJyk7XG52YXIgdXRpbHMgICAgICAgID0gcmVxdWlyZSgnLi91dGlscy9jb21tb24nKTtcbnZhciBzdHJpbmdzICAgICAgPSByZXF1aXJlKCcuL3V0aWxzL3N0cmluZ3MnKTtcbnZhciBjICAgICAgICAgICAgPSByZXF1aXJlKCcuL3psaWIvY29uc3RhbnRzJyk7XG52YXIgbXNnICAgICAgICAgID0gcmVxdWlyZSgnLi96bGliL21lc3NhZ2VzJyk7XG52YXIgWlN0cmVhbSAgICAgID0gcmVxdWlyZSgnLi96bGliL3pzdHJlYW0nKTtcbnZhciBHWmhlYWRlciAgICAgPSByZXF1aXJlKCcuL3psaWIvZ3poZWFkZXInKTtcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBjbGFzcyBJbmZsYXRlXG4gKlxuICogR2VuZXJpYyBKUy1zdHlsZSB3cmFwcGVyIGZvciB6bGliIGNhbGxzLiBJZiB5b3UgZG9uJ3QgbmVlZFxuICogc3RyZWFtaW5nIGJlaGF2aW91ciAtIHVzZSBtb3JlIHNpbXBsZSBmdW5jdGlvbnM6IFtbaW5mbGF0ZV1dXG4gKiBhbmQgW1tpbmZsYXRlUmF3XV0uXG4gKiovXG5cbi8qIGludGVybmFsXG4gKiBpbmZsYXRlLmNodW5rcyAtPiBBcnJheVxuICpcbiAqIENodW5rcyBvZiBvdXRwdXQgZGF0YSwgaWYgW1tJbmZsYXRlI29uRGF0YV1dIG5vdCBvdmVycmlkZGVuLlxuICoqL1xuXG4vKipcbiAqIEluZmxhdGUucmVzdWx0IC0+IFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nXG4gKlxuICogVW5jb21wcmVzc2VkIHJlc3VsdCwgZ2VuZXJhdGVkIGJ5IGRlZmF1bHQgW1tJbmZsYXRlI29uRGF0YV1dXG4gKiBhbmQgW1tJbmZsYXRlI29uRW5kXV0gaGFuZGxlcnMuIEZpbGxlZCBhZnRlciB5b3UgcHVzaCBsYXN0IGNodW5rXG4gKiAoY2FsbCBbW0luZmxhdGUjcHVzaF1dIHdpdGggYFpfRklOSVNIYCAvIGB0cnVlYCBwYXJhbSkgb3IgaWYgeW91XG4gKiBwdXNoIGEgY2h1bmsgd2l0aCBleHBsaWNpdCBmbHVzaCAoY2FsbCBbW0luZmxhdGUjcHVzaF1dIHdpdGhcbiAqIGBaX1NZTkNfRkxVU0hgIHBhcmFtKS5cbiAqKi9cblxuLyoqXG4gKiBJbmZsYXRlLmVyciAtPiBOdW1iZXJcbiAqXG4gKiBFcnJvciBjb2RlIGFmdGVyIGluZmxhdGUgZmluaXNoZWQuIDAgKFpfT0spIG9uIHN1Y2Nlc3MuXG4gKiBTaG91bGQgYmUgY2hlY2tlZCBpZiBicm9rZW4gZGF0YSBwb3NzaWJsZS5cbiAqKi9cblxuLyoqXG4gKiBJbmZsYXRlLm1zZyAtPiBTdHJpbmdcbiAqXG4gKiBFcnJvciBtZXNzYWdlLCBpZiBbW0luZmxhdGUuZXJyXV0gIT0gMFxuICoqL1xuXG5cbi8qKlxuICogbmV3IEluZmxhdGUob3B0aW9ucylcbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBpbmZsYXRlIG9wdGlvbnMuXG4gKlxuICogQ3JlYXRlcyBuZXcgaW5mbGF0b3IgaW5zdGFuY2Ugd2l0aCBzcGVjaWZpZWQgcGFyYW1zLiBUaHJvd3MgZXhjZXB0aW9uXG4gKiBvbiBiYWQgcGFyYW1zLiBTdXBwb3J0ZWQgb3B0aW9uczpcbiAqXG4gKiAtIGB3aW5kb3dCaXRzYFxuICogLSBgZGljdGlvbmFyeWBcbiAqXG4gKiBbaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkXShodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWQpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiB0aGVzZS5cbiAqXG4gKiBBZGRpdGlvbmFsIG9wdGlvbnMsIGZvciBpbnRlcm5hbCBuZWVkczpcbiAqXG4gKiAtIGBjaHVua1NpemVgIC0gc2l6ZSBvZiBnZW5lcmF0ZWQgZGF0YSBjaHVua3MgKDE2SyBieSBkZWZhdWx0KVxuICogLSBgcmF3YCAoQm9vbGVhbikgLSBkbyByYXcgaW5mbGF0ZVxuICogLSBgdG9gIChTdHJpbmcpIC0gaWYgZXF1YWwgdG8gJ3N0cmluZycsIHRoZW4gcmVzdWx0IHdpbGwgYmUgY29udmVydGVkXG4gKiAgIGZyb20gdXRmOCB0byB1dGYxNiAoamF2YXNjcmlwdCkgc3RyaW5nLiBXaGVuIHN0cmluZyBvdXRwdXQgcmVxdWVzdGVkLFxuICogICBjaHVuayBsZW5ndGggY2FuIGRpZmZlciBmcm9tIGBjaHVua1NpemVgLCBkZXBlbmRpbmcgb24gY29udGVudC5cbiAqXG4gKiBCeSBkZWZhdWx0LCB3aGVuIG5vIG9wdGlvbnMgc2V0LCBhdXRvZGV0ZWN0IGRlZmxhdGUvZ3ppcCBkYXRhIGZvcm1hdCB2aWFcbiAqIHdyYXBwZXIgaGVhZGVyLlxuICpcbiAqICMjIyMjIEV4YW1wbGU6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogdmFyIHBha28gPSByZXF1aXJlKCdwYWtvJylcbiAqICAgLCBjaHVuazEgPSBVaW50OEFycmF5KFsxLDIsMyw0LDUsNiw3LDgsOV0pXG4gKiAgICwgY2h1bmsyID0gVWludDhBcnJheShbMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTldKTtcbiAqXG4gKiB2YXIgaW5mbGF0ZSA9IG5ldyBwYWtvLkluZmxhdGUoeyBsZXZlbDogM30pO1xuICpcbiAqIGluZmxhdGUucHVzaChjaHVuazEsIGZhbHNlKTtcbiAqIGluZmxhdGUucHVzaChjaHVuazIsIHRydWUpOyAgLy8gdHJ1ZSAtPiBsYXN0IGNodW5rXG4gKlxuICogaWYgKGluZmxhdGUuZXJyKSB7IHRocm93IG5ldyBFcnJvcihpbmZsYXRlLmVycik7IH1cbiAqXG4gKiBjb25zb2xlLmxvZyhpbmZsYXRlLnJlc3VsdCk7XG4gKiBgYGBcbiAqKi9cbmZ1bmN0aW9uIEluZmxhdGUob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSW5mbGF0ZSkpIHJldHVybiBuZXcgSW5mbGF0ZShvcHRpb25zKTtcblxuICB0aGlzLm9wdGlvbnMgPSB1dGlscy5hc3NpZ24oe1xuICAgIGNodW5rU2l6ZTogMTYzODQsXG4gICAgd2luZG93Qml0czogMCxcbiAgICB0bzogJydcbiAgfSwgb3B0aW9ucyB8fCB7fSk7XG5cbiAgdmFyIG9wdCA9IHRoaXMub3B0aW9ucztcblxuICAvLyBGb3JjZSB3aW5kb3cgc2l6ZSBmb3IgYHJhd2AgZGF0YSwgaWYgbm90IHNldCBkaXJlY3RseSxcbiAgLy8gYmVjYXVzZSB3ZSBoYXZlIG5vIGhlYWRlciBmb3IgYXV0b2RldGVjdC5cbiAgaWYgKG9wdC5yYXcgJiYgKG9wdC53aW5kb3dCaXRzID49IDApICYmIChvcHQud2luZG93Qml0cyA8IDE2KSkge1xuICAgIG9wdC53aW5kb3dCaXRzID0gLW9wdC53aW5kb3dCaXRzO1xuICAgIGlmIChvcHQud2luZG93Qml0cyA9PT0gMCkgeyBvcHQud2luZG93Qml0cyA9IC0xNTsgfVxuICB9XG5cbiAgLy8gSWYgYHdpbmRvd0JpdHNgIG5vdCBkZWZpbmVkIChhbmQgbW9kZSBub3QgcmF3KSAtIHNldCBhdXRvZGV0ZWN0IGZsYWcgZm9yIGd6aXAvZGVmbGF0ZVxuICBpZiAoKG9wdC53aW5kb3dCaXRzID49IDApICYmIChvcHQud2luZG93Qml0cyA8IDE2KSAmJlxuICAgICAgIShvcHRpb25zICYmIG9wdGlvbnMud2luZG93Qml0cykpIHtcbiAgICBvcHQud2luZG93Qml0cyArPSAzMjtcbiAgfVxuXG4gIC8vIEd6aXAgaGVhZGVyIGhhcyBubyBpbmZvIGFib3V0IHdpbmRvd3Mgc2l6ZSwgd2UgY2FuIGRvIGF1dG9kZXRlY3Qgb25seVxuICAvLyBmb3IgZGVmbGF0ZS4gU28sIGlmIHdpbmRvdyBzaXplIG5vdCBzZXQsIGZvcmNlIGl0IHRvIG1heCB3aGVuIGd6aXAgcG9zc2libGVcbiAgaWYgKChvcHQud2luZG93Qml0cyA+IDE1KSAmJiAob3B0LndpbmRvd0JpdHMgPCA0OCkpIHtcbiAgICAvLyBiaXQgMyAoMTYpIC0+IGd6aXBwZWQgZGF0YVxuICAgIC8vIGJpdCA0ICgzMikgLT4gYXV0b2RldGVjdCBnemlwL2RlZmxhdGVcbiAgICBpZiAoKG9wdC53aW5kb3dCaXRzICYgMTUpID09PSAwKSB7XG4gICAgICBvcHQud2luZG93Qml0cyB8PSAxNTtcbiAgICB9XG4gIH1cblxuICB0aGlzLmVyciAgICA9IDA7ICAgICAgLy8gZXJyb3IgY29kZSwgaWYgaGFwcGVucyAoMCA9IFpfT0spXG4gIHRoaXMubXNnICAgID0gJyc7ICAgICAvLyBlcnJvciBtZXNzYWdlXG4gIHRoaXMuZW5kZWQgID0gZmFsc2U7ICAvLyB1c2VkIHRvIGF2b2lkIG11bHRpcGxlIG9uRW5kKCkgY2FsbHNcbiAgdGhpcy5jaHVua3MgPSBbXTsgICAgIC8vIGNodW5rcyBvZiBjb21wcmVzc2VkIGRhdGFcblxuICB0aGlzLnN0cm0gICA9IG5ldyBaU3RyZWFtKCk7XG4gIHRoaXMuc3RybS5hdmFpbF9vdXQgPSAwO1xuXG4gIHZhciBzdGF0dXMgID0gemxpYl9pbmZsYXRlLmluZmxhdGVJbml0MihcbiAgICB0aGlzLnN0cm0sXG4gICAgb3B0LndpbmRvd0JpdHNcbiAgKTtcblxuICBpZiAoc3RhdHVzICE9PSBjLlpfT0spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobXNnW3N0YXR1c10pO1xuICB9XG5cbiAgdGhpcy5oZWFkZXIgPSBuZXcgR1poZWFkZXIoKTtcblxuICB6bGliX2luZmxhdGUuaW5mbGF0ZUdldEhlYWRlcih0aGlzLnN0cm0sIHRoaXMuaGVhZGVyKTtcblxuICAvLyBTZXR1cCBkaWN0aW9uYXJ5XG4gIGlmIChvcHQuZGljdGlvbmFyeSkge1xuICAgIC8vIENvbnZlcnQgZGF0YSBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIG9wdC5kaWN0aW9uYXJ5ID09PSAnc3RyaW5nJykge1xuICAgICAgb3B0LmRpY3Rpb25hcnkgPSBzdHJpbmdzLnN0cmluZzJidWYob3B0LmRpY3Rpb25hcnkpO1xuICAgIH0gZWxzZSBpZiAodG9TdHJpbmcuY2FsbChvcHQuZGljdGlvbmFyeSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcbiAgICAgIG9wdC5kaWN0aW9uYXJ5ID0gbmV3IFVpbnQ4QXJyYXkob3B0LmRpY3Rpb25hcnkpO1xuICAgIH1cbiAgICBpZiAob3B0LnJhdykgeyAvL0luIHJhdyBtb2RlIHdlIG5lZWQgdG8gc2V0IHRoZSBkaWN0aW9uYXJ5IGVhcmx5XG4gICAgICBzdGF0dXMgPSB6bGliX2luZmxhdGUuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLCBvcHQuZGljdGlvbmFyeSk7XG4gICAgICBpZiAoc3RhdHVzICE9PSBjLlpfT0spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZ1tzdGF0dXNdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbmZsYXRlI3B1c2goZGF0YVssIG1vZGVdKSAtPiBCb29sZWFuXG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXl8QXJyYXlCdWZmZXJ8U3RyaW5nKTogaW5wdXQgZGF0YVxuICogLSBtb2RlIChOdW1iZXJ8Qm9vbGVhbik6IDAuLjYgZm9yIGNvcnJlc3BvbmRpbmcgWl9OT19GTFVTSC4uWl9UUkVFIG1vZGVzLlxuICogICBTZWUgY29uc3RhbnRzLiBTa2lwcGVkIG9yIGBmYWxzZWAgbWVhbnMgWl9OT19GTFVTSCwgYHRydWVgIG1lYW5zIFpfRklOSVNILlxuICpcbiAqIFNlbmRzIGlucHV0IGRhdGEgdG8gaW5mbGF0ZSBwaXBlLCBnZW5lcmF0aW5nIFtbSW5mbGF0ZSNvbkRhdGFdXSBjYWxscyB3aXRoXG4gKiBuZXcgb3V0cHV0IGNodW5rcy4gUmV0dXJucyBgdHJ1ZWAgb24gc3VjY2Vzcy4gVGhlIGxhc3QgZGF0YSBibG9jayBtdXN0IGhhdmVcbiAqIG1vZGUgWl9GSU5JU0ggKG9yIGB0cnVlYCkuIFRoYXQgd2lsbCBmbHVzaCBpbnRlcm5hbCBwZW5kaW5nIGJ1ZmZlcnMgYW5kIGNhbGxcbiAqIFtbSW5mbGF0ZSNvbkVuZF1dLiBGb3IgaW50ZXJpbSBleHBsaWNpdCBmbHVzaGVzICh3aXRob3V0IGVuZGluZyB0aGUgc3RyZWFtKSB5b3VcbiAqIGNhbiB1c2UgbW9kZSBaX1NZTkNfRkxVU0gsIGtlZXBpbmcgdGhlIGRlY29tcHJlc3Npb24gY29udGV4dC5cbiAqXG4gKiBPbiBmYWlsIGNhbGwgW1tJbmZsYXRlI29uRW5kXV0gd2l0aCBlcnJvciBjb2RlIGFuZCByZXR1cm4gZmFsc2UuXG4gKlxuICogV2Ugc3Ryb25nbHkgcmVjb21tZW5kIHRvIHVzZSBgVWludDhBcnJheWAgb24gaW5wdXQgZm9yIGJlc3Qgc3BlZWQgKG91dHB1dFxuICogZm9ybWF0IGlzIGRldGVjdGVkIGF1dG9tYXRpY2FsbHkpLiBBbHNvLCBkb24ndCBza2lwIGxhc3QgcGFyYW0gYW5kIGFsd2F5c1xuICogdXNlIHRoZSBzYW1lIHR5cGUgaW4geW91ciBjb2RlIChib29sZWFuIG9yIG51bWJlcikuIFRoYXQgd2lsbCBpbXByb3ZlIEpTIHNwZWVkLlxuICpcbiAqIEZvciByZWd1bGFyIGBBcnJheWAtcyBtYWtlIHN1cmUgYWxsIGVsZW1lbnRzIGFyZSBbMC4uMjU1XS5cbiAqXG4gKiAjIyMjIyBFeGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogcHVzaChjaHVuaywgZmFsc2UpOyAvLyBwdXNoIG9uZSBvZiBkYXRhIGNodW5rc1xuICogLi4uXG4gKiBwdXNoKGNodW5rLCB0cnVlKTsgIC8vIHB1c2ggbGFzdCBjaHVua1xuICogYGBgXG4gKiovXG5JbmZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGRhdGEsIG1vZGUpIHtcbiAgdmFyIHN0cm0gPSB0aGlzLnN0cm07XG4gIHZhciBjaHVua1NpemUgPSB0aGlzLm9wdGlvbnMuY2h1bmtTaXplO1xuICB2YXIgZGljdGlvbmFyeSA9IHRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5O1xuICB2YXIgc3RhdHVzLCBfbW9kZTtcbiAgdmFyIG5leHRfb3V0X3V0ZjgsIHRhaWwsIHV0ZjhzdHI7XG5cbiAgLy8gRmxhZyB0byBwcm9wZXJseSBwcm9jZXNzIFpfQlVGX0VSUk9SIG9uIHRlc3RpbmcgaW5mbGF0ZSBjYWxsXG4gIC8vIHdoZW4gd2UgY2hlY2sgdGhhdCBhbGwgb3V0cHV0IGRhdGEgd2FzIGZsdXNoZWQuXG4gIHZhciBhbGxvd0J1ZkVycm9yID0gZmFsc2U7XG5cbiAgaWYgKHRoaXMuZW5kZWQpIHsgcmV0dXJuIGZhbHNlOyB9XG4gIF9tb2RlID0gKG1vZGUgPT09IH5+bW9kZSkgPyBtb2RlIDogKChtb2RlID09PSB0cnVlKSA/IGMuWl9GSU5JU0ggOiBjLlpfTk9fRkxVU0gpO1xuXG4gIC8vIENvbnZlcnQgZGF0YSBpZiBuZWVkZWRcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIC8vIE9ubHkgYmluYXJ5IHN0cmluZ3MgY2FuIGJlIGRlY29tcHJlc3NlZCBvbiBwcmFjdGljZVxuICAgIHN0cm0uaW5wdXQgPSBzdHJpbmdzLmJpbnN0cmluZzJidWYoZGF0YSk7XG4gIH0gZWxzZSBpZiAodG9TdHJpbmcuY2FsbChkYXRhKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuICAgIHN0cm0uaW5wdXQgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHJtLmlucHV0ID0gZGF0YTtcbiAgfVxuXG4gIHN0cm0ubmV4dF9pbiA9IDA7XG4gIHN0cm0uYXZhaWxfaW4gPSBzdHJtLmlucHV0Lmxlbmd0aDtcblxuICBkbyB7XG4gICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICBzdHJtLm91dHB1dCA9IG5ldyB1dGlscy5CdWY4KGNodW5rU2l6ZSk7XG4gICAgICBzdHJtLm5leHRfb3V0ID0gMDtcbiAgICAgIHN0cm0uYXZhaWxfb3V0ID0gY2h1bmtTaXplO1xuICAgIH1cblxuICAgIHN0YXR1cyA9IHpsaWJfaW5mbGF0ZS5pbmZsYXRlKHN0cm0sIGMuWl9OT19GTFVTSCk7ICAgIC8qIG5vIGJhZCByZXR1cm4gdmFsdWUgKi9cblxuICAgIGlmIChzdGF0dXMgPT09IGMuWl9ORUVEX0RJQ1QgJiYgZGljdGlvbmFyeSkge1xuICAgICAgc3RhdHVzID0gemxpYl9pbmZsYXRlLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSwgZGljdGlvbmFyeSk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA9PT0gYy5aX0JVRl9FUlJPUiAmJiBhbGxvd0J1ZkVycm9yID09PSB0cnVlKSB7XG4gICAgICBzdGF0dXMgPSBjLlpfT0s7XG4gICAgICBhbGxvd0J1ZkVycm9yID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyAhPT0gYy5aX1NUUkVBTV9FTkQgJiYgc3RhdHVzICE9PSBjLlpfT0spIHtcbiAgICAgIHRoaXMub25FbmQoc3RhdHVzKTtcbiAgICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzdHJtLm5leHRfb3V0KSB7XG4gICAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDAgfHwgc3RhdHVzID09PSBjLlpfU1RSRUFNX0VORCB8fCAoc3RybS5hdmFpbF9pbiA9PT0gMCAmJiAoX21vZGUgPT09IGMuWl9GSU5JU0ggfHwgX21vZGUgPT09IGMuWl9TWU5DX0ZMVVNIKSkpIHtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRvID09PSAnc3RyaW5nJykge1xuXG4gICAgICAgICAgbmV4dF9vdXRfdXRmOCA9IHN0cmluZ3MudXRmOGJvcmRlcihzdHJtLm91dHB1dCwgc3RybS5uZXh0X291dCk7XG5cbiAgICAgICAgICB0YWlsID0gc3RybS5uZXh0X291dCAtIG5leHRfb3V0X3V0Zjg7XG4gICAgICAgICAgdXRmOHN0ciA9IHN0cmluZ3MuYnVmMnN0cmluZyhzdHJtLm91dHB1dCwgbmV4dF9vdXRfdXRmOCk7XG5cbiAgICAgICAgICAvLyBtb3ZlIHRhaWxcbiAgICAgICAgICBzdHJtLm5leHRfb3V0ID0gdGFpbDtcbiAgICAgICAgICBzdHJtLmF2YWlsX291dCA9IGNodW5rU2l6ZSAtIHRhaWw7XG4gICAgICAgICAgaWYgKHRhaWwpIHsgdXRpbHMuYXJyYXlTZXQoc3RybS5vdXRwdXQsIHN0cm0ub3V0cHV0LCBuZXh0X291dF91dGY4LCB0YWlsLCAwKTsgfVxuXG4gICAgICAgICAgdGhpcy5vbkRhdGEodXRmOHN0cik7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9uRGF0YSh1dGlscy5zaHJpbmtCdWYoc3RybS5vdXRwdXQsIHN0cm0ubmV4dF9vdXQpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdoZW4gbm8gbW9yZSBpbnB1dCBkYXRhLCB3ZSBzaG91bGQgY2hlY2sgdGhhdCBpbnRlcm5hbCBpbmZsYXRlIGJ1ZmZlcnNcbiAgICAvLyBhcmUgZmx1c2hlZC4gVGhlIG9ubHkgd2F5IHRvIGRvIGl0IHdoZW4gYXZhaWxfb3V0ID0gMCAtIHJ1biBvbmUgbW9yZVxuICAgIC8vIGluZmxhdGUgcGFzcy4gQnV0IGlmIG91dHB1dCBkYXRhIG5vdCBleGlzdHMsIGluZmxhdGUgcmV0dXJuIFpfQlVGX0VSUk9SLlxuICAgIC8vIEhlcmUgd2Ugc2V0IGZsYWcgdG8gcHJvY2VzcyB0aGlzIGVycm9yIHByb3Blcmx5LlxuICAgIC8vXG4gICAgLy8gTk9URS4gRGVmbGF0ZSBkb2VzIG5vdCByZXR1cm4gZXJyb3IgaW4gdGhpcyBjYXNlIGFuZCBkb2VzIG5vdCBuZWVkcyBzdWNoXG4gICAgLy8gbG9naWMuXG4gICAgaWYgKHN0cm0uYXZhaWxfaW4gPT09IDAgJiYgc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIGFsbG93QnVmRXJyb3IgPSB0cnVlO1xuICAgIH1cblxuICB9IHdoaWxlICgoc3RybS5hdmFpbF9pbiA+IDAgfHwgc3RybS5hdmFpbF9vdXQgPT09IDApICYmIHN0YXR1cyAhPT0gYy5aX1NUUkVBTV9FTkQpO1xuXG4gIGlmIChzdGF0dXMgPT09IGMuWl9TVFJFQU1fRU5EKSB7XG4gICAgX21vZGUgPSBjLlpfRklOSVNIO1xuICB9XG5cbiAgLy8gRmluYWxpemUgb24gdGhlIGxhc3QgY2h1bmsuXG4gIGlmIChfbW9kZSA9PT0gYy5aX0ZJTklTSCkge1xuICAgIHN0YXR1cyA9IHpsaWJfaW5mbGF0ZS5pbmZsYXRlRW5kKHRoaXMuc3RybSk7XG4gICAgdGhpcy5vbkVuZChzdGF0dXMpO1xuICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuICAgIHJldHVybiBzdGF0dXMgPT09IGMuWl9PSztcbiAgfVxuXG4gIC8vIGNhbGxiYWNrIGludGVyaW0gcmVzdWx0cyBpZiBaX1NZTkNfRkxVU0guXG4gIGlmIChfbW9kZSA9PT0gYy5aX1NZTkNfRkxVU0gpIHtcbiAgICB0aGlzLm9uRW5kKGMuWl9PSyk7XG4gICAgc3RybS5hdmFpbF9vdXQgPSAwO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5cbi8qKlxuICogSW5mbGF0ZSNvbkRhdGEoY2h1bmspIC0+IFZvaWRcbiAqIC0gY2h1bmsgKFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nKTogb3V0cHV0IGRhdGEuIFR5cGUgb2YgYXJyYXkgZGVwZW5kc1xuICogICBvbiBqcyBlbmdpbmUgc3VwcG9ydC4gV2hlbiBzdHJpbmcgb3V0cHV0IHJlcXVlc3RlZCwgZWFjaCBjaHVua1xuICogICB3aWxsIGJlIHN0cmluZy5cbiAqXG4gKiBCeSBkZWZhdWx0LCBzdG9yZXMgZGF0YSBibG9ja3MgaW4gYGNodW5rc1tdYCBwcm9wZXJ0eSBhbmQgZ2x1ZVxuICogdGhvc2UgaW4gYG9uRW5kYC4gT3ZlcnJpZGUgdGhpcyBoYW5kbGVyLCBpZiB5b3UgbmVlZCBhbm90aGVyIGJlaGF2aW91ci5cbiAqKi9cbkluZmxhdGUucHJvdG90eXBlLm9uRGF0YSA9IGZ1bmN0aW9uIChjaHVuaykge1xuICB0aGlzLmNodW5rcy5wdXNoKGNodW5rKTtcbn07XG5cblxuLyoqXG4gKiBJbmZsYXRlI29uRW5kKHN0YXR1cykgLT4gVm9pZFxuICogLSBzdGF0dXMgKE51bWJlcik6IGluZmxhdGUgc3RhdHVzLiAwIChaX09LKSBvbiBzdWNjZXNzLFxuICogICBvdGhlciBpZiBub3QuXG4gKlxuICogQ2FsbGVkIGVpdGhlciBhZnRlciB5b3UgdGVsbCBpbmZsYXRlIHRoYXQgdGhlIGlucHV0IHN0cmVhbSBpc1xuICogY29tcGxldGUgKFpfRklOSVNIKSBvciBzaG91bGQgYmUgZmx1c2hlZCAoWl9TWU5DX0ZMVVNIKVxuICogb3IgaWYgYW4gZXJyb3IgaGFwcGVuZWQuIEJ5IGRlZmF1bHQgLSBqb2luIGNvbGxlY3RlZCBjaHVua3MsXG4gKiBmcmVlIG1lbW9yeSBhbmQgZmlsbCBgcmVzdWx0c2AgLyBgZXJyYCBwcm9wZXJ0aWVzLlxuICoqL1xuSW5mbGF0ZS5wcm90b3R5cGUub25FbmQgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gIC8vIE9uIHN1Y2Nlc3MgLSBqb2luXG4gIGlmIChzdGF0dXMgPT09IGMuWl9PSykge1xuICAgIGlmICh0aGlzLm9wdGlvbnMudG8gPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBHbHVlICYgY29udmVydCBoZXJlLCB1bnRpbCB3ZSB0ZWFjaCBwYWtvIHRvIHNlbmRcbiAgICAgIC8vIHV0ZjggYWxpZ25lZCBzdHJpbmdzIHRvIG9uRGF0YVxuICAgICAgdGhpcy5yZXN1bHQgPSB0aGlzLmNodW5rcy5qb2luKCcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXN1bHQgPSB1dGlscy5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKTtcbiAgICB9XG4gIH1cbiAgdGhpcy5jaHVua3MgPSBbXTtcbiAgdGhpcy5lcnIgPSBzdGF0dXM7XG4gIHRoaXMubXNnID0gdGhpcy5zdHJtLm1zZztcbn07XG5cblxuLyoqXG4gKiBpbmZsYXRlKGRhdGFbLCBvcHRpb25zXSkgLT4gVWludDhBcnJheXxBcnJheXxTdHJpbmdcbiAqIC0gZGF0YSAoVWludDhBcnJheXxBcnJheXxTdHJpbmcpOiBpbnB1dCBkYXRhIHRvIGRlY29tcHJlc3MuXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgaW5mbGF0ZSBvcHRpb25zLlxuICpcbiAqIERlY29tcHJlc3MgYGRhdGFgIHdpdGggaW5mbGF0ZS91bmd6aXAgYW5kIGBvcHRpb25zYC4gQXV0b2RldGVjdFxuICogZm9ybWF0IHZpYSB3cmFwcGVyIGhlYWRlciBieSBkZWZhdWx0LiBUaGF0J3Mgd2h5IHdlIGRvbid0IHByb3ZpZGVcbiAqIHNlcGFyYXRlIGB1bmd6aXBgIG1ldGhvZC5cbiAqXG4gKiBTdXBwb3J0ZWQgb3B0aW9ucyBhcmU6XG4gKlxuICogLSB3aW5kb3dCaXRzXG4gKlxuICogW2h0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZF0oaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkKVxuICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogU3VnYXIgKG9wdGlvbnMpOlxuICpcbiAqIC0gYHJhd2AgKEJvb2xlYW4pIC0gc2F5IHRoYXQgd2Ugd29yayB3aXRoIHJhdyBzdHJlYW0sIGlmIHlvdSBkb24ndCB3aXNoIHRvIHNwZWNpZnlcbiAqICAgbmVnYXRpdmUgd2luZG93Qml0cyBpbXBsaWNpdGx5LlxuICogLSBgdG9gIChTdHJpbmcpIC0gaWYgZXF1YWwgdG8gJ3N0cmluZycsIHRoZW4gcmVzdWx0IHdpbGwgYmUgY29udmVydGVkXG4gKiAgIGZyb20gdXRmOCB0byB1dGYxNiAoamF2YXNjcmlwdCkgc3RyaW5nLiBXaGVuIHN0cmluZyBvdXRwdXQgcmVxdWVzdGVkLFxuICogICBjaHVuayBsZW5ndGggY2FuIGRpZmZlciBmcm9tIGBjaHVua1NpemVgLCBkZXBlbmRpbmcgb24gY29udGVudC5cbiAqXG4gKlxuICogIyMjIyMgRXhhbXBsZTpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiB2YXIgcGFrbyA9IHJlcXVpcmUoJ3Bha28nKVxuICogICAsIGlucHV0ID0gcGFrby5kZWZsYXRlKFsxLDIsMyw0LDUsNiw3LDgsOV0pXG4gKiAgICwgb3V0cHV0O1xuICpcbiAqIHRyeSB7XG4gKiAgIG91dHB1dCA9IHBha28uaW5mbGF0ZShpbnB1dCk7XG4gKiB9IGNhdGNoIChlcnIpXG4gKiAgIGNvbnNvbGUubG9nKGVycik7XG4gKiB9XG4gKiBgYGBcbiAqKi9cbmZ1bmN0aW9uIGluZmxhdGUoaW5wdXQsIG9wdGlvbnMpIHtcbiAgdmFyIGluZmxhdG9yID0gbmV3IEluZmxhdGUob3B0aW9ucyk7XG5cbiAgaW5mbGF0b3IucHVzaChpbnB1dCwgdHJ1ZSk7XG5cbiAgLy8gVGhhdCB3aWxsIG5ldmVyIGhhcHBlbnMsIGlmIHlvdSBkb24ndCBjaGVhdCB3aXRoIG9wdGlvbnMgOilcbiAgaWYgKGluZmxhdG9yLmVycikgeyB0aHJvdyBpbmZsYXRvci5tc2cgfHwgbXNnW2luZmxhdG9yLmVycl07IH1cblxuICByZXR1cm4gaW5mbGF0b3IucmVzdWx0O1xufVxuXG5cbi8qKlxuICogaW5mbGF0ZVJhdyhkYXRhWywgb3B0aW9uc10pIC0+IFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nXG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nKTogaW5wdXQgZGF0YSB0byBkZWNvbXByZXNzLlxuICogLSBvcHRpb25zIChPYmplY3QpOiB6bGliIGluZmxhdGUgb3B0aW9ucy5cbiAqXG4gKiBUaGUgc2FtZSBhcyBbW2luZmxhdGVdXSwgYnV0IGNyZWF0ZXMgcmF3IGRhdGEsIHdpdGhvdXQgd3JhcHBlclxuICogKGhlYWRlciBhbmQgYWRsZXIzMiBjcmMpLlxuICoqL1xuZnVuY3Rpb24gaW5mbGF0ZVJhdyhpbnB1dCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5yYXcgPSB0cnVlO1xuICByZXR1cm4gaW5mbGF0ZShpbnB1dCwgb3B0aW9ucyk7XG59XG5cblxuLyoqXG4gKiB1bmd6aXAoZGF0YVssIG9wdGlvbnNdKSAtPiBVaW50OEFycmF5fEFycmF5fFN0cmluZ1xuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5fFN0cmluZyk6IGlucHV0IGRhdGEgdG8gZGVjb21wcmVzcy5cbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBpbmZsYXRlIG9wdGlvbnMuXG4gKlxuICogSnVzdCBzaG9ydGN1dCB0byBbW2luZmxhdGVdXSwgYmVjYXVzZSBpdCBhdXRvZGV0ZWN0cyBmb3JtYXRcbiAqIGJ5IGhlYWRlci5jb250ZW50LiBEb25lIGZvciBjb252ZW5pZW5jZS5cbiAqKi9cblxuXG5leHBvcnRzLkluZmxhdGUgPSBJbmZsYXRlO1xuZXhwb3J0cy5pbmZsYXRlID0gaW5mbGF0ZTtcbmV4cG9ydHMuaW5mbGF0ZVJhdyA9IGluZmxhdGVSYXc7XG5leHBvcnRzLnVuZ3ppcCAgPSBpbmZsYXRlO1xuIiwgIi8vIFRvcCBsZXZlbCBmaWxlIGlzIGp1c3QgYSBtaXhpbiBvZiBzdWJtb2R1bGVzICYgY29uc3RhbnRzXG4ndXNlIHN0cmljdCc7XG5cbnZhciBhc3NpZ24gICAgPSByZXF1aXJlKCcuL2xpYi91dGlscy9jb21tb24nKS5hc3NpZ247XG5cbnZhciBkZWZsYXRlICAgPSByZXF1aXJlKCcuL2xpYi9kZWZsYXRlJyk7XG52YXIgaW5mbGF0ZSAgID0gcmVxdWlyZSgnLi9saWIvaW5mbGF0ZScpO1xudmFyIGNvbnN0YW50cyA9IHJlcXVpcmUoJy4vbGliL3psaWIvY29uc3RhbnRzJyk7XG5cbnZhciBwYWtvID0ge307XG5cbmFzc2lnbihwYWtvLCBkZWZsYXRlLCBpbmZsYXRlLCBjb25zdGFudHMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBha287XG4iLCAiLypcbiogRmlsZVNhdmVyLmpzXG4qIEEgc2F2ZUFzKCkgRmlsZVNhdmVyIGltcGxlbWVudGF0aW9uLlxuKlxuKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXG4qXG4qIExpY2Vuc2UgOiBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZCAoTUlUKVxuKiBzb3VyY2UgIDogaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qc1xuKi9cblxuLy8gVGhlIG9uZSBhbmQgb25seSB3YXkgb2YgZ2V0dGluZyBnbG9iYWwgc2NvcGUgaW4gYWxsIGVudmlyb25tZW50c1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzMyNzcxODIvMTAwODk5OVxudmFyIF9nbG9iYWwgPSB0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cud2luZG93ID09PSB3aW5kb3dcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgJiYgc2VsZi5zZWxmID09PSBzZWxmXG4gID8gc2VsZiA6IHR5cGVvZiBnbG9iYWwgPT09ICdvYmplY3QnICYmIGdsb2JhbC5nbG9iYWwgPT09IGdsb2JhbFxuICA/IGdsb2JhbFxuICA6IHRoaXNcblxuZnVuY3Rpb24gYm9tIChibG9iLCBvcHRzKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3VuZGVmaW5lZCcpIG9wdHMgPSB7IGF1dG9Cb206IGZhbHNlIH1cbiAgZWxzZSBpZiAodHlwZW9mIG9wdHMgIT09ICdvYmplY3QnKSB7XG4gICAgY29uc29sZS53YXJuKCdEZXByZWNhdGVkOiBFeHBlY3RlZCB0aGlyZCBhcmd1bWVudCB0byBiZSBhIG9iamVjdCcpXG4gICAgb3B0cyA9IHsgYXV0b0JvbTogIW9wdHMgfVxuICB9XG5cbiAgLy8gcHJlcGVuZCBCT00gZm9yIFVURi04IFhNTCBhbmQgdGV4dC8qIHR5cGVzIChpbmNsdWRpbmcgSFRNTClcbiAgLy8gbm90ZTogeW91ciBicm93c2VyIHdpbGwgYXV0b21hdGljYWxseSBjb252ZXJ0IFVURi0xNiBVK0ZFRkYgdG8gRUYgQkIgQkZcbiAgaWYgKG9wdHMuYXV0b0JvbSAmJiAvXlxccyooPzp0ZXh0XFwvXFxTKnxhcHBsaWNhdGlvblxcL3htbHxcXFMqXFwvXFxTKlxcK3htbClcXHMqOy4qY2hhcnNldFxccyo9XFxzKnV0Zi04L2kudGVzdChibG9iLnR5cGUpKSB7XG4gICAgcmV0dXJuIG5ldyBCbG9iKFtTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkVGRiksIGJsb2JdLCB7IHR5cGU6IGJsb2IudHlwZSB9KVxuICB9XG4gIHJldHVybiBibG9iXG59XG5cbmZ1bmN0aW9uIGRvd25sb2FkICh1cmwsIG5hbWUsIG9wdHMpIHtcbiAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gIHhoci5vcGVuKCdHRVQnLCB1cmwpXG4gIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzYXZlQXMoeGhyLnJlc3BvbnNlLCBuYW1lLCBvcHRzKVxuICB9XG4gIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ2NvdWxkIG5vdCBkb3dubG9hZCBmaWxlJylcbiAgfVxuICB4aHIuc2VuZCgpXG59XG5cbmZ1bmN0aW9uIGNvcnNFbmFibGVkICh1cmwpIHtcbiAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gIC8vIHVzZSBzeW5jIHRvIGF2b2lkIHBvcHVwIGJsb2NrZXJcbiAgeGhyLm9wZW4oJ0hFQUQnLCB1cmwsIGZhbHNlKVxuICB0cnkge1xuICAgIHhoci5zZW5kKClcbiAgfSBjYXRjaCAoZSkge31cbiAgcmV0dXJuIHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPD0gMjk5XG59XG5cbi8vIGBhLmNsaWNrKClgIGRvZXNuJ3Qgd29yayBmb3IgYWxsIGJyb3dzZXJzICgjNDY1KVxuZnVuY3Rpb24gY2xpY2sgKG5vZGUpIHtcbiAgdHJ5IHtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ2NsaWNrJykpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJylcbiAgICBldnQuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgdHJ1ZSwgdHJ1ZSwgd2luZG93LCAwLCAwLCAwLCA4MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgMjAsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKVxuICAgIG5vZGUuZGlzcGF0Y2hFdmVudChldnQpXG4gIH1cbn1cblxudmFyIHNhdmVBcyA9IF9nbG9iYWwuc2F2ZUFzIHx8IChcbiAgLy8gcHJvYmFibHkgaW4gc29tZSB3ZWIgd29ya2VyXG4gICh0eXBlb2Ygd2luZG93ICE9PSAnb2JqZWN0JyB8fCB3aW5kb3cgIT09IF9nbG9iYWwpXG4gICAgPyBmdW5jdGlvbiBzYXZlQXMgKCkgeyAvKiBub29wICovIH1cblxuICAvLyBVc2UgZG93bmxvYWQgYXR0cmlidXRlIGZpcnN0IGlmIHBvc3NpYmxlICgjMTkzIEx1bWlhIG1vYmlsZSlcbiAgOiAnZG93bmxvYWQnIGluIEhUTUxBbmNob3JFbGVtZW50LnByb3RvdHlwZVxuICA/IGZ1bmN0aW9uIHNhdmVBcyAoYmxvYiwgbmFtZSwgb3B0cykge1xuICAgIHZhciBVUkwgPSBfZ2xvYmFsLlVSTCB8fCBfZ2xvYmFsLndlYmtpdFVSTFxuICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgbmFtZSA9IG5hbWUgfHwgYmxvYi5uYW1lIHx8ICdkb3dubG9hZCdcblxuICAgIGEuZG93bmxvYWQgPSBuYW1lXG4gICAgYS5yZWwgPSAnbm9vcGVuZXInIC8vIHRhYm5hYmJpbmdcblxuICAgIC8vIFRPRE86IGRldGVjdCBjaHJvbWUgZXh0ZW5zaW9ucyAmIHBhY2thZ2VkIGFwcHNcbiAgICAvLyBhLnRhcmdldCA9ICdfYmxhbmsnXG5cbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBTdXBwb3J0IHJlZ3VsYXIgbGlua3NcbiAgICAgIGEuaHJlZiA9IGJsb2JcbiAgICAgIGlmIChhLm9yaWdpbiAhPT0gbG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAgIGNvcnNFbmFibGVkKGEuaHJlZilcbiAgICAgICAgICA/IGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpXG4gICAgICAgICAgOiBjbGljayhhLCBhLnRhcmdldCA9ICdfYmxhbmsnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xpY2soYSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3VwcG9ydCBibG9ic1xuICAgICAgYS5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKVxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IFVSTC5yZXZva2VPYmplY3RVUkwoYS5ocmVmKSB9LCA0RTQpIC8vIDQwc1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGNsaWNrKGEpIH0sIDApXG4gICAgfVxuICB9XG5cbiAgLy8gVXNlIG1zU2F2ZU9yT3BlbkJsb2IgYXMgYSBzZWNvbmQgYXBwcm9hY2hcbiAgOiAnbXNTYXZlT3JPcGVuQmxvYicgaW4gbmF2aWdhdG9yXG4gID8gZnVuY3Rpb24gc2F2ZUFzIChibG9iLCBuYW1lLCBvcHRzKSB7XG4gICAgbmFtZSA9IG5hbWUgfHwgYmxvYi5uYW1lIHx8ICdkb3dubG9hZCdcblxuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChjb3JzRW5hYmxlZChibG9iKSkge1xuICAgICAgICBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgICAgICAgYS5ocmVmID0gYmxvYlxuICAgICAgICBhLnRhcmdldCA9ICdfYmxhbmsnXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBjbGljayhhKSB9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihib20oYmxvYiwgb3B0cyksIG5hbWUpXG4gICAgfVxuICB9XG5cbiAgLy8gRmFsbGJhY2sgdG8gdXNpbmcgRmlsZVJlYWRlciBhbmQgYSBwb3B1cFxuICA6IGZ1bmN0aW9uIHNhdmVBcyAoYmxvYiwgbmFtZSwgb3B0cywgcG9wdXApIHtcbiAgICAvLyBPcGVuIGEgcG9wdXAgaW1tZWRpYXRlbHkgZG8gZ28gYXJvdW5kIHBvcHVwIGJsb2NrZXJcbiAgICAvLyBNb3N0bHkgb25seSBhdmFpbGFibGUgb24gdXNlciBpbnRlcmFjdGlvbiBhbmQgdGhlIGZpbGVSZWFkZXIgaXMgYXN5bmMgc28uLi5cbiAgICBwb3B1cCA9IHBvcHVwIHx8IG9wZW4oJycsICdfYmxhbmsnKVxuICAgIGlmIChwb3B1cCkge1xuICAgICAgcG9wdXAuZG9jdW1lbnQudGl0bGUgPVxuICAgICAgcG9wdXAuZG9jdW1lbnQuYm9keS5pbm5lclRleHQgPSAnZG93bmxvYWRpbmcuLi4nXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykgcmV0dXJuIGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpXG5cbiAgICB2YXIgZm9yY2UgPSBibG9iLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nXG4gICAgdmFyIGlzU2FmYXJpID0gL2NvbnN0cnVjdG9yL2kudGVzdChfZ2xvYmFsLkhUTUxFbGVtZW50KSB8fCBfZ2xvYmFsLnNhZmFyaVxuICAgIHZhciBpc0Nocm9tZUlPUyA9IC9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuXG4gICAgaWYgKChpc0Nocm9tZUlPUyB8fCAoZm9yY2UgJiYgaXNTYWZhcmkpKSAmJiB0eXBlb2YgRmlsZVJlYWRlciA9PT0gJ29iamVjdCcpIHtcbiAgICAgIC8vIFNhZmFyaSBkb2Vzbid0IGFsbG93IGRvd25sb2FkaW5nIG9mIGJsb2IgVVJMc1xuICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB1cmwgPSByZWFkZXIucmVzdWx0XG4gICAgICAgIHVybCA9IGlzQ2hyb21lSU9TID8gdXJsIDogdXJsLnJlcGxhY2UoL15kYXRhOlteO10qOy8sICdkYXRhOmF0dGFjaG1lbnQvZmlsZTsnKVxuICAgICAgICBpZiAocG9wdXApIHBvcHVwLmxvY2F0aW9uLmhyZWYgPSB1cmxcbiAgICAgICAgZWxzZSBsb2NhdGlvbiA9IHVybFxuICAgICAgICBwb3B1cCA9IG51bGwgLy8gcmV2ZXJzZS10YWJuYWJiaW5nICM0NjBcbiAgICAgIH1cbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBVUkwgPSBfZ2xvYmFsLlVSTCB8fCBfZ2xvYmFsLndlYmtpdFVSTFxuICAgICAgdmFyIHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYilcbiAgICAgIGlmIChwb3B1cCkgcG9wdXAubG9jYXRpb24gPSB1cmxcbiAgICAgIGVsc2UgbG9jYXRpb24uaHJlZiA9IHVybFxuICAgICAgcG9wdXAgPSBudWxsIC8vIHJldmVyc2UtdGFibmFiYmluZyAjNDYwXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpIH0sIDRFNCkgLy8gNDBzXG4gICAgfVxuICB9XG4pXG5cbl9nbG9iYWwuc2F2ZUFzID0gc2F2ZUFzLnNhdmVBcyA9IHNhdmVBc1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBzYXZlQXM7XG59XG4iLCAiLyohXG5cbnBpY2Fcbmh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlY2EvcGljYVxuXG4qL1xuXG4oZnVuY3Rpb24oZil7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpfWVsc2V7dmFyIGc7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe2c9d2luZG93fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT1cInVuZGVmaW5lZFwiKXtnPXNlbGZ9ZWxzZXtnPXRoaXN9Zy5waWNhID0gZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vLyBDb2xsZWN0aW9uIG9mIG1hdGggZnVuY3Rpb25zXG4vL1xuLy8gMS4gQ29tYmluZSBjb21wb25lbnRzIHRvZ2V0aGVyXG4vLyAyLiBIYXMgYXN5bmMgaW5pdCB0byBsb2FkIHdhc20gbW9kdWxlc1xuLy9cbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gX2RlcmVxXygnaW5oZXJpdHMnKTtcblxudmFyIE11bHRpbWF0aCA9IF9kZXJlcV8oJ211bHRpbWF0aCcpO1xuXG52YXIgbW1fdW5zaGFycF9tYXNrID0gX2RlcmVxXygnbXVsdGltYXRoL2xpYi91bnNoYXJwX21hc2snKTtcblxudmFyIG1tX3Jlc2l6ZSA9IF9kZXJlcV8oJy4vbW1fcmVzaXplJyk7XG5cbmZ1bmN0aW9uIE1hdGhMaWIocmVxdWVzdGVkX2ZlYXR1cmVzKSB7XG4gIHZhciBfX3JlcXVlc3RlZF9mZWF0dXJlcyA9IHJlcXVlc3RlZF9mZWF0dXJlcyB8fCBbXTtcblxuICB2YXIgZmVhdHVyZXMgPSB7XG4gICAganM6IF9fcmVxdWVzdGVkX2ZlYXR1cmVzLmluZGV4T2YoJ2pzJykgPj0gMCxcbiAgICB3YXNtOiBfX3JlcXVlc3RlZF9mZWF0dXJlcy5pbmRleE9mKCd3YXNtJykgPj0gMFxuICB9O1xuICBNdWx0aW1hdGguY2FsbCh0aGlzLCBmZWF0dXJlcyk7XG4gIHRoaXMuZmVhdHVyZXMgPSB7XG4gICAganM6IGZlYXR1cmVzLmpzLFxuICAgIHdhc206IGZlYXR1cmVzLndhc20gJiYgdGhpcy5oYXNfd2FzbSgpXG4gIH07XG4gIHRoaXMudXNlKG1tX3Vuc2hhcnBfbWFzayk7XG4gIHRoaXMudXNlKG1tX3Jlc2l6ZSk7XG59XG5cbmluaGVyaXRzKE1hdGhMaWIsIE11bHRpbWF0aCk7XG5cbk1hdGhMaWIucHJvdG90eXBlLnJlc2l6ZUFuZFVuc2hhcnAgPSBmdW5jdGlvbiByZXNpemVBbmRVbnNoYXJwKG9wdGlvbnMsIGNhY2hlKSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLnJlc2l6ZShvcHRpb25zLCBjYWNoZSk7XG5cbiAgaWYgKG9wdGlvbnMudW5zaGFycEFtb3VudCkge1xuICAgIHRoaXMudW5zaGFycF9tYXNrKHJlc3VsdCwgb3B0aW9ucy50b1dpZHRoLCBvcHRpb25zLnRvSGVpZ2h0LCBvcHRpb25zLnVuc2hhcnBBbW91bnQsIG9wdGlvbnMudW5zaGFycFJhZGl1cywgb3B0aW9ucy51bnNoYXJwVGhyZXNob2xkKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGhMaWI7XG5cbn0se1wiLi9tbV9yZXNpemVcIjo0LFwiaW5oZXJpdHNcIjoxNSxcIm11bHRpbWF0aFwiOjE2LFwibXVsdGltYXRoL2xpYi91bnNoYXJwX21hc2tcIjoxOX1dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gUmVzaXplIGNvbnZvbHZlcnMsIHB1cmUgSlMgaW1wbGVtZW50YXRpb25cbi8vXG4ndXNlIHN0cmljdCc7IC8vIFByZWNpc2lvbiBvZiBmaXhlZCBGUCB2YWx1ZXNcbi8vdmFyIEZJWEVEX0ZSQUNfQklUUyA9IDE0O1xuXG5mdW5jdGlvbiBjbGFtcFRvOChpKSB7XG4gIHJldHVybiBpIDwgMCA/IDAgOiBpID4gMjU1ID8gMjU1IDogaTtcbn0gLy8gQ29udm9sdmUgaW1hZ2UgaW4gaG9yaXpvbnRhbCBkaXJlY3Rpb25zIGFuZCB0cmFuc3Bvc2Ugb3V0cHV0LiBJbiB0aGVvcnksXG4vLyB0cmFuc3Bvc2UgYWxsb3c6XG4vL1xuLy8gLSB1c2UgdGhlIHNhbWUgY29udm9sdmVyIGZvciBib3RoIHBhc3NlcyAodGhpcyBmYWlscyBkdWUgZGlmZmVyZW50XG4vLyAgIHR5cGVzIG9mIGlucHV0IGFycmF5IGFuZCB0ZW1wb3JhcnkgYnVmZmVyKVxuLy8gLSBtYWtpbmcgdmVydGljYWwgcGFzcyBieSBob3Jpc29ubHRhbCBsaW5lcyBpbnByb3ZlIENQVSBjYWNoZSB1c2UuXG4vL1xuLy8gQnV0IGluIHJlYWwgbGlmZSB0aGlzIGRvZXNuJ3Qgd29yayA6KVxuLy9cblxuXG5mdW5jdGlvbiBjb252b2x2ZUhvcml6b250YWxseShzcmMsIGRlc3QsIHNyY1csIHNyY0gsIGRlc3RXLCBmaWx0ZXJzKSB7XG4gIHZhciByLCBnLCBiLCBhO1xuICB2YXIgZmlsdGVyUHRyLCBmaWx0ZXJTaGlmdCwgZmlsdGVyU2l6ZTtcbiAgdmFyIHNyY1B0ciwgc3JjWSwgZGVzdFgsIGZpbHRlclZhbDtcbiAgdmFyIHNyY09mZnNldCA9IDAsXG4gICAgICBkZXN0T2Zmc2V0ID0gMDsgLy8gRm9yIGVhY2ggcm93XG5cbiAgZm9yIChzcmNZID0gMDsgc3JjWSA8IHNyY0g7IHNyY1krKykge1xuICAgIGZpbHRlclB0ciA9IDA7IC8vIEFwcGx5IHByZWNvbXB1dGVkIGZpbHRlcnMgdG8gZWFjaCBkZXN0aW5hdGlvbiByb3cgcG9pbnRcblxuICAgIGZvciAoZGVzdFggPSAwOyBkZXN0WCA8IGRlc3RXOyBkZXN0WCsrKSB7XG4gICAgICAvLyBHZXQgdGhlIGZpbHRlciB0aGF0IGRldGVybWluZXMgdGhlIGN1cnJlbnQgb3V0cHV0IHBpeGVsLlxuICAgICAgZmlsdGVyU2hpZnQgPSBmaWx0ZXJzW2ZpbHRlclB0cisrXTtcbiAgICAgIGZpbHRlclNpemUgPSBmaWx0ZXJzW2ZpbHRlclB0cisrXTtcbiAgICAgIHNyY1B0ciA9IHNyY09mZnNldCArIGZpbHRlclNoaWZ0ICogNCB8IDA7XG4gICAgICByID0gZyA9IGIgPSBhID0gMDsgLy8gQXBwbHkgdGhlIGZpbHRlciB0byB0aGUgcm93IHRvIGdldCB0aGUgZGVzdGluYXRpb24gcGl4ZWwgciwgZywgYiwgYVxuXG4gICAgICBmb3IgKDsgZmlsdGVyU2l6ZSA+IDA7IGZpbHRlclNpemUtLSkge1xuICAgICAgICBmaWx0ZXJWYWwgPSBmaWx0ZXJzW2ZpbHRlclB0cisrXTsgLy8gVXNlIHJldmVyc2Ugb3JkZXIgdG8gd29ya2Fyb3VuZCBkZW9wdHMgaW4gb2xkIHY4IChub2RlIHYuMTApXG4gICAgICAgIC8vIEJpZyB0aGFua3MgdG8gQG1yYWxlcGggKFZ5YWNoZXNsYXYgRWdvcm92KSBmb3IgdGhlIHRpcC5cblxuICAgICAgICBhID0gYSArIGZpbHRlclZhbCAqIHNyY1tzcmNQdHIgKyAzXSB8IDA7XG4gICAgICAgIGIgPSBiICsgZmlsdGVyVmFsICogc3JjW3NyY1B0ciArIDJdIHwgMDtcbiAgICAgICAgZyA9IGcgKyBmaWx0ZXJWYWwgKiBzcmNbc3JjUHRyICsgMV0gfCAwO1xuICAgICAgICByID0gciArIGZpbHRlclZhbCAqIHNyY1tzcmNQdHJdIHwgMDtcbiAgICAgICAgc3JjUHRyID0gc3JjUHRyICsgNCB8IDA7XG4gICAgICB9IC8vIEJyaW5nIHRoaXMgdmFsdWUgYmFjayBpbiByYW5nZS4gQWxsIG9mIHRoZSBmaWx0ZXIgc2NhbGluZyBmYWN0b3JzXG4gICAgICAvLyBhcmUgaW4gZml4ZWQgcG9pbnQgd2l0aCBGSVhFRF9GUkFDX0JJVFMgYml0cyBvZiBmcmFjdGlvbmFsIHBhcnQuXG4gICAgICAvL1xuICAgICAgLy8gKCEpIEFkZCAxLzIgb2YgdmFsdWUgYmVmb3JlIGNsYW1waW5nIHRvIGdldCBwcm9wZXIgcm91bmRpbmcuIEluIG90aGVyXG4gICAgICAvLyBjYXNlIGJyaWdodG5lc3MgbG9zcyB3aWxsIGJlIG5vdGljZWFibGUgaWYgeW91IHJlc2l6ZSBpbWFnZSB3aXRoIHdoaXRlXG4gICAgICAvLyBib3JkZXIgYW5kIHBsYWNlIGl0IG9uIHdoaXRlIGJhY2tncm91bmQuXG4gICAgICAvL1xuXG5cbiAgICAgIGRlc3RbZGVzdE9mZnNldCArIDNdID0gY2xhbXBUbzgoYSArICgxIDw8IDEzKSA+PiAxNFxuICAgICAgLypGSVhFRF9GUkFDX0JJVFMqL1xuICAgICAgKTtcbiAgICAgIGRlc3RbZGVzdE9mZnNldCArIDJdID0gY2xhbXBUbzgoYiArICgxIDw8IDEzKSA+PiAxNFxuICAgICAgLypGSVhFRF9GUkFDX0JJVFMqL1xuICAgICAgKTtcbiAgICAgIGRlc3RbZGVzdE9mZnNldCArIDFdID0gY2xhbXBUbzgoZyArICgxIDw8IDEzKSA+PiAxNFxuICAgICAgLypGSVhFRF9GUkFDX0JJVFMqL1xuICAgICAgKTtcbiAgICAgIGRlc3RbZGVzdE9mZnNldF0gPSBjbGFtcFRvOChyICsgKDEgPDwgMTMpID4+IDE0XG4gICAgICAvKkZJWEVEX0ZSQUNfQklUUyovXG4gICAgICApO1xuICAgICAgZGVzdE9mZnNldCA9IGRlc3RPZmZzZXQgKyBzcmNIICogNCB8IDA7XG4gICAgfVxuXG4gICAgZGVzdE9mZnNldCA9IChzcmNZICsgMSkgKiA0IHwgMDtcbiAgICBzcmNPZmZzZXQgPSAoc3JjWSArIDEpICogc3JjVyAqIDQgfCAwO1xuICB9XG59IC8vIFRlY2huaWNhbGx5LCBjb252b2x2ZXJzIGFyZSB0aGUgc2FtZS4gQnV0IGlucHV0IGFycmF5IGFuZCB0ZW1wb3Jhcnlcbi8vIGJ1ZmZlciBjYW4gYmUgb2YgZGlmZmVyZW50IHR5cGUgKGVzcGVjaWFsbHksIGluIG9sZCBicm93c2VycykuIFNvLFxuLy8ga2VlcCBjb2RlIGluIHNlcGFyYXRlIGZ1bmN0aW9ucyB0byBhdm9pZCBkZW9wdGltaXphdGlvbnMgJiBzcGVlZCBsb3NzLlxuXG5cbmZ1bmN0aW9uIGNvbnZvbHZlVmVydGljYWxseShzcmMsIGRlc3QsIHNyY1csIHNyY0gsIGRlc3RXLCBmaWx0ZXJzKSB7XG4gIHZhciByLCBnLCBiLCBhO1xuICB2YXIgZmlsdGVyUHRyLCBmaWx0ZXJTaGlmdCwgZmlsdGVyU2l6ZTtcbiAgdmFyIHNyY1B0ciwgc3JjWSwgZGVzdFgsIGZpbHRlclZhbDtcbiAgdmFyIHNyY09mZnNldCA9IDAsXG4gICAgICBkZXN0T2Zmc2V0ID0gMDsgLy8gRm9yIGVhY2ggcm93XG5cbiAgZm9yIChzcmNZID0gMDsgc3JjWSA8IHNyY0g7IHNyY1krKykge1xuICAgIGZpbHRlclB0ciA9IDA7IC8vIEFwcGx5IHByZWNvbXB1dGVkIGZpbHRlcnMgdG8gZWFjaCBkZXN0aW5hdGlvbiByb3cgcG9pbnRcblxuICAgIGZvciAoZGVzdFggPSAwOyBkZXN0WCA8IGRlc3RXOyBkZXN0WCsrKSB7XG4gICAgICAvLyBHZXQgdGhlIGZpbHRlciB0aGF0IGRldGVybWluZXMgdGhlIGN1cnJlbnQgb3V0cHV0IHBpeGVsLlxuICAgICAgZmlsdGVyU2hpZnQgPSBmaWx0ZXJzW2ZpbHRlclB0cisrXTtcbiAgICAgIGZpbHRlclNpemUgPSBmaWx0ZXJzW2ZpbHRlclB0cisrXTtcbiAgICAgIHNyY1B0ciA9IHNyY09mZnNldCArIGZpbHRlclNoaWZ0ICogNCB8IDA7XG4gICAgICByID0gZyA9IGIgPSBhID0gMDsgLy8gQXBwbHkgdGhlIGZpbHRlciB0byB0aGUgcm93IHRvIGdldCB0aGUgZGVzdGluYXRpb24gcGl4ZWwgciwgZywgYiwgYVxuXG4gICAgICBmb3IgKDsgZmlsdGVyU2l6ZSA+IDA7IGZpbHRlclNpemUtLSkge1xuICAgICAgICBmaWx0ZXJWYWwgPSBmaWx0ZXJzW2ZpbHRlclB0cisrXTsgLy8gVXNlIHJldmVyc2Ugb3JkZXIgdG8gd29ya2Fyb3VuZCBkZW9wdHMgaW4gb2xkIHY4IChub2RlIHYuMTApXG4gICAgICAgIC8vIEJpZyB0aGFua3MgdG8gQG1yYWxlcGggKFZ5YWNoZXNsYXYgRWdvcm92KSBmb3IgdGhlIHRpcC5cblxuICAgICAgICBhID0gYSArIGZpbHRlclZhbCAqIHNyY1tzcmNQdHIgKyAzXSB8IDA7XG4gICAgICAgIGIgPSBiICsgZmlsdGVyVmFsICogc3JjW3NyY1B0ciArIDJdIHwgMDtcbiAgICAgICAgZyA9IGcgKyBmaWx0ZXJWYWwgKiBzcmNbc3JjUHRyICsgMV0gfCAwO1xuICAgICAgICByID0gciArIGZpbHRlclZhbCAqIHNyY1tzcmNQdHJdIHwgMDtcbiAgICAgICAgc3JjUHRyID0gc3JjUHRyICsgNCB8IDA7XG4gICAgICB9IC8vIEJyaW5nIHRoaXMgdmFsdWUgYmFjayBpbiByYW5nZS4gQWxsIG9mIHRoZSBmaWx0ZXIgc2NhbGluZyBmYWN0b3JzXG4gICAgICAvLyBhcmUgaW4gZml4ZWQgcG9pbnQgd2l0aCBGSVhFRF9GUkFDX0JJVFMgYml0cyBvZiBmcmFjdGlvbmFsIHBhcnQuXG4gICAgICAvL1xuICAgICAgLy8gKCEpIEFkZCAxLzIgb2YgdmFsdWUgYmVmb3JlIGNsYW1waW5nIHRvIGdldCBwcm9wZXIgcm91bmRpbmcuIEluIG90aGVyXG4gICAgICAvLyBjYXNlIGJyaWdodG5lc3MgbG9zcyB3aWxsIGJlIG5vdGljZWFibGUgaWYgeW91IHJlc2l6ZSBpbWFnZSB3aXRoIHdoaXRlXG4gICAgICAvLyBib3JkZXIgYW5kIHBsYWNlIGl0IG9uIHdoaXRlIGJhY2tncm91bmQuXG4gICAgICAvL1xuXG5cbiAgICAgIGRlc3RbZGVzdE9mZnNldCArIDNdID0gY2xhbXBUbzgoYSArICgxIDw8IDEzKSA+PiAxNFxuICAgICAgLypGSVhFRF9GUkFDX0JJVFMqL1xuICAgICAgKTtcbiAgICAgIGRlc3RbZGVzdE9mZnNldCArIDJdID0gY2xhbXBUbzgoYiArICgxIDw8IDEzKSA+PiAxNFxuICAgICAgLypGSVhFRF9GUkFDX0JJVFMqL1xuICAgICAgKTtcbiAgICAgIGRlc3RbZGVzdE9mZnNldCArIDFdID0gY2xhbXBUbzgoZyArICgxIDw8IDEzKSA+PiAxNFxuICAgICAgLypGSVhFRF9GUkFDX0JJVFMqL1xuICAgICAgKTtcbiAgICAgIGRlc3RbZGVzdE9mZnNldF0gPSBjbGFtcFRvOChyICsgKDEgPDwgMTMpID4+IDE0XG4gICAgICAvKkZJWEVEX0ZSQUNfQklUUyovXG4gICAgICApO1xuICAgICAgZGVzdE9mZnNldCA9IGRlc3RPZmZzZXQgKyBzcmNIICogNCB8IDA7XG4gICAgfVxuXG4gICAgZGVzdE9mZnNldCA9IChzcmNZICsgMSkgKiA0IHwgMDtcbiAgICBzcmNPZmZzZXQgPSAoc3JjWSArIDEpICogc3JjVyAqIDQgfCAwO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb252b2x2ZUhvcml6b250YWxseTogY29udm9sdmVIb3Jpem9udGFsbHksXG4gIGNvbnZvbHZlVmVydGljYWxseTogY29udm9sdmVWZXJ0aWNhbGx5XG59O1xuXG59LHt9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8vIFRoaXMgaXMgYXV0b2dlbmVyYXRlZCBmaWxlIGZyb20gbWF0aC53YXNtLCBkb24ndCBlZGl0LlxuLy9cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSAnQUdGemJRRUFBQUFCRkFKZ0JuOS9mMzkvZndCZ0IzOS9mMzkvZjM4QUFnOEJBMlZ1ZGdadFpXMXZjbmtDQUFFREF3SUFBUVFFQVhBQUFBY1pBZ2hqYjI1MmIyeDJaUUFBQ21OdmJuWnZiSFpsU0ZZQUFRa0JBQXJtQXdMQkF3RVFmd0pBSUFORkRRQWdCRVVOQUNBRlFRUnFJUlZCQUNFTVFRQWhEUU5BSUEwaERrRUFJUkZCQUNFSEEwQWdCMEVDYWlFU0FuOGdCU0FIUVFGMElnZHFJZ1pCQW1vdUFRQWlFd1JBUVFBaENFRUFJQk5ySVJRZ0ZTQUhhaUVQSUFBZ0RDQUdMZ0VBYWtFQ2RHb2hFRUVBSVFsQkFDRUtRUUFoQ3dOQUlCQW9BZ0FpQjBFWWRpQVBMZ0VBSWdac0lBdHFJUXNnQjBIL0FYRWdCbXdnQ0dvaENDQUhRUkIyUWY4QmNTQUdiQ0FLYWlFS0lBZEJDSFpCL3dGeElBWnNJQWxxSVFrZ0QwRUNhaUVQSUJCQkJHb2hFQ0FVUVFGcUloUU5BQXNnRWlBVGFnd0JDMEVBSVF0QkFDRUtRUUFoQ1VFQUlRZ2dFZ3NoQnlBQklBNUJBblJxSUFwQmdNQUFha0VPZFNJR1FmOEJJQVpCL3dGSUcwRVFkRUdBZ1B3SGNVRUFJQVpCQUVvYklBdEJnTUFBYWtFT2RTSUdRZjhCSUFaQi93RklHMEVZZEVFQUlBWkJBRW9iY2lBSlFZREFBR3BCRG5VaUJrSC9BU0FHUWY4QlNCdEJDSFJCZ1A0RGNVRUFJQVpCQUVvYmNpQUlRWURBQUdwQkRuVWlCa0gvQVNBR1FmOEJTQnRCL3dGeFFRQWdCa0VBU2h0eU5nSUFJQTRnQTJvaERpQVJRUUZxSWhFZ0JFY05BQXNnRENBQ2FpRU1JQTFCQVdvaURTQURSdzBBQ3dzTElRQUNRRUVBSUFJZ0F5QUVJQVVnQUJBQUlBSkJBQ0FFSUFVZ0JpQUJFQUFMQ3c9PSc7XG5cbn0se31dLDQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbmFtZTogJ3Jlc2l6ZScsXG4gIGZuOiBfZGVyZXFfKCcuL3Jlc2l6ZScpLFxuICB3YXNtX2ZuOiBfZGVyZXFfKCcuL3Jlc2l6ZV93YXNtJyksXG4gIHdhc21fc3JjOiBfZGVyZXFfKCcuL2NvbnZvbHZlX3dhc21fYmFzZTY0Jylcbn07XG5cbn0se1wiLi9jb252b2x2ZV93YXNtX2Jhc2U2NFwiOjMsXCIuL3Jlc2l6ZVwiOjUsXCIuL3Jlc2l6ZV93YXNtXCI6OH1dLDU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRmlsdGVycyA9IF9kZXJlcV8oJy4vcmVzaXplX2ZpbHRlcl9nZW4nKTtcblxudmFyIGNvbnZvbHZlSG9yaXpvbnRhbGx5ID0gX2RlcmVxXygnLi9jb252b2x2ZScpLmNvbnZvbHZlSG9yaXpvbnRhbGx5O1xuXG52YXIgY29udm9sdmVWZXJ0aWNhbGx5ID0gX2RlcmVxXygnLi9jb252b2x2ZScpLmNvbnZvbHZlVmVydGljYWxseTtcblxuZnVuY3Rpb24gcmVzZXRBbHBoYShkc3QsIHdpZHRoLCBoZWlnaHQpIHtcbiAgdmFyIHB0ciA9IDMsXG4gICAgICBsZW4gPSB3aWR0aCAqIGhlaWdodCAqIDQgfCAwO1xuXG4gIHdoaWxlIChwdHIgPCBsZW4pIHtcbiAgICBkc3RbcHRyXSA9IDB4RkY7XG4gICAgcHRyID0gcHRyICsgNCB8IDA7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXNpemUob3B0aW9ucykge1xuICB2YXIgc3JjID0gb3B0aW9ucy5zcmM7XG4gIHZhciBzcmNXID0gb3B0aW9ucy53aWR0aDtcbiAgdmFyIHNyY0ggPSBvcHRpb25zLmhlaWdodDtcbiAgdmFyIGRlc3RXID0gb3B0aW9ucy50b1dpZHRoO1xuICB2YXIgZGVzdEggPSBvcHRpb25zLnRvSGVpZ2h0O1xuICB2YXIgc2NhbGVYID0gb3B0aW9ucy5zY2FsZVggfHwgb3B0aW9ucy50b1dpZHRoIC8gb3B0aW9ucy53aWR0aDtcbiAgdmFyIHNjYWxlWSA9IG9wdGlvbnMuc2NhbGVZIHx8IG9wdGlvbnMudG9IZWlnaHQgLyBvcHRpb25zLmhlaWdodDtcbiAgdmFyIG9mZnNldFggPSBvcHRpb25zLm9mZnNldFggfHwgMDtcbiAgdmFyIG9mZnNldFkgPSBvcHRpb25zLm9mZnNldFkgfHwgMDtcbiAgdmFyIGRlc3QgPSBvcHRpb25zLmRlc3QgfHwgbmV3IFVpbnQ4QXJyYXkoZGVzdFcgKiBkZXN0SCAqIDQpO1xuICB2YXIgcXVhbGl0eSA9IHR5cGVvZiBvcHRpb25zLnF1YWxpdHkgPT09ICd1bmRlZmluZWQnID8gMyA6IG9wdGlvbnMucXVhbGl0eTtcbiAgdmFyIGFscGhhID0gb3B0aW9ucy5hbHBoYSB8fCBmYWxzZTtcbiAgdmFyIGZpbHRlcnNYID0gY3JlYXRlRmlsdGVycyhxdWFsaXR5LCBzcmNXLCBkZXN0Vywgc2NhbGVYLCBvZmZzZXRYKSxcbiAgICAgIGZpbHRlcnNZID0gY3JlYXRlRmlsdGVycyhxdWFsaXR5LCBzcmNILCBkZXN0SCwgc2NhbGVZLCBvZmZzZXRZKTtcbiAgdmFyIHRtcCA9IG5ldyBVaW50OEFycmF5KGRlc3RXICogc3JjSCAqIDQpOyAvLyBUbyB1c2Ugc2luZ2xlIGZ1bmN0aW9uIHdlIG5lZWQgc3JjICYgdG1wIG9mIHRoZSBzYW1lIHR5cGUuXG4gIC8vIEJ1dCBzcmMgY2FuIGJlIENhbnZhc1BpeGVsQXJyYXksIGFuZCB0bXAgLSBVaW50OEFycmF5LiBTbywga2VlcFxuICAvLyB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBwYXNzZXMgc2VwYXJhdGVseSB0byBhdm9pZCBkZW9wdGltaXphdGlvbi5cblxuICBjb252b2x2ZUhvcml6b250YWxseShzcmMsIHRtcCwgc3JjVywgc3JjSCwgZGVzdFcsIGZpbHRlcnNYKTtcbiAgY29udm9sdmVWZXJ0aWNhbGx5KHRtcCwgZGVzdCwgc3JjSCwgZGVzdFcsIGRlc3RILCBmaWx0ZXJzWSk7IC8vIFRoYXQncyBmYXN0ZXIgdGhhbiBkb2luZyBjaGVja3MgaW4gY29udm9sdmVyLlxuICAvLyAhISEgTm90ZSwgY2FudmFzIGRhdGEgaXMgbm90IHByZW11bHRpcGxlZC4gV2UgZG9uJ3QgbmVlZCBvdGhlclxuICAvLyBhbHBoYSBjb3JyZWN0aW9ucy5cblxuICBpZiAoIWFscGhhKSByZXNldEFscGhhKGRlc3QsIGRlc3RXLCBkZXN0SCk7XG4gIHJldHVybiBkZXN0O1xufTtcblxufSx7XCIuL2NvbnZvbHZlXCI6MixcIi4vcmVzaXplX2ZpbHRlcl9nZW5cIjo2fV0sNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vLyBDYWxjdWxhdGUgY29udm9sdXRpb24gZmlsdGVycyBmb3IgZWFjaCBkZXN0aW5hdGlvbiBwb2ludCxcbi8vIGFuZCBwYWNrIGRhdGEgdG8gSW50MTZBcnJheTpcbi8vXG4vLyBbIHNoaWZ0LCBsZW5ndGgsIGRhdGEuLi4sIHNoaWZ0MiwgbGVuZ3RoMiwgZGF0YS4uLiwgLi4uIF1cbi8vXG4vLyAtIHNoaWZ0IC0gb2Zmc2V0IGluIHNyYyBpbWFnZVxuLy8gLSBsZW5ndGggLSBmaWx0ZXIgbGVuZ3RoIChpbiBzcmMgcG9pbnRzKVxuLy8gLSBkYXRhIC0gZmlsdGVyIHZhbHVlcyBzZXF1ZW5jZVxuLy9cbid1c2Ugc3RyaWN0JztcblxudmFyIEZJTFRFUl9JTkZPID0gX2RlcmVxXygnLi9yZXNpemVfZmlsdGVyX2luZm8nKTsgLy8gUHJlY2lzaW9uIG9mIGZpeGVkIEZQIHZhbHVlc1xuXG5cbnZhciBGSVhFRF9GUkFDX0JJVFMgPSAxNDtcblxuZnVuY3Rpb24gdG9GaXhlZFBvaW50KG51bSkge1xuICByZXR1cm4gTWF0aC5yb3VuZChudW0gKiAoKDEgPDwgRklYRURfRlJBQ19CSVRTKSAtIDEpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXNpemVGaWx0ZXJHZW4ocXVhbGl0eSwgc3JjU2l6ZSwgZGVzdFNpemUsIHNjYWxlLCBvZmZzZXQpIHtcbiAgdmFyIGZpbHRlckZ1bmN0aW9uID0gRklMVEVSX0lORk9bcXVhbGl0eV0uZmlsdGVyO1xuICB2YXIgc2NhbGVJbnZlcnRlZCA9IDEuMCAvIHNjYWxlO1xuICB2YXIgc2NhbGVDbGFtcGVkID0gTWF0aC5taW4oMS4wLCBzY2FsZSk7IC8vIEZvciB1cHNjYWxlXG4gIC8vIEZpbHRlciB3aW5kb3cgKGF2ZXJhZ2luZyBpbnRlcnZhbCksIHNjYWxlZCB0byBzcmMgaW1hZ2VcblxuICB2YXIgc3JjV2luZG93ID0gRklMVEVSX0lORk9bcXVhbGl0eV0ud2luIC8gc2NhbGVDbGFtcGVkO1xuICB2YXIgZGVzdFBpeGVsLCBzcmNQaXhlbCwgc3JjRmlyc3QsIHNyY0xhc3QsIGZpbHRlckVsZW1lbnRTaXplLCBmbG9hdEZpbHRlciwgZnhwRmlsdGVyLCB0b3RhbCwgcHhsLCBpZHgsIGZsb2F0VmFsLCBmaWx0ZXJUb3RhbCwgZmlsdGVyVmFsO1xuICB2YXIgbGVmdE5vdEVtcHR5LCByaWdodE5vdEVtcHR5LCBmaWx0ZXJTaGlmdCwgZmlsdGVyU2l6ZTtcbiAgdmFyIG1heEZpbHRlckVsZW1lbnRTaXplID0gTWF0aC5mbG9vcigoc3JjV2luZG93ICsgMSkgKiAyKTtcbiAgdmFyIHBhY2tlZEZpbHRlciA9IG5ldyBJbnQxNkFycmF5KChtYXhGaWx0ZXJFbGVtZW50U2l6ZSArIDIpICogZGVzdFNpemUpO1xuICB2YXIgcGFja2VkRmlsdGVyUHRyID0gMDtcbiAgdmFyIHNsb3dDb3B5ID0gIXBhY2tlZEZpbHRlci5zdWJhcnJheSB8fCAhcGFja2VkRmlsdGVyLnNldDsgLy8gRm9yIGVhY2ggZGVzdGluYXRpb24gcGl4ZWwgY2FsY3VsYXRlIHNvdXJjZSByYW5nZSBhbmQgYnVpbHQgZmlsdGVyIHZhbHVlc1xuXG4gIGZvciAoZGVzdFBpeGVsID0gMDsgZGVzdFBpeGVsIDwgZGVzdFNpemU7IGRlc3RQaXhlbCsrKSB7XG4gICAgLy8gU2NhbGluZyBzaG91bGQgYmUgZG9uZSByZWxhdGl2ZSB0byBjZW50cmFsIHBpeGVsIHBvaW50XG4gICAgc3JjUGl4ZWwgPSAoZGVzdFBpeGVsICsgMC41KSAqIHNjYWxlSW52ZXJ0ZWQgKyBvZmZzZXQ7XG4gICAgc3JjRmlyc3QgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHNyY1BpeGVsIC0gc3JjV2luZG93KSk7XG4gICAgc3JjTGFzdCA9IE1hdGgubWluKHNyY1NpemUgLSAxLCBNYXRoLmNlaWwoc3JjUGl4ZWwgKyBzcmNXaW5kb3cpKTtcbiAgICBmaWx0ZXJFbGVtZW50U2l6ZSA9IHNyY0xhc3QgLSBzcmNGaXJzdCArIDE7XG4gICAgZmxvYXRGaWx0ZXIgPSBuZXcgRmxvYXQzMkFycmF5KGZpbHRlckVsZW1lbnRTaXplKTtcbiAgICBmeHBGaWx0ZXIgPSBuZXcgSW50MTZBcnJheShmaWx0ZXJFbGVtZW50U2l6ZSk7XG4gICAgdG90YWwgPSAwLjA7IC8vIEZpbGwgZmlsdGVyIHZhbHVlcyBmb3IgY2FsY3VsYXRlZCByYW5nZVxuXG4gICAgZm9yIChweGwgPSBzcmNGaXJzdCwgaWR4ID0gMDsgcHhsIDw9IHNyY0xhc3Q7IHB4bCsrLCBpZHgrKykge1xuICAgICAgZmxvYXRWYWwgPSBmaWx0ZXJGdW5jdGlvbigocHhsICsgMC41IC0gc3JjUGl4ZWwpICogc2NhbGVDbGFtcGVkKTtcbiAgICAgIHRvdGFsICs9IGZsb2F0VmFsO1xuICAgICAgZmxvYXRGaWx0ZXJbaWR4XSA9IGZsb2F0VmFsO1xuICAgIH0gLy8gTm9ybWFsaXplIGZpbHRlciwgY29udmVydCB0byBmaXhlZCBwb2ludCBhbmQgYWNjdW11bGF0ZSBjb252ZXJzaW9uIGVycm9yXG5cblxuICAgIGZpbHRlclRvdGFsID0gMDtcblxuICAgIGZvciAoaWR4ID0gMDsgaWR4IDwgZmxvYXRGaWx0ZXIubGVuZ3RoOyBpZHgrKykge1xuICAgICAgZmlsdGVyVmFsID0gZmxvYXRGaWx0ZXJbaWR4XSAvIHRvdGFsO1xuICAgICAgZmlsdGVyVG90YWwgKz0gZmlsdGVyVmFsO1xuICAgICAgZnhwRmlsdGVyW2lkeF0gPSB0b0ZpeGVkUG9pbnQoZmlsdGVyVmFsKTtcbiAgICB9IC8vIENvbXBlbnNhdGUgbm9ybWFsaXphdGlvbiBlcnJvciwgdG8gbWluaW1pemUgYnJpZ2h0bmVzcyBkcmlmdFxuXG5cbiAgICBmeHBGaWx0ZXJbZGVzdFNpemUgPj4gMV0gKz0gdG9GaXhlZFBvaW50KDEuMCAtIGZpbHRlclRvdGFsKTsgLy9cbiAgICAvLyBOb3cgcGFjayBmaWx0ZXIgdG8gdXNlYWJsZSBmb3JtXG4gICAgLy9cbiAgICAvLyAxLiBUcmltIGhlYWRpbmcgYW5kIHRhaWxpbmcgemVybyB2YWx1ZXMsIGFuZCBjb21wZW5zYXRlIHNoaXRmL2xlbmd0aFxuICAgIC8vIDIuIFB1dCBhbGwgdG8gc2luZ2xlIGFycmF5IGluIHRoaXMgZm9ybWF0OlxuICAgIC8vXG4gICAgLy8gICAgWyBwb3Mgc2hpZnQsIGRhdGEgbGVuZ3RoLCB2YWx1ZTEsIHZhbHVlMiwgdmFsdWUzLCAuLi4gXVxuICAgIC8vXG5cbiAgICBsZWZ0Tm90RW1wdHkgPSAwO1xuXG4gICAgd2hpbGUgKGxlZnROb3RFbXB0eSA8IGZ4cEZpbHRlci5sZW5ndGggJiYgZnhwRmlsdGVyW2xlZnROb3RFbXB0eV0gPT09IDApIHtcbiAgICAgIGxlZnROb3RFbXB0eSsrO1xuICAgIH1cblxuICAgIGlmIChsZWZ0Tm90RW1wdHkgPCBmeHBGaWx0ZXIubGVuZ3RoKSB7XG4gICAgICByaWdodE5vdEVtcHR5ID0gZnhwRmlsdGVyLmxlbmd0aCAtIDE7XG5cbiAgICAgIHdoaWxlIChyaWdodE5vdEVtcHR5ID4gMCAmJiBmeHBGaWx0ZXJbcmlnaHROb3RFbXB0eV0gPT09IDApIHtcbiAgICAgICAgcmlnaHROb3RFbXB0eS0tO1xuICAgICAgfVxuXG4gICAgICBmaWx0ZXJTaGlmdCA9IHNyY0ZpcnN0ICsgbGVmdE5vdEVtcHR5O1xuICAgICAgZmlsdGVyU2l6ZSA9IHJpZ2h0Tm90RW1wdHkgLSBsZWZ0Tm90RW1wdHkgKyAxO1xuICAgICAgcGFja2VkRmlsdGVyW3BhY2tlZEZpbHRlclB0cisrXSA9IGZpbHRlclNoaWZ0OyAvLyBzaGlmdFxuXG4gICAgICBwYWNrZWRGaWx0ZXJbcGFja2VkRmlsdGVyUHRyKytdID0gZmlsdGVyU2l6ZTsgLy8gc2l6ZVxuXG4gICAgICBpZiAoIXNsb3dDb3B5KSB7XG4gICAgICAgIHBhY2tlZEZpbHRlci5zZXQoZnhwRmlsdGVyLnN1YmFycmF5KGxlZnROb3RFbXB0eSwgcmlnaHROb3RFbXB0eSArIDEpLCBwYWNrZWRGaWx0ZXJQdHIpO1xuICAgICAgICBwYWNrZWRGaWx0ZXJQdHIgKz0gZmlsdGVyU2l6ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGZhbGxiYWNrIGZvciBvbGQgSUUgPCAxMSwgd2l0aG91dCBzdWJhcnJheS9zZXQgbWV0aG9kc1xuICAgICAgICBmb3IgKGlkeCA9IGxlZnROb3RFbXB0eTsgaWR4IDw9IHJpZ2h0Tm90RW1wdHk7IGlkeCsrKSB7XG4gICAgICAgICAgcGFja2VkRmlsdGVyW3BhY2tlZEZpbHRlclB0cisrXSA9IGZ4cEZpbHRlcltpZHhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHplcm8gZGF0YSwgd3JpdGUgaGVhZGVyIG9ubHlcbiAgICAgIHBhY2tlZEZpbHRlcltwYWNrZWRGaWx0ZXJQdHIrK10gPSAwOyAvLyBzaGlmdFxuXG4gICAgICBwYWNrZWRGaWx0ZXJbcGFja2VkRmlsdGVyUHRyKytdID0gMDsgLy8gc2l6ZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYWNrZWRGaWx0ZXI7XG59O1xuXG59LHtcIi4vcmVzaXplX2ZpbHRlcl9pbmZvXCI6N31dLDc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gRmlsdGVyIGRlZmluaXRpb25zIHRvIGJ1aWxkIHRhYmxlcyBmb3Jcbi8vIHJlc2l6aW5nIGNvbnZvbHZlcnMuXG4vL1xuLy8gUHJlc2V0cyBmb3IgcXVhbGl0eSAwLi4zLiBGaWx0ZXIgZnVuY3Rpb25zICsgd2luZG93IHNpemVcbi8vXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gW3tcbiAgLy8gTmVhcmVzdCBuZWlib3IgKEJveClcbiAgd2luOiAwLjUsXG4gIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKHgpIHtcbiAgICByZXR1cm4geCA+PSAtMC41ICYmIHggPCAwLjUgPyAxLjAgOiAwLjA7XG4gIH1cbn0sIHtcbiAgLy8gSGFtbWluZ1xuICB3aW46IDEuMCxcbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoeCkge1xuICAgIGlmICh4IDw9IC0xLjAgfHwgeCA+PSAxLjApIHtcbiAgICAgIHJldHVybiAwLjA7XG4gICAgfVxuXG4gICAgaWYgKHggPiAtMS4xOTIwOTI5MEUtMDcgJiYgeCA8IDEuMTkyMDkyOTBFLTA3KSB7XG4gICAgICByZXR1cm4gMS4wO1xuICAgIH1cblxuICAgIHZhciB4cGkgPSB4ICogTWF0aC5QSTtcbiAgICByZXR1cm4gTWF0aC5zaW4oeHBpKSAvIHhwaSAqICgwLjU0ICsgMC40NiAqIE1hdGguY29zKHhwaSAvIDEuMCkpO1xuICB9XG59LCB7XG4gIC8vIExhbmN6b3MsIHdpbiA9IDJcbiAgd2luOiAyLjAsXG4gIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKHgpIHtcbiAgICBpZiAoeCA8PSAtMi4wIHx8IHggPj0gMi4wKSB7XG4gICAgICByZXR1cm4gMC4wO1xuICAgIH1cblxuICAgIGlmICh4ID4gLTEuMTkyMDkyOTBFLTA3ICYmIHggPCAxLjE5MjA5MjkwRS0wNykge1xuICAgICAgcmV0dXJuIDEuMDtcbiAgICB9XG5cbiAgICB2YXIgeHBpID0geCAqIE1hdGguUEk7XG4gICAgcmV0dXJuIE1hdGguc2luKHhwaSkgLyB4cGkgKiBNYXRoLnNpbih4cGkgLyAyLjApIC8gKHhwaSAvIDIuMCk7XG4gIH1cbn0sIHtcbiAgLy8gTGFuY3pvcywgd2luID0gM1xuICB3aW46IDMuMCxcbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoeCkge1xuICAgIGlmICh4IDw9IC0zLjAgfHwgeCA+PSAzLjApIHtcbiAgICAgIHJldHVybiAwLjA7XG4gICAgfVxuXG4gICAgaWYgKHggPiAtMS4xOTIwOTI5MEUtMDcgJiYgeCA8IDEuMTkyMDkyOTBFLTA3KSB7XG4gICAgICByZXR1cm4gMS4wO1xuICAgIH1cblxuICAgIHZhciB4cGkgPSB4ICogTWF0aC5QSTtcbiAgICByZXR1cm4gTWF0aC5zaW4oeHBpKSAvIHhwaSAqIE1hdGguc2luKHhwaSAvIDMuMCkgLyAoeHBpIC8gMy4wKTtcbiAgfVxufV07XG5cbn0se31dLDg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRmlsdGVycyA9IF9kZXJlcV8oJy4vcmVzaXplX2ZpbHRlcl9nZW4nKTtcblxuZnVuY3Rpb24gcmVzZXRBbHBoYShkc3QsIHdpZHRoLCBoZWlnaHQpIHtcbiAgdmFyIHB0ciA9IDMsXG4gICAgICBsZW4gPSB3aWR0aCAqIGhlaWdodCAqIDQgfCAwO1xuXG4gIHdoaWxlIChwdHIgPCBsZW4pIHtcbiAgICBkc3RbcHRyXSA9IDB4RkY7XG4gICAgcHRyID0gcHRyICsgNCB8IDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNVaW50OEFycmF5KHNyYykge1xuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoc3JjLmJ1ZmZlciwgMCwgc3JjLmJ5dGVMZW5ndGgpO1xufVxuXG52YXIgSVNfTEUgPSB0cnVlOyAvLyBzaG91bGQgbm90IGNyYXNoIGV2ZXJ5dGhpbmcgb24gbW9kdWxlIGxvYWQgaW4gb2xkIGJyb3dzZXJzXG5cbnRyeSB7XG4gIElTX0xFID0gbmV3IFVpbnQzMkFycmF5KG5ldyBVaW50OEFycmF5KFsxLCAwLCAwLCAwXSkuYnVmZmVyKVswXSA9PT0gMTtcbn0gY2F0Y2ggKF9fKSB7fVxuXG5mdW5jdGlvbiBjb3B5SW50MTZhc0xFKHNyYywgdGFyZ2V0LCB0YXJnZXRfb2Zmc2V0KSB7XG4gIGlmIChJU19MRSkge1xuICAgIHRhcmdldC5zZXQoYXNVaW50OEFycmF5KHNyYyksIHRhcmdldF9vZmZzZXQpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvciAodmFyIHB0ciA9IHRhcmdldF9vZmZzZXQsIGkgPSAwOyBpIDwgc3JjLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRhdGEgPSBzcmNbaV07XG4gICAgdGFyZ2V0W3B0cisrXSA9IGRhdGEgJiAweEZGO1xuICAgIHRhcmdldFtwdHIrK10gPSBkYXRhID4+IDggJiAweEZGO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVzaXplX3dhc20ob3B0aW9ucykge1xuICB2YXIgc3JjID0gb3B0aW9ucy5zcmM7XG4gIHZhciBzcmNXID0gb3B0aW9ucy53aWR0aDtcbiAgdmFyIHNyY0ggPSBvcHRpb25zLmhlaWdodDtcbiAgdmFyIGRlc3RXID0gb3B0aW9ucy50b1dpZHRoO1xuICB2YXIgZGVzdEggPSBvcHRpb25zLnRvSGVpZ2h0O1xuICB2YXIgc2NhbGVYID0gb3B0aW9ucy5zY2FsZVggfHwgb3B0aW9ucy50b1dpZHRoIC8gb3B0aW9ucy53aWR0aDtcbiAgdmFyIHNjYWxlWSA9IG9wdGlvbnMuc2NhbGVZIHx8IG9wdGlvbnMudG9IZWlnaHQgLyBvcHRpb25zLmhlaWdodDtcbiAgdmFyIG9mZnNldFggPSBvcHRpb25zLm9mZnNldFggfHwgMC4wO1xuICB2YXIgb2Zmc2V0WSA9IG9wdGlvbnMub2Zmc2V0WSB8fCAwLjA7XG4gIHZhciBkZXN0ID0gb3B0aW9ucy5kZXN0IHx8IG5ldyBVaW50OEFycmF5KGRlc3RXICogZGVzdEggKiA0KTtcbiAgdmFyIHF1YWxpdHkgPSB0eXBlb2Ygb3B0aW9ucy5xdWFsaXR5ID09PSAndW5kZWZpbmVkJyA/IDMgOiBvcHRpb25zLnF1YWxpdHk7XG4gIHZhciBhbHBoYSA9IG9wdGlvbnMuYWxwaGEgfHwgZmFsc2U7XG4gIHZhciBmaWx0ZXJzWCA9IGNyZWF0ZUZpbHRlcnMocXVhbGl0eSwgc3JjVywgZGVzdFcsIHNjYWxlWCwgb2Zmc2V0WCksXG4gICAgICBmaWx0ZXJzWSA9IGNyZWF0ZUZpbHRlcnMocXVhbGl0eSwgc3JjSCwgZGVzdEgsIHNjYWxlWSwgb2Zmc2V0WSk7IC8vIGRlc3RpbmF0aW9uIGlzIDAgdG9vLlxuXG4gIHZhciBzcmNfb2Zmc2V0ID0gMDsgLy8gYnVmZmVyIGJldHdlZW4gY29udm9sdmUgcGFzc2VzXG5cbiAgdmFyIHRtcF9vZmZzZXQgPSB0aGlzLl9fYWxpZ24oc3JjX29mZnNldCArIE1hdGgubWF4KHNyYy5ieXRlTGVuZ3RoLCBkZXN0LmJ5dGVMZW5ndGgpKTtcblxuICB2YXIgZmlsdGVyc1hfb2Zmc2V0ID0gdGhpcy5fX2FsaWduKHRtcF9vZmZzZXQgKyBzcmNIICogZGVzdFcgKiA0KTtcblxuICB2YXIgZmlsdGVyc1lfb2Zmc2V0ID0gdGhpcy5fX2FsaWduKGZpbHRlcnNYX29mZnNldCArIGZpbHRlcnNYLmJ5dGVMZW5ndGgpO1xuXG4gIHZhciBhbGxvY19ieXRlcyA9IGZpbHRlcnNZX29mZnNldCArIGZpbHRlcnNZLmJ5dGVMZW5ndGg7XG5cbiAgdmFyIGluc3RhbmNlID0gdGhpcy5fX2luc3RhbmNlKCdyZXNpemUnLCBhbGxvY19ieXRlcyk7IC8vXG4gIC8vIEZpbGwgbWVtb3J5IGJsb2NrIHdpdGggZGF0YSB0byBwcm9jZXNzXG4gIC8vXG5cblxuICB2YXIgbWVtID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fX21lbW9yeS5idWZmZXIpO1xuICB2YXIgbWVtMzIgPSBuZXcgVWludDMyQXJyYXkodGhpcy5fX21lbW9yeS5idWZmZXIpOyAvLyAzMi1iaXQgY29weSBpcyBtdWNoIGZhc3RlciBpbiBjaHJvbWVcblxuICB2YXIgc3JjMzIgPSBuZXcgVWludDMyQXJyYXkoc3JjLmJ1ZmZlcik7XG4gIG1lbTMyLnNldChzcmMzMik7IC8vIFdlIHNob3VsZCBndWFyYW50ZWUgTEUgYnl0ZXMgb3JkZXIuIEZpbHRlcnMgYXJlIG5vdCBiaWcsIHNvXG4gIC8vIHNwZWVkIGRpZmZlcmVuY2UgaXMgbm90IHNpZ25pZmljYW50IHZzIGRpcmVjdCAuc2V0KClcblxuICBjb3B5SW50MTZhc0xFKGZpbHRlcnNYLCBtZW0sIGZpbHRlcnNYX29mZnNldCk7XG4gIGNvcHlJbnQxNmFzTEUoZmlsdGVyc1ksIG1lbSwgZmlsdGVyc1lfb2Zmc2V0KTsgLy9cbiAgLy8gTm93IGNhbGwgd2ViYXNzZW1ibHkgbWV0aG9kXG4gIC8vIGVtc2RrIGRvZXMgbWV0aG9kIG5hbWVzIHdpdGggJ18nXG5cbiAgdmFyIGZuID0gaW5zdGFuY2UuZXhwb3J0cy5jb252b2x2ZUhWIHx8IGluc3RhbmNlLmV4cG9ydHMuX2NvbnZvbHZlSFY7XG4gIGZuKGZpbHRlcnNYX29mZnNldCwgZmlsdGVyc1lfb2Zmc2V0LCB0bXBfb2Zmc2V0LCBzcmNXLCBzcmNILCBkZXN0VywgZGVzdEgpOyAvL1xuICAvLyBDb3B5IGRhdGEgYmFjayB0byB0eXBlZCBhcnJheVxuICAvL1xuICAvLyAzMi1iaXQgY29weSBpcyBtdWNoIGZhc3RlciBpbiBjaHJvbWVcblxuICB2YXIgZGVzdDMyID0gbmV3IFVpbnQzMkFycmF5KGRlc3QuYnVmZmVyKTtcbiAgZGVzdDMyLnNldChuZXcgVWludDMyQXJyYXkodGhpcy5fX21lbW9yeS5idWZmZXIsIDAsIGRlc3RIICogZGVzdFcpKTsgLy8gVGhhdCdzIGZhc3RlciB0aGFuIGRvaW5nIGNoZWNrcyBpbiBjb252b2x2ZXIuXG4gIC8vICEhISBOb3RlLCBjYW52YXMgZGF0YSBpcyBub3QgcHJlbXVsdGlwbGVkLiBXZSBkb24ndCBuZWVkIG90aGVyXG4gIC8vIGFscGhhIGNvcnJlY3Rpb25zLlxuXG4gIGlmICghYWxwaGEpIHJlc2V0QWxwaGEoZGVzdCwgZGVzdFcsIGRlc3RIKTtcbiAgcmV0dXJuIGRlc3Q7XG59O1xuXG59LHtcIi4vcmVzaXplX2ZpbHRlcl9nZW5cIjo2fV0sOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBHQ19JTlRFUlZBTCA9IDEwMDtcblxuZnVuY3Rpb24gUG9vbChjcmVhdGUsIGlkbGUpIHtcbiAgdGhpcy5jcmVhdGUgPSBjcmVhdGU7XG4gIHRoaXMuYXZhaWxhYmxlID0gW107XG4gIHRoaXMuYWNxdWlyZWQgPSB7fTtcbiAgdGhpcy5sYXN0SWQgPSAxO1xuICB0aGlzLnRpbWVvdXRJZCA9IDA7XG4gIHRoaXMuaWRsZSA9IGlkbGUgfHwgMjAwMDtcbn1cblxuUG9vbC5wcm90b3R5cGUuYWNxdWlyZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgcmVzb3VyY2U7XG5cbiAgaWYgKHRoaXMuYXZhaWxhYmxlLmxlbmd0aCAhPT0gMCkge1xuICAgIHJlc291cmNlID0gdGhpcy5hdmFpbGFibGUucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzb3VyY2UgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIHJlc291cmNlLmlkID0gdGhpcy5sYXN0SWQrKztcblxuICAgIHJlc291cmNlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMucmVsZWFzZShyZXNvdXJjZSk7XG4gICAgfTtcbiAgfVxuXG4gIHRoaXMuYWNxdWlyZWRbcmVzb3VyY2UuaWRdID0gcmVzb3VyY2U7XG4gIHJldHVybiByZXNvdXJjZTtcbn07XG5cblBvb2wucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgZGVsZXRlIHRoaXMuYWNxdWlyZWRbcmVzb3VyY2UuaWRdO1xuICByZXNvdXJjZS5sYXN0VXNlZCA9IERhdGUubm93KCk7XG4gIHRoaXMuYXZhaWxhYmxlLnB1c2gocmVzb3VyY2UpO1xuXG4gIGlmICh0aGlzLnRpbWVvdXRJZCA9PT0gMCkge1xuICAgIHRoaXMudGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMyLmdjKCk7XG4gICAgfSwgR0NfSU5URVJWQUwpO1xuICB9XG59O1xuXG5Qb29sLnByb3RvdHlwZS5nYyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gIHRoaXMuYXZhaWxhYmxlID0gdGhpcy5hdmFpbGFibGUuZmlsdGVyKGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgIGlmIChub3cgLSByZXNvdXJjZS5sYXN0VXNlZCA+IF90aGlzMy5pZGxlKSB7XG4gICAgICByZXNvdXJjZS5kZXN0cm95KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIGlmICh0aGlzLmF2YWlsYWJsZS5sZW5ndGggIT09IDApIHtcbiAgICB0aGlzLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzMy5nYygpO1xuICAgIH0sIEdDX0lOVEVSVkFMKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnRpbWVvdXRJZCA9IDA7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUG9vbDtcblxufSx7fV0sMTA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gQWRkIGludGVybWVkaWF0ZSByZXNpemluZyBzdGVwcyB3aGVuIHNjYWxpbmcgZG93biBieSBhIHZlcnkgbGFyZ2UgZmFjdG9yLlxuLy9cbi8vIEZvciBleGFtcGxlLCB3aGVuIHJlc2l6aW5nIDEwMDAweDEwMDAwIGRvd24gdG8gMTB4MTAsIGl0J2xsIHJlc2l6ZSBpdCB0b1xuLy8gMzAweDMwMCBmaXJzdC5cbi8vXG4vLyBJdCdzIG5lZWRlZCBiZWNhdXNlIHRpbGVyIGhhcyBpc3N1ZXMgd2hlbiB0aGUgZW50aXJlIHRpbGUgaXMgc2NhbGVkIGRvd25cbi8vIHRvIGEgZmV3IHBpeGVscyAoMTAyNHB4IHNvdXJjZSB0aWxlIHdpdGggYm9yZGVyIHNpemUgMyBzaG91bGQgcmVzdWx0IGluXG4vLyBhdCBsZWFzdCAzKzMrMiA9IDhweCB0YXJnZXQgdGlsZSwgc28gbWF4IHNjYWxlIGZhY3RvciBpcyAxMjggaGVyZSkuXG4vL1xuLy8gQWxzbywgYWRkaW5nIGludGVybWVkaWF0ZSBzdGVwcyBjYW4gc3BlZWQgdXAgcHJvY2Vzc2luZyBpZiB3ZSB1c2UgbG93ZXJcbi8vIHF1YWxpdHkgYWxnb3JpdGhtcyBmb3IgZmlyc3Qgc3RhZ2VzLlxuLy9cbid1c2Ugc3RyaWN0JzsgLy8gbWluIHNpemUgPSAwIHJlc3VsdHMgaW4gaW5maW5pdGUgbG9vcCxcbi8vIG1pbiBzaXplID0gMSBjYW4gY29uc3VtZSBsYXJnZSBhbW91bnQgb2YgbWVtb3J5XG5cbnZhciBNSU5fSU5ORVJfVElMRV9TSVpFID0gMjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVTdGFnZXMoZnJvbVdpZHRoLCBmcm9tSGVpZ2h0LCB0b1dpZHRoLCB0b0hlaWdodCwgc3JjVGlsZVNpemUsIGRlc3RUaWxlQm9yZGVyKSB7XG4gIHZhciBzY2FsZVggPSB0b1dpZHRoIC8gZnJvbVdpZHRoO1xuICB2YXIgc2NhbGVZID0gdG9IZWlnaHQgLyBmcm9tSGVpZ2h0OyAvLyBkZXJpdmVkIGZyb20gY3JlYXRlUmVnaW9ucyBlcXVhdGlvbjpcbiAgLy8gaW5uZXJUaWxlV2lkdGggPSBwaXhlbEZsb29yKHNyY1RpbGVTaXplICogc2NhbGVYKSAtIDIgKiBkZXN0VGlsZUJvcmRlcjtcblxuICB2YXIgbWluU2NhbGUgPSAoMiAqIGRlc3RUaWxlQm9yZGVyICsgTUlOX0lOTkVSX1RJTEVfU0laRSArIDEpIC8gc3JjVGlsZVNpemU7IC8vIHJlZnVzZSB0byBzY2FsZSBpbWFnZSBtdWx0aXBsZSB0aW1lcyBieSBsZXNzIHRoYW4gdHdpY2UgZWFjaCB0aW1lLFxuICAvLyBpdCBjb3VsZCBvbmx5IGhhcHBlbiBiZWNhdXNlIG9mIGludmFsaWQgb3B0aW9uc1xuXG4gIGlmIChtaW5TY2FsZSA+IDAuNSkgcmV0dXJuIFtbdG9XaWR0aCwgdG9IZWlnaHRdXTtcbiAgdmFyIHN0YWdlQ291bnQgPSBNYXRoLmNlaWwoTWF0aC5sb2coTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpKSAvIE1hdGgubG9nKG1pblNjYWxlKSk7IC8vIG5vIGFkZGl0aW9uYWwgcmVzaXplcyBhcmUgbmVjZXNzYXJ5LFxuICAvLyBzdGFnZUNvdW50IGNhbiBiZSB6ZXJvIG9yIGJlIG5lZ2F0aXZlIHdoZW4gZW5sYXJnaW5nIHRoZSBpbWFnZVxuXG4gIGlmIChzdGFnZUNvdW50IDw9IDEpIHJldHVybiBbW3RvV2lkdGgsIHRvSGVpZ2h0XV07XG4gIHZhciByZXN1bHQgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWdlQ291bnQ7IGkrKykge1xuICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoTWF0aC5wb3coTWF0aC5wb3coZnJvbVdpZHRoLCBzdGFnZUNvdW50IC0gaSAtIDEpICogTWF0aC5wb3codG9XaWR0aCwgaSArIDEpLCAxIC8gc3RhZ2VDb3VudCkpO1xuICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKE1hdGgucG93KE1hdGgucG93KGZyb21IZWlnaHQsIHN0YWdlQ291bnQgLSBpIC0gMSkgKiBNYXRoLnBvdyh0b0hlaWdodCwgaSArIDEpLCAxIC8gc3RhZ2VDb3VudCkpO1xuICAgIHJlc3VsdC5wdXNoKFt3aWR0aCwgaGVpZ2h0XSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxufSx7fV0sMTE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gU3BsaXQgb3JpZ2luYWwgaW1hZ2UgaW50byBtdWx0aXBsZSAxMDI0eDEwMjQgY2h1bmtzIHRvIHJlZHVjZSBtZW1vcnkgdXNhZ2Vcbi8vIChpbWFnZXMgaGF2ZSB0byBiZSB1bnBhY2tlZCBpbnRvIHR5cGVkIGFycmF5cyBmb3IgcmVzaXppbmcpIGFuZCBhbGxvd1xuLy8gcGFyYWxsZWwgcHJvY2Vzc2luZyBvZiBtdWx0aXBsZSB0aWxlcyBhdCBhIHRpbWUuXG4vL1xuJ3VzZSBzdHJpY3QnO1xuLypcbiAqIHBpeGVsRmxvb3IgYW5kIHBpeGVsQ2VpbCBhcmUgbW9kaWZpZWQgdmVyc2lvbnMgb2YgTWF0aC5mbG9vciBhbmQgTWF0aC5jZWlsXG4gKiBmdW5jdGlvbnMgd2hpY2ggdGFrZSBpbnRvIGFjY291bnQgZmxvYXRpbmcgcG9pbnQgYXJpdGhtZXRpYyBlcnJvcnMuXG4gKiBUaG9zZSBlcnJvcnMgY2FuIGNhdXNlIHVuZGVzaXJlZCBpbmNyZW1lbnRzL2RlY3JlbWVudHMgb2Ygc2l6ZXMgYW5kIG9mZnNldHM6XG4gKiBNYXRoLmNlaWwoMzYgLyAoMzYgLyA1MDApKSA9IDUwMVxuICogcGl4ZWxDZWlsKDM2IC8gKDM2IC8gNTAwKSkgPSA1MDBcbiAqL1xuXG52YXIgUElYRUxfRVBTSUxPTiA9IDFlLTU7XG5cbmZ1bmN0aW9uIHBpeGVsRmxvb3IoeCkge1xuICB2YXIgbmVhcmVzdCA9IE1hdGgucm91bmQoeCk7XG5cbiAgaWYgKE1hdGguYWJzKHggLSBuZWFyZXN0KSA8IFBJWEVMX0VQU0lMT04pIHtcbiAgICByZXR1cm4gbmVhcmVzdDtcbiAgfVxuXG4gIHJldHVybiBNYXRoLmZsb29yKHgpO1xufVxuXG5mdW5jdGlvbiBwaXhlbENlaWwoeCkge1xuICB2YXIgbmVhcmVzdCA9IE1hdGgucm91bmQoeCk7XG5cbiAgaWYgKE1hdGguYWJzKHggLSBuZWFyZXN0KSA8IFBJWEVMX0VQU0lMT04pIHtcbiAgICByZXR1cm4gbmVhcmVzdDtcbiAgfVxuXG4gIHJldHVybiBNYXRoLmNlaWwoeCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlUmVnaW9ucyhvcHRpb25zKSB7XG4gIHZhciBzY2FsZVggPSBvcHRpb25zLnRvV2lkdGggLyBvcHRpb25zLndpZHRoO1xuICB2YXIgc2NhbGVZID0gb3B0aW9ucy50b0hlaWdodCAvIG9wdGlvbnMuaGVpZ2h0O1xuICB2YXIgaW5uZXJUaWxlV2lkdGggPSBwaXhlbEZsb29yKG9wdGlvbnMuc3JjVGlsZVNpemUgKiBzY2FsZVgpIC0gMiAqIG9wdGlvbnMuZGVzdFRpbGVCb3JkZXI7XG4gIHZhciBpbm5lclRpbGVIZWlnaHQgPSBwaXhlbEZsb29yKG9wdGlvbnMuc3JjVGlsZVNpemUgKiBzY2FsZVkpIC0gMiAqIG9wdGlvbnMuZGVzdFRpbGVCb3JkZXI7IC8vIHByZXZlbnQgaW5maW5pdGUgbG9vcCwgdGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuXG5cbiAgaWYgKGlubmVyVGlsZVdpZHRoIDwgMSB8fCBpbm5lclRpbGVIZWlnaHQgPCAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnRlcm5hbCBlcnJvciBpbiBwaWNhOiB0YXJnZXQgdGlsZSB3aWR0aC9oZWlnaHQgaXMgdG9vIHNtYWxsLicpO1xuICB9XG5cbiAgdmFyIHgsIHk7XG4gIHZhciBpbm5lclgsIGlubmVyWSwgdG9UaWxlV2lkdGgsIHRvVGlsZUhlaWdodDtcbiAgdmFyIHRpbGVzID0gW107XG4gIHZhciB0aWxlOyAvLyB3ZSBnbyB0b3AtdG8tZG93biBpbnN0ZWFkIG9mIGxlZnQtdG8tcmlnaHQgdG8gbWFrZSBpbWFnZSBkaXNwbGF5ZWQgZnJvbSB0b3AgdG9cbiAgLy8gZG9lc24gaW4gdGhlIGJyb3dzZXJcblxuICBmb3IgKGlubmVyWSA9IDA7IGlubmVyWSA8IG9wdGlvbnMudG9IZWlnaHQ7IGlubmVyWSArPSBpbm5lclRpbGVIZWlnaHQpIHtcbiAgICBmb3IgKGlubmVyWCA9IDA7IGlubmVyWCA8IG9wdGlvbnMudG9XaWR0aDsgaW5uZXJYICs9IGlubmVyVGlsZVdpZHRoKSB7XG4gICAgICB4ID0gaW5uZXJYIC0gb3B0aW9ucy5kZXN0VGlsZUJvcmRlcjtcblxuICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgIHggPSAwO1xuICAgICAgfVxuXG4gICAgICB0b1RpbGVXaWR0aCA9IGlubmVyWCArIGlubmVyVGlsZVdpZHRoICsgb3B0aW9ucy5kZXN0VGlsZUJvcmRlciAtIHg7XG5cbiAgICAgIGlmICh4ICsgdG9UaWxlV2lkdGggPj0gb3B0aW9ucy50b1dpZHRoKSB7XG4gICAgICAgIHRvVGlsZVdpZHRoID0gb3B0aW9ucy50b1dpZHRoIC0geDtcbiAgICAgIH1cblxuICAgICAgeSA9IGlubmVyWSAtIG9wdGlvbnMuZGVzdFRpbGVCb3JkZXI7XG5cbiAgICAgIGlmICh5IDwgMCkge1xuICAgICAgICB5ID0gMDtcbiAgICAgIH1cblxuICAgICAgdG9UaWxlSGVpZ2h0ID0gaW5uZXJZICsgaW5uZXJUaWxlSGVpZ2h0ICsgb3B0aW9ucy5kZXN0VGlsZUJvcmRlciAtIHk7XG5cbiAgICAgIGlmICh5ICsgdG9UaWxlSGVpZ2h0ID49IG9wdGlvbnMudG9IZWlnaHQpIHtcbiAgICAgICAgdG9UaWxlSGVpZ2h0ID0gb3B0aW9ucy50b0hlaWdodCAtIHk7XG4gICAgICB9XG5cbiAgICAgIHRpbGUgPSB7XG4gICAgICAgIHRvWDogeCxcbiAgICAgICAgdG9ZOiB5LFxuICAgICAgICB0b1dpZHRoOiB0b1RpbGVXaWR0aCxcbiAgICAgICAgdG9IZWlnaHQ6IHRvVGlsZUhlaWdodCxcbiAgICAgICAgdG9Jbm5lclg6IGlubmVyWCxcbiAgICAgICAgdG9Jbm5lclk6IGlubmVyWSxcbiAgICAgICAgdG9Jbm5lcldpZHRoOiBpbm5lclRpbGVXaWR0aCxcbiAgICAgICAgdG9Jbm5lckhlaWdodDogaW5uZXJUaWxlSGVpZ2h0LFxuICAgICAgICBvZmZzZXRYOiB4IC8gc2NhbGVYIC0gcGl4ZWxGbG9vcih4IC8gc2NhbGVYKSxcbiAgICAgICAgb2Zmc2V0WTogeSAvIHNjYWxlWSAtIHBpeGVsRmxvb3IoeSAvIHNjYWxlWSksXG4gICAgICAgIHNjYWxlWDogc2NhbGVYLFxuICAgICAgICBzY2FsZVk6IHNjYWxlWSxcbiAgICAgICAgeDogcGl4ZWxGbG9vcih4IC8gc2NhbGVYKSxcbiAgICAgICAgeTogcGl4ZWxGbG9vcih5IC8gc2NhbGVZKSxcbiAgICAgICAgd2lkdGg6IHBpeGVsQ2VpbCh0b1RpbGVXaWR0aCAvIHNjYWxlWCksXG4gICAgICAgIGhlaWdodDogcGl4ZWxDZWlsKHRvVGlsZUhlaWdodCAvIHNjYWxlWSlcbiAgICAgIH07XG4gICAgICB0aWxlcy5wdXNoKHRpbGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aWxlcztcbn07XG5cbn0se31dLDEyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb2JqQ2xhc3Mob2JqKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKTtcbn1cblxubW9kdWxlLmV4cG9ydHMuaXNDYW52YXMgPSBmdW5jdGlvbiBpc0NhbnZhcyhlbGVtZW50KSB7XG4gIHZhciBjbmFtZSA9IG9iakNsYXNzKGVsZW1lbnQpO1xuICByZXR1cm4gY25hbWUgPT09ICdbb2JqZWN0IEhUTUxDYW52YXNFbGVtZW50XSdcbiAgLyogYnJvd3NlciAqL1xuICB8fCBjbmFtZSA9PT0gJ1tvYmplY3QgT2Zmc2NyZWVuQ2FudmFzXScgfHwgY25hbWUgPT09ICdbb2JqZWN0IENhbnZhc10nXG4gIC8qIG5vZGUtY2FudmFzICovXG4gIDtcbn07XG5cbm1vZHVsZS5leHBvcnRzLmlzSW1hZ2UgPSBmdW5jdGlvbiBpc0ltYWdlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIG9iakNsYXNzKGVsZW1lbnQpID09PSAnW29iamVjdCBIVE1MSW1hZ2VFbGVtZW50XSc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5pc0ltYWdlQml0bWFwID0gZnVuY3Rpb24gaXNJbWFnZUJpdG1hcChlbGVtZW50KSB7XG4gIHJldHVybiBvYmpDbGFzcyhlbGVtZW50KSA9PT0gJ1tvYmplY3QgSW1hZ2VCaXRtYXBdJztcbn07XG5cbm1vZHVsZS5leHBvcnRzLmxpbWl0ZXIgPSBmdW5jdGlvbiBsaW1pdGVyKGNvbmN1cnJlbmN5KSB7XG4gIHZhciBhY3RpdmUgPSAwLFxuICAgICAgcXVldWUgPSBbXTtcblxuICBmdW5jdGlvbiByb2xsKCkge1xuICAgIGlmIChhY3RpdmUgPCBjb25jdXJyZW5jeSAmJiBxdWV1ZS5sZW5ndGgpIHtcbiAgICAgIGFjdGl2ZSsrO1xuICAgICAgcXVldWUuc2hpZnQoKSgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBsaW1pdChmbikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBxdWV1ZS5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm4oKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgYWN0aXZlLS07XG4gICAgICAgICAgcm9sbCgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgYWN0aXZlLS07XG4gICAgICAgICAgcm9sbCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcm9sbCgpO1xuICAgIH0pO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMuY2liX3F1YWxpdHlfbmFtZSA9IGZ1bmN0aW9uIGNpYl9xdWFsaXR5X25hbWUobnVtKSB7XG4gIHN3aXRjaCAobnVtKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuICdwaXhlbGF0ZWQnO1xuXG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuICdsb3cnO1xuXG4gICAgY2FzZSAyOlxuICAgICAgcmV0dXJuICdtZWRpdW0nO1xuICB9XG5cbiAgcmV0dXJuICdoaWdoJztcbn07XG5cbm1vZHVsZS5leHBvcnRzLmNpYl9zdXBwb3J0ID0gZnVuY3Rpb24gY2liX3N1cHBvcnQoY3JlYXRlQ2FudmFzKSB7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBjID0gY3JlYXRlQ2FudmFzKDEwMCwgMTAwKTtcbiAgICByZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAoYywgMCwgMCwgMTAwLCAxMDAsIHtcbiAgICAgIHJlc2l6ZVdpZHRoOiAxMCxcbiAgICAgIHJlc2l6ZUhlaWdodDogMTAsXG4gICAgICByZXNpemVRdWFsaXR5OiAnaGlnaCdcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChiaXRtYXApIHtcbiAgICAgIHZhciBzdGF0dXMgPSBiaXRtYXAud2lkdGggPT09IDEwOyAvLyBCcmFuY2ggYmVsb3cgaXMgZmlsdGVyZWQgb24gdXBwZXIgbGV2ZWwuIFdlIGRvIG5vdCBjYWxsIHJlc2l6ZVxuICAgICAgLy8gZGV0ZWN0aW9uIGZvciBiYXNpYyBJbWFnZUJpdG1hcC5cbiAgICAgIC8vXG4gICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSW1hZ2VCaXRtYXBcbiAgICAgIC8vIG9sZCBDcm9tZSA1MSBoYXMgSW1hZ2VCaXRtYXAgd2l0aG91dCAuY2xvc2UoKS4gVGhlbiB0aGlzIGNvZGVcbiAgICAgIC8vIHdpbGwgdGhyb3cgYW5kIHJldHVybiAnZmFsc2UnIGFzIGV4cGVjdGVkLlxuICAgICAgLy9cblxuICAgICAgYml0bWFwLmNsb3NlKCk7XG4gICAgICBjID0gbnVsbDtcbiAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfSk7XG4gIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59O1xuXG59LHt9XSwxMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vLyBXZWIgV29ya2VyIHdyYXBwZXIgZm9yIGltYWdlIHJlc2l6ZSBmdW5jdGlvblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIE1hdGhMaWIgPSBfZGVyZXFfKCcuL21hdGhsaWInKTtcblxuICB2YXIgbWF0aExpYjtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cblxuICBvbm1lc3NhZ2UgPSBmdW5jdGlvbiBvbm1lc3NhZ2UoZXYpIHtcbiAgICB2YXIgb3B0cyA9IGV2LmRhdGEub3B0cztcbiAgICBpZiAoIW1hdGhMaWIpIG1hdGhMaWIgPSBuZXcgTWF0aExpYihldi5kYXRhLmZlYXR1cmVzKTsgLy8gVXNlIG11bHRpbWF0aCdzIHN5bmMgYXV0by1pbml0LiBBdm9pZCBQcm9taXNlIHVzZSBpbiBvbGQgYnJvd3NlcnMsXG4gICAgLy8gYmVjYXVzZSBwb2x5ZmlsbHMgYXJlIG5vdCBwcm9wYWdhdGVkIHRvIHdlYndvcmtlci5cblxuICAgIHZhciByZXN1bHQgPSBtYXRoTGliLnJlc2l6ZUFuZFVuc2hhcnAob3B0cyk7XG4gICAgcG9zdE1lc3NhZ2Uoe1xuICAgICAgcmVzdWx0OiByZXN1bHRcbiAgICB9LCBbcmVzdWx0LmJ1ZmZlcl0pO1xuICB9O1xufTtcblxufSx7XCIuL21hdGhsaWJcIjoxfV0sMTQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gQ2FsY3VsYXRlIEdhdXNzaWFuIGJsdXIgb2YgYW4gaW1hZ2UgdXNpbmcgSUlSIGZpbHRlclxuLy8gVGhlIG1ldGhvZCBpcyB0YWtlbiBmcm9tIEludGVsJ3Mgd2hpdGUgcGFwZXIgYW5kIGNvZGUgZXhhbXBsZSBhdHRhY2hlZCB0byBpdDpcbi8vIGh0dHBzOi8vc29mdHdhcmUuaW50ZWwuY29tL2VuLXVzL2FydGljbGVzL2lpci1nYXVzc2lhbi1ibHVyLWZpbHRlclxuLy8gLWltcGxlbWVudGF0aW9uLXVzaW5nLWludGVsLWFkdmFuY2VkLXZlY3Rvci1leHRlbnNpb25zXG5cbnZhciBhMCwgYTEsIGEyLCBhMywgYjEsIGIyLCBsZWZ0X2Nvcm5lciwgcmlnaHRfY29ybmVyO1xuXG5mdW5jdGlvbiBnYXVzc0NvZWYoc2lnbWEpIHtcbiAgaWYgKHNpZ21hIDwgMC41KSB7XG4gICAgc2lnbWEgPSAwLjU7XG4gIH1cblxuICB2YXIgYSA9IE1hdGguZXhwKDAuNzI2ICogMC43MjYpIC8gc2lnbWEsXG4gICAgICBnMSA9IE1hdGguZXhwKC1hKSxcbiAgICAgIGcyID0gTWF0aC5leHAoLTIgKiBhKSxcbiAgICAgIGsgPSAoMSAtIGcxKSAqICgxIC0gZzEpIC8gKDEgKyAyICogYSAqIGcxIC0gZzIpO1xuXG4gIGEwID0gaztcbiAgYTEgPSBrICogKGEgLSAxKSAqIGcxO1xuICBhMiA9IGsgKiAoYSArIDEpICogZzE7XG4gIGEzID0gLWsgKiBnMjtcbiAgYjEgPSAyICogZzE7XG4gIGIyID0gLWcyO1xuICBsZWZ0X2Nvcm5lciA9IChhMCArIGExKSAvICgxIC0gYjEgLSBiMik7XG4gIHJpZ2h0X2Nvcm5lciA9IChhMiArIGEzKSAvICgxIC0gYjEgLSBiMik7XG5cbiAgLy8gQXR0ZW1wdCB0byBmb3JjZSB0eXBlIHRvIEZQMzIuXG4gIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsgYTAsIGExLCBhMiwgYTMsIGIxLCBiMiwgbGVmdF9jb3JuZXIsIHJpZ2h0X2Nvcm5lciBdKTtcbn1cblxuZnVuY3Rpb24gY29udm9sdmVNb25vMTYoc3JjLCBvdXQsIGxpbmUsIGNvZWZmLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIC8vIHRha2VzIHNyYyBpbWFnZSBhbmQgd3JpdGVzIHRoZSBibHVycmVkIGFuZCB0cmFuc3Bvc2VkIHJlc3VsdCBpbnRvIG91dFxuXG4gIHZhciBwcmV2X3NyYywgY3Vycl9zcmMsIGN1cnJfb3V0LCBwcmV2X291dCwgcHJldl9wcmV2X291dDtcbiAgdmFyIHNyY19pbmRleCwgb3V0X2luZGV4LCBsaW5lX2luZGV4O1xuICB2YXIgaSwgajtcbiAgdmFyIGNvZWZmX2EwLCBjb2VmZl9hMSwgY29lZmZfYjEsIGNvZWZmX2IyO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykge1xuICAgIHNyY19pbmRleCA9IGkgKiB3aWR0aDtcbiAgICBvdXRfaW5kZXggPSBpO1xuICAgIGxpbmVfaW5kZXggPSAwO1xuXG4gICAgLy8gbGVmdCB0byByaWdodFxuICAgIHByZXZfc3JjID0gc3JjW3NyY19pbmRleF07XG4gICAgcHJldl9wcmV2X291dCA9IHByZXZfc3JjICogY29lZmZbNl07XG4gICAgcHJldl9vdXQgPSBwcmV2X3ByZXZfb3V0O1xuXG4gICAgY29lZmZfYTAgPSBjb2VmZlswXTtcbiAgICBjb2VmZl9hMSA9IGNvZWZmWzFdO1xuICAgIGNvZWZmX2IxID0gY29lZmZbNF07XG4gICAgY29lZmZfYjIgPSBjb2VmZls1XTtcblxuICAgIGZvciAoaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7XG4gICAgICBjdXJyX3NyYyA9IHNyY1tzcmNfaW5kZXhdO1xuXG4gICAgICBjdXJyX291dCA9IGN1cnJfc3JjICogY29lZmZfYTAgK1xuICAgICAgICAgICAgICAgICBwcmV2X3NyYyAqIGNvZWZmX2ExICtcbiAgICAgICAgICAgICAgICAgcHJldl9vdXQgKiBjb2VmZl9iMSArXG4gICAgICAgICAgICAgICAgIHByZXZfcHJldl9vdXQgKiBjb2VmZl9iMjtcblxuICAgICAgcHJldl9wcmV2X291dCA9IHByZXZfb3V0O1xuICAgICAgcHJldl9vdXQgPSBjdXJyX291dDtcbiAgICAgIHByZXZfc3JjID0gY3Vycl9zcmM7XG5cbiAgICAgIGxpbmVbbGluZV9pbmRleF0gPSBwcmV2X291dDtcbiAgICAgIGxpbmVfaW5kZXgrKztcbiAgICAgIHNyY19pbmRleCsrO1xuICAgIH1cblxuICAgIHNyY19pbmRleC0tO1xuICAgIGxpbmVfaW5kZXgtLTtcbiAgICBvdXRfaW5kZXggKz0gaGVpZ2h0ICogKHdpZHRoIC0gMSk7XG5cbiAgICAvLyByaWdodCB0byBsZWZ0XG4gICAgcHJldl9zcmMgPSBzcmNbc3JjX2luZGV4XTtcbiAgICBwcmV2X3ByZXZfb3V0ID0gcHJldl9zcmMgKiBjb2VmZls3XTtcbiAgICBwcmV2X291dCA9IHByZXZfcHJldl9vdXQ7XG4gICAgY3Vycl9zcmMgPSBwcmV2X3NyYztcblxuICAgIGNvZWZmX2EwID0gY29lZmZbMl07XG4gICAgY29lZmZfYTEgPSBjb2VmZlszXTtcblxuICAgIGZvciAoaiA9IHdpZHRoIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgIGN1cnJfb3V0ID0gY3Vycl9zcmMgKiBjb2VmZl9hMCArXG4gICAgICAgICAgICAgICAgIHByZXZfc3JjICogY29lZmZfYTEgK1xuICAgICAgICAgICAgICAgICBwcmV2X291dCAqIGNvZWZmX2IxICtcbiAgICAgICAgICAgICAgICAgcHJldl9wcmV2X291dCAqIGNvZWZmX2IyO1xuXG4gICAgICBwcmV2X3ByZXZfb3V0ID0gcHJldl9vdXQ7XG4gICAgICBwcmV2X291dCA9IGN1cnJfb3V0O1xuXG4gICAgICBwcmV2X3NyYyA9IGN1cnJfc3JjO1xuICAgICAgY3Vycl9zcmMgPSBzcmNbc3JjX2luZGV4XTtcblxuICAgICAgb3V0W291dF9pbmRleF0gPSBsaW5lW2xpbmVfaW5kZXhdICsgcHJldl9vdXQ7XG5cbiAgICAgIHNyY19pbmRleC0tO1xuICAgICAgbGluZV9pbmRleC0tO1xuICAgICAgb3V0X2luZGV4IC09IGhlaWdodDtcbiAgICB9XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBibHVyTW9ubzE2KHNyYywgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSB7XG4gIC8vIFF1aWNrIGV4aXQgb24gemVybyByYWRpdXNcbiAgaWYgKCFyYWRpdXMpIHsgcmV0dXJuOyB9XG5cbiAgdmFyIG91dCAgICAgID0gbmV3IFVpbnQxNkFycmF5KHNyYy5sZW5ndGgpLFxuICAgICAgdG1wX2xpbmUgPSBuZXcgRmxvYXQzMkFycmF5KE1hdGgubWF4KHdpZHRoLCBoZWlnaHQpKTtcblxuICB2YXIgY29lZmYgPSBnYXVzc0NvZWYocmFkaXVzKTtcblxuICBjb252b2x2ZU1vbm8xNihzcmMsIG91dCwgdG1wX2xpbmUsIGNvZWZmLCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuICBjb252b2x2ZU1vbm8xNihvdXQsIHNyYywgdG1wX2xpbmUsIGNvZWZmLCBoZWlnaHQsIHdpZHRoLCByYWRpdXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJsdXJNb25vMTY7XG5cbn0se31dLDE1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgICB9XG4gIH1cbn1cblxufSx7fV0sMTY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBhc3NpZ24gICAgICAgICA9IF9kZXJlcV8oJ29iamVjdC1hc3NpZ24nKTtcbnZhciBiYXNlNjRkZWNvZGUgICA9IF9kZXJlcV8oJy4vbGliL2Jhc2U2NGRlY29kZScpO1xudmFyIGhhc1dlYkFzc2VtYmx5ID0gX2RlcmVxXygnLi9saWIvd2FfZGV0ZWN0Jyk7XG5cblxudmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcbiAganM6IHRydWUsXG4gIHdhc206IHRydWVcbn07XG5cblxuZnVuY3Rpb24gTXVsdGlNYXRoKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE11bHRpTWF0aCkpIHJldHVybiBuZXcgTXVsdGlNYXRoKG9wdGlvbnMpO1xuXG4gIHZhciBvcHRzID0gYXNzaWduKHt9LCBERUZBVUxUX09QVElPTlMsIG9wdGlvbnMgfHwge30pO1xuXG4gIHRoaXMub3B0aW9ucyAgICAgICAgID0gb3B0cztcblxuICB0aGlzLl9fY2FjaGUgICAgICAgICA9IHt9O1xuXG4gIHRoaXMuX19pbml0X3Byb21pc2UgID0gbnVsbDtcbiAgdGhpcy5fX21vZHVsZXMgICAgICAgPSBvcHRzLm1vZHVsZXMgfHwge307XG4gIHRoaXMuX19tZW1vcnkgICAgICAgID0gbnVsbDtcbiAgdGhpcy5fX3dhc20gICAgICAgICAgPSB7fTtcblxuICB0aGlzLl9faXNMRSA9ICgobmV3IFVpbnQzMkFycmF5KChuZXcgVWludDhBcnJheShbIDEsIDAsIDAsIDAgXSkpLmJ1ZmZlcikpWzBdID09PSAxKTtcblxuICBpZiAoIXRoaXMub3B0aW9ucy5qcyAmJiAhdGhpcy5vcHRpb25zLndhc20pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hdGhsaWI6IGF0IGxlYXN0IFwianNcIiBvciBcIndhc21cIiBzaG91bGQgYmUgZW5hYmxlZCcpO1xuICB9XG59XG5cblxuTXVsdGlNYXRoLnByb3RvdHlwZS5oYXNfd2FzbSA9IGhhc1dlYkFzc2VtYmx5O1xuXG5cbk11bHRpTWF0aC5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gKG1vZHVsZSkge1xuICB0aGlzLl9fbW9kdWxlc1ttb2R1bGUubmFtZV0gPSBtb2R1bGU7XG5cbiAgLy8gUGluIHRoZSBiZXN0IHBvc3NpYmxlIGltcGxlbWVudGF0aW9uXG4gIGlmICh0aGlzLm9wdGlvbnMud2FzbSAmJiB0aGlzLmhhc193YXNtKCkgJiYgbW9kdWxlLndhc21fZm4pIHtcbiAgICB0aGlzW21vZHVsZS5uYW1lXSA9IG1vZHVsZS53YXNtX2ZuO1xuICB9IGVsc2Uge1xuICAgIHRoaXNbbW9kdWxlLm5hbWVdID0gbW9kdWxlLmZuO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbk11bHRpTWF0aC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX19pbml0X3Byb21pc2UpIHJldHVybiB0aGlzLl9faW5pdF9wcm9taXNlO1xuXG4gIGlmICghdGhpcy5vcHRpb25zLmpzICYmIHRoaXMub3B0aW9ucy53YXNtICYmICF0aGlzLmhhc193YXNtKCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdtYXRobGliOiBvbmx5IFwid2FzbVwiIHdhcyBlbmFibGVkLCBidXQgaXRcXCdzIG5vdCBzdXBwb3J0ZWQnKSk7XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdGhpcy5fX2luaXRfcHJvbWlzZSA9IFByb21pc2UuYWxsKE9iamVjdC5rZXlzKHNlbGYuX19tb2R1bGVzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgbW9kdWxlID0gc2VsZi5fX21vZHVsZXNbbmFtZV07XG5cbiAgICBpZiAoIXNlbGYub3B0aW9ucy53YXNtIHx8ICFzZWxmLmhhc193YXNtKCkgfHwgIW1vZHVsZS53YXNtX2ZuKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIElmIGFscmVhZHkgY29tcGlsZWQgLSBleGl0XG4gICAgaWYgKHNlbGYuX193YXNtW25hbWVdKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIENvbXBpbGUgd2FzbSBzb3VyY2VcbiAgICByZXR1cm4gV2ViQXNzZW1ibHkuY29tcGlsZShzZWxmLl9fYmFzZTY0ZGVjb2RlKG1vZHVsZS53YXNtX3NyYykpXG4gICAgICAudGhlbihmdW5jdGlvbiAobSkgeyBzZWxmLl9fd2FzbVtuYW1lXSA9IG07IH0pO1xuICB9KSlcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBzZWxmOyB9KTtcblxuICByZXR1cm4gdGhpcy5fX2luaXRfcHJvbWlzZTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIE1ldGhvZHMgYmVsb3cgYXJlIGZvciBpbnRlcm5hbCB1c2UgZnJvbSBwbHVnaW5zXG5cblxuLy8gU2ltcGxlIGRlY29kZSBiYXNlNjQgdG8gdHlwZWQgYXJyYXkuIFVzZWZ1bCB0byBsb2FkIGVtYmVkZGVkIHdlYmFzc2VtYmx5XG4vLyBjb2RlLiBZb3UgcHJvYmFibHkgZG9uJ3QgbmVlZCB0byBjYWxsIHRoaXMgbWV0aG9kIGRpcmVjdGx5LlxuLy9cbk11bHRpTWF0aC5wcm90b3R5cGUuX19iYXNlNjRkZWNvZGUgPSBiYXNlNjRkZWNvZGU7XG5cblxuLy8gSW5jcmVhc2UgY3VycmVudCBtZW1vcnkgdG8gaW5jbHVkZSBzcGVjaWZpZWQgbnVtYmVyIG9mIGJ5dGVzLiBEbyBub3RoaW5nIGlmXG4vLyBzaXplIGlzIGFscmVhZHkgb2suIFlvdSBwcm9iYWJseSBkb24ndCBuZWVkIHRvIGNhbGwgdGhpcyBtZXRob2QgZGlyZWN0bHksXG4vLyBiZWNhdXNlIGl0IHdpbGwgYmUgaW52b2tlZCBmcm9tIGAuX19pbnN0YW5jZSgpYC5cbi8vXG5NdWx0aU1hdGgucHJvdG90eXBlLl9fcmVhbGxvY2F0ZSA9IGZ1bmN0aW9uIG1lbV9ncm93X3RvKGJ5dGVzKSB7XG4gIGlmICghdGhpcy5fX21lbW9yeSkge1xuICAgIHRoaXMuX19tZW1vcnkgPSBuZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtcbiAgICAgIGluaXRpYWw6IE1hdGguY2VpbChieXRlcyAvICg2NCAqIDEwMjQpKVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9fbWVtb3J5O1xuICB9XG5cbiAgdmFyIG1lbV9zaXplID0gdGhpcy5fX21lbW9yeS5idWZmZXIuYnl0ZUxlbmd0aDtcblxuICBpZiAobWVtX3NpemUgPCBieXRlcykge1xuICAgIHRoaXMuX19tZW1vcnkuZ3JvdyhNYXRoLmNlaWwoKGJ5dGVzIC0gbWVtX3NpemUpIC8gKDY0ICogMTAyNCkpKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9fbWVtb3J5O1xufTtcblxuXG4vLyBSZXR1cm5zIGluc3RhbnRpbmF0ZWQgd2ViYXNzZW1ibHkgaXRlbSBieSBuYW1lLCB3aXRoIHNwZWNpZmllZCBtZW1vcnkgc2l6ZVxuLy8gYW5kIGVudmlyb25tZW50LlxuLy8gLSB1c2UgY2FjaGUgaWYgYXZhaWxhYmxlXG4vLyAtIGRvIHN5bmMgbW9kdWxlIGluaXQsIGlmIGFzeW5jIGluaXQgd2FzIG5vdCBjYWxsZWQgZWFybGllclxuLy8gLSBhbGxvY2F0ZSBtZW1vcnkgaWYgbm90IGVub3VndGhcbi8vIC0gY2FuIGV4cG9ydCBmdW5jdGlvbnMgdG8gd2ViYXNzZW1ibHkgdmlhIFwiZW52X2V4dHJhXCIsXG4vLyAgIGZvciBleGFtcGxlLCB7IGV4cDogTWF0aC5leHAgfVxuLy9cbk11bHRpTWF0aC5wcm90b3R5cGUuX19pbnN0YW5jZSA9IGZ1bmN0aW9uIGluc3RhbmNlKG5hbWUsIG1lbXNpemUsIGVudl9leHRyYSkge1xuICBpZiAobWVtc2l6ZSkgdGhpcy5fX3JlYWxsb2NhdGUobWVtc2l6ZSk7XG5cbiAgLy8gSWYgLmluaXQoKSB3YXMgbm90IGNhbGxlZCwgZG8gc3luYyBjb21waWxlXG4gIGlmICghdGhpcy5fX3dhc21bbmFtZV0pIHtcbiAgICB2YXIgbW9kdWxlID0gdGhpcy5fX21vZHVsZXNbbmFtZV07XG4gICAgdGhpcy5fX3dhc21bbmFtZV0gPSBuZXcgV2ViQXNzZW1ibHkuTW9kdWxlKHRoaXMuX19iYXNlNjRkZWNvZGUobW9kdWxlLndhc21fc3JjKSk7XG4gIH1cblxuICBpZiAoIXRoaXMuX19jYWNoZVtuYW1lXSkge1xuICAgIHZhciBlbnZfYmFzZSA9IHtcbiAgICAgIG1lbW9yeUJhc2U6IDAsXG4gICAgICBtZW1vcnk6IHRoaXMuX19tZW1vcnksXG4gICAgICB0YWJsZUJhc2U6IDAsXG4gICAgICB0YWJsZTogbmV3IFdlYkFzc2VtYmx5LlRhYmxlKHsgaW5pdGlhbDogMCwgZWxlbWVudDogJ2FueWZ1bmMnIH0pXG4gICAgfTtcblxuICAgIHRoaXMuX19jYWNoZVtuYW1lXSA9IG5ldyBXZWJBc3NlbWJseS5JbnN0YW5jZSh0aGlzLl9fd2FzbVtuYW1lXSwge1xuICAgICAgZW52OiBhc3NpZ24oZW52X2Jhc2UsIGVudl9leHRyYSB8fCB7fSlcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9fY2FjaGVbbmFtZV07XG59O1xuXG5cbi8vIEhlbHBlciB0byBjYWxjdWxhdGUgbWVtb3J5IGFsaWdoIGZvciBwb2ludGVycy4gV2ViYXNzZW1ibHkgZG9lcyBub3QgcmVxdWlyZVxuLy8gdGhpcywgYnV0IHlvdSBtYXkgd2lzaCB0byBleHBlcmltZW50LiBEZWZhdWx0IGJhc2UgPSA4O1xuLy9cbk11bHRpTWF0aC5wcm90b3R5cGUuX19hbGlnbiA9IGZ1bmN0aW9uIGFsaWduKG51bWJlciwgYmFzZSkge1xuICBiYXNlID0gYmFzZSB8fCA4O1xuICB2YXIgcmVtaW5kZXIgPSBudW1iZXIgJSBiYXNlO1xuICByZXR1cm4gbnVtYmVyICsgKHJlbWluZGVyID8gYmFzZSAtIHJlbWluZGVyIDogMCk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gTXVsdGlNYXRoO1xuXG59LHtcIi4vbGliL2Jhc2U2NGRlY29kZVwiOjE3LFwiLi9saWIvd2FfZGV0ZWN0XCI6MjMsXCJvYmplY3QtYXNzaWduXCI6MjR9XSwxNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vLyBiYXNlNjQgZGVjb2RlIHN0ciAtPiBVaW50OEFycmF5LCB0byBsb2FkIFdBIG1vZHVsZXNcbi8vXG4ndXNlIHN0cmljdCc7XG5cblxudmFyIEJBU0U2NF9NQVAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiYXNlNjRkZWNvZGUoc3RyKSB7XG4gIHZhciBpbnB1dCA9IHN0ci5yZXBsYWNlKC9bXFxyXFxuPV0vZywgJycpLCAvLyByZW1vdmUgQ1IvTEYgJiBwYWRkaW5nIHRvIHNpbXBsaWZ5IHNjYW5cbiAgICAgIG1heCAgID0gaW5wdXQubGVuZ3RoO1xuXG4gIHZhciBvdXQgPSBuZXcgVWludDhBcnJheSgobWF4ICogMykgPj4gMik7XG5cbiAgLy8gQ29sbGVjdCBieSA2KjQgYml0cyAoMyBieXRlcylcblxuICB2YXIgYml0cyA9IDA7XG4gIHZhciBwdHIgID0gMDtcblxuICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBtYXg7IGlkeCsrKSB7XG4gICAgaWYgKChpZHggJSA0ID09PSAwKSAmJiBpZHgpIHtcbiAgICAgIG91dFtwdHIrK10gPSAoYml0cyA+PiAxNikgJiAweEZGO1xuICAgICAgb3V0W3B0cisrXSA9IChiaXRzID4+IDgpICYgMHhGRjtcbiAgICAgIG91dFtwdHIrK10gPSBiaXRzICYgMHhGRjtcbiAgICB9XG5cbiAgICBiaXRzID0gKGJpdHMgPDwgNikgfCBCQVNFNjRfTUFQLmluZGV4T2YoaW5wdXQuY2hhckF0KGlkeCkpO1xuICB9XG5cbiAgLy8gRHVtcCB0YWlsXG5cbiAgdmFyIHRhaWxiaXRzID0gKG1heCAlIDQpICogNjtcblxuICBpZiAodGFpbGJpdHMgPT09IDApIHtcbiAgICBvdXRbcHRyKytdID0gKGJpdHMgPj4gMTYpICYgMHhGRjtcbiAgICBvdXRbcHRyKytdID0gKGJpdHMgPj4gOCkgJiAweEZGO1xuICAgIG91dFtwdHIrK10gPSBiaXRzICYgMHhGRjtcbiAgfSBlbHNlIGlmICh0YWlsYml0cyA9PT0gMTgpIHtcbiAgICBvdXRbcHRyKytdID0gKGJpdHMgPj4gMTApICYgMHhGRjtcbiAgICBvdXRbcHRyKytdID0gKGJpdHMgPj4gMikgJiAweEZGO1xuICB9IGVsc2UgaWYgKHRhaWxiaXRzID09PSAxMikge1xuICAgIG91dFtwdHIrK10gPSAoYml0cyA+PiA0KSAmIDB4RkY7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxufSx7fV0sMTg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gQ2FsY3VsYXRlcyAxNi1iaXQgcHJlY2lzaW9uIEhTTCBsaWdodG5lc3MgZnJvbSA4LWJpdCByZ2JhIGJ1ZmZlclxuLy9cbid1c2Ugc3RyaWN0JztcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhzbF9sMTZfanMoaW1nLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIHZhciBzaXplID0gd2lkdGggKiBoZWlnaHQ7XG4gIHZhciBvdXQgPSBuZXcgVWludDE2QXJyYXkoc2l6ZSk7XG4gIHZhciByLCBnLCBiLCBtaW4sIG1heDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICByID0gaW1nWzQgKiBpXTtcbiAgICBnID0gaW1nWzQgKiBpICsgMV07XG4gICAgYiA9IGltZ1s0ICogaSArIDJdO1xuICAgIG1heCA9IChyID49IGcgJiYgciA+PSBiKSA/IHIgOiAoZyA+PSBiICYmIGcgPj0gcikgPyBnIDogYjtcbiAgICBtaW4gPSAociA8PSBnICYmIHIgPD0gYikgPyByIDogKGcgPD0gYiAmJiBnIDw9IHIpID8gZyA6IGI7XG4gICAgb3V0W2ldID0gKG1heCArIG1pbikgKiAyNTcgPj4gMTtcbiAgfVxuICByZXR1cm4gb3V0O1xufTtcblxufSx7fV0sMTk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbmFtZTogICAgICd1bnNoYXJwX21hc2snLFxuICBmbjogICAgICAgX2RlcmVxXygnLi91bnNoYXJwX21hc2snKSxcbiAgd2FzbV9mbjogIF9kZXJlcV8oJy4vdW5zaGFycF9tYXNrX3dhc20nKSxcbiAgd2FzbV9zcmM6IF9kZXJlcV8oJy4vdW5zaGFycF9tYXNrX3dhc21fYmFzZTY0Jylcbn07XG5cbn0se1wiLi91bnNoYXJwX21hc2tcIjoyMCxcIi4vdW5zaGFycF9tYXNrX3dhc21cIjoyMSxcIi4vdW5zaGFycF9tYXNrX3dhc21fYmFzZTY0XCI6MjJ9XSwyMDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vLyBVbnNoYXJwIG1hc2sgZmlsdGVyXG4vL1xuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjMzMjI4MjAvMTAzMTgwNFxuLy8gVVNNKE8pID0gTyArICgyICogKEFtb3VudCAvIDEwMCkgKiAoTyAtIEdCKSlcbi8vIEdCIC0gZ2F1c3NpYW4gYmx1ci5cbi8vXG4vLyBJbWFnZSBpcyBjb252ZXJ0ZWQgZnJvbSBSR0IgdG8gSFNMLCB1bnNoYXJwIG1hc2sgaXMgYXBwbGllZCB0byB0aGVcbi8vIGxpZ2h0bmVzcyBjaGFubmVsIGFuZCB0aGVuIGltYWdlIGlzIGNvbnZlcnRlZCBiYWNrIHRvIFJHQi5cbi8vXG4ndXNlIHN0cmljdCc7XG5cblxudmFyIGdsdXJfbW9ubzE2ID0gX2RlcmVxXygnZ2x1ci9tb25vMTYnKTtcbnZhciBoc2xfbDE2ICAgICA9IF9kZXJlcV8oJy4vaHNsX2wxNicpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdW5zaGFycChpbWcsIHdpZHRoLCBoZWlnaHQsIGFtb3VudCwgcmFkaXVzLCB0aHJlc2hvbGQpIHtcbiAgdmFyIHIsIGcsIGI7XG4gIHZhciBoLCBzLCBsO1xuICB2YXIgbWluLCBtYXg7XG4gIHZhciBtMSwgbTIsIGhTaGlmdGVkO1xuICB2YXIgZGlmZiwgaVRpbWVzNDtcblxuICBpZiAoYW1vdW50ID09PSAwIHx8IHJhZGl1cyA8IDAuNSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocmFkaXVzID4gMi4wKSB7XG4gICAgcmFkaXVzID0gMi4wO1xuICB9XG5cbiAgdmFyIGxpZ2h0bmVzcyA9IGhzbF9sMTYoaW1nLCB3aWR0aCwgaGVpZ2h0KTtcblxuICB2YXIgYmx1cmVkID0gbmV3IFVpbnQxNkFycmF5KGxpZ2h0bmVzcyk7IC8vIGNvcHksIGJlY2F1c2UgYmx1ciBtb2RpZnkgc3JjXG5cbiAgZ2x1cl9tb25vMTYoYmx1cmVkLCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuXG4gIHZhciBhbW91bnRGcCA9IChhbW91bnQgLyAxMDAgKiAweDEwMDAgKyAwLjUpfDA7XG4gIHZhciB0aHJlc2hvbGRGcCA9ICh0aHJlc2hvbGQgKiAyNTcpfDA7XG5cbiAgdmFyIHNpemUgPSB3aWR0aCAqIGhlaWdodDtcblxuICAvKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICBkaWZmID0gMiAqIChsaWdodG5lc3NbaV0gLSBibHVyZWRbaV0pO1xuXG4gICAgaWYgKE1hdGguYWJzKGRpZmYpID49IHRocmVzaG9sZEZwKSB7XG4gICAgICBpVGltZXM0ID0gaSAqIDQ7XG4gICAgICByID0gaW1nW2lUaW1lczRdO1xuICAgICAgZyA9IGltZ1tpVGltZXM0ICsgMV07XG4gICAgICBiID0gaW1nW2lUaW1lczQgKyAyXTtcblxuICAgICAgLy8gY29udmVydCBSR0IgdG8gSFNMXG4gICAgICAvLyB0YWtlIFJHQiwgOC1iaXQgdW5zaWduZWQgaW50ZWdlciBwZXIgZWFjaCBjaGFubmVsXG4gICAgICAvLyBzYXZlIEhTTCwgSCBhbmQgTCBhcmUgMTYtYml0IHVuc2lnbmVkIGludGVnZXJzLCBTIGlzIDEyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyXG4gICAgICAvLyBtYXRoIGlzIHRha2VuIGZyb20gaGVyZTogaHR0cDovL3d3dy5lYXN5cmdiLmNvbS9pbmRleC5waHA/WD1NQVRIJkg9MThcbiAgICAgIC8vIGFuZCBhZG9wdGVkIHRvIGJlIGludGVnZXIgKGZpeGVkIHBvaW50IGluIGZhY3QpIGZvciBzYWtlIG9mIHBlcmZvcm1hbmNlXG4gICAgICBtYXggPSAociA+PSBnICYmIHIgPj0gYikgPyByIDogKGcgPj0gciAmJiBnID49IGIpID8gZyA6IGI7IC8vIG1pbiBhbmQgbWF4IGFyZSBpbiBbMC4uMHhmZl1cbiAgICAgIG1pbiA9IChyIDw9IGcgJiYgciA8PSBiKSA/IHIgOiAoZyA8PSByICYmIGcgPD0gYikgPyBnIDogYjtcbiAgICAgIGwgPSAobWF4ICsgbWluKSAqIDI1NyA+PiAxOyAvLyBsIGlzIGluIFswLi4weGZmZmZdIHRoYXQgaXMgY2F1c2VkIGJ5IG11bHRpcGxpY2F0aW9uIGJ5IDI1N1xuXG4gICAgICBpZiAobWluID09PSBtYXgpIHtcbiAgICAgICAgaCA9IHMgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyA9IChsIDw9IDB4N2ZmZikgP1xuICAgICAgICAgICgoKG1heCAtIG1pbikgKiAweGZmZikgLyAobWF4ICsgbWluKSl8MCA6XG4gICAgICAgICAgKCgobWF4IC0gbWluKSAqIDB4ZmZmKSAvICgyICogMHhmZiAtIG1heCAtIG1pbikpfDA7IC8vIHMgaXMgaW4gWzAuLjB4ZmZmXVxuICAgICAgICAvLyBoIGNvdWxkIGJlIGxlc3MgMCwgaXQgd2lsbCBiZSBmaXhlZCBpbiBiYWNrd2FyZCBjb252ZXJzaW9uIHRvIFJHQiwgfGh8IDw9IDB4ZmZmZiAvIDZcbiAgICAgICAgaCA9IChyID09PSBtYXgpID8gKCgoZyAtIGIpICogMHhmZmZmKSAvICg2ICogKG1heCAtIG1pbikpKXwwXG4gICAgICAgICAgOiAoZyA9PT0gbWF4KSA/IDB4NTU1NSArICgoKChiIC0gcikgKiAweGZmZmYpIC8gKDYgKiAobWF4IC0gbWluKSkpfDApIC8vIDB4NTU1NSA9PSAweGZmZmYgLyAzXG4gICAgICAgICAgOiAweGFhYWEgKyAoKCgociAtIGcpICogMHhmZmZmKSAvICg2ICogKG1heCAtIG1pbikpKXwwKTsgLy8gMHhhYWFhID09IDB4ZmZmZiAqIDIgLyAzXG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCB1bnNoYXJwIG1hc2sgbWFzayB0byB0aGUgbGlnaHRuZXNzIGNoYW5uZWxcbiAgICAgIGwgKz0gKGFtb3VudEZwICogZGlmZiArIDB4ODAwKSA+PiAxMjtcbiAgICAgIGlmIChsID4gMHhmZmZmKSB7XG4gICAgICAgIGwgPSAweGZmZmY7XG4gICAgICB9IGVsc2UgaWYgKGwgPCAwKSB7XG4gICAgICAgIGwgPSAwO1xuICAgICAgfVxuXG4gICAgICAvLyBjb252ZXJ0IEhTTCBiYWNrIHRvIFJHQlxuICAgICAgLy8gZm9yIGluZm9ybWF0aW9uIGFib3V0IG1hdGggbG9vayBhYm92ZVxuICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgciA9IGcgPSBiID0gbCA+PiA4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbTIgPSAobCA8PSAweDdmZmYpID8gKGwgKiAoMHgxMDAwICsgcykgKyAweDgwMCkgPj4gMTIgOlxuICAgICAgICAgIGwgICsgKCgoMHhmZmZmIC0gbCkgKiBzICsgMHg4MDApID4+ICAxMik7XG4gICAgICAgIG0xID0gMiAqIGwgLSBtMiA+PiA4O1xuICAgICAgICBtMiA+Pj0gODtcbiAgICAgICAgLy8gc2F2ZSByZXN1bHQgdG8gUkdCIGNoYW5uZWxzXG4gICAgICAgIC8vIFIgY2hhbm5lbFxuICAgICAgICBoU2hpZnRlZCA9IChoICsgMHg1NTU1KSAmIDB4ZmZmZjsgLy8gMHg1NTU1ID09IDB4ZmZmZiAvIDNcbiAgICAgICAgciA9IChoU2hpZnRlZCA+PSAweGFhYWEpID8gbTEgLy8gMHhhYWFhID09IDB4ZmZmZiAqIDIgLyAzXG4gICAgICAgICAgOiAoaFNoaWZ0ZWQgPj0gMHg3ZmZmKSA/ICBtMSArICgobTIgLSBtMSkgKiA2ICogKDB4YWFhYSAtIGhTaGlmdGVkKSArIDB4ODAwMCA+PiAxNilcbiAgICAgICAgICA6IChoU2hpZnRlZCA+PSAweDJhYWEpID8gbTIgLy8gMHgyYWFhID09IDB4ZmZmZiAvIDZcbiAgICAgICAgICA6IG0xICsgKChtMiAtIG0xKSAqIDYgKiBoU2hpZnRlZCArIDB4ODAwMCA+PiAxNik7XG4gICAgICAgIC8vIEcgY2hhbm5lbFxuICAgICAgICBoU2hpZnRlZCA9IGggJiAweGZmZmY7XG4gICAgICAgIGcgPSAoaFNoaWZ0ZWQgPj0gMHhhYWFhKSA/IG0xIC8vIDB4YWFhYSA9PSAweGZmZmYgKiAyIC8gM1xuICAgICAgICAgIDogKGhTaGlmdGVkID49IDB4N2ZmZikgPyAgbTEgKyAoKG0yIC0gbTEpICogNiAqICgweGFhYWEgLSBoU2hpZnRlZCkgKyAweDgwMDAgPj4gMTYpXG4gICAgICAgICAgOiAoaFNoaWZ0ZWQgPj0gMHgyYWFhKSA/IG0yIC8vIDB4MmFhYSA9PSAweGZmZmYgLyA2XG4gICAgICAgICAgOiBtMSArICgobTIgLSBtMSkgKiA2ICogaFNoaWZ0ZWQgKyAweDgwMDAgPj4gMTYpO1xuICAgICAgICAvLyBCIGNoYW5uZWxcbiAgICAgICAgaFNoaWZ0ZWQgPSAoaCAtIDB4NTU1NSkgJiAweGZmZmY7XG4gICAgICAgIGIgPSAoaFNoaWZ0ZWQgPj0gMHhhYWFhKSA/IG0xIC8vIDB4YWFhYSA9PSAweGZmZmYgKiAyIC8gM1xuICAgICAgICAgIDogKGhTaGlmdGVkID49IDB4N2ZmZikgPyAgbTEgKyAoKG0yIC0gbTEpICogNiAqICgweGFhYWEgLSBoU2hpZnRlZCkgKyAweDgwMDAgPj4gMTYpXG4gICAgICAgICAgOiAoaFNoaWZ0ZWQgPj0gMHgyYWFhKSA/IG0yIC8vIDB4MmFhYSA9PSAweGZmZmYgLyA2XG4gICAgICAgICAgOiBtMSArICgobTIgLSBtMSkgKiA2ICogaFNoaWZ0ZWQgKyAweDgwMDAgPj4gMTYpO1xuICAgICAgfVxuXG4gICAgICBpbWdbaVRpbWVzNF0gPSByO1xuICAgICAgaW1nW2lUaW1lczQgKyAxXSA9IGc7XG4gICAgICBpbWdbaVRpbWVzNCArIDJdID0gYjtcbiAgICB9XG4gIH1cbn07XG5cbn0se1wiLi9oc2xfbDE2XCI6MTgsXCJnbHVyL21vbm8xNlwiOjE0fV0sMjE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdW5zaGFycChpbWcsIHdpZHRoLCBoZWlnaHQsIGFtb3VudCwgcmFkaXVzLCB0aHJlc2hvbGQpIHtcbiAgaWYgKGFtb3VudCA9PT0gMCB8fCByYWRpdXMgPCAwLjUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocmFkaXVzID4gMi4wKSB7XG4gICAgcmFkaXVzID0gMi4wO1xuICB9XG5cbiAgdmFyIHBpeGVscyA9IHdpZHRoICogaGVpZ2h0O1xuXG4gIHZhciBpbWdfYnl0ZXNfY250ICAgICAgICA9IHBpeGVscyAqIDQ7XG4gIHZhciBoc2xfYnl0ZXNfY250ICAgICAgICA9IHBpeGVscyAqIDI7XG4gIHZhciBibHVyX2J5dGVzX2NudCAgICAgICA9IHBpeGVscyAqIDI7XG4gIHZhciBibHVyX2xpbmVfYnl0ZV9jbnQgICA9IE1hdGgubWF4KHdpZHRoLCBoZWlnaHQpICogNDsgLy8gZmxvYXQzMiBhcnJheVxuICB2YXIgYmx1cl9jb2VmZnNfYnl0ZV9jbnQgPSA4ICogNDsgLy8gZmxvYXQzMiBhcnJheVxuXG4gIHZhciBpbWdfb2Zmc2V0ICAgICAgICAgPSAwO1xuICB2YXIgaHNsX29mZnNldCAgICAgICAgID0gaW1nX2J5dGVzX2NudDtcbiAgdmFyIGJsdXJfb2Zmc2V0ICAgICAgICA9IGhzbF9vZmZzZXQgKyBoc2xfYnl0ZXNfY250O1xuICB2YXIgYmx1cl90bXBfb2Zmc2V0ICAgID0gYmx1cl9vZmZzZXQgKyBibHVyX2J5dGVzX2NudDtcbiAgdmFyIGJsdXJfbGluZV9vZmZzZXQgICA9IGJsdXJfdG1wX29mZnNldCArIGJsdXJfYnl0ZXNfY250O1xuICB2YXIgYmx1cl9jb2VmZnNfb2Zmc2V0ID0gYmx1cl9saW5lX29mZnNldCArIGJsdXJfbGluZV9ieXRlX2NudDtcblxuICB2YXIgaW5zdGFuY2UgPSB0aGlzLl9faW5zdGFuY2UoXG4gICAgJ3Vuc2hhcnBfbWFzaycsXG4gICAgaW1nX2J5dGVzX2NudCArIGhzbF9ieXRlc19jbnQgKyBibHVyX2J5dGVzX2NudCAqIDIgKyBibHVyX2xpbmVfYnl0ZV9jbnQgKyBibHVyX2NvZWZmc19ieXRlX2NudCxcbiAgICB7IGV4cDogTWF0aC5leHAgfVxuICApO1xuXG4gIC8vIDMyLWJpdCBjb3B5IGlzIG11Y2ggZmFzdGVyIGluIGNocm9tZVxuICB2YXIgaW1nMzIgPSBuZXcgVWludDMyQXJyYXkoaW1nLmJ1ZmZlcik7XG4gIHZhciBtZW0zMiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLl9fbWVtb3J5LmJ1ZmZlcik7XG4gIG1lbTMyLnNldChpbWczMik7XG5cbiAgLy8gSFNMXG4gIHZhciBmbiA9IGluc3RhbmNlLmV4cG9ydHMuaHNsX2wxNiB8fCBpbnN0YW5jZS5leHBvcnRzLl9oc2xfbDE2O1xuICBmbihpbWdfb2Zmc2V0LCBoc2xfb2Zmc2V0LCB3aWR0aCwgaGVpZ2h0KTtcblxuICAvLyBCTFVSXG4gIGZuID0gaW5zdGFuY2UuZXhwb3J0cy5ibHVyTW9ubzE2IHx8IGluc3RhbmNlLmV4cG9ydHMuX2JsdXJNb25vMTY7XG4gIGZuKGhzbF9vZmZzZXQsIGJsdXJfb2Zmc2V0LCBibHVyX3RtcF9vZmZzZXQsXG4gICAgYmx1cl9saW5lX29mZnNldCwgYmx1cl9jb2VmZnNfb2Zmc2V0LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuXG4gIC8vIFVOU0hBUlBcbiAgZm4gPSBpbnN0YW5jZS5leHBvcnRzLnVuc2hhcnAgfHwgaW5zdGFuY2UuZXhwb3J0cy5fdW5zaGFycDtcbiAgZm4oaW1nX29mZnNldCwgaW1nX29mZnNldCwgaHNsX29mZnNldCxcbiAgICBibHVyX29mZnNldCwgd2lkdGgsIGhlaWdodCwgYW1vdW50LCB0aHJlc2hvbGQpO1xuXG4gIC8vIDMyLWJpdCBjb3B5IGlzIG11Y2ggZmFzdGVyIGluIGNocm9tZVxuICBpbWczMi5zZXQobmV3IFVpbnQzMkFycmF5KHRoaXMuX19tZW1vcnkuYnVmZmVyLCAwLCBwaXhlbHMpKTtcbn07XG5cbn0se31dLDIyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8vIFRoaXMgaXMgYXV0b2dlbmVyYXRlZCBmaWxlIGZyb20gbWF0aC53YXNtLCBkb24ndCBlZGl0LlxuLy9cbid1c2Ugc3RyaWN0JztcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAnQUdGemJRRUFBQUFCTVFaZ0FYd0JmR0FDZlg4QVlBWi9mMzkvZjM4QVlBaC9mMzkvZjM5L2ZRQmdCSDkvZjM4QVlBaC9mMzkvZjM5L2Z3QUNHUUlEWlc1MkEyVjRjQUFBQTJWdWRnWnRaVzF2Y25rQ0FBRURCZ1VCQWdNRUJRUUVBWEFBQUFkTUJSWmZYMkoxYVd4a1gyZGhkWE56YVdGdVgyTnZaV1p6QUFFT1gxOW5ZWFZ6Y3pFMlgyeHBibVVBQWdwaWJIVnlUVzl1YnpFMkFBTUhhSE5zWDJ3eE5nQUVCM1Z1YzJoaGNuQUFCUWtCQUFxSkVBWFpBUUVHZkFKQUlBRkUyNGE2UTRJYSt6OGdBTHVqSWdPYUVBQWlCQ0FFb0NJR3RqZ0NFQ0FCSUFORUFBQUFBQUFBQU1DaUVBQWlCYmFNT0FJVUlBRkVBQUFBQUFBQThEOGdCS0VpQWlBQ29pQUVJQU1nQTZDaVJBQUFBQUFBQVBBL29DQUZvYU1pQXJZNEFnQWdBU0FFSUFORUFBQUFBQUFBOEwrZ0lBS2lvaUlIdGpnQ0JDQUJJQVFnQTBRQUFBQUFBQUR3UDZBZ0FxS2lJZ08yT0FJSUlBRWdCU0FDb2lJRXRvdzRBZ3dnQVNBQ0lBZWdJQVZFQUFBQUFBQUE4RDhnQnFHZ0lnS2p0amdDR0NBQklBTWdCS0VnQXFPMk9BSWNDd3UzQXdNRGZ3UjlDSHdDUUNBREtnSVVJUWtnQXlvQ0VDRUtJQU1xQWd3aEN5QURLZ0lJSVF3Q1FDQUVRWDlxSWdkQkFFZ2lDQTBBSUFJZ0FDOEJBTGdpRFNBREtnSVl1NklpRGlBSnV5SVFvaUFPSUFxN0loR2lJQTBnQXlvQ0JMc2lFcUlnQXlvQ0FMc2lFeUFOb3FDZ29DSVB0amdDQUNBQ1FRUnFJUUlnQUVFQ2FpRUFJQWRGRFFBZ0JDRUdBMEFnQWlBT0lCQ2lJQThpRGlBUm9pQU5JQktpSUJNZ0FDOEJBTGdpRGFLZ29LQWlEN1k0QWdBZ0FrRUVhaUVDSUFCQkFtb2hBQ0FHUVg5cUlnWkJBVW9OQUFzTEFrQWdDQTBBSUFFZ0J5QUZiRUVCZEdvZ0FFRithaThCQUNJSXVDSU5JQXU3SWhHaUlBMGdETHNpRXFLZ0lBMGdBeW9DSEx1aUlnNGdDcnNpRTZLZ0lBNGdDYnNpRktLZ0lnOGdBa0Y4YWlvQ0FMdWdxenNCQUNBSFJRMEFJQUpCZUdvaEFpQUFRWHhxSVFCQkFDQUZRUUYwYXlFSElBRWdCU0FFUVFGMFFYeHFiR29oQmdOQUlBZ2hBeUFBTHdFQUlRZ2dCaUFOSUJHaUlBTzRJZzBnRXFLZ0lBOGlFQ0FUb3FBZ0RpQVVvcUFpRHlBQ0tnSUF1NkNyT3dFQUlBWWdCMm9oQmlBQVFYNXFJUUFnQWtGOGFpRUNJQkFoRGlBRVFYOXFJZ1JCQVVvTkFBc0xDd3ZmQWdJRGZ3WjhBa0FnQjBNQUFBQUFXdzBBSUFSRTI0YTZRNElhK3o4Z0IwTUFBQUEvbDd1aklneWFFQUFpRFNBTm9DSVB0amdDRUNBRUlBeEVBQUFBQUFBQUFNQ2lFQUFpRHJhTU9BSVVJQVJFQUFBQUFBQUE4RDhnRGFFaUN5QUxvaUFOSUF3Z0RLQ2lSQUFBQUFBQUFQQS9vQ0FPb2FNaUM3WTRBZ0FnQkNBTklBeEVBQUFBQUFBQThMK2dJQXVpb2lJUXRqZ0NCQ0FFSUEwZ0RFUUFBQUFBQUFEd1A2QWdDNktpSWd5Mk9BSUlJQVFnRGlBTG9pSU50b3c0QWd3Z0JDQUxJQkNnSUE1RUFBQUFBQUFBOEQ4Z0Q2R2dJZ3VqdGpnQ0dDQUVJQXdnRGFFZ0M2TzJPQUljSUFZRVFDQUZRUUYwSVFvZ0JpRUpJQUloQ0FOQUlBQWdDQ0FESUFRZ0JTQUdFQUlnQUNBS2FpRUFJQWhCQW1vaENDQUpRWDlxSWdrTkFBc0xJQVZGRFFBZ0JrRUJkQ0VJSUFVaEFBTkFJQUlnQVNBRElBUWdCaUFGRUFJZ0FpQUlhaUVDSUFGQkFtb2hBU0FBUVg5cUlnQU5BQXNMQzd3QkFRVi9JQU1nQW13aUF3UkFRUUFnQTJzaEJnTkFJQUFvQWdBaUJFRUlkaUlIUWY4QmNTRUNBbjhnQkVIL0FYRWlBeUFFUVJCMklnUkIvd0Z4SWdWUEJFQWdBeUlJSUFNZ0FrOE5BUm9MSUFRZ0JDQUhJQUlnQTBrYklBSWdCVWtiUWY4QmNRc2hDQUpBSUFNZ0FrMEVRQ0FESUFWTkRRRUxJQVFnQnlBRUlBTWdBazhiSUFJZ0JVc2JRZjhCY1NFREN5QUFRUVJxSVFBZ0FTQURJQWhxUVlFQ2JFRUJkanNCQUNBQlFRSnFJUUVnQmtFQmFpSUdEUUFMQ3d2VEJnRUtmd0pBSUFhelF3QUFnRVdVUXdBQXlFS1Z1MFFBQUFBQUFBRGdQNkNxSVEwZ0JTQUViQ0lMQkVBZ0IwR0JBbXdoRGdOQVFRQWdBaThCQUNBREx3RUFheUlHUVFGMElnZHJJQWNnQmtFQVNCc2dEazhFUUNBQVFRSnFMUUFBSVFVQ2Z5QUFMUUFBSWdZZ0FFRUJhaTBBQUNJRVNTSUpSUVJBSUFZaUNDQUdJQVZQRFFFYUN5QUZJQVVnQkNBRUlBVkpHeUFHSUFSTEd3c2hDQUovSUFZZ0JFMEVRQ0FHSWdvZ0JpQUZUUTBCR2dzZ0JTQUZJQVFnQkNBRlN4c2dDUnNMSWdvZ0NHb2lEMEdCQW13aUVFRUJkaUVSUVFBaERBSi9RUUFpQ1NBSUlBcEdEUUFhSUFnZ0Ntc2lDVUgvSDJ3Z0QwSCtBeUFJYXlBS2F5QVFRWUNBQkVrYmJTRU1JQVlnQ0VZRVFDQUVJQVZyUWYvL0Eyd2dDVUVHYkcwTUFRc2dCU0FHYXlBR0lBUnJJQVFnQ0VZaUJodEIvLzhEYkNBSlFRWnNiVUhWcWdGQnF0VUNJQVliYWdzaENTQVJJQWNnRFd4QmdCQnFRUXgxYWlJR1FRQWdCa0VBU2hzaUJrSC8vd01nQmtILy93TklHeUVHQWtBQ2Z3SkFJQXhCLy84RGNTSUZCRUFnQmtILy93RktEUUVnQlVHQUlHb2dCbXhCZ0JCcVFReDJEQUlMSUFaQkNIWWlCaUVGSUFZaEJBd0NDeUFGSUFaQi8vOERjMnhCZ0JCcVFReDJJQVpxQ3lJRlFRaDJJUWNnQmtFQmRDQUZhMEVJZGlJR0lRUUNRQ0FKUWRXcUFXcEIvLzhEY1NJRlFhblZBa3NOQUNBRlFmLy9BVThFUUVHcTFRSWdCV3NnQnlBR2EyeEJCbXhCZ0lBQ2FrRVFkaUFHYWlFRURBRUxJQWNoQkNBRlFhblZBRXNOQUNBRklBY2dCbXRzUVFac1FZQ0FBbXBCRUhZZ0Jtb2hCQXNDZnlBR0lnVWdDVUgvL3dOeElnaEJxZFVDU3cwQUdrR3ExUUlnQ0dzZ0J5QUdhMnhCQm14QmdJQUNha0VRZGlBR2FpQUlRZi8vQVU4TkFCb2dCeUlGSUFoQnFkVUFTdzBBR2lBSUlBY2dCbXRzUVFac1FZQ0FBbXBCRUhZZ0Jtb0xJUVVnQ1VHcjFRSnFRZi8vQTNFaUNFR3AxUUpMRFFBZ0NFSC8vd0ZQQkVCQnF0VUNJQWhySUFjZ0JtdHNRUVpzUVlDQUFtcEJFSFlnQm1vaEJnd0JDeUFJUWFuVkFFc0VRQ0FISVFZTUFRc2dDQ0FISUFacmJFRUdiRUdBZ0FKcVFSQjJJQVpxSVFZTElBRWdCRG9BQUNBQlFRRnFJQVU2QUFBZ0FVRUNhaUFHT2dBQUN5QURRUUpxSVFNZ0FrRUNhaUVDSUFCQkJHb2hBQ0FCUVFScUlRRWdDMEYvYWlJTERRQUxDd3NMJztcblxufSx7fV0sMjM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gRGV0ZWN0IFdlYkFzc2VtYmx5IHN1cHBvcnQuXG4vLyAtIENoZWNrIGdsb2JhbCBXZWJBc3NlbWJseSBvYmplY3Rcbi8vIC0gVHJ5IHRvIGxvYWQgc2ltcGxlIG1vZHVsZSAoY2FuIGJlIGRpc2FibGVkIHZpYSBDU1ApXG4vL1xuJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciB3YTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhhc1dlYkFzc2VtYmx5KCkge1xuICAvLyB1c2UgY2FjaGUgaWYgY2FsbGVkIGJlZm9yZTtcbiAgaWYgKHR5cGVvZiB3YSAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiB3YTtcblxuICB3YSA9IGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgV2ViQXNzZW1ibHkgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gd2E7XG5cbiAgLy8gSWYgV2ViQXNzZW5ibHkgaXMgZGlzYWJsZWQsIGNvZGUgY2FuIHRocm93IG9uIGNvbXBpbGVcbiAgdHJ5IHtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYnJpb24vbWluLXdhc20tZmFpbC9ibG9iL21hc3Rlci9taW4td2FzbS1mYWlsLmluLmpzXG4gICAgLy8gQWRkaXRpb25hbCBjaGVjayB0aGF0IFdBIGludGVybmFscyBhcmUgY29ycmVjdFxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgY29tbWEtc3BhY2luZywgbWF4LWxlbiAqL1xuICAgIHZhciBiaW4gICAgICA9IG5ldyBVaW50OEFycmF5KFsgMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw2LDEsOTYsMSwxMjcsMSwxMjcsMywyLDEsMCw1LDMsMSwwLDEsNyw4LDEsNCwxMTYsMTAxLDExNSwxMTYsMCwwLDEwLDE2LDEsMTQsMCwzMiwwLDY1LDEsNTQsMiwwLDMyLDAsNDAsMiwwLDExIF0pO1xuICAgIHZhciBtb2R1bGUgICA9IG5ldyBXZWJBc3NlbWJseS5Nb2R1bGUoYmluKTtcbiAgICB2YXIgaW5zdGFuY2UgPSBuZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UobW9kdWxlLCB7fSk7XG5cbiAgICAvLyB0ZXN0IHN0b3JpbmcgdG8gYW5kIGxvYWRpbmcgZnJvbSBhIG5vbi16ZXJvIGxvY2F0aW9uIHZpYSBhIHBhcmFtZXRlci5cbiAgICAvLyBTYWZhcmkgb24gaU9TIDExLjIuNSByZXR1cm5zIDAgdW5leHBlY3RlZGx5IGF0IG5vbi16ZXJvIGxvY2F0aW9uc1xuICAgIGlmIChpbnN0YW5jZS5leHBvcnRzLnRlc3QoNCkgIT09IDApIHdhID0gdHJ1ZTtcblxuICAgIHJldHVybiB3YTtcbiAgfSBjYXRjaCAoX18pIHt9XG5cbiAgcmV0dXJuIHdhO1xufTtcblxufSx7fV0sMjQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcblxufSx7fV0sMjU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGJ1bmRsZUZuID0gYXJndW1lbnRzWzNdO1xudmFyIHNvdXJjZXMgPSBhcmd1bWVudHNbNF07XG52YXIgY2FjaGUgPSBhcmd1bWVudHNbNV07XG5cbnZhciBzdHJpbmdpZnkgPSBKU09OLnN0cmluZ2lmeTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcbiAgICB2YXIgd2tleTtcbiAgICB2YXIgY2FjaGVLZXlzID0gT2JqZWN0LmtleXMoY2FjaGUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYWNoZUtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBjYWNoZUtleXNbaV07XG4gICAgICAgIHZhciBleHAgPSBjYWNoZVtrZXldLmV4cG9ydHM7XG4gICAgICAgIC8vIFVzaW5nIGJhYmVsIGFzIGEgdHJhbnNwaWxlciB0byB1c2UgZXNtb2R1bGUsIHRoZSBleHBvcnQgd2lsbCBhbHdheXNcbiAgICAgICAgLy8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGRlZmF1bHQgZXhwb3J0IGFzIGEgcHJvcGVydHkgb2YgaXQuIFRvIGVuc3VyZVxuICAgICAgICAvLyB0aGUgZXhpc3RpbmcgYXBpIGFuZCBiYWJlbCBlc21vZHVsZSBleHBvcnRzIGFyZSBib3RoIHN1cHBvcnRlZCB3ZVxuICAgICAgICAvLyBjaGVjayBmb3IgYm90aFxuICAgICAgICBpZiAoZXhwID09PSBmbiB8fCBleHAgJiYgZXhwLmRlZmF1bHQgPT09IGZuKSB7XG4gICAgICAgICAgICB3a2V5ID0ga2V5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXdrZXkpIHtcbiAgICAgICAgd2tleSA9IE1hdGguZmxvb3IoTWF0aC5wb3coMTYsIDgpICogTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMTYpO1xuICAgICAgICB2YXIgd2NhY2hlID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2FjaGVLZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGNhY2hlS2V5c1tpXTtcbiAgICAgICAgICAgIHdjYWNoZVtrZXldID0ga2V5O1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZXNbd2tleV0gPSBbXG4gICAgICAgICAgICAnZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7JyArIGZuICsgJyhzZWxmKTsgfScsXG4gICAgICAgICAgICB3Y2FjaGVcbiAgICAgICAgXTtcbiAgICB9XG4gICAgdmFyIHNrZXkgPSBNYXRoLmZsb29yKE1hdGgucG93KDE2LCA4KSAqIE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDE2KTtcblxuICAgIHZhciBzY2FjaGUgPSB7fTsgc2NhY2hlW3drZXldID0gd2tleTtcbiAgICBzb3VyY2VzW3NrZXldID0gW1xuICAgICAgICAnZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7JyArXG4gICAgICAgICAgICAvLyB0cnkgdG8gY2FsbCBkZWZhdWx0IGlmIGRlZmluZWQgdG8gYWxzbyBzdXBwb3J0IGJhYmVsIGVzbW9kdWxlIGV4cG9ydHNcbiAgICAgICAgICAgICd2YXIgZiA9IHJlcXVpcmUoJyArIHN0cmluZ2lmeSh3a2V5KSArICcpOycgK1xuICAgICAgICAgICAgJyhmLmRlZmF1bHQgPyBmLmRlZmF1bHQgOiBmKShzZWxmKTsnICtcbiAgICAgICAgJ30nLFxuICAgICAgICBzY2FjaGVcbiAgICBdO1xuXG4gICAgdmFyIHdvcmtlclNvdXJjZXMgPSB7fTtcbiAgICByZXNvbHZlU291cmNlcyhza2V5KTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVTb3VyY2VzKGtleSkge1xuICAgICAgICB3b3JrZXJTb3VyY2VzW2tleV0gPSB0cnVlO1xuXG4gICAgICAgIGZvciAodmFyIGRlcFBhdGggaW4gc291cmNlc1trZXldWzFdKSB7XG4gICAgICAgICAgICB2YXIgZGVwS2V5ID0gc291cmNlc1trZXldWzFdW2RlcFBhdGhdO1xuICAgICAgICAgICAgaWYgKCF3b3JrZXJTb3VyY2VzW2RlcEtleV0pIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlU291cmNlcyhkZXBLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHNyYyA9ICcoJyArIGJ1bmRsZUZuICsgJykoeydcbiAgICAgICAgKyBPYmplY3Qua2V5cyh3b3JrZXJTb3VyY2VzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmeShrZXkpICsgJzpbJ1xuICAgICAgICAgICAgICAgICsgc291cmNlc1trZXldWzBdXG4gICAgICAgICAgICAgICAgKyAnLCcgKyBzdHJpbmdpZnkoc291cmNlc1trZXldWzFdKSArICddJ1xuICAgICAgICAgICAgO1xuICAgICAgICB9KS5qb2luKCcsJylcbiAgICAgICAgKyAnfSx7fSxbJyArIHN0cmluZ2lmeShza2V5KSArICddKSdcbiAgICA7XG5cbiAgICB2YXIgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMIHx8IHdpbmRvdy5tb3pVUkwgfHwgd2luZG93Lm1zVVJMO1xuXG4gICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbc3JjXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmJhcmUpIHsgcmV0dXJuIGJsb2I7IH1cbiAgICB2YXIgd29ya2VyVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcih3b3JrZXJVcmwpO1xuICAgIHdvcmtlci5vYmplY3RVUkwgPSB3b3JrZXJVcmw7XG4gICAgcmV0dXJuIHdvcmtlcjtcbn07XG5cbn0se31dLFwiL2luZGV4LmpzXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG52YXIgYXNzaWduID0gX2RlcmVxXygnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgd2Vid29ya2lmeSA9IF9kZXJlcV8oJ3dlYndvcmtpZnknKTtcblxudmFyIE1hdGhMaWIgPSBfZGVyZXFfKCcuL2xpYi9tYXRobGliJyk7XG5cbnZhciBQb29sID0gX2RlcmVxXygnLi9saWIvcG9vbCcpO1xuXG52YXIgdXRpbHMgPSBfZGVyZXFfKCcuL2xpYi91dGlscycpO1xuXG52YXIgd29ya2VyID0gX2RlcmVxXygnLi9saWIvd29ya2VyJyk7XG5cbnZhciBjcmVhdGVTdGFnZXMgPSBfZGVyZXFfKCcuL2xpYi9zdGVwcGVyJyk7XG5cbnZhciBjcmVhdGVSZWdpb25zID0gX2RlcmVxXygnLi9saWIvdGlsZXInKTsgLy8gRGVkdXBsaWNhdGUgcG9vbHMgJiBsaW1pdGVycyB3aXRoIHRoZSBzYW1lIGNvbmZpZ3Ncbi8vIHdoZW4gdXNlciBjcmVhdGVzIG11bHRpcGxlIHBpY2EgaW5zdGFuY2VzLlxuXG5cbnZhciBzaW5nbGV0b25lcyA9IHt9O1xudmFyIE5FRURfU0FGQVJJX0ZJWCA9IGZhbHNlO1xuXG50cnkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCkge1xuICAgIE5FRURfU0FGQVJJX0ZJWCA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignU2FmYXJpJykgPj0gMDtcbiAgfVxufSBjYXRjaCAoZSkge31cblxudmFyIGNvbmN1cnJlbmN5ID0gMTtcblxuaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gIGNvbmN1cnJlbmN5ID0gTWF0aC5taW4obmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kgfHwgMSwgNCk7XG59XG5cbnZhciBERUZBVUxUX1BJQ0FfT1BUUyA9IHtcbiAgdGlsZTogMTAyNCxcbiAgY29uY3VycmVuY3k6IGNvbmN1cnJlbmN5LFxuICBmZWF0dXJlczogWydqcycsICd3YXNtJywgJ3d3J10sXG4gIGlkbGU6IDIwMDAsXG4gIGNyZWF0ZUNhbnZhczogZnVuY3Rpb24gY3JlYXRlQ2FudmFzKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB2YXIgdG1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdG1wQ2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgdG1wQ2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICByZXR1cm4gdG1wQ2FudmFzO1xuICB9XG59O1xudmFyIERFRkFVTFRfUkVTSVpFX09QVFMgPSB7XG4gIHF1YWxpdHk6IDMsXG4gIGFscGhhOiBmYWxzZSxcbiAgdW5zaGFycEFtb3VudDogMCxcbiAgdW5zaGFycFJhZGl1czogMC4wLFxuICB1bnNoYXJwVGhyZXNob2xkOiAwXG59O1xudmFyIENBTl9ORVdfSU1BR0VfREFUQTtcbnZhciBDQU5fQ1JFQVRFX0lNQUdFX0JJVE1BUDtcblxuZnVuY3Rpb24gd29ya2VyRmFicmljKCkge1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiB3ZWJ3b3JraWZ5KHdvcmtlciksXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHRoaXMudmFsdWUudGVybWluYXRlKCk7XG5cbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMIHx8IHdpbmRvdy5tb3pVUkwgfHwgd2luZG93Lm1zVVJMO1xuXG4gICAgICAgIGlmICh1cmwgJiYgdXJsLnJldm9rZU9iamVjdFVSTCAmJiB0aGlzLnZhbHVlLm9iamVjdFVSTCkge1xuICAgICAgICAgIHVybC5yZXZva2VPYmplY3RVUkwodGhpcy52YWx1ZS5vYmplY3RVUkwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQVBJIG1ldGhvZHNcblxuXG5mdW5jdGlvbiBQaWNhKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBpY2EpKSByZXR1cm4gbmV3IFBpY2Eob3B0aW9ucyk7XG4gIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgREVGQVVMVF9QSUNBX09QVFMsIG9wdGlvbnMgfHwge30pO1xuICB2YXIgbGltaXRlcl9rZXkgPSBcImxrX1wiLmNvbmNhdCh0aGlzLm9wdGlvbnMuY29uY3VycmVuY3kpOyAvLyBTaGFyZSBsaW1pdGVycyB0byBhdm9pZCBtdWx0aXBsZSBwYXJhbGxlbCB3b3JrZXJzIHdoZW4gdXNlciBjcmVhdGVzXG4gIC8vIG11bHRpcGxlIHBpY2EgaW5zdGFuY2VzLlxuXG4gIHRoaXMuX19saW1pdCA9IHNpbmdsZXRvbmVzW2xpbWl0ZXJfa2V5XSB8fCB1dGlscy5saW1pdGVyKHRoaXMub3B0aW9ucy5jb25jdXJyZW5jeSk7XG4gIGlmICghc2luZ2xldG9uZXNbbGltaXRlcl9rZXldKSBzaW5nbGV0b25lc1tsaW1pdGVyX2tleV0gPSB0aGlzLl9fbGltaXQ7IC8vIExpc3Qgb2Ygc3VwcG9ydGVkIGZlYXR1cmVzLCBhY2NvcmRpbmcgdG8gb3B0aW9ucyAmIGJyb3dzZXIvbm9kZS5qc1xuXG4gIHRoaXMuZmVhdHVyZXMgPSB7XG4gICAganM6IGZhbHNlLFxuICAgIC8vIHB1cmUgSlMgaW1wbGVtZW50YXRpb24sIGNhbiBiZSBkaXNhYmxlZCBmb3IgdGVzdGluZ1xuICAgIHdhc206IGZhbHNlLFxuICAgIC8vIHdlYmFzc2VtYmx5IGltcGxlbWVudGF0aW9uIGZvciBoZWF2eSBmdW5jdGlvbnNcbiAgICBjaWI6IGZhbHNlLFxuICAgIC8vIHJlc2l6ZSB2aWEgY3JlYXRlSW1hZ2VCaXRtYXAgKG9ubHkgRkYgYXQgdGhpcyBtb21lbnQpXG4gICAgd3c6IGZhbHNlIC8vIHdlYndvcmtlcnNcblxuICB9O1xuICB0aGlzLl9fd29ya2Vyc1Bvb2wgPSBudWxsOyAvLyBTdG9yZSByZXF1ZXN0ZWQgZmVhdHVyZXMgZm9yIHdlYndvcmtlcnNcblxuICB0aGlzLl9fcmVxdWVzdGVkX2ZlYXR1cmVzID0gW107XG4gIHRoaXMuX19tYXRobGliID0gbnVsbDtcbn1cblxuUGljYS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAodGhpcy5fX2luaXRQcm9taXNlKSByZXR1cm4gdGhpcy5fX2luaXRQcm9taXNlOyAvLyBUZXN0IGlmIHdlIGNhbiBjcmVhdGUgSW1hZ2VEYXRhIHdpdGhvdXQgY2FudmFzIGFuZCBtZW1vcnkgY29weVxuXG4gIGlmIChDQU5fTkVXX0lNQUdFX0RBVEEgIT09IGZhbHNlICYmIENBTl9ORVdfSU1BR0VfREFUQSAhPT0gdHJ1ZSkge1xuICAgIENBTl9ORVdfSU1BR0VfREFUQSA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBJbWFnZURhdGEgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLW5ldyAqL1xuICAgICAgICBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheSg0MDApLCAxMCwgMTApO1xuICAgICAgICBDQU5fTkVXX0lNQUdFX0RBVEEgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoX18pIHt9XG4gICAgfVxuICB9IC8vIEltYWdlQml0bWFwIGNhbiBiZSBlZmZlY3RpdmUgaW4gMiBwbGFjZXM6XG4gIC8vXG4gIC8vIDEuIFRocmVhZGVkIGpwZWcgdW5wYWNrIChiYXNpYylcbiAgLy8gMi4gQnVpbHQtaW4gcmVzaXplIChibG9ja2VkIGR1ZSBwcm9ibGVtIGluIGNocm9tZSwgc2VlIGlzc3VlICM4OSlcbiAgLy9cbiAgLy8gRm9yIGJhc2ljIHVzZSB3ZSBhbHNvIG5lZWQgSW1hZ2VCaXRtYXAgd28gc3VwcG9ydCAuY2xvc2UoKSBtZXRob2QsXG4gIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9BUEkvSW1hZ2VCaXRtYXBcblxuXG4gIGlmIChDQU5fQ1JFQVRFX0lNQUdFX0JJVE1BUCAhPT0gZmFsc2UgJiYgQ0FOX0NSRUFURV9JTUFHRV9CSVRNQVAgIT09IHRydWUpIHtcbiAgICBDQU5fQ1JFQVRFX0lNQUdFX0JJVE1BUCA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBJbWFnZUJpdG1hcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChJbWFnZUJpdG1hcC5wcm90b3R5cGUgJiYgSW1hZ2VCaXRtYXAucHJvdG90eXBlLmNsb3NlKSB7XG4gICAgICAgIENBTl9DUkVBVEVfSU1BR0VfQklUTUFQID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVidWcoJ0ltYWdlQml0bWFwIGRvZXMgbm90IHN1cHBvcnQgLmNsb3NlKCksIGRpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGZlYXR1cmVzID0gdGhpcy5vcHRpb25zLmZlYXR1cmVzLnNsaWNlKCk7XG5cbiAgaWYgKGZlYXR1cmVzLmluZGV4T2YoJ2FsbCcpID49IDApIHtcbiAgICBmZWF0dXJlcyA9IFsnY2liJywgJ3dhc20nLCAnanMnLCAnd3cnXTtcbiAgfVxuXG4gIHRoaXMuX19yZXF1ZXN0ZWRfZmVhdHVyZXMgPSBmZWF0dXJlcztcbiAgdGhpcy5fX21hdGhsaWIgPSBuZXcgTWF0aExpYihmZWF0dXJlcyk7IC8vIENoZWNrIFdlYldvcmtlciBzdXBwb3J0IGlmIHJlcXVlc3RlZFxuXG4gIGlmIChmZWF0dXJlcy5pbmRleE9mKCd3dycpID49IDApIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ1dvcmtlcicgaW4gd2luZG93KSB7XG4gICAgICAvLyBJRSA8PSAxMSBkb24ndCBhbGxvdyB0byBjcmVhdGUgd2Vid29ya2VycyBmcm9tIHN0cmluZy4gV2Ugc2hvdWxkIGNoZWNrIGl0LlxuICAgICAgLy8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy84MDE4MTAvd2ViLXdvcmtlcnMtZnJvbS1ibG9iLXVybHMtaW4taWUtMTAtYW5kLTExXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgd2tyID0gX2RlcmVxXygnd2Vid29ya2lmeScpKGZ1bmN0aW9uICgpIHt9KTtcblxuICAgICAgICB3a3IudGVybWluYXRlKCk7XG4gICAgICAgIHRoaXMuZmVhdHVyZXMud3cgPSB0cnVlOyAvLyBwb29sIHVuaXF1ZW5lc3MgZGVwZW5kcyBvbiBwb29sIGNvbmZpZyArIHdlYndvcmtlciBjb25maWdcblxuICAgICAgICB2YXIgd3Bvb2xfa2V5ID0gXCJ3cF9cIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodGhpcy5vcHRpb25zKSk7XG5cbiAgICAgICAgaWYgKHNpbmdsZXRvbmVzW3dwb29sX2tleV0pIHtcbiAgICAgICAgICB0aGlzLl9fd29ya2Vyc1Bvb2wgPSBzaW5nbGV0b25lc1t3cG9vbF9rZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX193b3JrZXJzUG9vbCA9IG5ldyBQb29sKHdvcmtlckZhYnJpYywgdGhpcy5vcHRpb25zLmlkbGUpO1xuICAgICAgICAgIHNpbmdsZXRvbmVzW3dwb29sX2tleV0gPSB0aGlzLl9fd29ya2Vyc1Bvb2w7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKF9fKSB7fVxuICAgIH1cbiAgfVxuXG4gIHZhciBpbml0TWF0aCA9IHRoaXMuX19tYXRobGliLmluaXQoKS50aGVuKGZ1bmN0aW9uIChtYXRobGliKSB7XG4gICAgLy8gQ29weSBkZXRlY3RlZCBmZWF0dXJlc1xuICAgIGFzc2lnbihfdGhpcy5mZWF0dXJlcywgbWF0aGxpYi5mZWF0dXJlcyk7XG4gIH0pO1xuXG4gIHZhciBjaGVja0NpYlJlc2l6ZTtcblxuICBpZiAoIUNBTl9DUkVBVEVfSU1BR0VfQklUTUFQKSB7XG4gICAgY2hlY2tDaWJSZXNpemUgPSBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIGNoZWNrQ2liUmVzaXplID0gdXRpbHMuY2liX3N1cHBvcnQodGhpcy5vcHRpb25zLmNyZWF0ZUNhbnZhcykudGhlbihmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICBpZiAoX3RoaXMuZmVhdHVyZXMuY2liICYmIGZlYXR1cmVzLmluZGV4T2YoJ2NpYicpIDwgMCkge1xuICAgICAgICBfdGhpcy5kZWJ1ZygnY3JlYXRlSW1hZ2VCaXRtYXAoKSByZXNpemUgc3VwcG9ydGVkLCBidXQgZGlzYWJsZWQgYnkgY29uZmlnJyk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmVhdHVyZXMuaW5kZXhPZignY2liJykgPj0gMCkgX3RoaXMuZmVhdHVyZXMuY2liID0gc3RhdHVzO1xuICAgIH0pO1xuICB9IC8vIEluaXQgbWF0aCBsaWIuIFRoYXQncyBhc3luYyBiZWNhdXNlIGNhbiBsb2FkIHNvbWVcblxuXG4gIHRoaXMuX19pbml0UHJvbWlzZSA9IFByb21pc2UuYWxsKFtpbml0TWF0aCwgY2hlY2tDaWJSZXNpemVdKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5fX2luaXRQcm9taXNlO1xufTtcblxuUGljYS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKGZyb20sIHRvLCBvcHRpb25zKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIHRoaXMuZGVidWcoJ1N0YXJ0IHJlc2l6ZS4uLicpO1xuICB2YXIgb3B0cyA9IGFzc2lnbih7fSwgREVGQVVMVF9SRVNJWkVfT1BUUyk7XG5cbiAgaWYgKCFpc05hTihvcHRpb25zKSkge1xuICAgIG9wdHMgPSBhc3NpZ24ob3B0cywge1xuICAgICAgcXVhbGl0eTogb3B0aW9uc1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdGlvbnMpIHtcbiAgICBvcHRzID0gYXNzaWduKG9wdHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgb3B0cy50b1dpZHRoID0gdG8ud2lkdGg7XG4gIG9wdHMudG9IZWlnaHQgPSB0by5oZWlnaHQ7XG4gIG9wdHMud2lkdGggPSBmcm9tLm5hdHVyYWxXaWR0aCB8fCBmcm9tLndpZHRoO1xuICBvcHRzLmhlaWdodCA9IGZyb20ubmF0dXJhbEhlaWdodCB8fCBmcm9tLmhlaWdodDsgLy8gUHJldmVudCBzdGVwcGVyIGZyb20gaW5maW5pdGUgbG9vcFxuXG4gIGlmICh0by53aWR0aCA9PT0gMCB8fCB0by5oZWlnaHQgPT09IDApIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiSW52YWxpZCBvdXRwdXQgc2l6ZTogXCIuY29uY2F0KHRvLndpZHRoLCBcInhcIikuY29uY2F0KHRvLmhlaWdodCkpKTtcbiAgfVxuXG4gIGlmIChvcHRzLnVuc2hhcnBSYWRpdXMgPiAyKSBvcHRzLnVuc2hhcnBSYWRpdXMgPSAyO1xuICB2YXIgY2FuY2VsZWQgPSBmYWxzZTtcbiAgdmFyIGNhbmNlbFRva2VuID0gbnVsbDtcblxuICBpZiAob3B0cy5jYW5jZWxUb2tlbikge1xuICAgIC8vIFdyYXAgY2FuY2VsVG9rZW4gdG8gYXZvaWQgc3VjY2Vzc2l2ZSByZXNvbHZlICYgc2V0IGZsYWdcbiAgICBjYW5jZWxUb2tlbiA9IG9wdHMuY2FuY2VsVG9rZW4udGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgY2FuY2VsZWQgPSB0cnVlO1xuICAgICAgdGhyb3cgZGF0YTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYW5jZWxlZCA9IHRydWU7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgREVTVF9USUxFX0JPUkRFUiA9IDM7IC8vIE1heCBwb3NzaWJsZSBmaWx0ZXIgd2luZG93IHNpemVcblxuICB2YXIgZGVzdFRpbGVCb3JkZXIgPSBNYXRoLmNlaWwoTWF0aC5tYXgoREVTVF9USUxFX0JPUkRFUiwgMi41ICogb3B0cy51bnNoYXJwUmFkaXVzIHwgMCkpO1xuICByZXR1cm4gdGhpcy5pbml0KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGNhbmNlbGVkKSByZXR1cm4gY2FuY2VsVG9rZW47IC8vIGlmIGNyZWF0ZUltYWdlQml0bWFwIHN1cHBvcnRzIHJlc2l6ZSwganVzdCBkbyBpdCBhbmQgcmV0dXJuXG5cbiAgICBpZiAoX3RoaXMyLmZlYXR1cmVzLmNpYikge1xuICAgICAgdmFyIHRvQ3R4ID0gdG8uZ2V0Q29udGV4dCgnMmQnLCB7XG4gICAgICAgIGFscGhhOiBCb29sZWFuKG9wdHMuYWxwaGEpXG4gICAgICB9KTtcblxuICAgICAgX3RoaXMyLmRlYnVnKCdSZXNpemUgdmlhIGNyZWF0ZUltYWdlQml0bWFwKCknKTtcblxuICAgICAgcmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKGZyb20sIHtcbiAgICAgICAgcmVzaXplV2lkdGg6IG9wdHMudG9XaWR0aCxcbiAgICAgICAgcmVzaXplSGVpZ2h0OiBvcHRzLnRvSGVpZ2h0LFxuICAgICAgICByZXNpemVRdWFsaXR5OiB1dGlscy5jaWJfcXVhbGl0eV9uYW1lKG9wdHMucXVhbGl0eSlcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGltYWdlQml0bWFwKSB7XG4gICAgICAgIGlmIChjYW5jZWxlZCkgcmV0dXJuIGNhbmNlbFRva2VuOyAvLyBpZiBubyB1bnNoYXJwIC0gZHJhdyBkaXJlY3RseSB0byBvdXRwdXQgY2FudmFzXG5cbiAgICAgICAgaWYgKCFvcHRzLnVuc2hhcnBBbW91bnQpIHtcbiAgICAgICAgICB0b0N0eC5kcmF3SW1hZ2UoaW1hZ2VCaXRtYXAsIDAsIDApO1xuICAgICAgICAgIGltYWdlQml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgdG9DdHggPSBudWxsO1xuXG4gICAgICAgICAgX3RoaXMyLmRlYnVnKCdGaW5pc2hlZCEnKTtcblxuICAgICAgICAgIHJldHVybiB0bztcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5kZWJ1ZygnVW5zaGFycCByZXN1bHQnKTtcblxuICAgICAgICB2YXIgdG1wQ2FudmFzID0gX3RoaXMyLm9wdGlvbnMuY3JlYXRlQ2FudmFzKG9wdHMudG9XaWR0aCwgb3B0cy50b0hlaWdodCk7XG5cbiAgICAgICAgdmFyIHRtcEN0eCA9IHRtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHtcbiAgICAgICAgICBhbHBoYTogQm9vbGVhbihvcHRzLmFscGhhKVxuICAgICAgICB9KTtcbiAgICAgICAgdG1wQ3R4LmRyYXdJbWFnZShpbWFnZUJpdG1hcCwgMCwgMCk7XG4gICAgICAgIGltYWdlQml0bWFwLmNsb3NlKCk7XG4gICAgICAgIHZhciBpRGF0YSA9IHRtcEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgb3B0cy50b1dpZHRoLCBvcHRzLnRvSGVpZ2h0KTtcblxuICAgICAgICBfdGhpczIuX19tYXRobGliLnVuc2hhcnBfbWFzayhpRGF0YS5kYXRhLCBvcHRzLnRvV2lkdGgsIG9wdHMudG9IZWlnaHQsIG9wdHMudW5zaGFycEFtb3VudCwgb3B0cy51bnNoYXJwUmFkaXVzLCBvcHRzLnVuc2hhcnBUaHJlc2hvbGQpO1xuXG4gICAgICAgIHRvQ3R4LnB1dEltYWdlRGF0YShpRGF0YSwgMCwgMCk7XG4gICAgICAgIGlEYXRhID0gdG1wQ3R4ID0gdG1wQ2FudmFzID0gdG9DdHggPSBudWxsO1xuXG4gICAgICAgIF90aGlzMi5kZWJ1ZygnRmluaXNoZWQhJyk7XG5cbiAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgfSk7XG4gICAgfSAvL1xuICAgIC8vIE5vIGVhc3kgd2F5LCBsZXQncyByZXNpemUgbWFudWFsbHkgdmlhIGFycmF5c1xuICAgIC8vXG4gICAgLy8gU2hhcmUgY2FjaGUgYmV0d2VlbiBjYWxsczpcbiAgICAvL1xuICAgIC8vIC0gd2FzbSBpbnN0YW5jZVxuICAgIC8vIC0gd2FzbSBtZW1vcnkgb2JqZWN0XG4gICAgLy9cblxuXG4gICAgdmFyIGNhY2hlID0ge307IC8vIENhbGwgcmVzaXplciBpbiB3ZWJ3b3JrZXIgb3IgbG9jYWxseSwgZGVwZW5kaW5nIG9uIGNvbmZpZ1xuXG4gICAgdmFyIGludm9rZVJlc2l6ZSA9IGZ1bmN0aW9uIGludm9rZVJlc2l6ZShvcHRzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghX3RoaXMyLmZlYXR1cmVzLnd3KSByZXR1cm4gX3RoaXMyLl9fbWF0aGxpYi5yZXNpemVBbmRVbnNoYXJwKG9wdHMsIGNhY2hlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICB2YXIgdyA9IF90aGlzMi5fX3dvcmtlcnNQb29sLmFjcXVpcmUoKTtcblxuICAgICAgICAgIGlmIChjYW5jZWxUb2tlbikgY2FuY2VsVG9rZW5bXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB3LnZhbHVlLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgdy5yZWxlYXNlKCk7XG4gICAgICAgICAgICBpZiAoZXYuZGF0YS5lcnIpIHJlamVjdChldi5kYXRhLmVycik7ZWxzZSByZXNvbHZlKGV2LmRhdGEucmVzdWx0KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdy52YWx1ZS5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBvcHRzOiBvcHRzLFxuICAgICAgICAgICAgZmVhdHVyZXM6IF90aGlzMi5fX3JlcXVlc3RlZF9mZWF0dXJlcyxcbiAgICAgICAgICAgIHByZWxvYWQ6IHtcbiAgICAgICAgICAgICAgd2FzbV9ub2R1bGU6IF90aGlzMi5fX21hdGhsaWIuX19cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBbb3B0cy5zcmMuYnVmZmVyXSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciB0aWxlQW5kUmVzaXplID0gZnVuY3Rpb24gdGlsZUFuZFJlc2l6ZShmcm9tLCB0bywgb3B0cykge1xuICAgICAgdmFyIHNyY0N0eDtcbiAgICAgIHZhciBzcmNJbWFnZUJpdG1hcDtcbiAgICAgIHZhciBpc0ltYWdlQml0bWFwUmV1c2VkID0gZmFsc2U7XG4gICAgICB2YXIgdG9DdHg7XG5cbiAgICAgIHZhciBwcm9jZXNzVGlsZSA9IGZ1bmN0aW9uIHByb2Nlc3NUaWxlKHRpbGUpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5fX2xpbWl0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoY2FuY2VsZWQpIHJldHVybiBjYW5jZWxUb2tlbjtcbiAgICAgICAgICB2YXIgc3JjSW1hZ2VEYXRhOyAvLyBFeHRyYWN0IHRpbGUgUkdCQSBidWZmZXIsIGRlcGVuZGluZyBvbiBpbnB1dCB0eXBlXG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNDYW52YXMoZnJvbSkpIHtcbiAgICAgICAgICAgIF90aGlzMi5kZWJ1ZygnR2V0IHRpbGUgcGl4ZWwgZGF0YScpOyAvLyBJZiBpbnB1dCBpcyBDYW52YXMgLSBleHRyYWN0IHJlZ2lvbiBkYXRhIGRpcmVjdGx5XG5cblxuICAgICAgICAgICAgc3JjSW1hZ2VEYXRhID0gc3JjQ3R4LmdldEltYWdlRGF0YSh0aWxlLngsIHRpbGUueSwgdGlsZS53aWR0aCwgdGlsZS5oZWlnaHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBpbnB1dCBpcyBJbWFnZSBvciBkZWNvZGVkIHRvIEltYWdlQml0bWFwLFxuICAgICAgICAgICAgLy8gZHJhdyByZWdpb24gdG8gdGVtcG9yYXJ5IGNhbnZhcyBhbmQgZXh0cmFjdCBkYXRhIGZyb20gaXRcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBOb3RlISBBdHRlbXB0IHRvIHJldXNlIHRoaXMgY2FudmFzIGNhdXNlcyBzaWduaWZpY2FudCBzbG93ZG93biBpbiBjaHJvbWVcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBfdGhpczIuZGVidWcoJ0RyYXcgdGlsZSBpbWFnZUJpdG1hcC9pbWFnZSB0byB0ZW1wb3JhcnkgY2FudmFzJyk7XG5cbiAgICAgICAgICAgIHZhciB0bXBDYW52YXMgPSBfdGhpczIub3B0aW9ucy5jcmVhdGVDYW52YXModGlsZS53aWR0aCwgdGlsZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICB2YXIgdG1wQ3R4ID0gdG1wQ2FudmFzLmdldENvbnRleHQoJzJkJywge1xuICAgICAgICAgICAgICBhbHBoYTogQm9vbGVhbihvcHRzLmFscGhhKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0bXBDdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICAgICAgdG1wQ3R4LmRyYXdJbWFnZShzcmNJbWFnZUJpdG1hcCB8fCBmcm9tLCB0aWxlLngsIHRpbGUueSwgdGlsZS53aWR0aCwgdGlsZS5oZWlnaHQsIDAsIDAsIHRpbGUud2lkdGgsIHRpbGUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgX3RoaXMyLmRlYnVnKCdHZXQgdGlsZSBwaXhlbCBkYXRhJyk7XG5cbiAgICAgICAgICAgIHNyY0ltYWdlRGF0YSA9IHRtcEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgdGlsZS53aWR0aCwgdGlsZS5oZWlnaHQpO1xuICAgICAgICAgICAgdG1wQ3R4ID0gdG1wQ2FudmFzID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbyA9IHtcbiAgICAgICAgICAgIHNyYzogc3JjSW1hZ2VEYXRhLmRhdGEsXG4gICAgICAgICAgICB3aWR0aDogdGlsZS53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGlsZS5oZWlnaHQsXG4gICAgICAgICAgICB0b1dpZHRoOiB0aWxlLnRvV2lkdGgsXG4gICAgICAgICAgICB0b0hlaWdodDogdGlsZS50b0hlaWdodCxcbiAgICAgICAgICAgIHNjYWxlWDogdGlsZS5zY2FsZVgsXG4gICAgICAgICAgICBzY2FsZVk6IHRpbGUuc2NhbGVZLFxuICAgICAgICAgICAgb2Zmc2V0WDogdGlsZS5vZmZzZXRYLFxuICAgICAgICAgICAgb2Zmc2V0WTogdGlsZS5vZmZzZXRZLFxuICAgICAgICAgICAgcXVhbGl0eTogb3B0cy5xdWFsaXR5LFxuICAgICAgICAgICAgYWxwaGE6IG9wdHMuYWxwaGEsXG4gICAgICAgICAgICB1bnNoYXJwQW1vdW50OiBvcHRzLnVuc2hhcnBBbW91bnQsXG4gICAgICAgICAgICB1bnNoYXJwUmFkaXVzOiBvcHRzLnVuc2hhcnBSYWRpdXMsXG4gICAgICAgICAgICB1bnNoYXJwVGhyZXNob2xkOiBvcHRzLnVuc2hhcnBUaHJlc2hvbGRcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgX3RoaXMyLmRlYnVnKCdJbnZva2UgcmVzaXplIG1hdGgnKTtcblxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VSZXNpemUobyk7XG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoY2FuY2VsZWQpIHJldHVybiBjYW5jZWxUb2tlbjtcbiAgICAgICAgICAgIHNyY0ltYWdlRGF0YSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgdG9JbWFnZURhdGE7XG5cbiAgICAgICAgICAgIF90aGlzMi5kZWJ1ZygnQ29udmVydCByYXcgcmdiYSB0aWxlIHJlc3VsdCB0byBJbWFnZURhdGEnKTtcblxuICAgICAgICAgICAgaWYgKENBTl9ORVdfSU1BR0VfREFUQSkge1xuICAgICAgICAgICAgICAvLyB0aGlzIGJyYW5jaCBpcyBmb3IgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgICAgICAgIC8vIElmIGBuZXcgSW1hZ2VEYXRhKClgICYgVWludDhDbGFtcGVkQXJyYXkgc3Vwb3J0ZWRcbiAgICAgICAgICAgICAgdG9JbWFnZURhdGEgPSBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheShyZXN1bHQpLCB0aWxlLnRvV2lkdGgsIHRpbGUudG9IZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gZmFsbGJhY2sgZm9yIGBub2RlLWNhbnZhc2AgYW5kIG9sZCBicm93c2Vyc1xuICAgICAgICAgICAgICAvLyAoSUUxMSBoYXMgSW1hZ2VEYXRhIGJ1dCBkb2VzIG5vdCBzdXBwb3J0IGBuZXcgSW1hZ2VEYXRhKClgKVxuICAgICAgICAgICAgICB0b0ltYWdlRGF0YSA9IHRvQ3R4LmNyZWF0ZUltYWdlRGF0YSh0aWxlLnRvV2lkdGgsIHRpbGUudG9IZWlnaHQpO1xuXG4gICAgICAgICAgICAgIGlmICh0b0ltYWdlRGF0YS5kYXRhLnNldCkge1xuICAgICAgICAgICAgICAgIHRvSW1hZ2VEYXRhLmRhdGEuc2V0KHJlc3VsdCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSUU5IGRvbid0IGhhdmUgYC5zZXQoKWBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gdG9JbWFnZURhdGEuZGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgdG9JbWFnZURhdGEuZGF0YVtpXSA9IHJlc3VsdFtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMyLmRlYnVnKCdEcmF3IHRpbGUnKTtcblxuICAgICAgICAgICAgaWYgKE5FRURfU0FGQVJJX0ZJWCkge1xuICAgICAgICAgICAgICAvLyBTYWZhcmkgZHJhd3MgdGhpbiB3aGl0ZSBzdHJpcGVzIGJldHdlZW4gdGlsZXMgd2l0aG91dCB0aGlzIGZpeFxuICAgICAgICAgICAgICB0b0N0eC5wdXRJbWFnZURhdGEodG9JbWFnZURhdGEsIHRpbGUudG9YLCB0aWxlLnRvWSwgdGlsZS50b0lubmVyWCAtIHRpbGUudG9YLCB0aWxlLnRvSW5uZXJZIC0gdGlsZS50b1ksIHRpbGUudG9Jbm5lcldpZHRoICsgMWUtNSwgdGlsZS50b0lubmVySGVpZ2h0ICsgMWUtNSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0b0N0eC5wdXRJbWFnZURhdGEodG9JbWFnZURhdGEsIHRpbGUudG9YLCB0aWxlLnRvWSwgdGlsZS50b0lubmVyWCAtIHRpbGUudG9YLCB0aWxlLnRvSW5uZXJZIC0gdGlsZS50b1ksIHRpbGUudG9Jbm5lcldpZHRoLCB0aWxlLnRvSW5uZXJIZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9OyAvLyBOZWVkIHRvIG5vcm1hbGl6ZSBkYXRhIHNvdXJjZSBmaXJzdC4gSXQgY2FuIGJlIGNhbnZhcyBvciBpbWFnZS5cbiAgICAgIC8vIElmIGltYWdlIC0gdHJ5IHRvIGRlY29kZSBpbiBiYWNrZ3JvdW5kIGlmIHBvc3NpYmxlXG5cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB0b0N0eCA9IHRvLmdldENvbnRleHQoJzJkJywge1xuICAgICAgICAgIGFscGhhOiBCb29sZWFuKG9wdHMuYWxwaGEpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh1dGlscy5pc0NhbnZhcyhmcm9tKSkge1xuICAgICAgICAgIHNyY0N0eCA9IGZyb20uZ2V0Q29udGV4dCgnMmQnLCB7XG4gICAgICAgICAgICBhbHBoYTogQm9vbGVhbihvcHRzLmFscGhhKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzSW1hZ2VCaXRtYXAoZnJvbSkpIHtcbiAgICAgICAgICBzcmNJbWFnZUJpdG1hcCA9IGZyb207XG4gICAgICAgICAgaXNJbWFnZUJpdG1hcFJldXNlZCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNJbWFnZShmcm9tKSkge1xuICAgICAgICAgIC8vIHRyeSBkbyBkZWNvZGUgaW1hZ2UgaW4gYmFja2dyb3VuZCBmb3IgZmFzdGVyIG5leHQgb3BlcmF0aW9uc1xuICAgICAgICAgIGlmICghQ0FOX0NSRUFURV9JTUFHRV9CSVRNQVApIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgX3RoaXMyLmRlYnVnKCdEZWNvZGUgaW1hZ2UgdmlhIGNyZWF0ZUltYWdlQml0bWFwJyk7XG5cbiAgICAgICAgICByZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAoZnJvbSkudGhlbihmdW5jdGlvbiAoaW1hZ2VCaXRtYXApIHtcbiAgICAgICAgICAgIHNyY0ltYWdlQml0bWFwID0gaW1hZ2VCaXRtYXA7XG4gICAgICAgICAgfSkgLy8gU3VwcHJlc3MgZXJyb3IgdG8gdXNlIGZhbGxiYWNrLCBpZiBtZXRob2QgZmFpbHNcbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWNhL3BpY2EvaXNzdWVzLzE5MFxuXG4gICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbiAgICAgICAgICBbXCJjYXRjaFwiXShmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BpY2E6IFwiLmZyb21cIiBzaG91bGQgYmUgSW1hZ2UsIENhbnZhcyBvciBJbWFnZUJpdG1hcCcpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjYW5jZWxlZCkgcmV0dXJuIGNhbmNlbFRva2VuO1xuXG4gICAgICAgIF90aGlzMi5kZWJ1ZygnQ2FsY3VsYXRlIHRpbGVzJyk7IC8vXG4gICAgICAgIC8vIEhlcmUgd2UgYXJlIHdpdGggXCJub3JtYWxpemVkXCIgc291cmNlLFxuICAgICAgICAvLyBmb2xsb3cgdG8gdGlsaW5nXG4gICAgICAgIC8vXG5cblxuICAgICAgICB2YXIgcmVnaW9ucyA9IGNyZWF0ZVJlZ2lvbnMoe1xuICAgICAgICAgIHdpZHRoOiBvcHRzLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogb3B0cy5oZWlnaHQsXG4gICAgICAgICAgc3JjVGlsZVNpemU6IF90aGlzMi5vcHRpb25zLnRpbGUsXG4gICAgICAgICAgdG9XaWR0aDogb3B0cy50b1dpZHRoLFxuICAgICAgICAgIHRvSGVpZ2h0OiBvcHRzLnRvSGVpZ2h0LFxuICAgICAgICAgIGRlc3RUaWxlQm9yZGVyOiBkZXN0VGlsZUJvcmRlclxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGpvYnMgPSByZWdpb25zLm1hcChmdW5jdGlvbiAodGlsZSkge1xuICAgICAgICAgIHJldHVybiBwcm9jZXNzVGlsZSh0aWxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgICAgICBpZiAoc3JjSW1hZ2VCaXRtYXApIHtcbiAgICAgICAgICAgIGlmICghaXNJbWFnZUJpdG1hcFJldXNlZCkgc3JjSW1hZ2VCaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgIHNyY0ltYWdlQml0bWFwID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczIuZGVidWcoJ1Byb2Nlc3MgdGlsZXMnKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoam9icykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLmRlYnVnKCdGaW5pc2hlZCEnKTtcblxuICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICByZXR1cm4gdG87XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgcHJvY2Vzc1N0YWdlcyA9IGZ1bmN0aW9uIHByb2Nlc3NTdGFnZXMoc3RhZ2VzLCBmcm9tLCB0bywgb3B0cykge1xuICAgICAgaWYgKGNhbmNlbGVkKSByZXR1cm4gY2FuY2VsVG9rZW47XG5cbiAgICAgIHZhciBfc3RhZ2VzJHNoaWZ0ID0gc3RhZ2VzLnNoaWZ0KCksXG4gICAgICAgICAgX3N0YWdlcyRzaGlmdDIgPSBfc2xpY2VkVG9BcnJheShfc3RhZ2VzJHNoaWZ0LCAyKSxcbiAgICAgICAgICB0b1dpZHRoID0gX3N0YWdlcyRzaGlmdDJbMF0sXG4gICAgICAgICAgdG9IZWlnaHQgPSBfc3RhZ2VzJHNoaWZ0MlsxXTtcblxuICAgICAgdmFyIGlzTGFzdFN0YWdlID0gc3RhZ2VzLmxlbmd0aCA9PT0gMDtcbiAgICAgIG9wdHMgPSBhc3NpZ24oe30sIG9wdHMsIHtcbiAgICAgICAgdG9XaWR0aDogdG9XaWR0aCxcbiAgICAgICAgdG9IZWlnaHQ6IHRvSGVpZ2h0LFxuICAgICAgICAvLyBvbmx5IHVzZSB1c2VyLWRlZmluZWQgcXVhbGl0eSBmb3IgdGhlIGxhc3Qgc3RhZ2UsXG4gICAgICAgIC8vIHVzZSBzaW1wbGVyIChIYW1taW5nKSBmaWx0ZXIgZm9yIHRoZSBmaXJzdCBzdGFnZXMgd2hlcmVcbiAgICAgICAgLy8gc2NhbGUgZmFjdG9yIGlzIGxhcmdlIGVub3VnaCAobW9yZSB0aGFuIDItMylcbiAgICAgICAgcXVhbGl0eTogaXNMYXN0U3RhZ2UgPyBvcHRzLnF1YWxpdHkgOiBNYXRoLm1pbigxLCBvcHRzLnF1YWxpdHkpXG4gICAgICB9KTtcbiAgICAgIHZhciB0bXBDYW52YXM7XG5cbiAgICAgIGlmICghaXNMYXN0U3RhZ2UpIHtcbiAgICAgICAgLy8gY3JlYXRlIHRlbXBvcmFyeSBjYW52YXNcbiAgICAgICAgdG1wQ2FudmFzID0gX3RoaXMyLm9wdGlvbnMuY3JlYXRlQ2FudmFzKHRvV2lkdGgsIHRvSGVpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRpbGVBbmRSZXNpemUoZnJvbSwgaXNMYXN0U3RhZ2UgPyB0byA6IHRtcENhbnZhcywgb3B0cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0xhc3RTdGFnZSkgcmV0dXJuIHRvO1xuICAgICAgICBvcHRzLndpZHRoID0gdG9XaWR0aDtcbiAgICAgICAgb3B0cy5oZWlnaHQgPSB0b0hlaWdodDtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NTdGFnZXMoc3RhZ2VzLCB0bXBDYW52YXMsIHRvLCBvcHRzKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgc3RhZ2VzID0gY3JlYXRlU3RhZ2VzKG9wdHMud2lkdGgsIG9wdHMuaGVpZ2h0LCBvcHRzLnRvV2lkdGgsIG9wdHMudG9IZWlnaHQsIF90aGlzMi5vcHRpb25zLnRpbGUsIGRlc3RUaWxlQm9yZGVyKTtcbiAgICByZXR1cm4gcHJvY2Vzc1N0YWdlcyhzdGFnZXMsIGZyb20sIHRvLCBvcHRzKTtcbiAgfSk7XG59OyAvLyBSR0JBIGJ1ZmZlciByZXNpemVcbi8vXG5cblxuUGljYS5wcm90b3R5cGUucmVzaXplQnVmZmVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgdmFyIG9wdHMgPSBhc3NpZ24oe30sIERFRkFVTFRfUkVTSVpFX09QVFMsIG9wdGlvbnMpO1xuICByZXR1cm4gdGhpcy5pbml0KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF90aGlzMy5fX21hdGhsaWIucmVzaXplQW5kVW5zaGFycChvcHRzKTtcbiAgfSk7XG59O1xuXG5QaWNhLnByb3RvdHlwZS50b0Jsb2IgPSBmdW5jdGlvbiAoY2FudmFzLCBtaW1lVHlwZSwgcXVhbGl0eSkge1xuICBtaW1lVHlwZSA9IG1pbWVUeXBlIHx8ICdpbWFnZS9wbmcnO1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICBpZiAoY2FudmFzLnRvQmxvYikge1xuICAgICAgY2FudmFzLnRvQmxvYihmdW5jdGlvbiAoYmxvYikge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZShibG9iKTtcbiAgICAgIH0sIG1pbWVUeXBlLCBxdWFsaXR5KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2FudmFzLmNvbnZlcnRUb0Jsb2IpIHtcbiAgICAgIHJlc29sdmUoY2FudmFzLmNvbnZlcnRUb0Jsb2Ioe1xuICAgICAgICB0eXBlOiBtaW1lVHlwZSxcbiAgICAgICAgcXVhbGl0eTogcXVhbGl0eVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gRmFsbGJhY2sgZm9yIG9sZCBicm93c2Vyc1xuXG5cbiAgICB2YXIgYXNTdHJpbmcgPSBhdG9iKGNhbnZhcy50b0RhdGFVUkwobWltZVR5cGUsIHF1YWxpdHkpLnNwbGl0KCcsJylbMV0pO1xuICAgIHZhciBsZW4gPSBhc1N0cmluZy5sZW5ndGg7XG4gICAgdmFyIGFzQnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFzQnVmZmVyW2ldID0gYXNTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICB9XG5cbiAgICByZXNvbHZlKG5ldyBCbG9iKFthc0J1ZmZlcl0sIHtcbiAgICAgIHR5cGU6IG1pbWVUeXBlXG4gICAgfSkpO1xuICB9KTtcbn07XG5cblBpY2EucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKCkge307XG5cbm1vZHVsZS5leHBvcnRzID0gUGljYTtcblxufSx7XCIuL2xpYi9tYXRobGliXCI6MSxcIi4vbGliL3Bvb2xcIjo5LFwiLi9saWIvc3RlcHBlclwiOjEwLFwiLi9saWIvdGlsZXJcIjoxMSxcIi4vbGliL3V0aWxzXCI6MTIsXCIuL2xpYi93b3JrZXJcIjoxMyxcIm9iamVjdC1hc3NpZ25cIjoyNCxcIndlYndvcmtpZnlcIjoyNX1dfSx7fSxbXSkoXCIvaW5kZXguanNcIilcbn0pO1xuIiwgIlxuOyhmdW5jdGlvbigpe1xudmFyIFVQTkcgPSB7fTtcblxuLy8gTWFrZSBhdmFpbGFibGUgZm9yIGltcG9ydCBieSBgcmVxdWlyZSgpYFxudmFyIHBha287XG5pZiAodHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSB7bW9kdWxlLmV4cG9ydHMgPSBVUE5HO30gIGVsc2Uge3dpbmRvdy5VUE5HID0gVVBORzt9XG5pZiAodHlwZW9mIHJlcXVpcmUgPT0gXCJmdW5jdGlvblwiKSB7cGFrbyA9IHJlcXVpcmUoXCJwYWtvXCIpO30gIGVsc2Uge3Bha28gPSB3aW5kb3cucGFrbzt9XG5mdW5jdGlvbiBsb2coKSB7IGlmICh0eXBlb2YgcHJvY2Vzcz09XCJ1bmRlZmluZWRcIiB8fCBwcm9jZXNzLmVudi5OT0RFX0VOVj09XCJkZXZlbG9wbWVudFwiKSBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpOyAgfVxuKGZ1bmN0aW9uKFVQTkcsIHBha28pe1xuXG5cdFxuXG5cdFxuXG5VUE5HLnRvUkdCQTggPSBmdW5jdGlvbihvdXQpXG57XG5cdHZhciB3ID0gb3V0LndpZHRoLCBoID0gb3V0LmhlaWdodDtcblx0aWYob3V0LnRhYnMuYWNUTD09bnVsbCkgcmV0dXJuIFtVUE5HLnRvUkdCQTguZGVjb2RlSW1hZ2Uob3V0LmRhdGEsIHcsIGgsIG91dCkuYnVmZmVyXTtcblx0XG5cdHZhciBmcm1zID0gW107XG5cdGlmKG91dC5mcmFtZXNbMF0uZGF0YT09bnVsbCkgb3V0LmZyYW1lc1swXS5kYXRhID0gb3V0LmRhdGE7XG5cdFxuXHR2YXIgaW1nLCBlbXB0eSA9IG5ldyBVaW50OEFycmF5KHcqaCo0KTtcblx0Zm9yKHZhciBpPTA7IGk8b3V0LmZyYW1lcy5sZW5ndGg7IGkrKylcblx0e1xuXHRcdHZhciBmcm0gPSBvdXQuZnJhbWVzW2ldO1xuXHRcdHZhciBmeD1mcm0ucmVjdC54LCBmeT1mcm0ucmVjdC55LCBmdyA9IGZybS5yZWN0LndpZHRoLCBmaCA9IGZybS5yZWN0LmhlaWdodDtcblx0XHR2YXIgZmRhdGEgPSBVUE5HLnRvUkdCQTguZGVjb2RlSW1hZ2UoZnJtLmRhdGEsIGZ3LGZoLCBvdXQpO1xuXHRcdFxuXHRcdGlmKGk9PTApIGltZyA9IGZkYXRhO1xuXHRcdGVsc2UgaWYoZnJtLmJsZW5kICA9PTApIFVQTkcuX2NvcHlUaWxlKGZkYXRhLCBmdywgZmgsIGltZywgdywgaCwgZngsIGZ5LCAwKTtcblx0XHRlbHNlIGlmKGZybS5ibGVuZCAgPT0xKSBVUE5HLl9jb3B5VGlsZShmZGF0YSwgZncsIGZoLCBpbWcsIHcsIGgsIGZ4LCBmeSwgMSk7XG5cdFx0XG5cdFx0ZnJtcy5wdXNoKGltZy5idWZmZXIpOyAgaW1nID0gaW1nLnNsaWNlKDApO1xuXHRcdFxuXHRcdGlmICAgICAoZnJtLmRpc3Bvc2U9PTApIHt9XG5cdFx0ZWxzZSBpZihmcm0uZGlzcG9zZT09MSkgVVBORy5fY29weVRpbGUoZW1wdHksIGZ3LCBmaCwgaW1nLCB3LCBoLCBmeCwgZnksIDApO1xuXHRcdGVsc2UgaWYoZnJtLmRpc3Bvc2U9PTIpIHtcblx0XHRcdHZhciBwaSA9IGktMTtcblx0XHRcdHdoaWxlKG91dC5mcmFtZXNbcGldLmRpc3Bvc2U9PTIpIHBpLS07XG5cdFx0XHRpbWcgPSBuZXcgVWludDhBcnJheShmcm1zW3BpXSkuc2xpY2UoMCk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBmcm1zO1xufVxuVVBORy50b1JHQkE4LmRlY29kZUltYWdlID0gZnVuY3Rpb24oZGF0YSwgdywgaCwgb3V0KVxue1xuXHR2YXIgYXJlYSA9IHcqaCwgYnBwID0gVVBORy5kZWNvZGUuX2dldEJQUChvdXQpO1xuXHR2YXIgYnBsID0gTWF0aC5jZWlsKHcqYnBwLzgpO1x0Ly8gYnl0ZXMgcGVyIGxpbmVcblxuXHR2YXIgYmYgPSBuZXcgVWludDhBcnJheShhcmVhKjQpLCBiZjMyID0gbmV3IFVpbnQzMkFycmF5KGJmLmJ1ZmZlcik7XG5cdHZhciBjdHlwZSA9IG91dC5jdHlwZSwgZGVwdGggPSBvdXQuZGVwdGg7XG5cdHZhciBycyA9IFVQTkcuX2Jpbi5yZWFkVXNob3J0O1xuXHRcblx0Ly9jb25zb2xlLmxvZyhjdHlwZSwgZGVwdGgpO1xuXG5cdGlmICAgICAoY3R5cGU9PTYpIHsgLy8gUkdCICsgYWxwaGFcblx0XHR2YXIgcWFyZWEgPSBhcmVhPDwyO1xuXHRcdGlmKGRlcHRoPT0gOCkgZm9yKHZhciBpPTA7IGk8cWFyZWE7aSsrKSB7ICBiZltpXSA9IGRhdGFbaV07ICAvKmlmKChpJjMpPT0zICYmIGRhdGFbaV0hPTApIGJmW2ldPTI1NTsqLyB9XG5cdFx0aWYoZGVwdGg9PTE2KSBmb3IodmFyIGk9MDsgaTxxYXJlYTtpKyspIHsgIGJmW2ldID0gZGF0YVtpPDwxXTsgIH1cblx0fVxuXHRlbHNlIGlmKGN0eXBlPT0yKSB7XHQvLyBSR0Jcblx0XHR2YXIgdHM9b3V0LnRhYnNbXCJ0Uk5TXCJdLCB0cj0tMSwgdGc9LTEsIHRiPS0xO1xuXHRcdGlmKHRzKSB7ICB0cj10c1swXTsgIHRnPXRzWzFdOyAgdGI9dHNbMl07ICB9XG5cdFx0aWYoZGVwdGg9PSA4KSBmb3IodmFyIGk9MDsgaTxhcmVhOyBpKyspIHsgIHZhciBxaT1pPDwyLCB0aT1pKjM7ICBiZltxaV0gPSBkYXRhW3RpXTsgIGJmW3FpKzFdID0gZGF0YVt0aSsxXTsgIGJmW3FpKzJdID0gZGF0YVt0aSsyXTsgIGJmW3FpKzNdID0gMjU1O1xuXHRcdFx0aWYodHIhPS0xICYmIGRhdGFbdGldICAgPT10ciAmJiBkYXRhW3RpKzFdICAgPT10ZyAmJiBkYXRhW3RpKzJdICAgPT10YikgYmZbcWkrM10gPSAwOyAgfVxuXHRcdGlmKGRlcHRoPT0xNikgZm9yKHZhciBpPTA7IGk8YXJlYTsgaSsrKSB7ICB2YXIgcWk9aTw8MiwgdGk9aSo2OyAgYmZbcWldID0gZGF0YVt0aV07ICBiZltxaSsxXSA9IGRhdGFbdGkrMl07ICBiZltxaSsyXSA9IGRhdGFbdGkrNF07ICBiZltxaSszXSA9IDI1NTtcblx0XHRcdGlmKHRyIT0tMSAmJiBycyhkYXRhLHRpKT09dHIgJiYgcnMoZGF0YSx0aSsyKT09dGcgJiYgcnMoZGF0YSx0aSs0KT09dGIpIGJmW3FpKzNdID0gMDsgIH1cblx0fVxuXHRlbHNlIGlmKGN0eXBlPT0zKSB7XHQvLyBwYWxldHRlXG5cdFx0dmFyIHA9b3V0LnRhYnNbXCJQTFRFXCJdLCBhcD1vdXQudGFic1tcInRSTlNcIl0sIHRsPWFwP2FwLmxlbmd0aDowO1xuXHRcdC8vY29uc29sZS5sb2cocCwgYXApO1xuXHRcdGlmKGRlcHRoPT0xKSBmb3IodmFyIHk9MDsgeTxoOyB5KyspIHsgIHZhciBzMCA9IHkqYnBsLCB0MCA9IHkqdztcblx0XHRcdGZvcih2YXIgaT0wOyBpPHc7IGkrKykgeyB2YXIgcWk9KHQwK2kpPDwyLCBqPSgoZGF0YVtzMCsoaT4+MyldPj4oNy0oKGkmNyk8PDApKSkmIDEpLCBjaj0zKmo7ICBiZltxaV09cFtjal07ICBiZltxaSsxXT1wW2NqKzFdOyAgYmZbcWkrMl09cFtjaisyXTsgIGJmW3FpKzNdPShqPHRsKT9hcFtqXToyNTU7ICB9XG5cdFx0fVxuXHRcdGlmKGRlcHRoPT0yKSBmb3IodmFyIHk9MDsgeTxoOyB5KyspIHsgIHZhciBzMCA9IHkqYnBsLCB0MCA9IHkqdztcblx0XHRcdGZvcih2YXIgaT0wOyBpPHc7IGkrKykgeyB2YXIgcWk9KHQwK2kpPDwyLCBqPSgoZGF0YVtzMCsoaT4+MildPj4oNi0oKGkmMyk8PDEpKSkmIDMpLCBjaj0zKmo7ICBiZltxaV09cFtjal07ICBiZltxaSsxXT1wW2NqKzFdOyAgYmZbcWkrMl09cFtjaisyXTsgIGJmW3FpKzNdPShqPHRsKT9hcFtqXToyNTU7ICB9XG5cdFx0fVxuXHRcdGlmKGRlcHRoPT00KSBmb3IodmFyIHk9MDsgeTxoOyB5KyspIHsgIHZhciBzMCA9IHkqYnBsLCB0MCA9IHkqdztcblx0XHRcdGZvcih2YXIgaT0wOyBpPHc7IGkrKykgeyB2YXIgcWk9KHQwK2kpPDwyLCBqPSgoZGF0YVtzMCsoaT4+MSldPj4oNC0oKGkmMSk8PDIpKSkmMTUpLCBjaj0zKmo7ICBiZltxaV09cFtjal07ICBiZltxaSsxXT1wW2NqKzFdOyAgYmZbcWkrMl09cFtjaisyXTsgIGJmW3FpKzNdPShqPHRsKT9hcFtqXToyNTU7ICB9XG5cdFx0fVxuXHRcdGlmKGRlcHRoPT04KSBmb3IodmFyIGk9MDsgaTxhcmVhOyBpKysgKSB7ICB2YXIgcWk9aTw8Miwgaj1kYXRhW2ldICAgICAgICAgICAgICAgICAgICAgICwgY2o9MypqOyAgYmZbcWldPXBbY2pdOyAgYmZbcWkrMV09cFtjaisxXTsgIGJmW3FpKzJdPXBbY2orMl07ICBiZltxaSszXT0oajx0bCk/YXBbal06MjU1OyAgfVxuXHR9XG5cdGVsc2UgaWYoY3R5cGU9PTQpIHtcdC8vIGdyYXkgKyBhbHBoYVxuXHRcdGlmKGRlcHRoPT0gOCkgIGZvcih2YXIgaT0wOyBpPGFyZWE7IGkrKykgeyAgdmFyIHFpPWk8PDIsIGRpPWk8PDEsIGdyPWRhdGFbZGldOyAgYmZbcWldPWdyOyAgYmZbcWkrMV09Z3I7ICBiZltxaSsyXT1ncjsgIGJmW3FpKzNdPWRhdGFbZGkrMV07ICB9XG5cdFx0aWYoZGVwdGg9PTE2KSAgZm9yKHZhciBpPTA7IGk8YXJlYTsgaSsrKSB7ICB2YXIgcWk9aTw8MiwgZGk9aTw8MiwgZ3I9ZGF0YVtkaV07ICBiZltxaV09Z3I7ICBiZltxaSsxXT1ncjsgIGJmW3FpKzJdPWdyOyAgYmZbcWkrM109ZGF0YVtkaSsyXTsgIH1cblx0fVxuXHRlbHNlIGlmKGN0eXBlPT0wKSB7XHQvLyBncmF5XG5cdFx0dmFyIHRyID0gb3V0LnRhYnNbXCJ0Uk5TXCJdID8gb3V0LnRhYnNbXCJ0Uk5TXCJdIDogLTE7XG5cdFx0aWYoZGVwdGg9PSAxKSBmb3IodmFyIGk9MDsgaTxhcmVhOyBpKyspIHsgIHZhciBncj0yNTUqKChkYXRhW2k+PjNdPj4oNyAtKChpJjcpICAgKSkpJiAxKSwgYWw9KGdyPT10cioyNTUpPzA6MjU1OyAgYmYzMltpXT0oYWw8PDI0KXwoZ3I8PDE2KXwoZ3I8PDgpfGdyOyAgfVxuXHRcdGlmKGRlcHRoPT0gMikgZm9yKHZhciBpPTA7IGk8YXJlYTsgaSsrKSB7ICB2YXIgZ3I9IDg1KigoZGF0YVtpPj4yXT4+KDYgLSgoaSYzKTw8MSkpKSYgMyksIGFsPShncj09dHIqIDg1KT8wOjI1NTsgIGJmMzJbaV09KGFsPDwyNCl8KGdyPDwxNil8KGdyPDw4KXxncjsgIH1cblx0XHRpZihkZXB0aD09IDQpIGZvcih2YXIgaT0wOyBpPGFyZWE7IGkrKykgeyAgdmFyIGdyPSAxNyooKGRhdGFbaT4+MV0+Pig0IC0oKGkmMSk8PDIpKSkmMTUpLCBhbD0oZ3I9PXRyKiAxNyk/MDoyNTU7ICBiZjMyW2ldPShhbDw8MjQpfChncjw8MTYpfChncjw8OCl8Z3I7ICB9XG5cdFx0aWYoZGVwdGg9PSA4KSBmb3IodmFyIGk9MDsgaTxhcmVhOyBpKyspIHsgIHZhciBncj1kYXRhW2kgIF0gLCBhbD0oZ3IgICAgICAgICAgID09dHIpPzA6MjU1OyAgYmYzMltpXT0oYWw8PDI0KXwoZ3I8PDE2KXwoZ3I8PDgpfGdyOyAgfVxuXHRcdGlmKGRlcHRoPT0xNikgZm9yKHZhciBpPTA7IGk8YXJlYTsgaSsrKSB7ICB2YXIgZ3I9ZGF0YVtpPDwxXSwgYWw9KHJzKGRhdGEsaTw8MSk9PXRyKT8wOjI1NTsgIGJmMzJbaV09KGFsPDwyNCl8KGdyPDwxNil8KGdyPDw4KXxncjsgIH1cblx0fVxuXHRyZXR1cm4gYmY7XG59XG5cblxuXG5VUE5HLmRlY29kZSA9IGZ1bmN0aW9uKGJ1ZmYpXG57XG5cdHZhciBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoYnVmZiksIG9mZnNldCA9IDgsIGJpbiA9IFVQTkcuX2JpbiwgclVzID0gYmluLnJlYWRVc2hvcnQsIHJVaSA9IGJpbi5yZWFkVWludDtcblx0dmFyIG91dCA9IHt0YWJzOnt9LCBmcmFtZXM6W119O1xuXHR2YXIgZGQgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCksIGRvZmYgPSAwO1x0IC8vIHB1dCBhbGwgSURBVCBkYXRhIGludG8gaXRcblx0dmFyIGZkLCBmb2ZmID0gMDtcdC8vIGZyYW1lc1xuXHRcblx0dmFyIG1nY2sgPSBbMHg4OSwgMHg1MCwgMHg0ZSwgMHg0NywgMHgwZCwgMHgwYSwgMHgxYSwgMHgwYV07XG5cdGZvcih2YXIgaT0wOyBpPDg7IGkrKykgaWYoZGF0YVtpXSE9bWdja1tpXSkgdGhyb3cgXCJUaGUgaW5wdXQgaXMgbm90IGEgUE5HIGZpbGUhXCI7XG5cblx0d2hpbGUob2Zmc2V0PGRhdGEubGVuZ3RoKVxuXHR7XG5cdFx0dmFyIGxlbiAgPSBiaW4ucmVhZFVpbnQoZGF0YSwgb2Zmc2V0KTsgIG9mZnNldCArPSA0O1xuXHRcdHZhciB0eXBlID0gYmluLnJlYWRBU0NJSShkYXRhLCBvZmZzZXQsIDQpOyAgb2Zmc2V0ICs9IDQ7XG5cdFx0Ly9sb2codHlwZSxsZW4pO1xuXHRcdFxuXHRcdGlmICAgICAodHlwZT09XCJJSERSXCIpICB7ICBVUE5HLmRlY29kZS5fSUhEUihkYXRhLCBvZmZzZXQsIG91dCk7ICB9XG5cdFx0ZWxzZSBpZih0eXBlPT1cIklEQVRcIikge1xuXHRcdFx0Zm9yKHZhciBpPTA7IGk8bGVuOyBpKyspIGRkW2RvZmYraV0gPSBkYXRhW29mZnNldCtpXTtcblx0XHRcdGRvZmYgKz0gbGVuO1xuXHRcdH1cblx0XHRlbHNlIGlmKHR5cGU9PVwiYWNUTFwiKSAge1xuXHRcdFx0b3V0LnRhYnNbdHlwZV0gPSB7ICBudW1fZnJhbWVzOnJVaShkYXRhLCBvZmZzZXQpLCBudW1fcGxheXM6clVpKGRhdGEsIG9mZnNldCs0KSAgfTtcblx0XHRcdGZkID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xuXHRcdH1cblx0XHRlbHNlIGlmKHR5cGU9PVwiZmNUTFwiKSAge1xuXHRcdFx0aWYoZm9mZiE9MCkgeyAgdmFyIGZyID0gb3V0LmZyYW1lc1tvdXQuZnJhbWVzLmxlbmd0aC0xXTtcblx0XHRcdFx0ZnIuZGF0YSA9IFVQTkcuZGVjb2RlLl9kZWNvbXByZXNzKG91dCwgZmQuc2xpY2UoMCxmb2ZmKSwgZnIucmVjdC53aWR0aCwgZnIucmVjdC5oZWlnaHQpOyAgZm9mZj0wO1xuXHRcdFx0fVxuXHRcdFx0dmFyIHJjdCA9IHt4OnJVaShkYXRhLCBvZmZzZXQrMTIpLHk6clVpKGRhdGEsIG9mZnNldCsxNiksd2lkdGg6clVpKGRhdGEsIG9mZnNldCs0KSxoZWlnaHQ6clVpKGRhdGEsIG9mZnNldCs4KX07XG5cdFx0XHR2YXIgZGVsID0gclVzKGRhdGEsIG9mZnNldCsyMik7ICBkZWwgPSByVXMoZGF0YSwgb2Zmc2V0KzIwKSAvIChkZWw9PTA/MTAwOmRlbCk7XG5cdFx0XHR2YXIgZnJtID0ge3JlY3Q6cmN0LCBkZWxheTpNYXRoLnJvdW5kKGRlbCoxMDAwKSwgZGlzcG9zZTpkYXRhW29mZnNldCsyNF0sIGJsZW5kOmRhdGFbb2Zmc2V0KzI1XX07XG5cdFx0XHQvL2NvbnNvbGUubG9nKGZybSk7XG5cdFx0XHRvdXQuZnJhbWVzLnB1c2goZnJtKTtcblx0XHR9XG5cdFx0ZWxzZSBpZih0eXBlPT1cImZkQVRcIikge1xuXHRcdFx0Zm9yKHZhciBpPTA7IGk8bGVuLTQ7IGkrKykgZmRbZm9mZitpXSA9IGRhdGFbb2Zmc2V0K2krNF07XG5cdFx0XHRmb2ZmICs9IGxlbi00O1xuXHRcdH1cblx0XHRlbHNlIGlmKHR5cGU9PVwicEhZc1wiKSB7XG5cdFx0XHRvdXQudGFic1t0eXBlXSA9IFtiaW4ucmVhZFVpbnQoZGF0YSwgb2Zmc2V0KSwgYmluLnJlYWRVaW50KGRhdGEsIG9mZnNldCs0KSwgZGF0YVtvZmZzZXQrOF1dO1xuXHRcdH1cblx0XHRlbHNlIGlmKHR5cGU9PVwiY0hSTVwiKSB7XG5cdFx0XHRvdXQudGFic1t0eXBlXSA9IFtdO1xuXHRcdFx0Zm9yKHZhciBpPTA7IGk8ODsgaSsrKSBvdXQudGFic1t0eXBlXS5wdXNoKGJpbi5yZWFkVWludChkYXRhLCBvZmZzZXQraSo0KSk7XG5cdFx0fVxuXHRcdGVsc2UgaWYodHlwZT09XCJ0RVh0XCIpIHtcblx0XHRcdGlmKG91dC50YWJzW3R5cGVdPT1udWxsKSBvdXQudGFic1t0eXBlXSA9IHt9O1xuXHRcdFx0dmFyIG56ID0gYmluLm5leHRaZXJvKGRhdGEsIG9mZnNldCk7XG5cdFx0XHR2YXIga2V5dyA9IGJpbi5yZWFkQVNDSUkoZGF0YSwgb2Zmc2V0LCBuei1vZmZzZXQpO1xuXHRcdFx0dmFyIHRleHQgPSBiaW4ucmVhZEFTQ0lJKGRhdGEsIG56KzEsIG9mZnNldCtsZW4tbnotMSk7XG5cdFx0XHRvdXQudGFic1t0eXBlXVtrZXl3XSA9IHRleHQ7XG5cdFx0fVxuXHRcdGVsc2UgaWYodHlwZT09XCJpVFh0XCIpIHtcblx0XHRcdGlmKG91dC50YWJzW3R5cGVdPT1udWxsKSBvdXQudGFic1t0eXBlXSA9IHt9O1xuXHRcdFx0dmFyIG56ID0gMCwgb2ZmID0gb2Zmc2V0O1xuXHRcdFx0bnogPSBiaW4ubmV4dFplcm8oZGF0YSwgb2ZmKTtcblx0XHRcdHZhciBrZXl3ID0gYmluLnJlYWRBU0NJSShkYXRhLCBvZmYsIG56LW9mZik7ICBvZmYgPSBueiArIDE7XG5cdFx0XHR2YXIgY2ZsYWcgPSBkYXRhW29mZl0sIGNtZXRoID0gZGF0YVtvZmYrMV07ICBvZmYrPTI7XG5cdFx0XHRueiA9IGJpbi5uZXh0WmVybyhkYXRhLCBvZmYpO1xuXHRcdFx0dmFyIGx0YWcgPSBiaW4ucmVhZEFTQ0lJKGRhdGEsIG9mZiwgbnotb2ZmKTsgIG9mZiA9IG56ICsgMTtcblx0XHRcdG56ID0gYmluLm5leHRaZXJvKGRhdGEsIG9mZik7XG5cdFx0XHR2YXIgdGtleXcgPSBiaW4ucmVhZFVURjgoZGF0YSwgb2ZmLCBuei1vZmYpOyAgb2ZmID0gbnogKyAxO1xuXHRcdFx0dmFyIHRleHQgID0gYmluLnJlYWRVVEY4KGRhdGEsIG9mZiwgbGVuLShvZmYtb2Zmc2V0KSk7XG5cdFx0XHRvdXQudGFic1t0eXBlXVtrZXl3XSA9IHRleHQ7XG5cdFx0fVxuXHRcdGVsc2UgaWYodHlwZT09XCJQTFRFXCIpIHtcblx0XHRcdG91dC50YWJzW3R5cGVdID0gYmluLnJlYWRCeXRlcyhkYXRhLCBvZmZzZXQsIGxlbik7XG5cdFx0fVxuXHRcdGVsc2UgaWYodHlwZT09XCJoSVNUXCIpIHtcblx0XHRcdHZhciBwbCA9IG91dC50YWJzW1wiUExURVwiXS5sZW5ndGgvMztcblx0XHRcdG91dC50YWJzW3R5cGVdID0gW107ICBmb3IodmFyIGk9MDsgaTxwbDsgaSsrKSBvdXQudGFic1t0eXBlXS5wdXNoKHJVcyhkYXRhLCBvZmZzZXQraSoyKSk7XG5cdFx0fVxuXHRcdGVsc2UgaWYodHlwZT09XCJ0Uk5TXCIpIHtcblx0XHRcdGlmICAgICAob3V0LmN0eXBlPT0zKSBvdXQudGFic1t0eXBlXSA9IGJpbi5yZWFkQnl0ZXMoZGF0YSwgb2Zmc2V0LCBsZW4pO1xuXHRcdFx0ZWxzZSBpZihvdXQuY3R5cGU9PTApIG91dC50YWJzW3R5cGVdID0gclVzKGRhdGEsIG9mZnNldCk7XG5cdFx0XHRlbHNlIGlmKG91dC5jdHlwZT09Mikgb3V0LnRhYnNbdHlwZV0gPSBbIHJVcyhkYXRhLG9mZnNldCksclVzKGRhdGEsb2Zmc2V0KzIpLHJVcyhkYXRhLG9mZnNldCs0KSBdO1xuXHRcdFx0Ly9lbHNlIGNvbnNvbGUubG9nKFwidFJOUyBmb3IgdW5zdXBwb3J0ZWQgY29sb3IgdHlwZVwiLG91dC5jdHlwZSwgbGVuKTtcblx0XHR9XG5cdFx0ZWxzZSBpZih0eXBlPT1cImdBTUFcIikgb3V0LnRhYnNbdHlwZV0gPSBiaW4ucmVhZFVpbnQoZGF0YSwgb2Zmc2V0KS8xMDAwMDA7XG5cdFx0ZWxzZSBpZih0eXBlPT1cInNSR0JcIikgb3V0LnRhYnNbdHlwZV0gPSBkYXRhW29mZnNldF07XG5cdFx0ZWxzZSBpZih0eXBlPT1cImJLR0RcIilcblx0XHR7XG5cdFx0XHRpZiAgICAgKG91dC5jdHlwZT09MCB8fCBvdXQuY3R5cGU9PTQpIG91dC50YWJzW3R5cGVdID0gW3JVcyhkYXRhLCBvZmZzZXQpXTtcblx0XHRcdGVsc2UgaWYob3V0LmN0eXBlPT0yIHx8IG91dC5jdHlwZT09Nikgb3V0LnRhYnNbdHlwZV0gPSBbclVzKGRhdGEsIG9mZnNldCksIHJVcyhkYXRhLCBvZmZzZXQrMiksIHJVcyhkYXRhLCBvZmZzZXQrNCldO1xuXHRcdFx0ZWxzZSBpZihvdXQuY3R5cGU9PTMpIG91dC50YWJzW3R5cGVdID0gZGF0YVtvZmZzZXRdO1xuXHRcdH1cblx0XHRlbHNlIGlmKHR5cGU9PVwiSUVORFwiKSB7XG5cdFx0XHRpZihmb2ZmIT0wKSB7ICB2YXIgZnIgPSBvdXQuZnJhbWVzW291dC5mcmFtZXMubGVuZ3RoLTFdO1xuXHRcdFx0XHRmci5kYXRhID0gVVBORy5kZWNvZGUuX2RlY29tcHJlc3Mob3V0LCBmZC5zbGljZSgwLGZvZmYpLCBmci5yZWN0LndpZHRoLCBmci5yZWN0LmhlaWdodCk7ICBmb2ZmPTA7XG5cdFx0XHR9XHRcblx0XHRcdG91dC5kYXRhID0gVVBORy5kZWNvZGUuX2RlY29tcHJlc3Mob3V0LCBkZCwgb3V0LndpZHRoLCBvdXQuaGVpZ2h0KTsgIGJyZWFrO1xuXHRcdH1cblx0XHQvL2Vsc2UgeyAgbG9nKFwidW5rbm93biBjaHVuayB0eXBlXCIsIHR5cGUsIGxlbik7ICB9XG5cdFx0b2Zmc2V0ICs9IGxlbjtcblx0XHR2YXIgY3JjID0gYmluLnJlYWRVaW50KGRhdGEsIG9mZnNldCk7ICBvZmZzZXQgKz0gNDtcblx0fVxuXHRkZWxldGUgb3V0LmNvbXByZXNzOyAgZGVsZXRlIG91dC5pbnRlcmxhY2U7ICBkZWxldGUgb3V0LmZpbHRlcjtcblx0cmV0dXJuIG91dDtcbn1cblxuVVBORy5kZWNvZGUuX2RlY29tcHJlc3MgPSBmdW5jdGlvbihvdXQsIGRkLCB3LCBoKSB7XG5cdGlmKG91dC5jb21wcmVzcyA9PTApIGRkID0gVVBORy5kZWNvZGUuX2luZmxhdGUoZGQpO1xuXG5cdGlmICAgICAob3V0LmludGVybGFjZT09MCkgZGQgPSBVUE5HLmRlY29kZS5fZmlsdGVyWmVybyhkZCwgb3V0LCAwLCB3LCBoKTtcblx0ZWxzZSBpZihvdXQuaW50ZXJsYWNlPT0xKSBkZCA9IFVQTkcuZGVjb2RlLl9yZWFkSW50ZXJsYWNlKGRkLCBvdXQpO1xuXHRyZXR1cm4gZGQ7XG59XG5cblVQTkcuZGVjb2RlLl9pbmZsYXRlID0gZnVuY3Rpb24oZGF0YSkgeyAgcmV0dXJuIHBha29bXCJpbmZsYXRlXCJdKGRhdGEpOyAgfVxuXG5VUE5HLmRlY29kZS5fcmVhZEludGVybGFjZSA9IGZ1bmN0aW9uKGRhdGEsIG91dClcbntcblx0dmFyIHcgPSBvdXQud2lkdGgsIGggPSBvdXQuaGVpZ2h0O1xuXHR2YXIgYnBwID0gVVBORy5kZWNvZGUuX2dldEJQUChvdXQpLCBjYnBwID0gYnBwPj4zLCBicGwgPSBNYXRoLmNlaWwodypicHAvOCk7XG5cdHZhciBpbWcgPSBuZXcgVWludDhBcnJheSggaCAqIGJwbCApO1xuXHR2YXIgZGkgPSAwO1xuXG5cdHZhciBzdGFydGluZ19yb3cgID0gWyAwLCAwLCA0LCAwLCAyLCAwLCAxIF07XG5cdHZhciBzdGFydGluZ19jb2wgID0gWyAwLCA0LCAwLCAyLCAwLCAxLCAwIF07XG5cdHZhciByb3dfaW5jcmVtZW50ID0gWyA4LCA4LCA4LCA0LCA0LCAyLCAyIF07XG5cdHZhciBjb2xfaW5jcmVtZW50ID0gWyA4LCA4LCA0LCA0LCAyLCAyLCAxIF07XG5cblx0dmFyIHBhc3M9MDtcblx0d2hpbGUocGFzczw3KVxuXHR7XG5cdFx0dmFyIHJpID0gcm93X2luY3JlbWVudFtwYXNzXSwgY2kgPSBjb2xfaW5jcmVtZW50W3Bhc3NdO1xuXHRcdHZhciBzdyA9IDAsIHNoID0gMDtcblx0XHR2YXIgY3IgPSBzdGFydGluZ19yb3dbcGFzc107ICB3aGlsZShjcjxoKSB7ICBjcis9cmk7ICBzaCsrOyAgfVxuXHRcdHZhciBjYyA9IHN0YXJ0aW5nX2NvbFtwYXNzXTsgIHdoaWxlKGNjPHcpIHsgIGNjKz1jaTsgIHN3Kys7ICB9XG5cdFx0dmFyIGJwbGwgPSBNYXRoLmNlaWwoc3cqYnBwLzgpO1xuXHRcdFVQTkcuZGVjb2RlLl9maWx0ZXJaZXJvKGRhdGEsIG91dCwgZGksIHN3LCBzaCk7XG5cblx0XHR2YXIgeT0wLCByb3cgPSBzdGFydGluZ19yb3dbcGFzc107XG5cdFx0d2hpbGUocm93PGgpXG5cdFx0e1xuXHRcdFx0dmFyIGNvbCA9IHN0YXJ0aW5nX2NvbFtwYXNzXTtcblx0XHRcdHZhciBjZGkgPSAoZGkreSpicGxsKTw8MztcblxuXHRcdFx0d2hpbGUoY29sPHcpXG5cdFx0XHR7XG5cdFx0XHRcdGlmKGJwcD09MSkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSBkYXRhW2NkaT4+M107ICB2YWwgPSAodmFsPj4oNy0oY2RpJjcpKSkmMTtcblx0XHRcdFx0XHRpbWdbcm93KmJwbCArIChjb2w+PjMpXSB8PSAodmFsIDw8ICg3LSgoY29sJjMpPDwwKSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKGJwcD09Mikge1xuXHRcdFx0XHRcdHZhciB2YWwgPSBkYXRhW2NkaT4+M107ICB2YWwgPSAodmFsPj4oNi0oY2RpJjcpKSkmMztcblx0XHRcdFx0XHRpbWdbcm93KmJwbCArIChjb2w+PjIpXSB8PSAodmFsIDw8ICg2LSgoY29sJjMpPDwxKSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKGJwcD09NCkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSBkYXRhW2NkaT4+M107ICB2YWwgPSAodmFsPj4oNC0oY2RpJjcpKSkmMTU7XG5cdFx0XHRcdFx0aW1nW3JvdypicGwgKyAoY29sPj4xKV0gfD0gKHZhbCA8PCAoNC0oKGNvbCYxKTw8MikpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihicHA+PTgpIHtcblx0XHRcdFx0XHR2YXIgaWkgPSByb3cqYnBsK2NvbCpjYnBwO1xuXHRcdFx0XHRcdGZvcih2YXIgaj0wOyBqPGNicHA7IGorKykgaW1nW2lpK2pdID0gZGF0YVsoY2RpPj4zKStqXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjZGkrPWJwcDsgIGNvbCs9Y2k7XG5cdFx0XHR9XG5cdFx0XHR5Kys7ICByb3cgKz0gcmk7XG5cdFx0fVxuXHRcdGlmKHN3KnNoIT0wKSBkaSArPSBzaCAqICgxICsgYnBsbCk7XG5cdFx0cGFzcyA9IHBhc3MgKyAxO1xuXHR9XG5cdHJldHVybiBpbWc7XG59XG5cblVQTkcuZGVjb2RlLl9nZXRCUFAgPSBmdW5jdGlvbihvdXQpIHtcblx0dmFyIG5vYyA9IFsxLG51bGwsMywxLDIsbnVsbCw0XVtvdXQuY3R5cGVdO1xuXHRyZXR1cm4gbm9jICogb3V0LmRlcHRoO1xufVxuXG5VUE5HLmRlY29kZS5fZmlsdGVyWmVybyA9IGZ1bmN0aW9uKGRhdGEsIG91dCwgb2ZmLCB3LCBoKVxue1xuXHR2YXIgYnBwID0gVVBORy5kZWNvZGUuX2dldEJQUChvdXQpLCBicGwgPSBNYXRoLmNlaWwodypicHAvOCksIHBhZXRoID0gVVBORy5kZWNvZGUuX3BhZXRoO1xuXHRicHAgPSBNYXRoLmNlaWwoYnBwLzgpO1xuXG5cdGZvcih2YXIgeT0wOyB5PGg7IHkrKykgIHtcblx0XHR2YXIgaSA9IG9mZit5KmJwbCwgZGkgPSBpK3krMTtcblx0XHR2YXIgdHlwZSA9IGRhdGFbZGktMV07XG5cblx0XHRpZiAgICAgKHR5cGU9PTApIGZvcih2YXIgeD0gIDA7IHg8YnBsOyB4KyspIGRhdGFbaSt4XSA9IGRhdGFbZGkreF07XG5cdFx0ZWxzZSBpZih0eXBlPT0xKSB7XG5cdFx0XHRmb3IodmFyIHg9ICAwOyB4PGJwcDsgeCsrKSBkYXRhW2kreF0gPSBkYXRhW2RpK3hdO1xuXHRcdFx0Zm9yKHZhciB4PWJwcDsgeDxicGw7IHgrKykgZGF0YVtpK3hdID0gKGRhdGFbZGkreF0gKyBkYXRhW2kreC1icHBdKSYyNTU7XG5cdFx0fVxuXHRcdGVsc2UgaWYoeT09MCkge1xuXHRcdFx0Zm9yKHZhciB4PSAgMDsgeDxicHA7IHgrKykgZGF0YVtpK3hdID0gZGF0YVtkaSt4XTtcblx0XHRcdGlmKHR5cGU9PTIpIGZvcih2YXIgeD1icHA7IHg8YnBsOyB4KyspIGRhdGFbaSt4XSA9IChkYXRhW2RpK3hdKSYyNTU7XG5cdFx0XHRpZih0eXBlPT0zKSBmb3IodmFyIHg9YnBwOyB4PGJwbDsgeCsrKSBkYXRhW2kreF0gPSAoZGF0YVtkaSt4XSArIChkYXRhW2kreC1icHBdPj4xKSApJjI1NTtcblx0XHRcdGlmKHR5cGU9PTQpIGZvcih2YXIgeD1icHA7IHg8YnBsOyB4KyspIGRhdGFbaSt4XSA9IChkYXRhW2RpK3hdICsgcGFldGgoZGF0YVtpK3gtYnBwXSwgMCwgMCkgKSYyNTU7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0aWYodHlwZT09MikgeyBmb3IodmFyIHg9ICAwOyB4PGJwbDsgeCsrKSBkYXRhW2kreF0gPSAoZGF0YVtkaSt4XSArIGRhdGFbaSt4LWJwbF0pJjI1NTsgIH1cblxuXHRcdFx0aWYodHlwZT09MykgeyBmb3IodmFyIHg9ICAwOyB4PGJwcDsgeCsrKSBkYXRhW2kreF0gPSAoZGF0YVtkaSt4XSArIChkYXRhW2kreC1icGxdPj4xKSkmMjU1O1xuXHRcdFx0ICAgICAgICAgICAgICBmb3IodmFyIHg9YnBwOyB4PGJwbDsgeCsrKSBkYXRhW2kreF0gPSAoZGF0YVtkaSt4XSArICgoZGF0YVtpK3gtYnBsXStkYXRhW2kreC1icHBdKT4+MSkgKSYyNTU7ICB9XG5cblx0XHRcdGlmKHR5cGU9PTQpIHsgZm9yKHZhciB4PSAgMDsgeDxicHA7IHgrKykgZGF0YVtpK3hdID0gKGRhdGFbZGkreF0gKyBwYWV0aCgwLCBkYXRhW2kreC1icGxdLCAwKSkmMjU1O1xuXHRcdFx0XHRcdFx0ICBmb3IodmFyIHg9YnBwOyB4PGJwbDsgeCsrKSBkYXRhW2kreF0gPSAoZGF0YVtkaSt4XSArIHBhZXRoKGRhdGFbaSt4LWJwcF0sIGRhdGFbaSt4LWJwbF0sIGRhdGFbaSt4LWJwcC1icGxdKSApJjI1NTsgIH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIGRhdGE7XG59XG5cblVQTkcuZGVjb2RlLl9wYWV0aCA9IGZ1bmN0aW9uKGEsYixjKVxue1xuXHR2YXIgcCA9IGErYi1jLCBwYSA9IE1hdGguYWJzKHAtYSksIHBiID0gTWF0aC5hYnMocC1iKSwgcGMgPSBNYXRoLmFicyhwLWMpO1xuXHRpZiAocGEgPD0gcGIgJiYgcGEgPD0gcGMpICByZXR1cm4gYTtcblx0ZWxzZSBpZiAocGIgPD0gcGMpICByZXR1cm4gYjtcblx0cmV0dXJuIGM7XG59XG5cblVQTkcuZGVjb2RlLl9JSERSID0gZnVuY3Rpb24oZGF0YSwgb2Zmc2V0LCBvdXQpXG57XG5cdHZhciBiaW4gPSBVUE5HLl9iaW47XG5cdG91dC53aWR0aCAgPSBiaW4ucmVhZFVpbnQoZGF0YSwgb2Zmc2V0KTsgIG9mZnNldCArPSA0O1xuXHRvdXQuaGVpZ2h0ID0gYmluLnJlYWRVaW50KGRhdGEsIG9mZnNldCk7ICBvZmZzZXQgKz0gNDtcblx0b3V0LmRlcHRoICAgICA9IGRhdGFbb2Zmc2V0XTsgIG9mZnNldCsrO1xuXHRvdXQuY3R5cGUgICAgID0gZGF0YVtvZmZzZXRdOyAgb2Zmc2V0Kys7XG5cdG91dC5jb21wcmVzcyAgPSBkYXRhW29mZnNldF07ICBvZmZzZXQrKztcblx0b3V0LmZpbHRlciAgICA9IGRhdGFbb2Zmc2V0XTsgIG9mZnNldCsrO1xuXHRvdXQuaW50ZXJsYWNlID0gZGF0YVtvZmZzZXRdOyAgb2Zmc2V0Kys7XG59XG5cblVQTkcuX2JpbiA9IHtcblx0bmV4dFplcm8gICA6IGZ1bmN0aW9uKGRhdGEscCkgIHsgIHdoaWxlKGRhdGFbcF0hPTApIHArKzsgIHJldHVybiBwOyAgfSxcblx0cmVhZFVzaG9ydCA6IGZ1bmN0aW9uKGJ1ZmYscCkgIHsgIHJldHVybiAoYnVmZltwXTw8IDgpIHwgYnVmZltwKzFdOyAgfSxcblx0d3JpdGVVc2hvcnQ6IGZ1bmN0aW9uKGJ1ZmYscCxuKXsgIGJ1ZmZbcF0gPSAobj4+OCkmMjU1OyAgYnVmZltwKzFdID0gbiYyNTU7ICB9LFxuXHRyZWFkVWludCAgIDogZnVuY3Rpb24oYnVmZixwKSAgeyAgcmV0dXJuIChidWZmW3BdKigyNTYqMjU2KjI1NikpICsgKChidWZmW3ArMV08PDE2KSB8IChidWZmW3ArMl08PCA4KSB8IGJ1ZmZbcCszXSk7ICB9LFxuXHR3cml0ZVVpbnQgIDogZnVuY3Rpb24oYnVmZixwLG4peyAgYnVmZltwXT0obj4+MjQpJjI1NTsgIGJ1ZmZbcCsxXT0obj4+MTYpJjI1NTsgIGJ1ZmZbcCsyXT0obj4+OCkmMjU1OyAgYnVmZltwKzNdPW4mMjU1OyAgfSxcblx0cmVhZEFTQ0lJICA6IGZ1bmN0aW9uKGJ1ZmYscCxsKXsgIHZhciBzID0gXCJcIjsgIGZvcih2YXIgaT0wOyBpPGw7IGkrKykgcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZmZbcCtpXSk7ICByZXR1cm4gczsgICAgfSxcblx0d3JpdGVBU0NJSSA6IGZ1bmN0aW9uKGRhdGEscCxzKXsgIGZvcih2YXIgaT0wOyBpPHMubGVuZ3RoOyBpKyspIGRhdGFbcCtpXSA9IHMuY2hhckNvZGVBdChpKTsgIH0sXG5cdHJlYWRCeXRlcyAgOiBmdW5jdGlvbihidWZmLHAsbCl7ICB2YXIgYXJyID0gW107ICAgZm9yKHZhciBpPTA7IGk8bDsgaSsrKSBhcnIucHVzaChidWZmW3AraV0pOyAgIHJldHVybiBhcnI7ICB9LFxuXHRwYWQgOiBmdW5jdGlvbihuKSB7IHJldHVybiBuLmxlbmd0aCA8IDIgPyBcIjBcIiArIG4gOiBuOyB9LFxuXHRyZWFkVVRGOCA6IGZ1bmN0aW9uKGJ1ZmYsIHAsIGwpIHtcblx0XHR2YXIgcyA9IFwiXCIsIG5zO1xuXHRcdGZvcih2YXIgaT0wOyBpPGw7IGkrKykgcyArPSBcIiVcIiArIFVQTkcuX2Jpbi5wYWQoYnVmZltwK2ldLnRvU3RyaW5nKDE2KSk7XG5cdFx0dHJ5IHsgIG5zID0gZGVjb2RlVVJJQ29tcG9uZW50KHMpOyB9XG5cdFx0Y2F0Y2goZSkgeyAgcmV0dXJuIFVQTkcuX2Jpbi5yZWFkQVNDSUkoYnVmZiwgcCwgbCk7ICB9XG5cdFx0cmV0dXJuICBucztcblx0fVxufVxuVVBORy5fY29weVRpbGUgPSBmdW5jdGlvbihzYiwgc3csIHNoLCB0YiwgdHcsIHRoLCB4b2ZmLCB5b2ZmLCBtb2RlKVxue1xuXHR2YXIgdyA9IE1hdGgubWluKHN3LHR3KSwgaCA9IE1hdGgubWluKHNoLHRoKTtcblx0dmFyIHNpPTAsIHRpPTA7XG5cdGZvcih2YXIgeT0wOyB5PGg7IHkrKylcblx0XHRmb3IodmFyIHg9MDsgeDx3OyB4KyspXG5cdFx0e1xuXHRcdFx0aWYoeG9mZj49MCAmJiB5b2ZmPj0wKSB7ICBzaSA9ICh5KnN3K3gpPDwyOyAgdGkgPSAoKCB5b2ZmK3kpKnR3K3hvZmYreCk8PDI7ICB9XG5cdFx0XHRlbHNlICAgICAgICAgICAgICAgICAgIHsgIHNpID0gKCgteW9mZit5KSpzdy14b2ZmK3gpPDwyOyAgdGkgPSAoeSp0dyt4KTw8MjsgIH1cblx0XHRcdFxuXHRcdFx0aWYgICAgIChtb2RlPT0wKSB7ICB0Ylt0aV0gPSBzYltzaV07ICB0Ylt0aSsxXSA9IHNiW3NpKzFdOyAgdGJbdGkrMl0gPSBzYltzaSsyXTsgIHRiW3RpKzNdID0gc2Jbc2krM107ICB9XG5cdFx0XHRlbHNlIGlmKG1vZGU9PTEpIHtcblx0XHRcdFx0dmFyIGZhID0gc2Jbc2krM10qKDEvMjU1KSwgZnI9c2Jbc2ldKmZhLCBmZz1zYltzaSsxXSpmYSwgZmI9c2Jbc2krMl0qZmE7IFxuXHRcdFx0XHR2YXIgYmEgPSB0Ylt0aSszXSooMS8yNTUpLCBicj10Ylt0aV0qYmEsIGJnPXRiW3RpKzFdKmJhLCBiYj10Ylt0aSsyXSpiYTsgXG5cdFx0XHRcdFxuXHRcdFx0XHR2YXIgaWZhPTEtZmEsIG9hID0gZmErYmEqaWZhLCBpb2EgPSAob2E9PTA/MDoxL29hKTtcblx0XHRcdFx0dGJbdGkrM10gPSAyNTUqb2E7ICBcblx0XHRcdFx0dGJbdGkrMF0gPSAoZnIrYnIqaWZhKSppb2E7ICBcblx0XHRcdFx0dGJbdGkrMV0gPSAoZmcrYmcqaWZhKSppb2E7ICAgXG5cdFx0XHRcdHRiW3RpKzJdID0gKGZiK2JiKmlmYSkqaW9hOyAgXG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKG1vZGU9PTIpe1x0Ly8gY29weSBvbmx5IGRpZmZlcmVuY2VzLCBvdGhlcndpc2UgemVyb1xuXHRcdFx0XHR2YXIgZmEgPSBzYltzaSszXSwgZnI9c2Jbc2ldLCBmZz1zYltzaSsxXSwgZmI9c2Jbc2krMl07IFxuXHRcdFx0XHR2YXIgYmEgPSB0Ylt0aSszXSwgYnI9dGJbdGldLCBiZz10Ylt0aSsxXSwgYmI9dGJbdGkrMl07IFxuXHRcdFx0XHRpZihmYT09YmEgJiYgZnI9PWJyICYmIGZnPT1iZyAmJiBmYj09YmIpIHsgIHRiW3RpXT0wOyAgdGJbdGkrMV09MDsgIHRiW3RpKzJdPTA7ICB0Ylt0aSszXT0wOyAgfVxuXHRcdFx0XHRlbHNlIHsgIHRiW3RpXT1mcjsgIHRiW3RpKzFdPWZnOyAgdGJbdGkrMl09ZmI7ICB0Ylt0aSszXT1mYTsgIH1cblx0XHRcdH1cblx0XHRcdGVsc2UgaWYobW9kZT09Myl7XHQvLyBjaGVjayBpZiBjYW4gYmUgYmxlbmRlZFxuXHRcdFx0XHR2YXIgZmEgPSBzYltzaSszXSwgZnI9c2Jbc2ldLCBmZz1zYltzaSsxXSwgZmI9c2Jbc2krMl07IFxuXHRcdFx0XHR2YXIgYmEgPSB0Ylt0aSszXSwgYnI9dGJbdGldLCBiZz10Ylt0aSsxXSwgYmI9dGJbdGkrMl07IFxuXHRcdFx0XHRpZihmYT09YmEgJiYgZnI9PWJyICYmIGZnPT1iZyAmJiBmYj09YmIpIGNvbnRpbnVlO1xuXHRcdFx0XHQvL2lmKGZhIT0yNTUgJiYgYmEhPTApIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWYoZmE8MjIwICYmIGJhPjIwKSByZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuXG5cblVQTkcuZW5jb2RlID0gZnVuY3Rpb24oYnVmcywgdywgaCwgcHMsIGRlbHMsIGZvcmJpZFBsdGUpXG57XG5cdGlmKHBzPT1udWxsKSBwcz0wO1xuXHRpZihmb3JiaWRQbHRlPT1udWxsKSBmb3JiaWRQbHRlID0gZmFsc2U7XG5cdHZhciBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoYnVmc1swXS5ieXRlTGVuZ3RoKmJ1ZnMubGVuZ3RoKzEwMCk7XG5cdHZhciB3cj1bMHg4OSwgMHg1MCwgMHg0ZSwgMHg0NywgMHgwZCwgMHgwYSwgMHgxYSwgMHgwYV07XG5cdGZvcih2YXIgaT0wOyBpPDg7IGkrKykgZGF0YVtpXT13cltpXTtcblx0dmFyIG9mZnNldCA9IDgsICBiaW4gPSBVUE5HLl9iaW4sIGNyYyA9IFVQTkcuY3JjLmNyYywgd1VpID0gYmluLndyaXRlVWludCwgd1VzID0gYmluLndyaXRlVXNob3J0LCB3QXMgPSBiaW4ud3JpdGVBU0NJSTtcblxuXHR2YXIgbmltZyA9IFVQTkcuZW5jb2RlLmNvbXByZXNzUE5HKGJ1ZnMsIHcsIGgsIHBzLCBmb3JiaWRQbHRlKTtcblxuXHR3VWkoZGF0YSxvZmZzZXQsIDEzKTsgICAgIG9mZnNldCs9NDtcblx0d0FzKGRhdGEsb2Zmc2V0LFwiSUhEUlwiKTsgIG9mZnNldCs9NDtcblx0d1VpKGRhdGEsb2Zmc2V0LHcpOyAgb2Zmc2V0Kz00O1xuXHR3VWkoZGF0YSxvZmZzZXQsaCk7ICBvZmZzZXQrPTQ7XG5cdGRhdGFbb2Zmc2V0XSA9IG5pbWcuZGVwdGg7ICBvZmZzZXQrKzsgIC8vIGRlcHRoXG5cdGRhdGFbb2Zmc2V0XSA9IG5pbWcuY3R5cGU7ICBvZmZzZXQrKzsgIC8vIGN0eXBlXG5cdGRhdGFbb2Zmc2V0XSA9IDA7ICBvZmZzZXQrKzsgIC8vIGNvbXByZXNzXG5cdGRhdGFbb2Zmc2V0XSA9IDA7ICBvZmZzZXQrKzsgIC8vIGZpbHRlclxuXHRkYXRhW29mZnNldF0gPSAwOyAgb2Zmc2V0Kys7ICAvLyBpbnRlcmxhY2Vcblx0d1VpKGRhdGEsb2Zmc2V0LGNyYyhkYXRhLG9mZnNldC0xNywxNykpOyAgb2Zmc2V0Kz00OyAvLyBjcmNcblxuXHQvLyA5IGJ5dGVzIHRvIHNheSwgdGhhdCBpdCBpcyBzUkdCXG5cdHdVaShkYXRhLG9mZnNldCwgMSk7ICAgICAgb2Zmc2V0Kz00O1xuXHR3QXMoZGF0YSxvZmZzZXQsXCJzUkdCXCIpOyAgb2Zmc2V0Kz00O1xuXHRkYXRhW29mZnNldF0gPSAxOyAgb2Zmc2V0Kys7XG5cdHdVaShkYXRhLG9mZnNldCxjcmMoZGF0YSxvZmZzZXQtNSw1KSk7ICBvZmZzZXQrPTQ7IC8vIGNyY1xuXG5cdHZhciBhbmltID0gYnVmcy5sZW5ndGg+MTtcblx0aWYoYW5pbSkge1xuXHRcdHdVaShkYXRhLG9mZnNldCwgOCk7ICAgICAgb2Zmc2V0Kz00O1xuXHRcdHdBcyhkYXRhLG9mZnNldCxcImFjVExcIik7ICBvZmZzZXQrPTQ7XG5cdFx0d1VpKGRhdGEsb2Zmc2V0LCBidWZzLmxlbmd0aCk7ICAgICAgb2Zmc2V0Kz00O1xuXHRcdHdVaShkYXRhLG9mZnNldCwgMCk7ICAgICAgb2Zmc2V0Kz00O1xuXHRcdHdVaShkYXRhLG9mZnNldCxjcmMoZGF0YSxvZmZzZXQtMTIsMTIpKTsgIG9mZnNldCs9NDsgLy8gY3JjXG5cdH1cblxuXHRpZihuaW1nLmN0eXBlPT0zKSB7XG5cdFx0dmFyIGRsID0gbmltZy5wbHRlLmxlbmd0aDtcblx0XHR3VWkoZGF0YSxvZmZzZXQsIGRsKjMpOyAgb2Zmc2V0Kz00O1xuXHRcdHdBcyhkYXRhLG9mZnNldCxcIlBMVEVcIik7ICBvZmZzZXQrPTQ7XG5cdFx0Zm9yKHZhciBpPTA7IGk8ZGw7IGkrKyl7XG5cdFx0XHR2YXIgdGk9aSozLCBjPW5pbWcucGx0ZVtpXSwgcj0oYykmMjU1LCBnPShjPj44KSYyNTUsIGI9KGM+PjE2KSYyNTU7XG5cdFx0XHRkYXRhW29mZnNldCt0aSswXT1yOyAgZGF0YVtvZmZzZXQrdGkrMV09ZzsgIGRhdGFbb2Zmc2V0K3RpKzJdPWI7XG5cdFx0fVxuXHRcdG9mZnNldCs9ZGwqMztcblx0XHR3VWkoZGF0YSxvZmZzZXQsY3JjKGRhdGEsb2Zmc2V0LWRsKjMtNCxkbCozKzQpKTsgIG9mZnNldCs9NDsgLy8gY3JjXG5cblx0XHRpZihuaW1nLmdvdEFscGhhKSB7XG5cdFx0XHR3VWkoZGF0YSxvZmZzZXQsIGRsKTsgIG9mZnNldCs9NDtcblx0XHRcdHdBcyhkYXRhLG9mZnNldCxcInRSTlNcIik7ICBvZmZzZXQrPTQ7XG5cdFx0XHRmb3IodmFyIGk9MDsgaTxkbDsgaSsrKSAgZGF0YVtvZmZzZXQraV09KG5pbWcucGx0ZVtpXT4+MjQpJjI1NTtcblx0XHRcdG9mZnNldCs9ZGw7XG5cdFx0XHR3VWkoZGF0YSxvZmZzZXQsY3JjKGRhdGEsb2Zmc2V0LWRsLTQsZGwrNCkpOyAgb2Zmc2V0Kz00OyAvLyBjcmNcblx0XHR9XG5cdH1cblx0XG5cdHZhciBmaSA9IDA7XG5cdGZvcih2YXIgaj0wOyBqPG5pbWcuZnJhbWVzLmxlbmd0aDsgaisrKVxuXHR7XG5cdFx0dmFyIGZyID0gbmltZy5mcmFtZXNbal07XG5cdFx0aWYoYW5pbSkge1xuXHRcdFx0d1VpKGRhdGEsb2Zmc2V0LCAyNik7ICAgICBvZmZzZXQrPTQ7XG5cdFx0XHR3QXMoZGF0YSxvZmZzZXQsXCJmY1RMXCIpOyAgb2Zmc2V0Kz00O1xuXHRcdFx0d1VpKGRhdGEsIG9mZnNldCwgZmkrKyk7ICAgb2Zmc2V0Kz00O1xuXHRcdFx0d1VpKGRhdGEsIG9mZnNldCwgZnIucmVjdC53aWR0aCApOyAgIG9mZnNldCs9NDtcblx0XHRcdHdVaShkYXRhLCBvZmZzZXQsIGZyLnJlY3QuaGVpZ2h0KTsgICBvZmZzZXQrPTQ7XG5cdFx0XHR3VWkoZGF0YSwgb2Zmc2V0LCBmci5yZWN0LngpOyAgIG9mZnNldCs9NDtcblx0XHRcdHdVaShkYXRhLCBvZmZzZXQsIGZyLnJlY3QueSk7ICAgb2Zmc2V0Kz00O1xuXHRcdFx0d1VzKGRhdGEsIG9mZnNldCwgZGVsc1tqXSk7ICAgb2Zmc2V0Kz0yO1xuXHRcdFx0d1VzKGRhdGEsIG9mZnNldCwgIDEwMDApOyAgIG9mZnNldCs9Mjtcblx0XHRcdGRhdGFbb2Zmc2V0XSA9IGZyLmRpc3Bvc2U7ICBvZmZzZXQrKztcdC8vIGRpc3Bvc2Vcblx0XHRcdGRhdGFbb2Zmc2V0XSA9IGZyLmJsZW5kICA7ICBvZmZzZXQrKztcdC8vIGJsZW5kXG5cdFx0XHR3VWkoZGF0YSxvZmZzZXQsY3JjKGRhdGEsb2Zmc2V0LTMwLDMwKSk7ICBvZmZzZXQrPTQ7IC8vIGNyY1xuXHRcdH1cblx0XHRcdFx0XG5cdFx0dmFyIGltZ2QgPSBmci5jaW1nLCBkbCA9IGltZ2QubGVuZ3RoO1xuXHRcdHdVaShkYXRhLG9mZnNldCwgZGwrKGo9PTA/MDo0KSk7ICAgICBvZmZzZXQrPTQ7XG5cdFx0dmFyIGlvZmYgPSBvZmZzZXQ7XG5cdFx0d0FzKGRhdGEsb2Zmc2V0LChqPT0wKT9cIklEQVRcIjpcImZkQVRcIik7ICBvZmZzZXQrPTQ7XG5cdFx0aWYoaiE9MCkgeyAgd1VpKGRhdGEsIG9mZnNldCwgZmkrKyk7ICBvZmZzZXQrPTQ7ICB9XG5cdFx0Zm9yKHZhciBpPTA7IGk8ZGw7IGkrKykgZGF0YVtvZmZzZXQraV0gPSBpbWdkW2ldO1xuXHRcdG9mZnNldCArPSBkbDtcblx0XHR3VWkoZGF0YSxvZmZzZXQsY3JjKGRhdGEsaW9mZixvZmZzZXQtaW9mZikpOyAgb2Zmc2V0Kz00OyAvLyBjcmNcblx0fVxuXG5cdHdVaShkYXRhLG9mZnNldCwgMCk7ICAgICBvZmZzZXQrPTQ7XG5cdHdBcyhkYXRhLG9mZnNldCxcIklFTkRcIik7ICBvZmZzZXQrPTQ7XG5cdHdVaShkYXRhLG9mZnNldCxjcmMoZGF0YSxvZmZzZXQtNCw0KSk7ICBvZmZzZXQrPTQ7IC8vIGNyY1xuXG5cdHJldHVybiBkYXRhLmJ1ZmZlci5zbGljZSgwLG9mZnNldCk7XG59XG5cblVQTkcuZW5jb2RlLmNvbXByZXNzUE5HID0gZnVuY3Rpb24oYnVmcywgdywgaCwgcHMsIGZvcmJpZFBsdGUpXG57XG5cdHZhciBvdXQgPSBVUE5HLmVuY29kZS5jb21wcmVzcyhidWZzLCB3LCBoLCBwcywgZmFsc2UsIGZvcmJpZFBsdGUpO1xuXHRmb3IodmFyIGk9MDsgaTxidWZzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGZybSA9IG91dC5mcmFtZXNbaV0sIG53PWZybS5yZWN0LndpZHRoLCBuaD1mcm0ucmVjdC5oZWlnaHQsIGJwbD1mcm0uYnBsLCBicHA9ZnJtLmJwcDtcblx0XHR2YXIgZmRhdGEgPSBuZXcgVWludDhBcnJheShuaCpicGwrbmgpO1xuXHRcdGZybS5jaW1nID0gVVBORy5lbmNvZGUuX2ZpbHRlclplcm8oZnJtLmltZyxuaCxicHAsYnBsLGZkYXRhKTtcblx0fVx0XG5cdHJldHVybiBvdXQ7XG59XG5cblVQTkcuZW5jb2RlLmNvbXByZXNzID0gZnVuY3Rpb24oYnVmcywgdywgaCwgcHMsIGZvckdJRiwgZm9yYmlkUGx0ZSlcbntcblx0aWYoZm9yYmlkUGx0ZT09bnVsbCkgZm9yYmlkUGx0ZSA9IGZhbHNlO1xuXHRcblx0dmFyIGN0eXBlID0gNiwgZGVwdGggPSA4LCBicHAgPSA0LCBhbHBoYUFuZD0yNTVcblx0XG5cdGZvcih2YXIgaj0wOyBqPGJ1ZnMubGVuZ3RoOyBqKyspICB7ICAvLyB3aGVuIG5vdCBxdWFudGl6ZWQsIG90aGVyIGZyYW1lcyBjYW4gY29udGFpbiBjb2xvcnMsIHRoYXQgYXJlIG5vdCBpbiBhbiBpbml0aWFsIGZyYW1lXG5cdFx0dmFyIGltZyA9IG5ldyBVaW50OEFycmF5KGJ1ZnNbal0pLCBpbGVuID0gaW1nLmxlbmd0aDtcblx0XHRmb3IodmFyIGk9MDsgaTxpbGVuOyBpKz00KSBhbHBoYUFuZCAmPSBpbWdbaSszXTtcblx0fVxuXHR2YXIgZ290QWxwaGEgPSAoYWxwaGFBbmQpIT0yNTU7XG5cdFxuXHR2YXIgY21hcD17fSwgcGx0ZT1bXTsgIGlmKGJ1ZnMubGVuZ3RoIT0wKSB7ICBjbWFwWzBdPTA7ICBwbHRlLnB1c2goMCk7ICBpZihwcyE9MCkgcHMtLTsgIH0gXG5cdFxuXHRcblx0aWYocHMhPTApIHtcblx0XHR2YXIgcXJlcyA9IFVQTkcucXVhbnRpemUoYnVmcywgcHMsIGZvckdJRik7ICBidWZzID0gcXJlcy5idWZzO1xuXHRcdGZvcih2YXIgaT0wOyBpPHFyZXMucGx0ZS5sZW5ndGg7IGkrKykgeyAgdmFyIGM9cXJlcy5wbHRlW2ldLmVzdC5yZ2JhOyAgaWYoY21hcFtjXT09bnVsbCkgeyAgY21hcFtjXT1wbHRlLmxlbmd0aDsgIHBsdGUucHVzaChjKTsgIH0gICAgIH1cblx0fVxuXHRlbHNlIHtcblx0XHQvLyB3aGF0IGlmIHBzPT0wLCBidXQgdGhlcmUgYXJlIDw9MjU2IGNvbG9ycz8gIHdlIHN0aWxsIG5lZWQgdG8gZGV0ZWN0LCBpZiB0aGUgcGFsZXR0ZSBjb3VsZCBiZSB1c2VkXG5cdFx0Zm9yKHZhciBqPTA7IGo8YnVmcy5sZW5ndGg7IGorKykgIHsgIC8vIHdoZW4gbm90IHF1YW50aXplZCwgb3RoZXIgZnJhbWVzIGNhbiBjb250YWluIGNvbG9ycywgdGhhdCBhcmUgbm90IGluIGFuIGluaXRpYWwgZnJhbWVcblx0XHRcdHZhciBpbWczMiA9IG5ldyBVaW50MzJBcnJheShidWZzW2pdKSwgaWxlbiA9IGltZzMyLmxlbmd0aDtcblx0XHRcdGZvcih2YXIgaT0wOyBpPGlsZW47IGkrKykge1xuXHRcdFx0XHR2YXIgYyA9IGltZzMyW2ldO1xuXHRcdFx0XHRpZigoaTx3IHx8IChjIT1pbWczMltpLTFdICYmIGMhPWltZzMyW2ktd10pKSAmJiBjbWFwW2NdPT1udWxsKSB7ICBjbWFwW2NdPXBsdGUubGVuZ3RoOyAgcGx0ZS5wdXNoKGMpOyAgaWYocGx0ZS5sZW5ndGg+PTMwMCkgYnJlYWs7ICB9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHR2YXIgYnJ1dGUgPSBnb3RBbHBoYSA/IGZvckdJRiA6IGZhbHNlO1x0XHQvLyBicnV0ZSA6IGZyYW1lcyBjYW4gb25seSBiZSBjb3BpZWQsIG5vdCBcImJsZW5kZWRcIlxuXHR2YXIgY2M9cGx0ZS5sZW5ndGg7ICAvL2NvbnNvbGUubG9nKGNjKTtcblx0aWYoY2M8PTI1NiAmJiBmb3JiaWRQbHRlPT1mYWxzZSkge1xuXHRcdGlmKGNjPD0gMikgZGVwdGg9MTsgIGVsc2UgaWYoY2M8PSA0KSBkZXB0aD0yOyAgZWxzZSBpZihjYzw9MTYpIGRlcHRoPTQ7ICBlbHNlIGRlcHRoPTg7XG5cdFx0aWYoZm9yR0lGKSBkZXB0aD04O1xuXHRcdGdvdEFscGhhID0gdHJ1ZTtcblx0fVxuXHRcblx0XG5cdHZhciBmcm1zID0gW107XG5cdGZvcih2YXIgaj0wOyBqPGJ1ZnMubGVuZ3RoOyBqKyspXG5cdHtcblx0XHR2YXIgY2ltZyA9IG5ldyBVaW50OEFycmF5KGJ1ZnNbal0pLCBjaW1nMzIgPSBuZXcgVWludDMyQXJyYXkoY2ltZy5idWZmZXIpO1xuXHRcdFxuXHRcdHZhciBueD0wLCBueT0wLCBudz13LCBuaD1oLCBibGVuZD0wO1xuXHRcdGlmKGohPTAgJiYgIWJydXRlKSB7XG5cdFx0XHR2YXIgdGxpbSA9IChmb3JHSUYgfHwgaj09MSB8fCBmcm1zW2ZybXMubGVuZ3RoLTJdLmRpc3Bvc2U9PTIpPzE6MiwgdHN0cCA9IDAsIHRhcmVhID0gMWU5O1xuXHRcdFx0Zm9yKHZhciBpdD0wOyBpdDx0bGltOyBpdCsrKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgcGltZyA9IG5ldyBVaW50OEFycmF5KGJ1ZnNbai0xLWl0XSksIHAzMiA9IG5ldyBVaW50MzJBcnJheShidWZzW2otMS1pdF0pO1xuXHRcdFx0XHR2YXIgbWl4PXcsbWl5PWgsbWF4PS0xLG1heT0tMTtcblx0XHRcdFx0Zm9yKHZhciB5PTA7IHk8aDsgeSsrKSBmb3IodmFyIHg9MDsgeDx3OyB4KyspIHtcblx0XHRcdFx0XHR2YXIgaSA9IHkqdyt4O1xuXHRcdFx0XHRcdGlmKGNpbWczMltpXSE9cDMyW2ldKSB7XG5cdFx0XHRcdFx0XHRpZih4PG1peCkgbWl4PXg7ICBpZih4Pm1heCkgbWF4PXg7XG5cdFx0XHRcdFx0XHRpZih5PG1peSkgbWl5PXk7ICBpZih5Pm1heSkgbWF5PXk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBzYXJlYSA9IChtYXg9PS0xKSA/IDEgOiAobWF4LW1peCsxKSoobWF5LW1peSsxKTtcblx0XHRcdFx0aWYoc2FyZWE8dGFyZWEpIHtcblx0XHRcdFx0XHR0YXJlYSA9IHNhcmVhOyAgdHN0cCA9IGl0OyAgXG5cdFx0XHRcdFx0aWYobWF4PT0tMSkgeyAgbng9bnk9MDsgIG53PW5oPTE7ICB9XG5cdFx0XHRcdFx0ZWxzZSB7ICBueCA9IG1peDsgbnkgPSBtaXk7IG53ID0gbWF4LW1peCsxOyBuaCA9IG1heS1taXkrMTsgIH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHR2YXIgcGltZyA9IG5ldyBVaW50OEFycmF5KGJ1ZnNbai0xLXRzdHBdKTtcblx0XHRcdGlmKHRzdHA9PTEpIGZybXNbZnJtcy5sZW5ndGgtMV0uZGlzcG9zZSA9IDI7XG5cdFx0XHRcblx0XHRcdHZhciBuaW1nID0gbmV3IFVpbnQ4QXJyYXkobncqbmgqNCksIG5pbWczMiA9IG5ldyBVaW50MzJBcnJheShuaW1nLmJ1ZmZlcik7XG5cdFx0XHRVUE5HLiAgIF9jb3B5VGlsZShwaW1nLHcsaCwgbmltZyxudyxuaCwgLW54LC1ueSwgMCk7XG5cdFx0XHRpZihVUE5HLl9jb3B5VGlsZShjaW1nLHcsaCwgbmltZyxudyxuaCwgLW54LC1ueSwgMykpIHtcblx0XHRcdFx0VVBORy5fY29weVRpbGUoY2ltZyx3LGgsIG5pbWcsbncsbmgsIC1ueCwtbnksIDIpOyAgYmxlbmQgPSAxO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFVQTkcuX2NvcHlUaWxlKGNpbWcsdyxoLCBuaW1nLG53LG5oLCAtbngsLW55LCAwKTsgIGJsZW5kID0gMDtcblx0XHRcdH1cblx0XHRcdGNpbWcgPSBuaW1nOyAgY2ltZzMyID0gbmV3IFVpbnQzMkFycmF5KGNpbWcuYnVmZmVyKTtcblx0XHR9XG5cdFx0dmFyIGJwbCA9IDQqbnc7XG5cdFx0aWYoY2M8PTI1NiAmJiBmb3JiaWRQbHRlPT1mYWxzZSkge1xuXHRcdFx0YnBsID0gTWF0aC5jZWlsKGRlcHRoKm53LzgpO1xuXHRcdFx0dmFyIG5pbWcgPSBuZXcgVWludDhBcnJheShicGwqbmgpO1xuXHRcdFx0Zm9yKHZhciB5PTA7IHk8bmg7IHkrKykgeyAgdmFyIGk9eSpicGwsIGlpPXkqbnc7XG5cdFx0XHRcdGlmICAgICAoZGVwdGg9PTgpIGZvcih2YXIgeD0wOyB4PG53OyB4KyspIG5pbWdbaSsoeCkgICBdICAgPSAgKGNtYXBbY2ltZzMyW2lpK3hdXSAgICAgICAgICAgICApO1xuXHRcdFx0XHRlbHNlIGlmKGRlcHRoPT00KSBmb3IodmFyIHg9MDsgeDxudzsgeCsrKSBuaW1nW2krKHg+PjEpXSAgfD0gIChjbWFwW2NpbWczMltpaSt4XV08PCg0LSh4JjEpKjQpKTtcblx0XHRcdFx0ZWxzZSBpZihkZXB0aD09MikgZm9yKHZhciB4PTA7IHg8bnc7IHgrKykgbmltZ1tpKyh4Pj4yKV0gIHw9ICAoY21hcFtjaW1nMzJbaWkreF1dPDwoNi0oeCYzKSoyKSk7XG5cdFx0XHRcdGVsc2UgaWYoZGVwdGg9PTEpIGZvcih2YXIgeD0wOyB4PG53OyB4KyspIG5pbWdbaSsoeD4+MyldICB8PSAgKGNtYXBbY2ltZzMyW2lpK3hdXTw8KDctKHgmNykqMSkpO1xuXHRcdFx0fVxuXHRcdFx0Y2ltZz1uaW1nOyAgY3R5cGU9MzsgIGJwcD0xO1xuXHRcdH1cblx0XHRlbHNlIGlmKGdvdEFscGhhPT1mYWxzZSAmJiBidWZzLmxlbmd0aD09MSkge1x0Ly8gc29tZSBuZXh0IFwicmVkdWNlZFwiIGZyYW1lcyBtYXkgY29udGFpbiBhbHBoYSBmb3IgYmxlbmRpbmdcblx0XHRcdHZhciBuaW1nID0gbmV3IFVpbnQ4QXJyYXkobncqbmgqMyksIGFyZWE9bncqbmg7XG5cdFx0XHRmb3IodmFyIGk9MDsgaTxhcmVhOyBpKyspIHsgdmFyIHRpPWkqMywgcWk9aSo0OyAgbmltZ1t0aV09Y2ltZ1txaV07ICBuaW1nW3RpKzFdPWNpbWdbcWkrMV07ICBuaW1nW3RpKzJdPWNpbWdbcWkrMl07ICB9XG5cdFx0XHRjaW1nPW5pbWc7ICBjdHlwZT0yOyAgYnBwPTM7ICBicGw9Mypudztcblx0XHR9XG5cdFx0ZnJtcy5wdXNoKHtyZWN0Ont4Om54LHk6bnksd2lkdGg6bncsaGVpZ2h0Om5ofSwgaW1nOmNpbWcsIGJwbDpicGwsIGJwcDpicHAsIGJsZW5kOmJsZW5kLCBkaXNwb3NlOmJydXRlPzE6MH0pO1xuXHR9XG5cdHJldHVybiB7Y3R5cGU6Y3R5cGUsIGRlcHRoOmRlcHRoLCBwbHRlOnBsdGUsIGdvdEFscGhhOmdvdEFscGhhLCBmcmFtZXM6ZnJtcyAgfTtcbn1cblxuVVBORy5lbmNvZGUuX2ZpbHRlclplcm8gPSBmdW5jdGlvbihpbWcsaCxicHAsYnBsLGRhdGEpXG57XG5cdHZhciBmbHMgPSBbXTtcblx0Zm9yKHZhciB0PTA7IHQ8NTsgdCsrKSB7ICBpZihoKmJwbD41MDAwMDAgJiYgKHQ9PTIgfHwgdD09MyB8fCB0PT00KSkgY29udGludWU7XG5cdFx0Zm9yKHZhciB5PTA7IHk8aDsgeSsrKSBVUE5HLmVuY29kZS5fZmlsdGVyTGluZShkYXRhLCBpbWcsIHksIGJwbCwgYnBwLCB0KTtcblx0XHRmbHMucHVzaChwYWtvW1wiZGVmbGF0ZVwiXShkYXRhKSk7ICBpZihicHA9PTEpIGJyZWFrO1xuXHR9XG5cdHZhciB0aSwgdHNpemU9MWU5O1xuXHRmb3IodmFyIGk9MDsgaTxmbHMubGVuZ3RoOyBpKyspIGlmKGZsc1tpXS5sZW5ndGg8dHNpemUpIHsgIHRpPWk7ICB0c2l6ZT1mbHNbaV0ubGVuZ3RoOyAgfVxuXHRyZXR1cm4gZmxzW3RpXTtcbn1cblVQTkcuZW5jb2RlLl9maWx0ZXJMaW5lID0gZnVuY3Rpb24oZGF0YSwgaW1nLCB5LCBicGwsIGJwcCwgdHlwZSlcbntcblx0dmFyIGkgPSB5KmJwbCwgZGkgPSBpK3ksIHBhZXRoID0gVVBORy5kZWNvZGUuX3BhZXRoXG5cdGRhdGFbZGldPXR5cGU7ICBkaSsrO1xuXG5cdGlmKHR5cGU9PTApIGZvcih2YXIgeD0wOyB4PGJwbDsgeCsrKSBkYXRhW2RpK3hdID0gaW1nW2kreF07XG5cdGVsc2UgaWYodHlwZT09MSkge1xuXHRcdGZvcih2YXIgeD0gIDA7IHg8YnBwOyB4KyspIGRhdGFbZGkreF0gPSAgaW1nW2kreF07XG5cdFx0Zm9yKHZhciB4PWJwcDsgeDxicGw7IHgrKykgZGF0YVtkaSt4XSA9IChpbWdbaSt4XS1pbWdbaSt4LWJwcF0rMjU2KSYyNTU7XG5cdH1cblx0ZWxzZSBpZih5PT0wKSB7XG5cdFx0Zm9yKHZhciB4PSAgMDsgeDxicHA7IHgrKykgZGF0YVtkaSt4XSA9IGltZ1tpK3hdO1xuXG5cdFx0aWYodHlwZT09MikgZm9yKHZhciB4PWJwcDsgeDxicGw7IHgrKykgZGF0YVtkaSt4XSA9IGltZ1tpK3hdO1xuXHRcdGlmKHR5cGU9PTMpIGZvcih2YXIgeD1icHA7IHg8YnBsOyB4KyspIGRhdGFbZGkreF0gPSAoaW1nW2kreF0gLSAoaW1nW2kreC1icHBdPj4xKSArMjU2KSYyNTU7XG5cdFx0aWYodHlwZT09NCkgZm9yKHZhciB4PWJwcDsgeDxicGw7IHgrKykgZGF0YVtkaSt4XSA9IChpbWdbaSt4XSAtIHBhZXRoKGltZ1tpK3gtYnBwXSwgMCwgMCkgKzI1NikmMjU1O1xuXHR9XG5cdGVsc2Uge1xuXHRcdGlmKHR5cGU9PTIpIHsgZm9yKHZhciB4PSAgMDsgeDxicGw7IHgrKykgZGF0YVtkaSt4XSA9IChpbWdbaSt4XSsyNTYgLSBpbWdbaSt4LWJwbF0pJjI1NTsgIH1cblx0XHRpZih0eXBlPT0zKSB7IGZvcih2YXIgeD0gIDA7IHg8YnBwOyB4KyspIGRhdGFbZGkreF0gPSAoaW1nW2kreF0rMjU2IC0gKGltZ1tpK3gtYnBsXT4+MSkpJjI1NTtcblx0XHRcdFx0XHQgIGZvcih2YXIgeD1icHA7IHg8YnBsOyB4KyspIGRhdGFbZGkreF0gPSAoaW1nW2kreF0rMjU2IC0gKChpbWdbaSt4LWJwbF0raW1nW2kreC1icHBdKT4+MSkpJjI1NTsgIH1cblx0XHRpZih0eXBlPT00KSB7IGZvcih2YXIgeD0gIDA7IHg8YnBwOyB4KyspIGRhdGFbZGkreF0gPSAoaW1nW2kreF0rMjU2IC0gcGFldGgoMCwgaW1nW2kreC1icGxdLCAwKSkmMjU1O1xuXHRcdFx0XHRcdCAgZm9yKHZhciB4PWJwcDsgeDxicGw7IHgrKykgZGF0YVtkaSt4XSA9IChpbWdbaSt4XSsyNTYgLSBwYWV0aChpbWdbaSt4LWJwcF0sIGltZ1tpK3gtYnBsXSwgaW1nW2kreC1icHAtYnBsXSkpJjI1NTsgIH1cblx0fVxufVxuXG5VUE5HLmNyYyA9IHtcblx0dGFibGUgOiAoIGZ1bmN0aW9uKCkge1xuXHQgICB2YXIgdGFiID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XG5cdCAgIGZvciAodmFyIG49MDsgbjwyNTY7IG4rKykge1xuXHRcdFx0dmFyIGMgPSBuO1xuXHRcdFx0Zm9yICh2YXIgaz0wOyBrPDg7IGsrKykge1xuXHRcdFx0XHRpZiAoYyAmIDEpICBjID0gMHhlZGI4ODMyMCBeIChjID4+PiAxKTtcblx0XHRcdFx0ZWxzZSAgICAgICAgYyA9IGMgPj4+IDE7XG5cdFx0XHR9XG5cdFx0XHR0YWJbbl0gPSBjOyAgfVxuXHRcdHJldHVybiB0YWI7ICB9KSgpLFxuXHR1cGRhdGUgOiBmdW5jdGlvbihjLCBidWYsIG9mZiwgbGVuKSB7XG5cdFx0Zm9yICh2YXIgaT0wOyBpPGxlbjsgaSsrKSAgYyA9IFVQTkcuY3JjLnRhYmxlWyhjIF4gYnVmW29mZitpXSkgJiAweGZmXSBeIChjID4+PiA4KTtcblx0XHRyZXR1cm4gYztcblx0fSxcblx0Y3JjIDogZnVuY3Rpb24oYixvLGwpICB7ICByZXR1cm4gVVBORy5jcmMudXBkYXRlKDB4ZmZmZmZmZmYsYixvLGwpIF4gMHhmZmZmZmZmZjsgIH1cbn1cblxuXG5VUE5HLnF1YW50aXplID0gZnVuY3Rpb24oYnVmcywgcHMsIHJvdW5kQWxwaGEpXG57XHRcblx0dmFyIGltZ3MgPSBbXSwgdG90bCA9IDA7XG5cdGZvcih2YXIgaT0wOyBpPGJ1ZnMubGVuZ3RoOyBpKyspIHsgIGltZ3MucHVzaChVUE5HLmVuY29kZS5hbHBoYU11bChuZXcgVWludDhBcnJheShidWZzW2ldKSwgcm91bmRBbHBoYSkpOyAgdG90bCs9YnVmc1tpXS5ieXRlTGVuZ3RoOyAgfVxuXHRcblx0dmFyIG5pbWcgPSBuZXcgVWludDhBcnJheSh0b3RsKSwgbmltZzMyID0gbmV3IFVpbnQzMkFycmF5KG5pbWcuYnVmZmVyKSwgbm9mZj0wO1xuXHRmb3IodmFyIGk9MDsgaTxpbWdzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGltZyA9IGltZ3NbaV0sIGlsID0gaW1nLmxlbmd0aDtcblx0XHRmb3IodmFyIGo9MDsgajxpbDsgaisrKSBuaW1nW25vZmYral0gPSBpbWdbal07XG5cdFx0bm9mZiArPSBpbDtcblx0fVxuXHRcblx0dmFyIHJvb3QgPSB7aTA6MCwgaTE6bmltZy5sZW5ndGgsIGJzdDpudWxsLCBlc3Q6bnVsbCwgdGRzdDowLCBsZWZ0Om51bGwsIHJpZ2h0Om51bGwgfTsgIC8vIGJhc2ljIHN0YXRpc3RpYywgZXh0cmEgc3RhdGlzdGljXG5cdHJvb3QuYnN0ID0gVVBORy5xdWFudGl6ZS5zdGF0cyggIG5pbWcscm9vdC5pMCwgcm9vdC5pMSAgKTsgIHJvb3QuZXN0ID0gVVBORy5xdWFudGl6ZS5lc3RhdHMoIHJvb3QuYnN0ICk7XG5cdHZhciBsZWFmcyA9IFtyb290XTtcblx0XG5cdHdoaWxlKGxlYWZzLmxlbmd0aDxwcylcblx0e1xuXHRcdHZhciBtYXhMID0gMCwgbWk9MDtcblx0XHRmb3IodmFyIGk9MDsgaTxsZWFmcy5sZW5ndGg7IGkrKykgaWYobGVhZnNbaV0uZXN0LkwgPiBtYXhMKSB7ICBtYXhMPWxlYWZzW2ldLmVzdC5MOyAgbWk9aTsgIH1cblx0XHRpZihtYXhMPDFlLTMpIGJyZWFrO1xuXHRcdHZhciBub2RlID0gbGVhZnNbbWldO1xuXHRcdFxuXHRcdHZhciBzMCA9IFVQTkcucXVhbnRpemUuc3BsaXRQaXhlbHMobmltZyxuaW1nMzIsIG5vZGUuaTAsIG5vZGUuaTEsIG5vZGUuZXN0LmUsIG5vZGUuZXN0LmVNcTI1NSk7XG5cdFx0XG5cdFx0dmFyIGxuID0ge2kwOm5vZGUuaTAsIGkxOnMwLCBic3Q6bnVsbCwgZXN0Om51bGwsIHRkc3Q6MCwgbGVmdDpudWxsLCByaWdodDpudWxsIH07ICBsbi5ic3QgPSBVUE5HLnF1YW50aXplLnN0YXRzKCBuaW1nLCBsbi5pMCwgbG4uaTEgKTsgIFxuXHRcdGxuLmVzdCA9IFVQTkcucXVhbnRpemUuZXN0YXRzKCBsbi5ic3QgKTtcblx0XHR2YXIgcm4gPSB7aTA6czAsIGkxOm5vZGUuaTEsIGJzdDpudWxsLCBlc3Q6bnVsbCwgdGRzdDowLCBsZWZ0Om51bGwsIHJpZ2h0Om51bGwgfTsgIHJuLmJzdCA9IHtSOltdLCBtOltdLCBOOm5vZGUuYnN0Lk4tbG4uYnN0Lk59O1xuXHRcdGZvcih2YXIgaT0wOyBpPDE2OyBpKyspIHJuLmJzdC5SW2ldID0gbm9kZS5ic3QuUltpXS1sbi5ic3QuUltpXTtcblx0XHRmb3IodmFyIGk9MDsgaTwgNDsgaSsrKSBybi5ic3QubVtpXSA9IG5vZGUuYnN0Lm1baV0tbG4uYnN0Lm1baV07XG5cdFx0cm4uZXN0ID0gVVBORy5xdWFudGl6ZS5lc3RhdHMoIHJuLmJzdCApO1xuXHRcdFxuXHRcdG5vZGUubGVmdCA9IGxuOyAgbm9kZS5yaWdodCA9IHJuO1xuXHRcdGxlYWZzW21pXT1sbjsgIGxlYWZzLnB1c2gocm4pO1xuXHR9XG5cdGxlYWZzLnNvcnQoZnVuY3Rpb24oYSxiKSB7ICByZXR1cm4gYi5ic3QuTi1hLmJzdC5OOyAgfSk7XG5cdFxuXHRmb3IodmFyIGlpPTA7IGlpPGltZ3MubGVuZ3RoOyBpaSsrKSB7XG5cdFx0dmFyIHBsYW5lRHN0ID0gVVBORy5xdWFudGl6ZS5wbGFuZURzdDtcblx0XHR2YXIgc2IgPSBuZXcgVWludDhBcnJheShpbWdzW2lpXS5idWZmZXIpLCB0YiA9IG5ldyBVaW50MzJBcnJheShpbWdzW2lpXS5idWZmZXIpLCBsZW4gPSBzYi5sZW5ndGg7XG5cdFx0XG5cdFx0dmFyIHN0YWNrID0gW10sIHNpPTA7XG5cdFx0Zm9yKHZhciBpPTA7IGk8bGVuOyBpKz00KSB7XG5cdFx0XHR2YXIgcj1zYltpXSooMS8yNTUpLCBnPXNiW2krMV0qKDEvMjU1KSwgYj1zYltpKzJdKigxLzI1NSksIGE9c2JbaSszXSooMS8yNTUpO1xuXHRcdFx0XG5cdFx0XHQvLyAgZXhhY3QsIGJ1dCB0b28gc2xvdyA6KFxuXHRcdFx0Ly92YXIgbmQgPSBVUE5HLnF1YW50aXplLmdldE5lYXJlc3Qocm9vdCwgciwgZywgYiwgYSk7XG5cdFx0XHR2YXIgbmQgPSByb290O1xuXHRcdFx0d2hpbGUobmQubGVmdCkgbmQgPSAocGxhbmVEc3QobmQuZXN0LHIsZyxiLGEpPD0wKSA/IG5kLmxlZnQgOiBuZC5yaWdodDtcblx0XHRcdFxuXHRcdFx0dGJbaT4+Ml0gPSBuZC5lc3QucmdiYTtcblx0XHR9XG5cdFx0aW1nc1tpaV09dGIuYnVmZmVyO1xuXHR9XG5cdHJldHVybiB7ICBidWZzOmltZ3MsIHBsdGU6bGVhZnMgIH07XG59XG5VUE5HLnF1YW50aXplLmdldE5lYXJlc3QgPSBmdW5jdGlvbihuZCwgcixnLGIsYSlcbntcblx0aWYobmQubGVmdD09bnVsbCkgeyAgbmQudGRzdCA9IFVQTkcucXVhbnRpemUuZGlzdChuZC5lc3QucSxyLGcsYixhKTsgIHJldHVybiBuZDsgIH1cblx0dmFyIHBsYW5lRHN0ID0gVVBORy5xdWFudGl6ZS5wbGFuZURzdChuZC5lc3QscixnLGIsYSk7XG5cdFxuXHR2YXIgbm9kZTAgPSBuZC5sZWZ0LCBub2RlMSA9IG5kLnJpZ2h0O1xuXHRpZihwbGFuZURzdD4wKSB7ICBub2RlMD1uZC5yaWdodDsgIG5vZGUxPW5kLmxlZnQ7ICB9XG5cdFxuXHR2YXIgbG4gPSBVUE5HLnF1YW50aXplLmdldE5lYXJlc3Qobm9kZTAsIHIsZyxiLGEpO1xuXHRpZihsbi50ZHN0PD1wbGFuZURzdCpwbGFuZURzdCkgcmV0dXJuIGxuO1xuXHR2YXIgcm4gPSBVUE5HLnF1YW50aXplLmdldE5lYXJlc3Qobm9kZTEsIHIsZyxiLGEpO1xuXHRyZXR1cm4gcm4udGRzdDxsbi50ZHN0ID8gcm4gOiBsbjtcbn1cblVQTkcucXVhbnRpemUucGxhbmVEc3QgPSBmdW5jdGlvbihlc3QsIHIsZyxiLGEpIHsgIHZhciBlID0gZXN0LmU7ICByZXR1cm4gZVswXSpyICsgZVsxXSpnICsgZVsyXSpiICsgZVszXSphIC0gZXN0LmVNcTsgIH1cblVQTkcucXVhbnRpemUuZGlzdCAgICAgPSBmdW5jdGlvbihxLCAgIHIsZyxiLGEpIHsgIHZhciBkMD1yLXFbMF0sIGQxPWctcVsxXSwgZDI9Yi1xWzJdLCBkMz1hLXFbM107ICByZXR1cm4gZDAqZDArZDEqZDErZDIqZDIrZDMqZDM7ICB9XG5cblVQTkcucXVhbnRpemUuc3BsaXRQaXhlbHMgPSBmdW5jdGlvbihuaW1nLCBuaW1nMzIsIGkwLCBpMSwgZSwgZU1xKVxue1xuXHR2YXIgdmVjRG90ID0gVVBORy5xdWFudGl6ZS52ZWNEb3Q7XG5cdGkxLT00O1xuXHR2YXIgc2hmcyA9IDA7XG5cdHdoaWxlKGkwPGkxKVxuXHR7XG5cdFx0d2hpbGUodmVjRG90KG5pbWcsIGkwLCBlKTw9ZU1xKSBpMCs9NDtcblx0XHR3aGlsZSh2ZWNEb3QobmltZywgaTEsIGUpPiBlTXEpIGkxLT00O1xuXHRcdGlmKGkwPj1pMSkgYnJlYWs7XG5cdFx0XG5cdFx0dmFyIHQgPSBuaW1nMzJbaTA+PjJdOyAgbmltZzMyW2kwPj4yXSA9IG5pbWczMltpMT4+Ml07ICBuaW1nMzJbaTE+PjJdPXQ7XG5cdFx0XG5cdFx0aTArPTQ7ICBpMS09NDtcblx0fVxuXHR3aGlsZSh2ZWNEb3QobmltZywgaTAsIGUpPmVNcSkgaTAtPTQ7XG5cdHJldHVybiBpMCs0O1xufVxuVVBORy5xdWFudGl6ZS52ZWNEb3QgPSBmdW5jdGlvbihuaW1nLCBpLCBlKVxue1xuXHRyZXR1cm4gbmltZ1tpXSplWzBdICsgbmltZ1tpKzFdKmVbMV0gKyBuaW1nW2krMl0qZVsyXSArIG5pbWdbaSszXSplWzNdO1xufVxuVVBORy5xdWFudGl6ZS5zdGF0cyA9IGZ1bmN0aW9uKG5pbWcsIGkwLCBpMSl7XG5cdHZhciBSID0gWzAsMCwwLDAsICAwLDAsMCwwLCAgMCwwLDAsMCwgIDAsMCwwLDBdO1xuXHR2YXIgbSA9IFswLDAsMCwwXTtcblx0dmFyIE4gPSAoaTEtaTApPj4yO1xuXHRmb3IodmFyIGk9aTA7IGk8aTE7IGkrPTQpXG5cdHtcblx0XHR2YXIgciA9IG5pbWdbaV0qKDEvMjU1KSwgZyA9IG5pbWdbaSsxXSooMS8yNTUpLCBiID0gbmltZ1tpKzJdKigxLzI1NSksIGEgPSBuaW1nW2krM10qKDEvMjU1KTtcblx0XHQvL3ZhciByID0gbmltZ1tpXSwgZyA9IG5pbWdbaSsxXSwgYiA9IG5pbWdbaSsyXSwgYSA9IG5pbWdbaSszXTtcblx0XHRtWzBdKz1yOyAgbVsxXSs9ZzsgIG1bMl0rPWI7ICBtWzNdKz1hO1xuXHRcdFxuXHRcdFJbIDBdICs9IHIqcjsgIFJbIDFdICs9IHIqZzsgIFJbIDJdICs9IHIqYjsgIFJbIDNdICs9IHIqYTsgIFxuXHRcdCAgICAgICAgICAgICAgIFJbIDVdICs9IGcqZzsgIFJbIDZdICs9IGcqYjsgIFJbIDddICs9IGcqYTsgXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUlsxMF0gKz0gYipiOyAgUlsxMV0gKz0gYiphOyAgXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUlsxNV0gKz0gYSphOyAgXG5cdH1cblx0Uls0XT1SWzFdOyAgUls4XT1SWzJdOyAgUlsxMl09UlszXTsgIFJbOV09Uls2XTsgIFJbMTNdPVJbN107ICBSWzE0XT1SWzExXTtcblx0XG5cdHJldHVybiB7UjpSLCBtOm0sIE46Tn07XG59XG5VUE5HLnF1YW50aXplLmVzdGF0cyA9IGZ1bmN0aW9uKHN0YXRzKXtcblx0dmFyIFIgPSBzdGF0cy5SLCBtID0gc3RhdHMubSwgTiA9IHN0YXRzLk47XG5cdFxuXHR2YXIgbTAgPSBtWzBdLCBtMSA9IG1bMV0sIG0yID0gbVsyXSwgbTMgPSBtWzNdLCBpTiA9IChOPT0wID8gMCA6IDEvTik7XG5cdHZhciBSaiA9IFtcblx0XHRSWyAwXSAtIG0wKm0wKmlOLCAgUlsgMV0gLSBtMCptMSppTiwgIFJbIDJdIC0gbTAqbTIqaU4sICBSWyAzXSAtIG0wKm0zKmlOLCAgXG5cdFx0UlsgNF0gLSBtMSptMCppTiwgIFJbIDVdIC0gbTEqbTEqaU4sICBSWyA2XSAtIG0xKm0yKmlOLCAgUlsgN10gLSBtMSptMyppTixcblx0XHRSWyA4XSAtIG0yKm0wKmlOLCAgUlsgOV0gLSBtMiptMSppTiwgIFJbMTBdIC0gbTIqbTIqaU4sICBSWzExXSAtIG0yKm0zKmlOLCAgXG5cdFx0UlsxMl0gLSBtMyptMCppTiwgIFJbMTNdIC0gbTMqbTEqaU4sICBSWzE0XSAtIG0zKm0yKmlOLCAgUlsxNV0gLSBtMyptMyppTiBcblx0XTtcblx0XG5cdHZhciBBID0gUmosIE0gPSBVUE5HLk00O1xuXHR2YXIgYiA9IFswLjUsMC41LDAuNSwwLjVdLCBtaSA9IDAsIHRtaSA9IDA7XG5cdFxuXHRpZihOIT0wKVxuXHRmb3IodmFyIGk9MDsgaTwxMDsgaSsrKSB7XG5cdFx0YiA9IE0ubXVsdFZlYyhBLCBiKTsgIHRtaSA9IE1hdGguc3FydChNLmRvdChiLGIpKTsgIGIgPSBNLnNtbCgxL3RtaSwgIGIpO1xuXHRcdGlmKE1hdGguYWJzKHRtaS1taSk8MWUtOSkgYnJlYWs7ICBtaSA9IHRtaTtcblx0fVx0XG5cdC8vYiA9IFswLDAsMSwwXTsgIG1pPU47XG5cdHZhciBxID0gW20wKmlOLCBtMSppTiwgbTIqaU4sIG0zKmlOXTtcblx0dmFyIGVNcTI1NSA9IE0uZG90KE0uc21sKDI1NSxxKSxiKTtcblx0XG5cdHZhciBpYSA9IChxWzNdPDAuMDAxKSA/IDAgOiAxL3FbM107XG5cdFxuXHRyZXR1cm4geyAgQ292OlJqLCBxOnEsIGU6YiwgTDptaSwgIGVNcTI1NTplTXEyNTUsIGVNcSA6IE0uZG90KGIscSksXG5cdFx0XHRcdHJnYmE6ICgoKE1hdGgucm91bmQoMjU1KnFbM10pPDwyNCkgfCAoTWF0aC5yb3VuZCgyNTUqcVsyXSppYSk8PDE2KSB8ICAoTWF0aC5yb3VuZCgyNTUqcVsxXSppYSk8PDgpIHwgKE1hdGgucm91bmQoMjU1KnFbMF0qaWEpPDwwKSk+Pj4wKSAgfTtcbn1cblVQTkcuTTQgPSB7XG5cdG11bHRWZWMgOiBmdW5jdGlvbihtLHYpIHtcblx0XHRcdHJldHVybiBbXG5cdFx0XHRcdG1bIDBdKnZbMF0gKyBtWyAxXSp2WzFdICsgbVsgMl0qdlsyXSArIG1bIDNdKnZbM10sXG5cdFx0XHRcdG1bIDRdKnZbMF0gKyBtWyA1XSp2WzFdICsgbVsgNl0qdlsyXSArIG1bIDddKnZbM10sXG5cdFx0XHRcdG1bIDhdKnZbMF0gKyBtWyA5XSp2WzFdICsgbVsxMF0qdlsyXSArIG1bMTFdKnZbM10sXG5cdFx0XHRcdG1bMTJdKnZbMF0gKyBtWzEzXSp2WzFdICsgbVsxNF0qdlsyXSArIG1bMTVdKnZbM11cblx0XHRcdF07XG5cdH0sXG5cdGRvdCA6IGZ1bmN0aW9uKHgseSkgeyAgcmV0dXJuICB4WzBdKnlbMF0reFsxXSp5WzFdK3hbMl0qeVsyXSt4WzNdKnlbM107ICB9LFxuXHRzbWwgOiBmdW5jdGlvbihhLHkpIHsgIHJldHVybiBbYSp5WzBdLGEqeVsxXSxhKnlbMl0sYSp5WzNdXTsgIH1cbn1cblxuVVBORy5lbmNvZGUuYWxwaGFNdWwgPSBmdW5jdGlvbihpbWcsIHJvdW5kQSkge1xuXHR2YXIgbmltZyA9IG5ldyBVaW50OEFycmF5KGltZy5sZW5ndGgpLCBhcmVhID0gaW1nLmxlbmd0aD4+MjsgXG5cdGZvcih2YXIgaT0wOyBpPGFyZWE7IGkrKykge1xuXHRcdHZhciBxaT1pPDwyLCBpYT1pbWdbcWkrM107ICAgXG5cdFx0aWYocm91bmRBKSBpYSA9ICgoaWE8MTI4KSk/MDoyNTU7XG5cdFx0dmFyIGEgPSBpYSooMS8yNTUpO1xuXHRcdG5pbWdbcWkrMF0gPSBpbWdbcWkrMF0qYTsgIG5pbWdbcWkrMV0gPSBpbWdbcWkrMV0qYTsgIG5pbWdbcWkrMl0gPSBpbWdbcWkrMl0qYTsgIG5pbWdbcWkrM10gPSBpYTtcblx0fVxuXHRyZXR1cm4gbmltZztcbn1cblxuXHRcblx0XG5cdFxuXHRcblx0XG5cblxufSkoVVBORywgcGFrbyk7XG59KSgpO1xuXG4iLCAiZXhwb3J0IGNvbnN0IEVNUFRZX09CSiA9IHt9O1xuZXhwb3J0IGNvbnN0IEVNUFRZX0FSUiA9IFtdO1xuZXhwb3J0IGNvbnN0IElTX05PTl9ESU1FTlNJT05BTCA9IC9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8Z3JpZHxvd3N8bW5jfG50d3xpbmVbY2hdfHpvb3xeb3JkfGl0ZXJhL2k7XG4iLCAiaW1wb3J0IHsgX2NhdGNoRXJyb3IgfSBmcm9tICcuL2RpZmYvY2F0Y2gtZXJyb3InO1xuXG4vKipcbiAqIFRoZSBgb3B0aW9uYCBvYmplY3QgY2FuIHBvdGVudGlhbGx5IGNvbnRhaW4gY2FsbGJhY2sgZnVuY3Rpb25zXG4gKiB0aGF0IGFyZSBjYWxsZWQgZHVyaW5nIHZhcmlvdXMgc3RhZ2VzIG9mIG91ciByZW5kZXJlci4gVGhpcyBpcyB0aGVcbiAqIGZvdW5kYXRpb24gb24gd2hpY2ggYWxsIG91ciBhZGRvbnMgbGlrZSBgcHJlYWN0L2RlYnVnYCwgYHByZWFjdC9jb21wYXRgLFxuICogYW5kIGBwcmVhY3QvaG9va3NgIGFyZSBiYXNlZCBvbi4gU2VlIHRoZSBgT3B0aW9uc2AgdHlwZSBpbiBgaW50ZXJuYWwuZC50c2BcbiAqIGZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgb3B0aW9uIGhvb2tzIChtb3N0IGVkaXRvcnMvSURFcyBhbGxvdyB5b3UgdG9cbiAqIGN0cmwrY2xpY2sgb3IgY21kK2NsaWNrIG9uIG1hYyB0aGUgdHlwZSBkZWZpbml0aW9uIGJlbG93KS5cbiAqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5PcHRpb25zfVxuICovXG5jb25zdCBvcHRpb25zID0ge1xuXHRfY2F0Y2hFcnJvclxufTtcblxuZXhwb3J0IGRlZmF1bHQgb3B0aW9ucztcbiIsICJpbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiB2aXJ0dWFsIG5vZGUgKHVzZWQgZm9yIEpTWClcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGVbXCJ0eXBlXCJdfSB0eXBlIFRoZSBub2RlIG5hbWUgb3IgQ29tcG9uZW50XG4gKiBjb25zdHJ1Y3RvciBmb3IgdGhpcyB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0IHwgbnVsbCB8IHVuZGVmaW5lZH0gW3Byb3BzXSBUaGUgcHJvcGVydGllcyBvZiB0aGUgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLicpLkNvbXBvbmVudENoaWxkcmVuPn0gW2NoaWxkcmVuXSBUaGUgY2hpbGRyZW4gb2YgdGhlIHZpcnR1YWwgbm9kZVxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlLCBwcm9wcywgY2hpbGRyZW4pIHtcblx0bGV0IG5vcm1hbGl6ZWRQcm9wcyA9IHt9LFxuXHRcdGk7XG5cdGZvciAoaSBpbiBwcm9wcykge1xuXHRcdGlmIChpICE9PSAna2V5JyAmJiBpICE9PSAncmVmJykgbm9ybWFsaXplZFByb3BzW2ldID0gcHJvcHNbaV07XG5cdH1cblxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDMpIHtcblx0XHRjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3ByZWFjdGpzL3ByZWFjdC9pc3N1ZXMvMTkxNlxuXHRcdGZvciAoaSA9IDM7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNoaWxkcmVuLnB1c2goYXJndW1lbnRzW2ldKTtcblx0XHR9XG5cdH1cblx0aWYgKGNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRub3JtYWxpemVkUHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcblx0fVxuXG5cdC8vIElmIGEgQ29tcG9uZW50IFZOb2RlLCBjaGVjayBmb3IgYW5kIGFwcGx5IGRlZmF1bHRQcm9wc1xuXHQvLyBOb3RlOiB0eXBlIG1heSBiZSB1bmRlZmluZWQgaW4gZGV2ZWxvcG1lbnQsIG11c3QgbmV2ZXIgZXJyb3IgaGVyZS5cblx0aWYgKHR5cGVvZiB0eXBlID09ICdmdW5jdGlvbicgJiYgdHlwZS5kZWZhdWx0UHJvcHMgIT0gbnVsbCkge1xuXHRcdGZvciAoaSBpbiB0eXBlLmRlZmF1bHRQcm9wcykge1xuXHRcdFx0aWYgKG5vcm1hbGl6ZWRQcm9wc1tpXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG5vcm1hbGl6ZWRQcm9wc1tpXSA9IHR5cGUuZGVmYXVsdFByb3BzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjcmVhdGVWTm9kZShcblx0XHR0eXBlLFxuXHRcdG5vcm1hbGl6ZWRQcm9wcyxcblx0XHRwcm9wcyAmJiBwcm9wcy5rZXksXG5cdFx0cHJvcHMgJiYgcHJvcHMucmVmLFxuXHRcdG51bGxcblx0KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBWTm9kZSAodXNlZCBpbnRlcm5hbGx5IGJ5IFByZWFjdClcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGVbXCJ0eXBlXCJdfSB0eXBlIFRoZSBub2RlIG5hbWUgb3IgQ29tcG9uZW50XG4gKiBDb25zdHJ1Y3RvciBmb3IgdGhpcyB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0IHwgc3RyaW5nIHwgbnVtYmVyIHwgbnVsbH0gcHJvcHMgVGhlIHByb3BlcnRpZXMgb2YgdGhpcyB2aXJ0dWFsIG5vZGUuXG4gKiBJZiB0aGlzIHZpcnR1YWwgbm9kZSByZXByZXNlbnRzIGEgdGV4dCBub2RlLCB0aGlzIGlzIHRoZSB0ZXh0IG9mIHRoZSBub2RlIChzdHJpbmcgb3IgbnVtYmVyKS5cbiAqIEBwYXJhbSB7c3RyaW5nIHwgbnVtYmVyIHwgbnVsbH0ga2V5IFRoZSBrZXkgZm9yIHRoaXMgdmlydHVhbCBub2RlLCB1c2VkIHdoZW5cbiAqIGRpZmZpbmcgaXQgYWdhaW5zdCBpdHMgY2hpbGRyZW5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGVbXCJyZWZcIl19IHJlZiBUaGUgcmVmIHByb3BlcnR5IHRoYXQgd2lsbFxuICogcmVjZWl2ZSBhIHJlZmVyZW5jZSB0byBpdHMgY3JlYXRlZCBjaGlsZFxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMsIGtleSwgcmVmLCBvcmlnaW5hbCkge1xuXHQvLyBWOCBzZWVtcyB0byBiZSBiZXR0ZXIgYXQgZGV0ZWN0aW5nIHR5cGUgc2hhcGVzIGlmIHRoZSBvYmplY3QgaXMgYWxsb2NhdGVkIGZyb20gdGhlIHNhbWUgY2FsbCBzaXRlXG5cdC8vIERvIG5vdCBpbmxpbmUgaW50byBjcmVhdGVFbGVtZW50IGFuZCBjb2VyY2VUb1ZOb2RlIVxuXHRjb25zdCB2bm9kZSA9IHtcblx0XHR0eXBlLFxuXHRcdHByb3BzLFxuXHRcdGtleSxcblx0XHRyZWYsXG5cdFx0X2NoaWxkcmVuOiBudWxsLFxuXHRcdF9wYXJlbnQ6IG51bGwsXG5cdFx0X2RlcHRoOiAwLFxuXHRcdF9kb206IG51bGwsXG5cdFx0Ly8gX25leHREb20gbXVzdCBiZSBpbml0aWFsaXplZCB0byB1bmRlZmluZWQgYi9jIGl0IHdpbGwgZXZlbnR1YWxseVxuXHRcdC8vIGJlIHNldCB0byBkb20ubmV4dFNpYmxpbmcgd2hpY2ggY2FuIHJldHVybiBgbnVsbGAgYW5kIGl0IGlzIGltcG9ydGFudFxuXHRcdC8vIHRvIGJlIGFibGUgdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiBhbiB1bmluaXRpYWxpemVkIF9uZXh0RG9tIGFuZFxuXHRcdC8vIGEgX25leHREb20gdGhhdCBoYXMgYmVlbiBzZXQgdG8gYG51bGxgXG5cdFx0X25leHREb206IHVuZGVmaW5lZCxcblx0XHRfY29tcG9uZW50OiBudWxsLFxuXHRcdGNvbnN0cnVjdG9yOiB1bmRlZmluZWQsXG5cdFx0X29yaWdpbmFsOiBvcmlnaW5hbFxuXHR9O1xuXG5cdGlmIChvcmlnaW5hbCA9PSBudWxsKSB2bm9kZS5fb3JpZ2luYWwgPSB2bm9kZTtcblx0aWYgKG9wdGlvbnMudm5vZGUpIG9wdGlvbnMudm5vZGUodm5vZGUpO1xuXG5cdHJldHVybiB2bm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlZigpIHtcblx0cmV0dXJuIHsgY3VycmVudDogbnVsbCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRnJhZ21lbnQocHJvcHMpIHtcblx0cmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgdGhlIGFyZ3VtZW50IGlzIGEgdmFsaWQgUHJlYWN0IFZOb2RlLlxuICogQHBhcmFtIHsqfSB2bm9kZVxuICogQHJldHVybnMge3Zub2RlIGlzIGltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfVxuICovXG5leHBvcnQgY29uc3QgaXNWYWxpZEVsZW1lbnQgPSB2bm9kZSA9PlxuXHR2bm9kZSAhPSBudWxsICYmIHZub2RlLmNvbnN0cnVjdG9yID09PSB1bmRlZmluZWQ7XG4iLCAiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGRpZmYsIGNvbW1pdFJvb3QgfSBmcm9tICcuL2RpZmYvaW5kZXgnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAnLi9jcmVhdGUtZWxlbWVudCc7XG5cbi8qKlxuICogQmFzZSBDb21wb25lbnQgY2xhc3MuIFByb3ZpZGVzIGBzZXRTdGF0ZSgpYCBhbmQgYGZvcmNlVXBkYXRlKClgLCB3aGljaFxuICogdHJpZ2dlciByZW5kZXJpbmdcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBUaGUgaW5pdGlhbCBjb21wb25lbnQgcHJvcHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IFRoZSBpbml0aWFsIGNvbnRleHQgZnJvbSBwYXJlbnQgY29tcG9uZW50cydcbiAqIGdldENoaWxkQ29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KSB7XG5cdHRoaXMucHJvcHMgPSBwcm9wcztcblx0dGhpcy5jb250ZXh0ID0gY29udGV4dDtcbn1cblxuLyoqXG4gKiBVcGRhdGUgY29tcG9uZW50IHN0YXRlIGFuZCBzY2hlZHVsZSBhIHJlLXJlbmRlci5cbiAqIEBwYXJhbSB7b2JqZWN0IHwgKChzOiBvYmplY3QsIHA6IG9iamVjdCkgPT4gb2JqZWN0KX0gdXBkYXRlIEEgaGFzaCBvZiBzdGF0ZVxuICogcHJvcGVydGllcyB0byB1cGRhdGUgd2l0aCBuZXcgdmFsdWVzIG9yIGEgZnVuY3Rpb24gdGhhdCBnaXZlbiB0aGUgY3VycmVudFxuICogc3RhdGUgYW5kIHByb3BzIHJldHVybnMgYSBuZXcgcGFydGlhbCBzdGF0ZVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uY2UgY29tcG9uZW50IHN0YXRlIGlzXG4gKiB1cGRhdGVkXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbih1cGRhdGUsIGNhbGxiYWNrKSB7XG5cdC8vIG9ubHkgY2xvbmUgc3RhdGUgd2hlbiBjb3B5aW5nIHRvIG5leHRTdGF0ZSB0aGUgZmlyc3QgdGltZS5cblx0bGV0IHM7XG5cdGlmICh0aGlzLl9uZXh0U3RhdGUgIT09IHRoaXMuc3RhdGUpIHtcblx0XHRzID0gdGhpcy5fbmV4dFN0YXRlO1xuXHR9IGVsc2Uge1xuXHRcdHMgPSB0aGlzLl9uZXh0U3RhdGUgPSBhc3NpZ24oe30sIHRoaXMuc3RhdGUpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiB1cGRhdGUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZShzLCB0aGlzLnByb3BzKTtcblx0fVxuXG5cdGlmICh1cGRhdGUpIHtcblx0XHRhc3NpZ24ocywgdXBkYXRlKTtcblx0fVxuXG5cdC8vIFNraXAgdXBkYXRlIGlmIHVwZGF0ZXIgZnVuY3Rpb24gcmV0dXJuZWQgbnVsbFxuXHRpZiAodXBkYXRlID09IG51bGwpIHJldHVybjtcblxuXHRpZiAodGhpcy5fdm5vZGUpIHtcblx0XHRpZiAoY2FsbGJhY2spIHRoaXMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRlbnF1ZXVlUmVuZGVyKHRoaXMpO1xuXHR9XG59O1xuXG4vKipcbiAqIEltbWVkaWF0ZWx5IHBlcmZvcm0gYSBzeW5jaHJvbm91cyByZS1yZW5kZXIgb2YgdGhlIGNvbXBvbmVudFxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpc1xuICogcmUtcmVuZGVyZWRcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdGlmICh0aGlzLl92bm9kZSkge1xuXHRcdC8vIFNldCByZW5kZXIgbW9kZSBzbyB0aGF0IHdlIGNhbiBkaWZmZXJlbnRpYXRlIHdoZXJlIHRoZSByZW5kZXIgcmVxdWVzdFxuXHRcdC8vIGlzIGNvbWluZyBmcm9tLiBXZSBuZWVkIHRoaXMgYmVjYXVzZSBmb3JjZVVwZGF0ZSBzaG91bGQgbmV2ZXIgY2FsbFxuXHRcdC8vIHNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHRcdHRoaXMuX2ZvcmNlID0gdHJ1ZTtcblx0XHRpZiAoY2FsbGJhY2spIHRoaXMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRlbnF1ZXVlUmVuZGVyKHRoaXMpO1xuXHR9XG59O1xuXG4vKipcbiAqIEFjY2VwdHMgYHByb3BzYCBhbmQgYHN0YXRlYCwgYW5kIHJldHVybnMgYSBuZXcgVmlydHVhbCBET00gdHJlZSB0byBidWlsZC5cbiAqIFZpcnR1YWwgRE9NIGlzIGdlbmVyYWxseSBjb25zdHJ1Y3RlZCB2aWEgW0pTWF0oaHR0cDovL2phc29uZm9ybWF0LmNvbS93dGYtaXMtanN4KS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBQcm9wcyAoZWc6IEpTWCBhdHRyaWJ1dGVzKSByZWNlaXZlZCBmcm9tIHBhcmVudFxuICogZWxlbWVudC9jb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSBUaGUgY29tcG9uZW50J3MgY3VycmVudCBzdGF0ZVxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgQ29udGV4dCBvYmplY3QsIGFzIHJldHVybmVkIGJ5IHRoZSBuZWFyZXN0XG4gKiBhbmNlc3RvcidzIGBnZXRDaGlsZENvbnRleHQoKWBcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW5kZXgnKS5Db21wb25lbnRDaGlsZHJlbiB8IHZvaWR9XG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyID0gRnJhZ21lbnQ7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbH0gW2NoaWxkSW5kZXhdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREb21TaWJsaW5nKHZub2RlLCBjaGlsZEluZGV4KSB7XG5cdGlmIChjaGlsZEluZGV4ID09IG51bGwpIHtcblx0XHQvLyBVc2UgY2hpbGRJbmRleD09bnVsbCBhcyBhIHNpZ25hbCB0byByZXN1bWUgdGhlIHNlYXJjaCBmcm9tIHRoZSB2bm9kZSdzIHNpYmxpbmdcblx0XHRyZXR1cm4gdm5vZGUuX3BhcmVudFxuXHRcdFx0PyBnZXREb21TaWJsaW5nKHZub2RlLl9wYXJlbnQsIHZub2RlLl9wYXJlbnQuX2NoaWxkcmVuLmluZGV4T2Yodm5vZGUpICsgMSlcblx0XHRcdDogbnVsbDtcblx0fVxuXG5cdGxldCBzaWJsaW5nO1xuXHRmb3IgKDsgY2hpbGRJbmRleCA8IHZub2RlLl9jaGlsZHJlbi5sZW5ndGg7IGNoaWxkSW5kZXgrKykge1xuXHRcdHNpYmxpbmcgPSB2bm9kZS5fY2hpbGRyZW5bY2hpbGRJbmRleF07XG5cblx0XHRpZiAoc2libGluZyAhPSBudWxsICYmIHNpYmxpbmcuX2RvbSAhPSBudWxsKSB7XG5cdFx0XHQvLyBTaW5jZSB1cGRhdGVQYXJlbnREb21Qb2ludGVycyBrZWVwcyBfZG9tIHBvaW50ZXIgY29ycmVjdCxcblx0XHRcdC8vIHdlIGNhbiByZWx5IG9uIF9kb20gdG8gdGVsbCB1cyBpZiB0aGlzIHN1YnRyZWUgY29udGFpbnMgYVxuXHRcdFx0Ly8gcmVuZGVyZWQgRE9NIG5vZGUsIGFuZCB3aGF0IHRoZSBmaXJzdCByZW5kZXJlZCBET00gbm9kZSBpc1xuXHRcdFx0cmV0dXJuIHNpYmxpbmcuX2RvbTtcblx0XHR9XG5cdH1cblxuXHQvLyBJZiB3ZSBnZXQgaGVyZSwgd2UgaGF2ZSBub3QgZm91bmQgYSBET00gbm9kZSBpbiB0aGlzIHZub2RlJ3MgY2hpbGRyZW4uXG5cdC8vIFdlIG11c3QgcmVzdW1lIGZyb20gdGhpcyB2bm9kZSdzIHNpYmxpbmcgKGluIGl0J3MgcGFyZW50IF9jaGlsZHJlbiBhcnJheSlcblx0Ly8gT25seSBjbGltYiB1cCBhbmQgc2VhcmNoIHRoZSBwYXJlbnQgaWYgd2UgYXJlbid0IHNlYXJjaGluZyB0aHJvdWdoIGEgRE9NXG5cdC8vIFZOb2RlIChtZWFuaW5nIHdlIHJlYWNoZWQgdGhlIERPTSBwYXJlbnQgb2YgdGhlIG9yaWdpbmFsIHZub2RlIHRoYXQgYmVnYW5cblx0Ly8gdGhlIHNlYXJjaClcblx0cmV0dXJuIHR5cGVvZiB2bm9kZS50eXBlID09ICdmdW5jdGlvbicgPyBnZXREb21TaWJsaW5nKHZub2RlKSA6IG51bGw7XG59XG5cbi8qKlxuICogVHJpZ2dlciBpbi1wbGFjZSByZS1yZW5kZXJpbmcgb2YgYSBjb21wb25lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gY29tcG9uZW50IFRoZSBjb21wb25lbnQgdG8gcmVyZW5kZXJcbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRsZXQgdm5vZGUgPSBjb21wb25lbnQuX3Zub2RlLFxuXHRcdG9sZERvbSA9IHZub2RlLl9kb20sXG5cdFx0cGFyZW50RG9tID0gY29tcG9uZW50Ll9wYXJlbnREb207XG5cblx0aWYgKHBhcmVudERvbSkge1xuXHRcdGxldCBjb21taXRRdWV1ZSA9IFtdO1xuXHRcdGNvbnN0IG9sZFZOb2RlID0gYXNzaWduKHt9LCB2bm9kZSk7XG5cdFx0b2xkVk5vZGUuX29yaWdpbmFsID0gb2xkVk5vZGU7XG5cblx0XHRsZXQgbmV3RG9tID0gZGlmZihcblx0XHRcdHBhcmVudERvbSxcblx0XHRcdHZub2RlLFxuXHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRjb21wb25lbnQuX2dsb2JhbENvbnRleHQsXG5cdFx0XHRwYXJlbnREb20ub3duZXJTVkdFbGVtZW50ICE9PSB1bmRlZmluZWQsXG5cdFx0XHRudWxsLFxuXHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRvbGREb20gPT0gbnVsbCA/IGdldERvbVNpYmxpbmcodm5vZGUpIDogb2xkRG9tXG5cdFx0KTtcblx0XHRjb21taXRSb290KGNvbW1pdFF1ZXVlLCB2bm9kZSk7XG5cblx0XHRpZiAobmV3RG9tICE9IG9sZERvbSkge1xuXHRcdFx0dXBkYXRlUGFyZW50RG9tUG9pbnRlcnModm5vZGUpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVBhcmVudERvbVBvaW50ZXJzKHZub2RlKSB7XG5cdGlmICgodm5vZGUgPSB2bm9kZS5fcGFyZW50KSAhPSBudWxsICYmIHZub2RlLl9jb21wb25lbnQgIT0gbnVsbCkge1xuXHRcdHZub2RlLl9kb20gPSB2bm9kZS5fY29tcG9uZW50LmJhc2UgPSBudWxsO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuX2NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgY2hpbGQgPSB2bm9kZS5fY2hpbGRyZW5baV07XG5cdFx0XHRpZiAoY2hpbGQgIT0gbnVsbCAmJiBjaGlsZC5fZG9tICE9IG51bGwpIHtcblx0XHRcdFx0dm5vZGUuX2RvbSA9IHZub2RlLl9jb21wb25lbnQuYmFzZSA9IGNoaWxkLl9kb207XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB1cGRhdGVQYXJlbnREb21Qb2ludGVycyh2bm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgcmVuZGVyIHF1ZXVlXG4gKiBAdHlwZSB7QXJyYXk8aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50Pn1cbiAqL1xubGV0IHJlcmVuZGVyUXVldWUgPSBbXTtcblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzY2hlZHVsZSBhIGNhbGxiYWNrXG4gKiBAdHlwZSB7KGNiOiAoKSA9PiB2b2lkKSA9PiB2b2lkfVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLy8gTm90ZSB0aGUgZm9sbG93aW5nIGxpbmUgaXNuJ3QgdHJlZS1zaGFrZW4gYnkgcm9sbHVwIGN1eiBvZiByb2xsdXAvcm9sbHVwIzI1NjZcbmNvbnN0IGRlZmVyID1cblx0dHlwZW9mIFByb21pc2UgPT0gJ2Z1bmN0aW9uJ1xuXHRcdD8gUHJvbWlzZS5wcm90b3R5cGUudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKVxuXHRcdDogc2V0VGltZW91dDtcblxuLypcbiAqIFRoZSB2YWx1ZSBvZiBgQ29tcG9uZW50LmRlYm91bmNlYCBtdXN0IGFzeW5jaHJvbm91c2x5IGludm9rZSB0aGUgcGFzc2VkIGluIGNhbGxiYWNrLiBJdCBpc1xuICogaW1wb3J0YW50IHRoYXQgY29udHJpYnV0b3JzIHRvIFByZWFjdCBjYW4gY29uc2lzdGVudGx5IHJlYXNvbiBhYm91dCB3aGF0IGNhbGxzIHRvIGBzZXRTdGF0ZWAsIGV0Yy5cbiAqIGRvLCBhbmQgd2hlbiB0aGVpciBlZmZlY3RzIHdpbGwgYmUgYXBwbGllZC4gU2VlIHRoZSBsaW5rcyBiZWxvdyBmb3Igc29tZSBmdXJ0aGVyIHJlYWRpbmcgb24gZGVzaWduaW5nXG4gKiBhc3luY2hyb25vdXMgQVBJcy5cbiAqICogW0Rlc2lnbmluZyBBUElzIGZvciBBc3luY2hyb255XShodHRwczovL2Jsb2cuaXpzLm1lLzIwMTMvMDgvZGVzaWduaW5nLWFwaXMtZm9yLWFzeW5jaHJvbnkpXG4gKiAqIFtDYWxsYmFja3Mgc3luY2hyb25vdXMgYW5kIGFzeW5jaHJvbm91c10oaHR0cHM6Ly9ibG9nLm9tZXRlci5jb20vMjAxMS8wNy8yNC9jYWxsYmFja3Mtc3luY2hyb25vdXMtYW5kLWFzeW5jaHJvbm91cy8pXG4gKi9cblxubGV0IHByZXZEZWJvdW5jZTtcblxuLyoqXG4gKiBFbnF1ZXVlIGEgcmVyZW5kZXIgb2YgYSBjb21wb25lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSBjIFRoZSBjb21wb25lbnQgdG8gcmVyZW5kZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVucXVldWVSZW5kZXIoYykge1xuXHRpZiAoXG5cdFx0KCFjLl9kaXJ0eSAmJlxuXHRcdFx0KGMuX2RpcnR5ID0gdHJ1ZSkgJiZcblx0XHRcdHJlcmVuZGVyUXVldWUucHVzaChjKSAmJlxuXHRcdFx0IXByb2Nlc3MuX3JlcmVuZGVyQ291bnQrKykgfHxcblx0XHRwcmV2RGVib3VuY2UgIT09IG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmdcblx0KSB7XG5cdFx0cHJldkRlYm91bmNlID0gb3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZztcblx0XHQocHJldkRlYm91bmNlIHx8IGRlZmVyKShwcm9jZXNzKTtcblx0fVxufVxuXG4vKiogRmx1c2ggdGhlIHJlbmRlciBxdWV1ZSBieSByZXJlbmRlcmluZyBhbGwgcXVldWVkIGNvbXBvbmVudHMgKi9cbmZ1bmN0aW9uIHByb2Nlc3MoKSB7XG5cdGxldCBxdWV1ZTtcblx0d2hpbGUgKChwcm9jZXNzLl9yZXJlbmRlckNvdW50ID0gcmVyZW5kZXJRdWV1ZS5sZW5ndGgpKSB7XG5cdFx0cXVldWUgPSByZXJlbmRlclF1ZXVlLnNvcnQoKGEsIGIpID0+IGEuX3Zub2RlLl9kZXB0aCAtIGIuX3Zub2RlLl9kZXB0aCk7XG5cdFx0cmVyZW5kZXJRdWV1ZSA9IFtdO1xuXHRcdC8vIERvbid0IHVwZGF0ZSBgcmVuZGVyQ291bnRgIHlldC4gS2VlcCBpdHMgdmFsdWUgbm9uLXplcm8gdG8gcHJldmVudCB1bm5lY2Vzc2FyeVxuXHRcdC8vIHByb2Nlc3MoKSBjYWxscyBmcm9tIGdldHRpbmcgc2NoZWR1bGVkIHdoaWxlIGBxdWV1ZWAgaXMgc3RpbGwgYmVpbmcgY29uc3VtZWQuXG5cdFx0cXVldWUuc29tZShjID0+IHtcblx0XHRcdGlmIChjLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KGMpO1xuXHRcdH0pO1xuXHR9XG59XG5wcm9jZXNzLl9yZXJlbmRlckNvdW50ID0gMDtcbiIsICJpbXBvcnQgeyBFTVBUWV9PQkosIEVNUFRZX0FSUiB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGNvbW1pdFJvb3QsIGRpZmYgfSBmcm9tICcuL2RpZmYvaW5kZXgnO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgRnJhZ21lbnQgfSBmcm9tICcuL2NyZWF0ZS1lbGVtZW50JztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7XG5cbmNvbnN0IElTX0hZRFJBVEUgPSBFTVBUWV9PQko7XG5cbi8qKlxuICogUmVuZGVyIGEgUHJlYWN0IHZpcnR1YWwgbm9kZSBpbnRvIGEgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2luZGV4JykuQ29tcG9uZW50Q2hpbGR9IHZub2RlIFRoZSB2aXJ0dWFsIG5vZGUgdG8gcmVuZGVyXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgRE9NIGVsZW1lbnQgdG9cbiAqIHJlbmRlciBpbnRvXG4gKiBAcGFyYW0ge0VsZW1lbnQgfCBUZXh0fSBbcmVwbGFjZU5vZGVdIE9wdGlvbmFsOiBBdHRlbXB0IHRvIHJlLXVzZSBhblxuICogZXhpc3RpbmcgRE9NIHRyZWUgcm9vdGVkIGF0IGByZXBsYWNlTm9kZWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcih2bm9kZSwgcGFyZW50RG9tLCByZXBsYWNlTm9kZSkge1xuXHRpZiAob3B0aW9ucy5fcm9vdCkgb3B0aW9ucy5fcm9vdCh2bm9kZSwgcGFyZW50RG9tKTtcblxuXHQvLyBXZSBhYnVzZSB0aGUgYHJlcGxhY2VOb2RlYCBwYXJhbWV0ZXIgaW4gYGh5ZHJhdGUoKWAgdG8gc2lnbmFsIGlmIHdlXG5cdC8vIGFyZSBpbiBoeWRyYXRpb24gbW9kZSBvciBub3QgYnkgcGFzc2luZyBgSVNfSFlEUkFURWAgaW5zdGVhZCBvZiBhXG5cdC8vIERPTSBlbGVtZW50LlxuXHRsZXQgaXNIeWRyYXRpbmcgPSByZXBsYWNlTm9kZSA9PT0gSVNfSFlEUkFURTtcblxuXHQvLyBUbyBiZSBhYmxlIHRvIHN1cHBvcnQgY2FsbGluZyBgcmVuZGVyKClgIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lXG5cdC8vIERPTSBub2RlLCB3ZSBuZWVkIHRvIG9idGFpbiBhIHJlZmVyZW5jZSB0byB0aGUgcHJldmlvdXMgdHJlZS4gV2UgZG9cblx0Ly8gdGhpcyBieSBhc3NpZ25pbmcgYSBuZXcgYF9jaGlsZHJlbmAgcHJvcGVydHkgdG8gRE9NIG5vZGVzIHdoaWNoIHBvaW50c1xuXHQvLyB0byB0aGUgbGFzdCByZW5kZXJlZCB0cmVlLiBCeSBkZWZhdWx0IHRoaXMgcHJvcGVydHkgaXMgbm90IHByZXNlbnQsIHdoaWNoXG5cdC8vIG1lYW5zIHRoYXQgd2UgYXJlIG1vdW50aW5nIGEgbmV3IHRyZWUgZm9yIHRoZSBmaXJzdCB0aW1lLlxuXHRsZXQgb2xkVk5vZGUgPSBpc0h5ZHJhdGluZ1xuXHRcdD8gbnVsbFxuXHRcdDogKHJlcGxhY2VOb2RlICYmIHJlcGxhY2VOb2RlLl9jaGlsZHJlbikgfHwgcGFyZW50RG9tLl9jaGlsZHJlbjtcblx0dm5vZGUgPSBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBbdm5vZGVdKTtcblxuXHQvLyBMaXN0IG9mIGVmZmVjdHMgdGhhdCBuZWVkIHRvIGJlIGNhbGxlZCBhZnRlciBkaWZmaW5nLlxuXHRsZXQgY29tbWl0UXVldWUgPSBbXTtcblx0ZGlmZihcblx0XHRwYXJlbnREb20sXG5cdFx0Ly8gRGV0ZXJtaW5lIHRoZSBuZXcgdm5vZGUgdHJlZSBhbmQgc3RvcmUgaXQgb24gdGhlIERPTSBlbGVtZW50IG9uXG5cdFx0Ly8gb3VyIGN1c3RvbSBgX2NoaWxkcmVuYCBwcm9wZXJ0eS5cblx0XHQoKGlzSHlkcmF0aW5nID8gcGFyZW50RG9tIDogcmVwbGFjZU5vZGUgfHwgcGFyZW50RG9tKS5fY2hpbGRyZW4gPSB2bm9kZSksXG5cdFx0b2xkVk5vZGUgfHwgRU1QVFlfT0JKLFxuXHRcdEVNUFRZX09CSixcblx0XHRwYXJlbnREb20ub3duZXJTVkdFbGVtZW50ICE9PSB1bmRlZmluZWQsXG5cdFx0cmVwbGFjZU5vZGUgJiYgIWlzSHlkcmF0aW5nXG5cdFx0XHQ/IFtyZXBsYWNlTm9kZV1cblx0XHRcdDogb2xkVk5vZGVcblx0XHRcdD8gbnVsbFxuXHRcdFx0OiBwYXJlbnREb20uY2hpbGROb2Rlcy5sZW5ndGhcblx0XHRcdD8gRU1QVFlfQVJSLnNsaWNlLmNhbGwocGFyZW50RG9tLmNoaWxkTm9kZXMpXG5cdFx0XHQ6IG51bGwsXG5cdFx0Y29tbWl0UXVldWUsXG5cdFx0cmVwbGFjZU5vZGUgfHwgRU1QVFlfT0JKLFxuXHRcdGlzSHlkcmF0aW5nXG5cdCk7XG5cblx0Ly8gRmx1c2ggYWxsIHF1ZXVlZCBlZmZlY3RzXG5cdGNvbW1pdFJvb3QoY29tbWl0UXVldWUsIHZub2RlKTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgYW4gZXhpc3RpbmcgRE9NIGVsZW1lbnQgd2l0aCBkYXRhIGZyb20gYSBQcmVhY3QgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbmRleCcpLkNvbXBvbmVudENoaWxkfSB2bm9kZSBUaGUgdmlydHVhbCBub2RlIHRvIHJlbmRlclxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBwYXJlbnREb20gVGhlIERPTSBlbGVtZW50IHRvXG4gKiB1cGRhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUodm5vZGUsIHBhcmVudERvbSkge1xuXHRyZW5kZXIodm5vZGUsIHBhcmVudERvbSwgSVNfSFlEUkFURSk7XG59XG4iLCAiaW1wb3J0IHsgZW5xdWV1ZVJlbmRlciB9IGZyb20gJy4vY29tcG9uZW50JztcblxuZXhwb3J0IGxldCBpID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlKSB7XG5cdGNvbnN0IGN0eCA9IHt9O1xuXG5cdGNvbnN0IGNvbnRleHQgPSB7XG5cdFx0X2lkOiAnX19jQycgKyBpKyssXG5cdFx0X2RlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuXHRcdENvbnN1bWVyKHByb3BzLCBjb250ZXh0KSB7XG5cdFx0XHRyZXR1cm4gcHJvcHMuY2hpbGRyZW4oY29udGV4dCk7XG5cdFx0fSxcblx0XHRQcm92aWRlcihwcm9wcykge1xuXHRcdFx0aWYgKCF0aGlzLmdldENoaWxkQ29udGV4dCkge1xuXHRcdFx0XHRjb25zdCBzdWJzID0gW107XG5cdFx0XHRcdHRoaXMuZ2V0Q2hpbGRDb250ZXh0ID0gKCkgPT4ge1xuXHRcdFx0XHRcdGN0eFtjb250ZXh0Ll9pZF0gPSB0aGlzO1xuXHRcdFx0XHRcdHJldHVybiBjdHg7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0dGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBfcHJvcHMgPT4ge1xuXHRcdFx0XHRcdGlmICh0aGlzLnByb3BzLnZhbHVlICE9PSBfcHJvcHMudmFsdWUpIHtcblx0XHRcdFx0XHRcdHN1YnMuc29tZShjID0+IHtcblx0XHRcdFx0XHRcdFx0Yy5jb250ZXh0ID0gX3Byb3BzLnZhbHVlO1xuXHRcdFx0XHRcdFx0XHRlbnF1ZXVlUmVuZGVyKGMpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHRoaXMuc3ViID0gYyA9PiB7XG5cdFx0XHRcdFx0c3Vicy5wdXNoKGMpO1xuXHRcdFx0XHRcdGxldCBvbGQgPSBjLmNvbXBvbmVudFdpbGxVbm1vdW50O1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFVubW91bnQgPSAoKSA9PiB7XG5cdFx0XHRcdFx0XHRzdWJzLnNwbGljZShzdWJzLmluZGV4T2YoYyksIDEpO1xuXHRcdFx0XHRcdFx0b2xkICYmIG9sZC5jYWxsKGMpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcblx0XHR9XG5cdH07XG5cblx0Y29udGV4dC5Db25zdW1lci5jb250ZXh0VHlwZSA9IGNvbnRleHQ7XG5cblx0Ly8gRGV2dG9vbHMgbmVlZHMgYWNjZXNzIHRvIHRoZSBjb250ZXh0IG9iamVjdCB3aGVuIGl0XG5cdC8vIGVuY291bnRlcnMgYSBQcm92aWRlci4gVGhpcyBpcyBuZWNlc3NhcnkgdG8gc3VwcG9ydFxuXHQvLyBzZXR0aW5nIGBkaXNwbGF5TmFtZWAgb24gdGhlIGNvbnRleHQgb2JqZWN0IGluc3RlYWRcblx0Ly8gb2Ygb24gdGhlIGNvbXBvbmVudCBpdHNlbGYuIFNlZTpcblx0Ly8gaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2NvbnRleHQuaHRtbCNjb250ZXh0ZGlzcGxheW5hbWVcblx0Y29udGV4dC5Qcm92aWRlci5fY29udGV4dFJlZiA9IGNvbnRleHQ7XG5cblx0cmV0dXJuIGNvbnRleHQ7XG59XG4iLCAiLyoqXG4gKiBBc3NpZ24gcHJvcGVydGllcyBmcm9tIGBwcm9wc2AgdG8gYG9iamBcbiAqIEB0ZW1wbGF0ZSBPLCBQIFRoZSBvYmogYW5kIHByb3BzIHR5cGVzXG4gKiBAcGFyYW0ge099IG9iaiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0b1xuICogQHBhcmFtIHtQfSBwcm9wcyBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcmV0dXJucyB7TyAmIFB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24ob2JqLCBwcm9wcykge1xuXHRmb3IgKGxldCBpIGluIHByb3BzKSBvYmpbaV0gPSBwcm9wc1tpXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7TyAmIFB9ICovIChvYmopO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhIGNoaWxkIG5vZGUgZnJvbSBpdHMgcGFyZW50IGlmIGF0dGFjaGVkLiBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3JcbiAqIElFMTEgd2hpY2ggZG9lc24ndCBzdXBwb3J0IGBFbGVtZW50LnByb3RvdHlwZS5yZW1vdmUoKWAuIFVzaW5nIHRoaXMgZnVuY3Rpb25cbiAqIGlzIHNtYWxsZXIgdGhhbiBpbmNsdWRpbmcgYSBkZWRpY2F0ZWQgcG9seWZpbGwuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcblx0bGV0IHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG5cdGlmIChwYXJlbnROb2RlKSBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xufVxuIiwgImltcG9ydCB7IGRpZmYsIHVubW91bnQsIGFwcGx5UmVmIH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBjcmVhdGVWTm9kZSwgRnJhZ21lbnQgfSBmcm9tICcuLi9jcmVhdGUtZWxlbWVudCc7XG5pbXBvcnQgeyBFTVBUWV9PQkosIEVNUFRZX0FSUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyByZW1vdmVOb2RlIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBnZXREb21TaWJsaW5nIH0gZnJvbSAnLi4vY29tcG9uZW50JztcblxuLyoqXG4gKiBEaWZmIHRoZSBjaGlsZHJlbiBvZiBhIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gcGFyZW50RG9tIFRoZSBET00gZWxlbWVudCB3aG9zZVxuICogY2hpbGRyZW4gYXJlIGJlaW5nIGRpZmZlZFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2luZGV4JykuQ29tcG9uZW50Q2hpbGRyZW5bXX0gcmVuZGVyUmVzdWx0XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gbmV3UGFyZW50Vk5vZGUgVGhlIG5ldyB2aXJ0dWFsXG4gKiBub2RlIHdob3NlIGNoaWxkcmVuIHNob3VsZCBiZSBkaWZmJ2VkIGFnYWluc3Qgb2xkUGFyZW50Vk5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBvbGRQYXJlbnRWTm9kZSBUaGUgb2xkIHZpcnR1YWxcbiAqIG5vZGUgd2hvc2UgY2hpbGRyZW4gc2hvdWxkIGJlIGRpZmYnZWQgYWdhaW5zdCBuZXdQYXJlbnRWTm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGdsb2JhbENvbnRleHQgVGhlIGN1cnJlbnQgY29udGV4dCBvYmplY3QgLSBtb2RpZmllZCBieSBnZXRDaGlsZENvbnRleHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBET00gbm9kZSBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudD59IGV4Y2Vzc0RvbUNoaWxkcmVuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHNcbiAqIHdoaWNoIGhhdmUgY2FsbGJhY2tzIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge05vZGUgfCBUZXh0fSBvbGREb20gVGhlIGN1cnJlbnQgYXR0YWNoZWQgRE9NXG4gKiBlbGVtZW50IGFueSBuZXcgZG9tIGVsZW1lbnRzIHNob3VsZCBiZSBwbGFjZWQgYXJvdW5kLiBMaWtlbHkgYG51bGxgIG9uIGZpcnN0XG4gKiByZW5kZXIgKGV4Y2VwdCB3aGVuIGh5ZHJhdGluZykuIENhbiBiZSBhIHNpYmxpbmcgRE9NIGVsZW1lbnQgd2hlbiBkaWZmaW5nXG4gKiBGcmFnbWVudHMgdGhhdCBoYXZlIHNpYmxpbmdzLiBJbiBtb3N0IGNhc2VzLCBpdCBzdGFydHMgb3V0IGFzIGBvbGRDaGlsZHJlblswXS5fZG9tYC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNIeWRyYXRpbmcgV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZkNoaWxkcmVuKFxuXHRwYXJlbnREb20sXG5cdHJlbmRlclJlc3VsdCxcblx0bmV3UGFyZW50Vk5vZGUsXG5cdG9sZFBhcmVudFZOb2RlLFxuXHRnbG9iYWxDb250ZXh0LFxuXHRpc1N2Zyxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRvbGREb20sXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IGksIGosIG9sZFZOb2RlLCBjaGlsZFZOb2RlLCBuZXdEb20sIGZpcnN0Q2hpbGREb20sIHJlZnM7XG5cblx0Ly8gVGhpcyBpcyBhIGNvbXByZXNzaW9uIG9mIG9sZFBhcmVudFZOb2RlIT1udWxsICYmIG9sZFBhcmVudFZOb2RlICE9IEVNUFRZX09CSiAmJiBvbGRQYXJlbnRWTm9kZS5fY2hpbGRyZW4gfHwgRU1QVFlfQVJSXG5cdC8vIGFzIEVNUFRZX09CSi5fY2hpbGRyZW4gc2hvdWxkIGJlIGB1bmRlZmluZWRgLlxuXHRsZXQgb2xkQ2hpbGRyZW4gPSAob2xkUGFyZW50Vk5vZGUgJiYgb2xkUGFyZW50Vk5vZGUuX2NoaWxkcmVuKSB8fCBFTVBUWV9BUlI7XG5cblx0bGV0IG9sZENoaWxkcmVuTGVuZ3RoID0gb2xkQ2hpbGRyZW4ubGVuZ3RoO1xuXG5cdC8vIE9ubHkgaW4gdmVyeSBzcGVjaWZpYyBwbGFjZXMgc2hvdWxkIHRoaXMgbG9naWMgYmUgaW52b2tlZCAodG9wIGxldmVsIGByZW5kZXJgIGFuZCBgZGlmZkVsZW1lbnROb2Rlc2ApLlxuXHQvLyBJJ20gdXNpbmcgYEVNUFRZX09CSmAgdG8gc2lnbmFsIHdoZW4gYGRpZmZDaGlsZHJlbmAgaXMgaW52b2tlZCBpbiB0aGVzZSBzaXR1YXRpb25zLiBJIGNhbid0IHVzZSBgbnVsbGBcblx0Ly8gZm9yIHRoaXMgcHVycG9zZSwgYmVjYXVzZSBgbnVsbGAgaXMgYSB2YWxpZCB2YWx1ZSBmb3IgYG9sZERvbWAgd2hpY2ggY2FuIG1lYW4gdG8gc2tpcCB0byB0aGlzIGxvZ2ljXG5cdC8vIChlLmcuIGlmIG1vdW50aW5nIGEgbmV3IHRyZWUgaW4gd2hpY2ggdGhlIG9sZCBET00gc2hvdWxkIGJlIGlnbm9yZWQgKHVzdWFsbHkgZm9yIEZyYWdtZW50cykuXG5cdGlmIChvbGREb20gPT0gRU1QVFlfT0JKKSB7XG5cdFx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRcdG9sZERvbSA9IGV4Y2Vzc0RvbUNoaWxkcmVuWzBdO1xuXHRcdH0gZWxzZSBpZiAob2xkQ2hpbGRyZW5MZW5ndGgpIHtcblx0XHRcdG9sZERvbSA9IGdldERvbVNpYmxpbmcob2xkUGFyZW50Vk5vZGUsIDApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRvbGREb20gPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbiA9IFtdO1xuXHRmb3IgKGkgPSAwOyBpIDwgcmVuZGVyUmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2hpbGRWTm9kZSA9IHJlbmRlclJlc3VsdFtpXTtcblxuXHRcdGlmIChjaGlsZFZOb2RlID09IG51bGwgfHwgdHlwZW9mIGNoaWxkVk5vZGUgPT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gbnVsbDtcblx0XHR9XG5cdFx0Ly8gSWYgdGhpcyBuZXdWTm9kZSBpcyBiZWluZyByZXVzZWQgKGUuZy4gPGRpdj57cmV1c2V9e3JldXNlfTwvZGl2PikgaW4gdGhlIHNhbWUgZGlmZixcblx0XHQvLyBvciB3ZSBhcmUgcmVuZGVyaW5nIGEgY29tcG9uZW50IChlLmcuIHNldFN0YXRlKSBjb3B5IHRoZSBvbGRWTm9kZXMgc28gaXQgY2FuIGhhdmVcblx0XHQvLyBpdCdzIG93biBET00gJiBldGMuIHBvaW50ZXJzXG5cdFx0ZWxzZSBpZiAodHlwZW9mIGNoaWxkVk5vZGUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIGNoaWxkVk5vZGUgPT0gJ251bWJlcicpIHtcblx0XHRcdGNoaWxkVk5vZGUgPSBuZXdQYXJlbnRWTm9kZS5fY2hpbGRyZW5baV0gPSBjcmVhdGVWTm9kZShcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0Y2hpbGRWTm9kZSxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0Y2hpbGRWTm9kZVxuXHRcdFx0KTtcblx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRWTm9kZSkpIHtcblx0XHRcdGNoaWxkVk5vZGUgPSBuZXdQYXJlbnRWTm9kZS5fY2hpbGRyZW5baV0gPSBjcmVhdGVWTm9kZShcblx0XHRcdFx0RnJhZ21lbnQsXG5cdFx0XHRcdHsgY2hpbGRyZW46IGNoaWxkVk5vZGUgfSxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0bnVsbFxuXHRcdFx0KTtcblx0XHR9IGVsc2UgaWYgKGNoaWxkVk5vZGUuX2RvbSAhPSBudWxsIHx8IGNoaWxkVk5vZGUuX2NvbXBvbmVudCAhPSBudWxsKSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdGNoaWxkVk5vZGUudHlwZSxcblx0XHRcdFx0Y2hpbGRWTm9kZS5wcm9wcyxcblx0XHRcdFx0Y2hpbGRWTm9kZS5rZXksXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdGNoaWxkVk5vZGUuX29yaWdpbmFsXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY2hpbGRWTm9kZTtcblx0XHR9XG5cblx0XHQvLyBUZXJzZXIgcmVtb3ZlcyB0aGUgYGNvbnRpbnVlYCBoZXJlIGFuZCB3cmFwcyB0aGUgbG9vcCBib2R5XG5cdFx0Ly8gaW4gYSBgaWYgKGNoaWxkVk5vZGUpIHsgLi4uIH0gY29uZGl0aW9uXG5cdFx0aWYgKGNoaWxkVk5vZGUgPT0gbnVsbCkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y2hpbGRWTm9kZS5fcGFyZW50ID0gbmV3UGFyZW50Vk5vZGU7XG5cdFx0Y2hpbGRWTm9kZS5fZGVwdGggPSBuZXdQYXJlbnRWTm9kZS5fZGVwdGggKyAxO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgd2UgZmluZCBhIGNvcnJlc3BvbmRpbmcgZWxlbWVudCBpbiBvbGRDaGlsZHJlbi5cblx0XHQvLyBJZiBmb3VuZCwgZGVsZXRlIHRoZSBhcnJheSBpdGVtIGJ5IHNldHRpbmcgdG8gYHVuZGVmaW5lZGAuXG5cdFx0Ly8gV2UgdXNlIGB1bmRlZmluZWRgLCBhcyBgbnVsbGAgaXMgcmVzZXJ2ZWQgZm9yIGVtcHR5IHBsYWNlaG9sZGVyc1xuXHRcdC8vIChob2xlcykuXG5cdFx0b2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcblxuXHRcdGlmIChcblx0XHRcdG9sZFZOb2RlID09PSBudWxsIHx8XG5cdFx0XHQob2xkVk5vZGUgJiZcblx0XHRcdFx0Y2hpbGRWTm9kZS5rZXkgPT0gb2xkVk5vZGUua2V5ICYmXG5cdFx0XHRcdGNoaWxkVk5vZGUudHlwZSA9PT0gb2xkVk5vZGUudHlwZSlcblx0XHQpIHtcblx0XHRcdG9sZENoaWxkcmVuW2ldID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBFaXRoZXIgb2xkVk5vZGUgPT09IHVuZGVmaW5lZCBvciBvbGRDaGlsZHJlbkxlbmd0aCA+IDAsXG5cdFx0XHQvLyBzbyBhZnRlciB0aGlzIGxvb3Agb2xkVk5vZGUgPT0gbnVsbCBvciBvbGRWTm9kZSBpcyBhIHZhbGlkIHZhbHVlLlxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IG9sZENoaWxkcmVuTGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0b2xkVk5vZGUgPSBvbGRDaGlsZHJlbltqXTtcblx0XHRcdFx0Ly8gSWYgY2hpbGRWTm9kZSBpcyB1bmtleWVkLCB3ZSBvbmx5IG1hdGNoIHNpbWlsYXJseSB1bmtleWVkIG5vZGVzLCBvdGhlcndpc2Ugd2UgbWF0Y2ggYnkga2V5LlxuXHRcdFx0XHQvLyBXZSBhbHdheXMgbWF0Y2ggYnkgdHlwZSAoaW4gZWl0aGVyIGNhc2UpLlxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0b2xkVk5vZGUgJiZcblx0XHRcdFx0XHRjaGlsZFZOb2RlLmtleSA9PSBvbGRWTm9kZS5rZXkgJiZcblx0XHRcdFx0XHRjaGlsZFZOb2RlLnR5cGUgPT09IG9sZFZOb2RlLnR5cGVcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0b2xkQ2hpbGRyZW5bal0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0b2xkVk5vZGUgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG9sZFZOb2RlID0gb2xkVk5vZGUgfHwgRU1QVFlfT0JKO1xuXG5cdFx0Ly8gTW9ycGggdGhlIG9sZCBlbGVtZW50IGludG8gdGhlIG5ldyBvbmUsIGJ1dCBkb24ndCBhcHBlbmQgaXQgdG8gdGhlIGRvbSB5ZXRcblx0XHRuZXdEb20gPSBkaWZmKFxuXHRcdFx0cGFyZW50RG9tLFxuXHRcdFx0Y2hpbGRWTm9kZSxcblx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0Z2xvYmFsQ29udGV4dCxcblx0XHRcdGlzU3ZnLFxuXHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdG9sZERvbSxcblx0XHRcdGlzSHlkcmF0aW5nXG5cdFx0KTtcblxuXHRcdGlmICgoaiA9IGNoaWxkVk5vZGUucmVmKSAmJiBvbGRWTm9kZS5yZWYgIT0gaikge1xuXHRcdFx0aWYgKCFyZWZzKSByZWZzID0gW107XG5cdFx0XHRpZiAob2xkVk5vZGUucmVmKSByZWZzLnB1c2gob2xkVk5vZGUucmVmLCBudWxsLCBjaGlsZFZOb2RlKTtcblx0XHRcdHJlZnMucHVzaChqLCBjaGlsZFZOb2RlLl9jb21wb25lbnQgfHwgbmV3RG9tLCBjaGlsZFZOb2RlKTtcblx0XHR9XG5cblx0XHRpZiAobmV3RG9tICE9IG51bGwpIHtcblx0XHRcdGlmIChmaXJzdENoaWxkRG9tID09IG51bGwpIHtcblx0XHRcdFx0Zmlyc3RDaGlsZERvbSA9IG5ld0RvbTtcblx0XHRcdH1cblxuXHRcdFx0b2xkRG9tID0gcGxhY2VDaGlsZChcblx0XHRcdFx0cGFyZW50RG9tLFxuXHRcdFx0XHRjaGlsZFZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0b2xkQ2hpbGRyZW4sXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRuZXdEb20sXG5cdFx0XHRcdG9sZERvbVxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gQnJvd3NlcnMgd2lsbCBpbmZlciBhbiBvcHRpb24ncyBgdmFsdWVgIGZyb20gYHRleHRDb250ZW50YCB3aGVuXG5cdFx0XHQvLyBubyB2YWx1ZSBpcyBwcmVzZW50LiBUaGlzIGVzc2VudGlhbGx5IGJ5cGFzc2VzIG91ciBjb2RlIHRvIHNldCBpdFxuXHRcdFx0Ly8gbGF0ZXIgaW4gYGRpZmYoKWAuIEl0IHdvcmtzIGZpbmUgaW4gYWxsIGJyb3dzZXJzIGV4Y2VwdCBmb3IgSUUxMVxuXHRcdFx0Ly8gd2hlcmUgaXQgYnJlYWtzIHNldHRpbmcgYHNlbGVjdC52YWx1ZWAuIFRoZXJlIGl0IHdpbGwgYmUgYWx3YXlzIHNldFxuXHRcdFx0Ly8gdG8gYW4gZW1wdHkgc3RyaW5nLiBSZS1hcHBseWluZyBhbiBvcHRpb25zIHZhbHVlIHdpbGwgZml4IHRoYXQsIHNvXG5cdFx0XHQvLyB0aGVyZSBhcmUgcHJvYmFibHkgc29tZSBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZXMgdGhhdCBhcmVuJ3Rcblx0XHRcdC8vIHVwZGF0ZWQgcHJvcGVybHkuXG5cdFx0XHQvL1xuXHRcdFx0Ly8gVG8gZml4IGl0IHdlIG1ha2Ugc3VyZSB0byByZXNldCB0aGUgaW5mZXJyZWQgdmFsdWUsIHNvIHRoYXQgb3VyIG93blxuXHRcdFx0Ly8gdmFsdWUgY2hlY2sgaW4gYGRpZmYoKWAgd29uJ3QgYmUgc2tpcHBlZC5cblx0XHRcdGlmIChuZXdQYXJlbnRWTm9kZS50eXBlID09ICdvcHRpb24nKSB7XG5cdFx0XHRcdHBhcmVudERvbS52YWx1ZSA9ICcnO1xuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgbmV3UGFyZW50Vk5vZGUudHlwZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdC8vIEJlY2F1c2UgdGhlIG5ld1BhcmVudFZOb2RlIGlzIEZyYWdtZW50LWxpa2UsIHdlIG5lZWQgdG8gc2V0IGl0J3Ncblx0XHRcdFx0Ly8gX25leHREb20gcHJvcGVydHkgdG8gdGhlIG5leHRTaWJsaW5nIG9mIGl0cyBsYXN0IGNoaWxkIERPTSBub2RlLlxuXHRcdFx0XHQvL1xuXHRcdFx0XHQvLyBgb2xkRG9tYCBjb250YWlucyB0aGUgY29ycmVjdCB2YWx1ZSBoZXJlIGJlY2F1c2UgaWYgdGhlIGxhc3QgY2hpbGRcblx0XHRcdFx0Ly8gaXMgYSBGcmFnbWVudC1saWtlLCB0aGVuIG9sZERvbSBoYXMgYWxyZWFkeSBiZWVuIHNldCB0byB0aGF0IGNoaWxkJ3MgX25leHREb20uXG5cdFx0XHRcdC8vIElmIHRoZSBsYXN0IGNoaWxkIGlzIGEgRE9NIFZOb2RlLCB0aGVuIG9sZERvbSB3aWxsIGJlIHNldCB0byB0aGF0IERPTVxuXHRcdFx0XHQvLyBub2RlJ3MgbmV4dFNpYmxpbmcuXG5cdFx0XHRcdG5ld1BhcmVudFZOb2RlLl9uZXh0RG9tID0gb2xkRG9tO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRvbGREb20gJiZcblx0XHRcdG9sZFZOb2RlLl9kb20gPT0gb2xkRG9tICYmXG5cdFx0XHRvbGREb20ucGFyZW50Tm9kZSAhPSBwYXJlbnREb21cblx0XHQpIHtcblx0XHRcdC8vIFRoZSBhYm92ZSBjb25kaXRpb24gaXMgdG8gaGFuZGxlIG51bGwgcGxhY2Vob2xkZXJzLiBTZWUgdGVzdCBpbiBwbGFjZWhvbGRlci50ZXN0LmpzOlxuXHRcdFx0Ly8gYGVmZmljaWVudGx5IHJlcGxhY2UgbnVsbCBwbGFjZWhvbGRlcnMgaW4gcGFyZW50IHJlcmVuZGVyc2Bcblx0XHRcdG9sZERvbSA9IGdldERvbVNpYmxpbmcob2xkVk5vZGUpO1xuXHRcdH1cblx0fVxuXG5cdG5ld1BhcmVudFZOb2RlLl9kb20gPSBmaXJzdENoaWxkRG9tO1xuXG5cdC8vIFJlbW92ZSBjaGlsZHJlbiB0aGF0IGFyZSBub3QgcGFydCBvZiBhbnkgdm5vZGUuXG5cdGlmIChleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsICYmIHR5cGVvZiBuZXdQYXJlbnRWTm9kZS50eXBlICE9ICdmdW5jdGlvbicpIHtcblx0XHRmb3IgKGkgPSBleGNlc3NEb21DaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW5baV0gIT0gbnVsbCkgcmVtb3ZlTm9kZShleGNlc3NEb21DaGlsZHJlbltpXSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmVtb3ZlIHJlbWFpbmluZyBvbGRDaGlsZHJlbiBpZiB0aGVyZSBhcmUgYW55LlxuXHRmb3IgKGkgPSBvbGRDaGlsZHJlbkxlbmd0aDsgaS0tOyApIHtcblx0XHRpZiAob2xkQ2hpbGRyZW5baV0gIT0gbnVsbCkgdW5tb3VudChvbGRDaGlsZHJlbltpXSwgb2xkQ2hpbGRyZW5baV0pO1xuXHR9XG5cblx0Ly8gU2V0IHJlZnMgb25seSBhZnRlciB1bm1vdW50XG5cdGlmIChyZWZzKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IHJlZnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGFwcGx5UmVmKHJlZnNbaV0sIHJlZnNbKytpXSwgcmVmc1srK2ldKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBGbGF0dGVuIGFuZCBsb29wIHRocm91Z2ggdGhlIGNoaWxkcmVuIG9mIGEgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW5kZXgnKS5Db21wb25lbnRDaGlsZHJlbn0gY2hpbGRyZW4gVGhlIHVuZmxhdHRlbmVkXG4gKiBjaGlsZHJlbiBvZiBhIHZpcnR1YWwgbm9kZVxuICogQHJldHVybnMge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZVtdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9DaGlsZEFycmF5KGNoaWxkcmVuKSB7XG5cdGlmIChjaGlsZHJlbiA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZHJlbiA9PSAnYm9vbGVhbicpIHtcblx0XHRyZXR1cm4gW107XG5cdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcblx0XHRyZXR1cm4gRU1QVFlfQVJSLmNvbmNhdC5hcHBseShbXSwgY2hpbGRyZW4ubWFwKHRvQ2hpbGRBcnJheSkpO1xuXHR9XG5cblx0cmV0dXJuIFtjaGlsZHJlbl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGFjZUNoaWxkKFxuXHRwYXJlbnREb20sXG5cdGNoaWxkVk5vZGUsXG5cdG9sZFZOb2RlLFxuXHRvbGRDaGlsZHJlbixcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdG5ld0RvbSxcblx0b2xkRG9tXG4pIHtcblx0bGV0IG5leHREb207XG5cdGlmIChjaGlsZFZOb2RlLl9uZXh0RG9tICE9PSB1bmRlZmluZWQpIHtcblx0XHQvLyBPbmx5IEZyYWdtZW50cyBvciBjb21wb25lbnRzIHRoYXQgcmV0dXJuIEZyYWdtZW50IGxpa2UgVk5vZGVzIHdpbGxcblx0XHQvLyBoYXZlIGEgbm9uLXVuZGVmaW5lZCBfbmV4dERvbS4gQ29udGludWUgdGhlIGRpZmYgZnJvbSB0aGUgc2libGluZ1xuXHRcdC8vIG9mIGxhc3QgRE9NIGNoaWxkIG9mIHRoaXMgY2hpbGQgVk5vZGVcblx0XHRuZXh0RG9tID0gY2hpbGRWTm9kZS5fbmV4dERvbTtcblxuXHRcdC8vIEVhZ2VybHkgY2xlYW51cCBfbmV4dERvbS4gV2UgZG9uJ3QgbmVlZCB0byBwZXJzaXN0IHRoZSB2YWx1ZSBiZWNhdXNlXG5cdFx0Ly8gaXQgaXMgb25seSB1c2VkIGJ5IGBkaWZmQ2hpbGRyZW5gIHRvIGRldGVybWluZSB3aGVyZSB0byByZXN1bWUgdGhlIGRpZmYgYWZ0ZXJcblx0XHQvLyBkaWZmaW5nIENvbXBvbmVudHMgYW5kIEZyYWdtZW50cy4gT25jZSB3ZSBzdG9yZSBpdCB0aGUgbmV4dERPTSBsb2NhbCB2YXIsIHdlXG5cdFx0Ly8gY2FuIGNsZWFuIHVwIHRoZSBwcm9wZXJ0eVxuXHRcdGNoaWxkVk5vZGUuX25leHREb20gPSB1bmRlZmluZWQ7XG5cdH0gZWxzZSBpZiAoXG5cdFx0ZXhjZXNzRG9tQ2hpbGRyZW4gPT0gb2xkVk5vZGUgfHxcblx0XHRuZXdEb20gIT0gb2xkRG9tIHx8XG5cdFx0bmV3RG9tLnBhcmVudE5vZGUgPT0gbnVsbFxuXHQpIHtcblx0XHQvLyBOT1RFOiBleGNlc3NEb21DaGlsZHJlbj09b2xkVk5vZGUgYWJvdmU6XG5cdFx0Ly8gVGhpcyBpcyBhIGNvbXByZXNzaW9uIG9mIGV4Y2Vzc0RvbUNoaWxkcmVuPT1udWxsICYmIG9sZFZOb2RlPT1udWxsIVxuXHRcdC8vIFRoZSB2YWx1ZXMgb25seSBoYXZlIHRoZSBzYW1lIHR5cGUgd2hlbiBgbnVsbGAuXG5cblx0XHRvdXRlcjogaWYgKG9sZERvbSA9PSBudWxsIHx8IG9sZERvbS5wYXJlbnROb2RlICE9PSBwYXJlbnREb20pIHtcblx0XHRcdHBhcmVudERvbS5hcHBlbmRDaGlsZChuZXdEb20pO1xuXHRcdFx0bmV4dERvbSA9IG51bGw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGBqPG9sZENoaWxkcmVuTGVuZ3RoOyBqKz0yYCBpcyBhbiBhbHRlcm5hdGl2ZSB0byBgaisrPG9sZENoaWxkcmVuTGVuZ3RoLzJgXG5cdFx0XHRmb3IgKFxuXHRcdFx0XHRsZXQgc2liRG9tID0gb2xkRG9tLCBqID0gMDtcblx0XHRcdFx0KHNpYkRvbSA9IHNpYkRvbS5uZXh0U2libGluZykgJiYgaiA8IG9sZENoaWxkcmVuLmxlbmd0aDtcblx0XHRcdFx0aiArPSAyXG5cdFx0XHQpIHtcblx0XHRcdFx0aWYgKHNpYkRvbSA9PSBuZXdEb20pIHtcblx0XHRcdFx0XHRicmVhayBvdXRlcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cGFyZW50RG9tLmluc2VydEJlZm9yZShuZXdEb20sIG9sZERvbSk7XG5cdFx0XHRuZXh0RG9tID0gb2xkRG9tO1xuXHRcdH1cblx0fVxuXG5cdC8vIElmIHdlIGhhdmUgcHJlLWNhbGN1bGF0ZWQgdGhlIG5leHRET00gbm9kZSwgdXNlIGl0LiBFbHNlIGNhbGN1bGF0ZSBpdCBub3dcblx0Ly8gU3RyaWN0bHkgY2hlY2sgZm9yIGB1bmRlZmluZWRgIGhlcmUgY3V6IGBudWxsYCBpcyBhIHZhbGlkIHZhbHVlIG9mIGBuZXh0RG9tYC5cblx0Ly8gU2VlIG1vcmUgZGV0YWlsIGluIGNyZWF0ZS1lbGVtZW50LmpzOmNyZWF0ZVZOb2RlXG5cdGlmIChuZXh0RG9tICE9PSB1bmRlZmluZWQpIHtcblx0XHRvbGREb20gPSBuZXh0RG9tO1xuXHR9IGVsc2Uge1xuXHRcdG9sZERvbSA9IG5ld0RvbS5uZXh0U2libGluZztcblx0fVxuXG5cdHJldHVybiBvbGREb207XG59XG4iLCAiaW1wb3J0IHsgSVNfTk9OX0RJTUVOU0lPTkFMIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4uL29wdGlvbnMnO1xuXG4vKipcbiAqIERpZmYgdGhlIG9sZCBhbmQgbmV3IHByb3BlcnRpZXMgb2YgYSBWTm9kZSBhbmQgYXBwbHkgY2hhbmdlcyB0byB0aGUgRE9NIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IGRvbSBUaGUgRE9NIG5vZGUgdG8gYXBwbHlcbiAqIGNoYW5nZXMgdG9cbiAqIEBwYXJhbSB7b2JqZWN0fSBuZXdQcm9wcyBUaGUgbmV3IHByb3BzXG4gKiBAcGFyYW0ge29iamVjdH0gb2xkUHJvcHMgVGhlIG9sZCBwcm9wc1xuICogQHBhcmFtIHtib29sZWFufSBpc1N2ZyBXaGV0aGVyIG9yIG5vdCB0aGlzIG5vZGUgaXMgYW4gU1ZHIG5vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaHlkcmF0ZSBXaGV0aGVyIG9yIG5vdCB3ZSBhcmUgaW4gaHlkcmF0aW9uIG1vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZQcm9wcyhkb20sIG5ld1Byb3BzLCBvbGRQcm9wcywgaXNTdmcsIGh5ZHJhdGUpIHtcblx0bGV0IGk7XG5cblx0Zm9yIChpIGluIG9sZFByb3BzKSB7XG5cdFx0aWYgKGkgIT09ICdjaGlsZHJlbicgJiYgaSAhPT0gJ2tleScgJiYgIShpIGluIG5ld1Byb3BzKSkge1xuXHRcdFx0c2V0UHJvcGVydHkoZG9tLCBpLCBudWxsLCBvbGRQcm9wc1tpXSwgaXNTdmcpO1xuXHRcdH1cblx0fVxuXG5cdGZvciAoaSBpbiBuZXdQcm9wcykge1xuXHRcdGlmIChcblx0XHRcdCghaHlkcmF0ZSB8fCB0eXBlb2YgbmV3UHJvcHNbaV0gPT0gJ2Z1bmN0aW9uJykgJiZcblx0XHRcdGkgIT09ICdjaGlsZHJlbicgJiZcblx0XHRcdGkgIT09ICdrZXknICYmXG5cdFx0XHRpICE9PSAndmFsdWUnICYmXG5cdFx0XHRpICE9PSAnY2hlY2tlZCcgJiZcblx0XHRcdG9sZFByb3BzW2ldICE9PSBuZXdQcm9wc1tpXVxuXHRcdCkge1xuXHRcdFx0c2V0UHJvcGVydHkoZG9tLCBpLCBuZXdQcm9wc1tpXSwgb2xkUHJvcHNbaV0sIGlzU3ZnKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gc2V0U3R5bGUoc3R5bGUsIGtleSwgdmFsdWUpIHtcblx0aWYgKGtleVswXSA9PT0gJy0nKSB7XG5cdFx0c3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSk7XG5cdH0gZWxzZSBpZiAoXG5cdFx0dHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG5cdFx0SVNfTk9OX0RJTUVOU0lPTkFMLnRlc3Qoa2V5KSA9PT0gZmFsc2Vcblx0KSB7XG5cdFx0c3R5bGVba2V5XSA9IHZhbHVlICsgJ3B4Jztcblx0fSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0c3R5bGVba2V5XSA9ICcnO1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlW2tleV0gPSB2YWx1ZTtcblx0fVxufVxuXG4vKipcbiAqIFNldCBhIHByb3BlcnR5IHZhbHVlIG9uIGEgRE9NIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IGRvbSBUaGUgRE9NIG5vZGUgdG8gbW9kaWZ5XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gc2V0XG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQgdGhlIHByb3BlcnR5IHRvXG4gKiBAcGFyYW0geyp9IG9sZFZhbHVlIFRoZSBvbGQgdmFsdWUgdGhlIHByb3BlcnR5IGhhZFxuICogQHBhcmFtIHtib29sZWFufSBpc1N2ZyBXaGV0aGVyIG9yIG5vdCB0aGlzIERPTSBub2RlIGlzIGFuIFNWRyBub2RlIG9yIG5vdFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvcGVydHkoZG9tLCBuYW1lLCB2YWx1ZSwgb2xkVmFsdWUsIGlzU3ZnKSB7XG5cdGxldCBzLCB1c2VDYXB0dXJlLCBuYW1lTG93ZXI7XG5cblx0aWYgKGlzU3ZnKSB7XG5cdFx0aWYgKG5hbWUgPT09ICdjbGFzc05hbWUnKSB7XG5cdFx0XHRuYW1lID0gJ2NsYXNzJztcblx0XHR9XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJ2NsYXNzJykge1xuXHRcdG5hbWUgPSAnY2xhc3NOYW1lJztcblx0fVxuXG5cdGlmIChuYW1lID09PSAnc3R5bGUnKSB7XG5cdFx0cyA9IGRvbS5zdHlsZTtcblxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcblx0XHRcdHMuY3NzVGV4dCA9IHZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodHlwZW9mIG9sZFZhbHVlID09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdHMuY3NzVGV4dCA9ICcnO1xuXHRcdFx0XHRvbGRWYWx1ZSA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvbGRWYWx1ZSkge1xuXHRcdFx0XHRmb3IgKGxldCBpIGluIG9sZFZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKCEodmFsdWUgJiYgaSBpbiB2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdHNldFN0eWxlKHMsIGksICcnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRcdGZvciAobGV0IGkgaW4gdmFsdWUpIHtcblx0XHRcdFx0XHRpZiAoIW9sZFZhbHVlIHx8IHZhbHVlW2ldICE9PSBvbGRWYWx1ZVtpXSkge1xuXHRcdFx0XHRcdFx0c2V0U3R5bGUocywgaSwgdmFsdWVbaV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHQvLyBCZW5jaG1hcmsgZm9yIGNvbXBhcmlzb246IGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTc0Yzk1NGJkYjk2NWI5YTAwOTY1YWM2XG5cdGVsc2UgaWYgKG5hbWVbMF0gPT09ICdvJyAmJiBuYW1lWzFdID09PSAnbicpIHtcblx0XHR1c2VDYXB0dXJlID0gbmFtZSAhPT0gKG5hbWUgPSBuYW1lLnJlcGxhY2UoL0NhcHR1cmUkLywgJycpKTtcblx0XHRuYW1lTG93ZXIgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0bmFtZSA9IChuYW1lTG93ZXIgaW4gZG9tID8gbmFtZUxvd2VyIDogbmFtZSkuc2xpY2UoMik7XG5cblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGlmICghb2xkVmFsdWUpIGRvbS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHksIHVzZUNhcHR1cmUpO1xuXHRcdFx0KGRvbS5fbGlzdGVuZXJzIHx8IChkb20uX2xpc3RlbmVycyA9IHt9KSlbbmFtZV0gPSB2YWx1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnRQcm94eSwgdXNlQ2FwdHVyZSk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKFxuXHRcdG5hbWUgIT09ICdsaXN0JyAmJlxuXHRcdG5hbWUgIT09ICd0YWdOYW1lJyAmJlxuXHRcdC8vIEhUTUxCdXR0b25FbGVtZW50LmZvcm0gYW5kIEhUTUxJbnB1dEVsZW1lbnQuZm9ybSBhcmUgcmVhZC1vbmx5IGJ1dCBjYW4gYmUgc2V0IHVzaW5nXG5cdFx0Ly8gc2V0QXR0cmlidXRlXG5cdFx0bmFtZSAhPT0gJ2Zvcm0nICYmXG5cdFx0bmFtZSAhPT0gJ3R5cGUnICYmXG5cdFx0bmFtZSAhPT0gJ3NpemUnICYmXG5cdFx0IWlzU3ZnICYmXG5cdFx0bmFtZSBpbiBkb21cblx0KSB7XG5cdFx0ZG9tW25hbWVdID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG5cdH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlICE9ICdmdW5jdGlvbicgJiYgbmFtZSAhPT0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJykge1xuXHRcdGlmIChuYW1lICE9PSAobmFtZSA9IG5hbWUucmVwbGFjZSgvXnhsaW5rOj8vLCAnJykpKSB7XG5cdFx0XHRpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0ZG9tLnJlbW92ZUF0dHJpYnV0ZU5TKFxuXHRcdFx0XHRcdCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyxcblx0XHRcdFx0XHRuYW1lLnRvTG93ZXJDYXNlKClcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvbS5zZXRBdHRyaWJ1dGVOUyhcblx0XHRcdFx0XHQnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsXG5cdFx0XHRcdFx0bmFtZS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0XHRcdHZhbHVlXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdHZhbHVlID09IG51bGwgfHxcblx0XHRcdCh2YWx1ZSA9PT0gZmFsc2UgJiZcblx0XHRcdFx0Ly8gQVJJQS1hdHRyaWJ1dGVzIGhhdmUgYSBkaWZmZXJlbnQgbm90aW9uIG9mIGJvb2xlYW4gdmFsdWVzLlxuXHRcdFx0XHQvLyBUaGUgdmFsdWUgYGZhbHNlYCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYXR0cmlidXRlIG5vdFxuXHRcdFx0XHQvLyBleGlzdGluZyBvbiB0aGUgRE9NLCBzbyB3ZSBjYW4ndCByZW1vdmUgaXQuIEZvciBub24tYm9vbGVhblxuXHRcdFx0XHQvLyBBUklBLWF0dHJpYnV0ZXMgd2UgY291bGQgdHJlYXQgZmFsc2UgYXMgYSByZW1vdmFsLCBidXQgdGhlXG5cdFx0XHRcdC8vIGFtb3VudCBvZiBleGNlcHRpb25zIHdvdWxkIGNvc3QgdXMgdG9vIG1hbnkgYnl0ZXMuIE9uIHRvcCBvZlxuXHRcdFx0XHQvLyB0aGF0IG90aGVyIFZET00gZnJhbWV3b3JrcyBhbHNvIGFsd2F5cyBzdHJpbmdpZnkgYGZhbHNlYC5cblx0XHRcdFx0IS9eYXIvLnRlc3QobmFtZSkpXG5cdFx0KSB7XG5cdFx0XHRkb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkb20uc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBQcm94eSBhbiBldmVudCB0byBob29rZWQgZXZlbnQgaGFuZGxlcnNcbiAqIEBwYXJhbSB7RXZlbnR9IGUgVGhlIGV2ZW50IG9iamVjdCBmcm9tIHRoZSBicm93c2VyXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBldmVudFByb3h5KGUpIHtcblx0dGhpcy5fbGlzdGVuZXJzW2UudHlwZV0ob3B0aW9ucy5ldmVudCA/IG9wdGlvbnMuZXZlbnQoZSkgOiBlKTtcbn1cbiIsICJpbXBvcnQgeyBFTVBUWV9PQkosIEVNUFRZX0FSUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgRnJhZ21lbnQgfSBmcm9tICcuLi9jcmVhdGUtZWxlbWVudCc7XG5pbXBvcnQgeyBkaWZmQ2hpbGRyZW4sIHBsYWNlQ2hpbGQgfSBmcm9tICcuL2NoaWxkcmVuJztcbmltcG9ydCB7IGRpZmZQcm9wcywgc2V0UHJvcGVydHkgfSBmcm9tICcuL3Byb3BzJztcbmltcG9ydCB7IGFzc2lnbiwgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi4vb3B0aW9ucyc7XG5cbmZ1bmN0aW9uIHJlb3JkZXJDaGlsZHJlbihuZXdWTm9kZSwgb2xkRG9tLCBwYXJlbnREb20pIHtcblx0Zm9yIChsZXQgdG1wID0gMDsgdG1wIDwgbmV3Vk5vZGUuX2NoaWxkcmVuLmxlbmd0aDsgdG1wKyspIHtcblx0XHRjb25zdCB2bm9kZSA9IG5ld1ZOb2RlLl9jaGlsZHJlblt0bXBdO1xuXHRcdGlmICh2bm9kZSkge1xuXHRcdFx0dm5vZGUuX3BhcmVudCA9IG5ld1ZOb2RlO1xuXG5cdFx0XHRpZiAodm5vZGUuX2RvbSkge1xuXHRcdFx0XHRpZiAodHlwZW9mIHZub2RlLnR5cGUgPT0gJ2Z1bmN0aW9uJyAmJiB2bm9kZS5fY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdHJlb3JkZXJDaGlsZHJlbih2bm9kZSwgb2xkRG9tLCBwYXJlbnREb20pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0b2xkRG9tID0gcGxhY2VDaGlsZChcblx0XHRcdFx0XHRwYXJlbnREb20sXG5cdFx0XHRcdFx0dm5vZGUsXG5cdFx0XHRcdFx0dm5vZGUsXG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NoaWxkcmVuLFxuXHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0dm5vZGUuX2RvbSxcblx0XHRcdFx0XHRvbGREb21cblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAodHlwZW9mIG5ld1ZOb2RlLnR5cGUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9uZXh0RG9tID0gb2xkRG9tO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogRGlmZiB0d28gdmlydHVhbCBub2RlcyBhbmQgYXBwbHkgcHJvcGVyIGNoYW5nZXMgdG8gdGhlIERPTVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gcGFyZW50RG9tIFRoZSBwYXJlbnQgb2YgdGhlIERPTSBlbGVtZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gbmV3Vk5vZGUgVGhlIG5ldyB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBvbGRWTm9kZSBUaGUgb2xkIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGdsb2JhbENvbnRleHQgVGhlIGN1cnJlbnQgY29udGV4dCBvYmplY3QuIE1vZGlmaWVkIGJ5IGdldENoaWxkQ29udGV4dFxuICogQHBhcmFtIHtib29sZWFufSBpc1N2ZyBXaGV0aGVyIG9yIG5vdCB0aGlzIGVsZW1lbnQgaXMgYW4gU1ZHIG5vZGVcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnQ+fSBleGNlc3NEb21DaGlsZHJlblxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50Pn0gY29tbWl0UXVldWUgTGlzdCBvZiBjb21wb25lbnRzXG4gKiB3aGljaCBoYXZlIGNhbGxiYWNrcyB0byBpbnZva2UgaW4gY29tbWl0Um9vdFxuICogQHBhcmFtIHtFbGVtZW50IHwgVGV4dH0gb2xkRG9tIFRoZSBjdXJyZW50IGF0dGFjaGVkIERPTVxuICogZWxlbWVudCBhbnkgbmV3IGRvbSBlbGVtZW50cyBzaG91bGQgYmUgcGxhY2VkIGFyb3VuZC4gTGlrZWx5IGBudWxsYCBvbiBmaXJzdFxuICogcmVuZGVyIChleGNlcHQgd2hlbiBoeWRyYXRpbmcpLiBDYW4gYmUgYSBzaWJsaW5nIERPTSBlbGVtZW50IHdoZW4gZGlmZmluZ1xuICogRnJhZ21lbnRzIHRoYXQgaGF2ZSBzaWJsaW5ncy4gSW4gbW9zdCBjYXNlcywgaXQgc3RhcnRzIG91dCBhcyBgb2xkQ2hpbGRyZW5bMF0uX2RvbWAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0h5ZHJhdGluZ10gV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZihcblx0cGFyZW50RG9tLFxuXHRuZXdWTm9kZSxcblx0b2xkVk5vZGUsXG5cdGdsb2JhbENvbnRleHQsXG5cdGlzU3ZnLFxuXHRleGNlc3NEb21DaGlsZHJlbixcblx0Y29tbWl0UXVldWUsXG5cdG9sZERvbSxcblx0aXNIeWRyYXRpbmdcbikge1xuXHRsZXQgdG1wLFxuXHRcdG5ld1R5cGUgPSBuZXdWTm9kZS50eXBlO1xuXG5cdC8vIFdoZW4gcGFzc2luZyB0aHJvdWdoIGNyZWF0ZUVsZW1lbnQgaXQgYXNzaWducyB0aGUgb2JqZWN0XG5cdC8vIGNvbnN0cnVjdG9yIGFzIHVuZGVmaW5lZC4gVGhpcyB0byBwcmV2ZW50IEpTT04taW5qZWN0aW9uLlxuXHRpZiAobmV3Vk5vZGUuY29uc3RydWN0b3IgIT09IHVuZGVmaW5lZCkgcmV0dXJuIG51bGw7XG5cblx0aWYgKCh0bXAgPSBvcHRpb25zLl9kaWZmKSkgdG1wKG5ld1ZOb2RlKTtcblxuXHR0cnkge1xuXHRcdG91dGVyOiBpZiAodHlwZW9mIG5ld1R5cGUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0bGV0IGMsIGlzTmV3LCBvbGRQcm9wcywgb2xkU3RhdGUsIHNuYXBzaG90LCBjbGVhclByb2Nlc3NpbmdFeGNlcHRpb247XG5cdFx0XHRsZXQgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcztcblxuXHRcdFx0Ly8gTmVjZXNzYXJ5IGZvciBjcmVhdGVDb250ZXh0IGFwaS4gU2V0dGluZyB0aGlzIHByb3BlcnR5IHdpbGwgcGFzc1xuXHRcdFx0Ly8gdGhlIGNvbnRleHQgdmFsdWUgYXMgYHRoaXMuY29udGV4dGAganVzdCBmb3IgdGhpcyBjb21wb25lbnQuXG5cdFx0XHR0bXAgPSBuZXdUeXBlLmNvbnRleHRUeXBlO1xuXHRcdFx0bGV0IHByb3ZpZGVyID0gdG1wICYmIGdsb2JhbENvbnRleHRbdG1wLl9pZF07XG5cdFx0XHRsZXQgY29tcG9uZW50Q29udGV4dCA9IHRtcFxuXHRcdFx0XHQ/IHByb3ZpZGVyXG5cdFx0XHRcdFx0PyBwcm92aWRlci5wcm9wcy52YWx1ZVxuXHRcdFx0XHRcdDogdG1wLl9kZWZhdWx0VmFsdWVcblx0XHRcdFx0OiBnbG9iYWxDb250ZXh0O1xuXG5cdFx0XHQvLyBHZXQgY29tcG9uZW50IGFuZCBzZXQgaXQgdG8gYGNgXG5cdFx0XHRpZiAob2xkVk5vZGUuX2NvbXBvbmVudCkge1xuXHRcdFx0XHRjID0gbmV3Vk5vZGUuX2NvbXBvbmVudCA9IG9sZFZOb2RlLl9jb21wb25lbnQ7XG5cdFx0XHRcdGNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbiA9IGMuX3Byb2Nlc3NpbmdFeGNlcHRpb24gPSBjLl9wZW5kaW5nRXJyb3I7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBJbnN0YW50aWF0ZSB0aGUgbmV3IGNvbXBvbmVudFxuXHRcdFx0XHRpZiAoJ3Byb3RvdHlwZScgaW4gbmV3VHlwZSAmJiBuZXdUeXBlLnByb3RvdHlwZS5yZW5kZXIpIHtcblx0XHRcdFx0XHRuZXdWTm9kZS5fY29tcG9uZW50ID0gYyA9IG5ldyBuZXdUeXBlKG5ld1Byb3BzLCBjb21wb25lbnRDb250ZXh0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuZXctY2FwXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NvbXBvbmVudCA9IGMgPSBuZXcgQ29tcG9uZW50KG5ld1Byb3BzLCBjb21wb25lbnRDb250ZXh0KTtcblx0XHRcdFx0XHRjLmNvbnN0cnVjdG9yID0gbmV3VHlwZTtcblx0XHRcdFx0XHRjLnJlbmRlciA9IGRvUmVuZGVyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChwcm92aWRlcikgcHJvdmlkZXIuc3ViKGMpO1xuXG5cdFx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdFx0aWYgKCFjLnN0YXRlKSBjLnN0YXRlID0ge307XG5cdFx0XHRcdGMuY29udGV4dCA9IGNvbXBvbmVudENvbnRleHQ7XG5cdFx0XHRcdGMuX2dsb2JhbENvbnRleHQgPSBnbG9iYWxDb250ZXh0O1xuXHRcdFx0XHRpc05ldyA9IGMuX2RpcnR5ID0gdHJ1ZTtcblx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzID0gW107XG5cdFx0XHR9XG5cblx0XHRcdC8vIEludm9rZSBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcblx0XHRcdGlmIChjLl9uZXh0U3RhdGUgPT0gbnVsbCkge1xuXHRcdFx0XHRjLl9uZXh0U3RhdGUgPSBjLnN0YXRlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICE9IG51bGwpIHtcblx0XHRcdFx0aWYgKGMuX25leHRTdGF0ZSA9PSBjLnN0YXRlKSB7XG5cdFx0XHRcdFx0Yy5fbmV4dFN0YXRlID0gYXNzaWduKHt9LCBjLl9uZXh0U3RhdGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YXNzaWduKFxuXHRcdFx0XHRcdGMuX25leHRTdGF0ZSxcblx0XHRcdFx0XHRuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXdQcm9wcywgYy5fbmV4dFN0YXRlKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRvbGRQcm9wcyA9IGMucHJvcHM7XG5cdFx0XHRvbGRTdGF0ZSA9IGMuc3RhdGU7XG5cblx0XHRcdC8vIEludm9rZSBwcmUtcmVuZGVyIGxpZmVjeWNsZSBtZXRob2RzXG5cdFx0XHRpZiAoaXNOZXcpIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09IG51bGwgJiZcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxNb3VudCAhPSBudWxsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbE1vdW50KCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYy5jb21wb25lbnREaWRNb3VudCAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goYy5jb21wb25lbnREaWRNb3VudCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PSBudWxsICYmXG5cdFx0XHRcdFx0bmV3UHJvcHMgIT09IG9sZFByb3BzICYmXG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICE9IG51bGxcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBjb21wb25lbnRDb250ZXh0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQoIWMuX2ZvcmNlICYmXG5cdFx0XHRcdFx0XHRjLnNob3VsZENvbXBvbmVudFVwZGF0ZSAhPSBudWxsICYmXG5cdFx0XHRcdFx0XHRjLnNob3VsZENvbXBvbmVudFVwZGF0ZShcblx0XHRcdFx0XHRcdFx0bmV3UHJvcHMsXG5cdFx0XHRcdFx0XHRcdGMuX25leHRTdGF0ZSxcblx0XHRcdFx0XHRcdFx0Y29tcG9uZW50Q29udGV4dFxuXHRcdFx0XHRcdFx0KSA9PT0gZmFsc2UpIHx8XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX29yaWdpbmFsID09PSBvbGRWTm9kZS5fb3JpZ2luYWxcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Yy5wcm9wcyA9IG5ld1Byb3BzO1xuXHRcdFx0XHRcdGMuc3RhdGUgPSBjLl9uZXh0U3RhdGU7XG5cdFx0XHRcdFx0Ly8gTW9yZSBpbmZvIGFib3V0IHRoaXMgaGVyZTogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vSm92aURlQ3Jvb2NrL2JlYzVmMmNlOTM1NDRkMmU2MDcwZWY4ZTAwMzZlNGU4XG5cdFx0XHRcdFx0aWYgKG5ld1ZOb2RlLl9vcmlnaW5hbCAhPT0gb2xkVk5vZGUuX29yaWdpbmFsKSBjLl9kaXJ0eSA9IGZhbHNlO1xuXHRcdFx0XHRcdGMuX3Zub2RlID0gbmV3Vk5vZGU7XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2RvbSA9IG9sZFZOb2RlLl9kb207XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NoaWxkcmVuID0gb2xkVk5vZGUuX2NoaWxkcmVuO1xuXHRcdFx0XHRcdGlmIChjLl9yZW5kZXJDYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRjb21taXRRdWV1ZS5wdXNoKGMpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJlb3JkZXJDaGlsZHJlbihuZXdWTm9kZSwgb2xkRG9tLCBwYXJlbnREb20pO1xuXHRcdFx0XHRcdGJyZWFrIG91dGVyO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGMuY29tcG9uZW50V2lsbFVwZGF0ZSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsVXBkYXRlKG5ld1Byb3BzLCBjLl9uZXh0U3RhdGUsIGNvbXBvbmVudENvbnRleHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGMuY29tcG9uZW50RGlkVXBkYXRlICE9IG51bGwpIHtcblx0XHRcdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MucHVzaCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRjLmNvbXBvbmVudERpZFVwZGF0ZShvbGRQcm9wcywgb2xkU3RhdGUsIHNuYXBzaG90KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjLmNvbnRleHQgPSBjb21wb25lbnRDb250ZXh0O1xuXHRcdFx0Yy5wcm9wcyA9IG5ld1Byb3BzO1xuXHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblxuXHRcdFx0aWYgKCh0bXAgPSBvcHRpb25zLl9yZW5kZXIpKSB0bXAobmV3Vk5vZGUpO1xuXG5cdFx0XHRjLl9kaXJ0eSA9IGZhbHNlO1xuXHRcdFx0Yy5fdm5vZGUgPSBuZXdWTm9kZTtcblx0XHRcdGMuX3BhcmVudERvbSA9IHBhcmVudERvbTtcblxuXHRcdFx0dG1wID0gYy5yZW5kZXIoYy5wcm9wcywgYy5zdGF0ZSwgYy5jb250ZXh0KTtcblxuXHRcdFx0Ly8gSGFuZGxlIHNldFN0YXRlIGNhbGxlZCBpbiByZW5kZXIsIHNlZSAjMjU1M1xuXHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblxuXHRcdFx0aWYgKGMuZ2V0Q2hpbGRDb250ZXh0ICE9IG51bGwpIHtcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCA9IGFzc2lnbihhc3NpZ24oe30sIGdsb2JhbENvbnRleHQpLCBjLmdldENoaWxkQ29udGV4dCgpKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFpc05ldyAmJiBjLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlICE9IG51bGwpIHtcblx0XHRcdFx0c25hcHNob3QgPSBjLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKG9sZFByb3BzLCBvbGRTdGF0ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBpc1RvcExldmVsRnJhZ21lbnQgPVxuXHRcdFx0XHR0bXAgIT0gbnVsbCAmJiB0bXAudHlwZSA9PSBGcmFnbWVudCAmJiB0bXAua2V5ID09IG51bGw7XG5cdFx0XHRsZXQgcmVuZGVyUmVzdWx0ID0gaXNUb3BMZXZlbEZyYWdtZW50ID8gdG1wLnByb3BzLmNoaWxkcmVuIDogdG1wO1xuXG5cdFx0XHRkaWZmQ2hpbGRyZW4oXG5cdFx0XHRcdHBhcmVudERvbSxcblx0XHRcdFx0QXJyYXkuaXNBcnJheShyZW5kZXJSZXN1bHQpID8gcmVuZGVyUmVzdWx0IDogW3JlbmRlclJlc3VsdF0sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCxcblx0XHRcdFx0aXNTdmcsXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0b2xkRG9tLFxuXHRcdFx0XHRpc0h5ZHJhdGluZ1xuXHRcdFx0KTtcblxuXHRcdFx0Yy5iYXNlID0gbmV3Vk5vZGUuX2RvbTtcblxuXHRcdFx0aWYgKGMuX3JlbmRlckNhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRcdFx0Y29tbWl0UXVldWUucHVzaChjKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbikge1xuXHRcdFx0XHRjLl9wZW5kaW5nRXJyb3IgPSBjLl9wcm9jZXNzaW5nRXhjZXB0aW9uID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Yy5fZm9yY2UgPSBmYWxzZTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4gPT0gbnVsbCAmJlxuXHRcdFx0bmV3Vk5vZGUuX29yaWdpbmFsID09PSBvbGRWTm9kZS5fb3JpZ2luYWxcblx0XHQpIHtcblx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IG9sZFZOb2RlLl9jaGlsZHJlbjtcblx0XHRcdG5ld1ZOb2RlLl9kb20gPSBvbGRWTm9kZS5fZG9tO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRuZXdWTm9kZS5fZG9tID0gZGlmZkVsZW1lbnROb2Rlcyhcblx0XHRcdFx0b2xkVk5vZGUuX2RvbSxcblx0XHRcdFx0bmV3Vk5vZGUsXG5cdFx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0XHRnbG9iYWxDb250ZXh0LFxuXHRcdFx0XHRpc1N2Zyxcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0XHRpc0h5ZHJhdGluZ1xuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRpZiAoKHRtcCA9IG9wdGlvbnMuZGlmZmVkKSkgdG1wKG5ld1ZOb2RlKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdG5ld1ZOb2RlLl9vcmlnaW5hbCA9IG51bGw7XG5cdFx0b3B0aW9ucy5fY2F0Y2hFcnJvcihlLCBuZXdWTm9kZSwgb2xkVk5vZGUpO1xuXHR9XG5cblx0cmV0dXJuIG5ld1ZOb2RlLl9kb207XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50Pn0gY29tbWl0UXVldWUgTGlzdCBvZiBjb21wb25lbnRzXG4gKiB3aGljaCBoYXZlIGNhbGxiYWNrcyB0byBpbnZva2UgaW4gY29tbWl0Um9vdFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IHJvb3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbW1pdFJvb3QoY29tbWl0UXVldWUsIHJvb3QpIHtcblx0aWYgKG9wdGlvbnMuX2NvbW1pdCkgb3B0aW9ucy5fY29tbWl0KHJvb3QsIGNvbW1pdFF1ZXVlKTtcblxuXHRjb21taXRRdWV1ZS5zb21lKGMgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb21taXRRdWV1ZSA9IGMuX3JlbmRlckNhbGxiYWNrcztcblx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0Y29tbWl0UXVldWUuc29tZShjYiA9PiB7XG5cdFx0XHRcdGNiLmNhbGwoYyk7XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIGMuX3Zub2RlKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiAqIERpZmYgdHdvIHZpcnR1YWwgbm9kZXMgcmVwcmVzZW50aW5nIERPTSBlbGVtZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBkb20gVGhlIERPTSBlbGVtZW50IHJlcHJlc2VudGluZ1xuICogdGhlIHZpcnR1YWwgbm9kZXMgYmVpbmcgZGlmZmVkXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gbmV3Vk5vZGUgVGhlIG5ldyB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBvbGRWTm9kZSBUaGUgb2xkIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGdsb2JhbENvbnRleHQgVGhlIGN1cnJlbnQgY29udGV4dCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBET00gbm9kZSBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHsqfSBleGNlc3NEb21DaGlsZHJlblxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50Pn0gY29tbWl0UXVldWUgTGlzdCBvZiBjb21wb25lbnRzXG4gKiB3aGljaCBoYXZlIGNhbGxiYWNrcyB0byBpbnZva2UgaW4gY29tbWl0Um9vdFxuICogQHBhcmFtIHtib29sZWFufSBpc0h5ZHJhdGluZyBXaGV0aGVyIG9yIG5vdCB3ZSBhcmUgaW4gaHlkcmF0aW9uXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGRpZmZFbGVtZW50Tm9kZXMoXG5cdGRvbSxcblx0bmV3Vk5vZGUsXG5cdG9sZFZOb2RlLFxuXHRnbG9iYWxDb250ZXh0LFxuXHRpc1N2Zyxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRpc0h5ZHJhdGluZ1xuKSB7XG5cdGxldCBpO1xuXHRsZXQgb2xkUHJvcHMgPSBvbGRWTm9kZS5wcm9wcztcblx0bGV0IG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHM7XG5cblx0Ly8gVHJhY2tzIGVudGVyaW5nIGFuZCBleGl0aW5nIFNWRyBuYW1lc3BhY2Ugd2hlbiBkZXNjZW5kaW5nIHRocm91Z2ggdGhlIHRyZWUuXG5cdGlzU3ZnID0gbmV3Vk5vZGUudHlwZSA9PT0gJ3N2ZycgfHwgaXNTdmc7XG5cblx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRmb3IgKGkgPSAwOyBpIDwgZXhjZXNzRG9tQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGNoaWxkID0gZXhjZXNzRG9tQ2hpbGRyZW5baV07XG5cblx0XHRcdC8vIGlmIG5ld1ZOb2RlIG1hdGNoZXMgYW4gZWxlbWVudCBpbiBleGNlc3NEb21DaGlsZHJlbiBvciB0aGUgYGRvbWBcblx0XHRcdC8vIGFyZ3VtZW50IG1hdGNoZXMgYW4gZWxlbWVudCBpbiBleGNlc3NEb21DaGlsZHJlbiwgcmVtb3ZlIGl0IGZyb21cblx0XHRcdC8vIGV4Y2Vzc0RvbUNoaWxkcmVuIHNvIGl0IGlzbid0IGxhdGVyIHJlbW92ZWQgaW4gZGlmZkNoaWxkcmVuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGNoaWxkICE9IG51bGwgJiZcblx0XHRcdFx0KChuZXdWTm9kZS50eXBlID09PSBudWxsXG5cdFx0XHRcdFx0PyBjaGlsZC5ub2RlVHlwZSA9PT0gM1xuXHRcdFx0XHRcdDogY2hpbGQubG9jYWxOYW1lID09PSBuZXdWTm9kZS50eXBlKSB8fFxuXHRcdFx0XHRcdGRvbSA9PSBjaGlsZClcblx0XHRcdCkge1xuXHRcdFx0XHRkb20gPSBjaGlsZDtcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW5baV0gPSBudWxsO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoZG9tID09IG51bGwpIHtcblx0XHRpZiAobmV3Vk5vZGUudHlwZSA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld1Byb3BzKTtcblx0XHR9XG5cblx0XHRkb20gPSBpc1N2Z1xuXHRcdFx0PyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbmV3Vk5vZGUudHlwZSlcblx0XHRcdDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRuZXdWTm9kZS50eXBlLFxuXHRcdFx0XHRcdG5ld1Byb3BzLmlzICYmIHsgaXM6IG5ld1Byb3BzLmlzIH1cblx0XHRcdCAgKTtcblx0XHQvLyB3ZSBjcmVhdGVkIGEgbmV3IHBhcmVudCwgc28gbm9uZSBvZiB0aGUgcHJldmlvdXNseSBhdHRhY2hlZCBjaGlsZHJlbiBjYW4gYmUgcmV1c2VkOlxuXHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID0gbnVsbDtcblx0XHQvLyB3ZSBhcmUgY3JlYXRpbmcgYSBuZXcgbm9kZSwgc28gd2UgY2FuIGFzc3VtZSB0aGlzIGlzIGEgbmV3IHN1YnRyZWUgKGluIGNhc2Ugd2UgYXJlIGh5ZHJhdGluZyksIHRoaXMgZGVvcHRzIHRoZSBoeWRyYXRlXG5cdFx0aXNIeWRyYXRpbmcgPSBmYWxzZTtcblx0fVxuXG5cdGlmIChuZXdWTm9kZS50eXBlID09PSBudWxsKSB7XG5cdFx0aWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcyAmJiBkb20uZGF0YSAhPSBuZXdQcm9wcykge1xuXHRcdFx0ZG9tLmRhdGEgPSBuZXdQcm9wcztcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID0gRU1QVFlfQVJSLnNsaWNlLmNhbGwoZG9tLmNoaWxkTm9kZXMpO1xuXHRcdH1cblxuXHRcdG9sZFByb3BzID0gb2xkVk5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xuXG5cdFx0bGV0IG9sZEh0bWwgPSBvbGRQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTDtcblx0XHRsZXQgbmV3SHRtbCA9IG5ld1Byb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MO1xuXG5cdFx0Ly8gRHVyaW5nIGh5ZHJhdGlvbiwgcHJvcHMgYXJlIG5vdCBkaWZmZWQgYXQgYWxsIChpbmNsdWRpbmcgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpXG5cdFx0Ly8gQFRPRE8gd2Ugc2hvdWxkIHdhcm4gaW4gZGVidWcgbW9kZSB3aGVuIHByb3BzIGRvbid0IG1hdGNoIGhlcmUuXG5cdFx0aWYgKCFpc0h5ZHJhdGluZykge1xuXHRcdFx0Ly8gQnV0LCBpZiB3ZSBhcmUgaW4gYSBzaXR1YXRpb24gd2hlcmUgd2UgYXJlIHVzaW5nIGV4aXN0aW5nIERPTSAoZS5nLiByZXBsYWNlTm9kZSlcblx0XHRcdC8vIHdlIHNob3VsZCByZWFkIHRoZSBleGlzdGluZyBET00gYXR0cmlidXRlcyB0byBkaWZmIHRoZW1cblx0XHRcdGlmIChleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsKSB7XG5cdFx0XHRcdG9sZFByb3BzID0ge307XG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZG9tLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRvbGRQcm9wc1tkb20uYXR0cmlidXRlc1tpXS5uYW1lXSA9IGRvbS5hdHRyaWJ1dGVzW2ldLnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChuZXdIdG1sIHx8IG9sZEh0bWwpIHtcblx0XHRcdFx0Ly8gQXZvaWQgcmUtYXBwbHlpbmcgdGhlIHNhbWUgJ19faHRtbCcgaWYgaXQgZGlkIG5vdCBjaGFuZ2VkIGJldHdlZW4gcmUtcmVuZGVyXG5cdFx0XHRcdGlmICghbmV3SHRtbCB8fCAhb2xkSHRtbCB8fCBuZXdIdG1sLl9faHRtbCAhPSBvbGRIdG1sLl9faHRtbCkge1xuXHRcdFx0XHRcdGRvbS5pbm5lckhUTUwgPSAobmV3SHRtbCAmJiBuZXdIdG1sLl9faHRtbCkgfHwgJyc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRkaWZmUHJvcHMoZG9tLCBuZXdQcm9wcywgb2xkUHJvcHMsIGlzU3ZnLCBpc0h5ZHJhdGluZyk7XG5cblx0XHQvLyBJZiB0aGUgbmV3IHZub2RlIGRpZG4ndCBoYXZlIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLCBkaWZmIGl0cyBjaGlsZHJlblxuXHRcdGlmIChuZXdIdG1sKSB7XG5cdFx0XHRuZXdWTm9kZS5fY2hpbGRyZW4gPSBbXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aSA9IG5ld1ZOb2RlLnByb3BzLmNoaWxkcmVuO1xuXHRcdFx0ZGlmZkNoaWxkcmVuKFxuXHRcdFx0XHRkb20sXG5cdFx0XHRcdEFycmF5LmlzQXJyYXkoaSkgPyBpIDogW2ldLFxuXHRcdFx0XHRuZXdWTm9kZSxcblx0XHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRcdGdsb2JhbENvbnRleHQsXG5cdFx0XHRcdG5ld1ZOb2RlLnR5cGUgPT09ICdmb3JlaWduT2JqZWN0JyA/IGZhbHNlIDogaXNTdmcsXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0RU1QVFlfT0JKLFxuXHRcdFx0XHRpc0h5ZHJhdGluZ1xuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyAoYXMgYWJvdmUsIGRvbid0IGRpZmYgcHJvcHMgZHVyaW5nIGh5ZHJhdGlvbilcblx0XHRpZiAoIWlzSHlkcmF0aW5nKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCd2YWx1ZScgaW4gbmV3UHJvcHMgJiZcblx0XHRcdFx0KGkgPSBuZXdQcm9wcy52YWx1ZSkgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRpICE9PSBkb20udmFsdWVcblx0XHRcdCkge1xuXHRcdFx0XHRzZXRQcm9wZXJ0eShkb20sICd2YWx1ZScsIGksIG9sZFByb3BzLnZhbHVlLCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCdjaGVja2VkJyBpbiBuZXdQcm9wcyAmJlxuXHRcdFx0XHQoaSA9IG5ld1Byb3BzLmNoZWNrZWQpICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0aSAhPT0gZG9tLmNoZWNrZWRcblx0XHRcdCkge1xuXHRcdFx0XHRzZXRQcm9wZXJ0eShkb20sICdjaGVja2VkJywgaSwgb2xkUHJvcHMuY2hlY2tlZCwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkb207XG59XG5cbi8qKlxuICogSW52b2tlIG9yIHVwZGF0ZSBhIHJlZiwgZGVwZW5kaW5nIG9uIHdoZXRoZXIgaXQgaXMgYSBmdW5jdGlvbiBvciBvYmplY3QgcmVmLlxuICogQHBhcmFtIHtvYmplY3R8ZnVuY3Rpb259IHJlZlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5UmVmKHJlZiwgdmFsdWUsIHZub2RlKSB7XG5cdHRyeSB7XG5cdFx0aWYgKHR5cGVvZiByZWYgPT0gJ2Z1bmN0aW9uJykgcmVmKHZhbHVlKTtcblx0XHRlbHNlIHJlZi5jdXJyZW50ID0gdmFsdWU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIHZub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIFVubW91bnQgYSB2aXJ0dWFsIG5vZGUgZnJvbSB0aGUgdHJlZSBhbmQgYXBwbHkgRE9NIGNoYW5nZXNcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdmlydHVhbCBub2RlIHRvIHVubW91bnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBwYXJlbnRWTm9kZSBUaGUgcGFyZW50IG9mIHRoZSBWTm9kZSB0aGF0XG4gKiBpbml0aWF0ZWQgdGhlIHVubW91bnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBSZW1vdmVdIEZsYWcgdGhhdCBpbmRpY2F0ZXMgdGhhdCBhIHBhcmVudCBub2RlIG9mIHRoZVxuICogY3VycmVudCBlbGVtZW50IGlzIGFscmVhZHkgZGV0YWNoZWQgZnJvbSB0aGUgRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5tb3VudCh2bm9kZSwgcGFyZW50Vk5vZGUsIHNraXBSZW1vdmUpIHtcblx0bGV0IHI7XG5cdGlmIChvcHRpb25zLnVubW91bnQpIG9wdGlvbnMudW5tb3VudCh2bm9kZSk7XG5cblx0aWYgKChyID0gdm5vZGUucmVmKSkge1xuXHRcdGlmICghci5jdXJyZW50IHx8IHIuY3VycmVudCA9PT0gdm5vZGUuX2RvbSkgYXBwbHlSZWYociwgbnVsbCwgcGFyZW50Vk5vZGUpO1xuXHR9XG5cblx0bGV0IGRvbTtcblx0aWYgKCFza2lwUmVtb3ZlICYmIHR5cGVvZiB2bm9kZS50eXBlICE9ICdmdW5jdGlvbicpIHtcblx0XHRza2lwUmVtb3ZlID0gKGRvbSA9IHZub2RlLl9kb20pICE9IG51bGw7XG5cdH1cblxuXHQvLyBNdXN0IGJlIHNldCB0byBgdW5kZWZpbmVkYCB0byBwcm9wZXJseSBjbGVhbiB1cCBgX25leHREb21gXG5cdC8vIGZvciB3aGljaCBgbnVsbGAgaXMgYSB2YWxpZCB2YWx1ZS4gU2VlIGNvbW1lbnQgaW4gYGNyZWF0ZS1lbGVtZW50LmpzYFxuXHR2bm9kZS5fZG9tID0gdm5vZGUuX25leHREb20gPSB1bmRlZmluZWQ7XG5cblx0aWYgKChyID0gdm5vZGUuX2NvbXBvbmVudCkgIT0gbnVsbCkge1xuXHRcdGlmIChyLmNvbXBvbmVudFdpbGxVbm1vdW50KSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgcGFyZW50Vk5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHIuYmFzZSA9IHIuX3BhcmVudERvbSA9IG51bGw7XG5cdH1cblxuXHRpZiAoKHIgPSB2bm9kZS5fY2hpbGRyZW4pKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAocltpXSkgdW5tb3VudChyW2ldLCBwYXJlbnRWTm9kZSwgc2tpcFJlbW92ZSk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGRvbSAhPSBudWxsKSByZW1vdmVOb2RlKGRvbSk7XG59XG5cbi8qKiBUaGUgYC5yZW5kZXIoKWAgbWV0aG9kIGZvciBhIFBGQyBiYWNraW5nIGluc3RhbmNlLiAqL1xuZnVuY3Rpb24gZG9SZW5kZXIocHJvcHMsIHN0YXRlLCBjb250ZXh0KSB7XG5cdHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KTtcbn1cbiIsICJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgRU1QVFlfQVJSIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY3JlYXRlVk5vZGUgfSBmcm9tICcuL2NyZWF0ZS1lbGVtZW50JztcblxuLyoqXG4gKiBDbG9uZXMgdGhlIGdpdmVuIFZOb2RlLCBvcHRpb25hbGx5IGFkZGluZyBhdHRyaWJ1dGVzL3Byb3BzIGFuZCByZXBsYWNpbmcgaXRzIGNoaWxkcmVuLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGUgVGhlIHZpcnR1YWwgRE9NIGVsZW1lbnQgdG8gY2xvbmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBBdHRyaWJ1dGVzL3Byb3BzIHRvIGFkZCB3aGVuIGNsb25pbmdcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuL2luZGV4JykuQ29tcG9uZW50Q2hpbGRyZW4+fSByZXN0IEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyB3aWxsIGJlIHVzZWQgYXMgcmVwbGFjZW1lbnQgY2hpbGRyZW4uXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUVsZW1lbnQodm5vZGUsIHByb3BzKSB7XG5cdHByb3BzID0gYXNzaWduKGFzc2lnbih7fSwgdm5vZGUucHJvcHMpLCBwcm9wcyk7XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikgcHJvcHMuY2hpbGRyZW4gPSBFTVBUWV9BUlIuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuXHRsZXQgbm9ybWFsaXplZFByb3BzID0ge307XG5cdGZvciAoY29uc3QgaSBpbiBwcm9wcykge1xuXHRcdGlmIChpICE9PSAna2V5JyAmJiBpICE9PSAncmVmJykgbm9ybWFsaXplZFByb3BzW2ldID0gcHJvcHNbaV07XG5cdH1cblxuXHRyZXR1cm4gY3JlYXRlVk5vZGUoXG5cdFx0dm5vZGUudHlwZSxcblx0XHRub3JtYWxpemVkUHJvcHMsXG5cdFx0cHJvcHMua2V5IHx8IHZub2RlLmtleSxcblx0XHRwcm9wcy5yZWYgfHwgdm5vZGUucmVmLFxuXHRcdG51bGxcblx0KTtcbn1cbiIsICJpbXBvcnQgeyBlbnF1ZXVlUmVuZGVyIH0gZnJvbSAnLi4vY29tcG9uZW50JztcblxuLyoqXG4gKiBGaW5kIHRoZSBjbG9zZXN0IGVycm9yIGJvdW5kYXJ5IHRvIGEgdGhyb3duIGVycm9yIGFuZCBjYWxsIGl0XG4gKiBAcGFyYW0ge29iamVjdH0gZXJyb3IgVGhlIHRocm93biB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IHZub2RlIFRoZSB2bm9kZSB0aGF0IHRocmV3XG4gKiB0aGUgZXJyb3IgdGhhdCB3YXMgY2F1Z2h0IChleGNlcHQgZm9yIHVubW91bnRpbmcgd2hlbiB0aGlzIHBhcmFtZXRlclxuICogaXMgdGhlIGhpZ2hlc3QgcGFyZW50IHRoYXQgd2FzIGJlaW5nIHVubW91bnRlZClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9jYXRjaEVycm9yKGVycm9yLCB2bm9kZSkge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnR9ICovXG5cdGxldCBjb21wb25lbnQsIGhhc0NhdWdodDtcblxuXHRmb3IgKDsgKHZub2RlID0gdm5vZGUuX3BhcmVudCk7ICkge1xuXHRcdGlmICgoY29tcG9uZW50ID0gdm5vZGUuX2NvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5fcHJvY2Vzc2luZ0V4Y2VwdGlvbikge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGNvbXBvbmVudC5jb25zdHJ1Y3RvciAmJlxuXHRcdFx0XHRcdGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgIT0gbnVsbFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRoYXNDYXVnaHQgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbXBvbmVudC5zZXRTdGF0ZShcblx0XHRcdFx0XHRcdGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkQ2F0Y2ggIT0gbnVsbCkge1xuXHRcdFx0XHRcdGhhc0NhdWdodCA9IHRydWU7XG5cdFx0XHRcdFx0Y29tcG9uZW50LmNvbXBvbmVudERpZENhdGNoKGVycm9yKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChoYXNDYXVnaHQpXG5cdFx0XHRcdFx0cmV0dXJuIGVucXVldWVSZW5kZXIoKGNvbXBvbmVudC5fcGVuZGluZ0Vycm9yID0gY29tcG9uZW50KSk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGVycm9yID0gZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHR0aHJvdyBlcnJvcjtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gaW5qZWN0Q3NzKGNzczogc3RyaW5nKSB7XG4gIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIGNvbnN0IHN0eWxlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gIHN0eWxlRWwuYXBwZW5kQ2hpbGQoc3R5bGVUZXh0KTtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbn1cbiIsICIvLyBET00gcHJvcGVydGllcyB0aGF0IHNob3VsZCBOT1QgaGF2ZSBcInB4XCIgYWRkZWQgd2hlbiBudW1lcmljXG5leHBvcnQgY29uc3QgSVNfTk9OX0RJTUVOU0lPTkFMID0gL2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8Xi0tL2k7XG5cbmV4cG9ydCBsZXQgZW5jb2RlRW50aXRpZXMgPSBzID0+IFN0cmluZyhzKVxuXHQucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuXHQucmVwbGFjZSgvPC9nLCAnJmx0OycpXG5cdC5yZXBsYWNlKC8+L2csICcmZ3Q7Jylcblx0LnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcblxuZXhwb3J0IGxldCBpbmRlbnQgPSAocywgY2hhcikgPT4gU3RyaW5nKHMpLnJlcGxhY2UoLyhcXG4rKS9nLCAnJDEnICsgKGNoYXIgfHwgJ1xcdCcpKTtcblxuZXhwb3J0IGxldCBpc0xhcmdlU3RyaW5nID0gKHMsIGxlbmd0aCwgaWdub3JlTGluZXMpID0+IChTdHJpbmcocykubGVuZ3RoPihsZW5ndGggfHwgNDApIHx8ICghaWdub3JlTGluZXMgJiYgU3RyaW5nKHMpLmluZGV4T2YoJ1xcbicpIT09LTEpIHx8IFN0cmluZyhzKS5pbmRleE9mKCc8JykhPT0tMSk7XG5cbmNvbnN0IEpTX1RPX0NTUyA9IHt9O1xuXG4vLyBDb252ZXJ0IGFuIE9iamVjdCBzdHlsZSB0byBhIENTU1RleHQgc3RyaW5nXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVPYmpUb0NzcyhzKSB7XG5cdGxldCBzdHIgPSAnJztcblx0Zm9yIChsZXQgcHJvcCBpbiBzKSB7XG5cdFx0bGV0IHZhbCA9IHNbcHJvcF07XG5cdFx0aWYgKHZhbCE9bnVsbCkge1xuXHRcdFx0aWYgKHN0cikgc3RyICs9ICcgJztcblx0XHRcdC8vIHN0ciArPSBqc1RvQ3NzKHByb3ApO1xuXHRcdFx0c3RyICs9IHByb3BbMF09PSctJyA/IHByb3AgOiAoSlNfVE9fQ1NTW3Byb3BdIHx8IChKU19UT19DU1NbcHJvcF0gPSBwcm9wLnJlcGxhY2UoLyhbQS1aXSkvZywnLSQxJykudG9Mb3dlckNhc2UoKSkpO1xuXHRcdFx0c3RyICs9ICc6ICc7XG5cdFx0XHRzdHIgKz0gdmFsO1xuXHRcdFx0aWYgKHR5cGVvZiB2YWw9PT0nbnVtYmVyJyAmJiBJU19OT05fRElNRU5TSU9OQUwudGVzdChwcm9wKT09PWZhbHNlKSB7XG5cdFx0XHRcdHN0ciArPSAncHgnO1xuXHRcdFx0fVxuXHRcdFx0c3RyICs9ICc7Jztcblx0XHR9XG5cdH1cblx0cmV0dXJuIHN0ciB8fCB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ29weSBhbGwgcHJvcGVydGllcyBmcm9tIGBwcm9wc2Agb250byBgb2JqYC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogT2JqZWN0IG9udG8gd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgY29waWVkLlxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIE9iamVjdCBmcm9tIHdoaWNoIHRvIGNvcHkgcHJvcGVydGllcy5cbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKG9iaiwgcHJvcHMpIHtcblx0Zm9yIChsZXQgaSBpbiBwcm9wcykgb2JqW2ldID0gcHJvcHNbaV07XG5cdHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogR2V0IGZsYXR0ZW5lZCBjaGlsZHJlbiBmcm9tIHRoZSBjaGlsZHJlbiBwcm9wXG4gKiBAcGFyYW0ge0FycmF5fSBhY2N1bXVsYXRvclxuICogQHBhcmFtIHthbnl9IGNoaWxkcmVuIEEgYHByb3BzLmNoaWxkcmVuYCBvcGFxdWUgb2JqZWN0LlxuICogQHJldHVybnMge0FycmF5fSBhY2N1bXVsYXRvclxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENoaWxkcmVuKGFjY3VtdWxhdG9yLCBjaGlsZHJlbikge1xuXHRpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcblx0XHRjaGlsZHJlbi5yZWR1Y2UoZ2V0Q2hpbGRyZW4sIGFjY3VtdWxhdG9yKTtcblx0fVxuXHRlbHNlIGlmIChjaGlsZHJlbiE9bnVsbCAmJiBjaGlsZHJlbiE9PWZhbHNlKSB7XG5cdFx0YWNjdW11bGF0b3IucHVzaChjaGlsZHJlbik7XG5cdH1cblx0cmV0dXJuIGFjY3VtdWxhdG9yO1xufVxuIiwgImltcG9ydCB7IGVuY29kZUVudGl0aWVzLCBpbmRlbnQsIGlzTGFyZ2VTdHJpbmcsIHN0eWxlT2JqVG9Dc3MsIGFzc2lnbiwgZ2V0Q2hpbGRyZW4gfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgb3B0aW9ucywgRnJhZ21lbnQsIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICdwcmVhY3QnO1xuXG5jb25zdCBTSEFMTE9XID0geyBzaGFsbG93OiB0cnVlIH07XG5cbi8vIGNvbXBvbmVudHMgd2l0aG91dCBuYW1lcywga2VwdCBhcyBhIGhhc2ggZm9yIGxhdGVyIGNvbXBhcmlzb24gdG8gcmV0dXJuIGNvbnNpc3RlbnQgVW5uYW1lZENvbXBvbmVudFhYIG5hbWVzLlxuY29uc3QgVU5OQU1FRCA9IFtdO1xuXG5jb25zdCBWT0lEX0VMRU1FTlRTID0gL14oYXJlYXxiYXNlfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtfHNvdXJjZXx0cmFja3x3YnIpJC87XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcblxuXG4vKiogUmVuZGVyIFByZWFjdCBKU1ggKyBDb21wb25lbnRzIHRvIGFuIEhUTUwgc3RyaW5nLlxuICpcdEBuYW1lIHJlbmRlclxuICpcdEBmdW5jdGlvblxuICpcdEBwYXJhbSB7Vk5vZGV9IHZub2RlXHRKU1ggVk5vZGUgdG8gcmVuZGVyLlxuICpcdEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dD17fV1cdE9wdGlvbmFsbHkgcGFzcyBhbiBpbml0aWFsIGNvbnRleHQgb2JqZWN0IHRocm91Z2ggdGhlIHJlbmRlciBwYXRoLlxuICpcdEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV1cdFJlbmRlcmluZyBvcHRpb25zXG4gKlx0QHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zaGFsbG93PWZhbHNlXVx0SWYgYHRydWVgLCByZW5kZXJzIG5lc3RlZCBDb21wb25lbnRzIGFzIEhUTUwgZWxlbWVudHMgKGA8Rm9vIGE9XCJiXCIgLz5gKS5cbiAqXHRAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnhtbD1mYWxzZV1cdFx0SWYgYHRydWVgLCB1c2VzIHNlbGYtY2xvc2luZyB0YWdzIGZvciBlbGVtZW50cyB3aXRob3V0IGNoaWxkcmVuLlxuICpcdEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucHJldHR5PWZhbHNlXVx0XHRJZiBgdHJ1ZWAsIGFkZHMgd2hpdGVzcGFjZSBmb3IgcmVhZGFiaWxpdHlcbiAqXHRAcGFyYW0ge1JlZ0V4fHVuZGVmaW5lZH0gW29wdGlvbnMudm9pZEVsZW1lbnRzXSAgICAgICBSZWdlRXggdGhhdCBtYXRjaGVzIGVsZW1lbnRzIHRoYXQgYXJlIGNvbnNpZGVyZWQgdm9pZCAoc2VsZi1jbG9zaW5nKVxuICovXG5yZW5kZXJUb1N0cmluZy5yZW5kZXIgPSByZW5kZXJUb1N0cmluZztcblxuXG4vKiogT25seSByZW5kZXIgZWxlbWVudHMsIGxlYXZpbmcgQ29tcG9uZW50cyBpbmxpbmUgYXMgYDxDb21wb25lbnROYW1lIC4uLiAvPmAuXG4gKlx0VGhpcyBtZXRob2QgaXMganVzdCBhIGNvbnZlbmllbmNlIGFsaWFzIGZvciBgcmVuZGVyKHZub2RlLCBjb250ZXh0LCB7IHNoYWxsb3c6dHJ1ZSB9KWBcbiAqXHRAbmFtZSBzaGFsbG93XG4gKlx0QGZ1bmN0aW9uXG4gKlx0QHBhcmFtIHtWTm9kZX0gdm5vZGVcdEpTWCBWTm9kZSB0byByZW5kZXIuXG4gKlx0QHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXt9XVx0T3B0aW9uYWxseSBwYXNzIGFuIGluaXRpYWwgY29udGV4dCBvYmplY3QgdGhyb3VnaCB0aGUgcmVuZGVyIHBhdGguXG4gKi9cbmxldCBzaGFsbG93UmVuZGVyID0gKHZub2RlLCBjb250ZXh0KSA9PiByZW5kZXJUb1N0cmluZyh2bm9kZSwgY29udGV4dCwgU0hBTExPVyk7XG5cblxuLyoqIFRoZSBkZWZhdWx0IGV4cG9ydCBpcyBhbiBhbGlhcyBvZiBgcmVuZGVyKClgLiAqL1xuZnVuY3Rpb24gcmVuZGVyVG9TdHJpbmcodm5vZGUsIGNvbnRleHQsIG9wdHMsIGlubmVyLCBpc1N2Z01vZGUsIHNlbGVjdFZhbHVlKSB7XG5cdGlmICh2bm9kZT09bnVsbCB8fCB0eXBlb2Ygdm5vZGU9PT0nYm9vbGVhbicpIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHQvLyB3cmFwIGFycmF5IG5vZGVzIGluIEZyYWdtZW50XG5cdGlmIChBcnJheS5pc0FycmF5KHZub2RlKSkge1xuXHRcdHZub2RlID0gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgdm5vZGUpO1xuXHR9XG5cblx0bGV0IG5vZGVOYW1lID0gdm5vZGUudHlwZSxcblx0XHRwcm9wcyA9IHZub2RlLnByb3BzLFxuXHRcdGlzQ29tcG9uZW50ID0gZmFsc2U7XG5cdGNvbnRleHQgPSBjb250ZXh0IHx8IHt9O1xuXHRvcHRzID0gb3B0cyB8fCB7fTtcblxuXHRsZXQgcHJldHR5ID0gb3B0cy5wcmV0dHksXG5cdFx0aW5kZW50Q2hhciA9IHByZXR0eSAmJiB0eXBlb2YgcHJldHR5PT09J3N0cmluZycgPyBwcmV0dHkgOiAnXFx0JztcblxuXHQvLyAjdGV4dCBub2Rlc1xuXHRpZiAodHlwZW9mIHZub2RlIT09J29iamVjdCcgJiYgIW5vZGVOYW1lKSB7XG5cdFx0cmV0dXJuIGVuY29kZUVudGl0aWVzKHZub2RlKTtcblx0fVxuXG5cdC8vIGNvbXBvbmVudHNcblx0aWYgKHR5cGVvZiBub2RlTmFtZT09PSdmdW5jdGlvbicpIHtcblx0XHRpc0NvbXBvbmVudCA9IHRydWU7XG5cdFx0aWYgKG9wdHMuc2hhbGxvdyAmJiAoaW5uZXIgfHwgb3B0cy5yZW5kZXJSb290Q29tcG9uZW50PT09ZmFsc2UpKSB7XG5cdFx0XHRub2RlTmFtZSA9IGdldENvbXBvbmVudE5hbWUobm9kZU5hbWUpO1xuXHRcdH1cblx0XHRlbHNlIGlmIChub2RlTmFtZT09PUZyYWdtZW50KSB7XG5cdFx0XHRsZXQgcmVuZGVyZWQgPSAnJztcblx0XHRcdGxldCBjaGlsZHJlbiA9IFtdO1xuXHRcdFx0Z2V0Q2hpbGRyZW4oY2hpbGRyZW4sIHZub2RlLnByb3BzLmNoaWxkcmVuKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRyZW5kZXJlZCArPSAoaSA+IDAgJiYgcHJldHR5ID8gJ1xcbicgOiAnJykgKyByZW5kZXJUb1N0cmluZyhjaGlsZHJlbltpXSwgY29udGV4dCwgb3B0cywgb3B0cy5zaGFsbG93SGlnaE9yZGVyIT09ZmFsc2UsIGlzU3ZnTW9kZSwgc2VsZWN0VmFsdWUpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlbmRlcmVkO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGxldCByZW5kZXJlZDtcblxuXHRcdFx0bGV0IGMgPSB2bm9kZS5fX2MgPSB7XG5cdFx0XHRcdF9fdjogdm5vZGUsXG5cdFx0XHRcdGNvbnRleHQsXG5cdFx0XHRcdHByb3BzOiB2bm9kZS5wcm9wcyxcblx0XHRcdFx0Ly8gc2lsZW50bHkgZHJvcCBzdGF0ZSB1cGRhdGVzXG5cdFx0XHRcdHNldFN0YXRlOiBub29wLFxuXHRcdFx0XHRmb3JjZVVwZGF0ZTogbm9vcCxcblx0XHRcdFx0Ly8gaG9va3Ncblx0XHRcdFx0X19oOiBbXVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gb3B0aW9ucy5yZW5kZXJcblx0XHRcdGlmIChvcHRpb25zLl9fcikgb3B0aW9ucy5fX3Iodm5vZGUpO1xuXG5cdFx0XHRpZiAoIW5vZGVOYW1lLnByb3RvdHlwZSB8fCB0eXBlb2Ygbm9kZU5hbWUucHJvdG90eXBlLnJlbmRlciE9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0Ly8gTmVjZXNzYXJ5IGZvciBjcmVhdGVDb250ZXh0IGFwaS4gU2V0dGluZyB0aGlzIHByb3BlcnR5IHdpbGwgcGFzc1xuXHRcdFx0XHQvLyB0aGUgY29udGV4dCB2YWx1ZSBhcyBgdGhpcy5jb250ZXh0YCBqdXN0IGZvciB0aGlzIGNvbXBvbmVudC5cblx0XHRcdFx0bGV0IGN4VHlwZSA9IG5vZGVOYW1lLmNvbnRleHRUeXBlO1xuXHRcdFx0XHRsZXQgcHJvdmlkZXIgPSBjeFR5cGUgJiYgY29udGV4dFtjeFR5cGUuX19jXTtcblx0XHRcdFx0bGV0IGNjdHggPSBjeFR5cGUgIT0gbnVsbCA/IChwcm92aWRlciA/IHByb3ZpZGVyLnByb3BzLnZhbHVlIDogY3hUeXBlLl9fKSA6IGNvbnRleHQ7XG5cblx0XHRcdFx0Ly8gc3RhdGVsZXNzIGZ1bmN0aW9uYWwgY29tcG9uZW50c1xuXHRcdFx0XHRyZW5kZXJlZCA9IG5vZGVOYW1lLmNhbGwodm5vZGUuX19jLCBwcm9wcywgY2N0eCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Ly8gY2xhc3MtYmFzZWQgY29tcG9uZW50c1xuXHRcdFx0XHRsZXQgY3hUeXBlID0gbm9kZU5hbWUuY29udGV4dFR5cGU7XG5cdFx0XHRcdGxldCBwcm92aWRlciA9IGN4VHlwZSAmJiBjb250ZXh0W2N4VHlwZS5fX2NdO1xuXHRcdFx0XHRsZXQgY2N0eCA9IGN4VHlwZSAhPSBudWxsID8gKHByb3ZpZGVyID8gcHJvdmlkZXIucHJvcHMudmFsdWUgOiBjeFR5cGUuX18pIDogY29udGV4dDtcblxuXHRcdFx0XHQvLyBjID0gbmV3IG5vZGVOYW1lKHByb3BzLCBjb250ZXh0KTtcblx0XHRcdFx0YyA9IHZub2RlLl9fYyA9IG5ldyBub2RlTmFtZShwcm9wcywgY2N0eCk7XG5cdFx0XHRcdGMuX192ID0gdm5vZGU7XG5cdFx0XHRcdC8vIHR1cm4gb2ZmIHN0YXRlZnVsIHJlLXJlbmRlcmluZzpcblx0XHRcdFx0Yy5fZGlydHkgPSBjLl9fZCA9IHRydWU7XG5cdFx0XHRcdGMucHJvcHMgPSBwcm9wcztcblx0XHRcdFx0aWYgKGMuc3RhdGU9PW51bGwpIGMuc3RhdGUgPSB7fTtcblxuXHRcdFx0XHRpZiAoYy5fbmV4dFN0YXRlPT1udWxsICYmIGMuX19zPT1udWxsKSB7XG5cdFx0XHRcdFx0Yy5fbmV4dFN0YXRlID0gYy5fX3MgPSBjLnN0YXRlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Yy5jb250ZXh0ID0gY2N0eDtcblx0XHRcdFx0aWYgKG5vZGVOYW1lLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcykgYy5zdGF0ZSA9IGFzc2lnbihhc3NpZ24oe30sIGMuc3RhdGUpLCBub2RlTmFtZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoYy5wcm9wcywgYy5zdGF0ZSkpO1xuXHRcdFx0XHRlbHNlIGlmIChjLmNvbXBvbmVudFdpbGxNb3VudCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbE1vdW50KCk7XG5cblx0XHRcdFx0XHQvLyBJZiB0aGUgdXNlciBjYWxsZWQgc2V0U3RhdGUgaW4gY1dNIHdlIG5lZWQgdG8gZmx1c2ggcGVuZGluZyxcblx0XHRcdFx0XHQvLyBzdGF0ZSB1cGRhdGVzLiBUaGlzIGlzIHRoZSBzYW1lIGJlaGF2aW91ciBpbiBSZWFjdC5cblx0XHRcdFx0XHRjLnN0YXRlID0gYy5fbmV4dFN0YXRlICE9PSBjLnN0YXRlXG5cdFx0XHRcdFx0XHQ/IGMuX25leHRTdGF0ZSA6IGMuX19zIT09Yy5zdGF0ZVxuXHRcdFx0XHRcdFx0XHQ/IGMuX19zIDogYy5zdGF0ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlbmRlcmVkID0gYy5yZW5kZXIoYy5wcm9wcywgYy5zdGF0ZSwgYy5jb250ZXh0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGMuZ2V0Q2hpbGRDb250ZXh0KSB7XG5cdFx0XHRcdGNvbnRleHQgPSBhc3NpZ24oYXNzaWduKHt9LCBjb250ZXh0KSwgYy5nZXRDaGlsZENvbnRleHQoKSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZW5kZXJUb1N0cmluZyhyZW5kZXJlZCwgY29udGV4dCwgb3B0cywgb3B0cy5zaGFsbG93SGlnaE9yZGVyIT09ZmFsc2UsIGlzU3ZnTW9kZSwgc2VsZWN0VmFsdWUpO1xuXHRcdH1cblx0fVxuXG5cdC8vIHJlbmRlciBKU1ggdG8gSFRNTFxuXHRsZXQgcyA9ICcnLCBwcm9wQ2hpbGRyZW4sIGh0bWw7XG5cblx0aWYgKHByb3BzKSB7XG5cdFx0bGV0IGF0dHJzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuXG5cdFx0Ly8gYWxsb3cgc29ydGluZyBsZXhpY29ncmFwaGljYWxseSBmb3IgbW9yZSBkZXRlcm1pbmlzbSAodXNlZnVsIGZvciB0ZXN0cywgc3VjaCBhcyB2aWEgcHJlYWN0LWpzeC1jaGFpKVxuXHRcdGlmIChvcHRzICYmIG9wdHMuc29ydEF0dHJpYnV0ZXM9PT10cnVlKSBhdHRycy5zb3J0KCk7XG5cblx0XHRmb3IgKGxldCBpPTA7IGk8YXR0cnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBuYW1lID0gYXR0cnNbaV0sXG5cdFx0XHRcdHYgPSBwcm9wc1tuYW1lXTtcblx0XHRcdGlmIChuYW1lPT09J2NoaWxkcmVuJykge1xuXHRcdFx0XHRwcm9wQ2hpbGRyZW4gPSB2O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG5hbWUubWF0Y2goL1tcXHNcXG5cXFxcLz0nXCJcXDA8Pl0vKSkgY29udGludWU7XG5cblx0XHRcdGlmICghKG9wdHMgJiYgb3B0cy5hbGxBdHRyaWJ1dGVzKSAmJiAobmFtZT09PSdrZXknIHx8IG5hbWU9PT0ncmVmJyB8fCBuYW1lPT09J19fc2VsZicgfHwgbmFtZT09PSdfX3NvdXJjZScpKSBjb250aW51ZTtcblxuXHRcdFx0aWYgKG5hbWU9PT0nY2xhc3NOYW1lJykge1xuXHRcdFx0XHRpZiAocHJvcHMuY2xhc3MpIGNvbnRpbnVlO1xuXHRcdFx0XHRuYW1lID0gJ2NsYXNzJztcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGlzU3ZnTW9kZSAmJiBuYW1lLm1hdGNoKC9eeGxpbms6Py4vKSkge1xuXHRcdFx0XHRuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL154bGluazo/LywgJ3hsaW5rOicpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobmFtZT09PSdodG1sRm9yJykge1xuXHRcdFx0XHRpZiAocHJvcHMuZm9yKSBjb250aW51ZTtcblx0XHRcdFx0bmFtZSA9ICdmb3InO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobmFtZT09PSdzdHlsZScgJiYgdiAmJiB0eXBlb2Ygdj09PSdvYmplY3QnKSB7XG5cdFx0XHRcdHYgPSBzdHlsZU9ialRvQ3NzKHYpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBhbHdheXMgdXNlIHN0cmluZyB2YWx1ZXMgaW5zdGVhZCBvZiBib29sZWFucyBmb3IgYXJpYSBhdHRyaWJ1dGVzXG5cdFx0XHQvLyBhbHNvIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJlYWN0anMvcHJlYWN0L3B1bGwvMjM0Ny9maWxlc1xuXHRcdFx0aWYgKG5hbWVbMF0gPT09ICdhJyAmJiBuYW1lWycxJ10gPT09ICdyJyAmJiB0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRcdHYgPSBTdHJpbmcodik7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBob29rZWQgPSBvcHRzLmF0dHJpYnV0ZUhvb2sgJiYgb3B0cy5hdHRyaWJ1dGVIb29rKG5hbWUsIHYsIGNvbnRleHQsIG9wdHMsIGlzQ29tcG9uZW50KTtcblx0XHRcdGlmIChob29rZWQgfHwgaG9va2VkPT09JycpIHtcblx0XHRcdFx0cyArPSBob29rZWQ7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobmFtZT09PSdkYW5nZXJvdXNseVNldElubmVySFRNTCcpIHtcblx0XHRcdFx0aHRtbCA9IHYgJiYgdi5fX2h0bWw7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChub2RlTmFtZSA9PT0gJ3RleHRhcmVhJyAmJiBuYW1lID09PSAndmFsdWUnKSB7XG5cdFx0XHRcdC8vIDx0ZXh0YXJlYSB2YWx1ZT1cImEmYlwiPiAtLT4gPHRleHRhcmVhPmEmYW1wO2I8L3RleHRhcmVhPlxuXHRcdFx0XHRwcm9wQ2hpbGRyZW4gPSB2O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoKHYgfHwgdj09PTAgfHwgdj09PScnKSAmJiB0eXBlb2YgdiE9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0aWYgKHY9PT10cnVlIHx8IHY9PT0nJykge1xuXHRcdFx0XHRcdHYgPSBuYW1lO1xuXHRcdFx0XHRcdC8vIGluIG5vbi14bWwgbW9kZSwgYWxsb3cgYm9vbGVhbiBhdHRyaWJ1dGVzXG5cdFx0XHRcdFx0aWYgKCFvcHRzIHx8ICFvcHRzLnhtbCkge1xuXHRcdFx0XHRcdFx0cyArPSAnICcgKyBuYW1lO1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG5hbWU9PT0ndmFsdWUnKSB7XG5cdFx0XHRcdFx0aWYgKG5vZGVOYW1lPT09J3NlbGVjdCcpIHtcblx0XHRcdFx0XHRcdHNlbGVjdFZhbHVlID0gdjtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmIChub2RlTmFtZT09PSdvcHRpb24nICYmIHNlbGVjdFZhbHVlPT12KSB7XG5cdFx0XHRcdFx0XHRzICs9IGAgc2VsZWN0ZWRgO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRzICs9IGAgJHtuYW1lfT1cIiR7ZW5jb2RlRW50aXRpZXModil9XCJgO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIGFjY291bnQgZm9yID4xIG11bHRpbGluZSBhdHRyaWJ1dGVcblx0aWYgKHByZXR0eSkge1xuXHRcdGxldCBzdWIgPSBzLnJlcGxhY2UoL15cXG5cXHMqLywgJyAnKTtcblx0XHRpZiAoc3ViIT09cyAmJiAhfnN1Yi5pbmRleE9mKCdcXG4nKSkgcyA9IHN1Yjtcblx0XHRlbHNlIGlmIChwcmV0dHkgJiYgfnMuaW5kZXhPZignXFxuJykpIHMgKz0gJ1xcbic7XG5cdH1cblxuXHRzID0gYDwke25vZGVOYW1lfSR7c30+YDtcblx0aWYgKFN0cmluZyhub2RlTmFtZSkubWF0Y2goL1tcXHNcXG5cXFxcLz0nXCJcXDA8Pl0vKSkgdGhyb3cgbmV3IEVycm9yKGAke25vZGVOYW1lfSBpcyBub3QgYSB2YWxpZCBIVE1MIHRhZyBuYW1lIGluICR7c31gKTtcblxuXHRsZXQgaXNWb2lkID0gU3RyaW5nKG5vZGVOYW1lKS5tYXRjaChWT0lEX0VMRU1FTlRTKSB8fCAob3B0cy52b2lkRWxlbWVudHMgJiYgU3RyaW5nKG5vZGVOYW1lKS5tYXRjaChvcHRzLnZvaWRFbGVtZW50cykpO1xuXHRpZiAoaXNWb2lkKSBzID0gcy5yZXBsYWNlKC8+JC8sICcgLz4nKTtcblxuXHRsZXQgcGllY2VzID0gW107XG5cblx0bGV0IGNoaWxkcmVuO1xuXHRpZiAoaHRtbCkge1xuXHRcdC8vIGlmIG11bHRpbGluZSwgaW5kZW50LlxuXHRcdGlmIChwcmV0dHkgJiYgaXNMYXJnZVN0cmluZyhodG1sKSkge1xuXHRcdFx0aHRtbCA9ICdcXG4nICsgaW5kZW50Q2hhciArIGluZGVudChodG1sLCBpbmRlbnRDaGFyKTtcblx0XHR9XG5cdFx0cyArPSBodG1sO1xuXHR9XG5cdGVsc2UgaWYgKHByb3BDaGlsZHJlbiAhPSBudWxsICYmIGdldENoaWxkcmVuKGNoaWxkcmVuID0gW10sIHByb3BDaGlsZHJlbikubGVuZ3RoKSB7XG5cdFx0bGV0IGhhc0xhcmdlID0gcHJldHR5ICYmIH5zLmluZGV4T2YoJ1xcbicpO1xuXHRcdGxldCBsYXN0V2FzVGV4dCA9IGZhbHNlO1xuXG5cdFx0Zm9yIChsZXQgaT0wOyBpPGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgY2hpbGQgPSBjaGlsZHJlbltpXTtcblxuXHRcdFx0aWYgKGNoaWxkIT1udWxsICYmIGNoaWxkIT09ZmFsc2UpIHtcblx0XHRcdFx0bGV0IGNoaWxkU3ZnTW9kZSA9IG5vZGVOYW1lPT09J3N2ZycgPyB0cnVlIDogbm9kZU5hbWU9PT0nZm9yZWlnbk9iamVjdCcgPyBmYWxzZSA6IGlzU3ZnTW9kZSxcblx0XHRcdFx0XHRyZXQgPSByZW5kZXJUb1N0cmluZyhjaGlsZCwgY29udGV4dCwgb3B0cywgdHJ1ZSwgY2hpbGRTdmdNb2RlLCBzZWxlY3RWYWx1ZSk7XG5cblx0XHRcdFx0aWYgKHByZXR0eSAmJiAhaGFzTGFyZ2UgJiYgaXNMYXJnZVN0cmluZyhyZXQpKSBoYXNMYXJnZSA9IHRydWU7XG5cblx0XHRcdFx0Ly8gU2tpcCBpZiB3ZSByZWNlaXZlZCBhbiBlbXB0eSBzdHJpbmdcblx0XHRcdFx0aWYgKHJldCkge1xuXHRcdFx0XHRcdGlmIChwcmV0dHkpIHtcblx0XHRcdFx0XHRcdGxldCBpc1RleHQgPSByZXQubGVuZ3RoID4gMCAmJiByZXRbMF0hPSc8JztcblxuXHRcdFx0XHRcdFx0Ly8gV2UgbWVyZ2UgYWRqYWNlbnQgdGV4dCBub2Rlcywgb3RoZXJ3aXNlIGVhY2ggcGllY2Ugd291bGQgYmUgcHJpbnRlZFxuXHRcdFx0XHRcdFx0Ly8gb24gYSBuZXcgbGluZS5cblx0XHRcdFx0XHRcdGlmIChsYXN0V2FzVGV4dCAmJiBpc1RleHQpIHtcblx0XHRcdFx0XHRcdFx0cGllY2VzW3BpZWNlcy5sZW5ndGggLTFdICs9IHJldDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRwaWVjZXMucHVzaChyZXQpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRsYXN0V2FzVGV4dCA9IGlzVGV4dDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRwaWVjZXMucHVzaChyZXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAocHJldHR5ICYmIGhhc0xhcmdlKSB7XG5cdFx0XHRmb3IgKGxldCBpPXBpZWNlcy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRcdHBpZWNlc1tpXSA9ICdcXG4nICsgaW5kZW50Q2hhciArIGluZGVudChwaWVjZXNbaV0sIGluZGVudENoYXIpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmIChwaWVjZXMubGVuZ3RoKSB7XG5cdFx0cyArPSBwaWVjZXMuam9pbignJyk7XG5cdH1cblx0ZWxzZSBpZiAob3B0cyAmJiBvcHRzLnhtbCkge1xuXHRcdHJldHVybiBzLnN1YnN0cmluZygwLCBzLmxlbmd0aC0xKSArICcgLz4nO1xuXHR9XG5cblx0aWYgKCFpc1ZvaWQpIHtcblx0XHRpZiAocHJldHR5ICYmIH5zLmluZGV4T2YoJ1xcbicpKSBzICs9ICdcXG4nO1xuXHRcdHMgKz0gYDwvJHtub2RlTmFtZX0+YDtcblx0fVxuXG5cdHJldHVybiBzO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKGNvbXBvbmVudCkge1xuXHRyZXR1cm4gY29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IGNvbXBvbmVudCE9PUZ1bmN0aW9uICYmIGNvbXBvbmVudC5uYW1lIHx8IGdldEZhbGxiYWNrQ29tcG9uZW50TmFtZShjb21wb25lbnQpO1xufVxuXG5mdW5jdGlvbiBnZXRGYWxsYmFja0NvbXBvbmVudE5hbWUoY29tcG9uZW50KSB7XG5cdGxldCBzdHIgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjb21wb25lbnQpLFxuXHRcdG5hbWUgPSAoc3RyLm1hdGNoKC9eXFxzKmZ1bmN0aW9uXFxzKyhbXiggXSspLykgfHwgJycpWzFdO1xuXHRpZiAoIW5hbWUpIHtcblx0XHQvLyBzZWFyY2ggZm9yIGFuIGV4aXN0aW5nIGluZGV4ZWQgbmFtZSBmb3IgdGhlIGdpdmVuIGNvbXBvbmVudDpcblx0XHRsZXQgaW5kZXggPSAtMTtcblx0XHRmb3IgKGxldCBpPVVOTkFNRUQubGVuZ3RoOyBpLS07ICkge1xuXHRcdFx0aWYgKFVOTkFNRURbaV09PT1jb21wb25lbnQpIHtcblx0XHRcdFx0aW5kZXggPSBpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gbm90IGZvdW5kLCBjcmVhdGUgYSBuZXcgaW5kZXhlZCBuYW1lOlxuXHRcdGlmIChpbmRleDwwKSB7XG5cdFx0XHRpbmRleCA9IFVOTkFNRUQucHVzaChjb21wb25lbnQpIC0gMTtcblx0XHR9XG5cdFx0bmFtZSA9IGBVbm5hbWVkQ29tcG9uZW50JHtpbmRleH1gO1xuXHR9XG5cdHJldHVybiBuYW1lO1xufVxucmVuZGVyVG9TdHJpbmcuc2hhbGxvd1JlbmRlciA9IHNoYWxsb3dSZW5kZXI7XG5cbmV4cG9ydCBkZWZhdWx0IHJlbmRlclRvU3RyaW5nO1xuXG5leHBvcnQge1xuXHRyZW5kZXJUb1N0cmluZyBhcyByZW5kZXIsXG5cdHJlbmRlclRvU3RyaW5nIGFzIHJlbmRlclRvU3RhdGljTWFya3VwLFxuXHRyZW5kZXJUb1N0cmluZyxcblx0c2hhbGxvd1JlbmRlclxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnQgKi9cbmltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgcmVuZGVyIGZyb20gXCJwcmVhY3QtcmVuZGVyLXRvLXN0cmluZ1wiO1xuaW1wb3J0IHsgdGV4dERhdGEsIEZyYW1lRGF0YUludGVyZmFjZSwgSVRleHRTdHlsZSB9IGZyb20gXCJ0eXBlc1wiO1xuXG4vLyBJbXBvcnQgQ1NTIGZpbGUgYXMgcGxhaW4gdGV4dCB2aWEgZXNidWlsZCBsb2FkZXIgb3B0aW9uXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgZW1iZWRDc3MgZnJvbSBcIi4vZW1iZWQuY3NzXCI7XG4vLyBAdHMtZXhwZWN0LWVycm9yXG5pbXBvcnQgZm9udHNDc3MgZnJvbSBcIi4vZm9udHMuY3NzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUlmcmFtZUh0bWwoYm9keTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGBcbiAgICA8IWRvY3R5cGUgaHRtbD5cbiAgICA8aHRtbD5cbiAgICAgIDxoZWFkPlxuICAgICAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCI+XG4gICAgICAgIDxzdHlsZT4gaHRtbCwgYm9keSB7IG1hcmdpbjogMDsgfSA8L3N0eWxlPlxuICAgICAgPC9oZWFkPlxuICAgICAgPGJvZHk+XG4gICAgICAgICR7Ym9keX1cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gIGA7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUGFyYWdyYXBoU3R5bGUoXG4gIG5vZGU6IHRleHREYXRhLFxuICBmcmFtZVdpZHRoOiBudW1iZXIsXG4gIGZyYW1lSGVpZ2h0OiBudW1iZXJcbikge1xuICBjb25zdCB7XG4gICAgeCxcbiAgICB5LFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB0ZXh0QWxpZ25Ib3Jpem9udGFsLFxuICAgIHRleHRBbGlnblZlcnRpY2FsLFxuICAgIGNvbnN0cmFpbnRzLFxuICB9ID0gbm9kZTtcblxuICAvLyBGSVhNRTogSEFDSyAtIEhUTUwgdGV4dCB3aWR0aHMgYXJlIGxhcmdlciB0aGFuIHRleHQgbm9kZSBpbiBmaWdtYSByZXN1bHRpbmdcbiAgLy8gaW4gd3JhcHBpbmcgdGV4dC4gTmVlZCBhIHNtYXJ0ZXIgd2F5IHRvIGNhbGN1bGF0ZSBhZGRpdGlvbiB3aWR0aCBiYXNlZFxuICAvLyBvbiBmb250LCBsZXR0ZXItc3BhY2luZyBhbmQgbnVtYmVyIG9mIGNoYXJhY3RlcnNcbiAgY29uc3QgQlVGRkVSID0gNDtcbiAgY29uc29sZS5sb2coXCJhbGlnbm1lbnRcIiwgdGV4dEFsaWduSG9yaXpvbnRhbCwgdGV4dEFsaWduVmVydGljYWwpO1xuXG4gIC8vIFBvc2l0aW9uIGNlbnRlciBhbGlnbmVkXG4gIGNvbnN0IGxlZnQgPSBgJHsoKHggKyB3aWR0aCAvIDIpIC8gZnJhbWVXaWR0aCkgKiAxMDB9JWA7XG4gIGNvbnN0IHRvcCA9IGAkeygoeSArIGhlaWdodCAvIDIpIC8gZnJhbWVIZWlnaHQpICogMTAwfSVgO1xuXG4gIC8vIFRPRE86IEFkZCBzZW5zaWJsZSBsb2dpYyBmb3IgdmVydGljYWwgYWxpZ25tZW50IGluIHJlc3BvbnNpdmUgdmlld1xuICBjb25zdCBhbGlnblZlcnRpY2FsID0gXCJjZW50ZXJcIjtcbiAgLy8gc3dpdGNoIChjb25zdHJhaW50cy52ZXJ0aWNhbCkge1xuICAvLyAgIGNhc2UgXCJNSU5cIjpcbiAgLy8gICAgIGFsaWduVmVydGljYWwgPSBcImZsZXgtc3RhcnRcIjtcbiAgLy8gICAgIGJyZWFrO1xuICAvLyAgIGNhc2UgXCJDRU5URVJcIjpcbiAgLy8gICAgIGFsaWduVmVydGljYWwgPSBcImNlbnRlclwiO1xuICAvLyAgICAgYnJlYWs7XG4gIC8vICAgY2FzZSBcIk1BWFwiOlxuICAvLyAgICAgYWxpZ25WZXJ0aWNhbCA9IFwiZmxleC1lbmRcIjtcbiAgLy8gICAgIGJyZWFrO1xuICAvLyB9XG5cbiAgbGV0IGFsaWduSG9yaXpvbnRhbCA9IFwiY2VudGVyXCI7XG4gIHN3aXRjaCAoY29uc3RyYWludHMuaG9yaXpvbnRhbCkge1xuICAgIGNhc2UgXCJNSU5cIjpcbiAgICAgIGFsaWduSG9yaXpvbnRhbCA9IFwiZmxleC1zdGFydFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkNFTlRFUlwiOlxuICAgICAgYWxpZ25Ib3Jpem9udGFsID0gXCJjZW50ZXJcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJNQVhcIjpcbiAgICAgIGFsaWduSG9yaXpvbnRhbCA9IFwiZmxleC1lbmRcIjtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIGBcbiAgICAgICAgd2lkdGg6ICR7KCh3aWR0aCArIEJVRkZFUikgLyBmcmFtZVdpZHRoKSAqIDEwMH0lO1xuICAgICAgICBoZWlnaHQ6ICR7KChoZWlnaHQgKyBCVUZGRVIpIC8gZnJhbWVIZWlnaHQpICogMTAwfSU7XG4gICAgICAgIGxlZnQ6ICR7bGVmdH07XG4gICAgICAgIHRvcDogJHt0b3B9O1xuICAgICAgICB0ZXh0LWFsaWduOiAke3RleHRBbGlnbkhvcml6b250YWwudG9Mb2NhbGVMb3dlckNhc2UoKX07XG4gICAgICAgIGFsaWduLWl0ZW1zOiAke2FsaWduVmVydGljYWx9O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6ICR7YWxpZ25Ib3Jpem9udGFsfVxuICAgICAgYDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTcGFuU3R5bGVzKHN0eWxlOiBJVGV4dFN0eWxlKTogc3RyaW5nIHtcbiAgY29uc3QgeyByLCBnLCBiIH0gPSBzdHlsZS5jb2xvdXI7XG4gIGNvbnN0IGNvbG91ciA9IGByZ2IoJHtyICogMjU1fSwgJHtnICogMjU1fSwgJHtiICogMjU1fSlgO1xuICBjb25zdCBmb250V2VpZ2h0ID1cbiAgICBzdHlsZS5mb250LnN0eWxlID09PSBcIkJvbGRcIiB8fCBzdHlsZS5mb250LnN0eWxlID09PSBcIlNlbWlib2xkXCIgPyA3MDAgOiA0MDA7XG5cbiAgLy8gSEFDSzogRml4IGxldHRlciBzcGFjaW5nIGZvbnQgcmVuZGVyaW5nIGJ5IGFkZGluZyBvZmZzZXRcbiAgbGV0IGxldHRlclNwYWNlT2Zmc2V0ID0gXCIwcHhcIjtcbiAgaWYgKHN0eWxlLmZvbnQuZmFtaWx5ID09PSBcIlRlbGVzYW5zIFRleHRcIikge1xuICAgIGxldHRlclNwYWNlT2Zmc2V0ID0gXCIwLjAyMmVtXCI7XG4gIH1cbiAgaWYgKHN0eWxlLmZvbnQuZmFtaWx5ID09PSBcIlRlbGVzYW5zIEFnYXRlXCIpIHtcbiAgICBsZXR0ZXJTcGFjZU9mZnNldCA9IFwiMC4wMTNlbVwiO1xuICB9XG5cbiAgcmV0dXJuIGBcbiAgICBsZXR0ZXItc3BhY2luZzogY2FsYygke3N0eWxlLmxldHRlclNwYWNlfSAtICR7bGV0dGVyU3BhY2VPZmZzZXR9KTtcbiAgICBsaW5lLWhlaWdodDogJHtzdHlsZS5saW5lSGVpZ2h0fTtcbiAgICBmb250LXNpemU6ICR7c3R5bGUuc2l6ZX1weDtcbiAgICBjb2xvcjogJHtjb2xvdXJ9O1xuICAgIGZvbnQtZmFtaWx5OiBcIiR7c3R5bGUuZm9udC5mYW1pbHl9XCI7XG4gICAgZm9udC13ZWlnaHQ6ICR7Zm9udFdlaWdodH07XG5gO1xufVxuXG50eXBlIFRleHRQcm9wcyA9IHtcbiAgbm9kZTogdGV4dERhdGE7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufTtcbmZ1bmN0aW9uIFRleHQocHJvcHM6IFRleHRQcm9wcykge1xuICBjb25zdCB7IG5vZGUsIHdpZHRoLCBoZWlnaHQgfSA9IHByb3BzO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPVwiZjJoX190ZXh0XCJcbiAgICAgIHN0eWxlPXtnZW5lcmF0ZVBhcmFncmFwaFN0eWxlKG5vZGUsIHdpZHRoLCBoZWlnaHQpfVxuICAgID5cbiAgICAgIDxwIGNsYXNzTmFtZT1cImYyaF9fdGV4dF9pbm5lclwiPlxuICAgICAgICB7bm9kZS5yYW5nZVN0eWxlcy5tYXAoKHN0eWxlKSA9PiAoXG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGtleT17c3R5bGUuY2hhcnN9XG4gICAgICAgICAgICBzdHlsZT17Z2VuZXJhdGVTcGFuU3R5bGVzKHN0eWxlKX1cbiAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICAgIF9faHRtbDogc3R5bGUuY2hhcnMucmVwbGFjZSgvXFxuL2csIFwiPGJyIC8+XCIpLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+PC9zcGFuPlxuICAgICAgICApKX1cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIHJlbmRlcklubGluZVByb3BzIHtcbiAgZnJhbWVzOiBGcmFtZURhdGFJbnRlcmZhY2VbXTtcbiAgc3ZnVGV4dDogc3RyaW5nO1xuICBoZWFkbGluZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc3ViaGVhZD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc291cmNlPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZXNwb25zaXZlOiBib29sZWFuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcklubGluZShwcm9wczogcmVuZGVySW5saW5lUHJvcHMpOiBzdHJpbmcge1xuICBjb25zdCB7IGZyYW1lcywgc3ZnVGV4dCwgaGVhZGxpbmUsIHN1YmhlYWQsIHNvdXJjZSwgcmVzcG9uc2l2ZSB9ID0gcHJvcHM7XG4gIGNvbnN0IG1lZGlhUXVlcnkgPSBnZW5yZWF0ZU1lZGlhUXVlcmllcyhmcmFtZXMpO1xuICBjb25zdCB0ZXh0Tm9kZXMgPSBbXTtcblxuICBmb3IgKGNvbnN0IGZyYW1lIG9mIGZyYW1lcykge1xuICAgIGNvbnN0IHROb2RlID0gKFxuICAgICAgPGRpdiBpZD17YHRleHRibG9jay0ke2ZyYW1lLmlkfWB9IGNsYXNzTmFtZT17ZnJhbWUudWlkfT5cbiAgICAgICAge2ZyYW1lLnRleHROb2Rlcy5tYXAoKG5vZGUpID0+IChcbiAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAga2V5PXtub2RlLmNoYXJhY3RlcnN9XG4gICAgICAgICAgICBub2RlPXtub2RlfVxuICAgICAgICAgICAgd2lkdGg9e2ZyYW1lLndpZHRofVxuICAgICAgICAgICAgaGVpZ2h0PXtmcmFtZS5oZWlnaHR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuXG4gICAgdGV4dE5vZGVzLnB1c2godE5vZGUpO1xuICB9XG5cbiAgY29uc3QgaHRtbCA9IHJlbmRlcihcbiAgICA8ZGl2IGNsYXNzTmFtZT17YGYyaF9fZW1iZWQgJHtyZXNwb25zaXZlID8gXCJmMmgtLXJlc3BvbnNpdmVcIiA6IFwiXCJ9YH0+XG4gICAgICA8c3R5bGVcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICBfX2h0bWw6IGBcbiAgICAgICAke2ZvbnRzQ3NzIGFzIHN0cmluZ31cbiAgICAgICAke2VtYmVkQ3NzIGFzIHN0cmluZ31cbiAgICAgICAke21lZGlhUXVlcnl9XG4gICAgICBgLFxuICAgICAgICB9fVxuICAgICAgPjwvc3R5bGU+XG5cbiAgICAgIHsoaGVhZGxpbmUgfHwgc3ViaGVhZCkgJiYgKFxuICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImYyaF9oZWFkZXJcIj5cbiAgICAgICAgICB7aGVhZGxpbmUgJiYgPGgxIGNsYXNzTmFtZT1cImYyaF9oZWFkbGluZVwiPntoZWFkbGluZX08L2gxPn1cbiAgICAgICAgICB7c3ViaGVhZCAmJiA8cCBjbGFzc05hbWU9XCJmMmhfc3ViYmhlYWRcIj5zdWJoZWFkPC9wPn1cbiAgICAgICAgPC9oZWFkZXI+XG4gICAgICApfVxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fd3JhcFwiIHN0eWxlPXtgcG9zaXRpb246IHJlbGF0aXZlO2B9PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19zdmdfY29udGFpbmVyXCJcbiAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IHN2Z1RleHQgfX1cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LW5vZGVzXCI+e3RleHROb2Rlc308L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7c291cmNlICYmIChcbiAgICAgICAgPGZvb3Rlcj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmMmhfc291cmNlXCI+e3NvdXJjZX08L3A+XG4gICAgICAgIDwvZm9vdGVyPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcblxuICByZXR1cm4gaHRtbDtcbn1cblxuZnVuY3Rpb24gZ2VucmVhdGVNZWRpYVF1ZXJpZXMoZnJhbWVzOiBGcmFtZURhdGFJbnRlcmZhY2VbXSkge1xuICAvLyBTb3J0IGZyYW1lcyBieSBhc2NlbmRpbmcgaGVpZ2h0LiBTbWFsbCA+IGJpZ1xuICBjb25zdCBzb3J0ZWRGcmFtZXMgPSBPYmplY3QudmFsdWVzKGZyYW1lcylcbiAgICAubWFwKCh7IHdpZHRoLCBoZWlnaHQsIHVpZCB9KSA9PiAoeyB3aWR0aCwgaGVpZ2h0LCB1aWQgfSkpXG4gICAgLnNvcnQoKGEsIGIpID0+IChhLndpZHRoIDwgYi53aWR0aCA/IC0xIDogMSkpO1xuXG4gIGNvbnN0IGxhcmdlc3RXaWR0aCA9IE1hdGgubWF4KC4uLnNvcnRlZEZyYW1lcy5tYXAoKHsgd2lkdGggfSkgPT4gd2lkdGgpKTtcblxuICBsZXQgY3NzVGV4dCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkRnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgeyB1aWQsIHdpZHRoLCBoZWlnaHQgfSA9IHNvcnRlZEZyYW1lc1tpXTtcblxuICAgIGlmIChpID09PSAwKSB7XG4gICAgICBjc3NUZXh0ICs9IGBcbiAgICAgICAgICAgIC5mMmhfX3N2Z19jb250YWluZXIsXG4gICAgICAgICAgICAuZjJoX193cmFwIHtcbiAgICAgICAgICAgICAgd2lkdGg6ICR7d2lkdGh9cHg7XG4gICAgICAgICAgICAgIGhlaWdodDogJHtoZWlnaHR9cHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5mMmgtLXJlc3BvbnNpdmUgLmYyaF9fc3ZnX2NvbnRhaW5lcixcbiAgICAgICAgICAgIC5mMmgtLXJlc3BvbnNpdmUgLmYyaF9fd3JhcFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAkeyhoZWlnaHQgLyB3aWR0aCkgKiAxMDB9dnc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5mMmgtLXJlc3BvbnNpdmUgc3ZnIHtcbiAgICAgICAgICAgICAgd2lkdGg6ICR7KGxhcmdlc3RXaWR0aCAvIHdpZHRoKSAqIDEwMH0lO1xuICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYDtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgY29uc3QgeyB1aWQ6IHByZXZJZCB9ID0gc29ydGVkRnJhbWVzW2kgLSAxXTtcbiAgICBjc3NUZXh0ICs9IGBcbiAgICAgIC8qIEhpZGUgdW50aWwgd2lkdGggaXMgcmVhY2hlZCAqL1xuICAgICAgQG1lZGlhIChtYXgtd2lkdGg6ICR7d2lkdGh9cHgpIHtcbiAgICAgICAgLiR7dWlkfSB7IGRpc3BsYXk6IG5vbmU7IH1cbiAgICAgIH1cblxuICAgICAgLyogSGlkZSBwcmV2aW91cyBhbmQgc2hvdyBjdXJyZW50IGZyYW1lICovXG4gICAgICBAbWVkaWEgKG1pbi13aWR0aDogJHt3aWR0aH1weCkge1xuICAgICAgICAuZjJoLS1yZXNwb25zaXZlIHN2ZyB7XG4gICAgICAgICAgd2lkdGg6ICR7KGxhcmdlc3RXaWR0aCAvIHdpZHRoKSAqIDEwMH0lO1xuICAgICAgICB9XG5cbiAgICAgICAgLiR7cHJldklkfSB7IGRpc3BsYXk6IG5vbmU7IH1cbiAgICAgICAgLiR7dWlkfSB7IGRpc3BsYXk6IGJsb2NrOyB9XG4gICAgICAgIC5mMmhfX3N2Z19jb250YWluZXIsXG4gICAgICAgIC5mMmhfX3dyYXAge1xuICAgICAgICAgIHdpZHRoOiAke3dpZHRofXB4O1xuICAgICAgICAgIGhlaWdodDogJHtoZWlnaHR9cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZjJoLS1yZXNwb25zaXZlIC5mMmhfX3N2Z19jb250YWluZXIsXG4gICAgICAgIC5mMmgtLXJlc3BvbnNpdmUgLmYyaF9fd3JhcCB7XG4gICAgICAgICAgaGVpZ2h0OiAkeyhoZWlnaHQgLyB3aWR0aCkgKiAxMDB9dnc7XG4gICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgYDtcbiAgfVxuXG4gIHJldHVybiBjc3NUZXh0O1xufVxuIiwgImV4cG9ydCBlbnVtIFNUQUdFUyB7XG4gIENIT09TRV9GUkFNRVMsXG4gIFJFU1BPTlNJVkVfUFJFVklFVyxcbiAgU0FWRV9PVVRQVVQsXG59XG5cbmV4cG9ydCBlbnVtIE1TR19FVkVOVFMge1xuICBGT1VORF9GUkFNRVMsXG4gIE5PX0ZSQU1FUyxcbiAgUkVOREVSLFxuICBDTE9TRSxcbiAgRVJST1IsXG4gIFVQREFURV9IRUFETElORVMsXG4gIENPTVBSRVNTX0lNQUdFLFxuICBHRVRfUk9PVF9GUkFNRVMsXG59XG5cbmV4cG9ydCBlbnVtIE9VVFBVVF9GT1JNQVRTIHtcbiAgSU5MSU5FLFxuICBJRlJBTUUsXG59XG5cbmV4cG9ydCBjb25zdCBVSV9URVhUID0ge1xuICBFUlJPUl9VTkVYUEVDVEVEOiBcIlVuZXhwZWN0ZWQgZXJyb3JcIixcbiAgRVJST1JfTUlTU0lOR19GUkFNRVM6IFwiTm8gZnJhbWVzIGZvdW5kLiBQbGVhc2UgYWRkIHNvbWUgZnJhbWVzIHRvIHRoZSBwYWdlLlwiLFxuICBXQVJOX05PX1RBUkdFVFM6IFwiU3RhbmRhcmQgZnJhbWVzIG5vdCBmb3VuZC4gUGxlYXNlIHNlbGVjdCB0YXJnZXQgZnJhbWVzLlwiLFxuICBXQVJOX1RPT19NQU5ZX1RBUkdFVFM6IFwiUGxlYXNlIHNlbGVjdCB0aHJlZSB0YXJnZXQgZnJhbWVzXCIsXG4gIElORk9fUFJFVklFVzogXCJQcmV2aWV3IGVhY2ggZnJhbWUgb3V0cHV0XCIsXG4gIFRJVExFX0NIT09TRV9GUkFNRTogXCJDaG9vc2Ugd2hpY2ggZnJhbWVzIHRvIGV4cG9ydFwiLFxuICBUSVRMRV9QUkVWSUVXOiBcIlByZXZpZXdcIixcbiAgVElUTEVfUkVTUE9OU0lWRV9QUkVWSUVXOiBcIlJlc3BvbnNpdmUgcHJldmlld1wiLFxuICBUSUxFX09VVFBVVDogXCJFeHBvcnRcIixcbiAgQlVUVE9OX05FWFQ6IFwiTmV4dFwiLFxuICBCVVRUT05fRE9XTkxPQUQ6IFwiRG93bmxvYWRcIixcbiAgQlVUVE9OX1BSRVZJT1VTOiBcIkJhY2tcIixcbn07XG5cbmV4cG9ydCBjb25zdCBGUkFNRV9XQVJOSU5HX1NJWkUgPSAzMDA7XG5cbmV4cG9ydCBlbnVtIEhFQURMSU5FX05PREVfTkFNRVMge1xuICBIRUFETElORSA9IFwiaGVhZGxpbmVcIixcbiAgU1VCSEVBRCA9IFwic3ViaGVhZFwiLFxuICBTT1VSQ0UgPSBcInNvdXJjZVwiLFxufVxuIiwgImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBkZWZsYXRlIH0gZnJvbSBcInBha29cIjtcbmltcG9ydCB7IFNUQUdFUywgVUlfVEVYVCwgRlJBTUVfV0FSTklOR19TSVpFIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gU3ZnSW5mb3JtYXRpb24ocHJvcHM6IHsgc3ZnTWFya3VwOiBzdHJpbmcgfSk6IGguSlNYLkVsZW1lbnQge1xuICBjb25zdCB7IHN2Z01hcmt1cCB9ID0gcHJvcHM7XG5cbiAgY29uc3QgZmlsZUtiU2l6ZSA9IHN2Z01hcmt1cC5sZW5ndGggLyAxMDAwO1xuICBjb25zdCBpc0ZpbGVMYXJnZSA9IGZpbGVLYlNpemUgPiBGUkFNRV9XQVJOSU5HX1NJWkU7XG4gIGxldCBmaWxlU2l6ZUNsYXNzTmFtZSA9IFwiZjJoX19maWxlX3NpemVcIjtcbiAgaWYgKGlzRmlsZUxhcmdlKSB7XG4gICAgZmlsZVNpemVDbGFzc05hbWUgKz0gXCIgZjJoX19maWxlX3NpemUgZjJoX19ub3RpY2UtLWVycm9yXCI7XG4gIH1cblxuICBjb25zdCBnemlwU2l6ZSA9IChkZWZsYXRlKHN2Z01hcmt1cCkuYnVmZmVyLmJ5dGVMZW5ndGggLyAxMDI0KS50b0ZpeGVkKDIpO1xuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwiZjJoX19pbmZvXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJmMmhfX2luZm9fbWV0YVwiPlxuICAgICAgICBGaWxlc2l6ZVxuICAgICAgICA8c3BhblxuICAgICAgICAgIGNsYXNzTmFtZT17ZmlsZVNpemVDbGFzc05hbWV9XG4gICAgICAgICAgdGl0bGU9e2BVbmNvbXByZXNzZWQgJHtmaWxlS2JTaXplLnRvRml4ZWQoMil9S0JgfVxuICAgICAgICA+XG4gICAgICAgICAge2d6aXBTaXplfUtCXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICA8L3A+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIZWFkZXJUaXRsZShwcm9wczogeyBzdGFnZTogU1RBR0VTIH0pOiBoLkpTWC5FbGVtZW50IHtcbiAgY29uc3QgeyBzdGFnZSB9ID0gcHJvcHM7XG5cbiAgbGV0IHRpdGxlID0gXCJcIjtcblxuICBzd2l0Y2ggKHN0YWdlKSB7XG4gICAgY2FzZSBTVEFHRVMuQ0hPT1NFX0ZSQU1FUzpcbiAgICAgIHRpdGxlID0gVUlfVEVYVC5USVRMRV9DSE9PU0VfRlJBTUU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU1RBR0VTLlJFU1BPTlNJVkVfUFJFVklFVzpcbiAgICAgIHRpdGxlID0gVUlfVEVYVC5USVRMRV9SRVNQT05TSVZFX1BSRVZJRVc7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU1RBR0VTLlNBVkVfT1VUUFVUOlxuICAgICAgdGl0bGUgPSBVSV9URVhULlRJTEVfT1VUUFVUO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gPGgxIGNsYXNzTmFtZT1cImYyaF9fdGl0bGVcIj57dGl0bGV9PC9oMT47XG59XG4iLCAiaW1wb3J0IHsgaCwgQ29tcG9uZW50LCBjcmVhdGVSZWYsIFJlZk9iamVjdCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IEFwcFN0YXRlIH0gZnJvbSBcInR5cGVzXCI7XG5cbmludGVyZmFjZSBSZXNwb25zaXZlVmlld1Byb3BzIGV4dGVuZHMgUGljazxBcHBTdGF0ZSwgXCJzdmdNYXJrdXBcIj4ge1xuICBmcmFtZVdpZHRoczogbnVtYmVyW107XG59XG5cbmV4cG9ydCBjbGFzcyBSZXNwb25zaXZlVmlldyBleHRlbmRzIENvbXBvbmVudDxSZXNwb25zaXZlVmlld1Byb3BzPiB7XG4gIGlmcmFtZUVsOiBSZWZPYmplY3Q8SFRNTElGcmFtZUVsZW1lbnQ+ID0gY3JlYXRlUmVmKCk7XG5cbiAgc3RhdGUgPSB7XG4gICAgd2lkdGhJbmRleDogMCxcbiAgfTtcblxuICBzZXRJbmRleCA9IChpOiBudW1iZXIpOiB2b2lkID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgd2lkdGhJbmRleDogaSB9KTtcblxuICAgIGlmICh0aGlzLmlmcmFtZUVsLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IHsgZnJhbWVXaWR0aHMgfSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLmlmcmFtZUVsLmN1cnJlbnQuc3R5bGUud2lkdGggPSBgJHtmcmFtZVdpZHRoc1tpXX1weGA7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpOiBoLkpTWC5FbGVtZW50IHtcbiAgICBjb25zdCB7IHdpZHRoSW5kZXggfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgeyBzdmdNYXJrdXAsIGZyYW1lV2lkdGhzIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IG1heFdpZHRoID0gTWF0aC5tYXgoLi4uZnJhbWVXaWR0aHMpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19yZXNwb25zaXZlX3ByZXZpZXdcIj5cbiAgICAgICAge2ZyYW1lV2lkdGhzLm1hcCgod2lkdGgsIGkpID0+IChcbiAgICAgICAgICA8cFxuICAgICAgICAgICAga2V5PXt3aWR0aH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHJlc3BvbnNpdmVfd2lkdGhfYnRuICR7XG4gICAgICAgICAgICAgIHdpZHRoSW5kZXggPT09IGkgPyBcImFjdGl2ZVwiIDogXCJcIlxuICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldEluZGV4KGkpfVxuICAgICAgICAgICAgc3R5bGU9e2B3aWR0aDogJHsod2lkdGggLyBtYXhXaWR0aCkgKiAxMDB9JWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3dpZHRofVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgKSl9XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX3Jlc3BvbnNpdmVfX3dyYXBwZXJcIj5cbiAgICAgICAgICA8aWZyYW1lXG4gICAgICAgICAgICBzdHlsZT17YHdpZHRoOiB7ZnJhbWVXaWR0aHNbd2lkdGhJbmRleF19cHhgfVxuICAgICAgICAgICAgd2lkdGg9e2ZyYW1lV2lkdGhzWzBdfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19yZXNwb25zaXZlX19zYW5kYm94XCJcbiAgICAgICAgICAgIHNyY0RvYz17c3ZnTWFya3VwfVxuICAgICAgICAgICAgcmVmPXt0aGlzLmlmcmFtZUVsfVxuICAgICAgICAgID48L2lmcmFtZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgaCwgRnJhZ21lbnQsIENvbXBvbmVudCwgY3JlYXRlUmVmLCBSZWZPYmplY3QgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBBcHBTdGF0ZSwgSGVhZGxpbmVzSW50ZXJmYWNlLCBGcmFtZUNvbGxlY3Rpb24gfSBmcm9tIFwidHlwZXNcIjtcblxuaW50ZXJmYWNlIElucHV0RmllbGRQcm9wcyB7XG4gIHJlZlRhcmdldDogUmVmT2JqZWN0PEhUTUxJbnB1dEVsZW1lbnQ+O1xuICBsYWJlbDogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBoYW5kbGVDaGFuZ2U6ICgpID0+IHZvaWQ7XG59XG5mdW5jdGlvbiBJbnB1dEZpZWxkKHByb3BzOiBJbnB1dEZpZWxkUHJvcHMpIHtcbiAgY29uc3QgeyBsYWJlbCwgdmFsdWUsIHJlZlRhcmdldCwgaGFuZGxlQ2hhbmdlIH0gPSBwcm9wcztcblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImYyaF9faW5mb19mb3JtX19pdGVtIGYyaF9faW5mb19mb3JtX19pdGVtLS1oZWFkbGluZVwiPlxuICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImYyaF9faW5mb19mb3JtX19sYWJlbFwiPntsYWJlbH08L2xhYmVsPlxuICAgICAgPGlucHV0XG4gICAgICAgIGNsYXNzTmFtZT1cImYyaF9faW5mb19mb3JtX19pbnB1dCBmMmhfX2luZm9fZm9ybV9faW5wdXQtLWhlYWRsaW5lXCJcbiAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIHJlZj17cmVmVGFyZ2V0fVxuICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgLz5cbiAgICA8L3A+XG4gICk7XG59XG5cbmludGVyZmFjZSBGcmFtZVNlbGVjdGlvblByb3BzXG4gIGV4dGVuZHMgUGljazxBcHBTdGF0ZSwgXCJzb3VyY2VcIiB8IFwiaGVhZGxpbmVcIiB8IFwic3ViaGVhZFwiIHwgXCJyZXNwb25zaXZlXCI+IHtcbiAgZnJhbWVzOiBGcmFtZUNvbGxlY3Rpb247XG4gIHNlbGVjdGVkRnJhbWVzOiBzdHJpbmdbXTtcbiAgaGFuZGxlQ2xpY2s6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICB0b2dnbGVTZWxlY3RBbGw6ICgpID0+IHZvaWQ7XG4gIGhhbmRsZUZvcm1VcGRhdGU6IChwcm9wczogSGVhZGxpbmVzSW50ZXJmYWNlKSA9PiB2b2lkO1xuICB0b2dnbGVSZXNwb25zaXZlOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgRnJhbWVTZWxlY3Rpb24gZXh0ZW5kcyBDb21wb25lbnQ8RnJhbWVTZWxlY3Rpb25Qcm9wcz4ge1xuICBwcml2YXRlIGhlYWRsaW5lSW5wdXQ6IFJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50PiA9IGNyZWF0ZVJlZigpO1xuICBwcml2YXRlIHN1YmhlYWRJbnB1dDogUmVmT2JqZWN0PEhUTUxJbnB1dEVsZW1lbnQ+ID0gY3JlYXRlUmVmKCk7XG4gIHByaXZhdGUgc291cmNlSW5wdXQ6IFJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50PiA9IGNyZWF0ZVJlZigpO1xuXG4gIHNlbmRGb3JtVmFsdWVzID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgaGFuZGxlRm9ybVVwZGF0ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBoZWFkbGluZSA9IHRoaXMuaGVhZGxpbmVJbnB1dC5jdXJyZW50Py52YWx1ZTtcbiAgICBjb25zdCBzdWJoZWFkID0gdGhpcy5zdWJoZWFkSW5wdXQuY3VycmVudD8udmFsdWU7XG4gICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2VJbnB1dC5jdXJyZW50Py52YWx1ZTtcblxuICAgIGhhbmRsZUZvcm1VcGRhdGUoeyBoZWFkbGluZSwgc3ViaGVhZCwgc291cmNlIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpOiBoLkpTWC5FbGVtZW50IHtcbiAgICBjb25zdCB7XG4gICAgICBmcmFtZXMsXG4gICAgICBoYW5kbGVDbGljayxcbiAgICAgIHRvZ2dsZVNlbGVjdEFsbCxcbiAgICAgIGhlYWRsaW5lLFxuICAgICAgc3ViaGVhZCxcbiAgICAgIHNvdXJjZSxcbiAgICAgIHNlbGVjdGVkRnJhbWVzLFxuICAgICAgcmVzcG9uc2l2ZSxcbiAgICAgIHRvZ2dsZVJlc3BvbnNpdmUsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBmcmFtZUNvdW50ID0gT2JqZWN0LnZhbHVlcyhmcmFtZXMpLmxlbmd0aDtcbiAgICBjb25zdCBzZWxlY3RDb3VudCA9IHNlbGVjdGVkRnJhbWVzLmxlbmd0aDtcbiAgICBjb25zdCBzb21lRnJhbWVzU2VsZWN0ZWQgPSBzZWxlY3RDb3VudCA+IDAgJiYgc2VsZWN0Q291bnQgPCBmcmFtZUNvdW50O1xuICAgIGNvbnN0IGFsbFNlbGVjdGVkID0gc2VsZWN0Q291bnQgPT09IGZyYW1lQ291bnQ7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX2Nob29zZV9mcmFtZXNcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX2luZm9fZm9ybVwiPlxuICAgICAgICAgIDxJbnB1dEZpZWxkXG4gICAgICAgICAgICByZWZUYXJnZXQ9e3RoaXMuaGVhZGxpbmVJbnB1dH1cbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZT17dGhpcy5zZW5kRm9ybVZhbHVlc31cbiAgICAgICAgICAgIGxhYmVsPVwiSGVhZGxpbmVcIlxuICAgICAgICAgICAgdmFsdWU9e2hlYWRsaW5lfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICA8SW5wdXRGaWVsZFxuICAgICAgICAgICAgcmVmVGFyZ2V0PXt0aGlzLnN1YmhlYWRJbnB1dH1cbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZT17dGhpcy5zZW5kRm9ybVZhbHVlc31cbiAgICAgICAgICAgIGxhYmVsPVwiU3ViaGVhZFwiXG4gICAgICAgICAgICB2YWx1ZT17c3ViaGVhZH1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPElucHV0RmllbGRcbiAgICAgICAgICAgIHJlZlRhcmdldD17dGhpcy5zb3VyY2VJbnB1dH1cbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZT17dGhpcy5zZW5kRm9ybVZhbHVlc31cbiAgICAgICAgICAgIGxhYmVsPVwiU291cmNlXCJcbiAgICAgICAgICAgIHZhbHVlPXtzb3VyY2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX2ZyYW1lX3NlbGVjdGlvblwiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmMmhfX3NlbF9oZWFkZXIgZjJoX19zZWxfaGVhZGVyLS1uYW1lXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgbmFtZT1cInNlbGVjdEFsbFwiXG4gICAgICAgICAgICAgIGlkPVwic2VsZWN0QWxsXCJcbiAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlU2VsZWN0QWxsfVxuICAgICAgICAgICAgICBjaGVja2VkPXthbGxTZWxlY3RlZH1cbiAgICAgICAgICAgICAgcmVmPXsoZWwpID0+IGVsICYmIChlbC5pbmRldGVybWluYXRlID0gc29tZUZyYW1lc1NlbGVjdGVkKX1cbiAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgRnJhbWVzXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZjJoX19zZWxfaGVhZGVyIGYyaF9fc2VsX2hlYWRlci0tcmVzcG9uc2l2ZVwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgIGlkPVwicmVzcG9uc2l2ZUFsbFwiXG4gICAgICAgICAgICAgIG5hbWU9XCJyZXNwb25zaXZlQWxsXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlUmVzcG9uc2l2ZX1cbiAgICAgICAgICAgICAgY2hlY2tlZD17cmVzcG9uc2l2ZX1cbiAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgUmVzcG9uc2l2ZVxuICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICB7T2JqZWN0LnZhbHVlcyhmcmFtZXMpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gKGEud2lkdGggPCBiLndpZHRoID8gLTEgOiAxKSlcbiAgICAgICAgICAgIC5tYXAoKHsgbmFtZSwgaWQsIHdpZHRoLCBoZWlnaHQgfSkgPT4gKFxuICAgICAgICAgICAgICA8RnJhZ21lbnQga2V5PXtpZH0+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZjJoX19sYWJlbCBmMmhfX2xhYmVsLS1uYW1lXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19jaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3NlbGVjdGVkRnJhbWVzLmluY2x1ZGVzKGlkKX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ2xpY2soaWQpfVxuICAgICAgICAgICAgICAgICAgICBpZD17bmFtZX1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZjJoX19sYWJlbC0tbmFtZS10ZXh0XCIgaHRtbEZvcj17bmFtZX0+XG4gICAgICAgICAgICAgICAgICAgIHtuYW1lfVxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImYyaF9fc2VsX3dpZHRoXCI+XG4gICAgICAgICAgICAgICAgICAgIHt3aWR0aH0geCB7aGVpZ2h0fVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBoLCBDb21wb25lbnQsIGNyZWF0ZVJlZiB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHNhdmVBcyB9IGZyb20gXCJmaWxlLXNhdmVyXCI7XG5pbXBvcnQgeyBPVVRQVVRfRk9STUFUUyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdlbmVyYXRlSWZyYW1lSHRtbCB9IGZyb20gXCIuLi9vdXRwdXRSZW5kZXJcIjtcblxuaW50ZXJmYWNlIFNhdmVTdGF0ZSB7XG4gIGFkdmFuY2VkT3BlbjogYm9vbGVhbjtcbiAgc2hvd1RvYXN0OiBib29sZWFuO1xuICBvdXRwdXRGb3JtYXQ6IE9VVFBVVF9GT1JNQVRTO1xufVxuXG5leHBvcnQgY2xhc3MgU2F2ZSBleHRlbmRzIENvbXBvbmVudDx7IHN2Z01hcmt1cDogc3RyaW5nIH0sIFNhdmVTdGF0ZT4ge1xuICBzdGF0ZTogU2F2ZVN0YXRlID0ge1xuICAgIGFkdmFuY2VkT3BlbjogZmFsc2UsXG4gICAgc2hvd1RvYXN0OiBmYWxzZSxcbiAgICBvdXRwdXRGb3JtYXQ6IE9VVFBVVF9GT1JNQVRTLklOTElORSxcbiAgfTtcblxuICBwcml2YXRlIHRleHRBcmVhRWwgPSBjcmVhdGVSZWY8SFRNTFRleHRBcmVhRWxlbWVudD4oKTtcblxuICB0b2dnbGVBZHZhbmNlZCA9ICgpOiB2b2lkID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGFkdmFuY2VkT3BlbjogIXRoaXMuc3RhdGUuYWR2YW5jZWRPcGVuLFxuICAgIH0pO1xuICB9O1xuXG4gIHNhdmVUb0NsaXBib2FyZCA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IGN1cnJlbnQ6IGVsIH0gPSB0aGlzLnRleHRBcmVhRWw7XG5cbiAgICBpZiAoIWVsKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiTWlzc2luZyB0ZXh0YXJlYSBlbGVtZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNlbGVjdCB0ZXh0IGFuZCBjb3B5IHRvIGNsaXBib2FyZFxuICAgIGVsLnNlbGVjdCgpO1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcblxuICAgIC8vIE9ubHkgc2hvdyB0b2FzdCBpZiBpdCBpc24ndCBhbHJlYWR5IGFjdGl2ZVxuICAgIGNvbnN0IHsgc2hvd1RvYXN0IH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmIChzaG93VG9hc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd1RvYXN0OiB0cnVlIH0pO1xuXG4gICAgLy8gQ2xlYXIgdG9hc3QgYWZ0ZXIgYSBmZXcgc2Vjb25kc1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHNob3dUb2FzdDogZmFsc2UgfSksIDIwMDApO1xuICB9O1xuXG4gIHNhdmVCaW5hcnlGaWxlID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgc3ZnTWFya3VwIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgZmlsZW5hbWUgPSBcImZpZ21hLXRvLWh0bWwtdGVzdC5odG1sXCI7XG4gICAgY29uc3QgcmF3ID0gZ2VuZXJhdGVJZnJhbWVIdG1sKHN2Z01hcmt1cCk7XG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtyYXddLCB7IHR5cGU6IFwidGV4dC9odG1sXCIgfSk7XG5cbiAgICBzYXZlQXMoYmxvYiwgZmlsZW5hbWUpO1xuICB9O1xuXG4gIGhhbmRsZUZvcm1hdENoYW5nZSA9IChmb3JtYXQ6IE9VVFBVVF9GT1JNQVRTKTogdm9pZCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBvdXRwdXRGb3JtYXQ6IGZvcm1hdCxcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKTogaC5KU1guRWxlbWVudCB7XG4gICAgY29uc3QgeyBzdmdNYXJrdXAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBhZHZhbmNlZE9wZW4sIHNob3dUb2FzdCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIGNvbnN0IGFkdmFuY2VkQnRuVGV4dCA9IGAke2FkdmFuY2VkT3BlbiA/IFwiaGlkZVwiIDogXCJzaG93XCJ9YDtcbiAgICBsZXQgYWR2YW5jZWRDbGFzc05hbWUgPSBcImYyaF9fc2F2ZV9hZHZhbmNlZFwiO1xuICAgIGlmIChhZHZhbmNlZE9wZW4pIHtcbiAgICAgIGFkdmFuY2VkQ2xhc3NOYW1lICs9IFwiZjJoX19zYXZlX2FkdmFuY2VkLS1vcGVuXCI7XG4gICAgfVxuXG4gICAgbGV0IHRvYXN0Q2xhc3NOYW1lID0gXCJmMmhfX3RvYXN0XCI7XG4gICAgaWYgKHNob3dUb2FzdCkge1xuICAgICAgdG9hc3RDbGFzc05hbWUgKz0gXCJmMmhfX3RvYXN0LS1vcGVuXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19zYXZlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19zYXZlX29wdGlvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX3NhdmVfYnRuIGJ0bi0tcHJpbWFyeVwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNhdmVUb0NsaXBib2FyZH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBDb3B5IGVtYmVkIHRvIGNsaXBib2FyZFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9idG4gYnRuLS1wcmltYXJ5XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2F2ZUJpbmFyeUZpbGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgRG93bmxvYWQgaWZyYW1lIEhUTUwgZmlsZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZjJoX19zYXZlX19zdWJoZWFkIGYyaF9fc2F2ZV9hZHZhbmNlZC1oZWFkZXJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmMmhfX3NhdmVfYWR2YW5jZWRfdGl0bGVcIj5BZHZhbmNlZCBzZXR0aW5nczwvc3Bhbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX3NhdmVfYWR2YW5jZWRfc2hvd1wiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZUFkdmFuY2VkfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHthZHZhbmNlZEJ0blRleHR9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvaDI+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2FkdmFuY2VkQ2xhc3NOYW1lfT5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZjJoX19zYXZlX19zdWJoZWFkXCI+UmF3IEhUTUw8L2gyPlxuICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgcmVmPXt0aGlzLnRleHRBcmVhRWx9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX3NhdmVfX3Jhd1wiXG4gICAgICAgICAgICB2YWx1ZT17c3ZnTWFya3VwfVxuICAgICAgICAgID48L3RleHRhcmVhPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dG9hc3RDbGFzc05hbWV9PkNvcGllZCB0byBjbGlwYm9hcmQ8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsICIvLyBAdHMtbm9jaGVja1xuLy8gVE9ETzogQWRkIHR5cGVcblxuLyoqXG4gKiBFbmNvZGUgcGxhaW4gU1ZHIGRhdGEgc3RyaW5nIGludG8gRGF0YSBVUkkgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgaW5wdXQgc3RyaW5nXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBEYXRhIFVSSSB0eXBlXG4gKiBAcmV0dXJuIHtTdHJpbmd9IG91dHB1dCBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZVNWR0RhdGF1cmkgPSBmdW5jdGlvbiAoc3RyLCB0eXBlKSB7XG4gIHZhciBwcmVmaXggPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbFwiO1xuICBpZiAoIXR5cGUgfHwgdHlwZSA9PT0gXCJiYXNlNjRcIikge1xuICAgIC8vIGJhc2U2NFxuICAgIHByZWZpeCArPSBcIjtiYXNlNjQsXCI7XG4gICAgaWYgKEJ1ZmZlci5mcm9tKSB7XG4gICAgICBzdHIgPSBwcmVmaXggKyBCdWZmZXIuZnJvbShzdHIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBwcmVmaXggKyBuZXcgQnVmZmVyKHN0cikudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiZW5jXCIpIHtcbiAgICAvLyBVUkkgZW5jb2RlZFxuICAgIHN0ciA9IHByZWZpeCArIFwiLFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cik7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJ1bmVuY1wiKSB7XG4gICAgLy8gdW5lbmNvZGVkXG4gICAgc3RyID0gcHJlZml4ICsgXCIsXCIgKyBzdHI7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cbi8qKlxuICogRGVjb2RlIFNWRyBEYXRhIFVSSSBzdHJpbmcgaW50byBwbGFpbiBTVkcgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgaW5wdXQgc3RyaW5nXG4gKiBAcmV0dXJuIHtTdHJpbmd9IG91dHB1dCBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZVNWR0RhdGF1cmkgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHZhciByZWdleHAgPSAvZGF0YTppbWFnZVxcL3N2Z1xcK3htbCg7Y2hhcnNldD1bXjssXSopPyg7YmFzZTY0KT8sKC4qKS87XG4gIHZhciBtYXRjaCA9IHJlZ2V4cC5leGVjKHN0cik7XG5cbiAgLy8gcGxhaW4gc3RyaW5nXG4gIGlmICghbWF0Y2gpIHJldHVybiBzdHI7XG5cbiAgdmFyIGRhdGEgPSBtYXRjaFszXTtcblxuICBpZiAobWF0Y2hbMl0pIHtcbiAgICAvLyBiYXNlNjRcbiAgICBzdHIgPSBuZXcgQnVmZmVyKGRhdGEsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmOFwiKTtcbiAgfSBlbHNlIGlmIChkYXRhLmNoYXJBdCgwKSA9PT0gXCIlXCIpIHtcbiAgICAvLyBVUkkgZW5jb2RlZFxuICAgIHN0ciA9IGRlY29kZVVSSUNvbXBvbmVudChkYXRhKTtcbiAgfSBlbHNlIGlmIChkYXRhLmNoYXJBdCgwKSA9PT0gXCI8XCIpIHtcbiAgICAvLyB1bmVuY29kZWRcbiAgICBzdHIgPSBkYXRhO1xuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5leHBvcnQgY29uc3QgaW50ZXJzZWN0QXJyYXlzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgcmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIGIuaW5kZXhPZihuKSA+IC0xO1xuICB9KTtcbn07XG5cbi8qKlxuICogQ29udmVydCBhIHJvdyBvZiBudW1iZXJzIHRvIGFuIG9wdGltaXplZCBzdHJpbmcgdmlldy5cbiAqXG4gKiBAZXhhbXBsZVxuICogWzAsIC0xLCAuNSwgLjVdIFx1MjE5MiBcIjAtMSAuNS41XCJcbiAqXG4gKiBAcGFyYW0ge251bWJlcltdfSBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zXG4gKiBAcGFyYW0ge3N0cmluZz99IGNvbW1hbmQgcGF0aCBkYXRhIGluc3RydWN0aW9uXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBjbGVhbnVwT3V0RGF0YSA9IGZ1bmN0aW9uIChkYXRhLCBwYXJhbXMsIGNvbW1hbmQpIHtcbiAgdmFyIHN0ciA9IFwiXCIsXG4gICAgZGVsaW1pdGVyLFxuICAgIHByZXY7XG5cbiAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgLy8gc3BhY2UgZGVsaW1pdGVyIGJ5IGRlZmF1bHRcbiAgICBkZWxpbWl0ZXIgPSBcIiBcIjtcblxuICAgIC8vIG5vIGV4dHJhIHNwYWNlIGluIGZyb250IG9mIGZpcnN0IG51bWJlclxuICAgIGlmIChpID09IDApIGRlbGltaXRlciA9IFwiXCI7XG5cbiAgICAvLyBubyBleHRyYSBzcGFjZSBhZnRlciAnYXJjdG8nIGNvbW1hbmQgZmxhZ3NcbiAgICBpZiAocGFyYW1zLm5vU3BhY2VBZnRlckZsYWdzICYmIChjb21tYW5kID09IFwiQVwiIHx8IGNvbW1hbmQgPT0gXCJhXCIpKSB7XG4gICAgICB2YXIgcG9zID0gaSAlIDc7XG4gICAgICBpZiAocG9zID09IDQgfHwgcG9zID09IDUpIGRlbGltaXRlciA9IFwiXCI7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGZsb2F0aW5nLXBvaW50IG51bWJlcnMgbGVhZGluZyB6ZXJvc1xuICAgIC8vIDAuNSBcdTIxOTIgLjVcbiAgICAvLyAtMC41IFx1MjE5MiAtLjVcbiAgICBpZiAocGFyYW1zLmxlYWRpbmdaZXJvKSB7XG4gICAgICBpdGVtID0gcmVtb3ZlTGVhZGluZ1plcm8oaXRlbSk7XG4gICAgfVxuXG4gICAgLy8gbm8gZXh0cmEgc3BhY2UgaW4gZnJvbnQgb2YgbmVnYXRpdmUgbnVtYmVyIG9yXG4gICAgLy8gaW4gZnJvbnQgb2YgYSBmbG9hdGluZyBudW1iZXIgaWYgYSBwcmV2aW91cyBudW1iZXIgaXMgZmxvYXRpbmcgdG9vXG4gICAgaWYgKFxuICAgICAgcGFyYW1zLm5lZ2F0aXZlRXh0cmFTcGFjZSAmJlxuICAgICAgZGVsaW1pdGVyICE9IFwiXCIgJiZcbiAgICAgIChpdGVtIDwgMCB8fCAoU3RyaW5nKGl0ZW0pLmNoYXJDb2RlQXQoMCkgPT0gNDYgJiYgcHJldiAlIDEgIT09IDApKVxuICAgICkge1xuICAgICAgZGVsaW1pdGVyID0gXCJcIjtcbiAgICB9XG4gICAgLy8gc2F2ZSBwcmV2IGl0ZW0gdmFsdWVcbiAgICBwcmV2ID0gaXRlbTtcbiAgICBzdHIgKz0gZGVsaW1pdGVyICsgaXRlbTtcbiAgfSk7XG4gIHJldHVybiBzdHI7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBmbG9hdGluZy1wb2ludCBudW1iZXJzIGxlYWRpbmcgemVyby5cbiAqXG4gKiBAZXhhbXBsZVxuICogMC41IFx1MjE5MiAuNVxuICpcbiAqIEBleGFtcGxlXG4gKiAtMC41IFx1MjE5MiAtLjVcbiAqXG4gKiBAcGFyYW0ge0Zsb2F0fSBudW0gaW5wdXQgbnVtYmVyXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSBvdXRwdXQgbnVtYmVyIGFzIHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QgcmVtb3ZlTGVhZGluZ1plcm8gPSBmdW5jdGlvbiAobnVtKSB7XG4gIHZhciBzdHJOdW0gPSBudW0udG9TdHJpbmcoKTtcblxuICBpZiAoMCA8IG51bSAmJiBudW0gPCAxICYmIHN0ck51bS5jaGFyQ29kZUF0KDApID09IDQ4KSB7XG4gICAgc3RyTnVtID0gc3RyTnVtLnNsaWNlKDEpO1xuICB9IGVsc2UgaWYgKC0xIDwgbnVtICYmIG51bSA8IDAgJiYgc3RyTnVtLmNoYXJDb2RlQXQoMSkgPT0gNDgpIHtcbiAgICBzdHJOdW0gPSBzdHJOdW0uY2hhckF0KDApICsgc3RyTnVtLnNsaWNlKDIpO1xuICB9XG4gIHJldHVybiBzdHJOdW07XG59O1xuXG4vKipcbiAqIFN5bmNocm9ub3VzbHkgY2hlY2sgaWYgcGF0aCBpcyBhIGRpcmVjdG9yeS4gVG9sZXJhbnQgdG8gZXJyb3JzIGxpa2UgRU5PRU5ULlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGhcbiAqL1xuZXhwb3J0IGNvbnN0IGNoZWNrSXNEaXIgPSBmdW5jdGlvbiAocGF0aCkge1xuICB0cnkge1xuICAgIHJldHVybiBGUy5sc3RhdFN5bmMocGF0aCkuaXNEaXJlY3RvcnkoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcbiIsICIvLyBAdHMtbm9jaGVja1xuLy8gVE9ETzogQWRkIHR5cGVzXG5cbmltcG9ydCB7IGNsZWFudXBPdXREYXRhIH0gZnJvbSBcIi4vdG9vbHNcIjtcblxuY29uc3Qgck51bWJlciA9IFN0cmluZy5yYXdgWy0rXT8oPzpcXGQqXFwuXFxkK3xcXGQrXFwuPykoPzpbZUVdWy0rXT9cXGQrKT9cXHMqYDtcbmNvbnN0IHJDb21tYVdzcCA9IFN0cmluZy5yYXdgKD86XFxzLD9cXHMqfCxcXHMqKWA7XG5jb25zdCByTnVtYmVyQ29tbWFXc3AgPSBgKCR7ck51bWJlcn0pYCArIHJDb21tYVdzcDtcbmNvbnN0IHJGbGFnQ29tbWFXc3AgPSBgKFswMV0pJHtyQ29tbWFXc3B9P2A7XG5jb25zdCByQ29vcmRpbmF0ZVBhaXIgPSBTdHJpbmcucmF3YCgke3JOdW1iZXJ9KSR7ckNvbW1hV3NwfT8oJHtyTnVtYmVyfSlgO1xuY29uc3QgckFyY1NlcSA9XG4gIChyTnVtYmVyQ29tbWFXc3AgKyBcIj9cIikucmVwZWF0KDIpICtcbiAgck51bWJlckNvbW1hV3NwICtcbiAgckZsYWdDb21tYVdzcC5yZXBlYXQoMikgK1xuICByQ29vcmRpbmF0ZVBhaXI7XG5cbmNvbnN0IHJlZ1BhdGhJbnN0cnVjdGlvbnMgPSAvKFtNbUxsSGhWdkNjU3NRcVR0QWFael0pXFxzKi87XG5jb25zdCByZWdDb29yZGluYXRlU2VxdWVuY2UgPSBuZXcgUmVnRXhwKHJOdW1iZXIsIFwiZ1wiKTtcbmNvbnN0IHJlZ0FyY0FyZ3VtZW50U2VxdWVuY2UgPSBuZXcgUmVnRXhwKHJBcmNTZXEsIFwiZ1wiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGgyanMocGF0aDogU1ZHUGF0aEVsZW1lbnQpIHtcbiAgY29uc3QgcGFyYW1zTGVuZ3RoID0ge1xuICAgIC8vIE51bWJlciBvZiBwYXJhbWV0ZXJzIG9mIGV2ZXJ5IHBhdGggY29tbWFuZFxuICAgIEg6IDEsXG4gICAgVjogMSxcbiAgICBNOiAyLFxuICAgIEw6IDIsXG4gICAgVDogMixcbiAgICBROiA0LFxuICAgIFM6IDQsXG4gICAgQzogNixcbiAgICBBOiA3LFxuICAgIGg6IDEsXG4gICAgdjogMSxcbiAgICBtOiAyLFxuICAgIGw6IDIsXG4gICAgdDogMixcbiAgICBxOiA0LFxuICAgIHM6IDQsXG4gICAgYzogNixcbiAgICBhOiA3LFxuICB9O1xuICBsZXQgcGF0aERhdGEgPSBbXTsgLy8gSlMgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGggZGF0YVxuICBsZXQgaW5zdHJ1Y3Rpb247IC8vIGN1cnJlbnQgaW5zdHJ1Y3Rpb24gY29udGV4dFxuICBsZXQgc3RhcnRNb3ZldG8gPSBmYWxzZTtcblxuICAvLyBzcGxpdHRpbmcgcGF0aCBzdHJpbmcgaW50byBhcnJheSBsaWtlIFsnTScsICcxMCA1MCcsICdMJywgJzIwIDMwJ11cbiAgcGF0aFxuICAgIC5nZXRBdHRyaWJ1dGUoXCJkXCIpXG4gICAgPy5zcGxpdChyZWdQYXRoSW5zdHJ1Y3Rpb25zKVxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGlmICghc3RhcnRNb3ZldG8pIHtcbiAgICAgICAgaWYgKGRhdGEgPT0gXCJNXCIgfHwgZGF0YSA9PSBcIm1cIikge1xuICAgICAgICAgIHN0YXJ0TW92ZXRvID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gaW5zdHJ1Y3Rpb24gaXRlbVxuICAgICAgaWYgKHJlZ1BhdGhJbnN0cnVjdGlvbnMudGVzdChkYXRhKSkge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IGRhdGE7XG5cbiAgICAgICAgLy8geiAtIGluc3RydWN0aW9uIHcvbyBkYXRhXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PSBcIlpcIiB8fCBpbnN0cnVjdGlvbiA9PSBcInpcIikge1xuICAgICAgICAgIHBhdGhEYXRhLnB1c2goe1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IFwielwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRhdGEgaXRlbVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGJvc3M6IHRydWUgKi9cbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09IFwiQVwiIHx8IGluc3RydWN0aW9uID09IFwiYVwiKSB7XG4gICAgICAgICAgdmFyIG5ld0RhdGEgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBhcmdzOyAoYXJncyA9IHJlZ0FyY0FyZ3VtZW50U2VxdWVuY2UuZXhlYyhkYXRhKSk7ICkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIG5ld0RhdGEucHVzaChhcmdzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YSA9IG5ld0RhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YSA9IGRhdGEubWF0Y2gocmVnQ29vcmRpbmF0ZVNlcXVlbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcblxuICAgICAgICBkYXRhID0gZGF0YS5tYXAoTnVtYmVyKTtcbiAgICAgICAgLy8gU3Vic2VxdWVudCBtb3ZldG8gcGFpcnMgb2YgY29vcmRpbmF0ZXMgYXJlIHRocmVhdGVkIGFzIGltcGxpY2l0IGxpbmV0byBjb21tYW5kc1xuICAgICAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvcGF0aHMuaHRtbCNQYXRoRGF0YU1vdmV0b0NvbW1hbmRzXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PSBcIk1cIiB8fCBpbnN0cnVjdGlvbiA9PSBcIm1cIikge1xuICAgICAgICAgIHBhdGhEYXRhLnB1c2goe1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IHBhdGhEYXRhLmxlbmd0aCA9PSAwID8gXCJNXCIgOiBpbnN0cnVjdGlvbixcbiAgICAgICAgICAgIGRhdGE6IGRhdGEuc3BsaWNlKDAsIDIpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24gPT0gXCJNXCIgPyBcIkxcIiA6IFwibFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgcGFpciA9IHBhcmFtc0xlbmd0aFtpbnN0cnVjdGlvbl07IGRhdGEubGVuZ3RoOyApIHtcbiAgICAgICAgICBwYXRoRGF0YS5wdXNoKHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uOiBpbnN0cnVjdGlvbixcbiAgICAgICAgICAgIGRhdGE6IGRhdGEuc3BsaWNlKDAsIHBhaXIpLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLy8gRmlyc3QgbW92ZXRvIGlzIGFjdHVhbGx5IGFic29sdXRlLiBTdWJzZXF1ZW50IGNvb3JkaW5hdGVzIHdlcmUgc2VwYXJhdGVkIGFib3ZlLlxuICBpZiAocGF0aERhdGEubGVuZ3RoICYmIHBhdGhEYXRhWzBdLmluc3RydWN0aW9uID09IFwibVwiKSB7XG4gICAgcGF0aERhdGFbMF0uaW5zdHJ1Y3Rpb24gPSBcIk1cIjtcbiAgfVxuXG4gIHJldHVybiBwYXRoRGF0YTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHBhdGggYXJyYXkgdG8gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhdGggaW5wdXQgcGF0aCBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIHBsdWdpbiBwYXJhbXNcbiAqIEByZXR1cm4ge1N0cmluZ30gb3V0cHV0IHBhdGggc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBqczJwYXRoID0gZnVuY3Rpb24gKHBhdGg6IFNWR1BhdGhFbGVtZW50LCBkYXRhLCBwYXJhbXMpIHtcbiAgaWYgKHBhcmFtcy5jb2xsYXBzZVJlcGVhdGVkKSB7XG4gICAgZGF0YSA9IGNvbGxhcHNlUmVwZWF0ZWQoZGF0YSk7XG4gIH1cblxuICBwYXRoLnNldEF0dHJpYnV0ZShcbiAgICBcImRcIixcbiAgICBkYXRhLnJlZHVjZShmdW5jdGlvbiAocGF0aFN0cmluZywgaXRlbSkge1xuICAgICAgdmFyIHN0ckRhdGEgPSBcIlwiO1xuICAgICAgaWYgKGl0ZW0uZGF0YSkge1xuICAgICAgICBzdHJEYXRhID0gY2xlYW51cE91dERhdGEoaXRlbS5kYXRhLCBwYXJhbXMsIGl0ZW0uaW5zdHJ1Y3Rpb24pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChwYXRoU3RyaW5nICs9IGl0ZW0uaW5zdHJ1Y3Rpb24gKyBzdHJEYXRhKTtcbiAgICB9LCBcIlwiKVxuICApO1xufTtcblxuLyoqXG4gKiBDb2xsYXBzZSByZXBlYXRlZCBpbnN0cnVjdGlvbnMgZGF0YVxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhdGggaW5wdXQgcGF0aCBkYXRhXG4gKiBAcmV0dXJuIHtBcnJheX0gb3V0cHV0IHBhdGggZGF0YVxuICovXG5mdW5jdGlvbiBjb2xsYXBzZVJlcGVhdGVkKGRhdGEpIHtcbiAgdmFyIHByZXYsIHByZXZJbmRleDtcblxuICAvLyBjb3B5IGFuIGFycmF5IGFuZCBtb2RpZmllZHMgaXRlbSB0byBrZWVwIG9yaWdpbmFsIGRhdGEgdW50b3VjaGVkXG4gIGRhdGEgPSBkYXRhLnJlZHVjZShmdW5jdGlvbiAobmV3UGF0aCwgaXRlbSkge1xuICAgIGlmIChwcmV2ICYmIGl0ZW0uZGF0YSAmJiBpdGVtLmluc3RydWN0aW9uID09IHByZXYuaW5zdHJ1Y3Rpb24pIHtcbiAgICAgIC8vIGNvbmNhdCBwcmV2aW91cyBkYXRhIHdpdGggY3VycmVudFxuICAgICAgaWYgKGl0ZW0uaW5zdHJ1Y3Rpb24gIT0gXCJNXCIpIHtcbiAgICAgICAgcHJldiA9IG5ld1BhdGhbcHJldkluZGV4XSA9IHtcbiAgICAgICAgICBpbnN0cnVjdGlvbjogcHJldi5pbnN0cnVjdGlvbixcbiAgICAgICAgICBkYXRhOiBwcmV2LmRhdGEuY29uY2F0KGl0ZW0uZGF0YSksXG4gICAgICAgICAgY29vcmRzOiBpdGVtLmNvb3JkcyxcbiAgICAgICAgICBiYXNlOiBwcmV2LmJhc2UsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2LmRhdGEgPSBpdGVtLmRhdGE7XG4gICAgICAgIHByZXYuY29vcmRzID0gaXRlbS5jb29yZHM7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1BhdGgucHVzaChpdGVtKTtcbiAgICAgIHByZXYgPSBpdGVtO1xuICAgICAgcHJldkluZGV4ID0gbmV3UGF0aC5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdQYXRoO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4iLCAiLyoqXG4gKiBDb252ZXJ0cyBiYXNpYyBzaGFwZSB0byBtb3JlIGNvbXBhY3QgcGF0aC5cbiAqIEl0IGFsc28gYWxsb3dzIGZ1cnRoZXIgb3B0aW1pemF0aW9ucyBsaWtlXG4gKiBjb21iaW5pbmcgcGF0aHMgd2l0aCBzaW1pbGFyIGF0dHJpYnV0ZXMuXG4gKlxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc2hhcGVzLmh0bWxcbiAqXG4gKiBAcGFyYW0ge1NWR0dlb21ldHJ5RWxlbWVudH0gaXRlbSBjdXJyZW50IGl0ZXJhdGlvbiBpdGVtXG4gKlxuICogQGF1dGhvciBMZXYgU29sbnRzZXZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRTaGFwZXNUb1BhdGgoZWw6IFNWR0VsZW1lbnQpOiB2b2lkIHtcbiAgaWYgKFxuICAgIGVsIGluc3RhbmNlb2YgU1ZHUmVjdEVsZW1lbnQgJiZcbiAgICBlbC5oYXNBdHRyaWJ1dGUoXCJ3aWR0aFwiKSAmJlxuICAgIGVsLmhhc0F0dHJpYnV0ZShcImhlaWdodFwiKSAmJlxuICAgIGVsLmhhc0F0dHJpYnV0ZShcInJ4XCIpID09PSBmYWxzZSAmJlxuICAgIGVsLmhhc0F0dHJpYnV0ZShcInJ5XCIpID09PSBmYWxzZVxuICApIHtcbiAgICBjb25zdCB4ID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ4XCIpIHx8IFwiMFwiKTtcbiAgICBjb25zdCB5ID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ5XCIpIHx8IFwiMFwiKTtcbiAgICBjb25zdCB3aWR0aCA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwid2lkdGhcIikgfHwgXCIwXCIpO1xuICAgIGNvbnN0IGhlaWdodCA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpIHx8IFwiMFwiKTtcblxuICAgIC8vIFZhbHVlcyBsaWtlICcxMDAlJyBjb21wdXRlIHRvIE5hTiwgdGh1cyBydW5uaW5nIGFmdGVyXG4gICAgLy8gY2xlYW51cE51bWVyaWNWYWx1ZXMgd2hlbiAncHgnIHVuaXRzIGhhcyBhbHJlYWR5IGJlZW4gcmVtb3ZlZC5cbiAgICAvLyBUT0RPOiBDYWxjdWxhdGUgc2l6ZXMgZnJvbSAlIGFuZCBub24tcHggdW5pdHMgaWYgcG9zc2libGUuXG4gICAgaWYgKGlzTmFOKHggLSB5ICsgd2lkdGggLSBoZWlnaHQpKSByZXR1cm47XG5cbiAgICBjb25zdCBwYXRoRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInBhdGhcIlxuICAgICk7XG5cbiAgICBjb25zdCBwYXRoRGF0YSA9IGBNJHt4fSAke3l9SCR7eCArIHdpZHRofVYke3kgKyBoZWlnaHR9SCR7eH16YDtcbiAgICBwYXRoRWwuc2V0QXR0cmlidXRlKFwiZFwiLCBwYXRoRGF0YSk7XG5cbiAgICBjb25zdCBBVFRSSUJVVEVTX1RPX0VYQ0xVREUgPSBbXCJ4XCIsIFwieVwiLCBcIndpZHRoXCIsIFwiaGVpZ2h0XCJdO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBBcnJheS5mcm9tKGVsLmF0dHJpYnV0ZXMpKSB7XG4gICAgICBpZiAoQVRUUklCVVRFU19UT19FWENMVURFLmluY2x1ZGVzKHByb3AubmFtZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUocHJvcC5uYW1lLCBwcm9wLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlbC5wYXJlbnRFbGVtZW50Py5yZXBsYWNlQ2hpbGQocGF0aEVsLCBlbCk7XG4gIH0gZWxzZSBpZiAoZWwgaW5zdGFuY2VvZiBTVkdMaW5lRWxlbWVudCkge1xuICAgIGNvbnN0IHgxID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ4MVwiKSB8fCBcIjBcIik7XG4gICAgY29uc3QgeDIgPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcIngyXCIpIHx8IFwiMFwiKTtcbiAgICBjb25zdCB5MSA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwieTFcIikgfHwgXCIwXCIpO1xuICAgIGNvbnN0IHkyID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ5MlwiKSB8fCBcIjBcIik7XG5cbiAgICBpZiAoaXNOYU4oeDEgLSB5MSArIHgyIC0geTIpKSByZXR1cm47XG5cbiAgICBjb25zdCBwYXRoRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInBhdGhcIlxuICAgICk7XG4gICAgY29uc3QgcGF0aERhdGEgPSBgTSR7eDF9ICR7eTF9TCR7eDJ9ICR7eTJ9YDtcbiAgICBwYXRoRWwuc2V0QXR0cmlidXRlKFwiZFwiLCBwYXRoRGF0YSk7XG5cbiAgICBjb25zdCBBVFRSSUJVVEVTX1RPX0VYQ0xVREUgPSBbXCJ4MVwiLCBcInkxXCIsIFwieDJcIiwgXCJ5MlwiXTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgQXJyYXkuZnJvbShlbC5hdHRyaWJ1dGVzKSkge1xuICAgICAgaWYgKEFUVFJJQlVURVNfVE9fRVhDTFVERS5pbmNsdWRlcyhwcm9wLm5hbWUpID09PSBmYWxzZSkge1xuICAgICAgICBwYXRoRWwuc2V0QXR0cmlidXRlKHByb3AubmFtZSwgcHJvcC52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZWwucGFyZW50RWxlbWVudD8ucmVwbGFjZUNoaWxkKHBhdGhFbCwgZWwpO1xuICB9IGVsc2UgaWYgKFxuICAgIChlbCBpbnN0YW5jZW9mIFNWR1BvbHlsaW5lRWxlbWVudCB8fCBlbCBpbnN0YW5jZW9mIFNWR1BvbHlnb25FbGVtZW50KSAmJlxuICAgIGVsLmhhc0F0dHJpYnV0ZShcInBvaW50c1wiKVxuICApIHtcbiAgICBjb25zdCBSRUdYX05VTUJFUiA9IC9bLStdPyg/OlxcZCpcXC5cXGQrfFxcZCtcXC4/KSg/OltlRV1bLStdP1xcZCspPy9nO1xuICAgIGNvbnN0IHBvaW50cyA9IGVsLmdldEF0dHJpYnV0ZShcInBvaW50c1wiKSA/PyBcIlwiO1xuICAgIGNvbnN0IGNvb3JkcyA9IChwb2ludHMubWF0Y2goUkVHWF9OVU1CRVIpID8/IFtdKS5tYXAoTnVtYmVyKTtcblxuICAgIGlmIChjb29yZHMubGVuZ3RoIDwgNCkgcmV0dXJuO1xuXG4gICAgY29uc3QgcGF0aEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgXCJwYXRoXCJcbiAgICApO1xuICAgIGNvbnN0IFt4LCB5XSA9IGNvb3Jkcy5zbGljZSgwLCAyKTtcbiAgICBjb25zdCByZW1haW5pbmdQb2ludHMgPSBjb29yZHMuc2xpY2UoMikuam9pbihcIiBcIik7XG4gICAgY29uc3Qgc3VmZml4ID0gZWwgaW5zdGFuY2VvZiBTVkdQb2x5Z29uRWxlbWVudCA/IFwielwiIDogXCJcIjtcbiAgICBjb25zdCBwYXRoRGF0YSA9IGBNJHt4fSAke3l9TCR7cmVtYWluaW5nUG9pbnRzfSR7c3VmZml4fWA7XG4gICAgcGF0aEVsLnNldEF0dHJpYnV0ZShcImRcIiwgcGF0aERhdGEpO1xuXG4gICAgY29uc3QgQVRUUklCVVRFU19UT19FWENMVURFID0gW1wicG9pbnRzXCJdO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBBcnJheS5mcm9tKGVsLmF0dHJpYnV0ZXMpKSB7XG4gICAgICBpZiAoQVRUUklCVVRFU19UT19FWENMVURFLmluY2x1ZGVzKHByb3AubmFtZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUocHJvcC5uYW1lLCBwcm9wLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlbC5wYXJlbnRFbGVtZW50Py5yZXBsYWNlQ2hpbGQocGF0aEVsLCBlbCk7XG4gIH1cbn1cbiIsICIvLyBAdHMtbm9jaGVja1xuLy8gVE9ETzogQWRkIHR5cGVzXG5cbmltcG9ydCB7IHBhdGgyanMsIGpzMnBhdGggfSBmcm9tIFwiLi9saWIvcGF0aFwiO1xuaW1wb3J0IHsgY2xlYW51cE91dERhdGEgfSBmcm9tIFwiLi9saWIvdG9vbHNcIjtcbmltcG9ydCB7IGNvbnZlcnRTaGFwZXNUb1BhdGggfSBmcm9tIFwiLi9saWIvc2hhcGVUb1BhdGhcIjtcblxuZXhwb3J0IGNvbnN0IHBhcmFtcyA9IHtcbiAgYXBwbHlUcmFuc2Zvcm1zOiB0cnVlLFxuICBhcHBseVRyYW5zZm9ybXNTdHJva2VkOiB0cnVlLFxuICBtYWtlQXJjczoge1xuICAgIHRocmVzaG9sZDogMi41LCAvLyBjb2VmZmljaWVudCBvZiByb3VuZGluZyBlcnJvclxuICAgIHRvbGVyYW5jZTogMC41LCAvLyBwZXJjZW50YWdlIG9mIHJhZGl1c1xuICB9LFxuICBzdHJhaWdodEN1cnZlczogdHJ1ZSxcbiAgbGluZVNob3J0aGFuZHM6IHRydWUsXG4gIGN1cnZlU21vb3RoU2hvcnRoYW5kczogdHJ1ZSxcbiAgZmxvYXRQcmVjaXNpb246IDEsXG4gIHRyYW5zZm9ybVByZWNpc2lvbjogNSxcbiAgcmVtb3ZlVXNlbGVzczogdHJ1ZSxcbiAgY29sbGFwc2VSZXBlYXRlZDogdHJ1ZSxcbiAgdXRpbGl6ZUFic29sdXRlOiB0cnVlLFxuICBsZWFkaW5nWmVybzogdHJ1ZSxcbiAgbmVnYXRpdmVFeHRyYVNwYWNlOiB0cnVlLFxuICBub1NwYWNlQWZ0ZXJGbGFnczogdHJ1ZSxcbiAgZm9yY2VBYnNvbHV0ZVBhdGg6IGZhbHNlLFxufTtcblxubGV0IHJvdW5kRGF0YTogeyAoYXJnMDogYW55W10pOiBhbnlbXTsgKGRhdGE6IGFueSk6IGFueSB9O1xubGV0IHByZWNpc2lvbjogbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZDtcbmxldCBlcnJvcjogbnVtYmVyO1xubGV0IGFyY1RocmVzaG9sZDogbnVtYmVyO1xubGV0IGFyY1RvbGVyYW5jZTogbnVtYmVyO1xubGV0IGhhc01hcmtlck1pZDogYm9vbGVhbjtcbmxldCBoYXNTdHJva2VMaW5lY2FwOiBzdHJpbmcgfCBib29sZWFuIHwgbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNydW5jaFN2Zyhzdmc6IFNWR0VsZW1lbnQpIHtcbiAgZm9yIChjb25zdCBub2RlIG9mIEFycmF5LmZyb20oc3ZnLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpKSBhcyBTVkdFbGVtZW50W10pIHtcbiAgICBjb252ZXJ0U2hhcGVzVG9QYXRoKG5vZGUpO1xuICAgIG9wdGltaXNlRWxlbWVudChub2RlKTtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnQgYWJzb2x1dGUgUGF0aCB0byByZWxhdGl2ZSxcbiAqIGNvbGxhcHNlIHJlcGVhdGVkIGluc3RydWN0aW9ucyxcbiAqIGRldGVjdCBhbmQgY29udmVydCBMaW5ldG8gc2hvcnRoYW5kcyxcbiAqIHJlbW92ZSB1c2VsZXNzIGluc3RydWN0aW9ucyBsaWtlIFwibDAsMFwiLFxuICogdHJpbSB1c2VsZXNzIGRlbGltaXRlcnMgYW5kIGxlYWRpbmcgemVyb3MsXG4gKiBkZWNyZWFzZSBhY2N1cmFjeSBvZiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICpcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BhdGhzLmh0bWwjUGF0aERhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaXRlbSBjdXJyZW50IGl0ZXJhdGlvbiBpdGVtXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIHBsdWdpbiBwYXJhbXNcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGlmIGZhbHNlLCBpdGVtIHdpbGwgYmUgZmlsdGVyZWQgb3V0XG4gKlxuICogQGF1dGhvciBLaXIgQmVsZXZpY2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wdGltaXNlRWxlbWVudChpdGVtOiBTVkdFbGVtZW50KSB7XG4gIHByZWNpc2lvbiA9IHBhcmFtcy5mbG9hdFByZWNpc2lvbjtcblxuICBpZiAoaXRlbSBpbnN0YW5jZW9mIFNWR1BhdGhFbGVtZW50ICYmIGl0ZW0uaGFzQXR0cmlidXRlKFwiZFwiKSkge1xuICAgIGVycm9yID1cbiAgICAgIHByZWNpc2lvbiAhPT0gZmFsc2UgPyArTWF0aC5wb3coMC4xLCBwcmVjaXNpb24pLnRvRml4ZWQocHJlY2lzaW9uKSA6IDFlLTI7XG4gICAgcm91bmREYXRhID0gcHJlY2lzaW9uID4gMCAmJiBwcmVjaXNpb24gPCAyMCA/IHN0cm9uZ1JvdW5kIDogcm91bmQ7XG4gICAgaWYgKHBhcmFtcy5tYWtlQXJjcykge1xuICAgICAgYXJjVGhyZXNob2xkID0gcGFyYW1zLm1ha2VBcmNzLnRocmVzaG9sZDtcbiAgICAgIGFyY1RvbGVyYW5jZSA9IHBhcmFtcy5tYWtlQXJjcy50b2xlcmFuY2U7XG4gICAgfVxuICAgIGhhc01hcmtlck1pZCA9IGl0ZW0uaGFzQXR0cmlidXRlKFwibWFya2VyLW1pZFwiKTtcblxuICAgIGNvbnN0IHN0cm9rZSA9IGl0ZW0uZ2V0QXR0cmlidXRlKFwic3Ryb2tlXCIpO1xuICAgIGNvbnN0IHN0cm9rZUxpbmVjYXAgPSBpdGVtLmdldEF0dHJpYnV0ZShcInN0cm9rZVwiKTtcbiAgICBoYXNTdHJva2VMaW5lY2FwID1cbiAgICAgIHN0cm9rZSAmJiBzdHJva2UgIT0gXCJub25lXCIgJiYgc3Ryb2tlTGluZWNhcCAmJiBzdHJva2VMaW5lY2FwICE9IFwiYnV0dFwiO1xuXG4gICAgdmFyIGRhdGEgPSBwYXRoMmpzKGl0ZW0pO1xuXG4gICAgLy8gVE9ETzogZ2V0IHJpZCBvZiBmdW5jdGlvbnMgcmV0dXJuc1xuICAgIGlmIChkYXRhLmxlbmd0aCkge1xuICAgICAgY29udmVydFRvUmVsYXRpdmUoZGF0YSk7XG5cbiAgICAgIGRhdGEgPSBmaWx0ZXJzKGRhdGEsIHBhcmFtcyk7XG5cbiAgICAgIGlmIChwYXJhbXMudXRpbGl6ZUFic29sdXRlKSB7XG4gICAgICAgIGRhdGEgPSBjb252ZXJ0VG9NaXhlZChkYXRhLCBwYXJhbXMpO1xuICAgICAgfVxuXG4gICAgICBqczJwYXRoKGl0ZW0sIGRhdGEsIHBhcmFtcyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ29udmVydCBhYnNvbHV0ZSBwYXRoIGRhdGEgY29vcmRpbmF0ZXMgdG8gcmVsYXRpdmUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBpbnB1dCBwYXRoIGRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgcGx1Z2luIHBhcmFtc1xuICogQHJldHVybiB7QXJyYXl9IG91dHB1dCBwYXRoIGRhdGFcbiAqL1xuZnVuY3Rpb24gY29udmVydFRvUmVsYXRpdmUocGF0aCkge1xuICB2YXIgcG9pbnQgPSBbMCwgMF0sXG4gICAgc3VicGF0aFBvaW50ID0gWzAsIDBdLFxuICAgIGJhc2VJdGVtO1xuXG4gIHBhdGguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICB2YXIgaW5zdHJ1Y3Rpb24gPSBpdGVtLmluc3RydWN0aW9uLFxuICAgICAgZGF0YSA9IGl0ZW0uZGF0YTtcblxuICAgIC8vIGRhdGEgIT09ICF6XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIC8vIGFscmVhZHkgcmVsYXRpdmVcbiAgICAgIC8vIHJlY2FsY3VsYXRlIGN1cnJlbnQgcG9pbnRcbiAgICAgIGlmIChcIm1jc2xxdGFcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xKSB7XG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbZGF0YS5sZW5ndGggLSAyXTtcbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJtXCIpIHtcbiAgICAgICAgICBzdWJwYXRoUG9pbnRbMF0gPSBwb2ludFswXTtcbiAgICAgICAgICBzdWJwYXRoUG9pbnRbMV0gPSBwb2ludFsxXTtcbiAgICAgICAgICBiYXNlSXRlbSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiaFwiKSB7XG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbMF07XG4gICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcInZcIikge1xuICAgICAgICBwb2ludFsxXSArPSBkYXRhWzBdO1xuICAgICAgfVxuXG4gICAgICAvLyBjb252ZXJ0IGFic29sdXRlIHBhdGggZGF0YSBjb29yZGluYXRlcyB0byByZWxhdGl2ZVxuICAgICAgLy8gaWYgXCJNXCIgd2FzIG5vdCB0cmFuc2Zvcm1lZCBmcm9tIFwibVwiXG4gICAgICAvLyBNIFx1MjE5MiBtXG4gICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiTVwiKSB7XG4gICAgICAgIGlmIChpbmRleCA+IDApIGluc3RydWN0aW9uID0gXCJtXCI7XG5cbiAgICAgICAgZGF0YVswXSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVsxXSAtPSBwb2ludFsxXTtcblxuICAgICAgICBzdWJwYXRoUG9pbnRbMF0gPSBwb2ludFswXSArPSBkYXRhWzBdO1xuICAgICAgICBzdWJwYXRoUG9pbnRbMV0gPSBwb2ludFsxXSArPSBkYXRhWzFdO1xuXG4gICAgICAgIGJhc2VJdGVtID0gaXRlbTtcbiAgICAgIH1cblxuICAgICAgLy8gTCBcdTIxOTIgbFxuICAgICAgLy8gVCBcdTIxOTIgdFxuICAgICAgZWxzZSBpZiAoXCJMVFwiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbi50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIC8vIHggeVxuICAgICAgICAvLyAwIDFcbiAgICAgICAgZGF0YVswXSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVsxXSAtPSBwb2ludFsxXTtcblxuICAgICAgICBwb2ludFswXSArPSBkYXRhWzBdO1xuICAgICAgICBwb2ludFsxXSArPSBkYXRhWzFdO1xuXG4gICAgICAgIC8vIEMgXHUyMTkyIGNcbiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiQ1wiKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gXCJjXCI7XG5cbiAgICAgICAgLy8geDEgeTEgeDIgeTIgeCB5XG4gICAgICAgIC8vIDAgIDEgIDIgIDMgIDQgNVxuICAgICAgICBkYXRhWzBdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzFdIC09IHBvaW50WzFdO1xuICAgICAgICBkYXRhWzJdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzNdIC09IHBvaW50WzFdO1xuICAgICAgICBkYXRhWzRdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzVdIC09IHBvaW50WzFdO1xuXG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbNF07XG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbNV07XG5cbiAgICAgICAgLy8gUyBcdTIxOTIgc1xuICAgICAgICAvLyBRIFx1MjE5MiBxXG4gICAgICB9IGVsc2UgaWYgKFwiU1FcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24udG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAvLyB4MSB5MSB4IHlcbiAgICAgICAgLy8gMCAgMSAgMiAzXG4gICAgICAgIGRhdGFbMF0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbMV0gLT0gcG9pbnRbMV07XG4gICAgICAgIGRhdGFbMl0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbM10gLT0gcG9pbnRbMV07XG5cbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVsyXTtcbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVszXTtcblxuICAgICAgICAvLyBBIFx1MjE5MiBhXG4gICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcIkFcIikge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IFwiYVwiO1xuXG4gICAgICAgIC8vIHJ4IHJ5IHgtYXhpcy1yb3RhdGlvbiBsYXJnZS1hcmMtZmxhZyBzd2VlcC1mbGFnIHggeVxuICAgICAgICAvLyAwICAxICAyICAgICAgICAgICAgICAgMyAgICAgICAgICAgICAgNCAgICAgICAgICA1IDZcbiAgICAgICAgZGF0YVs1XSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVs2XSAtPSBwb2ludFsxXTtcblxuICAgICAgICBwb2ludFswXSArPSBkYXRhWzVdO1xuICAgICAgICBwb2ludFsxXSArPSBkYXRhWzZdO1xuXG4gICAgICAgIC8vIEggXHUyMTkyIGhcbiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiSFwiKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gXCJoXCI7XG5cbiAgICAgICAgZGF0YVswXSAtPSBwb2ludFswXTtcblxuICAgICAgICBwb2ludFswXSArPSBkYXRhWzBdO1xuXG4gICAgICAgIC8vIFYgXHUyMTkyIHZcbiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiVlwiKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gXCJ2XCI7XG5cbiAgICAgICAgZGF0YVswXSAtPSBwb2ludFsxXTtcblxuICAgICAgICBwb2ludFsxXSArPSBkYXRhWzBdO1xuICAgICAgfVxuXG4gICAgICBpdGVtLmluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XG4gICAgICBpdGVtLmRhdGEgPSBkYXRhO1xuXG4gICAgICAvLyBzdG9yZSBhYnNvbHV0ZSBjb29yZGluYXRlcyBmb3IgbGF0ZXIgdXNlXG4gICAgICBpdGVtLmNvb3JkcyA9IHBvaW50LnNsaWNlKC0yKTtcbiAgICB9XG5cbiAgICAvLyAhZGF0YSA9PT0geiwgcmVzZXQgY3VycmVudCBwb2ludFxuICAgIGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwielwiKSB7XG4gICAgICBpZiAoYmFzZUl0ZW0pIHtcbiAgICAgICAgaXRlbS5jb29yZHMgPSBiYXNlSXRlbS5jb29yZHM7XG4gICAgICB9XG4gICAgICBwb2ludFswXSA9IHN1YnBhdGhQb2ludFswXTtcbiAgICAgIHBvaW50WzFdID0gc3VicGF0aFBvaW50WzFdO1xuICAgIH1cblxuICAgIGl0ZW0uYmFzZSA9IGluZGV4ID4gMCA/IHBhdGhbaW5kZXggLSAxXS5jb29yZHMgOiBbMCwgMF07XG4gIH0pO1xuXG4gIHJldHVybiBwYXRoO1xufVxuXG4vKipcbiAqIE1haW4gZmlsdGVycyBsb29wLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhdGggaW5wdXQgcGF0aCBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIHBsdWdpbiBwYXJhbXNcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRwdXQgcGF0aCBkYXRhXG4gKi9cbmZ1bmN0aW9uIGZpbHRlcnMocGF0aCwgcGFyYW1zKSB7XG4gIHZhciBzdHJpbmdpZnkgPSBkYXRhMlBhdGguYmluZChudWxsLCBwYXJhbXMpLFxuICAgIHJlbFN1YnBvaW50ID0gWzAsIDBdLFxuICAgIHBhdGhCYXNlID0gWzAsIDBdLFxuICAgIHByZXYgPSB7fTtcblxuICBwYXRoID0gcGF0aC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4LCBwYXRoKSB7XG4gICAgdmFyIGluc3RydWN0aW9uID0gaXRlbS5pbnN0cnVjdGlvbixcbiAgICAgIGRhdGEgPSBpdGVtLmRhdGEsXG4gICAgICBuZXh0ID0gcGF0aFtpbmRleCArIDFdO1xuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHZhciBzZGF0YSA9IGRhdGEsXG4gICAgICAgIGNpcmNsZTtcblxuICAgICAgaWYgKGluc3RydWN0aW9uID09PSBcInNcIikge1xuICAgICAgICBzZGF0YSA9IFswLCAwXS5jb25jYXQoZGF0YSk7XG5cbiAgICAgICAgaWYgKFwiY3NcIi5pbmRleE9mKHByZXYuaW5zdHJ1Y3Rpb24pID4gLTEpIHtcbiAgICAgICAgICB2YXIgcGRhdGEgPSBwcmV2LmRhdGEsXG4gICAgICAgICAgICBuID0gcGRhdGEubGVuZ3RoO1xuXG4gICAgICAgICAgLy8gKC14LCAteSkgb2YgdGhlIHByZXYgdGFuZ2VudCBwb2ludCByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBwb2ludFxuICAgICAgICAgIHNkYXRhWzBdID0gcGRhdGFbbiAtIDJdIC0gcGRhdGFbbiAtIDRdO1xuICAgICAgICAgIHNkYXRhWzFdID0gcGRhdGFbbiAtIDFdIC0gcGRhdGFbbiAtIDNdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnZlcnQgY3VydmVzIHRvIGFyY3MgaWYgcG9zc2libGVcbiAgICAgIGlmIChcbiAgICAgICAgcGFyYW1zLm1ha2VBcmNzICYmXG4gICAgICAgIChpbnN0cnVjdGlvbiA9PSBcImNcIiB8fCBpbnN0cnVjdGlvbiA9PSBcInNcIikgJiZcbiAgICAgICAgaXNDb252ZXgoc2RhdGEpICYmXG4gICAgICAgIChjaXJjbGUgPSBmaW5kQ2lyY2xlKHNkYXRhKSlcbiAgICAgICkge1xuICAgICAgICB2YXIgciA9IHJvdW5kRGF0YShbY2lyY2xlLnJhZGl1c10pWzBdLFxuICAgICAgICAgIGFuZ2xlID0gZmluZEFyY0FuZ2xlKHNkYXRhLCBjaXJjbGUpLFxuICAgICAgICAgIHN3ZWVwID0gc2RhdGFbNV0gKiBzZGF0YVswXSAtIHNkYXRhWzRdICogc2RhdGFbMV0gPiAwID8gMSA6IDAsXG4gICAgICAgICAgYXJjID0ge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IFwiYVwiLFxuICAgICAgICAgICAgZGF0YTogW3IsIHIsIDAsIDAsIHN3ZWVwLCBzZGF0YVs0XSwgc2RhdGFbNV1dLFxuICAgICAgICAgICAgY29vcmRzOiBpdGVtLmNvb3Jkcy5zbGljZSgpLFxuICAgICAgICAgICAgYmFzZTogaXRlbS5iYXNlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3V0cHV0ID0gW2FyY10sXG4gICAgICAgICAgLy8gcmVsYXRpdmUgY29vcmRpbmF0ZXMgdG8gYWRqdXN0IHRoZSBmb3VuZCBjaXJjbGVcbiAgICAgICAgICByZWxDZW50ZXIgPSBbXG4gICAgICAgICAgICBjaXJjbGUuY2VudGVyWzBdIC0gc2RhdGFbNF0sXG4gICAgICAgICAgICBjaXJjbGUuY2VudGVyWzFdIC0gc2RhdGFbNV0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICByZWxDaXJjbGUgPSB7IGNlbnRlcjogcmVsQ2VudGVyLCByYWRpdXM6IGNpcmNsZS5yYWRpdXMgfSxcbiAgICAgICAgICBhcmNDdXJ2ZXMgPSBbaXRlbV0sXG4gICAgICAgICAgaGFzUHJldiA9IDAsXG4gICAgICAgICAgc3VmZml4ID0gXCJcIixcbiAgICAgICAgICBuZXh0TG9uZ2hhbmQ7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChwcmV2Lmluc3RydWN0aW9uID09IFwiY1wiICYmXG4gICAgICAgICAgICBpc0NvbnZleChwcmV2LmRhdGEpICYmXG4gICAgICAgICAgICBpc0FyY1ByZXYocHJldi5kYXRhLCBjaXJjbGUpKSB8fFxuICAgICAgICAgIChwcmV2Lmluc3RydWN0aW9uID09IFwiYVwiICYmXG4gICAgICAgICAgICBwcmV2LnNkYXRhICYmXG4gICAgICAgICAgICBpc0FyY1ByZXYocHJldi5zZGF0YSwgY2lyY2xlKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgYXJjQ3VydmVzLnVuc2hpZnQocHJldik7XG4gICAgICAgICAgYXJjLmJhc2UgPSBwcmV2LmJhc2U7XG4gICAgICAgICAgYXJjLmRhdGFbNV0gPSBhcmMuY29vcmRzWzBdIC0gYXJjLmJhc2VbMF07XG4gICAgICAgICAgYXJjLmRhdGFbNl0gPSBhcmMuY29vcmRzWzFdIC0gYXJjLmJhc2VbMV07XG4gICAgICAgICAgdmFyIHByZXZEYXRhID0gcHJldi5pbnN0cnVjdGlvbiA9PSBcImFcIiA/IHByZXYuc2RhdGEgOiBwcmV2LmRhdGE7XG4gICAgICAgICAgdmFyIHByZXZBbmdsZSA9IGZpbmRBcmNBbmdsZShwcmV2RGF0YSwge1xuICAgICAgICAgICAgY2VudGVyOiBbXG4gICAgICAgICAgICAgIHByZXZEYXRhWzRdICsgY2lyY2xlLmNlbnRlclswXSxcbiAgICAgICAgICAgICAgcHJldkRhdGFbNV0gKyBjaXJjbGUuY2VudGVyWzFdLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHJhZGl1czogY2lyY2xlLnJhZGl1cyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhbmdsZSArPSBwcmV2QW5nbGU7XG4gICAgICAgICAgaWYgKGFuZ2xlID4gTWF0aC5QSSkgYXJjLmRhdGFbM10gPSAxO1xuICAgICAgICAgIGhhc1ByZXYgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgbmV4dCBjdXJ2ZXMgYXJlIGZpdHRpbmcgdGhlIGFyY1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBqID0gaW5kZXg7XG4gICAgICAgICAgKG5leHQgPSBwYXRoWysral0pICYmIH5cImNzXCIuaW5kZXhPZihuZXh0Lmluc3RydWN0aW9uKTtcblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgbmV4dERhdGEgPSBuZXh0LmRhdGE7XG4gICAgICAgICAgaWYgKG5leHQuaW5zdHJ1Y3Rpb24gPT0gXCJzXCIpIHtcbiAgICAgICAgICAgIG5leHRMb25naGFuZCA9IG1ha2VMb25naGFuZChcbiAgICAgICAgICAgICAgeyBpbnN0cnVjdGlvbjogXCJzXCIsIGRhdGE6IG5leHQuZGF0YS5zbGljZSgpIH0sXG4gICAgICAgICAgICAgIHBhdGhbaiAtIDFdLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBuZXh0RGF0YSA9IG5leHRMb25naGFuZC5kYXRhO1xuICAgICAgICAgICAgbmV4dExvbmdoYW5kLmRhdGEgPSBuZXh0RGF0YS5zbGljZSgwLCAyKTtcbiAgICAgICAgICAgIHN1ZmZpeCA9IHN0cmluZ2lmeShbbmV4dExvbmdoYW5kXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0NvbnZleChuZXh0RGF0YSkgJiYgaXNBcmMobmV4dERhdGEsIHJlbENpcmNsZSkpIHtcbiAgICAgICAgICAgIGFuZ2xlICs9IGZpbmRBcmNBbmdsZShuZXh0RGF0YSwgcmVsQ2lyY2xlKTtcbiAgICAgICAgICAgIGlmIChhbmdsZSAtIDIgKiBNYXRoLlBJID4gMWUtMykgYnJlYWs7IC8vIG1vcmUgdGhhbiAzNjBcdTAwQjBcbiAgICAgICAgICAgIGlmIChhbmdsZSA+IE1hdGguUEkpIGFyYy5kYXRhWzNdID0gMTtcbiAgICAgICAgICAgIGFyY0N1cnZlcy5wdXNoKG5leHQpO1xuICAgICAgICAgICAgaWYgKDIgKiBNYXRoLlBJIC0gYW5nbGUgPiAxZS0zKSB7XG4gICAgICAgICAgICAgIC8vIGxlc3MgdGhhbiAzNjBcdTAwQjBcbiAgICAgICAgICAgICAgYXJjLmNvb3JkcyA9IG5leHQuY29vcmRzO1xuICAgICAgICAgICAgICBhcmMuZGF0YVs1XSA9IGFyYy5jb29yZHNbMF0gLSBhcmMuYmFzZVswXTtcbiAgICAgICAgICAgICAgYXJjLmRhdGFbNl0gPSBhcmMuY29vcmRzWzFdIC0gYXJjLmJhc2VbMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBmdWxsIGNpcmNsZSwgbWFrZSBhIGhhbGYtY2lyY2xlIGFyYyBhbmQgYWRkIGEgc2Vjb25kIG9uZVxuICAgICAgICAgICAgICBhcmMuZGF0YVs1XSA9IDIgKiAocmVsQ2lyY2xlLmNlbnRlclswXSAtIG5leHREYXRhWzRdKTtcbiAgICAgICAgICAgICAgYXJjLmRhdGFbNl0gPSAyICogKHJlbENpcmNsZS5jZW50ZXJbMV0gLSBuZXh0RGF0YVs1XSk7XG4gICAgICAgICAgICAgIGFyYy5jb29yZHMgPSBbXG4gICAgICAgICAgICAgICAgYXJjLmJhc2VbMF0gKyBhcmMuZGF0YVs1XSxcbiAgICAgICAgICAgICAgICBhcmMuYmFzZVsxXSArIGFyYy5kYXRhWzZdLFxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICBhcmMgPSB7XG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IFwiYVwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IFtcbiAgICAgICAgICAgICAgICAgIHIsXG4gICAgICAgICAgICAgICAgICByLFxuICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICBzd2VlcCxcbiAgICAgICAgICAgICAgICAgIG5leHQuY29vcmRzWzBdIC0gYXJjLmNvb3Jkc1swXSxcbiAgICAgICAgICAgICAgICAgIG5leHQuY29vcmRzWzFdIC0gYXJjLmNvb3Jkc1sxXSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGNvb3JkczogbmV4dC5jb29yZHMsXG4gICAgICAgICAgICAgICAgYmFzZTogYXJjLmNvb3JkcyxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgb3V0cHV0LnB1c2goYXJjKTtcbiAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbENlbnRlclswXSAtPSBuZXh0RGF0YVs0XTtcbiAgICAgICAgICAgIHJlbENlbnRlclsxXSAtPSBuZXh0RGF0YVs1XTtcbiAgICAgICAgICB9IGVsc2UgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHN0cmluZ2lmeShvdXRwdXQpICsgc3VmZml4KS5sZW5ndGggPCBzdHJpbmdpZnkoYXJjQ3VydmVzKS5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAocGF0aFtqXSAmJiBwYXRoW2pdLmluc3RydWN0aW9uID09IFwic1wiKSB7XG4gICAgICAgICAgICBtYWtlTG9uZ2hhbmQocGF0aFtqXSwgcGF0aFtqIC0gMV0uZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoYXNQcmV2KSB7XG4gICAgICAgICAgICB2YXIgcHJldkFyYyA9IG91dHB1dC5zaGlmdCgpO1xuICAgICAgICAgICAgcm91bmREYXRhKHByZXZBcmMuZGF0YSk7XG4gICAgICAgICAgICByZWxTdWJwb2ludFswXSArPSBwcmV2QXJjLmRhdGFbNV0gLSBwcmV2LmRhdGFbcHJldi5kYXRhLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgcmVsU3VicG9pbnRbMV0gKz0gcHJldkFyYy5kYXRhWzZdIC0gcHJldi5kYXRhW3ByZXYuZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gPSBcImFcIjtcbiAgICAgICAgICAgIHByZXYuZGF0YSA9IHByZXZBcmMuZGF0YTtcbiAgICAgICAgICAgIGl0ZW0uYmFzZSA9IHByZXYuY29vcmRzID0gcHJldkFyYy5jb29yZHM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFyYyA9IG91dHB1dC5zaGlmdCgpO1xuICAgICAgICAgIGlmIChhcmNDdXJ2ZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGl0ZW0uc2RhdGEgPSBzZGF0YS5zbGljZSgpOyAvLyBwcmVzZXJ2ZSBjdXJ2ZSBkYXRhIGZvciBmdXR1cmUgY2hlY2tzXG4gICAgICAgICAgfSBlbHNlIGlmIChhcmNDdXJ2ZXMubGVuZ3RoIC0gMSAtIGhhc1ByZXYgPiAwKSB7XG4gICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGNvbnN1bWVkIG5leHQgaXRlbXNcbiAgICAgICAgICAgIHBhdGguc3BsaWNlLmFwcGx5KFxuICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICBbaW5kZXggKyAxLCBhcmNDdXJ2ZXMubGVuZ3RoIC0gMSAtIGhhc1ByZXZdLmNvbmNhdChvdXRwdXQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWFyYykgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJhXCI7XG4gICAgICAgICAgZGF0YSA9IGFyYy5kYXRhO1xuICAgICAgICAgIGl0ZW0uY29vcmRzID0gYXJjLmNvb3JkcztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSb3VuZGluZyByZWxhdGl2ZSBjb29yZGluYXRlcywgdGFraW5nIGluIGFjY291bnQgYWNjdW1tdWxhdGluZyBlcnJvclxuICAgICAgLy8gdG8gZ2V0IGNsb3NlciB0byBhYnNvbHV0ZSBjb29yZGluYXRlcy4gU3VtIG9mIHJvdW5kZWQgdmFsdWUgcmVtYWlucyBzYW1lOlxuICAgICAgLy8gbCAuMjUgMyAuMjUgMiAuMjUgMyAuMjUgMiAtPiBsIC4zIDMgLjIgMiAuMyAzIC4yIDJcbiAgICAgIGlmIChwcmVjaXNpb24gIT09IGZhbHNlKSB7XG4gICAgICAgIGlmIChcIm1sdHFzY1wiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gZGF0YS5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICBkYXRhW2ldICs9IGl0ZW0uYmFzZVtpICUgMl0gLSByZWxTdWJwb2ludFtpICUgMl07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwiaFwiKSB7XG4gICAgICAgICAgZGF0YVswXSArPSBpdGVtLmJhc2VbMF0gLSByZWxTdWJwb2ludFswXTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcInZcIikge1xuICAgICAgICAgIGRhdGFbMF0gKz0gaXRlbS5iYXNlWzFdIC0gcmVsU3VicG9pbnRbMV07XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJhXCIpIHtcbiAgICAgICAgICBkYXRhWzVdICs9IGl0ZW0uYmFzZVswXSAtIHJlbFN1YnBvaW50WzBdO1xuICAgICAgICAgIGRhdGFbNl0gKz0gaXRlbS5iYXNlWzFdIC0gcmVsU3VicG9pbnRbMV07XG4gICAgICAgIH1cbiAgICAgICAgcm91bmREYXRhKGRhdGEpO1xuXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PSBcImhcIikgcmVsU3VicG9pbnRbMF0gKz0gZGF0YVswXTtcbiAgICAgICAgZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJ2XCIpIHJlbFN1YnBvaW50WzFdICs9IGRhdGFbMF07XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJlbFN1YnBvaW50WzBdICs9IGRhdGFbZGF0YS5sZW5ndGggLSAyXTtcbiAgICAgICAgICByZWxTdWJwb2ludFsxXSArPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcm91bmREYXRhKHJlbFN1YnBvaW50KTtcblxuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24udG9Mb3dlckNhc2UoKSA9PSBcIm1cIikge1xuICAgICAgICAgIHBhdGhCYXNlWzBdID0gcmVsU3VicG9pbnRbMF07XG4gICAgICAgICAgcGF0aEJhc2VbMV0gPSByZWxTdWJwb2ludFsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb252ZXJ0IHN0cmFpZ2h0IGN1cnZlcyBpbnRvIGxpbmVzIHNlZ21lbnRzXG4gICAgICBpZiAocGFyYW1zLnN0cmFpZ2h0Q3VydmVzKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoaW5zdHJ1Y3Rpb24gPT09IFwiY1wiICYmIGlzQ3VydmVTdHJhaWdodExpbmUoZGF0YSkpIHx8XG4gICAgICAgICAgKGluc3RydWN0aW9uID09PSBcInNcIiAmJiBpc0N1cnZlU3RyYWlnaHRMaW5lKHNkYXRhKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5pbnN0cnVjdGlvbiA9PSBcInNcIikgbWFrZUxvbmdoYW5kKG5leHQsIGRhdGEpOyAvLyBmaXggdXAgbmV4dCBjdXJ2ZVxuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJsXCI7XG4gICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoLTIpO1xuICAgICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcInFcIiAmJiBpc0N1cnZlU3RyYWlnaHRMaW5lKGRhdGEpKSB7XG4gICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5pbnN0cnVjdGlvbiA9PSBcInRcIikgbWFrZUxvbmdoYW5kKG5leHQsIGRhdGEpOyAvLyBmaXggdXAgbmV4dCBjdXJ2ZVxuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJsXCI7XG4gICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoLTIpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGluc3RydWN0aW9uID09PSBcInRcIiAmJlxuICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gIT09IFwicVwiICYmXG4gICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiAhPT0gXCJ0XCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImxcIjtcbiAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgtMik7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiYVwiICYmIChkYXRhWzBdID09PSAwIHx8IGRhdGFbMV0gPT09IDApKSB7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImxcIjtcbiAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgtMik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgbGluZSBzaG9ydGhhbmRzXG4gICAgICAvLyBsIDUwIDAgXHUyMTkyIGggNTBcbiAgICAgIC8vIGwgMCA1MCBcdTIxOTIgdiA1MFxuICAgICAgaWYgKHBhcmFtcy5saW5lU2hvcnRoYW5kcyAmJiBpbnN0cnVjdGlvbiA9PT0gXCJsXCIpIHtcbiAgICAgICAgaWYgKGRhdGFbMV0gPT09IDApIHtcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwiaFwiO1xuICAgICAgICAgIGRhdGEucG9wKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YVswXSA9PT0gMCkge1xuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJ2XCI7XG4gICAgICAgICAgZGF0YS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbGxhcHNlIHJlcGVhdGVkIGNvbW1hbmRzXG4gICAgICAvLyBoIDIwIGggMzAgLT4gaCA1MFxuICAgICAgaWYgKFxuICAgICAgICBwYXJhbXMuY29sbGFwc2VSZXBlYXRlZCAmJlxuICAgICAgICAhaGFzTWFya2VyTWlkICYmXG4gICAgICAgIFwibWh2XCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSAmJlxuICAgICAgICBwcmV2Lmluc3RydWN0aW9uICYmXG4gICAgICAgIGluc3RydWN0aW9uID09IHByZXYuaW5zdHJ1Y3Rpb24udG9Mb3dlckNhc2UoKSAmJlxuICAgICAgICAoKGluc3RydWN0aW9uICE9IFwiaFwiICYmIGluc3RydWN0aW9uICE9IFwidlwiKSB8fFxuICAgICAgICAgIHByZXYuZGF0YVswXSA+PSAwID09IGRhdGFbMF0gPj0gMClcbiAgICAgICkge1xuICAgICAgICBwcmV2LmRhdGFbMF0gKz0gZGF0YVswXTtcbiAgICAgICAgaWYgKGluc3RydWN0aW9uICE9IFwiaFwiICYmIGluc3RydWN0aW9uICE9IFwidlwiKSB7XG4gICAgICAgICAgcHJldi5kYXRhWzFdICs9IGRhdGFbMV07XG4gICAgICAgIH1cbiAgICAgICAgcHJldi5jb29yZHMgPSBpdGVtLmNvb3JkcztcbiAgICAgICAgcGF0aFtpbmRleF0gPSBwcmV2O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnZlcnQgY3VydmVzIGludG8gc21vb3RoIHNob3J0aGFuZHNcbiAgICAgIGlmIChwYXJhbXMuY3VydmVTbW9vdGhTaG9ydGhhbmRzICYmIHByZXYuaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgLy8gY3VydmV0b1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiY1wiKSB7XG4gICAgICAgICAgLy8gYyArIGMgXHUyMTkyIGMgKyBzXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiA9PT0gXCJjXCIgJiZcbiAgICAgICAgICAgIGRhdGFbMF0gPT09IC0ocHJldi5kYXRhWzJdIC0gcHJldi5kYXRhWzRdKSAmJlxuICAgICAgICAgICAgZGF0YVsxXSA9PT0gLShwcmV2LmRhdGFbM10gLSBwcmV2LmRhdGFbNV0pXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwic1wiO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcyArIGMgXHUyMTkyIHMgKyBzXG4gICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uID09PSBcInNcIiAmJlxuICAgICAgICAgICAgZGF0YVswXSA9PT0gLShwcmV2LmRhdGFbMF0gLSBwcmV2LmRhdGFbMl0pICYmXG4gICAgICAgICAgICBkYXRhWzFdID09PSAtKHByZXYuZGF0YVsxXSAtIHByZXYuZGF0YVszXSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gXCJzXCI7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBbXmNzXSArIGMgXHUyMTkyIFteY3NdICsgc1xuICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgXCJjc1wiLmluZGV4T2YocHJldi5pbnN0cnVjdGlvbikgPT09IC0xICYmXG4gICAgICAgICAgICBkYXRhWzBdID09PSAwICYmXG4gICAgICAgICAgICBkYXRhWzFdID09PSAwXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwic1wiO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcXVhZHJhdGljIEJcdTAwRTl6aWVyIGN1cnZldG9cbiAgICAgICAgZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwicVwiKSB7XG4gICAgICAgICAgLy8gcSArIHEgXHUyMTkyIHEgKyB0XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiA9PT0gXCJxXCIgJiZcbiAgICAgICAgICAgIGRhdGFbMF0gPT09IHByZXYuZGF0YVsyXSAtIHByZXYuZGF0YVswXSAmJlxuICAgICAgICAgICAgZGF0YVsxXSA9PT0gcHJldi5kYXRhWzNdIC0gcHJldi5kYXRhWzFdXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwidFwiO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gdCArIHEgXHUyMTkyIHQgKyB0XG4gICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uID09PSBcInRcIiAmJlxuICAgICAgICAgICAgZGF0YVsyXSA9PT0gcHJldi5kYXRhWzBdICYmXG4gICAgICAgICAgICBkYXRhWzNdID09PSBwcmV2LmRhdGFbMV1cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gXCJ0XCI7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gcmVtb3ZlIHVzZWxlc3Mgbm9uLWZpcnN0IHBhdGggc2VnbWVudHNcbiAgICAgIGlmIChwYXJhbXMucmVtb3ZlVXNlbGVzcyAmJiAhaGFzU3Ryb2tlTGluZWNhcCkge1xuICAgICAgICAvLyBsIDAsMCAvIGggMCAvIHYgMCAvIHEgMCwwIDAsMCAvIHQgMCwwIC8gYyAwLDAgMCwwIDAsMCAvIHMgMCwwIDAsMFxuICAgICAgICBpZiAoXG4gICAgICAgICAgXCJsaHZxdGNzXCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSAmJlxuICAgICAgICAgIGRhdGEuZXZlcnkoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHJldHVybiBpID09PSAwO1xuICAgICAgICAgIH0pXG4gICAgICAgICkge1xuICAgICAgICAgIHBhdGhbaW5kZXhdID0gcHJldjtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhIDI1LDI1IC0zMCAwLDEgMCwwXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJhXCIgJiYgZGF0YVs1XSA9PT0gMCAmJiBkYXRhWzZdID09PSAwKSB7XG4gICAgICAgICAgcGF0aFtpbmRleF0gPSBwcmV2O1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpdGVtLmluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XG4gICAgICBpdGVtLmRhdGEgPSBkYXRhO1xuXG4gICAgICBwcmV2ID0gaXRlbTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8geiByZXNldHMgY29vcmRpbmF0ZXNcbiAgICAgIHJlbFN1YnBvaW50WzBdID0gcGF0aEJhc2VbMF07XG4gICAgICByZWxTdWJwb2ludFsxXSA9IHBhdGhCYXNlWzFdO1xuICAgICAgaWYgKHByZXYuaW5zdHJ1Y3Rpb24gPT0gXCJ6XCIpIHJldHVybiBmYWxzZTtcbiAgICAgIHByZXYgPSBpdGVtO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gcGF0aDtcbn1cblxuLyoqXG4gKiBXcml0ZXMgZGF0YSBpbiBzaG9ydGVzdCBmb3JtIHVzaW5nIGFic29sdXRlIG9yIHJlbGF0aXZlIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgaW5wdXQgcGF0aCBkYXRhXG4gKiBAcmV0dXJuIHtCb29sZWFufSBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gY29udmVydFRvTWl4ZWQocGF0aCwgcGFyYW1zKSB7XG4gIHZhciBwcmV2ID0gcGF0aFswXTtcblxuICBwYXRoID0gcGF0aC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgaWYgKGluZGV4ID09IDApIHJldHVybiB0cnVlO1xuICAgIGlmICghaXRlbS5kYXRhKSB7XG4gICAgICBwcmV2ID0gaXRlbTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBpbnN0cnVjdGlvbiA9IGl0ZW0uaW5zdHJ1Y3Rpb24sXG4gICAgICBkYXRhID0gaXRlbS5kYXRhLFxuICAgICAgYWRhdGEgPSBkYXRhICYmIGRhdGEuc2xpY2UoMCk7XG5cbiAgICBpZiAoXCJtbHRxc2NcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xKSB7XG4gICAgICBmb3IgKHZhciBpID0gYWRhdGEubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICBhZGF0YVtpXSArPSBpdGVtLmJhc2VbaSAlIDJdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJoXCIpIHtcbiAgICAgIGFkYXRhWzBdICs9IGl0ZW0uYmFzZVswXTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwidlwiKSB7XG4gICAgICBhZGF0YVswXSArPSBpdGVtLmJhc2VbMV07XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcImFcIikge1xuICAgICAgYWRhdGFbNV0gKz0gaXRlbS5iYXNlWzBdO1xuICAgICAgYWRhdGFbNl0gKz0gaXRlbS5iYXNlWzFdO1xuICAgIH1cblxuICAgIHJvdW5kRGF0YShhZGF0YSk7XG5cbiAgICB2YXIgYWJzb2x1dGVEYXRhU3RyID0gY2xlYW51cE91dERhdGEoYWRhdGEsIHBhcmFtcyksXG4gICAgICByZWxhdGl2ZURhdGFTdHIgPSBjbGVhbnVwT3V0RGF0YShkYXRhLCBwYXJhbXMpO1xuXG4gICAgLy8gQ29udmVydCB0byBhYnNvbHV0ZSBjb29yZGluYXRlcyBpZiBpdCdzIHNob3J0ZXIgb3IgZm9yY2VBYnNvbHV0ZVBhdGggaXMgdHJ1ZS5cbiAgICAvLyB2LTIwIC0+IFYwXG4gICAgLy8gRG9uJ3QgY29udmVydCBpZiBpdCBmaXRzIGZvbGxvd2luZyBwcmV2aW91cyBpbnN0cnVjdGlvbi5cbiAgICAvLyBsMjAgMzAtMTAtNTAgaW5zdGVhZCBvZiBsMjAgMzBMMjAgMzBcbiAgICBpZiAoXG4gICAgICBwYXJhbXMuZm9yY2VBYnNvbHV0ZVBhdGggfHxcbiAgICAgIChhYnNvbHV0ZURhdGFTdHIubGVuZ3RoIDwgcmVsYXRpdmVEYXRhU3RyLmxlbmd0aCAmJlxuICAgICAgICAhKFxuICAgICAgICAgIHBhcmFtcy5uZWdhdGl2ZUV4dHJhU3BhY2UgJiZcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9PSBwcmV2Lmluc3RydWN0aW9uICYmXG4gICAgICAgICAgcHJldi5pbnN0cnVjdGlvbi5jaGFyQ29kZUF0KDApID4gOTYgJiZcbiAgICAgICAgICBhYnNvbHV0ZURhdGFTdHIubGVuZ3RoID09IHJlbGF0aXZlRGF0YVN0ci5sZW5ndGggLSAxICYmXG4gICAgICAgICAgKGRhdGFbMF0gPCAwIHx8XG4gICAgICAgICAgICAoL14wXFwuLy50ZXN0KGRhdGFbMF0pICYmIHByZXYuZGF0YVtwcmV2LmRhdGEubGVuZ3RoIC0gMV0gJSAxKSlcbiAgICAgICAgKSlcbiAgICApIHtcbiAgICAgIGl0ZW0uaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbi50b1VwcGVyQ2FzZSgpO1xuICAgICAgaXRlbS5kYXRhID0gYWRhdGE7XG4gICAgfVxuXG4gICAgcHJldiA9IGl0ZW07XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBhdGg7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGN1cnZlIGlzIGNvbnZleC4gQ29udHJvbCBwb2ludHMgb2Ygc3VjaCBhIGN1cnZlIG11c3QgZm9ybVxuICogYSBjb252ZXggcXVhZHJpbGF0ZXJhbCB3aXRoIGRpYWdvbmFscyBjcm9zc3BvaW50IGluc2lkZSBvZiBpdC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIGlucHV0IHBhdGggZGF0YVxuICogQHJldHVybiB7Qm9vbGVhbn0gb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGlzQ29udmV4KGRhdGEpIHtcbiAgdmFyIGNlbnRlciA9IGdldEludGVyc2VjdGlvbihbXG4gICAgMCxcbiAgICAwLFxuICAgIGRhdGFbMl0sXG4gICAgZGF0YVszXSxcbiAgICBkYXRhWzBdLFxuICAgIGRhdGFbMV0sXG4gICAgZGF0YVs0XSxcbiAgICBkYXRhWzVdLFxuICBdKTtcblxuICByZXR1cm4gKFxuICAgIGNlbnRlciAmJlxuICAgIGRhdGFbMl0gPCBjZW50ZXJbMF0gPT0gY2VudGVyWzBdIDwgMCAmJlxuICAgIGRhdGFbM10gPCBjZW50ZXJbMV0gPT0gY2VudGVyWzFdIDwgMCAmJlxuICAgIGRhdGFbNF0gPCBjZW50ZXJbMF0gPT0gY2VudGVyWzBdIDwgZGF0YVswXSAmJlxuICAgIGRhdGFbNV0gPCBjZW50ZXJbMV0gPT0gY2VudGVyWzFdIDwgZGF0YVsxXVxuICApO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIGxpbmVzIGVxdWF0aW9ucyBieSB0d28gcG9pbnRzIGFuZCByZXR1cm5zIHRoZWlyIGludGVyc2VjdGlvbiBwb2ludC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjb29yZHMgOCBudW1iZXJzIGZvciA0IHBhaXJzIG9mIGNvb3JkaW5hdGVzICh4LHkpXG4gKiBAcmV0dXJuIHtBcnJheXx1bmRlZmluZWR9IG91dHB1dCBjb29yZGluYXRlIG9mIGxpbmVzJyBjcm9zc3BvaW50XG4gKi9cbmZ1bmN0aW9uIGdldEludGVyc2VjdGlvbihjb29yZHMpIHtcbiAgLy8gUHJldiBsaW5lIGVxdWF0aW9uIHBhcmFtZXRlcnMuXG4gIHZhciBhMSA9IGNvb3Jkc1sxXSAtIGNvb3Jkc1szXSwgLy8geTEgLSB5MlxuICAgIGIxID0gY29vcmRzWzJdIC0gY29vcmRzWzBdLCAvLyB4MiAtIHgxXG4gICAgYzEgPSBjb29yZHNbMF0gKiBjb29yZHNbM10gLSBjb29yZHNbMl0gKiBjb29yZHNbMV0sIC8vIHgxICogeTIgLSB4MiAqIHkxXG4gICAgLy8gTmV4dCBsaW5lIGVxdWF0aW9uIHBhcmFtZXRlcnNcbiAgICBhMiA9IGNvb3Jkc1s1XSAtIGNvb3Jkc1s3XSwgLy8geTEgLSB5MlxuICAgIGIyID0gY29vcmRzWzZdIC0gY29vcmRzWzRdLCAvLyB4MiAtIHgxXG4gICAgYzIgPSBjb29yZHNbNF0gKiBjb29yZHNbN10gLSBjb29yZHNbNV0gKiBjb29yZHNbNl0sIC8vIHgxICogeTIgLSB4MiAqIHkxXG4gICAgZGVub20gPSBhMSAqIGIyIC0gYTIgKiBiMTtcblxuICBpZiAoIWRlbm9tKSByZXR1cm47IC8vIHBhcmFsbGVsIGxpbmVzIGhhdm4ndCBhbiBpbnRlcnNlY3Rpb25cblxuICB2YXIgY3Jvc3MgPSBbKGIxICogYzIgLSBiMiAqIGMxKSAvIGRlbm9tLCAoYTEgKiBjMiAtIGEyICogYzEpIC8gLWRlbm9tXTtcbiAgaWYgKFxuICAgICFpc05hTihjcm9zc1swXSkgJiZcbiAgICAhaXNOYU4oY3Jvc3NbMV0pICYmXG4gICAgaXNGaW5pdGUoY3Jvc3NbMF0pICYmXG4gICAgaXNGaW5pdGUoY3Jvc3NbMV0pXG4gICkge1xuICAgIHJldHVybiBjcm9zcztcbiAgfVxufVxuXG4vKipcbiAqIERlY3JlYXNlIGFjY3VyYWN5IG9mIGZsb2F0aW5nLXBvaW50IG51bWJlcnNcbiAqIGluIHBhdGggZGF0YSBrZWVwaW5nIGEgc3BlY2lmaWVkIG51bWJlciBvZiBkZWNpbWFscy5cbiAqIFNtYXJ0IHJvdW5kcyB2YWx1ZXMgbGlrZSAyLjM0OTEgdG8gMi4zNSBpbnN0ZWFkIG9mIDIuMzQ5LlxuICogRG9lc24ndCBhcHBseSBcInNtYXJ0bmVzc1wiIGlmIHRoZSBudW1iZXIgcHJlY2lzaW9uIGZpdHMgYWxyZWFkeS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIGlucHV0IGRhdGEgYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRwdXQgZGF0YSBhcnJheVxuICovXG5mdW5jdGlvbiBzdHJvbmdSb3VuZChkYXRhKSB7XG4gIGZvciAodmFyIGkgPSBkYXRhLmxlbmd0aDsgaS0tID4gMDsgKSB7XG4gICAgaWYgKGRhdGFbaV0udG9GaXhlZChwcmVjaXNpb24pICE9IGRhdGFbaV0pIHtcbiAgICAgIHZhciByb3VuZGVkID0gK2RhdGFbaV0udG9GaXhlZChwcmVjaXNpb24gLSAxKTtcbiAgICAgIGRhdGFbaV0gPVxuICAgICAgICArTWF0aC5hYnMocm91bmRlZCAtIGRhdGFbaV0pLnRvRml4ZWQocHJlY2lzaW9uICsgMSkgPj0gZXJyb3JcbiAgICAgICAgICA/ICtkYXRhW2ldLnRvRml4ZWQocHJlY2lzaW9uKVxuICAgICAgICAgIDogcm91bmRlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogU2ltcGxlIHJvdW5kaW5nIGZ1bmN0aW9uIGlmIHByZWNpc2lvbiBpcyAwLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgaW5wdXQgZGF0YSBhcnJheVxuICogQHJldHVybiB7QXJyYXl9IG91dHB1dCBkYXRhIGFycmF5XG4gKi9cbmZ1bmN0aW9uIHJvdW5kKGRhdGEpIHtcbiAgZm9yICh2YXIgaSA9IGRhdGEubGVuZ3RoOyBpLS0gPiAwOyApIHtcbiAgICBkYXRhW2ldID0gTWF0aC5yb3VuZChkYXRhW2ldKTtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBjdXJ2ZSBpcyBhIHN0cmFpZ2h0IGxpbmUgYnkgbWVhc3VyaW5nIGRpc3RhbmNlXG4gKiBmcm9tIG1pZGRsZSBwb2ludHMgdG8gdGhlIGxpbmUgZm9ybWVkIGJ5IGVuZCBwb2ludHMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0geHMgYXJyYXkgb2YgY3VydmUgcG9pbnRzIHgtY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7QXJyYXl9IHlzIGFycmF5IG9mIGN1cnZlIHBvaW50cyB5LWNvb3JkaW5hdGVzXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGlzQ3VydmVTdHJhaWdodExpbmUoZGF0YSkge1xuICAvLyBHZXQgbGluZSBlcXVhdGlvbiBhXHUwMEI3eCArIGJcdTAwQjd5ICsgYyA9IDAgY29lZmZpY2llbnRzIGEsIGIgKGMgPSAwKSBieSBzdGFydCBhbmQgZW5kIHBvaW50cy5cbiAgdmFyIGkgPSBkYXRhLmxlbmd0aCAtIDIsXG4gICAgYSA9IC1kYXRhW2kgKyAxXSwgLy8geTEgXHUyMjEyIHkyICh5MSA9IDApXG4gICAgYiA9IGRhdGFbaV0sIC8vIHgyIFx1MjIxMiB4MSAoeDEgPSAwKVxuICAgIGQgPSAxIC8gKGEgKiBhICsgYiAqIGIpOyAvLyBzYW1lIHBhcnQgZm9yIGFsbCBwb2ludHNcblxuICBpZiAoaSA8PSAxIHx8ICFpc0Zpbml0ZShkKSkgcmV0dXJuIGZhbHNlOyAvLyBjdXJ2ZSB0aGF0IGVuZHMgYXQgc3RhcnQgcG9pbnQgaXNuJ3QgdGhlIGNhc2VcblxuICAvLyBEaXN0YW5jZSBmcm9tIHBvaW50ICh4MCwgeTApIHRvIHRoZSBsaW5lIGlzIHNxcnQoKGMgXHUyMjEyIGFcdTAwQjd4MCBcdTIyMTIgYlx1MDBCN3kwKVx1MDBCMiAvIChhXHUwMEIyICsgYlx1MDBCMikpXG4gIHdoaWxlICgoaSAtPSAyKSA+PSAwKSB7XG4gICAgaWYgKE1hdGguc3FydChNYXRoLnBvdyhhICogZGF0YVtpXSArIGIgKiBkYXRhW2kgKyAxXSwgMikgKiBkKSA+IGVycm9yKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQ29udmVydHMgbmV4dCBjdXJ2ZSBmcm9tIHNob3J0aGFuZCB0byBmdWxsIGZvcm0gdXNpbmcgdGhlIGN1cnJlbnQgY3VydmUgZGF0YS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaXRlbSBjdXJ2ZSB0byBjb252ZXJ0XG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIGN1cnJlbnQgY3VydmUgZGF0YVxuICovXG5cbmZ1bmN0aW9uIG1ha2VMb25naGFuZChpdGVtLCBkYXRhKSB7XG4gIHN3aXRjaCAoaXRlbS5pbnN0cnVjdGlvbikge1xuICAgIGNhc2UgXCJzXCI6XG4gICAgICBpdGVtLmluc3RydWN0aW9uID0gXCJjXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwidFwiOlxuICAgICAgaXRlbS5pbnN0cnVjdGlvbiA9IFwicVwiO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgaXRlbS5kYXRhLnVuc2hpZnQoXG4gICAgZGF0YVtkYXRhLmxlbmd0aCAtIDJdIC0gZGF0YVtkYXRhLmxlbmd0aCAtIDRdLFxuICAgIGRhdGFbZGF0YS5sZW5ndGggLSAxXSAtIGRhdGFbZGF0YS5sZW5ndGggLSAzXVxuICApO1xuICByZXR1cm4gaXRlbTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50c1xuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBvaW50MSBmaXJzdCBwb2ludCBjb29yZGluYXRlc1xuICogQHBhcmFtIHtBcnJheX0gcG9pbnQyIHNlY29uZCBwb2ludCBjb29yZGluYXRlc1xuICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuICovXG5cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHBvaW50MSwgcG9pbnQyKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KHBvaW50MVswXSAtIHBvaW50MlswXSwgcG9pbnQxWzFdIC0gcG9pbnQyWzFdKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGNvb3JkaW5hdGVzIG9mIHRoZSBjdXJ2ZSBwb2ludCBjb3JyZXNwb25kaW5nIHRvIHRoZSBjZXJ0YWluIHRcbiAqIGFcdTAwQjcoMSAtIHQpXHUwMEIzXHUwMEI3cDEgKyBiXHUwMEI3KDEgLSB0KVx1MDBCMlx1MDBCN3RcdTAwQjdwMiArIGNcdTAwQjcoMSAtIHQpXHUwMEI3dFx1MDBCMlx1MDBCN3AzICsgZFx1MDBCN3RcdTAwQjNcdTAwQjdwNCxcbiAqIHdoZXJlIHBOIGFyZSBjb250cm9sIHBvaW50cyBhbmQgcDEgaXMgemVybyBkdWUgdG8gcmVsYXRpdmUgY29vcmRpbmF0ZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gY3VydmUgYXJyYXkgb2YgY3VydmUgcG9pbnRzIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge051bWJlcn0gdCBwYXJhbWV0cmljIHBvc2l0aW9uIGZyb20gMCB0byAxXG4gKiBAcmV0dXJuIHtBcnJheX0gUG9pbnQgY29vcmRpbmF0ZXNcbiAqL1xuXG5mdW5jdGlvbiBnZXRDdWJpY0JlemllclBvaW50KGN1cnZlLCB0KSB7XG4gIHZhciBzcXJUID0gdCAqIHQsXG4gICAgY3ViVCA9IHNxclQgKiB0LFxuICAgIG10ID0gMSAtIHQsXG4gICAgc3FyTXQgPSBtdCAqIG10O1xuXG4gIHJldHVybiBbXG4gICAgMyAqIHNxck10ICogdCAqIGN1cnZlWzBdICsgMyAqIG10ICogc3FyVCAqIGN1cnZlWzJdICsgY3ViVCAqIGN1cnZlWzRdLFxuICAgIDMgKiBzcXJNdCAqIHQgKiBjdXJ2ZVsxXSArIDMgKiBtdCAqIHNxclQgKiBjdXJ2ZVszXSArIGN1YlQgKiBjdXJ2ZVs1XSxcbiAgXTtcbn1cblxuLyoqXG4gKiBGaW5kcyBjaXJjbGUgYnkgMyBwb2ludHMgb2YgdGhlIGN1cnZlIGFuZCBjaGVja3MgaWYgdGhlIGN1cnZlIGZpdHMgdGhlIGZvdW5kIGNpcmNsZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjdXJ2ZVxuICogQHJldHVybiB7T2JqZWN0fHVuZGVmaW5lZH0gY2lyY2xlXG4gKi9cblxuZnVuY3Rpb24gZmluZENpcmNsZShjdXJ2ZSkge1xuICB2YXIgbWlkUG9pbnQgPSBnZXRDdWJpY0JlemllclBvaW50KGN1cnZlLCAxIC8gMiksXG4gICAgbTEgPSBbbWlkUG9pbnRbMF0gLyAyLCBtaWRQb2ludFsxXSAvIDJdLFxuICAgIG0yID0gWyhtaWRQb2ludFswXSArIGN1cnZlWzRdKSAvIDIsIChtaWRQb2ludFsxXSArIGN1cnZlWzVdKSAvIDJdLFxuICAgIGNlbnRlciA9IGdldEludGVyc2VjdGlvbihbXG4gICAgICBtMVswXSxcbiAgICAgIG0xWzFdLFxuICAgICAgbTFbMF0gKyBtMVsxXSxcbiAgICAgIG0xWzFdIC0gbTFbMF0sXG4gICAgICBtMlswXSxcbiAgICAgIG0yWzFdLFxuICAgICAgbTJbMF0gKyAobTJbMV0gLSBtaWRQb2ludFsxXSksXG4gICAgICBtMlsxXSAtIChtMlswXSAtIG1pZFBvaW50WzBdKSxcbiAgICBdKSxcbiAgICByYWRpdXMgPSBjZW50ZXIgJiYgZ2V0RGlzdGFuY2UoWzAsIDBdLCBjZW50ZXIpLFxuICAgIHRvbGVyYW5jZSA9IE1hdGgubWluKGFyY1RocmVzaG9sZCAqIGVycm9yLCAoYXJjVG9sZXJhbmNlICogcmFkaXVzKSAvIDEwMCk7XG5cbiAgaWYgKFxuICAgIGNlbnRlciAmJlxuICAgIHJhZGl1cyA8IDFlMTUgJiZcbiAgICBbMSAvIDQsIDMgLyA0XS5ldmVyeShmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIE1hdGguYWJzKFxuICAgICAgICAgIGdldERpc3RhbmNlKGdldEN1YmljQmV6aWVyUG9pbnQoY3VydmUsIHBvaW50KSwgY2VudGVyKSAtIHJhZGl1c1xuICAgICAgICApIDw9IHRvbGVyYW5jZVxuICAgICAgKTtcbiAgICB9KVxuICApXG4gICAgcmV0dXJuIHsgY2VudGVyOiBjZW50ZXIsIHJhZGl1czogcmFkaXVzIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgY3VydmUgZml0cyB0aGUgZ2l2ZW4gY2lyY2xlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjaXJjbGVcbiAqIEBwYXJhbSB7QXJyYXl9IGN1cnZlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGlzQXJjKGN1cnZlLCBjaXJjbGUpIHtcbiAgdmFyIHRvbGVyYW5jZSA9IE1hdGgubWluKFxuICAgIGFyY1RocmVzaG9sZCAqIGVycm9yLFxuICAgIChhcmNUb2xlcmFuY2UgKiBjaXJjbGUucmFkaXVzKSAvIDEwMFxuICApO1xuXG4gIHJldHVybiBbMCwgMSAvIDQsIDEgLyAyLCAzIC8gNCwgMV0uZXZlcnkoZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIE1hdGguYWJzKFxuICAgICAgICBnZXREaXN0YW5jZShnZXRDdWJpY0JlemllclBvaW50KGN1cnZlLCBwb2ludCksIGNpcmNsZS5jZW50ZXIpIC1cbiAgICAgICAgICBjaXJjbGUucmFkaXVzXG4gICAgICApIDw9IHRvbGVyYW5jZVxuICAgICk7XG4gIH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHByZXZpb3VzIGN1cnZlIGZpdHMgdGhlIGdpdmVuIGNpcmNsZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY2lyY2xlXG4gKiBAcGFyYW0ge0FycmF5fSBjdXJ2ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBpc0FyY1ByZXYoY3VydmUsIGNpcmNsZSkge1xuICByZXR1cm4gaXNBcmMoY3VydmUsIHtcbiAgICBjZW50ZXI6IFtjaXJjbGUuY2VudGVyWzBdICsgY3VydmVbNF0sIGNpcmNsZS5jZW50ZXJbMV0gKyBjdXJ2ZVs1XV0sXG4gICAgcmFkaXVzOiBjaXJjbGUucmFkaXVzLFxuICB9KTtcbn1cblxuLyoqXG4gKiBGaW5kcyBhbmdsZSBvZiBhIGN1cnZlIGZpdHRpbmcgdGhlIGdpdmVuIGFyYy5cblxuICogQHBhcmFtIHtBcnJheX0gY3VydmVcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWxDaXJjbGVcbiAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAqL1xuXG5mdW5jdGlvbiBmaW5kQXJjQW5nbGUoY3VydmUsIHJlbENpcmNsZSkge1xuICB2YXIgeDEgPSAtcmVsQ2lyY2xlLmNlbnRlclswXSxcbiAgICB5MSA9IC1yZWxDaXJjbGUuY2VudGVyWzFdLFxuICAgIHgyID0gY3VydmVbNF0gLSByZWxDaXJjbGUuY2VudGVyWzBdLFxuICAgIHkyID0gY3VydmVbNV0gLSByZWxDaXJjbGUuY2VudGVyWzFdO1xuXG4gIHJldHVybiBNYXRoLmFjb3MoXG4gICAgKHgxICogeDIgKyB5MSAqIHkyKSAvIE1hdGguc3FydCgoeDEgKiB4MSArIHkxICogeTEpICogKHgyICogeDIgKyB5MiAqIHkyKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBnaXZlbiBwYXRoIGRhdGEgdG8gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXNcbiAqIEBwYXJhbSB7QXJyYXl9IHBhdGhEYXRhXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cblxuZnVuY3Rpb24gZGF0YTJQYXRoKHBhcmFtcywgcGF0aERhdGEpIHtcbiAgcmV0dXJuIHBhdGhEYXRhLnJlZHVjZShmdW5jdGlvbiAocGF0aFN0cmluZywgaXRlbSkge1xuICAgIHZhciBzdHJEYXRhID0gXCJcIjtcbiAgICBpZiAoaXRlbS5kYXRhKSB7XG4gICAgICBzdHJEYXRhID0gY2xlYW51cE91dERhdGEocm91bmREYXRhKGl0ZW0uZGF0YS5zbGljZSgpKSwgcGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGhTdHJpbmcgKyBpdGVtLmluc3RydWN0aW9uICsgc3RyRGF0YTtcbiAgfSwgXCJcIik7XG59XG4iLCAiaW1wb3J0IHsgY3J1bmNoU3ZnIH0gZnJvbSBcIi4vY3J1bmNoU3ZnXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNvZGVTdmdUb1N0cmluZyhzdmc6IFVpbnQ4QXJyYXksIGlkczogc3RyaW5nW11bXSkge1xuICBsZXQgc3ZnU3RyID0gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKHN2Zyk7XG4gIC8vIFVwZGF0ZSBIVFRQIGxpbmtzIHRvIEhUVFBTXG4gIHN2Z1N0ciA9IHN2Z1N0ci5yZXBsYWNlKC9odHRwOlxcL1xcLy9nLCBcImh0dHBzOi8vXCIpO1xuXG4gIC8vIFJlcGxhY2UgZmlnbWEgSURzIFwiMDA6MDBcIiB3aXRoIENTUyB2YWxpZCBJRHNcbiAgaWRzLmZvckVhY2goKFtpZCwgdWlkXSkgPT4ge1xuICAgIHN2Z1N0ciA9IHN2Z1N0ci5yZXBsYWNlKGBpZD1cIiR7aWR9XCJgLCBgaWQ9XCIke2lkfVwiIGNsYXNzPVwiJHt1aWR9XCIgYCk7XG4gIH0pO1xuXG4gIGNvbnN0IGVtcHR5RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZW1wdHlEaXYuaW5uZXJIVE1MID0gc3ZnU3RyO1xuICBjb25zdCBzdmdFbCA9IGVtcHR5RGl2LnF1ZXJ5U2VsZWN0b3IoXCJzdmdcIik7XG5cbiAgaWYgKCFzdmdFbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlNWRyBkZWNvZGUgZmFpbGVkLiBNaXNzaW5nIFNWRyBlbGVtZW50XCIpO1xuICB9XG5cbiAgY3J1bmNoU3ZnKHN2Z0VsKTtcblxuICAvLyBCVUc6IFJlbW92ZSBlbXB0eSBjbGlwIHBhdGhzXG4gIFsuLi4oc3ZnRWw/LnF1ZXJ5U2VsZWN0b3JBbGwoXCJjbGlwUGF0aFwiKSB8fCBbXSldLmZvckVhY2goKGNsaXBQYXRoKSA9PiB7XG4gICAgaWYgKGNsaXBQYXRoLmNoaWxkRWxlbWVudENvdW50ID09PSAwKSB7XG4gICAgICBjbGlwUGF0aC5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZChjbGlwUGF0aCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBSZW1vdmUgdGV4dCBub2Rlc1xuICBbLi4uKHN2Z0VsPy5xdWVyeVNlbGVjdG9yQWxsKFwidGV4dFwiKSB8fCBbXSldLmZvckVhY2goKHRleHROb2RlKSA9PiB7XG4gICAgdGV4dE5vZGUucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQodGV4dE5vZGUpO1xuICB9KTtcblxuICByZXR1cm4gc3ZnRWwub3V0ZXJIVE1MO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U3ZnU3RyaW5nKHVybDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIGZldGNoKHVybCkudGhlbigocmVzKSA9PiB7XG4gICAgaWYgKHJlcy5vayA9PT0gZmFsc2UpIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBTVkcgYmxvYlwiKTtcblxuICAgIHJldHVybiByZXMudGV4dCgpO1xuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBNU0dfRVZFTlRTIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5pbnRlcmZhY2UgSVBvc3RtYW5NZXNzYWdlIHtcbiAgbmFtZTogc3RyaW5nO1xuICB1aWQ6IHN0cmluZztcbiAgd29ya2xvYWQ6IE1TR19FVkVOVFM7XG4gIGRhdGE6IGFueTtcbiAgcmV0dXJuaW5nPzogYm9vbGVhbjtcbiAgZXJyPzogc3RyaW5nO1xufVxuXG5jbGFzcyBQb3N0bWFuIHtcbiAgcHJpdmF0ZSBuYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgaW5GaWdtYVNhbmRib3g6IGJvb2xlYW47XG4gIHByaXZhdGUgY2FsbGJhY2tTdG9yZTogeyBbaWQ6IHN0cmluZ106IEZ1bmN0aW9uIH07XG4gIHByaXZhdGUgd29ya2VyczogeyBbaWQ6IHN0cmluZ106IEZ1bmN0aW9uIH07XG5cbiAgcHJpdmF0ZSBUSU1FT1VUID0gMzAwMDA7XG5cbiAgY29uc3RydWN0b3IocHJvcHM/OiB7IG1lc3NhZ2VOYW1lPzogc3RyaW5nOyBzY29wZTogbnVsbCB9KSB7XG4gICAgdGhpcy5uYW1lID0gcHJvcHM/Lm1lc3NhZ2VOYW1lIHx8IFwiUE9TVE1BTlwiO1xuICAgIHRoaXMuaW5GaWdtYVNhbmRib3ggPSB0eXBlb2YgZmlnbWEgPT09IFwib2JqZWN0XCI7XG4gICAgdGhpcy5jYWxsYmFja1N0b3JlID0ge307XG4gICAgdGhpcy53b3JrZXJzID0ge307XG5cbiAgICAvLyBBZGQgbWVzc2FnZSBldmVudCBsaXN0ZW5lclxuICAgIHRoaXMuaW5GaWdtYVNhbmRib3hcbiAgICAgID8gZmlnbWEudWkub24oXCJtZXNzYWdlXCIsIHRoaXMucmVjZWl2ZSlcbiAgICAgIDogd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMucmVjZWl2ZSk7XG4gIH1cblxuICBwcml2YXRlIHJlY2VpdmUgPSBhc3luYyAoZXZlbnQ6IE1lc3NhZ2VFdmVudDxJUG9zdG1hbk1lc3NhZ2U+KSA9PiB7XG4gICAgY29uc3QgbXNnQm9keSA9IHRoaXMuaW5GaWdtYVNhbmRib3ggPyBldmVudCA6IGV2ZW50Py5kYXRhPy5wbHVnaW5NZXNzYWdlO1xuICAgIGNvbnN0IHsgZGF0YSwgd29ya2xvYWQsIG5hbWUsIHVpZCwgcmV0dXJuaW5nLCBlcnIgfSA9IG1zZ0JvZHkgfHwge307XG5cbiAgICB0cnkge1xuICAgICAgLy8gRG8gbm90aGluZyBpZCBwb3N0IG1lc3NhZ2UgaXNuJ3QgZm9yIHVzXG4gICAgICBpZiAodGhpcy5uYW1lICE9PSBuYW1lKSByZXR1cm47XG5cbiAgICAgIGlmIChyZXR1cm5pbmcgJiYgIXRoaXMuY2FsbGJhY2tTdG9yZVt1aWRdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBjYWxsYmFjazogJHt1aWR9YCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcmV0dXJuaW5nICYmICF0aGlzLndvcmtlcnNbd29ya2xvYWRdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gd29ya2xvYWQgcmVnaXN0ZXJlZDogJHt3b3JrbG9hZH1gKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJldHVybmluZykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrU3RvcmVbdWlkXShkYXRhLCBlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgd29ya2xvYWRSZXN1bHQgPSBhd2FpdCB0aGlzLndvcmtlcnNbd29ya2xvYWRdKGRhdGEpO1xuICAgICAgICB0aGlzLnBvc3RCYWNrKHsgZGF0YTogd29ya2xvYWRSZXN1bHQsIHVpZCB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMucG9zdEJhY2soeyB1aWQsIGVycjogXCJQb3N0bWFuIGZhaWxlZFwiIH0pO1xuICAgICAgY29uc29sZS5lcnJvcihcIlBvc3RtYW4gZmFpbGVkXCIsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIHB1YmxpYyByZWdpc3RlcldvcmtlciA9IChldmVudFR5cGU6IE1TR19FVkVOVFMsIGZuOiBGdW5jdGlvbikgPT4ge1xuICAgIHRoaXMud29ya2Vyc1tldmVudFR5cGVdID0gZm47XG4gIH07XG5cbiAgcHJpdmF0ZSBwb3N0QmFjayA9IChwcm9wczogeyB1aWQ6IHN0cmluZzsgZGF0YT86IGFueTsgZXJyPzogc3RyaW5nIH0pID0+XG4gICAgdGhpcy5wb3N0TWVzc2FnZSh7XG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICB1aWQ6IHByb3BzLnVpZCxcbiAgICAgIGRhdGE6IHByb3BzLmRhdGEsXG4gICAgICByZXR1cm5pbmc6IHRydWUsXG4gICAgICBlcnI6IHByb3BzLmVycixcbiAgICB9KTtcblxuICBwcml2YXRlIHBvc3RNZXNzYWdlID0gKG1lc3NhZ2VCb2R5KSA9PlxuICAgIHRoaXMuaW5GaWdtYVNhbmRib3hcbiAgICAgID8gZmlnbWEudWkucG9zdE1lc3NhZ2UobWVzc2FnZUJvZHkpXG4gICAgICA6IHBhcmVudC5wb3N0TWVzc2FnZSh7IHBsdWdpbk1lc3NhZ2U6IG1lc3NhZ2VCb2R5IH0sIFwiKlwiKTtcblxuICBwdWJsaWMgc2VuZCA9IChwcm9wczogeyB3b3JrbG9hZDogTVNHX0VWRU5UUzsgZGF0YT86IGFueSB9KTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgeyB3b3JrbG9hZCwgZGF0YSB9ID0gcHJvcHM7XG5cbiAgICAgIGNvbnN0IHJhbmRvbUlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDUpO1xuXG4gICAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICB1aWQ6IHJhbmRvbUlkLFxuICAgICAgICB3b3JrbG9hZCxcbiAgICAgICAgZGF0YSxcbiAgICAgIH0gYXMgSVBvc3RtYW5NZXNzYWdlKTtcblxuICAgICAgdGhpcy5jYWxsYmFja1N0b3JlW3JhbmRvbUlkXSA9IChyZXN1bHQ6IGFueSwgZXJyPzogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcihcIlRpbWVkIG91dFwiKSksIHRoaXMuVElNRU9VVCk7XG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBwb3N0TWFuID0gbmV3IFBvc3RtYW4oKTtcbiIsICJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tIFwicHJlYWN0XCI7XG5cbmltcG9ydCB7IHJlbmRlcklubGluZSB9IGZyb20gXCIuLi9vdXRwdXRSZW5kZXJcIjtcbmltcG9ydCB7IE1TR19FVkVOVFMsIFNUQUdFUyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IFN2Z0luZm9ybWF0aW9uLCBIZWFkZXJUaXRsZSB9IGZyb20gXCIuL0hlYWRlclwiO1xuaW1wb3J0IHsgUmVzcG9uc2l2ZVZpZXcgfSBmcm9tIFwiLi9SZXNwb25zaXZlVmlld1wiO1xuaW1wb3J0IHsgRnJhbWVTZWxlY3Rpb24gfSBmcm9tIFwiLi9GcmFtZVNlbGVjdGlvblwiO1xuaW1wb3J0IHsgU2F2ZSB9IGZyb20gXCIuL1NhdmVcIjtcbmltcG9ydCB7IGRlY29kZVN2Z1RvU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWxzL3N2Z1wiO1xuaW1wb3J0IHsgcG9zdE1hbiB9IGZyb20gXCIuLi91dGlscy9tZXNzYWdlc1wiO1xuaW1wb3J0IHtcbiAgQXBwU3RhdGUsXG4gIEFwcFByb3BzSW50ZXJmYWNlLFxuICBNc2dGcmFtZXNUeXBlLFxuICBGcmFtZUNvbGxlY3Rpb24sXG4gIEhlYWRsaW5lc0ludGVyZmFjZSxcbiAgRnJhbWVEYXRhSW50ZXJmYWNlLFxufSBmcm9tIFwidHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIEFwcCBleHRlbmRzIENvbXBvbmVudDxBcHBQcm9wc0ludGVyZmFjZSwgQXBwU3RhdGU+IHtcbiAgcmVhZG9ubHkgc3RhdGU6IEFwcFN0YXRlID0ge1xuICAgIGVycm9yOiB1bmRlZmluZWQsXG4gICAgcmVhZHk6IGZhbHNlLFxuICAgIGZyYW1lczoge30sXG4gICAgc3RhZ2U6IFNUQUdFUy5DSE9PU0VfRlJBTUVTLFxuICAgIHNlbGVjdGVkRnJhbWVzOiBbXSxcbiAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgIGhlYWRsaW5lOiB1bmRlZmluZWQsXG4gICAgc3ViaGVhZDogdW5kZWZpbmVkLFxuICAgIHNvdXJjZTogdW5kZWZpbmVkLFxuICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgIHN2Z01hcmt1cDogXCJcIixcbiAgfTtcblxuICBjb21wb25lbnREaWRNb3VudCgpOiB2b2lkIHtcbiAgICAvLyBPbmNlIHRoZSBVSSBpcyBtb3VudGVkIHJlcXVlc3QgdGhlIHJvb3QgZnJhbWVzIGZyb20gRmlnbWEncyBiYWNrZW5kXG4gICAgcG9zdE1hblxuICAgICAgLnNlbmQoeyB3b3JrbG9hZDogTVNHX0VWRU5UUy5HRVRfUk9PVF9GUkFNRVMgfSlcbiAgICAgIC50aGVuKHRoaXMudXBkYXRlSW5pdGlhbFN0YXRlKVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCJlcnJvciByZXF1ZXN0aW5nIGZyYW1lc1wiLCBlcnIpKTtcbiAgfVxuXG4gIHVwZGF0ZUluaXRpYWxTdGF0ZSA9IChkYXRhOiBNc2dGcmFtZXNUeXBlKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyBmcmFtZXMsIGhlYWRsaW5lLCBzdWJoZWFkLCBzb3VyY2UgfSA9IGRhdGE7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZnJhbWVzKSB8fCBmcmFtZXM/Lmxlbmd0aCA8IDEpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvcjogXCJObyBmcmFtZXMhXCIgfSk7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUG9zdCBlcnJvcjogbm8gZnJhbWVzXCIsIGRhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhhc0R1cGxpY2F0ZVdpZHRocyA9IGZyYW1lc1xuICAgICAgLm1hcCgoZikgPT4gZi53aWR0aClcbiAgICAgIC5zb21lKCh3aWR0aCwgX2ksIGFycikgPT4gYXJyLmluZGV4T2Yod2lkdGgpICE9PSBhcnIubGFzdEluZGV4T2Yod2lkdGgpKTtcblxuICAgIGlmIChoYXNEdXBsaWNhdGVXaWR0aHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcjpcbiAgICAgICAgICBcIlRoZSBhcmUgZnJhbWVzIHdpdGggaWRlbnRpY2FsIHdpZHRocy4gUGxlYXNlIHJlc2l6ZSBvciByZW1vdmUgc29tZSBmcmFtZXMuXCIsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZyYW1lRGF0YTogRnJhbWVDb2xsZWN0aW9uID0ge307XG4gICAgZm9yIChjb25zdCBmcmFtZSBvZiBmcmFtZXMpIHtcbiAgICAgIGNvbnN0IHsgaWQgfSA9IGZyYW1lO1xuICAgICAgY29uc3Qgcm5kSWQgPSBidG9hKGAke01hdGgucmFuZG9tKCl9YCkuc3Vic3RyKDYsIDYpO1xuICAgICAgZnJhbWVEYXRhW2lkXSA9IHsgLi4uZnJhbWUsIHVpZDogYGYyaF9fJHtybmRJZH1gIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc2VsZWN0ZWRGcmFtZXMgPSBmcmFtZXMubWFwKChmcmFtZSkgPT4gZnJhbWUuaWQpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBmcmFtZXM6IGZyYW1lRGF0YSxcbiAgICAgIHJlYWR5OiB0cnVlLFxuICAgICAgaGVhZGxpbmUsXG4gICAgICBzdWJoZWFkLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZWN0ZWRGcmFtZXMsXG4gICAgfSk7XG4gIH07XG5cbiAgaGFuZGxlUmVuZGVyTWVzc2FnZSA9IGFzeW5jIChzdmdEYXRhOiBVaW50OEFycmF5KTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgaWYgKCFzdmdEYXRhKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IFwiRmFpbGVkIHRvIHJlbmRlclwiIH0pO1xuICAgICAgY29uc29sZS5lcnJvcihcIlBvc3QgbWVzc2FnZTogZmFpbGVkIHRvIHJlbmRlclwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBzZWxlY3RlZEZyYW1lcyxcbiAgICAgIGZyYW1lcyxcbiAgICAgIGhlYWRsaW5lLFxuICAgICAgc3ViaGVhZCxcbiAgICAgIHNvdXJjZSxcbiAgICAgIHJlc3BvbnNpdmUsXG4gICAgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBjb25zdCBpZHMgPSBzZWxlY3RlZEZyYW1lcy5tYXAoKGlkKSA9PiBbaWQsIGZyYW1lc1tpZF0udWlkXSk7XG4gICAgY29uc3Qgc3ZnVGV4dCA9IGF3YWl0IGRlY29kZVN2Z1RvU3RyaW5nKHN2Z0RhdGEsIGlkcyk7XG5cbiAgICBjb25zdCBzZWxlY3RlZCA9IE9iamVjdC52YWx1ZXMoZnJhbWVzKS5maWx0ZXIoKGYpID0+XG4gICAgICBzZWxlY3RlZEZyYW1lcy5pbmNsdWRlcyhmLmlkKVxuICAgICk7XG5cbiAgICBjb25zdCBodG1sID0gcmVuZGVySW5saW5lKHtcbiAgICAgIGZyYW1lczogc2VsZWN0ZWQsXG4gICAgICBzdmdUZXh0LFxuICAgICAgaGVhZGxpbmUsXG4gICAgICBzdWJoZWFkLFxuICAgICAgc291cmNlLFxuICAgICAgcmVzcG9uc2l2ZSxcbiAgICB9KTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc3ZnTWFya3VwOiBodG1sLFxuICAgICAgc3RhZ2U6IFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVcsXG4gICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICB9KTtcbiAgfTtcblxuICAvLyBUT0RPOiBNZXJnZSBnb05leHQgYW5kIGdvQmFja1xuICBnb05leHQgPSAoKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyBzdGFnZSB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIHN3aXRjaCAoc3RhZ2UpIHtcbiAgICAgIGNhc2UgU1RBR0VTLkNIT09TRV9GUkFNRVM6XG4gICAgICAgIHRoaXMuZ2V0T3V0cHV0UmVuZGVyKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgU1RBR0VTLlJFU1BPTlNJVkVfUFJFVklFVzpcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuU0FWRV9PVVRQVVQgfSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBTVEFHRVMuU0FWRV9PVVRQVVQ6XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgZ29CYWNrID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgc3RhZ2UgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBzd2l0Y2ggKHN0YWdlKSB7XG4gICAgICBjYXNlIFNUQUdFUy5DSE9PU0VfRlJBTUVTOlxuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgU1RBR0VTLlJFU1BPTlNJVkVfUFJFVklFVzpcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuQ0hPT1NFX0ZSQU1FUyB9KTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFNUQUdFUy5TQVZFX09VVFBVVDpcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIGdldE91dHB1dFJlbmRlciA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHNlbGVjdGVkRnJhbWVzIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgLy8gc2VuZE1lc3NhZ2UoTVNHX0VWRU5UUy5SRU5ERVIsIHsgaWRzOiBzZWxlY3RlZEZyYW1lcyB9KTtcbiAgICBwb3N0TWFuXG4gICAgICAuc2VuZCh7IHdvcmtsb2FkOiBNU0dfRVZFTlRTLlJFTkRFUiwgZGF0YTogc2VsZWN0ZWRGcmFtZXMgfSlcbiAgICAgIC50aGVuKHRoaXMuaGFuZGxlUmVuZGVyTWVzc2FnZSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJlcnJvciBnZXR0aW5nIHJlbmRlclwiLCBlcnIpO1xuICAgICAgfSk7XG4gIH07XG5cbiAgdG9nZ2xlRnJhbWVTZWxlY3QgPSAoaWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgc2VsZWN0ZWRGcmFtZXMgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNlbGVjdGVkRnJhbWVzOiBzZWxlY3RlZEZyYW1lcy5pbmNsdWRlcyhpZClcbiAgICAgICAgPyBzZWxlY3RlZEZyYW1lcy5maWx0ZXIoKGZyYW1lSWQpID0+IGlkICE9PSBmcmFtZUlkKVxuICAgICAgICA6IFsuLi5zZWxlY3RlZEZyYW1lcywgaWRdLFxuICAgIH0pO1xuICB9O1xuXG4gIHRvZ2dsZVNlbGVjdEFsbCA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHNlbGVjdGVkRnJhbWVzLCBmcmFtZXMgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKHNlbGVjdGVkRnJhbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEZyYW1lczogW10gfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEZyYW1lczogT2JqZWN0LnZhbHVlcyhmcmFtZXMpLm1hcCgoZikgPT4gZi5pZCkgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZUZvcm1VcGRhdGUgPSAocHJvcHM6IEhlYWRsaW5lc0ludGVyZmFjZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyAuLi5wcm9wcyB9KTtcbiAgICBwb3N0TWFuXG4gICAgICAuc2VuZCh7IHdvcmtsb2FkOiBNU0dfRVZFTlRTLlVQREFURV9IRUFETElORVMsIGRhdGE6IHByb3BzIH0pXG4gICAgICAuY2F0Y2goKCkgPT4gdGhpcy5zZXRTdGF0ZSh7IGVycm9yOiBcIkZvcm0gdXBkYXRlIGZhaWxlZFwiIH0pKTtcbiAgfTtcblxuICBnZXRTZWxlY3RlZEZyYW1lcyA9ICgpOiBGcmFtZURhdGFJbnRlcmZhY2VbXSA9PiB7XG4gICAgY29uc3QgeyBmcmFtZXMsIHNlbGVjdGVkRnJhbWVzIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZnJhbWVzKS5maWx0ZXIoKGYpID0+IHNlbGVjdGVkRnJhbWVzLmluY2x1ZGVzKGYuaWQpKTtcbiAgfTtcblxuICB0b2dnbGVSZXNwb25zaXZlID0gKCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyByZXNwb25zaXZlOiAhdGhpcy5zdGF0ZS5yZXNwb25zaXZlIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpOiBoLkpTWC5FbGVtZW50IHtcbiAgICBjb25zdCB7IHZlcnNpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge1xuICAgICAgZXJyb3IsXG4gICAgICBzdGFnZSxcbiAgICAgIGxvYWRpbmcsXG4gICAgICBzdmdNYXJrdXAsXG4gICAgICBoZWFkbGluZSxcbiAgICAgIHN1YmhlYWQsXG4gICAgICBzb3VyY2UsXG4gICAgICBzZWxlY3RlZEZyYW1lcyxcbiAgICAgIGZyYW1lcyxcbiAgICAgIHJlc3BvbnNpdmUsXG4gICAgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlKTtcbiAgICBjb25zdCBmcmFtZVdpZHRocyA9IHRoaXMuZ2V0U2VsZWN0ZWRGcmFtZXMoKVxuICAgICAgLm1hcCgoZikgPT4gZi53aWR0aClcbiAgICAgIC5zb3J0KCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhcIj5cbiAgICAgICAgeyFlcnJvciAmJiAoXG4gICAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJmMmhfX2hlYWRlclwiPlxuICAgICAgICAgICAgPEhlYWRlclRpdGxlIHN0YWdlPXtzdGFnZX0gLz5cblxuICAgICAgICAgICAge3N0YWdlID09PSBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXICYmIChcbiAgICAgICAgICAgICAgPFN2Z0luZm9ybWF0aW9uIHN2Z01hcmt1cD17c3ZnTWFya3VwfSAvPlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmdvQmFja31cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N0YWdlID09PSBTVEFHRVMuQ0hPT1NFX0ZSQU1FU31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQmFja1xuICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLS1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5nb05leHR9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtzdGFnZSA9PT0gU1RBR0VTLlNBVkVfT1VUUFVUfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBOZXh0XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2hlYWRlcj5cbiAgICAgICAgKX1cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fYm9keVwiPlxuICAgICAgICAgIHtlcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cImVycm9yXCI+e2Vycm9yfTwvZGl2Pn1cbiAgICAgICAgICB7bG9hZGluZyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmdcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibG9hZGluZ19fbXNnXCI+TWVyZ2luZyBmcmFtZXM8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxvYWRpbmdfX21zZ1wiPlJlbmRlcmluZyBIVE1MPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsb2FkaW5nX19tc2dcIj5PcHRpbWlzaW5nIGltYWdlczwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibG9hZGluZ19fbXNnXCI+U2ltcGxpZnlpbmcgc2hhcGVzPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHshZXJyb3IgJiYgIWxvYWRpbmcgJiYgc3RhZ2UgPT09IFNUQUdFUy5DSE9PU0VfRlJBTUVTICYmIChcbiAgICAgICAgICAgIDxGcmFtZVNlbGVjdGlvblxuICAgICAgICAgICAgICBmcmFtZXM9e2ZyYW1lc31cbiAgICAgICAgICAgICAgc2VsZWN0ZWRGcmFtZXM9e3NlbGVjdGVkRnJhbWVzfVxuICAgICAgICAgICAgICBoYW5kbGVDbGljaz17dGhpcy50b2dnbGVGcmFtZVNlbGVjdH1cbiAgICAgICAgICAgICAgdG9nZ2xlU2VsZWN0QWxsPXt0aGlzLnRvZ2dsZVNlbGVjdEFsbH1cbiAgICAgICAgICAgICAgcmVzcG9uc2l2ZT17cmVzcG9uc2l2ZX1cbiAgICAgICAgICAgICAgdG9nZ2xlUmVzcG9uc2l2ZT17dGhpcy50b2dnbGVSZXNwb25zaXZlfVxuICAgICAgICAgICAgICBoZWFkbGluZT17aGVhZGxpbmV9XG4gICAgICAgICAgICAgIHN1YmhlYWQ9e3N1YmhlYWR9XG4gICAgICAgICAgICAgIHNvdXJjZT17c291cmNlfVxuICAgICAgICAgICAgICBoYW5kbGVGb3JtVXBkYXRlPXt0aGlzLmhhbmRsZUZvcm1VcGRhdGV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAgeyFlcnJvciAmJiAhbG9hZGluZyAmJiBzdGFnZSA9PT0gU1RBR0VTLlJFU1BPTlNJVkVfUFJFVklFVyAmJiAoXG4gICAgICAgICAgICA8UmVzcG9uc2l2ZVZpZXcgc3ZnTWFya3VwPXtzdmdNYXJrdXB9IGZyYW1lV2lkdGhzPXtmcmFtZVdpZHRoc30gLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHshZXJyb3IgJiYgIWxvYWRpbmcgJiYgc3RhZ2UgPT09IFNUQUdFUy5TQVZFX09VVFBVVCAmJiAoXG4gICAgICAgICAgICA8U2F2ZSBzdmdNYXJrdXA9e3N2Z01hcmt1cH0gLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiZjJoX192ZXJzaW9uXCI+VmVyc2lvbjoge3ZlcnNpb259PC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IElyZXNpemVJbWFnZSB9IGZyb20gXCJ0eXBlc1wiO1xuaW1wb3J0IFBpY2EgZnJvbSBcInBpY2FcIjtcbmltcG9ydCBVUE5HIGZyb20gXCJ1cG5nLWpzXCI7XG5cbmNvbnN0IEpQRUdfTUFHSUNfQllURVMgPSBbXG4gIFsweGZmLCAweGQ4LCAweGZmLCAweGRiXSxcbiAgWzB4ZmYsIDB4ZDgsIDB4ZmYsIDB4ZWVdLFxuICBbMHhmZiwgMHhkOCwgMHhmZiwgMHhlMV0sXG4gIFsweGZmLCAweGQ4LCAweGZmLCAweGUwLCAweDAwLCAweDEwLCAweDRhLCAweDQ2LCAweDQ5LCAweDQ2LCAweDAwLCAweDAxXSxcbl07XG5jb25zdCBQTkdfTUFHSUNfQllURVMgPSBbMHg4OSwgMHg1MCwgMHg0ZSwgMHg0NywgMHgwZCwgMHgwYSwgMHgxYSwgMHgwYV07XG5jb25zdCBHSUZfTUFHSUNfQllURVMgPSBbXG4gIFsweDQ3LCAweDQ5LCAweDQ2LCAweDM4LCAweDM3LCAweDYxXSxcbiAgWzB4NDcsIDB4NDksIDB4NDYsIDB4MzgsIDB4MzksIDB4NjFdLFxuXTtcblxuZXhwb3J0IGVudW0gSU1BR0VfRk9STUFUUyB7XG4gIFBORyxcbiAgSlBFRyxcbiAgR0lGLFxuICBVTktOT1dOLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpZnlJbWFnZUZvcm1hdChpbWFnZURhdGE6IFVpbnQ4QXJyYXkpOiBJTUFHRV9GT1JNQVRTIHtcbiAgY29uc3QgaXNQbmcgPSBQTkdfTUFHSUNfQllURVMuZXZlcnkoKHZhbCwgaSkgPT4gdmFsID09PSBpbWFnZURhdGFbaV0pO1xuICBpZiAoaXNQbmcpIHtcbiAgICByZXR1cm4gSU1BR0VfRk9STUFUUy5QTkc7XG4gIH1cblxuICBjb25zdCBpc0pwZWcgPSBKUEVHX01BR0lDX0JZVEVTLnNvbWUoKGJ5dGVzKSA9PlxuICAgIGJ5dGVzLmV2ZXJ5KCh2YWwsIGkpID0+IHZhbCA9PT0gaW1hZ2VEYXRhW2ldKVxuICApO1xuICBpZiAoaXNKcGVnKSB7XG4gICAgcmV0dXJuIElNQUdFX0ZPUk1BVFMuSlBFRztcbiAgfVxuXG4gIGNvbnN0IGlzR2lmID0gR0lGX01BR0lDX0JZVEVTLnNvbWUoKGJ5dGVzKSA9PlxuICAgIGJ5dGVzLmV2ZXJ5KCh2YWwsIGkpID0+IHZhbCA9PT0gaW1hZ2VEYXRhW2ldKVxuICApO1xuICBpZiAoaXNHaWYpIHtcbiAgICByZXR1cm4gSU1BR0VfRk9STUFUUy5HSUY7XG4gIH1cblxuICByZXR1cm4gSU1BR0VfRk9STUFUUy5VTktOT1dOO1xufVxuXG5mdW5jdGlvbiBjYWxjU21hbGxlc3RJbWFnZVNpemUoXG4gIG9yaWdpbmFsV2lkdGg6IG51bWJlcixcbiAgb3JpZ2luYWxIZWlnaHQ6IG51bWJlcixcbiAgbm9kZURpbWVuc2lvbnM6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfVtdXG4pOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0ge1xuICBjb25zdCBhc3BlY3RSYXRpbyA9IG9yaWdpbmFsV2lkdGggLyBvcmlnaW5hbEhlaWdodDtcblxuICAvLyBXT1JLIE9VVCBNQVggTk9ERSBTSVpFXG4gIGxldCB3aWR0aCA9IDIwMDtcbiAgbGV0IGhlaWdodCA9IDIwMDtcblxuICBpZiAoYXNwZWN0UmF0aW8gPCAxKSB7XG4gICAgLy8gMjAweDMwMCBwb3J0cmFpdCAgPSAyLzMgPSAwLjY2XG4gICAgY29uc3QgbWF4QXNwZWN0SGVpZ2h0ID0gTWF0aC5tYXgoXG4gICAgICAuLi5ub2RlRGltZW5zaW9ucy5mbGF0TWFwKChkKSA9PiBkLndpZHRoIC8gYXNwZWN0UmF0aW8pXG4gICAgKTtcbiAgICBjb25zdCBtYXhOb2RlSGVpZ2h0ID0gTWF0aC5tYXgoLi4ubm9kZURpbWVuc2lvbnMuZmxhdE1hcCgoZCkgPT4gZC5oZWlnaHQpKTtcbiAgICBoZWlnaHQgPSBNYXRoLm1heChtYXhOb2RlSGVpZ2h0LCBtYXhBc3BlY3RIZWlnaHQpO1xuICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG5cbiAgICAvLyB3aWR0aCA9IE1hdGgubWF4KC4uLm5vZGVEaW1lbnNpb25zLmZsYXRNYXAoKGQpID0+IGQud2lkdGgpKTtcbiAgICAvLyBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICB9IGVsc2Uge1xuICAgIC8vIDMwMHgyMDAgcG9ydHJhaXQgID0gMy8yID0gMS41XG4gICAgLy8gTGFuZHNjYXBlIG9yIHNxdWFyZVxuICAgIGNvbnN0IG1heEFzcGVjdFdpZHRoID0gTWF0aC5tYXgoXG4gICAgICAuLi5ub2RlRGltZW5zaW9ucy5mbGF0TWFwKChkKSA9PiBkLmhlaWdodCAqIGFzcGVjdFJhdGlvKVxuICAgICk7XG4gICAgY29uc3QgbWF4Tm9kZVdpZHRoID0gTWF0aC5tYXgoLi4ubm9kZURpbWVuc2lvbnMuZmxhdE1hcCgoZCkgPT4gZC53aWR0aCkpO1xuICAgIHdpZHRoID0gTWF0aC5tYXgobWF4Tm9kZVdpZHRoLCBtYXhBc3BlY3RXaWR0aCk7XG4gICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgfVxuXG4gIC8vIERvbid0IHNjYWxlIGltYWdlIHVwIGlmIG5vZGUgaXMgbGFyZ2VyIHRoYW4gaW1hZ2VcbiAgaWYgKHdpZHRoID4gb3JpZ2luYWxXaWR0aCB8fCBoZWlnaHQgPiBvcmlnaW5hbEhlaWdodCkge1xuICAgIHdpZHRoID0gb3JpZ2luYWxXaWR0aDtcbiAgICBoZWlnaHQgPSBvcmlnaW5hbEhlaWdodDtcbiAgfSBlbHNlIHtcbiAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0KTtcbiAgfVxuXG4gIHJldHVybiB7IHdpZHRoLCBoZWlnaHQgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gb3B0aW1pemVJbWFnZShcbiAgaW1nRGF0YTogVWludDhBcnJheSxcbiAgY2FudmFzOiBPZmZzY3JlZW5DYW52YXNcbik6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBfQ09MT1VSX0NPVU5UID0gNjQ7XG4gIC8vIE9yaWdpbmFsIGltYWdlIGZvcm1hdFxuICBjb25zdCBpbWFnZUZvcm1hdCA9IGlkZW50aWZ5SW1hZ2VGb3JtYXQoaW1nRGF0YSk7XG5cbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjYW52YXM7XG4gIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikgYXMgT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gIC8vIE9wdGltaXplIFBORyBhbmQgR0lGIGltYWdlcyB3aXRoIGEgbGltaXRlZCBjb2xvdXIgcGFsbGV0IG9yIEpQRUcgcXVhbGl0eVxuICBsZXQgcmV0dXJuSW1hZ2VEYXRhOiBVaW50OEFycmF5O1xuICBpZiAoaW1hZ2VGb3JtYXQgPT09IElNQUdFX0ZPUk1BVFMuUE5HIHx8IGltYWdlRm9ybWF0ID09PSBJTUFHRV9GT1JNQVRTLkdJRikge1xuICAgIGNvbnN0IGRhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gICAgY29uc3QgdGlueVBuZyA9IFVQTkcuZW5jb2RlKFtkYXRhLmJ1ZmZlcl0sIHdpZHRoLCBoZWlnaHQsIF9DT0xPVVJfQ09VTlQpO1xuICAgIHJldHVybkltYWdlRGF0YSA9IG5ldyBVaW50OEFycmF5KHRpbnlQbmcpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBjYW52YXMuY29udmVydFRvQmxvYih7XG4gICAgICB0eXBlOiBcImltYWdlL2pwZWdcIixcbiAgICAgIHF1YWxpdHk6IDAuODUsXG4gICAgfSk7XG4gICAgY29uc3QgYnVmZiA9IGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKTtcbiAgICByZXR1cm5JbWFnZURhdGEgPSBuZXcgVWludDhBcnJheShidWZmKTtcbiAgfVxuXG4gIHJldHVybiByZXR1cm5JbWFnZURhdGE7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNpemVBbmRPcHRpbWlzZUltYWdlKFxuICBwcm9wczogSXJlc2l6ZUltYWdlXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgeyBpbWcsIGltZ0RhdGEsIG5vZGVEaW1lbnNpb25zLCByZXNvbHZlLCByZWplY3QgfSA9IHByb3BzO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjYWxjU21hbGxlc3RJbWFnZVNpemUoXG4gICAgICBpbWcud2lkdGgsXG4gICAgICBpbWcuaGVpZ2h0LFxuICAgICAgbm9kZURpbWVuc2lvbnNcbiAgICApO1xuICAgIGNvbnN0IGNhbnZhcyA9IG5ldyBPZmZzY3JlZW5DYW52YXMod2lkdGgsIGhlaWdodCk7XG5cbiAgICAvLyBVc2UgaW1hZ2UgcmVzaXppbmcgbGlicmFyeSB0byBjcmVhdGUgYSBzaGFycGVyIGRvd25zY2FsZWQgaW1hZ2VcbiAgICBjb25zdCBwaWNhID0gbmV3IFBpY2EoKTtcbiAgICBhd2FpdCBwaWNhLnJlc2l6ZShpbWcsIChjYW52YXMgYXMgdW5rbm93bikgYXMgSFRNTENhbnZhc0VsZW1lbnQsIHtcbiAgICAgIHVuc2hhcnBBbW91bnQ6IDUwLFxuICAgICAgYWxwaGE6IHRydWUsXG4gICAgfSk7XG5cbiAgICBjb25zdCBvcHRpbWlzZWRJbWFnZSA9IGF3YWl0IG9wdGltaXplSW1hZ2UoaW1nRGF0YSwgY2FudmFzKTtcblxuICAgIHJlc29sdmUob3B0aW1pc2VkSW1hZ2UpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZWplY3QoZXJyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IHNldEhlYWRsaW5lc0FuZFNvdXJjZVByb3BzLCBJRnJhbWVEYXRhIH0gZnJvbSBcInR5cGVzXCI7XG5pbXBvcnQgeyBnZXROb2RlVGV4dCwgZ2V0VGV4dE5vZGVzRnJvbUZyYW1lIH0gZnJvbSBcImhlbHBlcnMvZmlnbWFUZXh0XCI7XG5pbXBvcnQgeyBIRUFETElORV9OT0RFX05BTUVTLCBNU0dfRVZFTlRTIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBwb3N0TWFuIH0gZnJvbSBcInV0aWxzL21lc3NhZ2VzXCI7XG5pbXBvcnQgeyByZXNpemVBbmRPcHRpbWlzZUltYWdlIH0gZnJvbSBcIi4vaGVscGVycy9pbWFnZUhlbHBlclwiO1xuXG4vKipcbiAqIENvbXByZXNzIGltYWdlIHVzaW5nIGJyb3dzZXIncyBuYXRpdmUgaW1hZ2UgZGVjb2Rpbmcgc3VwcG9ydFxuICogQGNvbnRleHQgQnJvd3NlciAoVUkpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wcmVzc0ltYWdlKHByb3BzOiB7XG4gIGltZ0RhdGE6IFVpbnQ4QXJyYXk7XG4gIG5vZGVEaW1lbnNpb25zOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH1bXTtcbn0pOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBjb25zdCB7IGltZ0RhdGEsIG5vZGVEaW1lbnNpb25zIH0gPSBwcm9wcztcblxuICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICByZXNpemVBbmRPcHRpbWlzZUltYWdlKHtcbiAgICAgICAgaW1nLFxuICAgICAgICBpbWdEYXRhLFxuICAgICAgICBub2RlRGltZW5zaW9ucyxcbiAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgcmVqZWN0LFxuICAgICAgfSkuY2F0Y2goKGVycikgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuXG4gICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBjb21wcmVzc2VkIGltYWdlXCIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfSk7XG5cbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2ltZ0RhdGFdLCB7IHR5cGU6IFwiaW1hZ2UvcG5nXCIgfSk7XG4gICAgY29uc3QgaW1nVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICBpbWcuc3JjID0gaW1nVXJsO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUZXN0IGlmIEZpZ21hIG5vZGUgc3VwcG9ydHMgZmlsbCBwcm9wZXJ0eSB0eXBlXG4gKi9cbmZ1bmN0aW9uIHN1cHBvcnRzRmlsbHMoXG4gIG5vZGU6IFNjZW5lTm9kZVxuKTogbm9kZSBpcyBFeGNsdWRlPFNjZW5lTm9kZSwgU2xpY2VOb2RlIHwgR3JvdXBOb2RlPiB7XG4gIHJldHVybiBub2RlLnR5cGUgIT09IFwiU0xJQ0VcIiAmJiBub2RlLnR5cGUgIT09IFwiR1JPVVBcIjtcbn1cblxuLyoqXG4gKiBSZW5kZXIgYWxsIHNwZWNpZmllZCBmcmFtZXMgb3V0IGFzIFNWRyBlbGVtZW50LlxuICogSW1hZ2VzIGFyZSBvcHRpbWlzZWQgZm9yIHNpemUgYW5kIGltYWdlIHR5cGUgY29tcHJlc3Npb24gdmlhIHRoZSBmcm9udGVuZCBVSVxuICpcbiAqIEBjb250ZXh0IGZpZ21hXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW5kZXJGcmFtZXMoZnJhbWVJZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gIGNvbnN0IG91dHB1dE5vZGUgPSBmaWdtYS5jcmVhdGVGcmFtZSgpO1xuICBvdXRwdXROb2RlLm5hbWUgPSBcIm91dHB1dFwiO1xuXG4gIHRyeSB7XG4gICAgLy8gQ2xvbmUgZWFjaCBzZWxlY3RlZCBmcmFtZSBhZGRpbmcgdGhlbSB0byB0aGUgdGVtcG9yYXJ5IGNvbnRhaW5lciBmcmFtZVxuICAgIGNvbnN0IGZyYW1lcyA9IGZpZ21hLmN1cnJlbnRQYWdlLmZpbmRBbGwoKHsgaWQgfSkgPT4gZnJhbWVJZHMuaW5jbHVkZXMoaWQpKTtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgbWF4IGRpbWVuc2lvbnMgZm9yIG91dHB1dCBjb250YWluZXIgZnJhbWVcbiAgICBjb25zdCBtYXhXaWR0aCA9IE1hdGgubWF4KC4uLmZyYW1lcy5tYXAoKGYpID0+IGYud2lkdGgpKTtcbiAgICBjb25zdCBtYXhIZWlnaHQgPSBNYXRoLm1heCguLi5mcmFtZXMubWFwKChmKSA9PiBmLmhlaWdodCkpO1xuICAgIG91dHB1dE5vZGUucmVzaXplV2l0aG91dENvbnN0cmFpbnRzKG1heFdpZHRoLCBtYXhIZWlnaHQpO1xuXG4gICAgZm9yIChjb25zdCBmcmFtZSBvZiBmcmFtZXMpIHtcbiAgICAgIGNvbnN0IGNsb25lID0gZnJhbWU/LmNsb25lKCkgYXMgRnJhbWVOb2RlO1xuXG4gICAgICAvLyBOT1RFOiBQcmV2aW91c2x5IHRleHQgbm9kZXMgd2VyZSByZW1vdmVkIGhlcmUgYnV0IHRoaXMgY2F1c2VkXG4gICAgICAvLyB3aWR0aCBjaGFuZ2VzIGluIGF1dG8tbGF5b3V0LiBUZXh0IGlzIHJlbW92ZWQgYXMgcGFydCBvZiB0aGVcbiAgICAgIC8vIFNWRyBvcHRpbWlzYXRpb24gc3RlcC5cblxuICAgICAgLy8gQXBwZW5kIGNsb25lZCBmcmFtZSB0byB0ZW1wIG91dHB1dCBmcmFtZSBhbmQgcG9zaXRpb24gaW4gdG9wIGxlZnRcbiAgICAgIG91dHB1dE5vZGUuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgICAgY2xvbmUueCA9IDA7XG4gICAgICBjbG9uZS55ID0gMDtcblxuICAgICAgLy8gU3RvcmUgdGhlIGZyYW1lIElEIGFzIG5vZGUgbmFtZSAoZXhwb3J0ZWQgaW4gU1ZHIHByb3BzKVxuICAgICAgY2xvbmUubmFtZSA9IGZyYW1lLmlkO1xuICAgIH1cblxuICAgIC8vIEZpbmQgYWxsIG5vZGVzIHdpdGggaW1hZ2UgZmlsbHNcbiAgICBjb25zdCBub2Rlc1dpdGhJbWFnZXMgPSBvdXRwdXROb2RlLmZpbmRBbGwoXG4gICAgICAobm9kZSkgPT5cbiAgICAgICAgc3VwcG9ydHNGaWxscyhub2RlKSAmJlxuICAgICAgICBub2RlLmZpbGxzICE9PSBmaWdtYS5taXhlZCAmJlxuICAgICAgICBub2RlLmZpbGxzLnNvbWUoKGZpbGwpID0+IGZpbGwudHlwZSA9PT0gXCJJTUFHRVwiKVxuICAgICk7XG5cbiAgICAvLyBBIHNpbmdsZSBpbWFnZSBjYW4gYmUgdXNlZCBtdWx0aXBsZSB0aW1lcyBvbiBkaWZmZXJlbnQgbm9kZXMgaW4gZGlmZmVyZW50XG4gICAgLy8gZnJhbWVzLiBUbyBlbnN1cmUgaW1hZ2VzIGFyZSBvbmx5IG9wdGltaXNlZCBvbmNlIGEgY2FjaGUgaXMgY3JlYXRlZFxuICAgIC8vIG9mIHVuaXF1ZSBpbWFnZXMgYW5kIHVzZWQgdG8gcmVwbGFjZSBvcmlnaW5hbCBhZnRlciB0aGUgYXN5bmMgcHJvY2Vzc2luZ1xuICAgIC8vIGlzIGNvbXBsZXRlZC5cbiAgICBjb25zdCBpbWFnZUNhY2hlOiB7XG4gICAgICBbaWQ6IHN0cmluZ106IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXI7IGlkOiBzdHJpbmcgfVtdO1xuICAgIH0gPSB7fTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlc1dpdGhJbWFnZXMpIHtcbiAgICAgIGlmIChzdXBwb3J0c0ZpbGxzKG5vZGUpICYmIG5vZGUuZmlsbHMgIT09IGZpZ21hLm1peGVkKSB7XG4gICAgICAgIC8vIFRoZSBmcm9udGVuZCBVSSB3aGljaCBoYW5kbGVzIHRoZSBpbWFnZSBvcHRpbWlzYXRpb24gbmVlZHMgdG8ga25vd1xuICAgICAgICAvLyB0aGUgc2l6ZXMgb2YgZWFjaCBub2RlIHRoYXQgdXNlcyB0aGUgaW1hZ2UuIFRoZSBkaW1lbnNpb25zIGFyZSBzdG9yZWRcbiAgICAgICAgLy8gd2l0aCB0aGUgaW1hZ2UgaGFzaCBJRCBpbiB0aGUgY2FjaGUgZm9yIGxhdGVyIHVzZS5cbiAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHtcbiAgICAgICAgICB3aWR0aDogbm9kZS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IG5vZGUuaGVpZ2h0LFxuICAgICAgICAgIGlkOiBub2RlLmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpbWdQYWludCA9IFsuLi5ub2RlLmZpbGxzXS5maW5kKChwKSA9PiBwLnR5cGUgPT09IFwiSU1BR0VcIik7XG5cbiAgICAgICAgaWYgKGltZ1BhaW50Py50eXBlID09PSBcIklNQUdFXCIgJiYgaW1nUGFpbnQuaW1hZ2VIYXNoKSB7XG4gICAgICAgICAgLy8gQWRkIHRoZSBpbWFnZSBkaW1lbnNpb25zIHRvIHRoZSBjYWNoZSwgb3IgdXBkYXRlIGFuZCBleGlzdGluZyBjYWNoZVxuICAgICAgICAgIC8vIGl0ZW0gd2l0aCBhbm90aGVyIG5vZGVzIGRpbWVuc2lvbnNcbiAgICAgICAgICBpZiAoaW1hZ2VDYWNoZVtpbWdQYWludC5pbWFnZUhhc2hdKSB7XG4gICAgICAgICAgICBpbWFnZUNhY2hlW2ltZ1BhaW50LmltYWdlSGFzaF0ucHVzaChkaW1lbnNpb25zKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW1hZ2VDYWNoZVtpbWdQYWludC5pbWFnZUhhc2hdID0gW2RpbWVuc2lvbnNdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNlbmQgZWFjaCBpbWFnZSBmcm9tIHRoZSBpbWFnZUNhY2hlIHRvIHRoZSBmcm9udGVuZCBmb3Igb3B0aW1pc2F0aW9uLlxuICAgIC8vIFRoZSBvcGVyYXRpb24gaXMgYXN5bmMgYW5kIGNhbiB0YWtlIHNvbWUgdGltZSBpZiB0aGUgaW1hZ2VzIGFyZSBsYXJnZS5cbiAgICBmb3IgKGNvbnN0IGltYWdlSGFzaCBpbiBpbWFnZUNhY2hlKSB7XG4gICAgICBjb25zdCBieXRlcyA9IGF3YWl0IGZpZ21hLmdldEltYWdlQnlIYXNoKGltYWdlSGFzaCkuZ2V0Qnl0ZXNBc3luYygpO1xuICAgICAgY29uc3QgY29tcHJlc3NlZEltYWdlOiBVaW50OEFycmF5ID0gYXdhaXQgcG9zdE1hbi5zZW5kKHtcbiAgICAgICAgd29ya2xvYWQ6IE1TR19FVkVOVFMuQ09NUFJFU1NfSU1BR0UsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpbWdEYXRhOiBieXRlcyxcbiAgICAgICAgICBub2RlRGltZW5zaW9uczogaW1hZ2VDYWNoZVtpbWFnZUhhc2hdLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSBuZXcgaW1hZ2UgaW4gZmlnbWEgYW5kIGdldCB0aGUgbmV3IGltYWdlIGhhc2hcbiAgICAgIGNvbnN0IG5ld0ltYWdlSGFzaCA9IGZpZ21hLmNyZWF0ZUltYWdlKGNvbXByZXNzZWRJbWFnZSkuaGFzaDtcblxuICAgICAgLy8gVXBkYXRlIG5vZGVzIHdpdGggbmV3IGltYWdlIHBhaW50IGZpbGxcbiAgICAgIG5vZGVzV2l0aEltYWdlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChzdXBwb3J0c0ZpbGxzKG5vZGUpICYmIG5vZGUuZmlsbHMgIT09IGZpZ21hLm1peGVkKSB7XG4gICAgICAgICAgY29uc3QgaW1nUGFpbnQgPSBbLi4ubm9kZS5maWxsc10uZmluZChcbiAgICAgICAgICAgIChwKSA9PiBwLnR5cGUgPT09IFwiSU1BR0VcIiAmJiBwLmltYWdlSGFzaCA9PT0gaW1hZ2VIYXNoXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChpbWdQYWludCkge1xuICAgICAgICAgICAgY29uc3QgbmV3UGFpbnQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGltZ1BhaW50KSk7XG4gICAgICAgICAgICBuZXdQYWludC5pbWFnZUhhc2ggPSBuZXdJbWFnZUhhc2g7XG4gICAgICAgICAgICBub2RlLmZpbGxzID0gW25ld1BhaW50XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEhBQ0shIEZpZ21hIHRha2VzIHNvbWUgdGltZSB0byB1cGRhdGUgdGhlIGltYWdlIGZpbGxzLiBXYWl0aW5nIHNvbWVcbiAgICAvLyBhbW91bnQgaXMgcmVxdWlyZWQgb3RoZXJ3aXNlIHRoZSBpbWFnZXMgYXBwZWFyIGJsYW5rLlxuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMCkpO1xuXG4gICAgLy8gUmVuZGVyIG91dHB1dCBjb250YWluZXIgZnJhbWVzIHRvIFNWRyBtYXJrLXVwIChpbiBhIHVpbnQ4IGJ5dGUgYXJyYXkpXG4gICAgY29uc3Qgc3ZnID0gYXdhaXQgb3V0cHV0Tm9kZS5leHBvcnRBc3luYyh7XG4gICAgICBmb3JtYXQ6IFwiU1ZHXCIsXG4gICAgICBzdmdTaW1wbGlmeVN0cm9rZTogdHJ1ZSxcbiAgICAgIHN2Z091dGxpbmVUZXh0OiBmYWxzZSxcbiAgICAgIHN2Z0lkQXR0cmlidXRlOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHN2ZztcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgLy8gUmVtb3ZlIHRoZSBvdXRwdXQgZnJhbWUgd2hhdGV2ZXIgaGFwcGVuc1xuICAgIG91dHB1dE5vZGUucmVtb3ZlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUsIHVwZGF0ZSBvciBkZWxldGUgaGVhZGxpbmUgdGV4dCBpbiBmaWdtYSBkb2N1bWVudCBmcm9tIHBsdWdpbiBVSVxuICpcbiAqIEBjb250ZXh0IGZpZ21hXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRIZWFkbGluZXNBbmRTb3VyY2UocHJvcHM6IHNldEhlYWRsaW5lc0FuZFNvdXJjZVByb3BzKTogdm9pZCB7XG4gIGNvbnN0IHBhZ2VOb2RlID0gZmlnbWEuY3VycmVudFBhZ2U7XG4gIGNvbnN0IG1vc3RMZWZ0UG9zID0gTWF0aC5taW4oLi4ucGFnZU5vZGUuY2hpbGRyZW4ubWFwKChub2RlKSA9PiBub2RlLngpKTtcbiAgY29uc3QgbW9zdFRvcFBvcyA9IE1hdGgubWluKC4uLnBhZ2VOb2RlLmNoaWxkcmVuLm1hcCgobm9kZSkgPT4gbm9kZS55KSk7XG5cbiAgLy8gTG9vcCB0aHJvdWdoIGVhY2ggaGVhZGxpbmUgbm9kZSBuYW1lc1xuICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LnZhbHVlcyhIRUFETElORV9OT0RFX05BTUVTKSkge1xuICAgIGxldCBub2RlID1cbiAgICAgIChwYWdlTm9kZS5maW5kQ2hpbGQoXG4gICAgICAgIChub2RlKSA9PiBub2RlLm5hbWUgPT09IG5hbWUgJiYgbm9kZS50eXBlID09PSBcIlRFWFRcIlxuICAgICAgKSBhcyBUZXh0Tm9kZSkgfHwgbnVsbDtcbiAgICBjb25zdCB0ZXh0Q29udGVudCA9IHByb3BzW25hbWVdO1xuXG4gICAgLy8gUmVtb3ZlIG5vZGUgaWYgdGhlcmUncyBubyB0ZXh0IGNvbnRlbnRcbiAgICBpZiAobm9kZSAmJiAhdGV4dENvbnRlbnQpIHtcbiAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG8gbm90aGluZyBpcyB0aGVyZSdzIG5vIHRleHQgY29udGVudFxuICAgIGlmICghdGV4dENvbnRlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgbm9kZSBpZiBpdCBkb2Vzbid0IGFscmVhZHkgZXhpc3RcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIG5vZGUgPSBmaWdtYS5jcmVhdGVUZXh0KCk7XG4gICAgICBub2RlLm5hbWUgPSBuYW1lO1xuXG4gICAgICAvLyBQb3NpdGlvbiBuZXcgdGV4dCBub2RlIHRvcC1sZWZ0IG9mIHRoZSBmaXJzdCBmcmFtZSBpbiB0aGUgcGFnZVxuICAgICAgbGV0IHkgPSBtb3N0VG9wUG9zIC0gNjA7XG4gICAgICBpZiAobmFtZSA9PT0gSEVBRExJTkVfTk9ERV9OQU1FUy5IRUFETElORSkge1xuICAgICAgICB5IC09IDYwO1xuICAgICAgfSBlbHNlIGlmIChuYW1lID09PSBIRUFETElORV9OT0RFX05BTUVTLlNVQkhFQUQpIHtcbiAgICAgICAgeSAtPSAzMDtcbiAgICAgIH1cblxuICAgICAgbm9kZS5yZWxhdGl2ZVRyYW5zZm9ybSA9IFtcbiAgICAgICAgWzEsIDAsIG1vc3RMZWZ0UG9zXSxcbiAgICAgICAgWzAsIDEsIHldLFxuICAgICAgXTtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgdGV4dCBub2RlIGlzIGxvY2tlZFxuICAgIG5vZGUubG9ja2VkID0gdHJ1ZTtcblxuICAgIC8vIExvYWQgZm9udFxuICAgIGNvbnN0IGZvbnROYW1lID1cbiAgICAgIG5vZGUuZm9udE5hbWUgIT09IGZpZ21hLm1peGVkID8gbm9kZS5mb250TmFtZS5mYW1pbHkgOiBcIlJvYm90b1wiO1xuICAgIGNvbnN0IGZvbnRTdHlsZSA9XG4gICAgICBub2RlLmZvbnROYW1lICE9PSBmaWdtYS5taXhlZCA/IG5vZGUuZm9udE5hbWUuc3R5bGUgOiBcIlJlZ3VsYXJcIjtcbiAgICBmaWdtYVxuICAgICAgLmxvYWRGb250QXN5bmMoeyBmYW1pbHk6IGZvbnROYW1lLCBzdHlsZTogZm9udFN0eWxlIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIFNldCB0ZXh0IG5vZGUgY29udGVudFxuICAgICAgICBub2RlLmNoYXJhY3RlcnMgPSBwcm9wc1tuYW1lXSB8fCBcIlwiO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBmb250XCIsIGVycik7XG4gICAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um9vdEZyYW1lcygpOiBJRnJhbWVEYXRhIHtcbiAgY29uc3QgeyBjdXJyZW50UGFnZSB9ID0gZmlnbWE7XG5cbiAgbGV0IHNlbGVjdGVkRnJhbWVzID0gY3VycmVudFBhZ2Uuc2VsZWN0aW9uLmZpbHRlcihcbiAgICAobm9kZSkgPT4gbm9kZS50eXBlID09PSBcIkZSQU1FXCJcbiAgKSBhcyBGcmFtZU5vZGVbXTtcblxuICBpZiAoc2VsZWN0ZWRGcmFtZXMubGVuZ3RoID09PSAwKSB7XG4gICAgc2VsZWN0ZWRGcmFtZXMgPSBjdXJyZW50UGFnZS5jaGlsZHJlbi5maWx0ZXIoXG4gICAgICAobm9kZSkgPT4gbm9kZS50eXBlID09PSBcIkZSQU1FXCJcbiAgICApIGFzIEZyYW1lTm9kZVtdO1xuICB9XG5cbiAgY29uc3QgZnJhbWVzRGF0YSA9IHNlbGVjdGVkRnJhbWVzLm1hcCgoZnJhbWUpID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIHdpZHRoLCBoZWlnaHQsIGlkIH0gPSBmcmFtZTtcbiAgICBjb25zdCB0ZXh0Tm9kZXMgPSBnZXRUZXh0Tm9kZXNGcm9tRnJhbWUoZnJhbWUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWUsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIGlkLFxuICAgICAgdGV4dE5vZGVzLFxuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgZnJhbWVzOiBmcmFtZXNEYXRhLFxuICAgIGhlYWRsaW5lOiBnZXROb2RlVGV4dChjdXJyZW50UGFnZSwgSEVBRExJTkVfTk9ERV9OQU1FUy5IRUFETElORSksXG4gICAgc3ViaGVhZDogZ2V0Tm9kZVRleHQoY3VycmVudFBhZ2UsIEhFQURMSU5FX05PREVfTkFNRVMuSEVBRExJTkUpLFxuICAgIHNvdXJjZTogZ2V0Tm9kZVRleHQoY3VycmVudFBhZ2UsIEhFQURMSU5FX05PREVfTkFNRVMuSEVBRExJTkUpLFxuICB9O1xufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudCAqL1xuaW1wb3J0IHsgaCwgcmVuZGVyIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgaW5qZWN0Q3NzIH0gZnJvbSBcIi4vdXRpbHMvY3NzXCI7XG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9jb21wb25lbnRzL0FwcFwiO1xuaW1wb3J0IHsgcG9zdE1hbiB9IGZyb20gXCJ1dGlscy9tZXNzYWdlc1wiO1xuaW1wb3J0IHsgTVNHX0VWRU5UUyB9IGZyb20gXCJjb25zdGFudHNcIjtcbmltcG9ydCB7IGNvbXByZXNzSW1hZ2UgfSBmcm9tIFwiaGVscGVyc1wiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuLi9wYWNrYWdlLmpzb25cIjtcblxuLy8gSW1wb3J0IENTUyBmaWxlcyBhcyBwbGFpbiB0ZXh0IHZpYSBlc2J1aWxkIGxvYWRlciBvcHRpb25cbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCB1aUNzcyBmcm9tIFwiLi91aS5jc3NcIjtcbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCBmb250c0NzcyBmcm9tIFwiLi9mb250cy5jc3NcIjtcbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCBlbWJlZENzcyBmcm9tIFwiLi9lbWJlZC5jc3NcIjtcblxuaW5qZWN0Q3NzKHVpQ3NzKTtcbmluamVjdENzcyhlbWJlZENzcyk7XG5pbmplY3RDc3MoZm9udHNDc3MpO1xuXG4vLyBSZWdpc3RlciBwb3N0IG1lc3NhZ2Ugd29ya2Vyc1xucG9zdE1hbi5yZWdpc3RlcldvcmtlcihNU0dfRVZFTlRTLkNPTVBSRVNTX0lNQUdFLCBjb21wcmVzc0ltYWdlKTtcblxuLy8gUmVuZGVyIGFwcFxucmVuZGVyKDxBcHAgdmVyc2lvbj17dmVyc2lvbn0gLz4sIGRvY3VtZW50LmJvZHkpO1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUdBLFFBQUksV0FBYSxPQUFPLGVBQWUsZUFDdEIsT0FBTyxnQkFBZ0IsZUFDdkIsT0FBTyxlQUFlO0FBRXZDLGtCQUFjLEtBQUs7QUFDakIsYUFBTyxPQUFPLFVBQVUsZUFBZSxLQUFLLEtBQUs7QUFBQTtBQUduRCxZQUFRLFNBQVMsU0FBVTtBQUN6QixVQUFJLFVBQVUsTUFBTSxVQUFVLE1BQU0sS0FBSyxXQUFXO0FBQ3BELGFBQU8sUUFBUTtBQUNiLFlBQUksU0FBUyxRQUFRO0FBQ3JCLFlBQUksQ0FBQztBQUFVO0FBQUE7QUFFZixZQUFJLE9BQU8sV0FBVztBQUNwQixnQkFBTSxJQUFJLFVBQVUsU0FBUztBQUFBO0FBRy9CLGlCQUFTLE1BQUs7QUFDWixjQUFJLEtBQUssUUFBUTtBQUNmLGdCQUFJLE1BQUssT0FBTztBQUFBO0FBQUE7QUFBQTtBQUt0QixhQUFPO0FBQUE7QUFLVCxZQUFRLFlBQVksU0FBVSxLQUFLO0FBQ2pDLFVBQUksSUFBSSxXQUFXO0FBQVEsZUFBTztBQUFBO0FBQ2xDLFVBQUksSUFBSTtBQUFZLGVBQU8sSUFBSSxTQUFTLEdBQUc7QUFBQTtBQUMzQyxVQUFJLFNBQVM7QUFDYixhQUFPO0FBQUE7QUFJVCxRQUFJLFVBQVU7QUFBQSxNQUNaLFVB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QUEsTUFBRztBQUFBLE1BQUc7QUFBQSxNQUFHO0FBQUEsTUFBRztBQUFBLE1BQUc7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQ3JEO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUc7QUFBQTtBQUcvRCxRQUFJLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFDNUQ7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBO0FBRzFELFFBQUksUUFBUTtBQUFBLE1BQ1Y7QUFBQSxNQUFHO0FBQUEsTUFBRztBQUFBLE1BQUc7QUFBQSxNQUFHO0FBQUEsTUFBRztBQUFBLE1BQUc7QUFBQSxNQUFHO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUs7QUFBQSxNQUN0RDtBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFNO0FBQUEsTUFBTTtBQUFBLE1BQU07QUFBQSxNQUFNO0FBQUEsTUFBTTtBQUFBLE1B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QUFHLE9BQU0sSUFBSSxPQUFFLE1BQUksS0FBSyxJQUFLLEtBQUcsSUFBRTtBQUFJLHFCQUFHLE1BQUksR0FBRTtBQUFNLHFCQUFHLEtBQUcsS0FBRyxHQUFFLEtBQUc7QUFBSyxxQkFBRyxLQUFHLEtBQUcsR0FBRSxLQUFHO0FBQUsscUJBQUcsS0FBRyxLQUFJLEtBQUUsS0FBSSxHQUFHLE1BQUc7QUFBQTtBQUFBO0FBRTFLLGdCQUFHLFNBQU87QUFBRyx1QkFBUSxLQUFFLEdBQUcsS0FBRSxNQUFNO0FBQVMsb0JBQUksS0FBRyxNQUFHLEdBQUcsS0FBRSxLQUFLLEtBQTBCLEtBQUcsSUFBRTtBQUFJLG1CQUFHLE1BQUksR0FBRTtBQUFNLG1CQUFHLEtBQUcsS0FBRyxHQUFFLEtBQUc7QUFBSyxtQkFBRyxLQUFHLEtBQUcsR0FBRSxLQUFHO0FBQUssbUJBQUcsS0FBRyxLQUFJLEtBQUUsS0FBSSxHQUFHLE1BQUc7QUFBQTtBQUFBLHFCQUV0SyxTQUFPO0FBQ2QsZ0JBQUcsU0FBUTtBQUFJLHVCQUFRLEtBQUUsR0FBRyxLQUFFLE1BQU07QUFBUSxvQkFBSSxLQUFHLE1BQUcsR0FBRyxLQUFHLE1BQUcsR0FBRyxLQUFHLEtBQUs7QUFBTSxtQkFBRyxNQUFJO0FBQUssbUJBQUcsS0FBRyxLQUFHO0FBQUssbUJBQUcsS0FBRyxLQUFHO0FBQUssbUJBQUcsS0FBRyxLQUFHLEtBQUssS0FBRztBQUFBO0FBQ3pJLGdCQUFHLFNBQU87QUFBSyx1QkFBUSxLQUFFLEdBQUcsS0FBRSxNQUFNO0FBQVEsb0JBQUksS0FBRyxNQUFHLEdBQUcsS0FBRyxNQUFHLEdBQUcsS0FBRyxLQUFLO0FBQU0sbUJBQUcsTUFBSTtBQUFLLG1CQUFHLEtBQUcsS0FBRztBQUFLLG1CQUFHLEtBQUcsS0FBRztBQUFLLG1CQUFHLEtBQUcsS0FBRyxLQUFLLEtBQUc7QUFBQTtBQUFBLHFCQUVsSSxTQUFPO0FBQ2QsZ0JBQUksS0FBSyxJQUFJLEtBQUssVUFBVSxJQUFJLEtBQUssVUFBVTtBQUMvQyxnQkFBRyxTQUFRO0FBQUcsdUJBQVEs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</script>
