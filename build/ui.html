<div id="app"></div>
<script>(() => {
  let __defineProperty = Object.defineProperty;
  let __hasOwnProperty = Object.prototype.hasOwnProperty;
  let __assign = Object.assign;
  let __commonJS = (callback, module) => () => {
    if (!module) {
      module = {exports: {}};
      callback(module.exports, module);
    }
    return module.exports;
  };
  let __markAsModule = (target) => {
    return __defineProperty(target, "__esModule", {value: true});
  };
  let __exportStar = (target, module) => {
    __markAsModule(target);
    for (let key in module)
      if (__hasOwnProperty.call(module, key) && !__hasOwnProperty.call(target, key) && key !== "default")
        __defineProperty(target, key, {get: () => module[key], enumerable: true});
    return target;
  };
  let __toModule = (module) => {
    if (module && module.__esModule)
      return module;
    return __exportStar(__defineProperty({}, "default", {value: module, enumerable: true}), module);
  };

  // src/embed.css
  var require_embed = __commonJS((exports, module) => {
    module.exports = 'html,\nbody {\n  margin: 0;\n}\n\n.f2h__text {\n  margin: 0;\n  font-family: sans-serif;\n  transform: translate(-50%, -50%);\n  /* white-space: pre; */\n\n  /* DEBUG */\n  /* color: rgba(255, 0, 0, 0.34) !important; */\n}\n\n.f2h__render {\n  position: relative;\n  overflow: hidden;\n}\n\n.f2h__render svg {\n  display: block;\n  margin: 0;\n}\n\n.f2h__render svg text {\n  /* DEBUG */\n  display: none;\n}\n\n.f2h__render--responsive {\n  width: 100%;\n}\n\n.f2h__render--responsive svg {\n  width: 100%;\n  height: auto;\n}\n\n.f2h_headline {\n  font-family: "Austin News Deck Semibold", Georgia, "Times New Roman", Times, serif;\n  font-size: 22px;\n  color: #333;\n  margin: 0;\n  line-height: 1.3;\n}\n.f2h_subbhead {\n  font-family: "Austin News Text Roman", Georgia, "Times New Roman", Times, serif;\n  font-size: 17px;\n  color: #333;\n  margin: 0;\n  line-height: 1.5;\n}\n.f2h_header {\n  margin-bottom: 12px;\n}\n\n.f2h_source {\n  font-family: "Telesans Text Regular", Arial, Helvetica, sans-serif;\n  font-size: 12px;\n  color: #999;\n  margin: 12px 0 0;\n}\n';
  });

  // src/fonts.css
  var require_fonts = __commonJS((exports, module) => {
    module.exports = '@font-face {\n  /* Semibold */\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.woff2")\n      format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.ttf")\n      format("truetype");\n  font-weight: 700;\n  font-display: "swap";\n}\n@font-face {\n  /* Medium */\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.woff2")\n      format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.ttf")\n      format("truetype");\n  font-weight: 400;\n  font-display: "swap";\n}\n\n@font-face {\n  /* Roman */\n  font-family: "Austin News Text";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.woff2")\n      format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.ttf")\n      format("truetype");\n  font-weight: 400;\n  font-display: "swap";\n}\n@font-face {\n  /* Regular */\n  font-family: "Telesans Text";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.woff2")\n      format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.ttf")\n      format("truetype");\n  font-weight: 400;\n  font-display: "swap";\n}\n@font-face {\n  /* Regular */\n  font-family: "Telesans Agate";\n  font-style: "normal";\n  font-weight: 400;\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/TelesansAgate-Medium.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/TelesansAgate-Medium.ttf")\n      format("truetype");\n}\n';
  });

  // node_modules/file-saver/dist/FileSaver.min.js
  var require_FileSaver_min = __commonJS((exports, module) => {
    (function(a4, b3) {
      if ("function" == typeof define && define.amd)
        define([], b3);
      else if ("undefined" != typeof exports)
        b3();
      else {
        b3(), a4.FileSaver = {exports: {}}.exports;
      }
    })(exports, function() {
      "use strict";
      function b3(a5, b4) {
        return "undefined" == typeof b4 ? b4 = {autoBom: false} : "object" != typeof b4 && (console.warn("Deprecated: Expected third argument to be a object"), b4 = {autoBom: !b4}), b4.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a5.type) ? new Blob(["ï»¿", a5], {type: a5.type}) : a5;
      }
      function c4(b4, c5, d4) {
        var e4 = new XMLHttpRequest();
        e4.open("GET", b4), e4.responseType = "blob", e4.onload = function() {
          a4(e4.response, c5, d4);
        }, e4.onerror = function() {
          console.error("could not download file");
        }, e4.send();
      }
      function d3(a5) {
        var b4 = new XMLHttpRequest();
        b4.open("HEAD", a5, false);
        try {
          b4.send();
        } catch (a6) {
        }
        return 200 <= b4.status && 299 >= b4.status;
      }
      function e3(a5) {
        try {
          a5.dispatchEvent(new MouseEvent("click"));
        } catch (c5) {
          var b4 = document.createEvent("MouseEvents");
          b4.initMouseEvent("click", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null), a5.dispatchEvent(b4);
        }
      }
      var f4 = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof global && global.global === global ? global : void 0, a4 = f4.saveAs || ("object" != typeof window || window !== f4 ? function() {
      } : "download" in HTMLAnchorElement.prototype ? function(b4, g4, h4) {
        var i4 = f4.URL || f4.webkitURL, j3 = document.createElement("a");
        g4 = g4 || b4.name || "download", j3.download = g4, j3.rel = "noopener", "string" == typeof b4 ? (j3.href = b4, j3.origin === location.origin ? e3(j3) : d3(j3.href) ? c4(b4, g4, h4) : e3(j3, j3.target = "_blank")) : (j3.href = i4.createObjectURL(b4), setTimeout(function() {
          i4.revokeObjectURL(j3.href);
        }, 4e4), setTimeout(function() {
          e3(j3);
        }, 0));
      } : "msSaveOrOpenBlob" in navigator ? function(f5, g4, h4) {
        if (g4 = g4 || f5.name || "download", "string" != typeof f5)
          navigator.msSaveOrOpenBlob(b3(f5, h4), g4);
        else if (d3(f5))
          c4(f5, g4, h4);
        else {
          var i4 = document.createElement("a");
          i4.href = f5, i4.target = "_blank", setTimeout(function() {
            e3(i4);
          });
        }
      } : function(a5, b4, d4, e4) {
        if (e4 = e4 || open("", "_blank"), e4 && (e4.document.title = e4.document.body.innerText = "downloading..."), "string" == typeof a5)
          return c4(a5, b4, d4);
        var g4 = "application/octet-stream" === a5.type, h4 = /constructor/i.test(f4.HTMLElement) || f4.safari, i4 = /CriOS\/[\d]+/.test(navigator.userAgent);
        if ((i4 || g4 && h4) && "object" == typeof FileReader) {
          var j3 = new FileReader();
          j3.onloadend = function() {
            var a6 = j3.result;
            a6 = i4 ? a6 : a6.replace(/^data:[^;]*;/, "data:attachment/file;"), e4 ? e4.location.href = a6 : location = a6, e4 = null;
          }, j3.readAsDataURL(a5);
        } else {
          var k3 = f4.URL || f4.webkitURL, l4 = k3.createObjectURL(a5);
          e4 ? e4.location = l4 : location.href = l4, e4 = null, setTimeout(function() {
            k3.revokeObjectURL(l4);
          }, 4e4);
        }
      });
      f4.saveAs = a4.saveAs = a4, "undefined" != typeof module && (module.exports = a4);
    });
  });

  // src/ui.css
  var require_ui = __commonJS((exports, module) => {
    module.exports = '/*! minireset.css v0.0.6 | MIT License | github.com/jgthms/minireset.css */\nhtml,\nbody,\np,\nol,\nul,\nli,\ndl,\ndt,\ndd,\nblockquote,\nfigure,\nfieldset,\nlegend,\ntextarea,\npre,\niframe,\nhr,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n  padding: 0;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: 100%;\n  font-weight: normal;\n}\nul {\n  list-style: none;\n}\nbutton,\ninput,\nselect,\ntextarea {\n  margin: 0;\n}\nhtml {\n  box-sizing: border-box;\n}\n*,\n*::before,\n*::after {\n  box-sizing: inherit;\n}\n\niframe {\n  border: 0;\n}\n\n@import url("https://rsms.me/inter/inter.css");\n\nbody {\n  --padding-small: 6px;\n  --padding-medium: 12px;\n  --padding-large: 24px;\n  --padding-huge: 48px;\n\n  --border-radius-small: 3px;\n  --border-radius-medium: 6px;\n  --border-radius-large: 12px;\n\n  --colours-grey-0: rgb(33, 33, 33);\n  --colours-grey-1: rgb(74, 74, 74);\n  --colours-grey-2: rgb(133, 133, 133);\n  --colours-grey-3: rgb(179, 179, 179);\n  --colours-grey-4: rgb(227, 227, 227);\n  --colours-grey-5: rgb(245, 245, 245);\n  --colours-main: rgb(72, 202, 126);\n  --colours-main-light: rgb(208, 242, 222);\n  --colours-main-dark: rgb(44, 75, 57);\n  --colours-warning: rgb(255, 242, 175);\n\n  --font-family-sans-serif: Arial, Helvetica, sans-serif;\n  --font-famailt-serif: Georgia, "Times New Roman", Times, serif;\n\n  --font-size--small: 11px;\n  --font-size--medium: 14px;\n  --font-size--large: 18px;\n}\n\nhtml {\n  font-family: "Inter", sans-serif;\n}\n@supports (font-variation-settings: normal) {\n  html {\n    font-family: "Inter var", sans-serif;\n  }\n}\n\nhtml,\nbody {\n  margin: 0;\n  font-size: 14px;\n}\n\nbutton {\n  border: 1px solid transparent;\n  background: #fff;\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  cursor: pointer;\n  border-radius: var(--border-radius-small, 0);\n  outline: none;\n  border: 1px solid transparent;\n\n  background: var(--colours-main, #f0f);\n}\n\n.btn--primary {\n  color: #fff;\n  background: var(--colours-main, #f0f);\n}\n\n.btn--secondary {\n  color: var(--colours-grey-1, #f0f);\n  border-color: var(--colours-grey-2, #f0f);\n  background-color: transparent;\n  margin-right: var(--padding-small, 0);\n}\n\nbutton:disabled {\n  border: 1px solid var(--colours-grey-4, #f0f);\n  color: var(--colours-grey-4, #f0f);\n  background: #fff;\n}\n\nbutton:active,\nbutton:hover {\n  outline: none;\n}\n\n.f2h {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n/* [Header] */\n.f2h__header {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  border-bottom: 1px solid #e4e4e4;\n  background: #f9f9f9;\n}\n.f2h__nav {\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.f2h__title {\n  font-family: var(--font-family-sans-serif, sans-serif);\n  font-size: var(--font-size--medium, 1em);\n}\n.f2h__info {\n  margin-left: var(--padding-medium, 0);\n  display: flex;\n  max-width: 60%;\n  white-space: nowrap;\n}\n.f2h__info_title {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.f2h__info_meta {\n  font-size: var(--font-size--medium, 1em);\n  padding-left: var(--padding-small, 0);\n  margin-left: var(--padding-small, 0);\n  border-left: 1px solid var(--colours-grey-4, #f0f);\n}\n.f2h__info_responsive--no {\n  text-decoration: line-through;\n}\n.f2h__svg_optimise {\n  margin-left: var(--padding-medium, 0);\n  padding-left: var(--padding-small, 0);\n  border-left: 1px solid var(--colours-grey-4, #f0f);\n}\n.f2h__svg_optimise span {\n  padding-left: var(--padding-small, 0);\n}\n\n.f2h__body {\n  display: flex;\n  padding: var(--padding-large, 0) var(--padding-huge, 0);\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background-color: var(--colours-grey-5, #f0f);\n}\n\n.f2h__version {\n  position: absolute;\n  bottom: var(--padding-small, 0);\n  right: var(--padding-small, 0);\n  color: var(--colours-grey-3, #f0f);\n  font-size: var(--font-size--small, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n}\n\n/* [ Frame selection and Form ] */\n.f2h__choose_frames {\n  min-width: 50%;\n}\n.f2h__info_form {\n  margin-bottom: var(--padding-large, 0);\n}\n.f2h__info_form__item {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: var(--padding-medium, 0);\n}\n.f2h__info_form__label {\n  font-size: var(--font-size--small, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n}\n.f2h__info_form__input {\n  font-size: var(--font-size--medium, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n}\n\n.f2h__frame_selection {\n  display: grid;\n  grid-template-columns: 1fr min-content;\n  grid-template-rows: auto;\n  min-width: 320px;\n  grid-gap: var(--padding-small, 0) var(--padding-medium, 0);\n  align-items: center;\n}\n\n.f2h__sel_header {\n  color: var(--colours-grey-0, #f0f);\n  font-size: var(--font-size--medium);\n  border-bottom: 1px solid var(--colours-grey-0);\n  padding-bottom: var(--padding-small, 0);\n}\n\n.f2h__sel_header--name {\n  grid-column: 1/2;\n  grid-row: 1/2;\n}\n\n.f2h__sel_header--responsive {\n  grid-column: 2/3;\n  grid-row: 1/2;\n  justify-self: center;\n  white-space: nowrap;\n}\n\n.f2h__label.f2h__label--name {\n  grid-column: 1/2;\n  align-items: baseline;\n}\n.f2h__label--name-text {\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.f2h__input--responsive {\n  grid-column: 2/3;\n  justify-self: center;\n  margin: 0;\n}\n\n.f2h__label {\n  display: flex;\n  cursor: pointer;\n  padding: var(--padding-small) 0;\n  align-items: center;\n  min-width: 0;\n}\n\n.f2h__sel_width {\n  font-size: var(--font-size--small, 1em);\n  color: var(--colours-grey-3, #f0f);\n  padding-left: var(--padding-small, 0);\n  white-space: nowrap;\n}\n\n.f2h__checkbox,\n.f2h__radio_btn {\n  margin-right: var(--padding-medium, 0);\n}\n\n.f2h__selection_width {\n  font-size: var(--font-size--small, 1);\n  margin: 0 var(--padding-small, 0);\n  display: block;\n  color: var(--colours-grey-2, #f0f);\n}\n\n/* [Preview]  */\n.f2h__preview {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n}\n.f2h__preview_title {\n  font-size: var(--font-size--medium, 1);\n  margin: var(--padding-small, 0) 0;\n  display: flex;\n}\n.f2h__preview_name {\n  flex: 1;\n}\n\n.f2h__preview_inner {\n  overflow: auto;\n  max-height: 100%;\n  max-width: 100%;\n  margin: auto;\n}\n.f2h__preview_inner--scaled {\n  overflow: hidden;\n}\n\n.f2h__preview_wrapper {\n  overflow-x: auto;\n  overflow-y: hidden;\n  width: 100%;\n}\n\n.f2h__preview_responsive,\n.f2h__preview_width {\n  font-size: var(--font-size--small, 1);\n  color: var(--colours-grey-3, #f0f);\n  padding-left: var(--padding-small, 0);\n}\n\n.f2h__notice--warning {\n  background: var(--colours-warning, #f0f);\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  margin: var(--padding-small, 0) 0;\n  font-size: var(--font-size--medium, 1em);\n  border-radius: var(--border-radius-medium, 0);\n}\n\n.f2h__notice--error {\n  font-weight: bold;\n  background: #ffeded;\n  color: #a70f0f;\n}\n\n/* [Render] */\n.f2h__render {\n  transform-origin: top left;\n}\n\n.f2h__render--responsive svg {\n  width: 100%;\n}\n\n.error {\n  background-color: var(--colours-grey-5, #f0f);\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0) var(--padding-small, 0);\n  text-align: center;\n  color: var(--colours-grey-0, #f0f);\n  margin: var(--padding-medium, 0) 0;\n  flex: 1;\n  align-self: center;\n}\n\n/* [Save] */\n.f2h__save {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-self: center;\n  max-width: 800px;\n}\n\n.f2h__save_btn {\n  font-size: var(--font-size--large, 1em);\n  color: #fff;\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0);\n  margin-right: var(--padding-medium, 0);\n  border-bottom: 2px solid var(--colours-main-dark, #f0f);\n  border-top: 3px solid transparent;\n}\n.f2h__save_btn:hover {\n  border-top: 0;\n  border-bottom-width: 5px;\n  box-shadow: 0 4px 2px rgba(0, 0, 0, 0.1);\n}\n.f2h__save_btn:active {\n  border-bottom: 2px solid var(--colours-main-dark, #f0f);\n  border-top: 3px solid transparent;\n}\n\n.f2h__save_btn:last-of-type {\n  margin: 0;\n}\n\n.f2h__save_options {\n  display: flex;\n  justify-content: center;\n}\n\n.f2h__save__subhead {\n  font-size: var(--font-size--medium, 1);\n  margin: var(--padding-large, 0) 0 var(--padding-small, 0);\n  padding-bottom: var(--padding-small, 0);\n  border-bottom: 1px solid var(--colours-grey-4, #f0f);\n}\n\n.f2h__save_advanced {\n  opacity: 0;\n  transition: opacity 0.1s;\n}\n.f2h__save_advanced--open {\n  opacity: 1;\n}\n\n.f2h__save_advanced-header {\n  display: flex;\n}\n\n.f2h__save_advanced_title {\n  flex: 1;\n}\n\n.f2h__save_advanced_show {\n  background-color: transparent;\n  border: 1px solid var(--colours-grey-3, #f0f);\n}\n\n.f2h__save__raw {\n  width: 100%;\n  padding: var(--padding-small, 0);\n  border: 1px solid var(--colours-grey-4, #f0f);\n  font-family: monospace;\n  font-size: 11px;\n  min-height: 150px;\n  max-height: 300px;\n}\n\n/* Resize widget */\n.f2h__resizer {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  bottom: 6px;\n  right: 6px;\n  cursor: grabbing;\n  background: repeating-linear-gradient(\n    -45deg,\n    #d2d2d2,\n    #d2d2d2 2px,\n    transparent 1px,\n    transparent 8px\n  );\n  border-radius: 100% 0 0;\n}\n\n.f2h__toast {\n  background-color: var(--colours-grey-1, #f0f);\n  color: #fff;\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0);\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 0);\n  transition: transform 0.3s, opacity 0.3s 0.1s;\n  opacity: 0;\n}\n\n.f2h__toast--open {\n  transform: translate(-50%, -100%);\n  opacity: 1;\n}\n\n/* [Responsive preview] */\n.f2h__responsive_preview {\n  /* width: 300px; */\n  display: flex;\n  flex-direction: column;\n  align-self: center;\n}\n\n.f2h__responsive__wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 500px;\n}\n\n.f2h__ruler {\n  position: relative;\n  display: grid;\n  justify-items: center;\n}\n.f2h__ruler_break {\n  height: var(--padding-medium, 10px);\n  background-color: var(--colours-grey-4, #f0f);\n  border: 2px solid #fff;\n  grid-row: 1/2;\n  grid-column: 1/2;\n  border-top: none;\n  border-bottom: none;\n}\n.f2h__ruler_break--0 {\n  width: 320px;\n  z-index: 3;\n}\n.f2h__ruler_break--1 {\n  width: 450px;\n  z-index: 2;\n}\n.f2h__ruler_break--2 {\n  width: 640px;\n  z-index: 1;\n}\n\n.f2h__responsive__sandbox {\n  resize: both;\n  overflow: hidden;\n  outline: 1px solid var(--colours-grey-4, #f0f);\n  margin: var(--padding-small, 0) 0;\n\n  /* https://leaverou.github.io/css3patterns/#checkerboard */\n  background-color: #eee;\n  background-image: linear-gradient(\n      45deg,\n      var(--colours-grey-4, #f0f) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--colours-grey-4, #f0f) 75%,\n      var(--colours-grey-4, #f0f)\n    ),\n    linear-gradient(\n      45deg,\n      var(--colours-grey-4, #f0f) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--colours-grey-4, #f0f) 75%,\n      var(--colours-grey-4, #f0f)\n    );\n  background-size: 20px 20px;\n  background-position: 0 0, 10px 10px;\n}\n';
  });

  // node_modules/preact/dist/preact.module.js
  var n2;
  var l3;
  var u3;
  var i3;
  var t2;
  var o3;
  var r2;
  var f3;
  var e2 = {};
  var c3 = [];
  var a3 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;
  function s3(n4, l4) {
    for (var u4 in l4)
      n4[u4] = l4[u4];
    return n4;
  }
  function v3(n4) {
    var l4 = n4.parentNode;
    l4 && l4.removeChild(n4);
  }
  function h2(n4, l4, u4) {
    var i4, t3 = arguments, o4 = {};
    for (i4 in l4)
      "key" !== i4 && "ref" !== i4 && (o4[i4] = l4[i4]);
    if (arguments.length > 3)
      for (u4 = [u4], i4 = 3; i4 < arguments.length; i4++)
        u4.push(t3[i4]);
    if (null != u4 && (o4.children = u4), "function" == typeof n4 && null != n4.defaultProps)
      for (i4 in n4.defaultProps)
        void 0 === o4[i4] && (o4[i4] = n4.defaultProps[i4]);
    return y2(n4, o4, l4 && l4.key, l4 && l4.ref, null);
  }
  function y2(l4, u4, i4, t3, o4) {
    var r3 = {type: l4, props: u4, key: i4, ref: t3, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, constructor: void 0, __v: o4};
    return null == o4 && (r3.__v = r3), n2.vnode && n2.vnode(r3), r3;
  }
  function p3() {
    return {};
  }
  function d2(n4) {
    return n4.children;
  }
  function m2(n4, l4) {
    this.props = n4, this.context = l4;
  }
  function w2(n4, l4) {
    if (null == l4)
      return n4.__ ? w2(n4.__, n4.__.__k.indexOf(n4) + 1) : null;
    for (var u4; l4 < n4.__k.length; l4++)
      if (null != (u4 = n4.__k[l4]) && null != u4.__e)
        return u4.__e;
    return "function" == typeof n4.type ? w2(n4) : null;
  }
  function k2(n4) {
    var l4, u4;
    if (null != (n4 = n4.__) && null != n4.__c) {
      for (n4.__e = n4.__c.base = null, l4 = 0; l4 < n4.__k.length; l4++)
        if (null != (u4 = n4.__k[l4]) && null != u4.__e) {
          n4.__e = n4.__c.base = u4.__e;
          break;
        }
      return k2(n4);
    }
  }
  function g3(l4) {
    (!l4.__d && (l4.__d = true) && u3.push(l4) && !i3++ || o3 !== n2.debounceRendering) && ((o3 = n2.debounceRendering) || t2)(_3);
  }
  function _3() {
    for (var n4; i3 = u3.length; )
      n4 = u3.sort(function(n5, l4) {
        return n5.__v.__b - l4.__v.__b;
      }), u3 = [], n4.some(function(n5) {
        var l4, u4, i4, t3, o4, r3, f4;
        n5.__d && (r3 = (o4 = (l4 = n5).__v).__e, (f4 = l4.__P) && (u4 = [], (i4 = s3({}, o4)).__v = i4, t3 = z2(f4, o4, i4, l4.__n, void 0 !== f4.ownerSVGElement, null, u4, null == r3 ? w2(o4) : r3), T2(u4, o4), t3 != r3 && k2(o4)));
      });
  }
  function b2(n4, l4, u4, i4, t3, o4, r3, f4, a4, s4) {
    var h4, p4, m3, k3, g4, _4, b3, x3, A3, P3 = i4 && i4.__k || c3, C3 = P3.length;
    for (a4 == e2 && (a4 = null != r3 ? r3[0] : C3 ? w2(i4, 0) : null), u4.__k = [], h4 = 0; h4 < l4.length; h4++)
      if (null != (k3 = u4.__k[h4] = null == (k3 = l4[h4]) || "boolean" == typeof k3 ? null : "string" == typeof k3 || "number" == typeof k3 ? y2(null, k3, null, null, k3) : Array.isArray(k3) ? y2(d2, {children: k3}, null, null, null) : null != k3.__e || null != k3.__c ? y2(k3.type, k3.props, k3.key, null, k3.__v) : k3)) {
        if (k3.__ = u4, k3.__b = u4.__b + 1, null === (m3 = P3[h4]) || m3 && k3.key == m3.key && k3.type === m3.type)
          P3[h4] = void 0;
        else
          for (p4 = 0; p4 < C3; p4++) {
            if ((m3 = P3[p4]) && k3.key == m3.key && k3.type === m3.type) {
              P3[p4] = void 0;
              break;
            }
            m3 = null;
          }
        if (g4 = z2(n4, k3, m3 = m3 || e2, t3, o4, r3, f4, a4, s4), (p4 = k3.ref) && m3.ref != p4 && (x3 || (x3 = []), m3.ref && x3.push(m3.ref, null, k3), x3.push(p4, k3.__c || g4, k3)), null != g4) {
          if (null == b3 && (b3 = g4), A3 = void 0, void 0 !== k3.__d)
            A3 = k3.__d, k3.__d = void 0;
          else if (r3 == m3 || g4 != a4 || null == g4.parentNode) {
            n:
              if (null == a4 || a4.parentNode !== n4)
                n4.appendChild(g4), A3 = null;
              else {
                for (_4 = a4, p4 = 0; (_4 = _4.nextSibling) && p4 < C3; p4 += 2)
                  if (_4 == g4)
                    break n;
                n4.insertBefore(g4, a4), A3 = a4;
              }
            "option" == u4.type && (n4.value = "");
          }
          a4 = void 0 !== A3 ? A3 : g4.nextSibling, "function" == typeof u4.type && (u4.__d = a4);
        } else
          a4 && m3.__e == a4 && a4.parentNode != n4 && (a4 = w2(m3));
      }
    if (u4.__e = b3, null != r3 && "function" != typeof u4.type)
      for (h4 = r3.length; h4--; )
        null != r3[h4] && v3(r3[h4]);
    for (h4 = C3; h4--; )
      null != P3[h4] && D2(P3[h4], P3[h4]);
    if (x3)
      for (h4 = 0; h4 < x3.length; h4++)
        j2(x3[h4], x3[++h4], x3[++h4]);
  }
  function A2(n4, l4, u4, i4, t3) {
    var o4;
    for (o4 in u4)
      "children" === o4 || "key" === o4 || o4 in l4 || C2(n4, o4, null, u4[o4], i4);
    for (o4 in l4)
      t3 && "function" != typeof l4[o4] || "children" === o4 || "key" === o4 || "value" === o4 || "checked" === o4 || u4[o4] === l4[o4] || C2(n4, o4, l4[o4], u4[o4], i4);
  }
  function P2(n4, l4, u4) {
    "-" === l4[0] ? n4.setProperty(l4, u4) : n4[l4] = "number" == typeof u4 && false === a3.test(l4) ? u4 + "px" : null == u4 ? "" : u4;
  }
  function C2(n4, l4, u4, i4, t3) {
    var o4, r3, f4, e3, c4;
    if (t3 ? "className" === l4 && (l4 = "class") : "class" === l4 && (l4 = "className"), "style" === l4)
      if (o4 = n4.style, "string" == typeof u4)
        o4.cssText = u4;
      else {
        if ("string" == typeof i4 && (o4.cssText = "", i4 = null), i4)
          for (e3 in i4)
            u4 && e3 in u4 || P2(o4, e3, "");
        if (u4)
          for (c4 in u4)
            i4 && u4[c4] === i4[c4] || P2(o4, c4, u4[c4]);
      }
    else
      "o" === l4[0] && "n" === l4[1] ? (r3 = l4 !== (l4 = l4.replace(/Capture$/, "")), f4 = l4.toLowerCase(), l4 = (f4 in n4 ? f4 : l4).slice(2), u4 ? (i4 || n4.addEventListener(l4, N2, r3), (n4.l || (n4.l = {}))[l4] = u4) : n4.removeEventListener(l4, N2, r3)) : "list" !== l4 && "tagName" !== l4 && "form" !== l4 && "type" !== l4 && "size" !== l4 && !t3 && l4 in n4 ? n4[l4] = null == u4 ? "" : u4 : "function" != typeof u4 && "dangerouslySetInnerHTML" !== l4 && (l4 !== (l4 = l4.replace(/^xlink:?/, "")) ? null == u4 || false === u4 ? n4.removeAttributeNS("http://www.w3.org/1999/xlink", l4.toLowerCase()) : n4.setAttributeNS("http://www.w3.org/1999/xlink", l4.toLowerCase(), u4) : null == u4 || false === u4 && !/^ar/.test(l4) ? n4.removeAttribute(l4) : n4.setAttribute(l4, u4));
  }
  function N2(l4) {
    this.l[l4.type](n2.event ? n2.event(l4) : l4);
  }
  function z2(l4, u4, i4, t3, o4, r3, f4, e3, c4) {
    var a4, v4, h4, y3, p4, w3, k3, g4, _4, x3, A3, P3 = u4.type;
    if (void 0 !== u4.constructor)
      return null;
    (a4 = n2.__b) && a4(u4);
    try {
      n:
        if ("function" == typeof P3) {
          if (g4 = u4.props, _4 = (a4 = P3.contextType) && t3[a4.__c], x3 = a4 ? _4 ? _4.props.value : a4.__ : t3, i4.__c ? k3 = (v4 = u4.__c = i4.__c).__ = v4.__E : ("prototype" in P3 && P3.prototype.render ? u4.__c = v4 = new P3(g4, x3) : (u4.__c = v4 = new m2(g4, x3), v4.constructor = P3, v4.render = E2), _4 && _4.sub(v4), v4.props = g4, v4.state || (v4.state = {}), v4.context = x3, v4.__n = t3, h4 = v4.__d = true, v4.__h = []), null == v4.__s && (v4.__s = v4.state), null != P3.getDerivedStateFromProps && (v4.__s == v4.state && (v4.__s = s3({}, v4.__s)), s3(v4.__s, P3.getDerivedStateFromProps(g4, v4.__s))), y3 = v4.props, p4 = v4.state, h4)
            null == P3.getDerivedStateFromProps && null != v4.componentWillMount && v4.componentWillMount(), null != v4.componentDidMount && v4.__h.push(v4.componentDidMount);
          else {
            if (null == P3.getDerivedStateFromProps && g4 !== y3 && null != v4.componentWillReceiveProps && v4.componentWillReceiveProps(g4, x3), !v4.__e && null != v4.shouldComponentUpdate && false === v4.shouldComponentUpdate(g4, v4.__s, x3) || u4.__v === i4.__v) {
              for (v4.props = g4, v4.state = v4.__s, u4.__v !== i4.__v && (v4.__d = false), v4.__v = u4, u4.__e = i4.__e, u4.__k = i4.__k, v4.__h.length && f4.push(v4), a4 = 0; a4 < u4.__k.length; a4++)
                u4.__k[a4] && (u4.__k[a4].__ = u4);
              break n;
            }
            null != v4.componentWillUpdate && v4.componentWillUpdate(g4, v4.__s, x3), null != v4.componentDidUpdate && v4.__h.push(function() {
              v4.componentDidUpdate(y3, p4, w3);
            });
          }
          v4.context = x3, v4.props = g4, v4.state = v4.__s, (a4 = n2.__r) && a4(u4), v4.__d = false, v4.__v = u4, v4.__P = l4, a4 = v4.render(v4.props, v4.state, v4.context), null != v4.getChildContext && (t3 = s3(s3({}, t3), v4.getChildContext())), h4 || null == v4.getSnapshotBeforeUpdate || (w3 = v4.getSnapshotBeforeUpdate(y3, p4)), A3 = null != a4 && a4.type == d2 && null == a4.key ? a4.props.children : a4, b2(l4, Array.isArray(A3) ? A3 : [A3], u4, i4, t3, o4, r3, f4, e3, c4), v4.base = u4.__e, v4.__h.length && f4.push(v4), k3 && (v4.__E = v4.__ = null), v4.__e = false;
        } else
          null == r3 && u4.__v === i4.__v ? (u4.__k = i4.__k, u4.__e = i4.__e) : u4.__e = $2(i4.__e, u4, i4, t3, o4, r3, f4, c4);
      (a4 = n2.diffed) && a4(u4);
    } catch (l5) {
      u4.__v = null, n2.__e(l5, u4, i4);
    }
    return u4.__e;
  }
  function T2(l4, u4) {
    n2.__c && n2.__c(u4, l4), l4.some(function(u5) {
      try {
        l4 = u5.__h, u5.__h = [], l4.some(function(n4) {
          n4.call(u5);
        });
      } catch (l5) {
        n2.__e(l5, u5.__v);
      }
    });
  }
  function $2(n4, l4, u4, i4, t3, o4, r3, f4) {
    var a4, s4, v4, h4, y3, p4 = u4.props, d3 = l4.props;
    if (t3 = "svg" === l4.type || t3, null != o4) {
      for (a4 = 0; a4 < o4.length; a4++)
        if (null != (s4 = o4[a4]) && ((null === l4.type ? 3 === s4.nodeType : s4.localName === l4.type) || n4 == s4)) {
          n4 = s4, o4[a4] = null;
          break;
        }
    }
    if (null == n4) {
      if (null === l4.type)
        return document.createTextNode(d3);
      n4 = t3 ? document.createElementNS("http://www.w3.org/2000/svg", l4.type) : document.createElement(l4.type, d3.is && {is: d3.is}), o4 = null, f4 = false;
    }
    if (null === l4.type)
      p4 !== d3 && n4.data != d3 && (n4.data = d3);
    else {
      if (null != o4 && (o4 = c3.slice.call(n4.childNodes)), v4 = (p4 = u4.props || e2).dangerouslySetInnerHTML, h4 = d3.dangerouslySetInnerHTML, !f4) {
        if (null != o4)
          for (p4 = {}, y3 = 0; y3 < n4.attributes.length; y3++)
            p4[n4.attributes[y3].name] = n4.attributes[y3].value;
        (h4 || v4) && (h4 && v4 && h4.__html == v4.__html || (n4.innerHTML = h4 && h4.__html || ""));
      }
      A2(n4, d3, p4, t3, f4), h4 ? l4.__k = [] : (a4 = l4.props.children, b2(n4, Array.isArray(a4) ? a4 : [a4], l4, u4, i4, "foreignObject" !== l4.type && t3, o4, r3, e2, f4)), f4 || ("value" in d3 && void 0 !== (a4 = d3.value) && a4 !== n4.value && C2(n4, "value", a4, p4.value, false), "checked" in d3 && void 0 !== (a4 = d3.checked) && a4 !== n4.checked && C2(n4, "checked", a4, p4.checked, false));
    }
    return n4;
  }
  function j2(l4, u4, i4) {
    try {
      "function" == typeof l4 ? l4(u4) : l4.current = u4;
    } catch (l5) {
      n2.__e(l5, i4);
    }
  }
  function D2(l4, u4, i4) {
    var t3, o4, r3;
    if (n2.unmount && n2.unmount(l4), (t3 = l4.ref) && (t3.current && t3.current !== l4.__e || j2(t3, null, u4)), i4 || "function" == typeof l4.type || (i4 = null != (o4 = l4.__e)), l4.__e = l4.__d = void 0, null != (t3 = l4.__c)) {
      if (t3.componentWillUnmount)
        try {
          t3.componentWillUnmount();
        } catch (l5) {
          n2.__e(l5, u4);
        }
      t3.base = t3.__P = null;
    }
    if (t3 = l4.__k)
      for (r3 = 0; r3 < t3.length; r3++)
        t3[r3] && D2(t3[r3], u4, i4);
    null != o4 && v3(o4);
  }
  function E2(n4, l4, u4) {
    return this.constructor(n4, u4);
  }
  function H2(l4, u4, i4) {
    var t3, o4, f4;
    n2.__ && n2.__(l4, u4), o4 = (t3 = i4 === r2) ? null : i4 && i4.__k || u4.__k, l4 = h2(d2, null, [l4]), f4 = [], z2(u4, (t3 ? u4 : i4 || u4).__k = l4, o4 || e2, e2, void 0 !== u4.ownerSVGElement, i4 && !t3 ? [i4] : o4 ? null : u4.childNodes.length ? c3.slice.call(u4.childNodes) : null, f4, i4 || e2, t3), T2(f4, l4);
  }
  n2 = {__e: function(n4, l4) {
    for (var u4, i4; l4 = l4.__; )
      if ((u4 = l4.__c) && !u4.__)
        try {
          if (u4.constructor && null != u4.constructor.getDerivedStateFromError && (i4 = true, u4.setState(u4.constructor.getDerivedStateFromError(n4))), null != u4.componentDidCatch && (i4 = true, u4.componentDidCatch(n4)), i4)
            return g3(u4.__E = u4);
        } catch (l5) {
          n4 = l5;
        }
    throw n4;
  }}, l3 = function(n4) {
    return null != n4 && void 0 === n4.constructor;
  }, m2.prototype.setState = function(n4, l4) {
    var u4;
    u4 = this.__s !== this.state ? this.__s : this.__s = s3({}, this.state), "function" == typeof n4 && (n4 = n4(u4, this.props)), n4 && s3(u4, n4), null != n4 && this.__v && (l4 && this.__h.push(l4), g3(this));
  }, m2.prototype.forceUpdate = function(n4) {
    this.__v && (this.__e = true, n4 && this.__h.push(n4), g3(this));
  }, m2.prototype.render = d2, u3 = [], i3 = 0, t2 = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, r2 = e2, f3 = 0;

  // src/utils/css.ts
  function injectCss(css2) {
    const styleEl = document.createElement("style");
    const styleText = document.createTextNode(css2);
    styleEl.appendChild(styleText);
    document.head.appendChild(styleEl);
  }

  // node_modules/immer/dist/immer.esm.js
  function t(t3) {
    for (var n4 = arguments.length, r3 = Array(n4 > 1 ? n4 - 1 : 0), e3 = 1; e3 < n4; e3++)
      r3[e3 - 1] = arguments[e3];
    if (true) {
      var i4 = Q[t3], o4 = i4 ? "function" == typeof i4 ? i4.apply(null, r3) : i4 : "unknown error nr: " + t3;
      throw Error("[Immer] " + o4);
    }
    throw Error("[Immer] minified error nr: " + t3 + (r3.length ? " " + r3.join(",") : "") + ". Find the full error at: https://bit.ly/3cXEKWf");
  }
  function n(t3) {
    return !!t3 && !!t3[H];
  }
  function r(t3) {
    return !!t3 && (function(t4) {
      if (!t4 || "object" != typeof t4)
        return false;
      var n4 = Object.getPrototypeOf(t4);
      return !n4 || n4 === Object.prototype;
    }(t3) || Array.isArray(t3) || !!t3[B] || !!t3.constructor[B] || s(t3) || p(t3));
  }
  function i(t3, n4, r3) {
    void 0 === r3 && (r3 = false), 0 === o(t3) ? (r3 ? Object.keys : V)(t3).forEach(function(e3) {
      r3 && "symbol" == typeof e3 || n4(e3, t3[e3], t3);
    }) : t3.forEach(function(r4, e3) {
      return n4(e3, r4, t3);
    });
  }
  function o(t3) {
    var n4 = t3[H];
    return n4 ? n4.i > 3 ? n4.i - 4 : n4.i : Array.isArray(t3) ? 1 : s(t3) ? 2 : p(t3) ? 3 : 0;
  }
  function u(t3, n4) {
    return 2 === o(t3) ? t3.has(n4) : Object.prototype.hasOwnProperty.call(t3, n4);
  }
  function a(t3, n4) {
    return 2 === o(t3) ? t3.get(n4) : t3[n4];
  }
  function f(t3, n4, r3) {
    var e3 = o(t3);
    2 === e3 ? t3.set(n4, r3) : 3 === e3 ? (t3.delete(n4), t3.add(r3)) : t3[n4] = r3;
  }
  function c(t3, n4) {
    return t3 === n4 ? 0 !== t3 || 1 / t3 == 1 / n4 : t3 != t3 && n4 != n4;
  }
  function s(t3) {
    return U && t3 instanceof Map;
  }
  function p(t3) {
    return W && t3 instanceof Set;
  }
  function v(t3) {
    return t3.o || t3.t;
  }
  function l(t3) {
    if (Array.isArray(t3))
      return t3.slice();
    var n4 = Object.getOwnPropertyDescriptors(t3);
    for (var r3 in (delete n4[H], n4)) {
      var e3 = n4[r3];
      false === e3.writable && (e3.writable = true, e3.configurable = true), (e3.get || e3.set) && (n4[r3] = {configurable: true, writable: true, enumerable: e3.enumerable, value: t3[r3]});
    }
    return Object.create(Object.getPrototypeOf(t3), n4);
  }
  function d(t3, e3) {
    Object.isFrozen(t3) || n(t3) || !r(t3) || (o(t3) > 1 && (t3.set = t3.add = t3.clear = t3.delete = h), Object.freeze(t3), e3 && i(t3, function(t4, n4) {
      return d(n4, true);
    }, true));
  }
  function h() {
    t(2);
  }
  function b(n4) {
    var r3 = Y[n4];
    return r3 || t(18, n4), r3;
  }
  function m() {
    return $ || t(0), $;
  }
  function _(t3, n4) {
    n4 && (b("Patches"), t3.u = [], t3.s = [], t3.p = n4);
  }
  function j(t3) {
    O(t3), t3.v.forEach(w), t3.v = null;
  }
  function O(t3) {
    t3 === $ && ($ = t3.l);
  }
  function g(t3) {
    return $ = {v: [], l: $, h: t3, m: true, _: 0};
  }
  function w(t3) {
    var n4 = t3[H];
    0 === n4.i || 1 === n4.i ? n4.j() : n4.O = true;
  }
  function S(n4, e3) {
    e3._ = e3.v.length;
    var i4 = e3.v[0], o4 = void 0 !== n4 && n4 !== i4;
    return e3.h.g || b("ES5").S(e3, n4, o4), o4 ? (i4[H].P && (j(e3), t(4)), r(n4) && (n4 = P(e3, n4), e3.l || A(e3, n4)), e3.u && b("Patches").M(i4[H], n4, e3.u, e3.s)) : n4 = P(e3, i4, []), j(e3), e3.u && e3.p(e3.u, e3.s), n4 !== q ? n4 : void 0;
  }
  function P(t3, n4, r3) {
    if (null == (e3 = n4) || "object" != typeof e3 || Object.isFrozen(e3))
      return n4;
    var e3, o4 = n4[H];
    if (!o4)
      return i(n4, function(e4, i4) {
        return M(t3, o4, n4, e4, i4, r3);
      }, true), n4;
    if (o4.A !== t3)
      return n4;
    if (!o4.P)
      return A(t3, o4.t, true), o4.t;
    if (!o4.I) {
      o4.I = true, o4.A._--;
      var u4 = 4 === o4.i || 5 === o4.i ? o4.o = l(o4.k) : o4.o;
      i(u4, function(n5, e4) {
        return M(t3, o4, u4, n5, e4, r3);
      }), A(t3, u4, false), r3 && t3.u && b("Patches").R(o4, r3, t3.u, t3.s);
    }
    return o4.o;
  }
  function M(e3, i4, o4, a4, c4, s4) {
    if (c4 === o4 && t(5), n(c4)) {
      var p4 = P(e3, c4, s4 && i4 && 3 !== i4.i && !u(i4.D, a4) ? s4.concat(a4) : void 0);
      if (f(o4, a4, p4), !n(p4))
        return;
      e3.m = false;
    }
    if (r(c4) && !Object.isFrozen(c4)) {
      if (!e3.h.N && e3._ < 1)
        return;
      P(e3, c4), i4 && i4.A.l || A(e3, c4);
    }
  }
  function A(t3, n4, r3) {
    void 0 === r3 && (r3 = false), t3.h.N && t3.m && d(n4, r3);
  }
  function x(t3, n4) {
    var r3 = t3[H];
    return (r3 ? v(r3) : t3)[n4];
  }
  function z(t3) {
    t3.P || (t3.P = true, t3.l && z(t3.l));
  }
  function I(t3) {
    t3.o || (t3.o = l(t3.t));
  }
  function E(t3, n4, r3) {
    var e3 = s(n4) ? b("MapSet").T(n4, r3) : p(n4) ? b("MapSet").F(n4, r3) : t3.g ? function(t4, n5) {
      var r4 = Array.isArray(t4), e4 = {i: r4 ? 1 : 0, A: n5 ? n5.A : m(), P: false, I: false, D: {}, l: n5, t: t4, k: null, o: null, j: null, C: false}, i4 = e4, o4 = Z;
      r4 && (i4 = [e4], o4 = tt);
      var u4 = Proxy.revocable(i4, o4), a4 = u4.revoke, f4 = u4.proxy;
      return e4.k = f4, e4.j = a4, f4;
    }(n4, r3) : b("ES5").J(n4, r3);
    return (r3 ? r3.A : m()).v.push(e3), e3;
  }
  function k(e3) {
    return n(e3) || t(22, e3), function t3(n4) {
      if (!r(n4))
        return n4;
      var e4, u4 = n4[H], c4 = o(n4);
      if (u4) {
        if (!u4.P && (u4.i < 4 || !b("ES5").K(u4)))
          return u4.t;
        u4.I = true, e4 = R(n4, c4), u4.I = false;
      } else
        e4 = R(n4, c4);
      return i(e4, function(n5, r3) {
        u4 && a(u4.t, n5) === r3 || f(e4, n5, t3(r3));
      }), 3 === c4 ? new Set(e4) : e4;
    }(e3);
  }
  function R(t3, n4) {
    switch (n4) {
      case 2:
        return new Map(t3);
      case 3:
        return Array.from(t3);
    }
    return l(t3);
  }
  var K;
  var $;
  var G = "undefined" != typeof Symbol && "symbol" == typeof Symbol("x");
  var U = "undefined" != typeof Map;
  var W = "undefined" != typeof Set;
  var X = "undefined" != typeof Proxy && void 0 !== Proxy.revocable && "undefined" != typeof Reflect;
  var q = G ? Symbol("immer-nothing") : ((K = {})["immer-nothing"] = true, K);
  var B = G ? Symbol("immer-draftable") : "__$immer_draftable";
  var H = G ? Symbol("immer-state") : "__$immer_state";
  var L = "undefined" != typeof Symbol && Symbol.iterator || "@@iterator";
  var Q = {0: "Illegal state", 1: "Immer drafts cannot have computed properties", 2: "This object has been frozen and should not be mutated", 3: function(t3) {
    return "Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? " + t3;
  }, 4: "An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.", 5: "Immer forbids circular references", 6: "The first or second argument to `produce` must be a function", 7: "The third argument to `produce` must be a function or undefined", 8: "First argument to `createDraft` must be a plain object, an array, or an immerable object", 9: "First argument to `finishDraft` must be a draft returned by `createDraft`", 10: "The given draft is already finalized", 11: "Object.defineProperty() cannot be used on an Immer draft", 12: "Object.setPrototypeOf() cannot be used on an Immer draft", 13: "Immer only supports deleting array indices", 14: "Immer only supports setting array indices and the 'length' property", 15: function(t3) {
    return "Cannot apply patch, path doesn't resolve: " + t3;
  }, 16: 'Sets cannot have "replace" patches.', 17: function(t3) {
    return "Unsupported patch operation: " + t3;
  }, 18: function(t3) {
    return "The plugin for '" + t3 + "' has not been loaded into Immer. To enable the plugin, import and call `enable" + t3 + "()` when initializing your application.";
  }, 19: "plugin not loaded", 20: "Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available", 21: function(t3) {
    return "produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '" + t3 + "'";
  }, 22: function(t3) {
    return "'current' expects a draft, got: " + t3;
  }, 23: function(t3) {
    return "'original' expects a draft, got: " + t3;
  }};
  var V = "undefined" != typeof Reflect && Reflect.ownKeys ? Reflect.ownKeys : void 0 !== Object.getOwnPropertySymbols ? function(t3) {
    return Object.getOwnPropertyNames(t3).concat(Object.getOwnPropertySymbols(t3));
  } : Object.getOwnPropertyNames;
  var Y = {};
  var Z = {get: function(t3, n4) {
    if (n4 === H)
      return t3;
    var e3 = v(t3);
    if (!u(e3, n4))
      return function(t4, n5, r3) {
        if (r3 in n5)
          for (var e4 = Object.getPrototypeOf(n5); e4; ) {
            var i5, o4 = Object.getOwnPropertyDescriptor(e4, r3);
            if (o4)
              return "value" in o4 ? o4.value : null === (i5 = o4.get) || void 0 === i5 ? void 0 : i5.call(t4.k);
            e4 = Object.getPrototypeOf(e4);
          }
      }(t3, e3, n4);
    var i4 = e3[n4];
    return t3.I || !r(i4) ? i4 : i4 === x(t3.t, n4) ? (I(t3), t3.o[n4] = E(t3.A.h, i4, t3)) : i4;
  }, has: function(t3, n4) {
    return n4 in v(t3);
  }, ownKeys: function(t3) {
    return Reflect.ownKeys(v(t3));
  }, set: function(t3, n4, r3) {
    if (t3.D[n4] = true, !t3.P) {
      if (c(r3, x(v(t3), n4)) && void 0 !== r3)
        return true;
      I(t3), z(t3);
    }
    return t3.o[n4] = r3, true;
  }, deleteProperty: function(t3, n4) {
    return void 0 !== x(t3.t, n4) || n4 in t3.t ? (t3.D[n4] = false, I(t3), z(t3)) : delete t3.D[n4], t3.o && delete t3.o[n4], true;
  }, getOwnPropertyDescriptor: function(t3, n4) {
    var r3 = v(t3), e3 = Reflect.getOwnPropertyDescriptor(r3, n4);
    return e3 ? {writable: true, configurable: 1 !== t3.i || "length" !== n4, enumerable: e3.enumerable, value: r3[n4]} : e3;
  }, defineProperty: function() {
    t(11);
  }, getPrototypeOf: function(t3) {
    return Object.getPrototypeOf(t3.t);
  }, setPrototypeOf: function() {
    t(12);
  }};
  var tt = {};
  i(Z, function(t3, n4) {
    tt[t3] = function() {
      return arguments[0] = arguments[0][0], n4.apply(this, arguments);
    };
  }), tt.deleteProperty = function(n4, r3) {
    return isNaN(parseInt(r3)) && t(13), Z.deleteProperty.call(this, n4[0], r3);
  }, tt.set = function(n4, r3, e3) {
    return "length" !== r3 && isNaN(parseInt(r3)) && t(14), Z.set.call(this, n4[0], r3, e3, n4[0]);
  };
  var nt = function() {
    function e3(t3) {
      this.g = X, this.N = true, "boolean" == typeof (null == t3 ? void 0 : t3.useProxies) && this.setUseProxies(t3.useProxies), "boolean" == typeof (null == t3 ? void 0 : t3.autoFreeze) && this.setAutoFreeze(t3.autoFreeze), this.produce = this.produce.bind(this), this.produceWithPatches = this.produceWithPatches.bind(this);
    }
    var i4 = e3.prototype;
    return i4.produce = function(n4, e4, i5) {
      if ("function" == typeof n4 && "function" != typeof e4) {
        var o4 = e4;
        e4 = n4;
        var u4 = this;
        return function(t3) {
          var n5 = this;
          void 0 === t3 && (t3 = o4);
          for (var r3 = arguments.length, i6 = Array(r3 > 1 ? r3 - 1 : 0), a5 = 1; a5 < r3; a5++)
            i6[a5 - 1] = arguments[a5];
          return u4.produce(t3, function(t4) {
            var r4;
            return (r4 = e4).call.apply(r4, [n5, t4].concat(i6));
          });
        };
      }
      var a4;
      if ("function" != typeof e4 && t(6), void 0 !== i5 && "function" != typeof i5 && t(7), r(n4)) {
        var f4 = g(this), c4 = E(this, n4, void 0), s4 = true;
        try {
          a4 = e4(c4), s4 = false;
        } finally {
          s4 ? j(f4) : O(f4);
        }
        return "undefined" != typeof Promise && a4 instanceof Promise ? a4.then(function(t3) {
          return _(f4, i5), S(t3, f4);
        }, function(t3) {
          throw j(f4), t3;
        }) : (_(f4, i5), S(a4, f4));
      }
      if (!n4 || "object" != typeof n4) {
        if ((a4 = e4(n4)) === q)
          return;
        return void 0 === a4 && (a4 = n4), this.N && d(a4, true), a4;
      }
      t(21, n4);
    }, i4.produceWithPatches = function(t3, n4) {
      var r3, e4, i5 = this;
      return "function" == typeof t3 ? function(n5) {
        for (var r4 = arguments.length, e5 = Array(r4 > 1 ? r4 - 1 : 0), o4 = 1; o4 < r4; o4++)
          e5[o4 - 1] = arguments[o4];
        return i5.produceWithPatches(n5, function(n6) {
          return t3.apply(void 0, [n6].concat(e5));
        });
      } : [this.produce(t3, n4, function(t4, n5) {
        r3 = t4, e4 = n5;
      }), r3, e4];
    }, i4.createDraft = function(e4) {
      r(e4) || t(8), n(e4) && (e4 = k(e4));
      var i5 = g(this), o4 = E(this, e4, void 0);
      return o4[H].C = true, O(i5), o4;
    }, i4.finishDraft = function(n4, r3) {
      var e4 = n4 && n4[H];
      e4 && e4.C || t(9), e4.I && t(10);
      var i5 = e4.A;
      return _(i5, r3), S(void 0, i5);
    }, i4.setAutoFreeze = function(t3) {
      this.N = t3;
    }, i4.setUseProxies = function(n4) {
      n4 && !X && t(20), this.g = n4;
    }, i4.applyPatches = function(t3, r3) {
      var e4;
      for (e4 = r3.length - 1; e4 >= 0; e4--) {
        var i5 = r3[e4];
        if (0 === i5.path.length && "replace" === i5.op) {
          t3 = i5.value;
          break;
        }
      }
      var o4 = b("Patches").$;
      return n(t3) ? o4(t3, r3) : this.produce(t3, function(t4) {
        return o4(t4, r3.slice(e4 + 1));
      });
    }, e3;
  }();
  var rt = new nt();
  var et = rt.produce;
  var it = rt.produceWithPatches.bind(rt);
  var ot = rt.setAutoFreeze.bind(rt);
  var ut = rt.setUseProxies.bind(rt);
  var at = rt.applyPatches.bind(rt);
  var ft = rt.createDraft.bind(rt);
  var ct = rt.finishDraft.bind(rt);
  const immer_esm_default = et;

  // src/constants.ts
  var STAGES;
  (function(STAGES2) {
    STAGES2[STAGES2["CHOOSE_FRAMES"] = 0] = "CHOOSE_FRAMES";
    STAGES2[STAGES2["PREVIEW_OUTPUT"] = 1] = "PREVIEW_OUTPUT";
    STAGES2[STAGES2["RESPONSIVE_PREVIEW"] = 2] = "RESPONSIVE_PREVIEW";
    STAGES2[STAGES2["SAVE_OUTPUT"] = 3] = "SAVE_OUTPUT";
  })(STAGES || (STAGES = {}));
  var MSG_EVENTS;
  (function(MSG_EVENTS3) {
    MSG_EVENTS3[MSG_EVENTS3["DOM_READY"] = 0] = "DOM_READY";
    MSG_EVENTS3[MSG_EVENTS3["NO_FRAMES"] = 1] = "NO_FRAMES";
    MSG_EVENTS3[MSG_EVENTS3["FOUND_FRAMES"] = 2] = "FOUND_FRAMES";
    MSG_EVENTS3[MSG_EVENTS3["RESIZE"] = 3] = "RESIZE";
    MSG_EVENTS3[MSG_EVENTS3["RENDER"] = 4] = "RENDER";
    MSG_EVENTS3[MSG_EVENTS3["CLOSE"] = 5] = "CLOSE";
    MSG_EVENTS3[MSG_EVENTS3["ERROR"] = 6] = "ERROR";
    MSG_EVENTS3[MSG_EVENTS3["UPDATE_HEADLINES"] = 7] = "UPDATE_HEADLINES";
    MSG_EVENTS3[MSG_EVENTS3["COMPRESS_IMAGE"] = 8] = "COMPRESS_IMAGE";
    MSG_EVENTS3[MSG_EVENTS3["COMPRESSED_IMAGE"] = 9] = "COMPRESSED_IMAGE";
  })(MSG_EVENTS || (MSG_EVENTS = {}));
  var OUTPUT_FORMATS;
  (function(OUTPUT_FORMATS2) {
    OUTPUT_FORMATS2[OUTPUT_FORMATS2["INLINE"] = 0] = "INLINE";
    OUTPUT_FORMATS2[OUTPUT_FORMATS2["IFRAME"] = 1] = "IFRAME";
  })(OUTPUT_FORMATS || (OUTPUT_FORMATS = {}));
  const UI_TEXT = {
    ERROR_UNEXPECTED: "Unexpected error",
    ERROR_MISSING_FRAMES: "No frames found. Please add some frames to the page.",
    WARN_NO_TARGETS: "Standard frames not found. Please select target frames.",
    WARN_TOO_MANY_TARGETS: "Please select three target frames",
    INFO_PREVIEW: "Preview each frame output",
    TITLE_CHOOSE_FRAME: "Choose which frames to export",
    TITLE_PREVIEW: "Preview",
    TITLE_RESPONSIVE_PREVIEW: "Responsive preview",
    TILE_OUTPUT: "Export",
    BUTTON_NEXT: "Next",
    BUTTON_DOWNLOAD: "Download",
    BUTTON_PREVIOUS: "Back"
  };
  const INITIAL_UI_SIZE = {
    width: 480,
    height: 500,
    maxWidth: 1200,
    maxHeight: 900,
    minWidth: 420,
    minHeight: 480
  };
  const FRAME_WARNING_SIZE = 300;
  var HEADLINE_NODE_NAMES;
  (function(HEADLINE_NODE_NAMES2) {
    HEADLINE_NODE_NAMES2["HEADLINE"] = "headline";
    HEADLINE_NODE_NAMES2["SUBHEAD"] = "subhead";
    HEADLINE_NODE_NAMES2["SOURCE"] = "source";
  })(HEADLINE_NODE_NAMES || (HEADLINE_NODE_NAMES = {}));

  // src/components/Header.tsx
  function FrameInfo(props) {
    if (!props.frame)
      return null;
    const {name, width, height, svg: svg2, responsive, svgCompressed, svgOptimised} = props.frame;
    const renderCharCount = (svgOptimised ? svgCompressed == null ? void 0 : svgCompressed.length : svg2 == null ? void 0 : svg2.length) || 0;
    const fileKbSize = renderCharCount / 1e3;
    const isFileLarge = fileKbSize > FRAME_WARNING_SIZE;
    let fileSizeClassName = "f2h__file_size";
    if (isFileLarge) {
      fileSizeClassName += " f2h__file_size f2h__notice--error";
    }
    let responsiveClassName = "f2h__info_responsive";
    if (responsive === false) {
      responsiveClassName += " f2h__info_responsive--no";
    }
    return h2("p", {
      className: "f2h__info"
    }, h2("span", {
      className: "f2h__info_title"
    }, `"${name}"`), " ", h2("span", {
      className: "f2h__info_meta"
    }, width, " x ", height, ",", " ", h2("span", {
      className: responsiveClassName
    }, "responsive"), ",", " ", h2("span", {
      className: fileSizeClassName
    }, fileKbSize.toFixed(2), "kB")));
  }
  function Header2(props) {
    const {stage, handleBackClick, handleNextClick, disableNext, frame, handleOptimseClick} = props;
    let title;
    let nextText;
    let backText;
    switch (stage) {
      case STAGES.CHOOSE_FRAMES:
        title = UI_TEXT.TITLE_CHOOSE_FRAME;
        nextText = UI_TEXT.BUTTON_NEXT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
      case STAGES.RESPONSIVE_PREVIEW:
        title = UI_TEXT.TITLE_RESPONSIVE_PREVIEW;
        nextText = UI_TEXT.BUTTON_NEXT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
      case STAGES.PREVIEW_OUTPUT:
        title = `${UI_TEXT.TITLE_PREVIEW}`;
        nextText = UI_TEXT.BUTTON_NEXT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
      case STAGES.SAVE_OUTPUT:
        title = UI_TEXT.TILE_OUTPUT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
    }
    return h2("header", {
      className: "f2h__header"
    }, h2("h1", {
      className: "f2h__title"
    }, title), stage === STAGES.PREVIEW_OUTPUT && h2(d2, null, h2(FrameInfo, {
      frame
    }), h2("label", {
      className: "f2h__svg_optimise"
    }, h2("input", {
      type: "checkbox",
      checked: frame.svgOptimised,
      name: "optimise",
      id: "optimise",
      onClick: () => handleOptimseClick(frame.id)
    }), h2("span", null, "Optimise SVG"))), h2("nav", {
      className: "f2h__nav"
    }, stage !== STAGES.CHOOSE_FRAMES && h2("button", {
      className: "f2h__btn btn--secondary",
      onClick: handleBackClick
    }, backText), nextText && h2("button", {
      className: "f2h__btn btn--primary",
      onClick: handleNextClick,
      disabled: disableNext
    }, nextText)));
  }

  // node_modules/preact-render-to-string/dist/index.module.js
  var n3 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;
  var o2 = function(e3) {
    return String(e3).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
  };
  var a2 = function(e3, t3) {
    return String(e3).replace(/(\n+)/g, "$1" + (t3 || "	"));
  };
  var i2 = function(e3, t3, r3) {
    return String(e3).length > (t3 || 40) || !r3 && -1 !== String(e3).indexOf("\n") || -1 !== String(e3).indexOf("<");
  };
  var l2 = {};
  function s2(e3) {
    var t3 = "";
    for (var r3 in e3) {
      var o4 = e3[r3];
      null != o4 && (t3 && (t3 += " "), t3 += "-" == r3[0] ? r3 : l2[r3] || (l2[r3] = r3.replace(/([A-Z])/g, "-$1").toLowerCase()), t3 += ": ", t3 += o4, "number" == typeof o4 && false === n3.test(r3) && (t3 += "px"), t3 += ";");
    }
    return t3 || void 0;
  }
  function f2(e3, t3) {
    for (var r3 in t3)
      e3[r3] = t3[r3];
    return e3;
  }
  function c2(e3, t3) {
    return Array.isArray(t3) ? t3.reduce(c2, e3) : null != t3 && false !== t3 && e3.push(t3), e3;
  }
  var p2 = {shallow: true};
  var u2 = [];
  var _2 = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;
  var g2 = function() {
  };
  v2.render = v2;
  var h3 = function(e3, t3) {
    return v2(e3, t3, p2);
  };
  function v2(n4, l4, p4, h4, d3, m3) {
    if (null == n4 || "boolean" == typeof n4)
      return "";
    Array.isArray(n4) && (n4 = h2(d2, null, n4));
    var x3 = n4.type, y3 = n4.props, b3 = false;
    l4 = l4 || {};
    var S2, w3 = (p4 = p4 || {}).pretty, k3 = w3 && "string" == typeof w3 ? w3 : "	";
    if ("object" != typeof n4 && !x3)
      return o2(n4);
    if ("function" == typeof x3) {
      if (b3 = true, !p4.shallow || !h4 && false !== p4.renderRootComponent) {
        if (x3 === d2) {
          var O2 = "", C3 = [];
          c2(C3, n4.props.children);
          for (var A3 = 0; A3 < C3.length; A3++)
            O2 += (A3 > 0 && w3 ? "\n" : "") + v2(C3[A3], l4, p4, false !== p4.shallowHighOrder, d3, m3);
          return O2;
        }
        var H3, j3 = n4.__c = {__v: n4, context: l4, props: n4.props, setState: g2, forceUpdate: g2, __h: []};
        if (n2.__r && n2.__r(n4), x3.prototype && "function" == typeof x3.prototype.render) {
          var F2 = x3.contextType, $3 = F2 && l4[F2.__c], L3 = null != F2 ? $3 ? $3.props.value : F2.__ : l4;
          (j3 = n4.__c = new x3(y3, L3)).__v = n4, j3._dirty = j3.__d = true, j3.props = y3, null == j3.state && (j3.state = {}), null == j3._nextState && null == j3.__s && (j3._nextState = j3.__s = j3.state), j3.context = L3, x3.getDerivedStateFromProps ? j3.state = f2(f2({}, j3.state), x3.getDerivedStateFromProps(j3.props, j3.state)) : j3.componentWillMount && j3.componentWillMount(), j3.state = j3._nextState !== j3.state ? j3._nextState : j3.__s !== j3.state ? j3.__s : j3.state, H3 = j3.render(j3.props, j3.state, j3.context);
        } else {
          var M3 = x3.contextType, T3 = M3 && l4[M3.__c];
          H3 = x3.call(n4.__c, y3, null != M3 ? T3 ? T3.props.value : M3.__ : l4);
        }
        return j3.getChildContext && (l4 = f2(f2({}, l4), j3.getChildContext())), v2(H3, l4, p4, false !== p4.shallowHighOrder, d3, m3);
      }
      x3 = (S2 = x3).displayName || S2 !== Function && S2.name || function(e3) {
        var t3 = (Function.prototype.toString.call(e3).match(/^\s*function\s+([^( ]+)/) || "")[1];
        if (!t3) {
          for (var r3 = -1, n5 = u2.length; n5--; )
            if (u2[n5] === e3) {
              r3 = n5;
              break;
            }
          r3 < 0 && (r3 = u2.push(e3) - 1), t3 = "UnnamedComponent" + r3;
        }
        return t3;
      }(S2);
    }
    var D3, N3 = "";
    if (y3) {
      var P3 = Object.keys(y3);
      p4 && true === p4.sortAttributes && P3.sort();
      for (var R2 = 0; R2 < P3.length; R2++) {
        var U2 = P3[R2], W2 = y3[U2];
        if ("children" !== U2 && (!U2.match(/[\s\n\\/='"\0<>]/) && (p4 && p4.allAttributes || "key" !== U2 && "ref" !== U2 && "__self" !== U2 && "__source" !== U2))) {
          if ("className" === U2) {
            if (y3.class)
              continue;
            U2 = "class";
          } else
            d3 && U2.match(/^xlink:?./) && (U2 = U2.toLowerCase().replace(/^xlink:?/, "xlink:"));
          if ("htmlFor" === U2) {
            if (y3.for)
              continue;
            U2 = "for";
          }
          "style" === U2 && W2 && "object" == typeof W2 && (W2 = s2(W2));
          var q2 = p4.attributeHook && p4.attributeHook(U2, W2, l4, p4, b3);
          if (q2 || "" === q2)
            N3 += q2;
          else if ("dangerouslySetInnerHTML" === U2)
            D3 = W2 && W2.__html;
          else if ((W2 || 0 === W2 || "" === W2) && "function" != typeof W2) {
            if (!(true !== W2 && "" !== W2 || (W2 = U2, p4 && p4.xml))) {
              N3 += " " + U2;
              continue;
            }
            if ("value" === U2) {
              if ("select" === x3) {
                m3 = W2;
                continue;
              }
              "option" === x3 && m3 == W2 && (N3 += " selected");
            }
            N3 += " " + U2 + '="' + o2(W2) + '"';
          }
        }
      }
    }
    if (w3) {
      var z3 = N3.replace(/^\n\s*/, " ");
      z3 === N3 || ~z3.indexOf("\n") ? w3 && ~N3.indexOf("\n") && (N3 += "\n") : N3 = z3;
    }
    if (N3 = "<" + x3 + N3 + ">", String(x3).match(/[\s\n\\/='"\0<>]/))
      throw new Error(x3 + " is not a valid HTML tag name in " + N3);
    var E3 = String(x3).match(_2);
    E3 && (N3 = N3.replace(/>$/, " />"));
    var I3, Z2 = [];
    if (D3)
      w3 && i2(D3) && (D3 = "\n" + k3 + a2(D3, k3)), N3 += D3;
    else if (y3 && c2(I3 = [], y3.children).length) {
      for (var B2 = w3 && ~N3.indexOf("\n"), G2 = false, J2 = 0; J2 < I3.length; J2++) {
        var K2 = I3[J2];
        if (null != K2 && false !== K2) {
          var Q2 = v2(K2, l4, p4, true, "svg" === x3 || "foreignObject" !== x3 && d3, m3);
          if (w3 && !B2 && i2(Q2) && (B2 = true), Q2)
            if (w3) {
              var V2 = Q2.length > 0 && "<" != Q2[0];
              G2 && V2 ? Z2[Z2.length - 1] += Q2 : Z2.push(Q2), G2 = V2;
            } else
              Z2.push(Q2);
        }
      }
      if (w3 && B2)
        for (var X2 = Z2.length; X2--; )
          Z2[X2] = "\n" + k3 + a2(Z2[X2], k3);
    }
    if (Z2.length)
      N3 += Z2.join("");
    else if (p4 && p4.xml)
      return N3.substring(0, N3.length - 1) + " />";
    return E3 || (w3 && ~N3.indexOf("\n") && (N3 += "\n"), N3 += "</" + x3 + ">"), N3;
  }
  v2.shallowRender = h3;
  const index_module_default = v2;

  // src/outputRender.tsx
  const embed = __toModule(require_embed());
  const fonts = __toModule(require_fonts());
  function generateIframeHtml(body) {
    return `
    <!doctype html>
    <html>
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style> html, body { margin: 0; } </style>
      </head>
      <body>
        ${body}
      </body>
    </html>
  `;
  }
  function generateStyleText(node, frameWidth, frameHeight) {
    const {x: x3, y: y3, width, height, fontSize, fontFamily, colour, letterSpacing, lineHeight, textAlignHorizontal, textAlignVertical, fontStyle} = node;
    const left = `${(x3 + width / 2) / frameWidth * 100}%`;
    const top = `${(y3 + height / 2) / frameHeight * 100}%`;
    const {r: r3, g: g4, b: b3, a: a4} = colour;
    const colourVals = [r3, g4, b3].map((val = 0) => Math.round(val * 255));
    const textColour = `rgba(${colourVals.join(",")}, ${a4})`;
    const fontName = `${fontFamily}`;
    let fontWeight = 400;
    if (fontStyle === "Semibold" || fontStyle === "Bold") {
      fontWeight = 700;
    }
    console.log(fontStyle);
    const {unit: letterUnit, value: letterVal} = letterSpacing;
    let letterSpaceValue = "0";
    switch (letterUnit) {
      case "PIXELS":
        if (fontFamily === "Telesans Text") {
          letterSpaceValue = `${letterVal - 0.33}px`;
        } else if (fontFamily === "Telesans Agate") {
          letterSpaceValue = `${letterVal - 0.19}px`;
        } else {
          letterSpaceValue = `${letterVal}px`;
        }
        break;
      case "PERCENT":
        letterSpaceValue = `${letterVal / 100}em`;
        if (fontFamily === "Telesans Text") {
          letterSpaceValue = `${letterVal / 100 - 0.022}em`;
        } else if (fontFamily === "Telesans Agate") {
          letterSpaceValue = `${letterVal / 100 - 0.015}em`;
        } else {
          letterSpaceValue = `${letterVal / 100}em`;
        }
        break;
      default:
        if (fontFamily === "Telesans Text") {
          letterSpaceValue = "-0.37px";
        } else if (fontFamily === "Telesans Agate") {
          letterSpaceValue = "-0.19}px";
        } else {
          letterSpaceValue = `0`;
        }
        break;
    }
    const {unit: lineUnit, value: lineVal} = lineHeight;
    let lineHeightValue = "auto";
    switch (lineUnit) {
      case "PIXELS":
        lineHeightValue = `${lineVal}px`;
        break;
      case "PERCENT":
        lineHeightValue = `${lineVal * 1.15}%`;
        break;
      case "AUTO":
        lineHeightValue = "1.2";
        break;
    }
    let alignItemsValue = "auto";
    switch (textAlignVertical) {
      case "TOP":
        alignItemsValue = "flex-start";
        break;
      case "CENTER":
        alignItemsValue = "center";
        break;
      case "BOTTOM":
        alignItemsValue = "flex-end";
        break;
    }
    let justifyItemsValue = "auto";
    switch (textAlignHorizontal) {
      case "LEFT":
        justifyItemsValue = "flex-start";
        break;
      case "CENTER":
        justifyItemsValue = "center";
        break;
      case "RIGHT":
        justifyItemsValue = "flex-end";
        break;
    }
    const newWidth = Math.ceil(width / frameWidth * 100);
    return `
        font-size: ${String(fontSize)}px;
        font-family: "${fontName}", Georgia, 'Times New Roman', Times, serif;
        font-weight: ${fontWeight};
        position: absolute;
        color: ${textColour};
        width: ${newWidth}%;
        height: ${height / frameHeight * 100}%;
        left: ${left};
        top: ${top};
        line-height: ${lineHeightValue};
        letter-spacing: ${letterSpaceValue};
        justify-content: ${justifyItemsValue};
        align-items: ${alignItemsValue};
        display: flex;
      `;
  }
  function Text(props) {
    const {node, width, height} = props;
    const {characters} = node;
    const styleText = generateStyleText(node, width, height);
    return h2("p", {
      className: "f2h__text",
      style: styleText
    }, characters);
  }
  function FrameContainer(props) {
    const {uid, width, height, textNodes, svg: svg2 = "", svgCompressed = "", svgOptimised, responsive, scale} = props;
    const textEls = textNodes.map((node) => h2(Text, {
      key: node.characters,
      node,
      width,
      height
    }));
    const classNames = `f2h__render ${responsive ? "f2h__render--responsive" : ""}`;
    let style = responsive ? "" : `width: ${width}px;`;
    style = scale ? `${style} transform: scale(${scale});` : style;
    return h2("div", {
      className: classNames,
      style,
      id: uid
    }, h2("div", {
      className: "f2h__svg_container",
      dangerouslySetInnerHTML: {__html: svgOptimised ? svgCompressed : svg2}
    }), h2("div", {
      className: "f2h__text_container"
    }, textEls));
  }
  function renderInline(props) {
    const {frames, iframe, headline, subhead, source} = props;
    const mediaQuery = genreateMediaQueries(frames);
    const renderedFrames = frames.map((frame) => h2(FrameContainer, __assign({
      key: frame.uid
    }, frame)));
    let html = index_module_default(h2("div", {
      className: "f2h__embed"
    }, h2("style", {
      dangerouslySetInnerHTML: {
        __html: `
       ${fonts.default}
       ${embed.default}
       ${mediaQuery}
      `
      }
    }), (headline || subhead) && h2("header", {
      className: "f2h_header"
    }, headline && h2("h1", {
      className: "f2h_headline"
    }, headline), subhead && h2("p", {
      className: "f2h_subbhead"
    }, "subhead")), renderedFrames, source && h2("footer", null, h2("p", {
      className: "f2h_source"
    }, source))));
    if (iframe === OUTPUT_FORMATS.IFRAME) {
      html = generateIframeHtml(html);
    }
    return html;
  }
  function genreateMediaQueries(frames) {
    const idWidths = frames.map(({width, uid}) => [width, uid]).sort(([a4], [b3]) => a4 < b3 ? -1 : 1);
    const mediaQueries = idWidths.map(([width, uid], i4) => {
      if (i4 === 0) {
        return "";
      }
      const [, prevId] = idWidths[i4 - 1];
      return `
      @media (max-width: ${width}px) {
        #${uid} { display: none; }
      }
      @media (min-width: ${width}px) {
        #${prevId} { display: none; }
        #${uid} { display: block; }
      }
    `;
    });
    return mediaQueries.join("");
  }

  // src/components/ResponsiveView.tsx
  function ResponsiveView2(props) {
    const {frames, headline, subhead, source, windowHeight, windowWidth} = props;
    const maxWidth = Math.max(...frames.map((f4) => f4.width));
    const maxHeight = Math.max(...frames.map((f4) => f4.height));
    const minWidth = Math.min(windowWidth - 100, maxWidth);
    const minHeight = Math.min(windowHeight - 160, maxHeight);
    const rawHtml = renderInline({
      frames,
      iframe: OUTPUT_FORMATS.IFRAME,
      headline,
      subhead,
      source
    });
    return h2("div", {
      className: "f2h__responsive_preview"
    }, h2("p", null, "Use the window below to test how the frames behave when resizing."), h2("div", {
      className: "f2h__responsive__wrapper"
    }, h2("iframe", {
      style: `height: ${minHeight}px; width: ${minWidth}px;`,
      className: "f2h__responsive__sandbox",
      srcDoc: rawHtml
    })));
  }

  // src/components/FrameSelection.tsx
  function InputField(props) {
    const {label, value, refTarget, handleChange} = props;
    return h2("p", {
      className: "f2h__info_form__item f2h__info_form__item--headline"
    }, h2("label", {
      className: "f2h__info_form__label"
    }, label), h2("input", {
      className: "f2h__info_form__input f2h__info_form__input--headline",
      type: "text",
      value,
      ref: refTarget,
      onChange: handleChange
    }));
  }
  class FrameSelection2 extends m2 {
    constructor() {
      super(...arguments);
      this.headlineInput = p3();
      this.subheadInput = p3();
      this.sourceInput = p3();
      this.sendFormValues = () => {
        var _a, _b, _c;
        const {handleFormUpdate} = this.props;
        const headline = (_a = this.headlineInput.current) == null ? void 0 : _a.value;
        const subhead = (_b = this.subheadInput.current) == null ? void 0 : _b.value;
        const source = (_c = this.sourceInput.current) == null ? void 0 : _c.value;
        handleFormUpdate({headline, subhead, source});
      };
    }
    render() {
      const {frames, handleClick, toggleResonsive, toggleSelectAll, toggleResponsiveAll, headline, subhead, source} = this.props;
      const selectCount = frames.filter((frame) => frame.selected).length;
      const someFramesSelected = selectCount > 0 && selectCount < frames.length;
      const allSelected = selectCount === frames.length;
      const responseCount = frames.filter((frame) => frame.responsive).length;
      const someResponsiveSelected = responseCount > 0 && responseCount < frames.length;
      const allResponsiveSelected = responseCount === frames.length;
      return h2("div", {
        className: "f2h__choose_frames"
      }, h2("div", {
        className: "f2h__info_form"
      }, h2(InputField, {
        refTarget: this.headlineInput,
        handleChange: this.sendFormValues,
        label: "Headline",
        value: headline
      }), h2(InputField, {
        refTarget: this.subheadInput,
        handleChange: this.sendFormValues,
        label: "Subhead",
        value: subhead
      }), h2(InputField, {
        refTarget: this.sourceInput,
        handleChange: this.sendFormValues,
        label: "Source",
        value: source
      })), h2("div", {
        className: "f2h__frame_selection"
      }, h2("label", {
        className: "f2h__sel_header f2h__sel_header--name"
      }, h2("input", {
        name: "selectAll",
        id: "selectAll",
        type: "checkbox",
        onClick: toggleSelectAll,
        checked: allSelected,
        ref: (el) => el && (el.indeterminate = someFramesSelected)
      }), " ", "Frames"), h2("label", {
        className: "f2h__sel_header f2h__sel_header--responsive"
      }, h2("input", {
        type: "checkbox",
        id: "responsiveAll",
        name: "responsiveAll",
        onClick: toggleResponsiveAll,
        checked: allResponsiveSelected,
        ref: (el) => el && (el.indeterminate = someResponsiveSelected)
      }), " ", "Responsive"), frames.map(({name, id, width, height, selected, responsive}) => h2(d2, {
        key: id
      }, h2("p", {
        className: "f2h__label f2h__label--name"
      }, h2("input", {
        className: "f2h__checkbox",
        type: "checkbox",
        checked: selected,
        onClick: () => handleClick(id),
        id: name,
        name
      }), h2("label", {
        className: "f2h__label--name-text",
        htmlFor: name
      }, name), h2("span", {
        className: "f2h__sel_width"
      }, width, " x ", height)), h2("input", {
        className: "f2h__checkbox f2h__input--responsive",
        type: "checkbox",
        checked: responsive,
        onClick: () => toggleResonsive(id),
        id: name,
        name
      })))));
    }
  }

  // src/components/Preview.tsx
  class Preview2 extends m2 {
    constructor() {
      super(...arguments);
      this.state = {
        nativeSize: true
      };
      this.innerEl = p3();
      this.getScale = () => {
        const {windowHeight, windowWidth, frame} = this.props;
        const {width, height} = frame;
        const WINDOW_HEADER_HEIGHT = 140;
        const heightRatio = (windowHeight - WINDOW_HEADER_HEIGHT) / height;
        const WINDOW_SIDE_MARGINS = 120;
        const widthRatio = (windowWidth - WINDOW_SIDE_MARGINS) / width;
        const smallestRatio = Math.min(heightRatio, widthRatio);
        const scale = smallestRatio < 1 ? smallestRatio : 1;
        const scaledHeight = height * scale;
        const scaledWidth = width * scale;
        return {
          scale,
          scaledHeight,
          scaledWidth
        };
      };
      this.toggleZoomed = () => {
        const {current: el} = this.innerEl;
        if (el) {
          el.scrollLeft = 0;
          el.scrollTop = 0;
        } else {
          console.error("Missing preview inner DOM element");
        }
        this.setState({nativeSize: !this.state.nativeSize});
      };
    }
    componentDidMount() {
      const {scale} = this.getScale();
      this.setState({nativeSize: scale >= 1});
    }
    componentDidUpdate(_previousProps, previousState) {
      const {nativeSize} = previousState;
      const {scale} = this.getScale();
      const isNativeSize = scale >= 1;
      if (nativeSize !== isNativeSize) {
        this.setState({nativeSize: isNativeSize});
      }
    }
    render() {
      const {frame} = this.props;
      const {svg: svg2, svgOptimised, svgCompressed} = frame;
      const renderCharCount = (svgOptimised ? svgCompressed == null ? void 0 : svgCompressed.length : svg2 == null ? void 0 : svg2.length) || 0;
      const fileKbSize = Math.ceil(renderCharCount / 1e3);
      const isFileLarge = fileKbSize > FRAME_WARNING_SIZE;
      const {nativeSize} = this.state;
      const {scale, scaledHeight, scaledWidth} = this.getScale();
      const previewWrapperStyles = !nativeSize ? `width: ${scaledWidth}; height: ${scaledHeight};` : "";
      let scaleWarning;
      if (scale < 1) {
        scaleWarning = h2("p", {
          className: "f2h__scale_warning f2h__notice--warning"
        }, h2("span", null, "Zoomed ", nativeSize ? "100" : Math.round(scale * 100), "% - "), h2("label", null, "native size", " ", h2("input", {
          type: "checkbox",
          checked: nativeSize,
          onClick: this.toggleZoomed
        })));
      }
      return h2("div", {
        className: "f2h__preview"
      }, isFileLarge && h2("p", {
        className: "f2h__size_warning f2h__notice--warning"
      }, "File size is very large, consider using smaller images and simplier shapes"), scaleWarning, svg2 ? h2("div", {
        ref: this.innerEl,
        className: `f2h__preview_inner ${!nativeSize ? "f2h__preview_inner--scaled" : ""}`,
        style: previewWrapperStyles
      }, h2(FrameContainer, __assign(__assign({}, frame), {
        scale: !nativeSize && scale
      }))) : h2("p", {
        className: "f2h__preview_loading"
      }, "Loading..."));
    }
  }

  // src/components/Save.tsx
  const file_saver = __toModule(require_FileSaver_min());
  class Save2 extends m2 {
    constructor() {
      super(...arguments);
      this.state = {
        advancedOpen: false,
        showToast: false,
        outputFormat: OUTPUT_FORMATS.INLINE
      };
      this.textAreaEl = p3();
      this.toggleAdvanced = () => {
        this.setState({
          advancedOpen: !this.state.advancedOpen
        });
      };
      this.saveToClipboard = () => {
        const {current: el} = this.textAreaEl;
        if (!el) {
          console.error("Missing textarea element");
          return;
        }
        el.select();
        document.execCommand("copy");
        const {showToast} = this.state;
        if (showToast) {
          return;
        }
        this.setState({showToast: true});
        setTimeout(() => this.setState({showToast: false}), 2e3);
      };
      this.saveEmbedToClipboard = () => {
        this.setState({outputFormat: OUTPUT_FORMATS.INLINE}, this.saveToClipboard);
      };
      this.saveBinaryFile = () => {
        const {frames, headline, subhead, source} = this.props;
        const outputFrames = Object.values(frames).filter((f4) => f4.selected);
        const filename = "figma-to-html-test.html";
        const raw = renderInline({
          frames: outputFrames,
          iframe: OUTPUT_FORMATS.IFRAME,
          headline,
          subhead,
          source
        });
        const blob = new Blob([raw], {type: "text/html"});
        file_saver.saveAs(blob, filename);
      };
      this.handleFormatChange = (format) => {
        this.setState({
          outputFormat: format
        });
      };
    }
    render() {
      const {frames, headline, subhead, source} = this.props;
      const {advancedOpen, showToast, outputFormat} = this.state;
      const rawHtml = renderInline({
        frames,
        iframe: outputFormat,
        headline,
        subhead,
        source
      });
      const advancedBtnText = `${advancedOpen ? "hide" : "show"}`;
      let advancedClassName = "f2h__save_advanced";
      if (advancedOpen) {
        advancedClassName += "f2h__save_advanced--open";
      }
      let toastClassName = "f2h__toast";
      if (showToast) {
        toastClassName += "f2h__toast--open";
      }
      return h2("div", {
        className: "f2h__save"
      }, h2("div", {
        className: "f2h__save_options"
      }, h2("button", {
        className: "f2h__save_btn",
        onClick: this.saveEmbedToClipboard
      }, "Copy embed to clipboard"), h2("button", {
        className: "f2h__save_btn",
        onClick: this.saveBinaryFile
      }, "Download iframe HTML file")), h2("h2", {
        className: "f2h__save__subhead f2h__save_advanced-header"
      }, h2("span", {
        className: "f2h__save_advanced_title"
      }, "Advanced settings"), h2("button", {
        className: "f2h__save_advanced_show",
        onClick: this.toggleAdvanced
      }, advancedBtnText)), h2("div", {
        className: advancedClassName
      }, h2("h2", {
        className: "f2h__save__subhead"
      }, "Format"), h2("label", {
        htmlFor: "f2h__input_inline",
        className: "f2h__label"
      }, h2("input", {
        className: "f2h__radio_btn",
        type: "radio",
        name: "inline",
        id: "f2h__input_inline",
        value: OUTPUT_FORMATS.INLINE,
        checked: outputFormat === OUTPUT_FORMATS.INLINE,
        onClick: () => this.handleFormatChange(OUTPUT_FORMATS.INLINE)
      }), "Inline (default)"), h2("label", {
        htmlFor: "f2h__input_iframe",
        className: "f2h__label"
      }, h2("input", {
        className: "f2h__radio_btn",
        type: "radio",
        name: "iframe",
        id: "f2h__input_iframe",
        value: OUTPUT_FORMATS.IFRAME,
        checked: outputFormat === OUTPUT_FORMATS.IFRAME,
        onClick: () => this.handleFormatChange(OUTPUT_FORMATS.IFRAME)
      }), "iFrame"), h2("h2", {
        className: "f2h__save__subhead"
      }, "Raw HTML"), h2("textarea", {
        ref: this.textAreaEl,
        className: "f2h__save__raw",
        value: rawHtml
      })), h2("div", {
        className: toastClassName
      }, "Copied to clipboard"));
    }
  }

  // src/utils/svg.ts
  function decodeSvgToString(svg2) {
    let svgStr = new TextDecoder("utf-8").decode(svg2);
    const regex = /id="(.+?)"/g;
    const ids = [];
    let matches;
    while (matches = regex.exec(svgStr)) {
      const [, id] = matches;
      ids.push(id);
    }
    ids.forEach((id) => {
      const rnd = btoa(Math.random().toString()).substr(6, 6);
      const randomId = `${id}-${rnd}`;
      svgStr = svgStr.replace(`id="${id}"`, `id="${randomId}"`);
      const regex2 = new RegExp(`#${id}`, "g");
      svgStr = svgStr.replace(regex2, `#${randomId}`);
    });
    svgStr = svgStr.replace(/http:\/\//g, "https://");
    return svgStr;
  }

  // src/utils/compressImage.ts
  function compressImage2(image, width, height) {
    return new Promise((resolve, reject) => {
      const img = new Image();
      img.addEventListener("load", () => {
        let targetWidth = 0;
        let targetHeight = 0;
        if (width > img.width || height > img.height) {
          targetWidth = img.width;
          targetHeight = img.height;
        } else {
          const aspectRatio = img.width / img.height;
          targetWidth = aspectRatio >= 1 ? height * aspectRatio : width;
          targetHeight = aspectRatio >= 1 ? height : width / aspectRatio;
        }
        const canvas = new OffscreenCanvas(targetWidth, targetHeight);
        const ctx = canvas.getContext("2d");
        ctx == null ? void 0 : ctx.drawImage(img, 0, 0, targetWidth, targetHeight);
        canvas.convertToBlob({type: "image/png"}).then((blob2) => {
          blob2.arrayBuffer().then((buf) => resolve(new Uint8Array(buf)));
        });
      });
      img.addEventListener("error", (err) => {
        console.error("Error loading compressed image");
        reject(err);
      });
      const blob = new Blob([image], {type: "image/png"});
      const imgUrl = URL.createObjectURL(blob);
      img.src = imgUrl;
    });
  }

  // src/utils/messages.ts
  function sendMessage(type, data) {
    console.log("post message", parent.postMessage, type, data);
    parent.postMessage({
      pluginMessage: __assign({
        type
      }, data)
    }, "*");
  }

  // src/utils/lib/tools.ts
  const cleanupOutData = function(data, params2, command) {
    var str = "", delimiter, prev;
    data.forEach(function(item, i4) {
      delimiter = " ";
      if (i4 == 0)
        delimiter = "";
      if (params2.noSpaceAfterFlags && (command == "A" || command == "a")) {
        var pos = i4 % 7;
        if (pos == 4 || pos == 5)
          delimiter = "";
      }
      if (params2.leadingZero) {
        item = removeLeadingZero(item);
      }
      if (params2.negativeExtraSpace && delimiter != "" && (item < 0 || String(item).charCodeAt(0) == 46 && prev % 1 !== 0)) {
        delimiter = "";
      }
      prev = item;
      str += delimiter + item;
    });
    return str;
  };
  const removeLeadingZero = function(num) {
    var strNum = num.toString();
    if (0 < num && num < 1 && strNum.charCodeAt(0) == 48) {
      strNum = strNum.slice(1);
    } else if (-1 < num && num < 0 && strNum.charCodeAt(1) == 48) {
      strNum = strNum.charAt(0) + strNum.slice(2);
    }
    return strNum;
  };

  // src/utils/lib/path.ts
  const rNumber = String.raw`[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?\s*`;
  const rCommaWsp = String.raw`(?:\s,?\s*|,\s*)`;
  const rNumberCommaWsp = `(${rNumber})` + rCommaWsp;
  const rFlagCommaWsp = `([01])${rCommaWsp}?`;
  const rCoordinatePair = String.raw`(${rNumber})${rCommaWsp}?(${rNumber})`;
  const rArcSeq = (rNumberCommaWsp + "?").repeat(2) + rNumberCommaWsp + rFlagCommaWsp.repeat(2) + rCoordinatePair;
  const regPathInstructions = /([MmLlHhVvCcSsQqTtAaZz])\s*/;
  const regCoordinateSequence = new RegExp(rNumber, "g");
  const regArcArgumentSequence = new RegExp(rArcSeq, "g");
  function path2js(path2) {
    var _a;
    const paramsLength = {
      H: 1,
      V: 1,
      M: 2,
      L: 2,
      T: 2,
      Q: 4,
      S: 4,
      C: 6,
      A: 7,
      h: 1,
      v: 1,
      m: 2,
      l: 2,
      t: 2,
      q: 4,
      s: 4,
      c: 6,
      a: 7
    };
    let pathData = [];
    let instruction;
    let startMoveto = false;
    (_a = path2.getAttribute("d")) == null ? void 0 : _a.split(regPathInstructions).forEach(function(data) {
      if (!data)
        return;
      if (!startMoveto) {
        if (data == "M" || data == "m") {
          startMoveto = true;
        } else
          return;
      }
      if (regPathInstructions.test(data)) {
        instruction = data;
        if (instruction == "Z" || instruction == "z") {
          pathData.push({
            instruction: "z"
          });
        }
      } else {
        if (instruction == "A" || instruction == "a") {
          var newData = [];
          for (var args; args = regArcArgumentSequence.exec(data); ) {
            for (var i4 = 1; i4 < args.length; i4++) {
              newData.push(args[i4]);
            }
          }
          data = newData;
        } else {
          data = data.match(regCoordinateSequence);
        }
        if (!data)
          return;
        data = data.map(Number);
        if (instruction == "M" || instruction == "m") {
          pathData.push({
            instruction: pathData.length == 0 ? "M" : instruction,
            data: data.splice(0, 2)
          });
          instruction = instruction == "M" ? "L" : "l";
        }
        for (var pair = paramsLength[instruction]; data.length; ) {
          pathData.push({
            instruction,
            data: data.splice(0, pair)
          });
        }
      }
    });
    if (pathData.length && pathData[0].instruction == "m") {
      pathData[0].instruction = "M";
    }
    return pathData;
  }
  const js2path = function(path2, data, params2) {
    if (params2.collapseRepeated) {
      data = collapseRepeated(data);
    }
    path2.setAttribute("d", data.reduce(function(pathString, item) {
      var strData = "";
      if (item.data) {
        strData = cleanupOutData(item.data, params2, item.instruction);
      }
      return pathString += item.instruction + strData;
    }, ""));
  };
  function collapseRepeated(data) {
    var prev, prevIndex;
    data = data.reduce(function(newPath, item) {
      if (prev && item.data && item.instruction == prev.instruction) {
        if (item.instruction != "M") {
          prev = newPath[prevIndex] = {
            instruction: prev.instruction,
            data: prev.data.concat(item.data),
            coords: item.coords,
            base: prev.base
          };
        } else {
          prev.data = item.data;
          prev.coords = item.coords;
        }
      } else {
        newPath.push(item);
        prev = item;
        prevIndex = newPath.length - 1;
      }
      return newPath;
    }, []);
    return data;
  }

  // src/utils/lib/shapeToPath.ts
  function convertShapesToPath(el) {
    var _a, _b, _c, _d, _e;
    if (el instanceof SVGRectElement && el.hasAttribute("width") && el.hasAttribute("height") && el.hasAttribute("rx") === false && el.hasAttribute("ry") === false) {
      const x3 = parseFloat(el.getAttribute("x") || "0");
      const y3 = parseFloat(el.getAttribute("y") || "0");
      const width = parseFloat(el.getAttribute("width") || "0");
      const height = parseFloat(el.getAttribute("height") || "0");
      if (isNaN(x3 - y3 + width - height))
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const pathData = `M${x3} ${y3}H${x3 + width}V${y3 + height}H${x3}z`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["x", "y", "width", "height"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_a = el.parentElement) == null ? void 0 : _a.replaceChild(pathEl, el);
    } else if (el instanceof SVGLineElement) {
      const x1 = parseFloat(el.getAttribute("x1") || "0");
      const x22 = parseFloat(el.getAttribute("x2") || "0");
      const y1 = parseFloat(el.getAttribute("y1") || "0");
      const y22 = parseFloat(el.getAttribute("y2") || "0");
      if (isNaN(x1 - y1 + x22 - y22))
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const pathData = `M${x1} ${y1}L${x22} ${y22}`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["x1", "y1", "x2", "y2"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_b = el.parentElement) == null ? void 0 : _b.replaceChild(pathEl, el);
    } else if ((el instanceof SVGPolylineElement || el instanceof SVGPolygonElement) && el.hasAttribute("points")) {
      const REGX_NUMBER = /[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?/g;
      const points = (_c = el.getAttribute("points")) != null ? _c : "";
      const coords = ((_d = points.match(REGX_NUMBER)) != null ? _d : []).map(Number);
      if (coords.length < 4)
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const [x3, y3] = coords.slice(0, 2);
      const remainingPoints = coords.slice(2).join(" ");
      const suffix = el instanceof SVGPolygonElement ? "z" : "";
      const pathData = `M${x3} ${y3}L${remainingPoints}${suffix}`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["points"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_e = el.parentElement) == null ? void 0 : _e.replaceChild(pathEl, el);
    }
  }

  // src/utils/crunchSvg.ts
  const params = {
    applyTransforms: true,
    applyTransformsStroked: true,
    makeArcs: {
      threshold: 2.5,
      tolerance: 0.5
    },
    straightCurves: true,
    lineShorthands: true,
    curveSmoothShorthands: true,
    floatPrecision: 1,
    transformPrecision: 5,
    removeUseless: true,
    collapseRepeated: true,
    utilizeAbsolute: true,
    leadingZero: true,
    negativeExtraSpace: true,
    noSpaceAfterFlags: true,
    forceAbsolutePath: false
  };
  let roundData;
  let precision;
  let error;
  let arcThreshold;
  let arcTolerance;
  let hasMarkerMid;
  let hasStrokeLinecap;
  function crunchSvg2(svg2) {
    for (const node of Array.from(svg2.querySelectorAll("*"))) {
      convertShapesToPath(node);
      optimiseElement(node);
    }
  }
  function optimiseElement(item) {
    precision = params.floatPrecision;
    if (item instanceof SVGPathElement && item.hasAttribute("d")) {
      error = precision !== false ? +Math.pow(0.1, precision).toFixed(precision) : 0.01;
      roundData = precision > 0 && precision < 20 ? strongRound : round;
      if (params.makeArcs) {
        arcThreshold = params.makeArcs.threshold;
        arcTolerance = params.makeArcs.tolerance;
      }
      hasMarkerMid = item.hasAttribute("marker-mid");
      const stroke = item.getAttribute("stroke");
      const strokeLinecap = item.getAttribute("stroke");
      hasStrokeLinecap = stroke && stroke != "none" && strokeLinecap && strokeLinecap != "butt";
      var data = path2js(item);
      if (data.length) {
        convertToRelative(data);
        data = filters(data, params);
        if (params.utilizeAbsolute) {
          data = convertToMixed(data, params);
        }
        js2path(item, data, params);
      }
    }
  }
  function convertToRelative(path2) {
    var point = [0, 0], subpathPoint = [0, 0], baseItem;
    path2.forEach(function(item, index) {
      var instruction = item.instruction, data = item.data;
      if (data) {
        if ("mcslqta".indexOf(instruction) > -1) {
          point[0] += data[data.length - 2];
          point[1] += data[data.length - 1];
          if (instruction === "m") {
            subpathPoint[0] = point[0];
            subpathPoint[1] = point[1];
            baseItem = item;
          }
        } else if (instruction === "h") {
          point[0] += data[0];
        } else if (instruction === "v") {
          point[1] += data[0];
        }
        if (instruction === "M") {
          if (index > 0)
            instruction = "m";
          data[0] -= point[0];
          data[1] -= point[1];
          subpathPoint[0] = point[0] += data[0];
          subpathPoint[1] = point[1] += data[1];
          baseItem = item;
        } else if ("LT".indexOf(instruction) > -1) {
          instruction = instruction.toLowerCase();
          data[0] -= point[0];
          data[1] -= point[1];
          point[0] += data[0];
          point[1] += data[1];
        } else if (instruction === "C") {
          instruction = "c";
          data[0] -= point[0];
          data[1] -= point[1];
          data[2] -= point[0];
          data[3] -= point[1];
          data[4] -= point[0];
          data[5] -= point[1];
          point[0] += data[4];
          point[1] += data[5];
        } else if ("SQ".indexOf(instruction) > -1) {
          instruction = instruction.toLowerCase();
          data[0] -= point[0];
          data[1] -= point[1];
          data[2] -= point[0];
          data[3] -= point[1];
          point[0] += data[2];
          point[1] += data[3];
        } else if (instruction === "A") {
          instruction = "a";
          data[5] -= point[0];
          data[6] -= point[1];
          point[0] += data[5];
          point[1] += data[6];
        } else if (instruction === "H") {
          instruction = "h";
          data[0] -= point[0];
          point[0] += data[0];
        } else if (instruction === "V") {
          instruction = "v";
          data[0] -= point[1];
          point[1] += data[0];
        }
        item.instruction = instruction;
        item.data = data;
        item.coords = point.slice(-2);
      } else if (instruction == "z") {
        if (baseItem) {
          item.coords = baseItem.coords;
        }
        point[0] = subpathPoint[0];
        point[1] = subpathPoint[1];
      }
      item.base = index > 0 ? path2[index - 1].coords : [0, 0];
    });
    return path2;
  }
  function filters(path2, params2) {
    var stringify = data2Path.bind(null, params2), relSubpoint = [0, 0], pathBase = [0, 0], prev = {};
    path2 = path2.filter(function(item, index, path3) {
      var instruction = item.instruction, data = item.data, next = path3[index + 1];
      if (data) {
        var sdata = data, circle;
        if (instruction === "s") {
          sdata = [0, 0].concat(data);
          if ("cs".indexOf(prev.instruction) > -1) {
            var pdata = prev.data, n4 = pdata.length;
            sdata[0] = pdata[n4 - 2] - pdata[n4 - 4];
            sdata[1] = pdata[n4 - 1] - pdata[n4 - 3];
          }
        }
        if (params2.makeArcs && (instruction == "c" || instruction == "s") && isConvex(sdata) && (circle = findCircle(sdata))) {
          var r3 = roundData([circle.radius])[0], angle = findArcAngle(sdata, circle), sweep = sdata[5] * sdata[0] - sdata[4] * sdata[1] > 0 ? 1 : 0, arc = {
            instruction: "a",
            data: [r3, r3, 0, 0, sweep, sdata[4], sdata[5]],
            coords: item.coords.slice(),
            base: item.base
          }, output = [arc], relCenter = [
            circle.center[0] - sdata[4],
            circle.center[1] - sdata[5]
          ], relCircle = {center: relCenter, radius: circle.radius}, arcCurves = [item], hasPrev = 0, suffix = "", nextLonghand;
          if (prev.instruction == "c" && isConvex(prev.data) && isArcPrev(prev.data, circle) || prev.instruction == "a" && prev.sdata && isArcPrev(prev.sdata, circle)) {
            arcCurves.unshift(prev);
            arc.base = prev.base;
            arc.data[5] = arc.coords[0] - arc.base[0];
            arc.data[6] = arc.coords[1] - arc.base[1];
            var prevData = prev.instruction == "a" ? prev.sdata : prev.data;
            var prevAngle = findArcAngle(prevData, {
              center: [
                prevData[4] + circle.center[0],
                prevData[5] + circle.center[1]
              ],
              radius: circle.radius
            });
            angle += prevAngle;
            if (angle > Math.PI)
              arc.data[3] = 1;
            hasPrev = 1;
          }
          for (var j3 = index; (next = path3[++j3]) && ~"cs".indexOf(next.instruction); ) {
            var nextData = next.data;
            if (next.instruction == "s") {
              nextLonghand = makeLonghand({instruction: "s", data: next.data.slice()}, path3[j3 - 1].data);
              nextData = nextLonghand.data;
              nextLonghand.data = nextData.slice(0, 2);
              suffix = stringify([nextLonghand]);
            }
            if (isConvex(nextData) && isArc(nextData, relCircle)) {
              angle += findArcAngle(nextData, relCircle);
              if (angle - 2 * Math.PI > 1e-3)
                break;
              if (angle > Math.PI)
                arc.data[3] = 1;
              arcCurves.push(next);
              if (2 * Math.PI - angle > 1e-3) {
                arc.coords = next.coords;
                arc.data[5] = arc.coords[0] - arc.base[0];
                arc.data[6] = arc.coords[1] - arc.base[1];
              } else {
                arc.data[5] = 2 * (relCircle.center[0] - nextData[4]);
                arc.data[6] = 2 * (relCircle.center[1] - nextData[5]);
                arc.coords = [
                  arc.base[0] + arc.data[5],
                  arc.base[1] + arc.data[6]
                ];
                arc = {
                  instruction: "a",
                  data: [
                    r3,
                    r3,
                    0,
                    0,
                    sweep,
                    next.coords[0] - arc.coords[0],
                    next.coords[1] - arc.coords[1]
                  ],
                  coords: next.coords,
                  base: arc.coords
                };
                output.push(arc);
                j3++;
                break;
              }
              relCenter[0] -= nextData[4];
              relCenter[1] -= nextData[5];
            } else
              break;
          }
          if ((stringify(output) + suffix).length < stringify(arcCurves).length) {
            if (path3[j3] && path3[j3].instruction == "s") {
              makeLonghand(path3[j3], path3[j3 - 1].data);
            }
            if (hasPrev) {
              var prevArc = output.shift();
              roundData(prevArc.data);
              relSubpoint[0] += prevArc.data[5] - prev.data[prev.data.length - 2];
              relSubpoint[1] += prevArc.data[6] - prev.data[prev.data.length - 1];
              prev.instruction = "a";
              prev.data = prevArc.data;
              item.base = prev.coords = prevArc.coords;
            }
            arc = output.shift();
            if (arcCurves.length == 1) {
              item.sdata = sdata.slice();
            } else if (arcCurves.length - 1 - hasPrev > 0) {
              path3.splice.apply(path3, [index + 1, arcCurves.length - 1 - hasPrev].concat(output));
            }
            if (!arc)
              return false;
            instruction = "a";
            data = arc.data;
            item.coords = arc.coords;
          }
        }
        if (precision !== false) {
          if ("mltqsc".indexOf(instruction) > -1) {
            for (var i4 = data.length; i4--; ) {
              data[i4] += item.base[i4 % 2] - relSubpoint[i4 % 2];
            }
          } else if (instruction == "h") {
            data[0] += item.base[0] - relSubpoint[0];
          } else if (instruction == "v") {
            data[0] += item.base[1] - relSubpoint[1];
          } else if (instruction == "a") {
            data[5] += item.base[0] - relSubpoint[0];
            data[6] += item.base[1] - relSubpoint[1];
          }
          roundData(data);
          if (instruction == "h")
            relSubpoint[0] += data[0];
          else if (instruction == "v")
            relSubpoint[1] += data[0];
          else {
            relSubpoint[0] += data[data.length - 2];
            relSubpoint[1] += data[data.length - 1];
          }
          roundData(relSubpoint);
          if (instruction.toLowerCase() == "m") {
            pathBase[0] = relSubpoint[0];
            pathBase[1] = relSubpoint[1];
          }
        }
        if (params2.straightCurves) {
          if (instruction === "c" && isCurveStraightLine(data) || instruction === "s" && isCurveStraightLine(sdata)) {
            if (next && next.instruction == "s")
              makeLonghand(next, data);
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "q" && isCurveStraightLine(data)) {
            if (next && next.instruction == "t")
              makeLonghand(next, data);
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "t" && prev.instruction !== "q" && prev.instruction !== "t") {
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "a" && (data[0] === 0 || data[1] === 0)) {
            instruction = "l";
            data = data.slice(-2);
          }
        }
        if (params2.lineShorthands && instruction === "l") {
          if (data[1] === 0) {
            instruction = "h";
            data.pop();
          } else if (data[0] === 0) {
            instruction = "v";
            data.shift();
          }
        }
        if (params2.collapseRepeated && !hasMarkerMid && "mhv".indexOf(instruction) > -1 && prev.instruction && instruction == prev.instruction.toLowerCase() && (instruction != "h" && instruction != "v" || prev.data[0] >= 0 == data[0] >= 0)) {
          prev.data[0] += data[0];
          if (instruction != "h" && instruction != "v") {
            prev.data[1] += data[1];
          }
          prev.coords = item.coords;
          path3[index] = prev;
          return false;
        }
        if (params2.curveSmoothShorthands && prev.instruction) {
          if (instruction === "c") {
            if (prev.instruction === "c" && data[0] === -(prev.data[2] - prev.data[4]) && data[1] === -(prev.data[3] - prev.data[5])) {
              instruction = "s";
              data = data.slice(2);
            } else if (prev.instruction === "s" && data[0] === -(prev.data[0] - prev.data[2]) && data[1] === -(prev.data[1] - prev.data[3])) {
              instruction = "s";
              data = data.slice(2);
            } else if ("cs".indexOf(prev.instruction) === -1 && data[0] === 0 && data[1] === 0) {
              instruction = "s";
              data = data.slice(2);
            }
          } else if (instruction === "q") {
            if (prev.instruction === "q" && data[0] === prev.data[2] - prev.data[0] && data[1] === prev.data[3] - prev.data[1]) {
              instruction = "t";
              data = data.slice(2);
            } else if (prev.instruction === "t" && data[2] === prev.data[0] && data[3] === prev.data[1]) {
              instruction = "t";
              data = data.slice(2);
            }
          }
        }
        if (params2.removeUseless && !hasStrokeLinecap) {
          if ("lhvqtcs".indexOf(instruction) > -1 && data.every(function(i5) {
            return i5 === 0;
          })) {
            path3[index] = prev;
            return false;
          }
          if (instruction === "a" && data[5] === 0 && data[6] === 0) {
            path3[index] = prev;
            return false;
          }
        }
        item.instruction = instruction;
        item.data = data;
        prev = item;
      } else {
        relSubpoint[0] = pathBase[0];
        relSubpoint[1] = pathBase[1];
        if (prev.instruction == "z")
          return false;
        prev = item;
      }
      return true;
    });
    return path2;
  }
  function convertToMixed(path2, params2) {
    var prev = path2[0];
    path2 = path2.filter(function(item, index) {
      if (index == 0)
        return true;
      if (!item.data) {
        prev = item;
        return true;
      }
      var instruction = item.instruction, data = item.data, adata = data && data.slice(0);
      if ("mltqsc".indexOf(instruction) > -1) {
        for (var i4 = adata.length; i4--; ) {
          adata[i4] += item.base[i4 % 2];
        }
      } else if (instruction == "h") {
        adata[0] += item.base[0];
      } else if (instruction == "v") {
        adata[0] += item.base[1];
      } else if (instruction == "a") {
        adata[5] += item.base[0];
        adata[6] += item.base[1];
      }
      roundData(adata);
      var absoluteDataStr = cleanupOutData(adata, params2), relativeDataStr = cleanupOutData(data, params2);
      if (params2.forceAbsolutePath || absoluteDataStr.length < relativeDataStr.length && !(params2.negativeExtraSpace && instruction == prev.instruction && prev.instruction.charCodeAt(0) > 96 && absoluteDataStr.length == relativeDataStr.length - 1 && (data[0] < 0 || /^0\./.test(data[0]) && prev.data[prev.data.length - 1] % 1))) {
        item.instruction = instruction.toUpperCase();
        item.data = adata;
      }
      prev = item;
      return true;
    });
    return path2;
  }
  function isConvex(data) {
    var center = getIntersection([
      0,
      0,
      data[2],
      data[3],
      data[0],
      data[1],
      data[4],
      data[5]
    ]);
    return center && data[2] < center[0] == center[0] < 0 && data[3] < center[1] == center[1] < 0 && data[4] < center[0] == center[0] < data[0] && data[5] < center[1] == center[1] < data[1];
  }
  function getIntersection(coords) {
    var a1 = coords[1] - coords[3], b1 = coords[2] - coords[0], c1 = coords[0] * coords[3] - coords[2] * coords[1], a22 = coords[5] - coords[7], b22 = coords[6] - coords[4], c22 = coords[4] * coords[7] - coords[5] * coords[6], denom = a1 * b22 - a22 * b1;
    if (!denom)
      return;
    var cross = [(b1 * c22 - b22 * c1) / denom, (a1 * c22 - a22 * c1) / -denom];
    if (!isNaN(cross[0]) && !isNaN(cross[1]) && isFinite(cross[0]) && isFinite(cross[1])) {
      return cross;
    }
  }
  function strongRound(data) {
    for (var i4 = data.length; i4-- > 0; ) {
      if (data[i4].toFixed(precision) != data[i4]) {
        var rounded = +data[i4].toFixed(precision - 1);
        data[i4] = +Math.abs(rounded - data[i4]).toFixed(precision + 1) >= error ? +data[i4].toFixed(precision) : rounded;
      }
    }
    return data;
  }
  function round(data) {
    for (var i4 = data.length; i4-- > 0; ) {
      data[i4] = Math.round(data[i4]);
    }
    return data;
  }
  function isCurveStraightLine(data) {
    var i4 = data.length - 2, a4 = -data[i4 + 1], b3 = data[i4], d3 = 1 / (a4 * a4 + b3 * b3);
    if (i4 <= 1 || !isFinite(d3))
      return false;
    while ((i4 -= 2) >= 0) {
      if (Math.sqrt(Math.pow(a4 * data[i4] + b3 * data[i4 + 1], 2) * d3) > error)
        return false;
    }
    return true;
  }
  function makeLonghand(item, data) {
    switch (item.instruction) {
      case "s":
        item.instruction = "c";
        break;
      case "t":
        item.instruction = "q";
        break;
    }
    item.data.unshift(data[data.length - 2] - data[data.length - 4], data[data.length - 1] - data[data.length - 3]);
    return item;
  }
  function getDistance(point1, point2) {
    return Math.hypot(point1[0] - point2[0], point1[1] - point2[1]);
  }
  function getCubicBezierPoint(curve, t3) {
    var sqrT = t3 * t3, cubT = sqrT * t3, mt = 1 - t3, sqrMt = mt * mt;
    return [
      3 * sqrMt * t3 * curve[0] + 3 * mt * sqrT * curve[2] + cubT * curve[4],
      3 * sqrMt * t3 * curve[1] + 3 * mt * sqrT * curve[3] + cubT * curve[5]
    ];
  }
  function findCircle(curve) {
    var midPoint = getCubicBezierPoint(curve, 1 / 2), m1 = [midPoint[0] / 2, midPoint[1] / 2], m22 = [(midPoint[0] + curve[4]) / 2, (midPoint[1] + curve[5]) / 2], center = getIntersection([
      m1[0],
      m1[1],
      m1[0] + m1[1],
      m1[1] - m1[0],
      m22[0],
      m22[1],
      m22[0] + (m22[1] - midPoint[1]),
      m22[1] - (m22[0] - midPoint[0])
    ]), radius = center && getDistance([0, 0], center), tolerance = Math.min(arcThreshold * error, arcTolerance * radius / 100);
    if (center && radius < 1e15 && [1 / 4, 3 / 4].every(function(point) {
      return Math.abs(getDistance(getCubicBezierPoint(curve, point), center) - radius) <= tolerance;
    }))
      return {center, radius};
  }
  function isArc(curve, circle) {
    var tolerance = Math.min(arcThreshold * error, arcTolerance * circle.radius / 100);
    return [0, 1 / 4, 1 / 2, 3 / 4, 1].every(function(point) {
      return Math.abs(getDistance(getCubicBezierPoint(curve, point), circle.center) - circle.radius) <= tolerance;
    });
  }
  function isArcPrev(curve, circle) {
    return isArc(curve, {
      center: [circle.center[0] + curve[4], circle.center[1] + curve[5]],
      radius: circle.radius
    });
  }
  function findArcAngle(curve, relCircle) {
    var x1 = -relCircle.center[0], y1 = -relCircle.center[1], x22 = curve[4] - relCircle.center[0], y22 = curve[5] - relCircle.center[1];
    return Math.acos((x1 * x22 + y1 * y22) / Math.sqrt((x1 * x1 + y1 * y1) * (x22 * x22 + y22 * y22)));
  }
  function data2Path(params2, pathData) {
    return pathData.reduce(function(pathString, item) {
      var strData = "";
      if (item.data) {
        strData = cleanupOutData(roundData(item.data.slice()), params2);
      }
      return pathString + item.instruction + strData;
    }, "");
  }

  // src/components/App.tsx
  class App extends m2 {
    constructor() {
      super(...arguments);
      this.state = {
        error: void 0,
        ready: false,
        frames: {},
        stage: STAGES.CHOOSE_FRAMES,
        previewIndex: 0,
        isResizing: false,
        mouseStartX: 0,
        mouseStartY: 0,
        windowWidth: INITIAL_UI_SIZE.width,
        windowHeight: INITIAL_UI_SIZE.height,
        responsive: true,
        headline: void 0,
        subhead: void 0,
        source: void 0,
        loading: false
      };
      this.updateInitialState = (data) => {
        const {frames, windowHeight, windowWidth, headline, subhead, source} = data;
        if (!Array.isArray(frames) || (frames == null ? void 0 : frames.length) < 1) {
          this.setState({error: "No frames!"});
          console.error("Post error: no frames", data);
          return;
        }
        const frameData = {};
        for (const frame of frames) {
          const {id} = frame;
          const rndId = Math.random().toString(32).substr(2);
          frameData[id] = __assign(__assign({}, frame), {uid: `f2h-${rndId}`, svgOptimised: false});
        }
        this.setState({
          frames: frameData,
          ready: true,
          windowWidth,
          windowHeight,
          headline,
          subhead,
          source
        });
      };
      this.compressImage = async (msg) => {
        try {
          const {image, width, height, uid} = msg;
          const imgData = await compressImage2(image, width, height);
          sendMessage(MSG_EVENTS.COMPRESSED_IMAGE, {image: imgData, uid});
        } catch (err) {
          console.error("UI failed to compress image", err);
          this.setState({error: "Failed to compress image"});
        }
      };
      this.handleRenderMessage = (data) => {
        const {frameId, svg: svg2} = data;
        if (!frameId || !svg2) {
          this.setState({error: "Failed to render", loading: false});
          console.error("Post message: failed to render", data);
          return;
        }
        const {frames} = this.state;
        const svgStr = decodeSvgToString(svg2);
        const cloneFrames = JSON.parse(JSON.stringify(frames));
        cloneFrames[frameId].svg = svgStr;
        this.setState({frames: cloneFrames, loading: false});
      };
      this.handleEvents = (data) => {
        console.log("UI post", data);
        switch (data.type) {
          case MSG_EVENTS.FOUND_FRAMES:
            this.updateInitialState(data);
            break;
          case MSG_EVENTS.NO_FRAMES:
            this.setState({error: UI_TEXT.ERROR_MISSING_FRAMES});
            break;
          case MSG_EVENTS.ERROR:
            console.error("UI post message error", data);
            this.setState({
              error: `${UI_TEXT.ERROR_UNEXPECTED}: ${data.errorText}`
            });
            break;
          case MSG_EVENTS.RENDER:
            this.handleRenderMessage(data);
            break;
          case MSG_EVENTS.COMPRESS_IMAGE:
            this.compressImage(data).catch((err) => {
              console.error("UI compress image event", err);
              this.setState({
                error: err instanceof Error ? err.message : "Compress images failed"
              });
            });
            break;
          default:
            this.setState({error: "Unknown post message"});
            console.error("UI post message error", data);
            break;
        }
      };
      this.goNext = () => {
        const {stage, previewIndex, frames} = this.state;
        const {length} = Object.values(frames).filter((f4) => f4.selected);
        if (length === 0) {
          return;
        }
        const nextIndex = previewIndex + 1;
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return this.setState({stage: STAGES.PREVIEW_OUTPUT});
          case STAGES.PREVIEW_OUTPUT:
            if (length === nextIndex) {
              return this.setState({stage: STAGES.RESPONSIVE_PREVIEW});
            } else {
              return this.setState({previewIndex: nextIndex});
            }
          case STAGES.RESPONSIVE_PREVIEW:
            return this.setState({stage: STAGES.SAVE_OUTPUT});
          case STAGES.SAVE_OUTPUT:
            return;
        }
      };
      this.goBack = () => {
        const {stage, previewIndex} = this.state;
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return;
          case STAGES.PREVIEW_OUTPUT:
            if (previewIndex === 0) {
              this.setState({stage: STAGES.CHOOSE_FRAMES});
            } else {
              this.setState({previewIndex: previewIndex - 1});
            }
            return;
          case STAGES.RESPONSIVE_PREVIEW:
            return this.setState({stage: STAGES.PREVIEW_OUTPUT});
          case STAGES.SAVE_OUTPUT:
            return this.setState({stage: STAGES.RESPONSIVE_PREVIEW});
        }
      };
      this.getOutputRender = (frameId) => {
        this.setState({loading: true});
        sendMessage(MSG_EVENTS.RENDER, {frameId});
      };
      this.toggleProp = (id, prop) => {
        const {frames} = this.state;
        const cloneFrames = JSON.parse(JSON.stringify(frames));
        cloneFrames[id][prop] = !cloneFrames[id][prop];
        this.setState({frames: cloneFrames});
      };
      this.toggleFrameSelect = (id) => this.toggleProp(id, "selected");
      this.toggleResonsive = (id) => this.toggleProp(id, "responsive");
      this.toggleOptimised = (id) => {
        const {frames} = this.state;
        const {svgCompressed, svg: svg2, svgOptimised} = frames[id];
        if (svg2 && !svgOptimised && !svgCompressed) {
          const el = document.createElement("div");
          el.innerHTML = svg2;
          const svgEl = el.querySelector("svg");
          if (!svgEl) {
            console.error("Missing SVG in SVG string");
            return;
          }
          crunchSvg2(svgEl);
          const cloneFrames = JSON.parse(JSON.stringify(frames));
          cloneFrames[id].svgCompressed = svgEl.outerHTML;
          cloneFrames[id].svgOptimised = true;
          this.setState({frames: cloneFrames});
        } else {
          this.toggleProp(id, "svgOptimised");
        }
      };
      this.toggleAllProp = (propName) => {
        const {frames} = this.state;
        const shouldDeselectAll = Object.values(frames).some((frame) => frame[propName]);
        const draftState = immer_esm_default(this.state, (draftState2) => {
          Object.values(draftState2.frames).forEach((frame) => frame[propName] = !shouldDeselectAll);
        });
        this.setState(draftState);
      };
      this.toggleSelectAll = () => this.toggleAllProp("selected");
      this.toggleResponsiveAll = () => this.toggleAllProp("responsive");
      this.handleFormUpdate = (props) => {
        this.setState(__assign({}, props));
        sendMessage(MSG_EVENTS.UPDATE_HEADLINES, props);
      };
      this.switchView = () => {
        const {frames, stage, previewIndex, windowHeight, windowWidth, headline, subhead, source, loading} = this.state;
        const framesArr = Object.values(frames).sort((a4, b3) => a4.width <= b3.width ? -1 : 1);
        const selectedFrames = framesArr.filter((frame) => frame.selected);
        if (stage === STAGES.PREVIEW_OUTPUT && !selectedFrames[previewIndex].svg && loading === false) {
          this.getOutputRender(selectedFrames[previewIndex].id);
        }
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return h2(FrameSelection2, {
              frames: framesArr,
              handleClick: this.toggleFrameSelect,
              toggleResonsive: this.toggleResonsive,
              toggleSelectAll: this.toggleSelectAll,
              toggleResponsiveAll: this.toggleResponsiveAll,
              headline,
              subhead,
              source,
              handleFormUpdate: this.handleFormUpdate
            });
          case STAGES.PREVIEW_OUTPUT:
            return h2(Preview2, {
              frame: selectedFrames[previewIndex],
              windowHeight,
              windowWidth
            });
          case STAGES.RESPONSIVE_PREVIEW:
            return h2(ResponsiveView2, {
              windowHeight,
              windowWidth,
              frames: selectedFrames,
              headline,
              subhead,
              source
            });
          case STAGES.SAVE_OUTPUT:
            return h2(Save2, {
              frames: selectedFrames,
              headline,
              subhead,
              source
            });
          default:
            return h2("div", null, "Loading...");
        }
      };
    }
    componentDidMount() {
      window.addEventListener("message", (e3) => this.handleEvents(e3.data.pluginMessage));
      sendMessage(MSG_EVENTS.DOM_READY);
    }
    render() {
      const {version} = this.props;
      const {error: error2, frames, stage, previewIndex, loading} = this.state;
      const selectedFrame = Object.values(frames)[previewIndex];
      console.log(this.state);
      return h2("div", {
        className: "f2h"
      }, h2(Header2, {
        stage,
        handleBackClick: this.goBack,
        handleNextClick: this.goNext,
        disableNext: loading || stage === STAGES.SAVE_OUTPUT,
        frame: selectedFrame,
        handleOptimseClick: this.toggleOptimised
      }), h2("div", {
        className: "f2h__body"
      }, error2 ? h2("div", {
        className: "error"
      }, error2) : this.switchView()), h2("p", {
        className: "f2h__version"
      }, "Version: ", version));
    }
  }

  // src/ui.tsx
  const ui = __toModule(require_ui());
  const fonts2 = __toModule(require_fonts());
  const embed2 = __toModule(require_embed());
  const VERSION = "alpha-0.1";
  injectCss(ui.default);
  injectCss(embed2.default);
  injectCss(fonts2.default);
  H2(h2(App, {
    version: VERSION
  }), document.body);
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2VtYmVkLmNzcyIsICJzcmMvZm9udHMuY3NzIiwgIm5vZGVfbW9kdWxlcy9maWxlLXNhdmVyL2Rpc3QvRmlsZVNhdmVyLm1pbi5qcyIsICJzcmMvdWkuY3NzIiwgIm5vZGVfbW9kdWxlcy9wcmVhY3QvZGlzdC9wcmVhY3QubW9kdWxlLmpzIiwgInNyYy91dGlscy9jc3MudHMiLCAibm9kZV9tb2R1bGVzL2ltbWVyL2Rpc3QvaW1tZXIuZXNtLmpzIiwgInNyYy9jb25zdGFudHMudHMiLCAic3JjL2NvbXBvbmVudHMvSGVhZGVyLnRzeCIsICJub2RlX21vZHVsZXMvcHJlYWN0LXJlbmRlci10by1zdHJpbmcvZGlzdC9pbmRleC5tb2R1bGUuanMiLCAic3JjL291dHB1dFJlbmRlci50c3giLCAic3JjL2NvbXBvbmVudHMvUmVzcG9uc2l2ZVZpZXcudHN4IiwgInNyYy9jb21wb25lbnRzL0ZyYW1lU2VsZWN0aW9uLnRzeCIsICJzcmMvY29tcG9uZW50cy9QcmV2aWV3LnRzeCIsICJzcmMvY29tcG9uZW50cy9TYXZlLnRzeCIsICJzcmMvdXRpbHMvc3ZnLnRzIiwgInNyYy91dGlscy9jb21wcmVzc0ltYWdlLnRzIiwgInNyYy91dGlscy9tZXNzYWdlcy50cyIsICJzcmMvdXRpbHMvbGliL3Rvb2xzLnRzIiwgInNyYy91dGlscy9saWIvcGF0aC50cyIsICJzcmMvdXRpbHMvbGliL3NoYXBlVG9QYXRoLnRzIiwgInNyYy91dGlscy9jcnVuY2hTdmcudHMiLCAic3JjL2NvbXBvbmVudHMvQXBwLnRzeCIsICJzcmMvdWkudHN4Il0sCiAgInNvdXJjZXNDb250ZW50IjogWyJodG1sLFxuYm9keSB7XG4gIG1hcmdpbjogMDtcbn1cblxuLmYyaF9fdGV4dCB7XG4gIG1hcmdpbjogMDtcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAvKiB3aGl0ZS1zcGFjZTogcHJlOyAqL1xuXG4gIC8qIERFQlVHICovXG4gIC8qIGNvbG9yOiByZ2JhKDI1NSwgMCwgMCwgMC4zNCkgIWltcG9ydGFudDsgKi9cbn1cblxuLmYyaF9fcmVuZGVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uZjJoX19yZW5kZXIgc3ZnIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogMDtcbn1cblxuLmYyaF9fcmVuZGVyIHN2ZyB0ZXh0IHtcbiAgLyogREVCVUcgKi9cbiAgZGlzcGxheTogbm9uZTtcbn1cblxuLmYyaF9fcmVuZGVyLS1yZXNwb25zaXZlIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5mMmhfX3JlbmRlci0tcmVzcG9uc2l2ZSBzdmcge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiBhdXRvO1xufVxuXG4uZjJoX2hlYWRsaW5lIHtcbiAgZm9udC1mYW1pbHk6IFwiQXVzdGluIE5ld3MgRGVjayBTZW1pYm9sZFwiLCBHZW9yZ2lhLCBcIlRpbWVzIE5ldyBSb21hblwiLCBUaW1lcywgc2VyaWY7XG4gIGZvbnQtc2l6ZTogMjJweDtcbiAgY29sb3I6ICMzMzM7XG4gIG1hcmdpbjogMDtcbiAgbGluZS1oZWlnaHQ6IDEuMztcbn1cbi5mMmhfc3ViYmhlYWQge1xuICBmb250LWZhbWlseTogXCJBdXN0aW4gTmV3cyBUZXh0IFJvbWFuXCIsIEdlb3JnaWEsIFwiVGltZXMgTmV3IFJvbWFuXCIsIFRpbWVzLCBzZXJpZjtcbiAgZm9udC1zaXplOiAxN3B4O1xuICBjb2xvcjogIzMzMztcbiAgbWFyZ2luOiAwO1xuICBsaW5lLWhlaWdodDogMS41O1xufVxuLmYyaF9oZWFkZXIge1xuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xufVxuXG4uZjJoX3NvdXJjZSB7XG4gIGZvbnQtZmFtaWx5OiBcIlRlbGVzYW5zIFRleHQgUmVndWxhclwiLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjOTk5O1xuICBtYXJnaW46IDEycHggMCAwO1xufVxuIiwgIkBmb250LWZhY2Uge1xuICAvKiBTZW1pYm9sZCAqL1xuICBmb250LWZhbWlseTogXCJBdXN0aW4gTmV3cyBEZWNrXCI7XG4gIHNyYzogdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItU2VtaWJvbGQud29mZjJcIilcbiAgICAgIGZvcm1hdChcIndvZmYyXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIERlY2sgV2ViLVNlbWlib2xkLndvZmZcIilcbiAgICAgIGZvcm1hdChcIndvZmZcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItU2VtaWJvbGQudHRmXCIpXG4gICAgICBmb3JtYXQoXCJ0cnVldHlwZVwiKTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgZm9udC1kaXNwbGF5OiBcInN3YXBcIjtcbn1cbkBmb250LWZhY2Uge1xuICAvKiBNZWRpdW0gKi9cbiAgZm9udC1mYW1pbHk6IFwiQXVzdGluIE5ld3MgRGVja1wiO1xuICBzcmM6IHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIERlY2sgV2ViLU1lZGl1bS53b2ZmMlwiKVxuICAgICAgZm9ybWF0KFwid29mZjJcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItTWVkaXVtLndvZmZcIilcbiAgICAgIGZvcm1hdChcIndvZmZcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItTWVkaXVtLnR0ZlwiKVxuICAgICAgZm9ybWF0KFwidHJ1ZXR5cGVcIik7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGZvbnQtZGlzcGxheTogXCJzd2FwXCI7XG59XG5cbkBmb250LWZhY2Uge1xuICAvKiBSb21hbiAqL1xuICBmb250LWZhbWlseTogXCJBdXN0aW4gTmV3cyBUZXh0XCI7XG4gIHNyYzogdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgVGV4dCBXZWItUm9tYW4ud29mZjJcIilcbiAgICAgIGZvcm1hdChcIndvZmYyXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIFRleHQgV2ViLVJvbWFuLndvZmZcIilcbiAgICAgIGZvcm1hdChcIndvZmZcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgVGV4dCBXZWItUm9tYW4udHRmXCIpXG4gICAgICBmb3JtYXQoXCJ0cnVldHlwZVwiKTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgZm9udC1kaXNwbGF5OiBcInN3YXBcIjtcbn1cbkBmb250LWZhY2Uge1xuICAvKiBSZWd1bGFyICovXG4gIGZvbnQtZmFtaWx5OiBcIlRlbGVzYW5zIFRleHRcIjtcbiAgc3JjOiB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9UZWxlc2FucyBUZXh0IFdlYi1SZWd1bGFyLndvZmYyXCIpXG4gICAgICBmb3JtYXQoXCJ3b2ZmMlwiKSxcbiAgICB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9UZWxlc2FucyBUZXh0IFdlYi1SZWd1bGFyLndvZmZcIilcbiAgICAgIGZvcm1hdChcIndvZmZcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvVGVsZXNhbnMgVGV4dCBXZWItUmVndWxhci50dGZcIilcbiAgICAgIGZvcm1hdChcInRydWV0eXBlXCIpO1xuICBmb250LXdlaWdodDogNDAwO1xuICBmb250LWRpc3BsYXk6IFwic3dhcFwiO1xufVxuQGZvbnQtZmFjZSB7XG4gIC8qIFJlZ3VsYXIgKi9cbiAgZm9udC1mYW1pbHk6IFwiVGVsZXNhbnMgQWdhdGVcIjtcbiAgZm9udC1zdHlsZTogXCJub3JtYWxcIjtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgc3JjOiB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9UZWxlc2Fuc0FnYXRlLU1lZGl1bS53b2ZmXCIpXG4gICAgICBmb3JtYXQoXCJ3b2ZmXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL1RlbGVzYW5zQWdhdGUtTWVkaXVtLnR0ZlwiKVxuICAgICAgZm9ybWF0KFwidHJ1ZXR5cGVcIik7XG59XG4iLCAiKGZ1bmN0aW9uKGEsYil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxiKTtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzKWIoKTtlbHNle2IoKSxhLkZpbGVTYXZlcj17ZXhwb3J0czp7fX0uZXhwb3J0c319KSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhLGIpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBiP2I9e2F1dG9Cb206ITF9Olwib2JqZWN0XCIhPXR5cGVvZiBiJiYoY29uc29sZS53YXJuKFwiRGVwcmVjYXRlZDogRXhwZWN0ZWQgdGhpcmQgYXJndW1lbnQgdG8gYmUgYSBvYmplY3RcIiksYj17YXV0b0JvbTohYn0pLGIuYXV0b0JvbSYmL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYS50eXBlKT9uZXcgQmxvYihbXCJcXHVGRUZGXCIsYV0se3R5cGU6YS50eXBlfSk6YX1mdW5jdGlvbiBjKGIsYyxkKXt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZS5vcGVuKFwiR0VUXCIsYiksZS5yZXNwb25zZVR5cGU9XCJibG9iXCIsZS5vbmxvYWQ9ZnVuY3Rpb24oKXthKGUucmVzcG9uc2UsYyxkKX0sZS5vbmVycm9yPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcImNvdWxkIG5vdCBkb3dubG9hZCBmaWxlXCIpfSxlLnNlbmQoKX1mdW5jdGlvbiBkKGEpe3ZhciBiPW5ldyBYTUxIdHRwUmVxdWVzdDtiLm9wZW4oXCJIRUFEXCIsYSwhMSk7dHJ5e2Iuc2VuZCgpfWNhdGNoKGEpe31yZXR1cm4gMjAwPD1iLnN0YXR1cyYmMjk5Pj1iLnN0YXR1c31mdW5jdGlvbiBlKGEpe3RyeXthLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKSl9Y2F0Y2goYyl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtiLmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwhMCwhMCx3aW5kb3csMCwwLDAsODAsMjAsITEsITEsITEsITEsMCxudWxsKSxhLmRpc3BhdGNoRXZlbnQoYil9fXZhciBmPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy53aW5kb3c9PT13aW5kb3c/d2luZG93Olwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmLnNlbGY9PT1zZWxmP3NlbGY6XCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbCYmZ2xvYmFsLmdsb2JhbD09PWdsb2JhbD9nbG9iYWw6dm9pZCAwLGE9Zi5zYXZlQXN8fChcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93fHx3aW5kb3chPT1mP2Z1bmN0aW9uKCl7fTpcImRvd25sb2FkXCJpbiBIVE1MQW5jaG9yRWxlbWVudC5wcm90b3R5cGU/ZnVuY3Rpb24oYixnLGgpe3ZhciBpPWYuVVJMfHxmLndlYmtpdFVSTCxqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2c9Z3x8Yi5uYW1lfHxcImRvd25sb2FkXCIsai5kb3dubG9hZD1nLGoucmVsPVwibm9vcGVuZXJcIixcInN0cmluZ1wiPT10eXBlb2YgYj8oai5ocmVmPWIsai5vcmlnaW49PT1sb2NhdGlvbi5vcmlnaW4/ZShqKTpkKGouaHJlZik/YyhiLGcsaCk6ZShqLGoudGFyZ2V0PVwiX2JsYW5rXCIpKTooai5ocmVmPWkuY3JlYXRlT2JqZWN0VVJMKGIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnJldm9rZU9iamVjdFVSTChqLmhyZWYpfSw0RTQpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGopfSwwKSl9OlwibXNTYXZlT3JPcGVuQmxvYlwiaW4gbmF2aWdhdG9yP2Z1bmN0aW9uKGYsZyxoKXtpZihnPWd8fGYubmFtZXx8XCJkb3dubG9hZFwiLFwic3RyaW5nXCIhPXR5cGVvZiBmKW5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGIoZixoKSxnKTtlbHNlIGlmKGQoZikpYyhmLGcsaCk7ZWxzZXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtpLmhyZWY9ZixpLnRhcmdldD1cIl9ibGFua1wiLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGkpfSl9fTpmdW5jdGlvbihhLGIsZCxlKXtpZihlPWV8fG9wZW4oXCJcIixcIl9ibGFua1wiKSxlJiYoZS5kb2N1bWVudC50aXRsZT1lLmRvY3VtZW50LmJvZHkuaW5uZXJUZXh0PVwiZG93bmxvYWRpbmcuLi5cIiksXCJzdHJpbmdcIj09dHlwZW9mIGEpcmV0dXJuIGMoYSxiLGQpO3ZhciBnPVwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI9PT1hLnR5cGUsaD0vY29uc3RydWN0b3IvaS50ZXN0KGYuSFRNTEVsZW1lbnQpfHxmLnNhZmFyaSxpPS9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtpZigoaXx8ZyYmaCkmJlwib2JqZWN0XCI9PXR5cGVvZiBGaWxlUmVhZGVyKXt2YXIgaj1uZXcgRmlsZVJlYWRlcjtqLm9ubG9hZGVuZD1mdW5jdGlvbigpe3ZhciBhPWoucmVzdWx0O2E9aT9hOmEucmVwbGFjZSgvXmRhdGE6W147XSo7LyxcImRhdGE6YXR0YWNobWVudC9maWxlO1wiKSxlP2UubG9jYXRpb24uaHJlZj1hOmxvY2F0aW9uPWEsZT1udWxsfSxqLnJlYWRBc0RhdGFVUkwoYSl9ZWxzZXt2YXIgaz1mLlVSTHx8Zi53ZWJraXRVUkwsbD1rLmNyZWF0ZU9iamVjdFVSTChhKTtlP2UubG9jYXRpb249bDpsb2NhdGlvbi5ocmVmPWwsZT1udWxsLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtrLnJldm9rZU9iamVjdFVSTChsKX0sNEU0KX19KTtmLnNhdmVBcz1hLnNhdmVBcz1hLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz1hKX0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWxlU2F2ZXIubWluLmpzLm1hcCIsICIvKiEgbWluaXJlc2V0LmNzcyB2MC4wLjYgfCBNSVQgTGljZW5zZSB8IGdpdGh1Yi5jb20vamd0aG1zL21pbmlyZXNldC5jc3MgKi9cbmh0bWwsXG5ib2R5LFxucCxcbm9sLFxudWwsXG5saSxcbmRsLFxuZHQsXG5kZCxcbmJsb2NrcXVvdGUsXG5maWd1cmUsXG5maWVsZHNldCxcbmxlZ2VuZCxcbnRleHRhcmVhLFxucHJlLFxuaWZyYW1lLFxuaHIsXG5oMSxcbmgyLFxuaDMsXG5oNCxcbmg1LFxuaDYge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG59XG5oMSxcbmgyLFxuaDMsXG5oNCxcbmg1LFxuaDYge1xuICBmb250LXNpemU6IDEwMCU7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG59XG51bCB7XG4gIGxpc3Qtc3R5bGU6IG5vbmU7XG59XG5idXR0b24sXG5pbnB1dCxcbnNlbGVjdCxcbnRleHRhcmVhIHtcbiAgbWFyZ2luOiAwO1xufVxuaHRtbCB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG4qLFxuKjo6YmVmb3JlLFxuKjo6YWZ0ZXIge1xuICBib3gtc2l6aW5nOiBpbmhlcml0O1xufVxuXG5pZnJhbWUge1xuICBib3JkZXI6IDA7XG59XG5cbkBpbXBvcnQgdXJsKFwiaHR0cHM6Ly9yc21zLm1lL2ludGVyL2ludGVyLmNzc1wiKTtcblxuYm9keSB7XG4gIC0tcGFkZGluZy1zbWFsbDogNnB4O1xuICAtLXBhZGRpbmctbWVkaXVtOiAxMnB4O1xuICAtLXBhZGRpbmctbGFyZ2U6IDI0cHg7XG4gIC0tcGFkZGluZy1odWdlOiA0OHB4O1xuXG4gIC0tYm9yZGVyLXJhZGl1cy1zbWFsbDogM3B4O1xuICAtLWJvcmRlci1yYWRpdXMtbWVkaXVtOiA2cHg7XG4gIC0tYm9yZGVyLXJhZGl1cy1sYXJnZTogMTJweDtcblxuICAtLWNvbG91cnMtZ3JleS0wOiByZ2IoMzMsIDMzLCAzMyk7XG4gIC0tY29sb3Vycy1ncmV5LTE6IHJnYig3NCwgNzQsIDc0KTtcbiAgLS1jb2xvdXJzLWdyZXktMjogcmdiKDEzMywgMTMzLCAxMzMpO1xuICAtLWNvbG91cnMtZ3JleS0zOiByZ2IoMTc5LCAxNzksIDE3OSk7XG4gIC0tY29sb3Vycy1ncmV5LTQ6IHJnYigyMjcsIDIyNywgMjI3KTtcbiAgLS1jb2xvdXJzLWdyZXktNTogcmdiKDI0NSwgMjQ1LCAyNDUpO1xuICAtLWNvbG91cnMtbWFpbjogcmdiKDcyLCAyMDIsIDEyNik7XG4gIC0tY29sb3Vycy1tYWluLWxpZ2h0OiByZ2IoMjA4LCAyNDIsIDIyMik7XG4gIC0tY29sb3Vycy1tYWluLWRhcms6IHJnYig0NCwgNzUsIDU3KTtcbiAgLS1jb2xvdXJzLXdhcm5pbmc6IHJnYigyNTUsIDI0MiwgMTc1KTtcblxuICAtLWZvbnQtZmFtaWx5LXNhbnMtc2VyaWY6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG4gIC0tZm9udC1mYW1haWx0LXNlcmlmOiBHZW9yZ2lhLCBcIlRpbWVzIE5ldyBSb21hblwiLCBUaW1lcywgc2VyaWY7XG5cbiAgLS1mb250LXNpemUtLXNtYWxsOiAxMXB4O1xuICAtLWZvbnQtc2l6ZS0tbWVkaXVtOiAxNHB4O1xuICAtLWZvbnQtc2l6ZS0tbGFyZ2U6IDE4cHg7XG59XG5cbmh0bWwge1xuICBmb250LWZhbWlseTogXCJJbnRlclwiLCBzYW5zLXNlcmlmO1xufVxuQHN1cHBvcnRzIChmb250LXZhcmlhdGlvbi1zZXR0aW5nczogbm9ybWFsKSB7XG4gIGh0bWwge1xuICAgIGZvbnQtZmFtaWx5OiBcIkludGVyIHZhclwiLCBzYW5zLXNlcmlmO1xuICB9XG59XG5cbmh0bWwsXG5ib2R5IHtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbmJ1dHRvbiB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKSB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cy1zbWFsbCwgMCk7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuXG4gIGJhY2tncm91bmQ6IHZhcigtLWNvbG91cnMtbWFpbiwgI2YwZik7XG59XG5cbi5idG4tLXByaW1hcnkge1xuICBjb2xvcjogI2ZmZjtcbiAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Vycy1tYWluLCAjZjBmKTtcbn1cblxuLmJ0bi0tc2Vjb25kYXJ5IHtcbiAgY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS0xLCAjZjBmKTtcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktMiwgI2YwZik7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBtYXJnaW4tcmlnaHQ6IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xufVxuXG5idXR0b246ZGlzYWJsZWQge1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZik7XG4gIGNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZik7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG59XG5cbmJ1dHRvbjphY3RpdmUsXG5idXR0b246aG92ZXIge1xuICBvdXRsaW5lOiBub25lO1xufVxuXG4uZjJoIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4vKiBbSGVhZGVyXSAqL1xuLmYyaF9faGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCkgdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U0ZTRlNDtcbiAgYmFja2dyb3VuZDogI2Y5ZjlmOTtcbn1cbi5mMmhfX25hdiB7XG4gIGZsZXg6IDE7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG59XG5cbi5mMmhfX3RpdGxlIHtcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtZmFtaWx5LXNhbnMtc2VyaWYsIHNhbnMtc2VyaWYpO1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tbWVkaXVtLCAxZW0pO1xufVxuLmYyaF9faW5mbyB7XG4gIG1hcmdpbi1sZWZ0OiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG1heC13aWR0aDogNjAlO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuLmYyaF9faW5mb190aXRsZSB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xufVxuXG4uZjJoX19pbmZvX21ldGEge1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tbWVkaXVtLCAxZW0pO1xuICBwYWRkaW5nLWxlZnQ6IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xuICBtYXJnaW4tbGVmdDogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpO1xufVxuLmYyaF9faW5mb19yZXNwb25zaXZlLS1ubyB7XG4gIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xufVxuLmYyaF9fc3ZnX29wdGltaXNlIHtcbiAgbWFyZ2luLWxlZnQ6IHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbiAgcGFkZGluZy1sZWZ0OiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZik7XG59XG4uZjJoX19zdmdfb3B0aW1pc2Ugc3BhbiB7XG4gIHBhZGRpbmctbGVmdDogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG59XG5cbi5mMmhfX2JvZHkge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLWxhcmdlLCAwKSB2YXIoLS1wYWRkaW5nLWh1Z2UsIDApO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktNSwgI2YwZik7XG59XG5cbi5mMmhfX3ZlcnNpb24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIHJpZ2h0OiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS0zLCAjZjBmKTtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLXNtYWxsLCAxZW0pO1xuICBmb250LWZhbWlseTogdmFyKC0tZm9udC1mYW1pbHktc2Fucy1zZXJpZiwgc2Fucy1zZXJpZik7XG59XG5cbi8qIFsgRnJhbWUgc2VsZWN0aW9uIGFuZCBGb3JtIF0gKi9cbi5mMmhfX2Nob29zZV9mcmFtZXMge1xuICBtaW4td2lkdGg6IDUwJTtcbn1cbi5mMmhfX2luZm9fZm9ybSB7XG4gIG1hcmdpbi1ib3R0b206IHZhcigtLXBhZGRpbmctbGFyZ2UsIDApO1xufVxuLmYyaF9faW5mb19mb3JtX19pdGVtIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWFyZ2luLWJvdHRvbTogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xufVxuLmYyaF9faW5mb19mb3JtX19sYWJlbCB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1zbWFsbCwgMWVtKTtcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtZmFtaWx5LXNhbnMtc2VyaWYsIHNhbnMtc2VyaWYpO1xufVxuLmYyaF9faW5mb19mb3JtX19pbnB1dCB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1tZWRpdW0sIDFlbSk7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWZhbWlseS1zYW5zLXNlcmlmLCBzYW5zLXNlcmlmKTtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCkgdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xufVxuXG4uZjJoX19mcmFtZV9zZWxlY3Rpb24ge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciBtaW4tY29udGVudDtcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvO1xuICBtaW4td2lkdGg6IDMyMHB4O1xuICBncmlkLWdhcDogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCkgdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uZjJoX19zZWxfaGVhZGVyIHtcbiAgY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS0wLCAjZjBmKTtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLW1lZGl1bSk7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1jb2xvdXJzLWdyZXktMCk7XG4gIHBhZGRpbmctYm90dG9tOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbn1cblxuLmYyaF9fc2VsX2hlYWRlci0tbmFtZSB7XG4gIGdyaWQtY29sdW1uOiAxLzI7XG4gIGdyaWQtcm93OiAxLzI7XG59XG5cbi5mMmhfX3NlbF9oZWFkZXItLXJlc3BvbnNpdmUge1xuICBncmlkLWNvbHVtbjogMi8zO1xuICBncmlkLXJvdzogMS8yO1xuICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLmYyaF9fbGFiZWwuZjJoX19sYWJlbC0tbmFtZSB7XG4gIGdyaWQtY29sdW1uOiAxLzI7XG4gIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcbn1cbi5mMmhfX2xhYmVsLS1uYW1lLXRleHQge1xuICBtYXgtd2lkdGg6IDcwJTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG5cbi5mMmhfX2lucHV0LS1yZXNwb25zaXZlIHtcbiAgZ3JpZC1jb2x1bW46IDIvMztcbiAganVzdGlmeS1zZWxmOiBjZW50ZXI7XG4gIG1hcmdpbjogMDtcbn1cblxuLmYyaF9fbGFiZWwge1xuICBkaXNwbGF5OiBmbGV4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctc21hbGwpIDA7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1pbi13aWR0aDogMDtcbn1cblxuLmYyaF9fc2VsX3dpZHRoIHtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLXNtYWxsLCAxZW0pO1xuICBjb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTMsICNmMGYpO1xuICBwYWRkaW5nLWxlZnQ6IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4uZjJoX19jaGVja2JveCxcbi5mMmhfX3JhZGlvX2J0biB7XG4gIG1hcmdpbi1yaWdodDogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xufVxuXG4uZjJoX19zZWxlY3Rpb25fd2lkdGgge1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tc21hbGwsIDEpO1xuICBtYXJnaW46IDAgdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBjb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTIsICNmMGYpO1xufVxuXG4vKiBbUHJldmlld10gICovXG4uZjJoX19wcmV2aWV3IHtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xufVxuLmYyaF9fcHJldmlld190aXRsZSB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1tZWRpdW0sIDEpO1xuICBtYXJnaW46IHZhcigtLXBhZGRpbmctc21hbGwsIDApIDA7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG4uZjJoX19wcmV2aWV3X25hbWUge1xuICBmbGV4OiAxO1xufVxuXG4uZjJoX19wcmV2aWV3X2lubmVyIHtcbiAgb3ZlcmZsb3c6IGF1dG87XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG4gIG1heC13aWR0aDogMTAwJTtcbiAgbWFyZ2luOiBhdXRvO1xufVxuLmYyaF9fcHJldmlld19pbm5lci0tc2NhbGVkIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLmYyaF9fcHJldmlld193cmFwcGVyIHtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmYyaF9fcHJldmlld19yZXNwb25zaXZlLFxuLmYyaF9fcHJldmlld193aWR0aCB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1zbWFsbCwgMSk7XG4gIGNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktMywgI2YwZik7XG4gIHBhZGRpbmctbGVmdDogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG59XG5cbi5mMmhfX25vdGljZS0td2FybmluZyB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWNvbG91cnMtd2FybmluZywgI2YwZik7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctc21hbGwsIDApIHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbiAgbWFyZ2luOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKSAwO1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tbWVkaXVtLCAxZW0pO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzLW1lZGl1bSwgMCk7XG59XG5cbi5mMmhfX25vdGljZS0tZXJyb3Ige1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgYmFja2dyb3VuZDogI2ZmZWRlZDtcbiAgY29sb3I6ICNhNzBmMGY7XG59XG5cbi8qIFtSZW5kZXJdICovXG4uZjJoX19yZW5kZXIge1xuICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDtcbn1cblxuLmYyaF9fcmVuZGVyLS1yZXNwb25zaXZlIHN2ZyB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uZXJyb3Ige1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktNSwgI2YwZik7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMtc21hbGwsIDApO1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCkgdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS0wLCAjZjBmKTtcbiAgbWFyZ2luOiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCkgMDtcbiAgZmxleDogMTtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xufVxuXG4vKiBbU2F2ZV0gKi9cbi5mMmhfX3NhdmUge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB3aWR0aDogMTAwJTtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xuICBtYXgtd2lkdGg6IDgwMHB4O1xufVxuXG4uZjJoX19zYXZlX2J0biB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1sYXJnZSwgMWVtKTtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMtc21hbGwsIDApO1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG4gIG1hcmdpbi1yaWdodDogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xuICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tY29sb3Vycy1tYWluLWRhcmssICNmMGYpO1xuICBib3JkZXItdG9wOiAzcHggc29saWQgdHJhbnNwYXJlbnQ7XG59XG4uZjJoX19zYXZlX2J0bjpob3ZlciB7XG4gIGJvcmRlci10b3A6IDA7XG4gIGJvcmRlci1ib3R0b20td2lkdGg6IDVweDtcbiAgYm94LXNoYWRvdzogMCA0cHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbn1cbi5mMmhfX3NhdmVfYnRuOmFjdGl2ZSB7XG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1jb2xvdXJzLW1haW4tZGFyaywgI2YwZik7XG4gIGJvcmRlci10b3A6IDNweCBzb2xpZCB0cmFuc3BhcmVudDtcbn1cblxuLmYyaF9fc2F2ZV9idG46bGFzdC1vZi10eXBlIHtcbiAgbWFyZ2luOiAwO1xufVxuXG4uZjJoX19zYXZlX29wdGlvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLmYyaF9fc2F2ZV9fc3ViaGVhZCB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1tZWRpdW0sIDEpO1xuICBtYXJnaW46IHZhcigtLXBhZGRpbmctbGFyZ2UsIDApIDAgdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIHBhZGRpbmctYm90dG9tOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKTtcbn1cblxuLmYyaF9fc2F2ZV9hZHZhbmNlZCB7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMC4xcztcbn1cbi5mMmhfX3NhdmVfYWR2YW5jZWQtLW9wZW4ge1xuICBvcGFjaXR5OiAxO1xufVxuXG4uZjJoX19zYXZlX2FkdmFuY2VkLWhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5cbi5mMmhfX3NhdmVfYWR2YW5jZWRfdGl0bGUge1xuICBmbGV4OiAxO1xufVxuXG4uZjJoX19zYXZlX2FkdmFuY2VkX3Nob3cge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY29sb3Vycy1ncmV5LTMsICNmMGYpO1xufVxuXG4uZjJoX19zYXZlX19yYXcge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKTtcbiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcbiAgZm9udC1zaXplOiAxMXB4O1xuICBtaW4taGVpZ2h0OiAxNTBweDtcbiAgbWF4LWhlaWdodDogMzAwcHg7XG59XG5cbi8qIFJlc2l6ZSB3aWRnZXQgKi9cbi5mMmhfX3Jlc2l6ZXIge1xuICB3aWR0aDogMzJweDtcbiAgaGVpZ2h0OiAzMnB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogNnB4O1xuICByaWdodDogNnB4O1xuICBjdXJzb3I6IGdyYWJiaW5nO1xuICBiYWNrZ3JvdW5kOiByZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KFxuICAgIC00NWRlZyxcbiAgICAjZDJkMmQyLFxuICAgICNkMmQyZDIgMnB4LFxuICAgIHRyYW5zcGFyZW50IDFweCxcbiAgICB0cmFuc3BhcmVudCA4cHhcbiAgKTtcbiAgYm9yZGVyLXJhZGl1czogMTAwJSAwIDA7XG59XG5cbi5mMmhfX3RvYXN0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTEsICNmMGYpO1xuICBjb2xvcjogI2ZmZjtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cy1zbWFsbCwgMCk7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzLCBvcGFjaXR5IDAuM3MgMC4xcztcbiAgb3BhY2l0eTogMDtcbn1cblxuLmYyaF9fdG9hc3QtLW9wZW4ge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtMTAwJSk7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi8qIFtSZXNwb25zaXZlIHByZXZpZXddICovXG4uZjJoX19yZXNwb25zaXZlX3ByZXZpZXcge1xuICAvKiB3aWR0aDogMzAwcHg7ICovXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbn1cblxuLmYyaF9fcmVzcG9uc2l2ZV9fd3JhcHBlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHdpZHRoOiA1MDBweDtcbn1cblxuLmYyaF9fcnVsZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcbn1cbi5mMmhfX3J1bGVyX2JyZWFrIHtcbiAgaGVpZ2h0OiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMTBweCk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKTtcbiAgYm9yZGVyOiAycHggc29saWQgI2ZmZjtcbiAgZ3JpZC1yb3c6IDEvMjtcbiAgZ3JpZC1jb2x1bW46IDEvMjtcbiAgYm9yZGVyLXRvcDogbm9uZTtcbiAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbn1cbi5mMmhfX3J1bGVyX2JyZWFrLS0wIHtcbiAgd2lkdGg6IDMyMHB4O1xuICB6LWluZGV4OiAzO1xufVxuLmYyaF9fcnVsZXJfYnJlYWstLTEge1xuICB3aWR0aDogNDUwcHg7XG4gIHotaW5kZXg6IDI7XG59XG4uZjJoX19ydWxlcl9icmVhay0tMiB7XG4gIHdpZHRoOiA2NDBweDtcbiAgei1pbmRleDogMTtcbn1cblxuLmYyaF9fcmVzcG9uc2l2ZV9fc2FuZGJveCB7XG4gIHJlc2l6ZTogYm90aDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgb3V0bGluZTogMXB4IHNvbGlkIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKTtcbiAgbWFyZ2luOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKSAwO1xuXG4gIC8qIGh0dHBzOi8vbGVhdmVyb3UuZ2l0aHViLmlvL2NzczNwYXR0ZXJucy8jY2hlY2tlcmJvYXJkICovXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcbiAgICAgIDQ1ZGVnLFxuICAgICAgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpIDI1JSxcbiAgICAgIHRyYW5zcGFyZW50IDI1JSxcbiAgICAgIHRyYW5zcGFyZW50IDc1JSxcbiAgICAgIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKSA3NSUsXG4gICAgICB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZilcbiAgICApLFxuICAgIGxpbmVhci1ncmFkaWVudChcbiAgICAgIDQ1ZGVnLFxuICAgICAgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpIDI1JSxcbiAgICAgIHRyYW5zcGFyZW50IDI1JSxcbiAgICAgIHRyYW5zcGFyZW50IDc1JSxcbiAgICAgIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKSA3NSUsXG4gICAgICB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZilcbiAgICApO1xuICBiYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwLCAxMHB4IDEwcHg7XG59XG4iLCAidmFyIG4sbCx1LGksdCxvLHIsZixlPXt9LGM9W10sYT0vYWNpdHxleCg/OnN8Z3xufHB8JCl8cnBofGdyaWR8b3dzfG1uY3xudHd8aW5lW2NoXXx6b298Xm9yZHxpdGVyYS9pO2Z1bmN0aW9uIHMobixsKXtmb3IodmFyIHUgaW4gbCluW3VdPWxbdV07cmV0dXJuIG59ZnVuY3Rpb24gdihuKXt2YXIgbD1uLnBhcmVudE5vZGU7bCYmbC5yZW1vdmVDaGlsZChuKX1mdW5jdGlvbiBoKG4sbCx1KXt2YXIgaSx0PWFyZ3VtZW50cyxvPXt9O2ZvcihpIGluIGwpXCJrZXlcIiE9PWkmJlwicmVmXCIhPT1pJiYob1tpXT1sW2ldKTtpZihhcmd1bWVudHMubGVuZ3RoPjMpZm9yKHU9W3VdLGk9MztpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXUucHVzaCh0W2ldKTtpZihudWxsIT11JiYoby5jaGlsZHJlbj11KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZudWxsIT1uLmRlZmF1bHRQcm9wcylmb3IoaSBpbiBuLmRlZmF1bHRQcm9wcyl2b2lkIDA9PT1vW2ldJiYob1tpXT1uLmRlZmF1bHRQcm9wc1tpXSk7cmV0dXJuIHkobixvLGwmJmwua2V5LGwmJmwucmVmLG51bGwpfWZ1bmN0aW9uIHkobCx1LGksdCxvKXt2YXIgcj17dHlwZTpsLHByb3BzOnUsa2V5OmkscmVmOnQsX19rOm51bGwsX186bnVsbCxfX2I6MCxfX2U6bnVsbCxfX2Q6dm9pZCAwLF9fYzpudWxsLGNvbnN0cnVjdG9yOnZvaWQgMCxfX3Y6b307cmV0dXJuIG51bGw9PW8mJihyLl9fdj1yKSxuLnZub2RlJiZuLnZub2RlKHIpLHJ9ZnVuY3Rpb24gcCgpe3JldHVybnt9fWZ1bmN0aW9uIGQobil7cmV0dXJuIG4uY2hpbGRyZW59ZnVuY3Rpb24gbShuLGwpe3RoaXMucHJvcHM9bix0aGlzLmNvbnRleHQ9bH1mdW5jdGlvbiB3KG4sbCl7aWYobnVsbD09bClyZXR1cm4gbi5fXz93KG4uX18sbi5fXy5fX2suaW5kZXhPZihuKSsxKTpudWxsO2Zvcih2YXIgdTtsPG4uX19rLmxlbmd0aDtsKyspaWYobnVsbCE9KHU9bi5fX2tbbF0pJiZudWxsIT11Ll9fZSlyZXR1cm4gdS5fX2U7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbi50eXBlP3cobik6bnVsbH1mdW5jdGlvbiBrKG4pe3ZhciBsLHU7aWYobnVsbCE9KG49bi5fXykmJm51bGwhPW4uX19jKXtmb3Iobi5fX2U9bi5fX2MuYmFzZT1udWxsLGw9MDtsPG4uX19rLmxlbmd0aDtsKyspaWYobnVsbCE9KHU9bi5fX2tbbF0pJiZudWxsIT11Ll9fZSl7bi5fX2U9bi5fX2MuYmFzZT11Ll9fZTticmVha31yZXR1cm4gayhuKX19ZnVuY3Rpb24gZyhsKXsoIWwuX19kJiYobC5fX2Q9ITApJiZ1LnB1c2gobCkmJiFpKyt8fG8hPT1uLmRlYm91bmNlUmVuZGVyaW5nKSYmKChvPW4uZGVib3VuY2VSZW5kZXJpbmcpfHx0KShfKX1mdW5jdGlvbiBfKCl7Zm9yKHZhciBuO2k9dS5sZW5ndGg7KW49dS5zb3J0KGZ1bmN0aW9uKG4sbCl7cmV0dXJuIG4uX192Ll9fYi1sLl9fdi5fX2J9KSx1PVtdLG4uc29tZShmdW5jdGlvbihuKXt2YXIgbCx1LGksdCxvLHIsZjtuLl9fZCYmKHI9KG89KGw9bikuX192KS5fX2UsKGY9bC5fX1ApJiYodT1bXSwoaT1zKHt9LG8pKS5fX3Y9aSx0PXooZixvLGksbC5fX24sdm9pZCAwIT09Zi5vd25lclNWR0VsZW1lbnQsbnVsbCx1LG51bGw9PXI/dyhvKTpyKSxUKHUsbyksdCE9ciYmayhvKSkpfSl9ZnVuY3Rpb24gYihuLGwsdSxpLHQsbyxyLGYsYSxzKXt2YXIgaCxwLG0sayxnLF8sYix4LEEsUD1pJiZpLl9fa3x8YyxDPVAubGVuZ3RoO2ZvcihhPT1lJiYoYT1udWxsIT1yP3JbMF06Qz93KGksMCk6bnVsbCksdS5fX2s9W10saD0wO2g8bC5sZW5ndGg7aCsrKWlmKG51bGwhPShrPXUuX19rW2hdPW51bGw9PShrPWxbaF0pfHxcImJvb2xlYW5cIj09dHlwZW9mIGs/bnVsbDpcInN0cmluZ1wiPT10eXBlb2Yga3x8XCJudW1iZXJcIj09dHlwZW9mIGs/eShudWxsLGssbnVsbCxudWxsLGspOkFycmF5LmlzQXJyYXkoayk/eShkLHtjaGlsZHJlbjprfSxudWxsLG51bGwsbnVsbCk6bnVsbCE9ay5fX2V8fG51bGwhPWsuX19jP3koay50eXBlLGsucHJvcHMsay5rZXksbnVsbCxrLl9fdik6aykpe2lmKGsuX189dSxrLl9fYj11Ll9fYisxLG51bGw9PT0obT1QW2hdKXx8bSYmay5rZXk9PW0ua2V5JiZrLnR5cGU9PT1tLnR5cGUpUFtoXT12b2lkIDA7ZWxzZSBmb3IocD0wO3A8QztwKyspe2lmKChtPVBbcF0pJiZrLmtleT09bS5rZXkmJmsudHlwZT09PW0udHlwZSl7UFtwXT12b2lkIDA7YnJlYWt9bT1udWxsfWlmKGc9eihuLGssbT1tfHxlLHQsbyxyLGYsYSxzKSwocD1rLnJlZikmJm0ucmVmIT1wJiYoeHx8KHg9W10pLG0ucmVmJiZ4LnB1c2gobS5yZWYsbnVsbCxrKSx4LnB1c2gocCxrLl9fY3x8ZyxrKSksbnVsbCE9Zyl7aWYobnVsbD09YiYmKGI9ZyksQT12b2lkIDAsdm9pZCAwIT09ay5fX2QpQT1rLl9fZCxrLl9fZD12b2lkIDA7ZWxzZSBpZihyPT1tfHxnIT1hfHxudWxsPT1nLnBhcmVudE5vZGUpe246aWYobnVsbD09YXx8YS5wYXJlbnROb2RlIT09biluLmFwcGVuZENoaWxkKGcpLEE9bnVsbDtlbHNle2ZvcihfPWEscD0wOyhfPV8ubmV4dFNpYmxpbmcpJiZwPEM7cCs9MilpZihfPT1nKWJyZWFrIG47bi5pbnNlcnRCZWZvcmUoZyxhKSxBPWF9XCJvcHRpb25cIj09dS50eXBlJiYobi52YWx1ZT1cIlwiKX1hPXZvaWQgMCE9PUE/QTpnLm5leHRTaWJsaW5nLFwiZnVuY3Rpb25cIj09dHlwZW9mIHUudHlwZSYmKHUuX19kPWEpfWVsc2UgYSYmbS5fX2U9PWEmJmEucGFyZW50Tm9kZSE9biYmKGE9dyhtKSl9aWYodS5fX2U9YixudWxsIT1yJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB1LnR5cGUpZm9yKGg9ci5sZW5ndGg7aC0tOyludWxsIT1yW2hdJiZ2KHJbaF0pO2ZvcihoPUM7aC0tOyludWxsIT1QW2hdJiZEKFBbaF0sUFtoXSk7aWYoeClmb3IoaD0wO2g8eC5sZW5ndGg7aCsrKWooeFtoXSx4WysraF0seFsrK2hdKX1mdW5jdGlvbiB4KG4pe3JldHVybiBudWxsPT1ufHxcImJvb2xlYW5cIj09dHlwZW9mIG4/W106QXJyYXkuaXNBcnJheShuKT9jLmNvbmNhdC5hcHBseShbXSxuLm1hcCh4KSk6W25dfWZ1bmN0aW9uIEEobixsLHUsaSx0KXt2YXIgbztmb3IobyBpbiB1KVwiY2hpbGRyZW5cIj09PW98fFwia2V5XCI9PT1vfHxvIGluIGx8fEMobixvLG51bGwsdVtvXSxpKTtmb3IobyBpbiBsKXQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGxbb118fFwiY2hpbGRyZW5cIj09PW98fFwia2V5XCI9PT1vfHxcInZhbHVlXCI9PT1vfHxcImNoZWNrZWRcIj09PW98fHVbb109PT1sW29dfHxDKG4sbyxsW29dLHVbb10saSl9ZnVuY3Rpb24gUChuLGwsdSl7XCItXCI9PT1sWzBdP24uc2V0UHJvcGVydHkobCx1KTpuW2xdPVwibnVtYmVyXCI9PXR5cGVvZiB1JiYhMT09PWEudGVzdChsKT91K1wicHhcIjpudWxsPT11P1wiXCI6dX1mdW5jdGlvbiBDKG4sbCx1LGksdCl7dmFyIG8scixmLGUsYztpZih0P1wiY2xhc3NOYW1lXCI9PT1sJiYobD1cImNsYXNzXCIpOlwiY2xhc3NcIj09PWwmJihsPVwiY2xhc3NOYW1lXCIpLFwic3R5bGVcIj09PWwpaWYobz1uLnN0eWxlLFwic3RyaW5nXCI9PXR5cGVvZiB1KW8uY3NzVGV4dD11O2Vsc2V7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkmJihvLmNzc1RleHQ9XCJcIixpPW51bGwpLGkpZm9yKGUgaW4gaSl1JiZlIGluIHV8fFAobyxlLFwiXCIpO2lmKHUpZm9yKGMgaW4gdSlpJiZ1W2NdPT09aVtjXXx8UChvLGMsdVtjXSl9ZWxzZVwib1wiPT09bFswXSYmXCJuXCI9PT1sWzFdPyhyPWwhPT0obD1sLnJlcGxhY2UoL0NhcHR1cmUkLyxcIlwiKSksZj1sLnRvTG93ZXJDYXNlKCksbD0oZiBpbiBuP2Y6bCkuc2xpY2UoMiksdT8oaXx8bi5hZGRFdmVudExpc3RlbmVyKGwsTixyKSwobi5sfHwobi5sPXt9KSlbbF09dSk6bi5yZW1vdmVFdmVudExpc3RlbmVyKGwsTixyKSk6XCJsaXN0XCIhPT1sJiZcInRhZ05hbWVcIiE9PWwmJlwiZm9ybVwiIT09bCYmXCJ0eXBlXCIhPT1sJiZcInNpemVcIiE9PWwmJiF0JiZsIGluIG4/bltsXT1udWxsPT11P1wiXCI6dTpcImZ1bmN0aW9uXCIhPXR5cGVvZiB1JiZcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCIhPT1sJiYobCE9PShsPWwucmVwbGFjZSgvXnhsaW5rOj8vLFwiXCIpKT9udWxsPT11fHwhMT09PXU/bi5yZW1vdmVBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixsLnRvTG93ZXJDYXNlKCkpOm4uc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsbC50b0xvd2VyQ2FzZSgpLHUpOm51bGw9PXV8fCExPT09dSYmIS9eYXIvLnRlc3QobCk/bi5yZW1vdmVBdHRyaWJ1dGUobCk6bi5zZXRBdHRyaWJ1dGUobCx1KSl9ZnVuY3Rpb24gTihsKXt0aGlzLmxbbC50eXBlXShuLmV2ZW50P24uZXZlbnQobCk6bCl9ZnVuY3Rpb24geihsLHUsaSx0LG8scixmLGUsYyl7dmFyIGEsdixoLHkscCx3LGssZyxfLHgsQSxQPXUudHlwZTtpZih2b2lkIDAhPT11LmNvbnN0cnVjdG9yKXJldHVybiBudWxsOyhhPW4uX19iKSYmYSh1KTt0cnl7bjppZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQKXtpZihnPXUucHJvcHMsXz0oYT1QLmNvbnRleHRUeXBlKSYmdFthLl9fY10seD1hP18/Xy5wcm9wcy52YWx1ZTphLl9fOnQsaS5fX2M/az0odj11Ll9fYz1pLl9fYykuX189di5fX0U6KFwicHJvdG90eXBlXCJpbiBQJiZQLnByb3RvdHlwZS5yZW5kZXI/dS5fX2M9dj1uZXcgUChnLHgpOih1Ll9fYz12PW5ldyBtKGcseCksdi5jb25zdHJ1Y3Rvcj1QLHYucmVuZGVyPUUpLF8mJl8uc3ViKHYpLHYucHJvcHM9Zyx2LnN0YXRlfHwodi5zdGF0ZT17fSksdi5jb250ZXh0PXgsdi5fX249dCxoPXYuX19kPSEwLHYuX19oPVtdKSxudWxsPT12Ll9fcyYmKHYuX19zPXYuc3RhdGUpLG51bGwhPVAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiYodi5fX3M9PXYuc3RhdGUmJih2Ll9fcz1zKHt9LHYuX19zKSkscyh2Ll9fcyxQLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhnLHYuX19zKSkpLHk9di5wcm9wcyxwPXYuc3RhdGUsaCludWxsPT1QLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmbnVsbCE9di5jb21wb25lbnRXaWxsTW91bnQmJnYuY29tcG9uZW50V2lsbE1vdW50KCksbnVsbCE9di5jb21wb25lbnREaWRNb3VudCYmdi5fX2gucHVzaCh2LmNvbXBvbmVudERpZE1vdW50KTtlbHNle2lmKG51bGw9PVAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZnIT09eSYmbnVsbCE9di5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZ2LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoZyx4KSwhdi5fX2UmJm51bGwhPXYuc2hvdWxkQ29tcG9uZW50VXBkYXRlJiYhMT09PXYuc2hvdWxkQ29tcG9uZW50VXBkYXRlKGcsdi5fX3MseCl8fHUuX192PT09aS5fX3Ype2Zvcih2LnByb3BzPWcsdi5zdGF0ZT12Ll9fcyx1Ll9fdiE9PWkuX192JiYodi5fX2Q9ITEpLHYuX192PXUsdS5fX2U9aS5fX2UsdS5fX2s9aS5fX2ssdi5fX2gubGVuZ3RoJiZmLnB1c2godiksYT0wO2E8dS5fX2subGVuZ3RoO2ErKyl1Ll9fa1thXSYmKHUuX19rW2FdLl9fPXUpO2JyZWFrIG59bnVsbCE9di5jb21wb25lbnRXaWxsVXBkYXRlJiZ2LmNvbXBvbmVudFdpbGxVcGRhdGUoZyx2Ll9fcyx4KSxudWxsIT12LmNvbXBvbmVudERpZFVwZGF0ZSYmdi5fX2gucHVzaChmdW5jdGlvbigpe3YuY29tcG9uZW50RGlkVXBkYXRlKHkscCx3KX0pfXYuY29udGV4dD14LHYucHJvcHM9Zyx2LnN0YXRlPXYuX19zLChhPW4uX19yKSYmYSh1KSx2Ll9fZD0hMSx2Ll9fdj11LHYuX19QPWwsYT12LnJlbmRlcih2LnByb3BzLHYuc3RhdGUsdi5jb250ZXh0KSxudWxsIT12LmdldENoaWxkQ29udGV4dCYmKHQ9cyhzKHt9LHQpLHYuZ2V0Q2hpbGRDb250ZXh0KCkpKSxofHxudWxsPT12LmdldFNuYXBzaG90QmVmb3JlVXBkYXRlfHwodz12LmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHkscCkpLEE9bnVsbCE9YSYmYS50eXBlPT1kJiZudWxsPT1hLmtleT9hLnByb3BzLmNoaWxkcmVuOmEsYihsLEFycmF5LmlzQXJyYXkoQSk/QTpbQV0sdSxpLHQsbyxyLGYsZSxjKSx2LmJhc2U9dS5fX2Usdi5fX2gubGVuZ3RoJiZmLnB1c2godiksayYmKHYuX19FPXYuX189bnVsbCksdi5fX2U9ITF9ZWxzZSBudWxsPT1yJiZ1Ll9fdj09PWkuX192Pyh1Ll9faz1pLl9fayx1Ll9fZT1pLl9fZSk6dS5fX2U9JChpLl9fZSx1LGksdCxvLHIsZixjKTsoYT1uLmRpZmZlZCkmJmEodSl9Y2F0Y2gobCl7dS5fX3Y9bnVsbCxuLl9fZShsLHUsaSl9cmV0dXJuIHUuX19lfWZ1bmN0aW9uIFQobCx1KXtuLl9fYyYmbi5fX2ModSxsKSxsLnNvbWUoZnVuY3Rpb24odSl7dHJ5e2w9dS5fX2gsdS5fX2g9W10sbC5zb21lKGZ1bmN0aW9uKG4pe24uY2FsbCh1KX0pfWNhdGNoKGwpe24uX19lKGwsdS5fX3YpfX0pfWZ1bmN0aW9uICQobixsLHUsaSx0LG8scixmKXt2YXIgYSxzLHYsaCx5LHA9dS5wcm9wcyxkPWwucHJvcHM7aWYodD1cInN2Z1wiPT09bC50eXBlfHx0LG51bGwhPW8pZm9yKGE9MDthPG8ubGVuZ3RoO2ErKylpZihudWxsIT0ocz1vW2FdKSYmKChudWxsPT09bC50eXBlPzM9PT1zLm5vZGVUeXBlOnMubG9jYWxOYW1lPT09bC50eXBlKXx8bj09cykpe249cyxvW2FdPW51bGw7YnJlYWt9aWYobnVsbD09bil7aWYobnVsbD09PWwudHlwZSlyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZCk7bj10P2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsbC50eXBlKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KGwudHlwZSxkLmlzJiZ7aXM6ZC5pc30pLG89bnVsbCxmPSExfWlmKG51bGw9PT1sLnR5cGUpcCE9PWQmJm4uZGF0YSE9ZCYmKG4uZGF0YT1kKTtlbHNle2lmKG51bGwhPW8mJihvPWMuc2xpY2UuY2FsbChuLmNoaWxkTm9kZXMpKSx2PShwPXUucHJvcHN8fGUpLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLGg9ZC5kYW5nZXJvdXNseVNldElubmVySFRNTCwhZil7aWYobnVsbCE9bylmb3IocD17fSx5PTA7eTxuLmF0dHJpYnV0ZXMubGVuZ3RoO3krKylwW24uYXR0cmlidXRlc1t5XS5uYW1lXT1uLmF0dHJpYnV0ZXNbeV0udmFsdWU7KGh8fHYpJiYoaCYmdiYmaC5fX2h0bWw9PXYuX19odG1sfHwobi5pbm5lckhUTUw9aCYmaC5fX2h0bWx8fFwiXCIpKX1BKG4sZCxwLHQsZiksaD9sLl9faz1bXTooYT1sLnByb3BzLmNoaWxkcmVuLGIobixBcnJheS5pc0FycmF5KGEpP2E6W2FdLGwsdSxpLFwiZm9yZWlnbk9iamVjdFwiIT09bC50eXBlJiZ0LG8scixlLGYpKSxmfHwoXCJ2YWx1ZVwiaW4gZCYmdm9pZCAwIT09KGE9ZC52YWx1ZSkmJmEhPT1uLnZhbHVlJiZDKG4sXCJ2YWx1ZVwiLGEscC52YWx1ZSwhMSksXCJjaGVja2VkXCJpbiBkJiZ2b2lkIDAhPT0oYT1kLmNoZWNrZWQpJiZhIT09bi5jaGVja2VkJiZDKG4sXCJjaGVja2VkXCIsYSxwLmNoZWNrZWQsITEpKX1yZXR1cm4gbn1mdW5jdGlvbiBqKGwsdSxpKXt0cnl7XCJmdW5jdGlvblwiPT10eXBlb2YgbD9sKHUpOmwuY3VycmVudD11fWNhdGNoKGwpe24uX19lKGwsaSl9fWZ1bmN0aW9uIEQobCx1LGkpe3ZhciB0LG8scjtpZihuLnVubW91bnQmJm4udW5tb3VudChsKSwodD1sLnJlZikmJih0LmN1cnJlbnQmJnQuY3VycmVudCE9PWwuX19lfHxqKHQsbnVsbCx1KSksaXx8XCJmdW5jdGlvblwiPT10eXBlb2YgbC50eXBlfHwoaT1udWxsIT0obz1sLl9fZSkpLGwuX19lPWwuX19kPXZvaWQgMCxudWxsIT0odD1sLl9fYykpe2lmKHQuY29tcG9uZW50V2lsbFVubW91bnQpdHJ5e3QuY29tcG9uZW50V2lsbFVubW91bnQoKX1jYXRjaChsKXtuLl9fZShsLHUpfXQuYmFzZT10Ll9fUD1udWxsfWlmKHQ9bC5fX2spZm9yKHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdJiZEKHRbcl0sdSxpKTtudWxsIT1vJiZ2KG8pfWZ1bmN0aW9uIEUobixsLHUpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yKG4sdSl9ZnVuY3Rpb24gSChsLHUsaSl7dmFyIHQsbyxmO24uX18mJm4uX18obCx1KSxvPSh0PWk9PT1yKT9udWxsOmkmJmkuX19rfHx1Ll9fayxsPWgoZCxudWxsLFtsXSksZj1bXSx6KHUsKHQ/dTppfHx1KS5fX2s9bCxvfHxlLGUsdm9pZCAwIT09dS5vd25lclNWR0VsZW1lbnQsaSYmIXQ/W2ldOm8/bnVsbDp1LmNoaWxkTm9kZXMubGVuZ3RoP2Muc2xpY2UuY2FsbCh1LmNoaWxkTm9kZXMpOm51bGwsZixpfHxlLHQpLFQoZixsKX1mdW5jdGlvbiBJKG4sbCl7SChuLGwscil9ZnVuY3Rpb24gTChuLGwpe3ZhciB1LGk7Zm9yKGkgaW4gbD1zKHMoe30sbi5wcm9wcyksbCksYXJndW1lbnRzLmxlbmd0aD4yJiYobC5jaGlsZHJlbj1jLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKSx1PXt9LGwpXCJrZXlcIiE9PWkmJlwicmVmXCIhPT1pJiYodVtpXT1sW2ldKTtyZXR1cm4geShuLnR5cGUsdSxsLmtleXx8bi5rZXksbC5yZWZ8fG4ucmVmLG51bGwpfWZ1bmN0aW9uIE0obil7dmFyIGw9e30sdT17X19jOlwiX19jQ1wiK2YrKyxfXzpuLENvbnN1bWVyOmZ1bmN0aW9uKG4sbCl7cmV0dXJuIG4uY2hpbGRyZW4obCl9LFByb3ZpZGVyOmZ1bmN0aW9uKG4pe3ZhciBpLHQ9dGhpcztyZXR1cm4gdGhpcy5nZXRDaGlsZENvbnRleHR8fChpPVtdLHRoaXMuZ2V0Q2hpbGRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIGxbdS5fX2NdPXQsbH0sdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24obil7dC5wcm9wcy52YWx1ZSE9PW4udmFsdWUmJmkuc29tZShmdW5jdGlvbihsKXtsLmNvbnRleHQ9bi52YWx1ZSxnKGwpfSl9LHRoaXMuc3ViPWZ1bmN0aW9uKG4pe2kucHVzaChuKTt2YXIgbD1uLmNvbXBvbmVudFdpbGxVbm1vdW50O24uY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXtpLnNwbGljZShpLmluZGV4T2YobiksMSksbCYmbC5jYWxsKG4pfX0pLG4uY2hpbGRyZW59fTtyZXR1cm4gdS5Db25zdW1lci5jb250ZXh0VHlwZT11LHUuUHJvdmlkZXIuX189dSx1fW49e19fZTpmdW5jdGlvbihuLGwpe2Zvcih2YXIgdSxpO2w9bC5fXzspaWYoKHU9bC5fX2MpJiYhdS5fXyl0cnl7aWYodS5jb25zdHJ1Y3RvciYmbnVsbCE9dS5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3ImJihpPSEwLHUuc2V0U3RhdGUodS5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IobikpKSxudWxsIT11LmNvbXBvbmVudERpZENhdGNoJiYoaT0hMCx1LmNvbXBvbmVudERpZENhdGNoKG4pKSxpKXJldHVybiBnKHUuX19FPXUpfWNhdGNoKGwpe249bH10aHJvdyBufX0sbD1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9biYmdm9pZCAwPT09bi5jb25zdHJ1Y3Rvcn0sbS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24obixsKXt2YXIgdTt1PXRoaXMuX19zIT09dGhpcy5zdGF0ZT90aGlzLl9fczp0aGlzLl9fcz1zKHt9LHRoaXMuc3RhdGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihuPW4odSx0aGlzLnByb3BzKSksbiYmcyh1LG4pLG51bGwhPW4mJnRoaXMuX192JiYobCYmdGhpcy5fX2gucHVzaChsKSxnKHRoaXMpKX0sbS5wcm90b3R5cGUuZm9yY2VVcGRhdGU9ZnVuY3Rpb24obil7dGhpcy5fX3YmJih0aGlzLl9fZT0hMCxuJiZ0aGlzLl9faC5wdXNoKG4pLGcodGhpcykpfSxtLnByb3RvdHlwZS5yZW5kZXI9ZCx1PVtdLGk9MCx0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFByb21pc2U/UHJvbWlzZS5wcm90b3R5cGUudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKTpzZXRUaW1lb3V0LHI9ZSxmPTA7ZXhwb3J0e0ggYXMgcmVuZGVyLEkgYXMgaHlkcmF0ZSxoIGFzIGNyZWF0ZUVsZW1lbnQsaCxkIGFzIEZyYWdtZW50LHAgYXMgY3JlYXRlUmVmLGwgYXMgaXNWYWxpZEVsZW1lbnQsbSBhcyBDb21wb25lbnQsTCBhcyBjbG9uZUVsZW1lbnQsTSBhcyBjcmVhdGVDb250ZXh0LHggYXMgdG9DaGlsZEFycmF5LEQgYXMgX3VubW91bnQsbiBhcyBvcHRpb25zfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZWFjdC5tb2R1bGUuanMubWFwXG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGluamVjdENzcyhjc3M6IHN0cmluZykge1xuICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBjb25zdCBzdHlsZVRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICBzdHlsZUVsLmFwcGVuZENoaWxkKHN0eWxlVGV4dCk7XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbCk7XG59XG4iLCAiZnVuY3Rpb24gdCh0KXtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KG4+MT9uLTE6MCksZT0xO2U8bjtlKyspcltlLTFdPWFyZ3VtZW50c1tlXTtpZihcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WKXt2YXIgaT1RW3RdLG89aT9cImZ1bmN0aW9uXCI9PXR5cGVvZiBpP2kuYXBwbHkobnVsbCxyKTppOlwidW5rbm93biBlcnJvciBucjogXCIrdDt0aHJvdyBFcnJvcihcIltJbW1lcl0gXCIrbyl9dGhyb3cgRXJyb3IoXCJbSW1tZXJdIG1pbmlmaWVkIGVycm9yIG5yOiBcIit0KyhyLmxlbmd0aD9cIiBcIityLmpvaW4oXCIsXCIpOlwiXCIpK1wiLiBGaW5kIHRoZSBmdWxsIGVycm9yIGF0OiBodHRwczovL2JpdC5seS8zY1hFS1dmXCIpfWZ1bmN0aW9uIG4odCl7cmV0dXJuISF0JiYhIXRbSF19ZnVuY3Rpb24gcih0KXtyZXR1cm4hIXQmJihmdW5jdGlvbih0KXtpZighdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuITE7dmFyIG49T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO3JldHVybiFufHxuPT09T2JqZWN0LnByb3RvdHlwZX0odCl8fEFycmF5LmlzQXJyYXkodCl8fCEhdFtCXXx8ISF0LmNvbnN0cnVjdG9yW0JdfHxzKHQpfHxwKHQpKX1mdW5jdGlvbiBlKHIpe3JldHVybiBuKHIpfHx0KDIzLHIpLHJbSF0udH1mdW5jdGlvbiBpKHQsbixyKXt2b2lkIDA9PT1yJiYocj0hMSksMD09PW8odCk/KHI/T2JqZWN0LmtleXM6VikodCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ciYmXCJzeW1ib2xcIj09dHlwZW9mIGV8fG4oZSx0W2VdLHQpfSkpOnQuZm9yRWFjaCgoZnVuY3Rpb24ocixlKXtyZXR1cm4gbihlLHIsdCl9KSl9ZnVuY3Rpb24gbyh0KXt2YXIgbj10W0hdO3JldHVybiBuP24uaT4zP24uaS00Om4uaTpBcnJheS5pc0FycmF5KHQpPzE6cyh0KT8yOnAodCk/MzowfWZ1bmN0aW9uIHUodCxuKXtyZXR1cm4gMj09PW8odCk/dC5oYXMobik6T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbil9ZnVuY3Rpb24gYSh0LG4pe3JldHVybiAyPT09byh0KT90LmdldChuKTp0W25dfWZ1bmN0aW9uIGYodCxuLHIpe3ZhciBlPW8odCk7Mj09PWU/dC5zZXQobixyKTozPT09ZT8odC5kZWxldGUobiksdC5hZGQocikpOnRbbl09cn1mdW5jdGlvbiBjKHQsbil7cmV0dXJuIHQ9PT1uPzAhPT10fHwxL3Q9PTEvbjp0IT10JiZuIT1ufWZ1bmN0aW9uIHModCl7cmV0dXJuIFUmJnQgaW5zdGFuY2VvZiBNYXB9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gVyYmdCBpbnN0YW5jZW9mIFNldH1mdW5jdGlvbiB2KHQpe3JldHVybiB0Lm98fHQudH1mdW5jdGlvbiBsKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQuc2xpY2UoKTt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KTtmb3IodmFyIHIgaW4gZGVsZXRlIG5bSF0sbil7dmFyIGU9bltyXTshMT09PWUud3JpdGFibGUmJihlLndyaXRhYmxlPSEwLGUuY29uZmlndXJhYmxlPSEwKSwoZS5nZXR8fGUuc2V0KSYmKG5bcl09e2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCxlbnVtZXJhYmxlOmUuZW51bWVyYWJsZSx2YWx1ZTp0W3JdfSl9cmV0dXJuIE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpLG4pfWZ1bmN0aW9uIGQodCxlKXtPYmplY3QuaXNGcm96ZW4odCl8fG4odCl8fCFyKHQpfHwobyh0KT4xJiYodC5zZXQ9dC5hZGQ9dC5jbGVhcj10LmRlbGV0ZT1oKSxPYmplY3QuZnJlZXplKHQpLGUmJmkodCwoZnVuY3Rpb24odCxuKXtyZXR1cm4gZChuLCEwKX0pLCEwKSl9ZnVuY3Rpb24gaCgpe3QoMil9ZnVuY3Rpb24gYihuKXt2YXIgcj1ZW25dO3JldHVybiByfHx0KFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlY/MTg6MTksbikscn1mdW5jdGlvbiB5KHQsbil7WVt0XT1ufWZ1bmN0aW9uIG0oKXtyZXR1cm5cInByb2R1Y3Rpb25cIj09PXByb2Nlc3MuZW52Lk5PREVfRU5WfHwkfHx0KDApLCR9ZnVuY3Rpb24gXyh0LG4pe24mJihiKFwiUGF0Y2hlc1wiKSx0LnU9W10sdC5zPVtdLHQucD1uKX1mdW5jdGlvbiBqKHQpe08odCksdC52LmZvckVhY2godyksdC52PW51bGx9ZnVuY3Rpb24gTyh0KXt0PT09JCYmKCQ9dC5sKX1mdW5jdGlvbiBnKHQpe3JldHVybiAkPXt2OltdLGw6JCxoOnQsbTohMCxfOjB9fWZ1bmN0aW9uIHcodCl7dmFyIG49dFtIXTswPT09bi5pfHwxPT09bi5pP24uaigpOm4uTz0hMH1mdW5jdGlvbiBTKG4sZSl7ZS5fPWUudi5sZW5ndGg7dmFyIGk9ZS52WzBdLG89dm9pZCAwIT09biYmbiE9PWk7cmV0dXJuIGUuaC5nfHxiKFwiRVM1XCIpLlMoZSxuLG8pLG8/KGlbSF0uUCYmKGooZSksdCg0KSkscihuKSYmKG49UChlLG4pLGUubHx8QShlLG4pKSxlLnUmJmIoXCJQYXRjaGVzXCIpLk0oaVtIXSxuLGUudSxlLnMpKTpuPVAoZSxpLFtdKSxqKGUpLGUudSYmZS5wKGUudSxlLnMpLG4hPT1xP246dm9pZCAwfWZ1bmN0aW9uIFAodCxuLHIpe2lmKG51bGw9PShlPW4pfHxcIm9iamVjdFwiIT10eXBlb2YgZXx8T2JqZWN0LmlzRnJvemVuKGUpKXJldHVybiBuO3ZhciBlLG89bltIXTtpZighbylyZXR1cm4gaShuLChmdW5jdGlvbihlLGkpe3JldHVybiBNKHQsbyxuLGUsaSxyKX0pLCEwKSxuO2lmKG8uQSE9PXQpcmV0dXJuIG47aWYoIW8uUClyZXR1cm4gQSh0LG8udCwhMCksby50O2lmKCFvLkkpe28uST0hMCxvLkEuXy0tO3ZhciB1PTQ9PT1vLml8fDU9PT1vLmk/by5vPWwoby5rKTpvLm87aSh1LChmdW5jdGlvbihuLGUpe3JldHVybiBNKHQsbyx1LG4sZSxyKX0pKSxBKHQsdSwhMSksciYmdC51JiZiKFwiUGF0Y2hlc1wiKS5SKG8scix0LnUsdC5zKX1yZXR1cm4gby5vfWZ1bmN0aW9uIE0oZSxpLG8sYSxjLHMpe2lmKFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmM9PT1vJiZ0KDUpLG4oYykpe3ZhciBwPVAoZSxjLHMmJmkmJjMhPT1pLmkmJiF1KGkuRCxhKT9zLmNvbmNhdChhKTp2b2lkIDApO2lmKGYobyxhLHApLCFuKHApKXJldHVybjtlLm09ITF9aWYocihjKSYmIU9iamVjdC5pc0Zyb3plbihjKSl7aWYoIWUuaC5OJiZlLl88MSlyZXR1cm47UChlLGMpLGkmJmkuQS5sfHxBKGUsYyl9fWZ1bmN0aW9uIEEodCxuLHIpe3ZvaWQgMD09PXImJihyPSExKSx0LmguTiYmdC5tJiZkKG4scil9ZnVuY3Rpb24geCh0LG4pe3ZhciByPXRbSF07cmV0dXJuKHI/dihyKTp0KVtuXX1mdW5jdGlvbiB6KHQpe3QuUHx8KHQuUD0hMCx0LmwmJnoodC5sKSl9ZnVuY3Rpb24gSSh0KXt0Lm98fCh0Lm89bCh0LnQpKX1mdW5jdGlvbiBFKHQsbixyKXt2YXIgZT1zKG4pP2IoXCJNYXBTZXRcIikuVChuLHIpOnAobik/YihcIk1hcFNldFwiKS5GKG4scik6dC5nP2Z1bmN0aW9uKHQsbil7dmFyIHI9QXJyYXkuaXNBcnJheSh0KSxlPXtpOnI/MTowLEE6bj9uLkE6bSgpLFA6ITEsSTohMSxEOnt9LGw6bix0OnQsazpudWxsLG86bnVsbCxqOm51bGwsQzohMX0saT1lLG89WjtyJiYoaT1bZV0sbz10dCk7dmFyIHU9UHJveHkucmV2b2NhYmxlKGksbyksYT11LnJldm9rZSxmPXUucHJveHk7cmV0dXJuIGUuaz1mLGUuaj1hLGZ9KG4scik6YihcIkVTNVwiKS5KKG4scik7cmV0dXJuKHI/ci5BOm0oKSkudi5wdXNoKGUpLGV9ZnVuY3Rpb24gayhlKXtyZXR1cm4gbihlKXx8dCgyMixlKSxmdW5jdGlvbiB0KG4pe2lmKCFyKG4pKXJldHVybiBuO3ZhciBlLHU9bltIXSxjPW8obik7aWYodSl7aWYoIXUuUCYmKHUuaTw0fHwhYihcIkVTNVwiKS5LKHUpKSlyZXR1cm4gdS50O3UuST0hMCxlPVIobixjKSx1Lkk9ITF9ZWxzZSBlPVIobixjKTtyZXR1cm4gaShlLChmdW5jdGlvbihuLHIpe3UmJmEodS50LG4pPT09cnx8ZihlLG4sdChyKSl9KSksMz09PWM/bmV3IFNldChlKTplfShlKX1mdW5jdGlvbiBSKHQsbil7c3dpdGNoKG4pe2Nhc2UgMjpyZXR1cm4gbmV3IE1hcCh0KTtjYXNlIDM6cmV0dXJuIEFycmF5LmZyb20odCl9cmV0dXJuIGwodCl9ZnVuY3Rpb24gRCgpe2Z1bmN0aW9uIHIodCxuKXt2YXIgcj1zW3RdO3JldHVybiByP3IuZW51bWVyYWJsZT1uOnNbdF09cj17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6bixnZXQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzW0hdO3JldHVyblwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmYobiksWi5nZXQobix0KX0sc2V0OmZ1bmN0aW9uKG4pe3ZhciByPXRoaXNbSF07XCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmZihyKSxaLnNldChyLHQsbil9fSxyfWZ1bmN0aW9uIGUodCl7Zm9yKHZhciBuPXQubGVuZ3RoLTE7bj49MDtuLS0pe3ZhciByPXRbbl1bSF07aWYoIXIuUClzd2l0Y2goci5pKXtjYXNlIDU6YShyKSYmeihyKTticmVhaztjYXNlIDQ6byhyKSYmeihyKX19fWZ1bmN0aW9uIG8odCl7Zm9yKHZhciBuPXQudCxyPXQuayxlPU9iamVjdC5rZXlzKHIpLGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIG89ZVtpXSxhPW5bb107aWYodm9pZCAwPT09YSYmIXUobixvKSlyZXR1cm4hMDt2YXIgZj1yW29dLHM9ZiYmZltIXTtpZihzP3MudCE9PWE6IWMoZixhKSlyZXR1cm4hMH1yZXR1cm4gZS5sZW5ndGghPT1PYmplY3Qua2V5cyhuKS5sZW5ndGh9ZnVuY3Rpb24gYSh0KXt2YXIgbj10Lms7aWYobi5sZW5ndGghPT10LnQubGVuZ3RoKXJldHVybiEwO3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixuLmxlbmd0aC0xKTtyZXR1cm4hKCFyfHxyLmdldCl9ZnVuY3Rpb24gZihuKXtuLk8mJnQoMyxKU09OLnN0cmluZ2lmeSh2KG4pKSl9dmFyIHM9e307eShcIkVTNVwiLHtKOmZ1bmN0aW9uKHQsbil7dmFyIGU9QXJyYXkuaXNBcnJheSh0KSxpPWZ1bmN0aW9uKHQsbil7dmFyIGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobik7Zm9yKHZhciBpIGluIHQmJmRlbGV0ZSBlLmxlbmd0aCxkZWxldGUgZVtIXSxlKWVbaV09cihpLHR8fCEhZVtpXS5lbnVtZXJhYmxlKTtpZih0KXt2YXIgbz1BcnJheShuLmxlbmd0aCk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG8sZSksb31yZXR1cm4gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YobiksZSl9KGUsdCksbz17aTplPzU6NCxBOm4/bi5BOm0oKSxQOiExLEk6ITEsRDp7fSxsOm4sdDp0LGs6aSxvOm51bGwsTzohMSxDOiExfTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksSCx7dmFsdWU6byx3cml0YWJsZTohMH0pLGl9LFM6ZnVuY3Rpb24odCxyLG8pe28/bihyKSYmcltIXS5BPT09dCYmZSh0LnYpOih0LnUmJmZ1bmN0aW9uIHQobil7aWYobiYmXCJvYmplY3RcIj09dHlwZW9mIG4pe3ZhciByPW5bSF07aWYocil7dmFyIGU9ci50LG89ci5rLGY9ci5ELGM9ci5pO2lmKDQ9PT1jKWkobywoZnVuY3Rpb24obil7biE9PUgmJih2b2lkIDAhPT1lW25dfHx1KGUsbik/ZltuXXx8dChvW25dKTooZltuXT0hMCx6KHIpKSl9KSksaShlLChmdW5jdGlvbih0KXt2b2lkIDAhPT1vW3RdfHx1KG8sdCl8fChmW3RdPSExLHoocikpfSkpO2Vsc2UgaWYoNT09PWMpe2lmKGEocikmJih6KHIpLGYubGVuZ3RoPSEwKSxvLmxlbmd0aDxlLmxlbmd0aClmb3IodmFyIHM9by5sZW5ndGg7czxlLmxlbmd0aDtzKyspZltzXT0hMTtlbHNlIGZvcih2YXIgcD1lLmxlbmd0aDtwPG8ubGVuZ3RoO3ArKylmW3BdPSEwO2Zvcih2YXIgdj1NYXRoLm1pbihvLmxlbmd0aCxlLmxlbmd0aCksbD0wO2w8djtsKyspdm9pZCAwPT09ZltsXSYmdChvW2xdKX19fX0odC52WzBdKSxlKHQudikpfSxLOmZ1bmN0aW9uKHQpe3JldHVybiA0PT09dC5pP28odCk6YSh0KX19KX1mdW5jdGlvbiBOKCl7ZnVuY3Rpb24gcih0KXtpZighdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5tYXAocik7aWYocyh0KSlyZXR1cm4gbmV3IE1hcChBcnJheS5mcm9tKHQuZW50cmllcygpKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblt0WzBdLHIodFsxXSldfSkpKTtpZihwKHQpKXJldHVybiBuZXcgU2V0KEFycmF5LmZyb20odCkubWFwKHIpKTt2YXIgbj1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSk7Zm9yKHZhciBlIGluIHQpbltlXT1yKHRbZV0pO3JldHVybiBufWZ1bmN0aW9uIGUodCl7cmV0dXJuIG4odCk/cih0KTp0fXZhciBmPVwiYWRkXCI7eShcIlBhdGNoZXNcIix7JDpmdW5jdGlvbihuLGUpe3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgaT1lLnBhdGgsdT1lLm9wLGM9bixzPTA7czxpLmxlbmd0aC0xO3MrKylcIm9iamVjdFwiIT10eXBlb2YoYz1hKGMsaVtzXSkpJiZ0KDE1LGkuam9pbihcIi9cIikpO3ZhciBwPW8oYyksdj1yKGUudmFsdWUpLGw9aVtpLmxlbmd0aC0xXTtzd2l0Y2godSl7Y2FzZVwicmVwbGFjZVwiOnN3aXRjaChwKXtjYXNlIDI6cmV0dXJuIGMuc2V0KGwsdik7Y2FzZSAzOnQoMTYpO2RlZmF1bHQ6cmV0dXJuIGNbbF09dn1jYXNlIGY6c3dpdGNoKHApe2Nhc2UgMTpyZXR1cm4gYy5zcGxpY2UobCwwLHYpO2Nhc2UgMjpyZXR1cm4gYy5zZXQobCx2KTtjYXNlIDM6cmV0dXJuIGMuYWRkKHYpO2RlZmF1bHQ6cmV0dXJuIGNbbF09dn1jYXNlXCJyZW1vdmVcIjpzd2l0Y2gocCl7Y2FzZSAxOnJldHVybiBjLnNwbGljZShsLDEpO2Nhc2UgMjpyZXR1cm4gYy5kZWxldGUobCk7Y2FzZSAzOnJldHVybiBjLmRlbGV0ZShlLnZhbHVlKTtkZWZhdWx0OnJldHVybiBkZWxldGUgY1tsXX1kZWZhdWx0OnQoMTcsdSl9fSkpLG59LFI6ZnVuY3Rpb24odCxuLHIsbyl7c3dpdGNoKHQuaSl7Y2FzZSAwOmNhc2UgNDpjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHQsbixyLG8pe3ZhciBjPXQudCxzPXQubztpKHQuRCwoZnVuY3Rpb24odCxpKXt2YXIgcD1hKGMsdCksdj1hKHMsdCksbD1pP3UoYyx0KT9cInJlcGxhY2VcIjpmOlwicmVtb3ZlXCI7aWYocCE9PXZ8fFwicmVwbGFjZVwiIT09bCl7dmFyIGQ9bi5jb25jYXQodCk7ci5wdXNoKFwicmVtb3ZlXCI9PT1sP3tvcDpsLHBhdGg6ZH06e29wOmwscGF0aDpkLHZhbHVlOnZ9KSxvLnB1c2gobD09PWY/e29wOlwicmVtb3ZlXCIscGF0aDpkfTpcInJlbW92ZVwiPT09bD97b3A6ZixwYXRoOmQsdmFsdWU6ZShwKX06e29wOlwicmVwbGFjZVwiLHBhdGg6ZCx2YWx1ZTplKHApfSl9fSkpfSh0LG4scixvKTtjYXNlIDU6Y2FzZSAxOnJldHVybiBmdW5jdGlvbih0LG4scixpKXt2YXIgbz10LnQsdT10LkQsYT10Lm87aWYoYS5sZW5ndGg8by5sZW5ndGgpe3ZhciBjPVthLG9dO289Y1swXSxhPWNbMV07dmFyIHM9W2kscl07cj1zWzBdLGk9c1sxXX1mb3IodmFyIHA9MDtwPG8ubGVuZ3RoO3ArKylpZih1W3BdJiZhW3BdIT09b1twXSl7dmFyIHY9bi5jb25jYXQoW3BdKTtyLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6dix2YWx1ZTplKGFbcF0pfSksaS5wdXNoKHtvcDpcInJlcGxhY2VcIixwYXRoOnYsdmFsdWU6ZShvW3BdKX0pfWZvcih2YXIgbD1vLmxlbmd0aDtsPGEubGVuZ3RoO2wrKyl7dmFyIGQ9bi5jb25jYXQoW2xdKTtyLnB1c2goe29wOmYscGF0aDpkLHZhbHVlOmUoYVtsXSl9KX1vLmxlbmd0aDxhLmxlbmd0aCYmaS5wdXNoKHtvcDpcInJlcGxhY2VcIixwYXRoOm4uY29uY2F0KFtcImxlbmd0aFwiXSksdmFsdWU6by5sZW5ndGh9KX0odCxuLHIsbyk7Y2FzZSAzOnJldHVybiBmdW5jdGlvbih0LG4scixlKXt2YXIgaT10LnQsbz10Lm8sdT0wO2kuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoIW8uaGFzKHQpKXt2YXIgaT1uLmNvbmNhdChbdV0pO3IucHVzaCh7b3A6XCJyZW1vdmVcIixwYXRoOmksdmFsdWU6dH0pLGUudW5zaGlmdCh7b3A6ZixwYXRoOmksdmFsdWU6dH0pfXUrK30pKSx1PTAsby5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighaS5oYXModCkpe3ZhciBvPW4uY29uY2F0KFt1XSk7ci5wdXNoKHtvcDpmLHBhdGg6byx2YWx1ZTp0fSksZS51bnNoaWZ0KHtvcDpcInJlbW92ZVwiLHBhdGg6byx2YWx1ZTp0fSl9dSsrfSkpfSh0LG4scixvKX19LE06ZnVuY3Rpb24odCxuLHIsZSl7ci5wdXNoKHtvcDpcInJlcGxhY2VcIixwYXRoOltdLHZhbHVlOm59KSxlLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6W10sdmFsdWU6dC50fSl9fSl9ZnVuY3Rpb24gVCgpe2Z1bmN0aW9uIG4odCxuKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fXUodCxuKSx0LnByb3RvdHlwZT0oci5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IHIpfWZ1bmN0aW9uIGUodCl7dC5vfHwodC5EPW5ldyBNYXAsdC5vPW5ldyBNYXAodC50KSl9ZnVuY3Rpb24gaSh0KXt0Lm98fCh0Lm89bmV3IFNldCx0LnQuZm9yRWFjaCgoZnVuY3Rpb24obil7aWYocihuKSl7dmFyIGU9RSh0LkEuaCxuLHQpO3Qudi5zZXQobixlKSx0Lm8uYWRkKGUpfWVsc2UgdC5vLmFkZChuKX0pKSl9ZnVuY3Rpb24gbyhuKXtuLk8mJnQoMyxKU09OLnN0cmluZ2lmeSh2KG4pKSl9dmFyIHU9ZnVuY3Rpb24odCxuKXtyZXR1cm4odT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxuKXt0Ll9fcHJvdG9fXz1ufXx8ZnVuY3Rpb24odCxuKXtmb3IodmFyIHIgaW4gbiluLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1uW3JdKX0pKHQsbil9LGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIHRoaXNbSF09e2k6MixsOm4sQTpuP24uQTptKCksUDohMSxJOiExLG86dm9pZCAwLEQ6dm9pZCAwLHQ6dCxrOnRoaXMsQzohMSxPOiExfSx0aGlzfW4odCxNYXApO3ZhciBpPXQucHJvdG90eXBlO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHYodGhpc1tIXSkuc2l6ZX19KSxpLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdih0aGlzW0hdKS5oYXModCl9LGkuc2V0PWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpc1tIXTtyZXR1cm4gbyhyKSx2KHIpLmdldCh0KSE9PW4mJihlKHIpLHoociksci5ELnNldCh0LCEwKSxyLm8uc2V0KHQsbiksci5ELnNldCh0LCEwKSksdGhpc30saS5kZWxldGU9ZnVuY3Rpb24odCl7aWYoIXRoaXMuaGFzKHQpKXJldHVybiExO3ZhciBuPXRoaXNbSF07cmV0dXJuIG8obiksZShuKSx6KG4pLG4uRC5zZXQodCwhMSksbi5vLmRlbGV0ZSh0KSwhMH0saS5jbGVhcj1mdW5jdGlvbigpe3ZhciB0PXRoaXNbSF07cmV0dXJuIG8odCksZSh0KSx6KHQpLHQuRD1uZXcgTWFwLHQuby5jbGVhcigpfSxpLmZvckVhY2g9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzO3YodGhpc1tIXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXt0LmNhbGwobixyLmdldChpKSxpLHIpfSkpfSxpLmdldD1mdW5jdGlvbih0KXt2YXIgbj10aGlzW0hdO28obik7dmFyIGk9dihuKS5nZXQodCk7aWYobi5JfHwhcihpKSlyZXR1cm4gaTtpZihpIT09bi50LmdldCh0KSlyZXR1cm4gaTt2YXIgdT1FKG4uQS5oLGksbik7cmV0dXJuIGUobiksbi5vLnNldCh0LHUpLHV9LGkua2V5cz1mdW5jdGlvbigpe3JldHVybiB2KHRoaXNbSF0pLmtleXMoKX0saS52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXMscj10aGlzLmtleXMoKTtyZXR1cm4odD17fSlbTF09ZnVuY3Rpb24oKXtyZXR1cm4gbi52YWx1ZXMoKX0sdC5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9ci5uZXh0KCk7cmV0dXJuIHQuZG9uZT90Ontkb25lOiExLHZhbHVlOm4uZ2V0KHQudmFsdWUpfX0sdH0saS5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzLHI9dGhpcy5rZXlzKCk7cmV0dXJuKHQ9e30pW0xdPWZ1bmN0aW9uKCl7cmV0dXJuIG4uZW50cmllcygpfSx0Lm5leHQ9ZnVuY3Rpb24oKXt2YXIgdD1yLm5leHQoKTtpZih0LmRvbmUpcmV0dXJuIHQ7dmFyIGU9bi5nZXQodC52YWx1ZSk7cmV0dXJue2RvbmU6ITEsdmFsdWU6W3QudmFsdWUsZV19fSx0fSxpW0xdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfSx0fSgpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIHRoaXNbSF09e2k6MyxsOm4sQTpuP24uQTptKCksUDohMSxJOiExLG86dm9pZCAwLHQ6dCxrOnRoaXMsdjpuZXcgTWFwLE86ITEsQzohMX0sdGhpc31uKHQsU2V0KTt2YXIgcj10LnByb3RvdHlwZTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2KHRoaXNbSF0pLnNpemV9fSksci5oYXM9ZnVuY3Rpb24odCl7dmFyIG49dGhpc1tIXTtyZXR1cm4gbyhuKSxuLm8/ISFuLm8uaGFzKHQpfHwhKCFuLnYuaGFzKHQpfHwhbi5vLmhhcyhuLnYuZ2V0KHQpKSk6bi50Lmhhcyh0KX0sci5hZGQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpc1tIXTtyZXR1cm4gbyhuKSx0aGlzLmhhcyh0KXx8KGkobikseihuKSxuLm8uYWRkKHQpKSx0aGlzfSxyLmRlbGV0ZT1mdW5jdGlvbih0KXtpZighdGhpcy5oYXModCkpcmV0dXJuITE7dmFyIG49dGhpc1tIXTtyZXR1cm4gbyhuKSxpKG4pLHoobiksbi5vLmRlbGV0ZSh0KXx8ISFuLnYuaGFzKHQpJiZuLm8uZGVsZXRlKG4udi5nZXQodCkpfSxyLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1tIXTtyZXR1cm4gbyh0KSxpKHQpLHoodCksdC5vLmNsZWFyKCl9LHIudmFsdWVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1tIXTtyZXR1cm4gbyh0KSxpKHQpLHQuby52YWx1ZXMoKX0sci5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1tIXTtyZXR1cm4gbyh0KSxpKHQpLHQuby5lbnRyaWVzKCl9LHIua2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcygpfSxyW0xdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzKCl9LHIuZm9yRWFjaD1mdW5jdGlvbih0LG4pe2Zvcih2YXIgcj10aGlzLnZhbHVlcygpLGU9ci5uZXh0KCk7IWUuZG9uZTspdC5jYWxsKG4sZS52YWx1ZSxlLnZhbHVlLHRoaXMpLGU9ci5uZXh0KCl9LHR9KCk7eShcIk1hcFNldFwiLHtUOmZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBhKHQsbil9LEY6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IGYodCxuKX19KX1mdW5jdGlvbiBGKCl7RCgpLFQoKSxOKCl9ZnVuY3Rpb24gQyh0KXtyZXR1cm4gdH1mdW5jdGlvbiBKKHQpe3JldHVybiB0fXZhciBLLCQsRz1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sKFwieFwiKSxVPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBNYXAsVz1cInVuZGVmaW5lZFwiIT10eXBlb2YgU2V0LFg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb3h5JiZ2b2lkIDAhPT1Qcm94eS5yZXZvY2FibGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0LHE9Rz9TeW1ib2woXCJpbW1lci1ub3RoaW5nXCIpOigoSz17fSlbXCJpbW1lci1ub3RoaW5nXCJdPSEwLEspLEI9Rz9TeW1ib2woXCJpbW1lci1kcmFmdGFibGVcIik6XCJfXyRpbW1lcl9kcmFmdGFibGVcIixIPUc/U3ltYm9sKFwiaW1tZXItc3RhdGVcIik6XCJfXyRpbW1lcl9zdGF0ZVwiLEw9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixRPXswOlwiSWxsZWdhbCBzdGF0ZVwiLDE6XCJJbW1lciBkcmFmdHMgY2Fubm90IGhhdmUgY29tcHV0ZWQgcHJvcGVydGllc1wiLDI6XCJUaGlzIG9iamVjdCBoYXMgYmVlbiBmcm96ZW4gYW5kIHNob3VsZCBub3QgYmUgbXV0YXRlZFwiLDM6ZnVuY3Rpb24odCl7cmV0dXJuXCJDYW5ub3QgdXNlIGEgcHJveHkgdGhhdCBoYXMgYmVlbiByZXZva2VkLiBEaWQgeW91IHBhc3MgYW4gb2JqZWN0IGZyb20gaW5zaWRlIGFuIGltbWVyIGZ1bmN0aW9uIHRvIGFuIGFzeW5jIHByb2Nlc3M/IFwiK3R9LDQ6XCJBbiBpbW1lciBwcm9kdWNlciByZXR1cm5lZCBhIG5ldyB2YWx1ZSAqYW5kKiBtb2RpZmllZCBpdHMgZHJhZnQuIEVpdGhlciByZXR1cm4gYSBuZXcgdmFsdWUgKm9yKiBtb2RpZnkgdGhlIGRyYWZ0LlwiLDU6XCJJbW1lciBmb3JiaWRzIGNpcmN1bGFyIHJlZmVyZW5jZXNcIiw2OlwiVGhlIGZpcnN0IG9yIHNlY29uZCBhcmd1bWVudCB0byBgcHJvZHVjZWAgbXVzdCBiZSBhIGZ1bmN0aW9uXCIsNzpcIlRoZSB0aGlyZCBhcmd1bWVudCB0byBgcHJvZHVjZWAgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIHVuZGVmaW5lZFwiLDg6XCJGaXJzdCBhcmd1bWVudCB0byBgY3JlYXRlRHJhZnRgIG11c3QgYmUgYSBwbGFpbiBvYmplY3QsIGFuIGFycmF5LCBvciBhbiBpbW1lcmFibGUgb2JqZWN0XCIsOTpcIkZpcnN0IGFyZ3VtZW50IHRvIGBmaW5pc2hEcmFmdGAgbXVzdCBiZSBhIGRyYWZ0IHJldHVybmVkIGJ5IGBjcmVhdGVEcmFmdGBcIiwxMDpcIlRoZSBnaXZlbiBkcmFmdCBpcyBhbHJlYWR5IGZpbmFsaXplZFwiLDExOlwiT2JqZWN0LmRlZmluZVByb3BlcnR5KCkgY2Fubm90IGJlIHVzZWQgb24gYW4gSW1tZXIgZHJhZnRcIiwxMjpcIk9iamVjdC5zZXRQcm90b3R5cGVPZigpIGNhbm5vdCBiZSB1c2VkIG9uIGFuIEltbWVyIGRyYWZ0XCIsMTM6XCJJbW1lciBvbmx5IHN1cHBvcnRzIGRlbGV0aW5nIGFycmF5IGluZGljZXNcIiwxNDpcIkltbWVyIG9ubHkgc3VwcG9ydHMgc2V0dGluZyBhcnJheSBpbmRpY2VzIGFuZCB0aGUgJ2xlbmd0aCcgcHJvcGVydHlcIiwxNTpmdW5jdGlvbih0KXtyZXR1cm5cIkNhbm5vdCBhcHBseSBwYXRjaCwgcGF0aCBkb2Vzbid0IHJlc29sdmU6IFwiK3R9LDE2OidTZXRzIGNhbm5vdCBoYXZlIFwicmVwbGFjZVwiIHBhdGNoZXMuJywxNzpmdW5jdGlvbih0KXtyZXR1cm5cIlVuc3VwcG9ydGVkIHBhdGNoIG9wZXJhdGlvbjogXCIrdH0sMTg6ZnVuY3Rpb24odCl7cmV0dXJuXCJUaGUgcGx1Z2luIGZvciAnXCIrdCtcIicgaGFzIG5vdCBiZWVuIGxvYWRlZCBpbnRvIEltbWVyLiBUbyBlbmFibGUgdGhlIHBsdWdpbiwgaW1wb3J0IGFuZCBjYWxsIGBlbmFibGVcIit0K1wiKClgIHdoZW4gaW5pdGlhbGl6aW5nIHlvdXIgYXBwbGljYXRpb24uXCJ9LDE5OlwicGx1Z2luIG5vdCBsb2FkZWRcIiwyMDpcIkNhbm5vdCB1c2UgcHJveGllcyBpZiBQcm94eSwgUHJveHkucmV2b2NhYmxlIG9yIFJlZmxlY3QgYXJlIG5vdCBhdmFpbGFibGVcIiwyMTpmdW5jdGlvbih0KXtyZXR1cm5cInByb2R1Y2UgY2FuIG9ubHkgYmUgY2FsbGVkIG9uIHRoaW5ncyB0aGF0IGFyZSBkcmFmdGFibGU6IHBsYWluIG9iamVjdHMsIGFycmF5cywgTWFwLCBTZXQgb3IgY2xhc3NlcyB0aGF0IGFyZSBtYXJrZWQgd2l0aCAnW2ltbWVyYWJsZV06IHRydWUnLiBHb3QgJ1wiK3QrXCInXCJ9LDIyOmZ1bmN0aW9uKHQpe3JldHVyblwiJ2N1cnJlbnQnIGV4cGVjdHMgYSBkcmFmdCwgZ290OiBcIit0fSwyMzpmdW5jdGlvbih0KXtyZXR1cm5cIidvcmlnaW5hbCcgZXhwZWN0cyBhIGRyYWZ0LCBnb3Q6IFwiK3R9fSxWPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0Lm93bktleXM/UmVmbGVjdC5vd25LZXlzOnZvaWQgMCE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpKX06T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsWT17fSxaPXtnZXQ6ZnVuY3Rpb24odCxuKXtpZihuPT09SClyZXR1cm4gdDt2YXIgZT12KHQpO2lmKCF1KGUsbikpcmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtpZihyIGluIG4pZm9yKHZhciBlPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtlOyl7dmFyIGksbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscik7aWYobylyZXR1cm5cInZhbHVlXCJpbiBvP28udmFsdWU6bnVsbD09PShpPW8uZ2V0KXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHQuayk7ZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9fSh0LGUsbik7dmFyIGk9ZVtuXTtyZXR1cm4gdC5JfHwhcihpKT9pOmk9PT14KHQudCxuKT8oSSh0KSx0Lm9bbl09RSh0LkEuaCxpLHQpKTppfSxoYXM6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbiBpbiB2KHQpfSxvd25LZXlzOmZ1bmN0aW9uKHQpe3JldHVybiBSZWZsZWN0Lm93bktleXModih0KSl9LHNldDpmdW5jdGlvbih0LG4scil7aWYodC5EW25dPSEwLCF0LlApe2lmKGMocix4KHYodCksbikpJiZ2b2lkIDAhPT1yKXJldHVybiEwO0kodCkseih0KX1yZXR1cm4gdC5vW25dPXIsITB9LGRlbGV0ZVByb3BlcnR5OmZ1bmN0aW9uKHQsbil7cmV0dXJuIHZvaWQgMCE9PXgodC50LG4pfHxuIGluIHQudD8odC5EW25dPSExLEkodCkseih0KSk6ZGVsZXRlIHQuRFtuXSx0Lm8mJmRlbGV0ZSB0Lm9bbl0sITB9LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpmdW5jdGlvbih0LG4pe3ZhciByPXYodCksZT1SZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLG4pO3JldHVybiBlP3t3cml0YWJsZTohMCxjb25maWd1cmFibGU6MSE9PXQuaXx8XCJsZW5ndGhcIiE9PW4sZW51bWVyYWJsZTplLmVudW1lcmFibGUsdmFsdWU6cltuXX06ZX0sZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oKXt0KDExKX0sZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnQpfSxzZXRQcm90b3R5cGVPZjpmdW5jdGlvbigpe3QoMTIpfX0sdHQ9e307aShaLChmdW5jdGlvbih0LG4pe3R0W3RdPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1hcmd1bWVudHNbMF1bMF0sbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSkpLHR0LmRlbGV0ZVByb3BlcnR5PWZ1bmN0aW9uKG4scil7cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmaXNOYU4ocGFyc2VJbnQocikpJiZ0KDEzKSxaLmRlbGV0ZVByb3BlcnR5LmNhbGwodGhpcyxuWzBdLHIpfSx0dC5zZXQ9ZnVuY3Rpb24obixyLGUpe3JldHVyblwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJlwibGVuZ3RoXCIhPT1yJiZpc05hTihwYXJzZUludChyKSkmJnQoMTQpLFouc2V0LmNhbGwodGhpcyxuWzBdLHIsZSxuWzBdKX07dmFyIG50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt0aGlzLmc9WCx0aGlzLk49XCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOVixcImJvb2xlYW5cIj09dHlwZW9mKG51bGw9PXQ/dm9pZCAwOnQudXNlUHJveGllcykmJnRoaXMuc2V0VXNlUHJveGllcyh0LnVzZVByb3hpZXMpLFwiYm9vbGVhblwiPT10eXBlb2YobnVsbD09dD92b2lkIDA6dC5hdXRvRnJlZXplKSYmdGhpcy5zZXRBdXRvRnJlZXplKHQuYXV0b0ZyZWV6ZSksdGhpcy5wcm9kdWNlPXRoaXMucHJvZHVjZS5iaW5kKHRoaXMpLHRoaXMucHJvZHVjZVdpdGhQYXRjaGVzPXRoaXMucHJvZHVjZVdpdGhQYXRjaGVzLmJpbmQodGhpcyl9dmFyIGk9ZS5wcm90b3R5cGU7cmV0dXJuIGkucHJvZHVjZT1mdW5jdGlvbihuLGUsaSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSl7dmFyIG89ZTtlPW47dmFyIHU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dGhpczt2b2lkIDA9PT10JiYodD1vKTtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxpPUFycmF5KHI+MT9yLTE6MCksYT0xO2E8cjthKyspaVthLTFdPWFyZ3VtZW50c1thXTtyZXR1cm4gdS5wcm9kdWNlKHQsKGZ1bmN0aW9uKHQpe3ZhciByO3JldHVybihyPWUpLmNhbGwuYXBwbHkocixbbix0XS5jb25jYXQoaSkpfSkpfX12YXIgYTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZ0KDYpLHZvaWQgMCE9PWkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGkmJnQoNykscihuKSl7dmFyIGY9Zyh0aGlzKSxjPUUodGhpcyxuLHZvaWQgMCkscz0hMDt0cnl7YT1lKGMpLHM9ITF9ZmluYWxseXtzP2ooZik6TyhmKX1yZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmYSBpbnN0YW5jZW9mIFByb21pc2U/YS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gXyhmLGkpLFModCxmKX0pLChmdW5jdGlvbih0KXt0aHJvdyBqKGYpLHR9KSk6KF8oZixpKSxTKGEsZikpfWlmKCFufHxcIm9iamVjdFwiIT10eXBlb2Ygbil7aWYoKGE9ZShuKSk9PT1xKXJldHVybjtyZXR1cm4gdm9pZCAwPT09YSYmKGE9biksdGhpcy5OJiZkKGEsITApLGF9dCgyMSxuKX0saS5wcm9kdWNlV2l0aFBhdGNoZXM9ZnVuY3Rpb24odCxuKXt2YXIgcixlLGk9dGhpcztyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2Z1bmN0aW9uKG4pe2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkocj4xP3ItMTowKSxvPTE7bzxyO28rKyllW28tMV09YXJndW1lbnRzW29dO3JldHVybiBpLnByb2R1Y2VXaXRoUGF0Y2hlcyhuLChmdW5jdGlvbihuKXtyZXR1cm4gdC5hcHBseSh2b2lkIDAsW25dLmNvbmNhdChlKSl9KSl9Olt0aGlzLnByb2R1Y2UodCxuLChmdW5jdGlvbih0LG4pe3I9dCxlPW59KSkscixlXX0saS5jcmVhdGVEcmFmdD1mdW5jdGlvbihlKXtyKGUpfHx0KDgpLG4oZSkmJihlPWsoZSkpO3ZhciBpPWcodGhpcyksbz1FKHRoaXMsZSx2b2lkIDApO3JldHVybiBvW0hdLkM9ITAsTyhpKSxvfSxpLmZpbmlzaERyYWZ0PWZ1bmN0aW9uKG4scil7dmFyIGU9biYmbltIXTtcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiYoZSYmZS5DfHx0KDkpLGUuSSYmdCgxMCkpO3ZhciBpPWUuQTtyZXR1cm4gXyhpLHIpLFModm9pZCAwLGkpfSxpLnNldEF1dG9GcmVlemU9ZnVuY3Rpb24odCl7dGhpcy5OPXR9LGkuc2V0VXNlUHJveGllcz1mdW5jdGlvbihuKXtuJiYhWCYmdCgyMCksdGhpcy5nPW59LGkuYXBwbHlQYXRjaGVzPWZ1bmN0aW9uKHQscil7dmFyIGU7Zm9yKGU9ci5sZW5ndGgtMTtlPj0wO2UtLSl7dmFyIGk9cltlXTtpZigwPT09aS5wYXRoLmxlbmd0aCYmXCJyZXBsYWNlXCI9PT1pLm9wKXt0PWkudmFsdWU7YnJlYWt9fXZhciBvPWIoXCJQYXRjaGVzXCIpLiQ7cmV0dXJuIG4odCk/byh0LHIpOnRoaXMucHJvZHVjZSh0LChmdW5jdGlvbih0KXtyZXR1cm4gbyh0LHIuc2xpY2UoZSsxKSl9KSl9LGV9KCkscnQ9bmV3IG50LGV0PXJ0LnByb2R1Y2UsaXQ9cnQucHJvZHVjZVdpdGhQYXRjaGVzLmJpbmQocnQpLG90PXJ0LnNldEF1dG9GcmVlemUuYmluZChydCksdXQ9cnQuc2V0VXNlUHJveGllcy5iaW5kKHJ0KSxhdD1ydC5hcHBseVBhdGNoZXMuYmluZChydCksZnQ9cnQuY3JlYXRlRHJhZnQuYmluZChydCksY3Q9cnQuZmluaXNoRHJhZnQuYmluZChydCk7ZXhwb3J0IGRlZmF1bHQgZXQ7ZXhwb3J0e250IGFzIEltbWVyLGF0IGFzIGFwcGx5UGF0Y2hlcyxDIGFzIGNhc3REcmFmdCxKIGFzIGNhc3RJbW11dGFibGUsZnQgYXMgY3JlYXRlRHJhZnQsayBhcyBjdXJyZW50LEYgYXMgZW5hYmxlQWxsUGx1Z2lucyxEIGFzIGVuYWJsZUVTNSxUIGFzIGVuYWJsZU1hcFNldCxOIGFzIGVuYWJsZVBhdGNoZXMsY3QgYXMgZmluaXNoRHJhZnQsQiBhcyBpbW1lcmFibGUsbiBhcyBpc0RyYWZ0LHIgYXMgaXNEcmFmdGFibGUscSBhcyBub3RoaW5nLGUgYXMgb3JpZ2luYWwsZXQgYXMgcHJvZHVjZSxpdCBhcyBwcm9kdWNlV2l0aFBhdGNoZXMsb3QgYXMgc2V0QXV0b0ZyZWV6ZSx1dCBhcyBzZXRVc2VQcm94aWVzfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltbWVyLmVzbS5qcy5tYXBcbiIsICJleHBvcnQgZW51bSBTVEFHRVMge1xuICBDSE9PU0VfRlJBTUVTLFxuICBQUkVWSUVXX09VVFBVVCxcbiAgUkVTUE9OU0lWRV9QUkVWSUVXLFxuICBTQVZFX09VVFBVVCxcbn1cblxuZXhwb3J0IGVudW0gTVNHX0VWRU5UUyB7XG4gIERPTV9SRUFEWSxcbiAgTk9fRlJBTUVTLFxuICBGT1VORF9GUkFNRVMsXG4gIFJFU0laRSxcbiAgUkVOREVSLFxuICBDTE9TRSxcbiAgRVJST1IsXG4gIFVQREFURV9IRUFETElORVMsXG4gIENPTVBSRVNTX0lNQUdFLFxuICBDT01QUkVTU0VEX0lNQUdFLFxufVxuXG5leHBvcnQgZW51bSBPVVRQVVRfRk9STUFUUyB7XG4gIElOTElORSxcbiAgSUZSQU1FLFxufVxuXG5leHBvcnQgY29uc3QgVUlfVEVYVCA9IHtcbiAgRVJST1JfVU5FWFBFQ1RFRDogXCJVbmV4cGVjdGVkIGVycm9yXCIsXG4gIEVSUk9SX01JU1NJTkdfRlJBTUVTOiBcIk5vIGZyYW1lcyBmb3VuZC4gUGxlYXNlIGFkZCBzb21lIGZyYW1lcyB0byB0aGUgcGFnZS5cIixcbiAgV0FSTl9OT19UQVJHRVRTOiBcIlN0YW5kYXJkIGZyYW1lcyBub3QgZm91bmQuIFBsZWFzZSBzZWxlY3QgdGFyZ2V0IGZyYW1lcy5cIixcbiAgV0FSTl9UT09fTUFOWV9UQVJHRVRTOiBcIlBsZWFzZSBzZWxlY3QgdGhyZWUgdGFyZ2V0IGZyYW1lc1wiLFxuICBJTkZPX1BSRVZJRVc6IFwiUHJldmlldyBlYWNoIGZyYW1lIG91dHB1dFwiLFxuICBUSVRMRV9DSE9PU0VfRlJBTUU6IFwiQ2hvb3NlIHdoaWNoIGZyYW1lcyB0byBleHBvcnRcIixcbiAgVElUTEVfUFJFVklFVzogXCJQcmV2aWV3XCIsXG4gIFRJVExFX1JFU1BPTlNJVkVfUFJFVklFVzogXCJSZXNwb25zaXZlIHByZXZpZXdcIixcbiAgVElMRV9PVVRQVVQ6IFwiRXhwb3J0XCIsXG4gIEJVVFRPTl9ORVhUOiBcIk5leHRcIixcbiAgQlVUVE9OX0RPV05MT0FEOiBcIkRvd25sb2FkXCIsXG4gIEJVVFRPTl9QUkVWSU9VUzogXCJCYWNrXCIsXG59O1xuXG5leHBvcnQgY29uc3QgSU5JVElBTF9VSV9TSVpFID0ge1xuICB3aWR0aDogNDgwLFxuICBoZWlnaHQ6IDUwMCxcbiAgbWF4V2lkdGg6IDEyMDAsXG4gIG1heEhlaWdodDogOTAwLFxuICBtaW5XaWR0aDogNDIwLFxuICBtaW5IZWlnaHQ6IDQ4MCxcbn07XG5cbmV4cG9ydCBjb25zdCBGUkFNRV9XQVJOSU5HX1NJWkUgPSAzMDA7XG5cbmV4cG9ydCBlbnVtIEhFQURMSU5FX05PREVfTkFNRVMge1xuICBIRUFETElORSA9IFwiaGVhZGxpbmVcIixcbiAgU1VCSEVBRCA9IFwic3ViaGVhZFwiLFxuICBTT1VSQ0UgPSBcInNvdXJjZVwiLFxufVxuIiwgImltcG9ydCB7IGgsIEZyYWdtZW50IH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgU1RBR0VTLCBVSV9URVhULCBGUkFNRV9XQVJOSU5HX1NJWkUgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBGcmFtZURhdGFJbnRlcmZhY2UgfSBmcm9tIFwidHlwZXNcIjtcblxuZnVuY3Rpb24gRnJhbWVJbmZvKHByb3BzOiB7XG4gIGZyYW1lOiBGcmFtZURhdGFJbnRlcmZhY2UgfCBmYWxzZTtcbn0pOiBoLkpTWC5FbGVtZW50IHwgbnVsbCB7XG4gIGlmICghcHJvcHMuZnJhbWUpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IHtcbiAgICBuYW1lLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBzdmcsXG4gICAgcmVzcG9uc2l2ZSxcbiAgICBzdmdDb21wcmVzc2VkLFxuICAgIHN2Z09wdGltaXNlZCxcbiAgfSA9IHByb3BzLmZyYW1lO1xuXG4gIGNvbnN0IHJlbmRlckNoYXJDb3VudCA9XG4gICAgKHN2Z09wdGltaXNlZCA/IHN2Z0NvbXByZXNzZWQ/Lmxlbmd0aCA6IHN2Zz8ubGVuZ3RoKSB8fCAwO1xuICBjb25zdCBmaWxlS2JTaXplID0gcmVuZGVyQ2hhckNvdW50IC8gMTAwMDtcbiAgY29uc3QgaXNGaWxlTGFyZ2UgPSBmaWxlS2JTaXplID4gRlJBTUVfV0FSTklOR19TSVpFO1xuICBsZXQgZmlsZVNpemVDbGFzc05hbWUgPSBcImYyaF9fZmlsZV9zaXplXCI7XG4gIGlmIChpc0ZpbGVMYXJnZSkge1xuICAgIGZpbGVTaXplQ2xhc3NOYW1lICs9IFwiIGYyaF9fZmlsZV9zaXplIGYyaF9fbm90aWNlLS1lcnJvclwiO1xuICB9XG5cbiAgbGV0IHJlc3BvbnNpdmVDbGFzc05hbWUgPSBcImYyaF9faW5mb19yZXNwb25zaXZlXCI7XG4gIGlmIChyZXNwb25zaXZlID09PSBmYWxzZSkge1xuICAgIHJlc3BvbnNpdmVDbGFzc05hbWUgKz0gXCIgZjJoX19pbmZvX3Jlc3BvbnNpdmUtLW5vXCI7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImYyaF9faW5mb1wiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZjJoX19pbmZvX3RpdGxlXCI+e2BcIiR7bmFtZX1cImB9PC9zcGFuPntcIiBcIn1cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImYyaF9faW5mb19tZXRhXCI+XG4gICAgICAgIHt3aWR0aH0geCB7aGVpZ2h0fSx7XCIgXCJ9XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17cmVzcG9uc2l2ZUNsYXNzTmFtZX0+cmVzcG9uc2l2ZTwvc3Bhbj4se1wiIFwifVxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2ZpbGVTaXplQ2xhc3NOYW1lfT57ZmlsZUtiU2l6ZS50b0ZpeGVkKDIpfWtCPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIDwvcD5cbiAgKTtcbn1cblxudHlwZSBIZWFkZXJQcm9wcyA9IHtcbiAgc3RhZ2U6IFNUQUdFUztcbiAgaGFuZGxlTmV4dENsaWNrOiAoKSA9PiB2b2lkO1xuICBoYW5kbGVCYWNrQ2xpY2s6ICgpID0+IHZvaWQ7XG4gIGhhbmRsZU9wdGltc2VDbGljazogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGRpc2FibGVOZXh0OiBib29sZWFuO1xuICBmcmFtZTogRnJhbWVEYXRhSW50ZXJmYWNlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIEhlYWRlcihwcm9wczogSGVhZGVyUHJvcHMpOiBoLkpTWC5FbGVtZW50IHtcbiAgY29uc3Qge1xuICAgIHN0YWdlLFxuICAgIGhhbmRsZUJhY2tDbGljayxcbiAgICBoYW5kbGVOZXh0Q2xpY2ssXG4gICAgZGlzYWJsZU5leHQsXG4gICAgZnJhbWUsXG4gICAgaGFuZGxlT3B0aW1zZUNsaWNrLFxuICB9ID0gcHJvcHM7XG5cbiAgbGV0IHRpdGxlO1xuICBsZXQgbmV4dFRleHQ7XG4gIGxldCBiYWNrVGV4dDtcblxuICBzd2l0Y2ggKHN0YWdlKSB7XG4gICAgY2FzZSBTVEFHRVMuQ0hPT1NFX0ZSQU1FUzpcbiAgICAgIHRpdGxlID0gVUlfVEVYVC5USVRMRV9DSE9PU0VfRlJBTUU7XG4gICAgICBuZXh0VGV4dCA9IFVJX1RFWFQuQlVUVE9OX05FWFQ7XG4gICAgICBiYWNrVGV4dCA9IFVJX1RFWFQuQlVUVE9OX1BSRVZJT1VTO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVc6XG4gICAgICB0aXRsZSA9IFVJX1RFWFQuVElUTEVfUkVTUE9OU0lWRV9QUkVWSUVXO1xuICAgICAgbmV4dFRleHQgPSBVSV9URVhULkJVVFRPTl9ORVhUO1xuICAgICAgYmFja1RleHQgPSBVSV9URVhULkJVVFRPTl9QUkVWSU9VUztcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTVEFHRVMuUFJFVklFV19PVVRQVVQ6XG4gICAgICB0aXRsZSA9IGAke1VJX1RFWFQuVElUTEVfUFJFVklFV31gO1xuICAgICAgbmV4dFRleHQgPSBVSV9URVhULkJVVFRPTl9ORVhUO1xuICAgICAgYmFja1RleHQgPSBVSV9URVhULkJVVFRPTl9QUkVWSU9VUztcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTVEFHRVMuU0FWRV9PVVRQVVQ6XG4gICAgICB0aXRsZSA9IFVJX1RFWFQuVElMRV9PVVRQVVQ7XG4gICAgICBiYWNrVGV4dCA9IFVJX1RFWFQuQlVUVE9OX1BSRVZJT1VTO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZjJoX19oZWFkZXJcIj5cbiAgICAgIDxoMSBjbGFzc05hbWU9XCJmMmhfX3RpdGxlXCI+e3RpdGxlfTwvaDE+XG5cbiAgICAgIHtzdGFnZSA9PT0gU1RBR0VTLlBSRVZJRVdfT1VUUFVUICYmIChcbiAgICAgICAgPEZyYWdtZW50PlxuICAgICAgICAgIDxGcmFtZUluZm8gZnJhbWU9e2ZyYW1lfSAvPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmMmhfX3N2Z19vcHRpbWlzZVwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgIGNoZWNrZWQ9e2ZyYW1lLnN2Z09wdGltaXNlZH1cbiAgICAgICAgICAgICAgbmFtZT1cIm9wdGltaXNlXCJcbiAgICAgICAgICAgICAgaWQ9XCJvcHRpbWlzZVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZU9wdGltc2VDbGljayhmcmFtZS5pZCl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHNwYW4+T3B0aW1pc2UgU1ZHPC9zcGFuPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICApfVxuXG4gICAgICA8bmF2IGNsYXNzTmFtZT1cImYyaF9fbmF2XCI+XG4gICAgICAgIHtzdGFnZSAhPT0gU1RBR0VTLkNIT09TRV9GUkFNRVMgJiYgKFxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZjJoX19idG4gYnRuLS1zZWNvbmRhcnlcIiBvbkNsaWNrPXtoYW5kbGVCYWNrQ2xpY2t9PlxuICAgICAgICAgICAge2JhY2tUZXh0fVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuXG4gICAgICAgIHtuZXh0VGV4dCAmJiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19idG4gYnRuLS1wcmltYXJ5XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU5leHRDbGlja31cbiAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlTmV4dH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bmV4dFRleHR9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICl9XG4gICAgICA8L25hdj5cbiAgICA8L2hlYWRlcj5cbiAgKTtcbn1cbiIsICJpbXBvcnR7b3B0aW9ucyBhcyBlLEZyYWdtZW50IGFzIHQsY3JlYXRlRWxlbWVudCBhcyByfWZyb21cInByZWFjdFwiO3ZhciBuPS9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8Z3JpZHxvd3N8bW5jfG50d3xpbmVbY2hdfHpvb3xeb3JkfF4tLS9pLG89ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKC8mL2csXCImYW1wO1wiKS5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoLz4vZyxcIiZndDtcIikucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKX0sYT1mdW5jdGlvbihlLHQpe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZSgvKFxcbispL2csXCIkMVwiKyh0fHxcIlxcdFwiKSl9LGk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBTdHJpbmcoZSkubGVuZ3RoPih0fHw0MCl8fCFyJiYtMSE9PVN0cmluZyhlKS5pbmRleE9mKFwiXFxuXCIpfHwtMSE9PVN0cmluZyhlKS5pbmRleE9mKFwiPFwiKX0sbD17fTtmdW5jdGlvbiBzKGUpe3ZhciB0PVwiXCI7Zm9yKHZhciByIGluIGUpe3ZhciBvPWVbcl07bnVsbCE9byYmKHQmJih0Kz1cIiBcIiksdCs9XCItXCI9PXJbMF0/cjpsW3JdfHwobFtyXT1yLnJlcGxhY2UoLyhbQS1aXSkvZyxcIi0kMVwiKS50b0xvd2VyQ2FzZSgpKSx0Kz1cIjogXCIsdCs9byxcIm51bWJlclwiPT10eXBlb2YgbyYmITE9PT1uLnRlc3QocikmJih0Kz1cInB4XCIpLHQrPVwiO1wiKX1yZXR1cm4gdHx8dm9pZCAwfWZ1bmN0aW9uIGYoZSx0KXtmb3IodmFyIHIgaW4gdCllW3JdPXRbcl07cmV0dXJuIGV9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QucmVkdWNlKGMsZSk6bnVsbCE9dCYmITEhPT10JiZlLnB1c2godCksZX12YXIgcD17c2hhbGxvdzohMH0sdT1bXSxfPS9eKGFyZWF8YmFzZXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbXxzb3VyY2V8dHJhY2t8d2JyKSQvLGc9ZnVuY3Rpb24oKXt9O3YucmVuZGVyPXY7dmFyIGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdihlLHQscCl9O2Z1bmN0aW9uIHYobixsLHAsaCxkLG0pe2lmKG51bGw9PW58fFwiYm9vbGVhblwiPT10eXBlb2YgbilyZXR1cm5cIlwiO0FycmF5LmlzQXJyYXkobikmJihuPXIodCxudWxsLG4pKTt2YXIgeD1uLnR5cGUseT1uLnByb3BzLGI9ITE7bD1sfHx7fTt2YXIgUyx3PShwPXB8fHt9KS5wcmV0dHksaz13JiZcInN0cmluZ1wiPT10eXBlb2Ygdz93OlwiXFx0XCI7aWYoXCJvYmplY3RcIiE9dHlwZW9mIG4mJiF4KXJldHVybiBvKG4pO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHgpe2lmKGI9ITAsIXAuc2hhbGxvd3x8IWgmJiExIT09cC5yZW5kZXJSb290Q29tcG9uZW50KXtpZih4PT09dCl7dmFyIE89XCJcIixDPVtdO2MoQyxuLnByb3BzLmNoaWxkcmVuKTtmb3IodmFyIEE9MDtBPEMubGVuZ3RoO0ErKylPKz0oQT4wJiZ3P1wiXFxuXCI6XCJcIikrdihDW0FdLGwscCwhMSE9PXAuc2hhbGxvd0hpZ2hPcmRlcixkLG0pO3JldHVybiBPfXZhciBILGo9bi5fX2M9e19fdjpuLGNvbnRleHQ6bCxwcm9wczpuLnByb3BzLHNldFN0YXRlOmcsZm9yY2VVcGRhdGU6ZyxfX2g6W119O2lmKGUuX19yJiZlLl9fcihuKSx4LnByb3RvdHlwZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgeC5wcm90b3R5cGUucmVuZGVyKXt2YXIgRj14LmNvbnRleHRUeXBlLCQ9RiYmbFtGLl9fY10sTD1udWxsIT1GPyQ/JC5wcm9wcy52YWx1ZTpGLl9fOmw7KGo9bi5fX2M9bmV3IHgoeSxMKSkuX192PW4sai5fZGlydHk9ai5fX2Q9ITAsai5wcm9wcz15LG51bGw9PWouc3RhdGUmJihqLnN0YXRlPXt9KSxudWxsPT1qLl9uZXh0U3RhdGUmJm51bGw9PWouX19zJiYoai5fbmV4dFN0YXRlPWouX19zPWouc3RhdGUpLGouY29udGV4dD1MLHguZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzP2ouc3RhdGU9ZihmKHt9LGouc3RhdGUpLHguZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKGoucHJvcHMsai5zdGF0ZSkpOmouY29tcG9uZW50V2lsbE1vdW50JiZqLmNvbXBvbmVudFdpbGxNb3VudCgpLGouc3RhdGU9ai5fbmV4dFN0YXRlIT09ai5zdGF0ZT9qLl9uZXh0U3RhdGU6ai5fX3MhPT1qLnN0YXRlP2ouX19zOmouc3RhdGUsSD1qLnJlbmRlcihqLnByb3BzLGouc3RhdGUsai5jb250ZXh0KX1lbHNle3ZhciBNPXguY29udGV4dFR5cGUsVD1NJiZsW00uX19jXTtIPXguY2FsbChuLl9fYyx5LG51bGwhPU0/VD9ULnByb3BzLnZhbHVlOk0uX186bCl9cmV0dXJuIGouZ2V0Q2hpbGRDb250ZXh0JiYobD1mKGYoe30sbCksai5nZXRDaGlsZENvbnRleHQoKSkpLHYoSCxsLHAsITEhPT1wLnNoYWxsb3dIaWdoT3JkZXIsZCxtKX14PShTPXgpLmRpc3BsYXlOYW1lfHxTIT09RnVuY3Rpb24mJlMubmFtZXx8ZnVuY3Rpb24oZSl7dmFyIHQ9KEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLm1hdGNoKC9eXFxzKmZ1bmN0aW9uXFxzKyhbXiggXSspLyl8fFwiXCIpWzFdO2lmKCF0KXtmb3IodmFyIHI9LTEsbj11Lmxlbmd0aDtuLS07KWlmKHVbbl09PT1lKXtyPW47YnJlYWt9cjwwJiYocj11LnB1c2goZSktMSksdD1cIlVubmFtZWRDb21wb25lbnRcIityfXJldHVybiB0fShTKX12YXIgRCxOPVwiXCI7aWYoeSl7dmFyIFA9T2JqZWN0LmtleXMoeSk7cCYmITA9PT1wLnNvcnRBdHRyaWJ1dGVzJiZQLnNvcnQoKTtmb3IodmFyIFI9MDtSPFAubGVuZ3RoO1IrKyl7dmFyIFU9UFtSXSxXPXlbVV07aWYoXCJjaGlsZHJlblwiIT09VSYmKCFVLm1hdGNoKC9bXFxzXFxuXFxcXC89J1wiXFwwPD5dLykmJihwJiZwLmFsbEF0dHJpYnV0ZXN8fFwia2V5XCIhPT1VJiZcInJlZlwiIT09VSYmXCJfX3NlbGZcIiE9PVUmJlwiX19zb3VyY2VcIiE9PVUpKSl7aWYoXCJjbGFzc05hbWVcIj09PVUpe2lmKHkuY2xhc3MpY29udGludWU7VT1cImNsYXNzXCJ9ZWxzZSBkJiZVLm1hdGNoKC9eeGxpbms6Py4vKSYmKFU9VS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL154bGluazo/LyxcInhsaW5rOlwiKSk7aWYoXCJodG1sRm9yXCI9PT1VKXtpZih5LmZvciljb250aW51ZTtVPVwiZm9yXCJ9XCJzdHlsZVwiPT09VSYmVyYmXCJvYmplY3RcIj09dHlwZW9mIFcmJihXPXMoVykpO3ZhciBxPXAuYXR0cmlidXRlSG9vayYmcC5hdHRyaWJ1dGVIb29rKFUsVyxsLHAsYik7aWYocXx8XCJcIj09PXEpTis9cTtlbHNlIGlmKFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09PVUpRD1XJiZXLl9faHRtbDtlbHNlIGlmKChXfHwwPT09V3x8XCJcIj09PVcpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBXKXtpZighKCEwIT09VyYmXCJcIiE9PVd8fChXPVUscCYmcC54bWwpKSl7Tis9XCIgXCIrVTtjb250aW51ZX1pZihcInZhbHVlXCI9PT1VKXtpZihcInNlbGVjdFwiPT09eCl7bT1XO2NvbnRpbnVlfVwib3B0aW9uXCI9PT14JiZtPT1XJiYoTis9XCIgc2VsZWN0ZWRcIil9Tis9XCIgXCIrVSsnPVwiJytvKFcpKydcIid9fX19aWYodyl7dmFyIHo9Ti5yZXBsYWNlKC9eXFxuXFxzKi8sXCIgXCIpO3o9PT1OfHx+ei5pbmRleE9mKFwiXFxuXCIpP3cmJn5OLmluZGV4T2YoXCJcXG5cIikmJihOKz1cIlxcblwiKTpOPXp9aWYoTj1cIjxcIit4K04rXCI+XCIsU3RyaW5nKHgpLm1hdGNoKC9bXFxzXFxuXFxcXC89J1wiXFwwPD5dLykpdGhyb3cgbmV3IEVycm9yKHgrXCIgaXMgbm90IGEgdmFsaWQgSFRNTCB0YWcgbmFtZSBpbiBcIitOKTt2YXIgRT1TdHJpbmcoeCkubWF0Y2goXyk7RSYmKE49Ti5yZXBsYWNlKC8+JC8sXCIgLz5cIikpO3ZhciBJLFo9W107aWYoRCl3JiZpKEQpJiYoRD1cIlxcblwiK2srYShELGspKSxOKz1EO2Vsc2UgaWYoeSYmYyhJPVtdLHkuY2hpbGRyZW4pLmxlbmd0aCl7Zm9yKHZhciBCPXcmJn5OLmluZGV4T2YoXCJcXG5cIiksRz0hMSxKPTA7SjxJLmxlbmd0aDtKKyspe3ZhciBLPUlbSl07aWYobnVsbCE9SyYmITEhPT1LKXt2YXIgUT12KEssbCxwLCEwLFwic3ZnXCI9PT14fHxcImZvcmVpZ25PYmplY3RcIiE9PXgmJmQsbSk7aWYodyYmIUImJmkoUSkmJihCPSEwKSxRKWlmKHcpe3ZhciBWPVEubGVuZ3RoPjAmJlwiPFwiIT1RWzBdO0cmJlY/WltaLmxlbmd0aC0xXSs9UTpaLnB1c2goUSksRz1WfWVsc2UgWi5wdXNoKFEpfX1pZih3JiZCKWZvcih2YXIgWD1aLmxlbmd0aDtYLS07KVpbWF09XCJcXG5cIitrK2EoWltYXSxrKX1pZihaLmxlbmd0aClOKz1aLmpvaW4oXCJcIik7ZWxzZSBpZihwJiZwLnhtbClyZXR1cm4gTi5zdWJzdHJpbmcoMCxOLmxlbmd0aC0xKStcIiAvPlwiO3JldHVybiBFfHwodyYmfk4uaW5kZXhPZihcIlxcblwiKSYmKE4rPVwiXFxuXCIpLE4rPVwiPC9cIit4K1wiPlwiKSxOfXYuc2hhbGxvd1JlbmRlcj1oO2V4cG9ydCBkZWZhdWx0IHY7ZXhwb3J0e3YgYXMgcmVuZGVyLHYgYXMgcmVuZGVyVG9TdHJpbmcsaCBhcyBzaGFsbG93UmVuZGVyfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1vZHVsZS5qcy5tYXBcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnQgKi9cbmltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgcmVuZGVyIGZyb20gXCJwcmVhY3QtcmVuZGVyLXRvLXN0cmluZ1wiO1xuaW1wb3J0IHsgT1VUUFVUX0ZPUk1BVFMgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IHRleHREYXRhLCBGcmFtZURhdGFJbnRlcmZhY2UgfSBmcm9tIFwidHlwZXNcIjtcblxuLy8gSW1wb3J0IENTUyBmaWxlIGFzIHBsYWluIHRleHQgdmlhIGVzYnVpbGQgbG9hZGVyIG9wdGlvblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IGVtYmVkQ3NzIGZyb20gXCIuL2VtYmVkLmNzc1wiO1xuLy8gQHRzLWV4cGVjdC1lcnJvclxuaW1wb3J0IGZvbnRzQ3NzIGZyb20gXCIuL2ZvbnRzLmNzc1wiO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUlmcmFtZUh0bWwoYm9keTogc3RyaW5nKSB7XG4gIHJldHVybiBgXG4gICAgPCFkb2N0eXBlIGh0bWw+XG4gICAgPGh0bWw+XG4gICAgICA8aGVhZD5cbiAgICAgICAgPG1ldGEgY2hhcnNldD1cIlVURi04XCI+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MVwiPlxuICAgICAgICA8c3R5bGU+IGh0bWwsIGJvZHkgeyBtYXJnaW46IDA7IH0gPC9zdHlsZT5cbiAgICAgIDwvaGVhZD5cbiAgICAgIDxib2R5PlxuICAgICAgICAke2JvZHl9XG4gICAgICA8L2JvZHk+XG4gICAgPC9odG1sPlxuICBgO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVN0eWxlVGV4dChcbiAgbm9kZTogdGV4dERhdGEsXG4gIGZyYW1lV2lkdGg6IG51bWJlcixcbiAgZnJhbWVIZWlnaHQ6IG51bWJlclxuKSB7XG4gIGNvbnN0IHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIGZvbnRTaXplLFxuICAgIGZvbnRGYW1pbHksXG4gICAgY29sb3VyLFxuICAgIGxldHRlclNwYWNpbmcsXG4gICAgbGluZUhlaWdodCxcbiAgICB0ZXh0QWxpZ25Ib3Jpem9udGFsLFxuICAgIHRleHRBbGlnblZlcnRpY2FsLFxuICAgIGZvbnRTdHlsZSxcbiAgfSA9IG5vZGU7XG5cbiAgLy8gUG9zaXRpb24gY2VudGVyIGFsaWduZWRcbiAgY29uc3QgbGVmdCA9IGAkeygoeCArIHdpZHRoIC8gMikgLyBmcmFtZVdpZHRoKSAqIDEwMH0lYDtcbiAgY29uc3QgdG9wID0gYCR7KCh5ICsgaGVpZ2h0IC8gMikgLyBmcmFtZUhlaWdodCkgKiAxMDB9JWA7XG5cbiAgLy8gQ29sb3VyXG4gIGNvbnN0IHsgciwgZywgYiwgYSB9ID0gY29sb3VyO1xuICBjb25zdCBjb2xvdXJWYWxzID0gW3IsIGcsIGJdLm1hcCgodmFsID0gMCkgPT4gTWF0aC5yb3VuZCh2YWwgKiAyNTUpKTtcbiAgY29uc3QgdGV4dENvbG91ciA9IGByZ2JhKCR7Y29sb3VyVmFscy5qb2luKFwiLFwiKX0sICR7YX0pYDtcbiAgY29uc3QgZm9udE5hbWUgPSBgJHtmb250RmFtaWx5fWA7XG4gIGxldCBmb250V2VpZ2h0ID0gNDAwO1xuICBpZiAoZm9udFN0eWxlID09PSBcIlNlbWlib2xkXCIgfHwgZm9udFN0eWxlID09PSBcIkJvbGRcIikge1xuICAgIGZvbnRXZWlnaHQgPSA3MDA7XG4gIH1cblxuICBjb25zb2xlLmxvZyhmb250U3R5bGUpO1xuXG4gIGNvbnN0IHsgdW5pdDogbGV0dGVyVW5pdCwgdmFsdWU6IGxldHRlclZhbCB9ID0gbGV0dGVyU3BhY2luZyBhcyB7XG4gICAgdmFsdWU6IG51bWJlcjtcbiAgICB1bml0OiBcIlBJWEVMU1wiIHwgXCJQRVJDRU5UXCI7XG4gIH07XG4gIGxldCBsZXR0ZXJTcGFjZVZhbHVlID0gXCIwXCI7XG4gIHN3aXRjaCAobGV0dGVyVW5pdCkge1xuICAgIGNhc2UgXCJQSVhFTFNcIjpcbiAgICAgIC8vIFRPRE86IEZJWCBNRVxuICAgICAgaWYgKGZvbnRGYW1pbHkgPT09IFwiVGVsZXNhbnMgVGV4dFwiKSB7XG4gICAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgJHtsZXR0ZXJWYWwgLSAwLjMzfXB4YDtcbiAgICAgIH0gZWxzZSBpZiAoZm9udEZhbWlseSA9PT0gXCJUZWxlc2FucyBBZ2F0ZVwiKSB7XG4gICAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgJHtsZXR0ZXJWYWwgLSAwLjE5fXB4YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgJHtsZXR0ZXJWYWx9cHhgO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBFUkNFTlRcIjpcbiAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgJHtsZXR0ZXJWYWwgLyAxMDB9ZW1gO1xuXG4gICAgICBpZiAoZm9udEZhbWlseSA9PT0gXCJUZWxlc2FucyBUZXh0XCIpIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAke2xldHRlclZhbCAvIDEwMCAtIDAuMDIyfWVtYDtcbiAgICAgIH0gZWxzZSBpZiAoZm9udEZhbWlseSA9PT0gXCJUZWxlc2FucyBBZ2F0ZVwiKSB7XG4gICAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgJHtsZXR0ZXJWYWwgLyAxMDAgLSAwLjAxNX1lbWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXR0ZXJTcGFjZVZhbHVlID0gYCR7bGV0dGVyVmFsIC8gMTAwfWVtYDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoZm9udEZhbWlseSA9PT0gXCJUZWxlc2FucyBUZXh0XCIpIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IFwiLTAuMzdweFwiO1xuICAgICAgfSBlbHNlIGlmIChmb250RmFtaWx5ID09PSBcIlRlbGVzYW5zIEFnYXRlXCIpIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IFwiLTAuMTl9cHhcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgMGA7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGNvbnN0IHsgdW5pdDogbGluZVVuaXQsIHZhbHVlOiBsaW5lVmFsIH0gPSBsaW5lSGVpZ2h0IGFzIHtcbiAgICB2YWx1ZTogbnVtYmVyO1xuICAgIHVuaXQ6IFwiQVVUT1wiIHwgXCJQSVhFTFNcIiB8IFwiUEVSQ0VOVFwiO1xuICB9O1xuICBsZXQgbGluZUhlaWdodFZhbHVlID0gXCJhdXRvXCI7XG4gIHN3aXRjaCAobGluZVVuaXQpIHtcbiAgICBjYXNlIFwiUElYRUxTXCI6XG4gICAgICBsaW5lSGVpZ2h0VmFsdWUgPSBgJHtsaW5lVmFsfXB4YDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJQRVJDRU5UXCI6XG4gICAgICBsaW5lSGVpZ2h0VmFsdWUgPSBgJHtsaW5lVmFsICogMS4xNX0lYDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJBVVRPXCI6XG4gICAgICBsaW5lSGVpZ2h0VmFsdWUgPSBcIjEuMlwiO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICBsZXQgYWxpZ25JdGVtc1ZhbHVlID0gXCJhdXRvXCI7XG4gIHN3aXRjaCAodGV4dEFsaWduVmVydGljYWwpIHtcbiAgICBjYXNlIFwiVE9QXCI6XG4gICAgICBhbGlnbkl0ZW1zVmFsdWUgPSBcImZsZXgtc3RhcnRcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJDRU5URVJcIjpcbiAgICAgIGFsaWduSXRlbXNWYWx1ZSA9IFwiY2VudGVyXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiQk9UVE9NXCI6XG4gICAgICBhbGlnbkl0ZW1zVmFsdWUgPSBcImZsZXgtZW5kXCI7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGxldCBqdXN0aWZ5SXRlbXNWYWx1ZSA9IFwiYXV0b1wiO1xuICBzd2l0Y2ggKHRleHRBbGlnbkhvcml6b250YWwpIHtcbiAgICBjYXNlIFwiTEVGVFwiOlxuICAgICAganVzdGlmeUl0ZW1zVmFsdWUgPSBcImZsZXgtc3RhcnRcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJDRU5URVJcIjpcbiAgICAgIGp1c3RpZnlJdGVtc1ZhbHVlID0gXCJjZW50ZXJcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJSSUdIVFwiOlxuICAgICAganVzdGlmeUl0ZW1zVmFsdWUgPSBcImZsZXgtZW5kXCI7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGNvbnN0IG5ld1dpZHRoID0gTWF0aC5jZWlsKCh3aWR0aCAvIGZyYW1lV2lkdGgpICogMTAwKTtcblxuICByZXR1cm4gYFxuICAgICAgICBmb250LXNpemU6ICR7U3RyaW5nKGZvbnRTaXplKX1weDtcbiAgICAgICAgZm9udC1mYW1pbHk6IFwiJHtmb250TmFtZX1cIiwgR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIFRpbWVzLCBzZXJpZjtcbiAgICAgICAgZm9udC13ZWlnaHQ6ICR7Zm9udFdlaWdodH07XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgY29sb3I6ICR7dGV4dENvbG91cn07XG4gICAgICAgIHdpZHRoOiAke25ld1dpZHRofSU7XG4gICAgICAgIGhlaWdodDogJHsoaGVpZ2h0IC8gZnJhbWVIZWlnaHQpICogMTAwfSU7XG4gICAgICAgIGxlZnQ6ICR7bGVmdH07XG4gICAgICAgIHRvcDogJHt0b3B9O1xuICAgICAgICBsaW5lLWhlaWdodDogJHtsaW5lSGVpZ2h0VmFsdWV9O1xuICAgICAgICBsZXR0ZXItc3BhY2luZzogJHtsZXR0ZXJTcGFjZVZhbHVlfTtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiAke2p1c3RpZnlJdGVtc1ZhbHVlfTtcbiAgICAgICAgYWxpZ24taXRlbXM6ICR7YWxpZ25JdGVtc1ZhbHVlfTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGA7XG59XG5cbnR5cGUgVGV4dFByb3BzID0ge1xuICBub2RlOiB0ZXh0RGF0YTtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG59O1xuZnVuY3Rpb24gVGV4dChwcm9wczogVGV4dFByb3BzKSB7XG4gIGNvbnN0IHsgbm9kZSwgd2lkdGgsIGhlaWdodCB9ID0gcHJvcHM7XG5cbiAgY29uc3QgeyBjaGFyYWN0ZXJzIH0gPSBub2RlO1xuICBjb25zdCBzdHlsZVRleHQgPSBnZW5lcmF0ZVN0eWxlVGV4dChub2RlLCB3aWR0aCwgaGVpZ2h0KTtcblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImYyaF9fdGV4dFwiIHN0eWxlPXtzdHlsZVRleHR9PlxuICAgICAge2NoYXJhY3RlcnN9XG4gICAgPC9wPlxuICApO1xufVxuXG5pbnRlcmZhY2UgRnJhbWVDb250YWluZXJQcm9wcyBleHRlbmRzIEZyYW1lRGF0YUludGVyZmFjZSB7XG4gIHNjYWxlPzogbnVtYmVyIHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gRnJhbWVDb250YWluZXIocHJvcHM6IEZyYW1lQ29udGFpbmVyUHJvcHMpOiBoLkpTWC5FbGVtZW50IHtcbiAgY29uc3Qge1xuICAgIHVpZCxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgdGV4dE5vZGVzLFxuICAgIHN2ZyA9IFwiXCIsXG4gICAgc3ZnQ29tcHJlc3NlZCA9IFwiXCIsXG4gICAgc3ZnT3B0aW1pc2VkLFxuICAgIHJlc3BvbnNpdmUsXG4gICAgc2NhbGUsXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgdGV4dEVscyA9IHRleHROb2Rlcy5tYXAoKG5vZGUpID0+IChcbiAgICA8VGV4dCBrZXk9e25vZGUuY2hhcmFjdGVyc30gbm9kZT17bm9kZX0gd2lkdGg9e3dpZHRofSBoZWlnaHQ9e2hlaWdodH0gLz5cbiAgKSk7XG4gIGNvbnN0IGNsYXNzTmFtZXMgPSBgZjJoX19yZW5kZXIgJHtcbiAgICByZXNwb25zaXZlID8gXCJmMmhfX3JlbmRlci0tcmVzcG9uc2l2ZVwiIDogXCJcIlxuICB9YDtcblxuICBsZXQgc3R5bGUgPSByZXNwb25zaXZlID8gXCJcIiA6IGB3aWR0aDogJHt3aWR0aH1weDtgO1xuICBzdHlsZSA9IHNjYWxlID8gYCR7c3R5bGV9IHRyYW5zZm9ybTogc2NhbGUoJHtzY2FsZX0pO2AgOiBzdHlsZTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzfSBzdHlsZT17c3R5bGV9IGlkPXt1aWR9PlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJmMmhfX3N2Z19jb250YWluZXJcIlxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IHN2Z09wdGltaXNlZCA/IHN2Z0NvbXByZXNzZWQgOiBzdmcgfX1cbiAgICAgIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fdGV4dF9jb250YWluZXJcIj57dGV4dEVsc308L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIHJlbmRlcklubGluZVByb3BzIHtcbiAgZnJhbWVzOiBGcmFtZURhdGFJbnRlcmZhY2VbXTtcbiAgaWZyYW1lOiBPVVRQVVRfRk9STUFUUztcbiAgaGVhZGxpbmU/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHN1YmhlYWQ/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHNvdXJjZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJJbmxpbmUocHJvcHM6IHJlbmRlcklubGluZVByb3BzKTogc3RyaW5nIHtcbiAgY29uc3QgeyBmcmFtZXMsIGlmcmFtZSwgaGVhZGxpbmUsIHN1YmhlYWQsIHNvdXJjZSB9ID0gcHJvcHM7XG4gIGNvbnN0IG1lZGlhUXVlcnkgPSBnZW5yZWF0ZU1lZGlhUXVlcmllcyhmcmFtZXMpO1xuXG4gIGNvbnN0IHJlbmRlcmVkRnJhbWVzID0gZnJhbWVzLm1hcCgoZnJhbWUpID0+IChcbiAgICA8RnJhbWVDb250YWluZXIga2V5PXtmcmFtZS51aWR9IHsuLi5mcmFtZX0gLz5cbiAgKSk7XG5cbiAgbGV0IGh0bWwgPSByZW5kZXIoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX2VtYmVkXCI+XG4gICAgICA8c3R5bGVcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICBfX2h0bWw6IGBcbiAgICAgICAke2ZvbnRzQ3NzIGFzIHN0cmluZ31cbiAgICAgICAke2VtYmVkQ3NzIGFzIHN0cmluZ31cbiAgICAgICAke21lZGlhUXVlcnl9XG4gICAgICBgLFxuICAgICAgICB9fVxuICAgICAgPjwvc3R5bGU+XG5cbiAgICAgIHsoaGVhZGxpbmUgfHwgc3ViaGVhZCkgJiYgKFxuICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImYyaF9oZWFkZXJcIj5cbiAgICAgICAgICB7aGVhZGxpbmUgJiYgPGgxIGNsYXNzTmFtZT1cImYyaF9oZWFkbGluZVwiPntoZWFkbGluZX08L2gxPn1cbiAgICAgICAgICB7c3ViaGVhZCAmJiA8cCBjbGFzc05hbWU9XCJmMmhfc3ViYmhlYWRcIj5zdWJoZWFkPC9wPn1cbiAgICAgICAgPC9oZWFkZXI+XG4gICAgICApfVxuXG4gICAgICB7cmVuZGVyZWRGcmFtZXN9XG5cbiAgICAgIHtzb3VyY2UgJiYgKFxuICAgICAgICA8Zm9vdGVyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImYyaF9zb3VyY2VcIj57c291cmNlfTwvcD5cbiAgICAgICAgPC9mb290ZXI+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xuXG4gIGlmIChpZnJhbWUgPT09IE9VVFBVVF9GT1JNQVRTLklGUkFNRSkge1xuICAgIGh0bWwgPSBnZW5lcmF0ZUlmcmFtZUh0bWwoaHRtbCk7XG4gIH1cblxuICByZXR1cm4gaHRtbDtcbiAgLy8gcmV0dXJuIGh0bWwucmVwbGFjZSgvXFxufFxccnxcXHN7Mix9L2csIFwiXCIpO1xufVxuXG5mdW5jdGlvbiBnZW5yZWF0ZU1lZGlhUXVlcmllcyhmcmFtZXM6IEZyYW1lRGF0YUludGVyZmFjZVtdKSB7XG4gIGNvbnN0IGlkV2lkdGhzID0gZnJhbWVzXG4gICAgLm1hcCgoeyB3aWR0aCwgdWlkIH0pID0+IFt3aWR0aCwgdWlkXSlcbiAgICAuc29ydCgoW2FdLCBbYl0pID0+IChhIDwgYiA/IC0xIDogMSkpO1xuXG4gIGNvbnN0IG1lZGlhUXVlcmllcyA9IGlkV2lkdGhzLm1hcCgoW3dpZHRoLCB1aWRdLCBpKSA9PiB7XG4gICAgaWYgKGkgPT09IDApIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cblxuICAgIGNvbnN0IFssIHByZXZJZF0gPSBpZFdpZHRoc1tpIC0gMV07XG5cbiAgICAvLyBOb3RlOiBDYXNjYWRlIG9yZGVyIGlzIGltcG9ydGFudC5cbiAgICByZXR1cm4gYFxuICAgICAgQG1lZGlhIChtYXgtd2lkdGg6ICR7d2lkdGh9cHgpIHtcbiAgICAgICAgIyR7dWlkfSB7IGRpc3BsYXk6IG5vbmU7IH1cbiAgICAgIH1cbiAgICAgIEBtZWRpYSAobWluLXdpZHRoOiAke3dpZHRofXB4KSB7XG4gICAgICAgICMke3ByZXZJZH0geyBkaXNwbGF5OiBub25lOyB9XG4gICAgICAgICMke3VpZH0geyBkaXNwbGF5OiBibG9jazsgfVxuICAgICAgfVxuICAgIGA7XG4gIH0pO1xuXG4gIHJldHVybiBtZWRpYVF1ZXJpZXMuam9pbihcIlwiKTtcbn1cbiIsICJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgcmVuZGVySW5saW5lIH0gZnJvbSBcIi4uL291dHB1dFJlbmRlclwiO1xuaW1wb3J0IHsgT1VUUFVUX0ZPUk1BVFMgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBGcmFtZURhdGFJbnRlcmZhY2UsIEFwcFN0YXRlIH0gZnJvbSBcInR5cGVzXCI7XG5cbmludGVyZmFjZSBSZXNwb25zaXZlVmlld1Byb3BzXG4gIGV4dGVuZHMgUGljazxcbiAgICBBcHBTdGF0ZSxcbiAgICBcInNvdXJjZVwiIHwgXCJoZWFkbGluZVwiIHwgXCJzdWJoZWFkXCIgfCBcIndpbmRvd1dpZHRoXCIgfCBcIndpbmRvd0hlaWdodFwiXG4gID4ge1xuICBmcmFtZXM6IEZyYW1lRGF0YUludGVyZmFjZVtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVzcG9uc2l2ZVZpZXcocHJvcHM6IFJlc3BvbnNpdmVWaWV3UHJvcHMpOiBoLkpTWC5FbGVtZW50IHtcbiAgY29uc3Qge1xuICAgIGZyYW1lcyxcbiAgICBoZWFkbGluZSxcbiAgICBzdWJoZWFkLFxuICAgIHNvdXJjZSxcbiAgICB3aW5kb3dIZWlnaHQsXG4gICAgd2luZG93V2lkdGgsXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBtYXhXaWR0aCA9IE1hdGgubWF4KC4uLmZyYW1lcy5tYXAoKGYpID0+IGYud2lkdGgpKTtcbiAgY29uc3QgbWF4SGVpZ2h0ID0gTWF0aC5tYXgoLi4uZnJhbWVzLm1hcCgoZikgPT4gZi5oZWlnaHQpKTtcbiAgY29uc3QgbWluV2lkdGggPSBNYXRoLm1pbih3aW5kb3dXaWR0aCAtIDEwMCwgbWF4V2lkdGgpO1xuICBjb25zdCBtaW5IZWlnaHQgPSBNYXRoLm1pbih3aW5kb3dIZWlnaHQgLSAxNjAsIG1heEhlaWdodCk7XG5cbiAgY29uc3QgcmF3SHRtbCA9IHJlbmRlcklubGluZSh7XG4gICAgZnJhbWVzLFxuICAgIGlmcmFtZTogT1VUUFVUX0ZPUk1BVFMuSUZSQU1FLFxuICAgIGhlYWRsaW5lLFxuICAgIHN1YmhlYWQsXG4gICAgc291cmNlLFxuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19yZXNwb25zaXZlX3ByZXZpZXdcIj5cbiAgICAgIDxwPlVzZSB0aGUgd2luZG93IGJlbG93IHRvIHRlc3QgaG93IHRoZSBmcmFtZXMgYmVoYXZlIHdoZW4gcmVzaXppbmcuPC9wPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fcmVzcG9uc2l2ZV9fd3JhcHBlclwiPlxuICAgICAgICA8aWZyYW1lXG4gICAgICAgICAgc3R5bGU9e2BoZWlnaHQ6ICR7bWluSGVpZ2h0fXB4OyB3aWR0aDogJHttaW5XaWR0aH1weDtgfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImYyaF9fcmVzcG9uc2l2ZV9fc2FuZGJveFwiXG4gICAgICAgICAgc3JjRG9jPXtyYXdIdG1sfVxuICAgICAgICA+PC9pZnJhbWU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBoLCBGcmFnbWVudCwgQ29tcG9uZW50LCBjcmVhdGVSZWYsIFJlZk9iamVjdCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IEZyYW1lRGF0YUludGVyZmFjZSwgQXBwU3RhdGUsIEhlYWRsaW5lc0ludGVyZmFjZSB9IGZyb20gXCJ0eXBlc1wiO1xuXG5pbnRlcmZhY2UgSW5wdXRGaWVsZFByb3BzIHtcbiAgcmVmVGFyZ2V0OiBSZWZPYmplY3Q8SFRNTElucHV0RWxlbWVudD47XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGhhbmRsZUNoYW5nZTogKCkgPT4gdm9pZDtcbn1cbmZ1bmN0aW9uIElucHV0RmllbGQocHJvcHM6IElucHV0RmllbGRQcm9wcykge1xuICBjb25zdCB7IGxhYmVsLCB2YWx1ZSwgcmVmVGFyZ2V0LCBoYW5kbGVDaGFuZ2UgfSA9IHByb3BzO1xuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwiZjJoX19pbmZvX2Zvcm1fX2l0ZW0gZjJoX19pbmZvX2Zvcm1fX2l0ZW0tLWhlYWRsaW5lXCI+XG4gICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZjJoX19pbmZvX2Zvcm1fX2xhYmVsXCI+e2xhYmVsfTwvbGFiZWw+XG4gICAgICA8aW5wdXRcbiAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19pbmZvX2Zvcm1fX2lucHV0IGYyaF9faW5mb19mb3JtX19pbnB1dC0taGVhZGxpbmVcIlxuICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgcmVmPXtyZWZUYXJnZXR9XG4gICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAvPlxuICAgIDwvcD5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIEZyYW1lU2VsZWN0aW9uUHJvcHNcbiAgZXh0ZW5kcyBQaWNrPEFwcFN0YXRlLCBcInNvdXJjZVwiIHwgXCJoZWFkbGluZVwiIHwgXCJzdWJoZWFkXCI+IHtcbiAgZnJhbWVzOiBGcmFtZURhdGFJbnRlcmZhY2VbXTtcbiAgaGFuZGxlQ2xpY2s6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICB0b2dnbGVSZXNvbnNpdmU6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICB0b2dnbGVTZWxlY3RBbGw6ICgpID0+IHZvaWQ7XG4gIHRvZ2dsZVJlc3BvbnNpdmVBbGw6ICgpID0+IHZvaWQ7XG4gIGhhbmRsZUZvcm1VcGRhdGU6IChwcm9wczogSGVhZGxpbmVzSW50ZXJmYWNlKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgRnJhbWVTZWxlY3Rpb24gZXh0ZW5kcyBDb21wb25lbnQ8RnJhbWVTZWxlY3Rpb25Qcm9wcz4ge1xuICBwcml2YXRlIGhlYWRsaW5lSW5wdXQ6IFJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50PiA9IGNyZWF0ZVJlZigpO1xuICBwcml2YXRlIHN1YmhlYWRJbnB1dDogUmVmT2JqZWN0PEhUTUxJbnB1dEVsZW1lbnQ+ID0gY3JlYXRlUmVmKCk7XG4gIHByaXZhdGUgc291cmNlSW5wdXQ6IFJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50PiA9IGNyZWF0ZVJlZigpO1xuXG4gIHNlbmRGb3JtVmFsdWVzID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgaGFuZGxlRm9ybVVwZGF0ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBoZWFkbGluZSA9IHRoaXMuaGVhZGxpbmVJbnB1dC5jdXJyZW50Py52YWx1ZTtcbiAgICBjb25zdCBzdWJoZWFkID0gdGhpcy5zdWJoZWFkSW5wdXQuY3VycmVudD8udmFsdWU7XG4gICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2VJbnB1dC5jdXJyZW50Py52YWx1ZTtcblxuICAgIGhhbmRsZUZvcm1VcGRhdGUoeyBoZWFkbGluZSwgc3ViaGVhZCwgc291cmNlIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpOiBoLkpTWC5FbGVtZW50IHtcbiAgICBjb25zdCB7XG4gICAgICBmcmFtZXMsXG4gICAgICBoYW5kbGVDbGljayxcbiAgICAgIHRvZ2dsZVJlc29uc2l2ZSxcbiAgICAgIHRvZ2dsZVNlbGVjdEFsbCxcbiAgICAgIHRvZ2dsZVJlc3BvbnNpdmVBbGwsXG4gICAgICBoZWFkbGluZSxcbiAgICAgIHN1YmhlYWQsXG4gICAgICBzb3VyY2UsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBzZWxlY3RDb3VudCA9IGZyYW1lcy5maWx0ZXIoKGZyYW1lKSA9PiBmcmFtZS5zZWxlY3RlZCkubGVuZ3RoO1xuICAgIGNvbnN0IHNvbWVGcmFtZXNTZWxlY3RlZCA9IHNlbGVjdENvdW50ID4gMCAmJiBzZWxlY3RDb3VudCA8IGZyYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgYWxsU2VsZWN0ZWQgPSBzZWxlY3RDb3VudCA9PT0gZnJhbWVzLmxlbmd0aDtcblxuICAgIGNvbnN0IHJlc3BvbnNlQ291bnQgPSBmcmFtZXMuZmlsdGVyKChmcmFtZSkgPT4gZnJhbWUucmVzcG9uc2l2ZSkubGVuZ3RoO1xuICAgIGNvbnN0IHNvbWVSZXNwb25zaXZlU2VsZWN0ZWQgPVxuICAgICAgcmVzcG9uc2VDb3VudCA+IDAgJiYgcmVzcG9uc2VDb3VudCA8IGZyYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgYWxsUmVzcG9uc2l2ZVNlbGVjdGVkID0gcmVzcG9uc2VDb3VudCA9PT0gZnJhbWVzLmxlbmd0aDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fY2hvb3NlX2ZyYW1lc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9faW5mb19mb3JtXCI+XG4gICAgICAgICAgPElucHV0RmllbGRcbiAgICAgICAgICAgIHJlZlRhcmdldD17dGhpcy5oZWFkbGluZUlucHV0fVxuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlPXt0aGlzLnNlbmRGb3JtVmFsdWVzfVxuICAgICAgICAgICAgbGFiZWw9XCJIZWFkbGluZVwiXG4gICAgICAgICAgICB2YWx1ZT17aGVhZGxpbmV9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxJbnB1dEZpZWxkXG4gICAgICAgICAgICByZWZUYXJnZXQ9e3RoaXMuc3ViaGVhZElucHV0fVxuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlPXt0aGlzLnNlbmRGb3JtVmFsdWVzfVxuICAgICAgICAgICAgbGFiZWw9XCJTdWJoZWFkXCJcbiAgICAgICAgICAgIHZhbHVlPXtzdWJoZWFkfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICA8SW5wdXRGaWVsZFxuICAgICAgICAgICAgcmVmVGFyZ2V0PXt0aGlzLnNvdXJjZUlucHV0fVxuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlPXt0aGlzLnNlbmRGb3JtVmFsdWVzfVxuICAgICAgICAgICAgbGFiZWw9XCJTb3VyY2VcIlxuICAgICAgICAgICAgdmFsdWU9e3NvdXJjZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fZnJhbWVfc2VsZWN0aW9uXCI+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImYyaF9fc2VsX2hlYWRlciBmMmhfX3NlbF9oZWFkZXItLW5hbWVcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBuYW1lPVwic2VsZWN0QWxsXCJcbiAgICAgICAgICAgICAgaWQ9XCJzZWxlY3RBbGxcIlxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVTZWxlY3RBbGx9XG4gICAgICAgICAgICAgIGNoZWNrZWQ9e2FsbFNlbGVjdGVkfVxuICAgICAgICAgICAgICByZWY9eyhlbCkgPT4gZWwgJiYgKGVsLmluZGV0ZXJtaW5hdGUgPSBzb21lRnJhbWVzU2VsZWN0ZWQpfVxuICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICBGcmFtZXNcbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmMmhfX3NlbF9oZWFkZXIgZjJoX19zZWxfaGVhZGVyLS1yZXNwb25zaXZlXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgaWQ9XCJyZXNwb25zaXZlQWxsXCJcbiAgICAgICAgICAgICAgbmFtZT1cInJlc3BvbnNpdmVBbGxcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVSZXNwb25zaXZlQWxsfVxuICAgICAgICAgICAgICBjaGVja2VkPXthbGxSZXNwb25zaXZlU2VsZWN0ZWR9XG4gICAgICAgICAgICAgIHJlZj17KGVsKSA9PiBlbCAmJiAoZWwuaW5kZXRlcm1pbmF0ZSA9IHNvbWVSZXNwb25zaXZlU2VsZWN0ZWQpfVxuICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICBSZXNwb25zaXZlXG4gICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgIHtmcmFtZXMubWFwKCh7IG5hbWUsIGlkLCB3aWR0aCwgaGVpZ2h0LCBzZWxlY3RlZCwgcmVzcG9uc2l2ZSB9KSA9PiAoXG4gICAgICAgICAgICA8RnJhZ21lbnQga2V5PXtpZH0+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImYyaF9fbGFiZWwgZjJoX19sYWJlbC0tbmFtZVwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19jaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17c2VsZWN0ZWR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDbGljayhpZCl9XG4gICAgICAgICAgICAgICAgICBpZD17bmFtZX1cbiAgICAgICAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZjJoX19sYWJlbC0tbmFtZS10ZXh0XCIgaHRtbEZvcj17bmFtZX0+XG4gICAgICAgICAgICAgICAgICB7bmFtZX1cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImYyaF9fc2VsX3dpZHRoXCI+XG4gICAgICAgICAgICAgICAgICB7d2lkdGh9IHgge2hlaWdodH1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX2NoZWNrYm94IGYyaF9faW5wdXQtLXJlc3BvbnNpdmVcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17cmVzcG9uc2l2ZX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVSZXNvbnNpdmUoaWQpfVxuICAgICAgICAgICAgICAgIGlkPXtuYW1lfVxuICAgICAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBoLCBDb21wb25lbnQsIGNyZWF0ZVJlZiB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IEZSQU1FX1dBUk5JTkdfU0laRSB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IEZyYW1lQ29udGFpbmVyIH0gZnJvbSBcIi4uL291dHB1dFJlbmRlclwiO1xuaW1wb3J0IHsgRnJhbWVEYXRhSW50ZXJmYWNlIH0gZnJvbSBcInR5cGVzXCI7XG5cbnR5cGUgUHJldmlld1Byb3BzID0ge1xuICBmcmFtZTogRnJhbWVEYXRhSW50ZXJmYWNlO1xuICB3aW5kb3dXaWR0aDogbnVtYmVyO1xuICB3aW5kb3dIZWlnaHQ6IG51bWJlcjtcbn07XG5cbnR5cGUgUHJldmlld1N0YXRlID0ge1xuICBuYXRpdmVTaXplOiBib29sZWFuO1xufTtcblxuaW50ZXJmYWNlIHNjYWxlSW50ZXJmYWNlIHtcbiAgc2NhbGU6IG51bWJlcjtcbiAgc2NhbGVkSGVpZ2h0OiBudW1iZXI7XG4gIHNjYWxlZFdpZHRoOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBQcmV2aWV3IGV4dGVuZHMgQ29tcG9uZW50PFByZXZpZXdQcm9wcywgUHJldmlld1N0YXRlPiB7XG4gIHN0YXRlOiBQcmV2aWV3U3RhdGUgPSB7XG4gICAgbmF0aXZlU2l6ZTogdHJ1ZSxcbiAgfTtcblxuICBpbm5lckVsID0gY3JlYXRlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCk6IHZvaWQge1xuICAgIGNvbnN0IHsgc2NhbGUgfSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICB0aGlzLnNldFN0YXRlKHsgbmF0aXZlU2l6ZTogc2NhbGUgPj0gMSB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShcbiAgICBfcHJldmlvdXNQcm9wczogUHJldmlld1Byb3BzLFxuICAgIHByZXZpb3VzU3RhdGU6IFByZXZpZXdTdGF0ZVxuICApOiB2b2lkIHtcbiAgICBjb25zdCB7IG5hdGl2ZVNpemUgfSA9IHByZXZpb3VzU3RhdGU7XG4gICAgY29uc3QgeyBzY2FsZSB9ID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgIGNvbnN0IGlzTmF0aXZlU2l6ZSA9IHNjYWxlID49IDE7XG5cbiAgICBpZiAobmF0aXZlU2l6ZSAhPT0gaXNOYXRpdmVTaXplKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgbmF0aXZlU2l6ZTogaXNOYXRpdmVTaXplIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjYWxlID0gKCk6IHNjYWxlSW50ZXJmYWNlID0+IHtcbiAgICBjb25zdCB7IHdpbmRvd0hlaWdodCwgd2luZG93V2lkdGgsIGZyYW1lIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZnJhbWU7XG5cbiAgICAvLyBGcmFtZXMgY2FuIGJlIGxhcmdlciB0aGFuIEZpZ21hJ3MgcGx1Z2luIFVJIHdpbmRvdy5cbiAgICAvLyBUbyBhbGxvdyB0aGUgdXNlciB0byBzZWUgdGhlIHdob2xlIGZyYW1lIHdlIG5lZWQgdG8gc2NhbGUgaXQgZG93biB0byBmaXRcbiAgICAvLyBUT0RPOiBHZXQgcmVhbCBVSSBoZWFkZXIgaGVpZ2h0P1xuICAgIGNvbnN0IFdJTkRPV19IRUFERVJfSEVJR0hUID0gMTQwO1xuICAgIGNvbnN0IGhlaWdodFJhdGlvID0gKHdpbmRvd0hlaWdodCAtIFdJTkRPV19IRUFERVJfSEVJR0hUKSAvIGhlaWdodDtcblxuICAgIGNvbnN0IFdJTkRPV19TSURFX01BUkdJTlMgPSAxMjA7XG4gICAgY29uc3Qgd2lkdGhSYXRpbyA9ICh3aW5kb3dXaWR0aCAtIFdJTkRPV19TSURFX01BUkdJTlMpIC8gd2lkdGg7XG5cbiAgICBjb25zdCBzbWFsbGVzdFJhdGlvID0gTWF0aC5taW4oaGVpZ2h0UmF0aW8sIHdpZHRoUmF0aW8pO1xuXG4gICAgY29uc3Qgc2NhbGUgPSBzbWFsbGVzdFJhdGlvIDwgMSA/IHNtYWxsZXN0UmF0aW8gOiAxO1xuICAgIGNvbnN0IHNjYWxlZEhlaWdodCA9IGhlaWdodCAqIHNjYWxlO1xuICAgIGNvbnN0IHNjYWxlZFdpZHRoID0gd2lkdGggKiBzY2FsZTtcblxuICAgIHJldHVybiB7XG4gICAgICBzY2FsZSxcbiAgICAgIHNjYWxlZEhlaWdodCxcbiAgICAgIHNjYWxlZFdpZHRoLFxuICAgIH07XG4gIH07XG5cbiAgdG9nZ2xlWm9vbWVkID0gKCk6IHZvaWQgPT4ge1xuICAgIC8vIFJlcG9zaXRpb24gaW5uZXIgc2Nyb2xsIHRvIGVuc3VyZSB0cmFuc2Zvcm0gb2Zmc2V0IG1hdGNoZXMgdG9wIGxlZnRcbiAgICBjb25zdCB7IGN1cnJlbnQ6IGVsIH0gPSB0aGlzLmlubmVyRWw7XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbC5zY3JvbGxMZWZ0ID0gMDtcbiAgICAgIGVsLnNjcm9sbFRvcCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJNaXNzaW5nIHByZXZpZXcgaW5uZXIgRE9NIGVsZW1lbnRcIik7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG5hdGl2ZVNpemU6ICF0aGlzLnN0YXRlLm5hdGl2ZVNpemUgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCk6IGguSlNYLkVsZW1lbnQge1xuICAgIGNvbnN0IHsgZnJhbWUgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBzdmcsIHN2Z09wdGltaXNlZCwgc3ZnQ29tcHJlc3NlZCB9ID0gZnJhbWU7XG5cbiAgICBjb25zdCByZW5kZXJDaGFyQ291bnQgPVxuICAgICAgKHN2Z09wdGltaXNlZCA/IHN2Z0NvbXByZXNzZWQ/Lmxlbmd0aCA6IHN2Zz8ubGVuZ3RoKSB8fCAwO1xuICAgIGNvbnN0IGZpbGVLYlNpemUgPSBNYXRoLmNlaWwocmVuZGVyQ2hhckNvdW50IC8gMTAwMCk7XG4gICAgY29uc3QgaXNGaWxlTGFyZ2UgPSBmaWxlS2JTaXplID4gRlJBTUVfV0FSTklOR19TSVpFO1xuXG4gICAgY29uc3QgeyBuYXRpdmVTaXplIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgc2NhbGUsIHNjYWxlZEhlaWdodCwgc2NhbGVkV2lkdGggfSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICBjb25zdCBwcmV2aWV3V3JhcHBlclN0eWxlcyA9ICFuYXRpdmVTaXplXG4gICAgICA/IGB3aWR0aDogJHtzY2FsZWRXaWR0aH07IGhlaWdodDogJHtzY2FsZWRIZWlnaHR9O2BcbiAgICAgIDogXCJcIjtcbiAgICBsZXQgc2NhbGVXYXJuaW5nO1xuXG4gICAgaWYgKHNjYWxlIDwgMSkge1xuICAgICAgc2NhbGVXYXJuaW5nID0gKFxuICAgICAgICA8cCBjbGFzc05hbWU9XCJmMmhfX3NjYWxlX3dhcm5pbmcgZjJoX19ub3RpY2UtLXdhcm5pbmdcIj5cbiAgICAgICAgICA8c3Bhbj5ab29tZWQge25hdGl2ZVNpemUgPyBcIjEwMFwiIDogTWF0aC5yb3VuZChzY2FsZSAqIDEwMCl9JSAtIDwvc3Bhbj5cbiAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICBuYXRpdmUgc2l6ZXtcIiBcIn1cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBjaGVja2VkPXtuYXRpdmVTaXplfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZVpvb21lZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9wPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX3ByZXZpZXdcIj5cbiAgICAgICAge2lzRmlsZUxhcmdlICYmIChcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmMmhfX3NpemVfd2FybmluZyBmMmhfX25vdGljZS0td2FybmluZ1wiPlxuICAgICAgICAgICAgRmlsZSBzaXplIGlzIHZlcnkgbGFyZ2UsIGNvbnNpZGVyIHVzaW5nIHNtYWxsZXIgaW1hZ2VzIGFuZCBzaW1wbGllclxuICAgICAgICAgICAgc2hhcGVzXG4gICAgICAgICAgPC9wPlxuICAgICAgICApfVxuXG4gICAgICAgIHtzY2FsZVdhcm5pbmd9XG5cbiAgICAgICAge3N2ZyA/IChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICByZWY9e3RoaXMuaW5uZXJFbH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGYyaF9fcHJldmlld19pbm5lciAke1xuICAgICAgICAgICAgICAhbmF0aXZlU2l6ZSA/IFwiZjJoX19wcmV2aWV3X2lubmVyLS1zY2FsZWRcIiA6IFwiXCJcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgc3R5bGU9e3ByZXZpZXdXcmFwcGVyU3R5bGVzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxGcmFtZUNvbnRhaW5lciB7Li4uZnJhbWV9IHNjYWxlPXshbmF0aXZlU2l6ZSAmJiBzY2FsZX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmMmhfX3ByZXZpZXdfbG9hZGluZ1wiPkxvYWRpbmcuLi48L3A+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgaCwgQ29tcG9uZW50LCBjcmVhdGVSZWYgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBzYXZlQXMgfSBmcm9tIFwiZmlsZS1zYXZlclwiO1xuaW1wb3J0IHsgT1VUUFVUX0ZPUk1BVFMgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyByZW5kZXJJbmxpbmUgfSBmcm9tIFwiLi4vb3V0cHV0UmVuZGVyXCI7XG5pbXBvcnQgeyBGcmFtZURhdGFJbnRlcmZhY2UsIEFwcFN0YXRlIH0gZnJvbSBcInR5cGVzXCI7XG5cbmludGVyZmFjZSBTYXZlUHJvcHMgZXh0ZW5kcyBQaWNrPEFwcFN0YXRlLCBcInNvdXJjZVwiIHwgXCJoZWFkbGluZVwiIHwgXCJzdWJoZWFkXCI+IHtcbiAgZnJhbWVzOiBGcmFtZURhdGFJbnRlcmZhY2VbXTtcbn1cblxuaW50ZXJmYWNlIFNhdmVTdGF0ZSB7XG4gIGFkdmFuY2VkT3BlbjogYm9vbGVhbjtcbiAgc2hvd1RvYXN0OiBib29sZWFuO1xuICBvdXRwdXRGb3JtYXQ6IE9VVFBVVF9GT1JNQVRTO1xufVxuXG5leHBvcnQgY2xhc3MgU2F2ZSBleHRlbmRzIENvbXBvbmVudDxTYXZlUHJvcHMsIFNhdmVTdGF0ZT4ge1xuICBzdGF0ZTogU2F2ZVN0YXRlID0ge1xuICAgIGFkdmFuY2VkT3BlbjogZmFsc2UsXG4gICAgc2hvd1RvYXN0OiBmYWxzZSxcbiAgICBvdXRwdXRGb3JtYXQ6IE9VVFBVVF9GT1JNQVRTLklOTElORSxcbiAgfTtcblxuICBwcml2YXRlIHRleHRBcmVhRWwgPSBjcmVhdGVSZWY8SFRNTFRleHRBcmVhRWxlbWVudD4oKTtcblxuICB0b2dnbGVBZHZhbmNlZCA9ICgpOiB2b2lkID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGFkdmFuY2VkT3BlbjogIXRoaXMuc3RhdGUuYWR2YW5jZWRPcGVuLFxuICAgIH0pO1xuICB9O1xuXG4gIHNhdmVUb0NsaXBib2FyZCA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IGN1cnJlbnQ6IGVsIH0gPSB0aGlzLnRleHRBcmVhRWw7XG5cbiAgICBpZiAoIWVsKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiTWlzc2luZyB0ZXh0YXJlYSBlbGVtZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNlbGVjdCB0ZXh0IGFuZCBjb3B5IHRvIGNsaXBib2FyZFxuICAgIGVsLnNlbGVjdCgpO1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcblxuICAgIC8vIE9ubHkgc2hvdyB0b2FzdCBpZiBpdCBpc24ndCBhbHJlYWR5IGFjdGl2ZVxuICAgIGNvbnN0IHsgc2hvd1RvYXN0IH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmIChzaG93VG9hc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd1RvYXN0OiB0cnVlIH0pO1xuXG4gICAgLy8gQ2xlYXIgdG9hc3QgYWZ0ZXIgYSBmZXcgc2Vjb25kc1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHNob3dUb2FzdDogZmFsc2UgfSksIDIwMDApO1xuICB9O1xuXG4gIHNhdmVFbWJlZFRvQ2xpcGJvYXJkID0gKCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICB7IG91dHB1dEZvcm1hdDogT1VUUFVUX0ZPUk1BVFMuSU5MSU5FIH0sXG4gICAgICB0aGlzLnNhdmVUb0NsaXBib2FyZFxuICAgICk7XG4gIH07XG5cbiAgc2F2ZUJpbmFyeUZpbGUgPSAoKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyBmcmFtZXMsIGhlYWRsaW5lLCBzdWJoZWFkLCBzb3VyY2UgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qgb3V0cHV0RnJhbWVzID0gT2JqZWN0LnZhbHVlcyhmcmFtZXMpLmZpbHRlcigoZikgPT4gZi5zZWxlY3RlZCk7XG5cbiAgICBjb25zdCBmaWxlbmFtZSA9IFwiZmlnbWEtdG8taHRtbC10ZXN0Lmh0bWxcIjtcbiAgICBjb25zdCByYXcgPSByZW5kZXJJbmxpbmUoe1xuICAgICAgZnJhbWVzOiBvdXRwdXRGcmFtZXMsXG4gICAgICBpZnJhbWU6IE9VVFBVVF9GT1JNQVRTLklGUkFNRSxcbiAgICAgIGhlYWRsaW5lLFxuICAgICAgc3ViaGVhZCxcbiAgICAgIHNvdXJjZSxcbiAgICB9KTtcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3Jhd10sIHsgdHlwZTogXCJ0ZXh0L2h0bWxcIiB9KTtcblxuICAgIHNhdmVBcyhibG9iLCBmaWxlbmFtZSk7XG4gIH07XG5cbiAgaGFuZGxlRm9ybWF0Q2hhbmdlID0gKGZvcm1hdDogT1VUUFVUX0ZPUk1BVFMpOiB2b2lkID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG91dHB1dEZvcm1hdDogZm9ybWF0LFxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpOiBoLkpTWC5FbGVtZW50IHtcbiAgICBjb25zdCB7IGZyYW1lcywgaGVhZGxpbmUsIHN1YmhlYWQsIHNvdXJjZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGFkdmFuY2VkT3Blbiwgc2hvd1RvYXN0LCBvdXRwdXRGb3JtYXQgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgcmF3SHRtbCA9IHJlbmRlcklubGluZSh7XG4gICAgICBmcmFtZXMsXG4gICAgICBpZnJhbWU6IG91dHB1dEZvcm1hdCxcbiAgICAgIGhlYWRsaW5lLFxuICAgICAgc3ViaGVhZCxcbiAgICAgIHNvdXJjZSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGFkdmFuY2VkQnRuVGV4dCA9IGAke2FkdmFuY2VkT3BlbiA/IFwiaGlkZVwiIDogXCJzaG93XCJ9YDtcbiAgICBsZXQgYWR2YW5jZWRDbGFzc05hbWUgPSBcImYyaF9fc2F2ZV9hZHZhbmNlZFwiO1xuICAgIGlmIChhZHZhbmNlZE9wZW4pIHtcbiAgICAgIGFkdmFuY2VkQ2xhc3NOYW1lICs9IFwiZjJoX19zYXZlX2FkdmFuY2VkLS1vcGVuXCI7XG4gICAgfVxuXG4gICAgbGV0IHRvYXN0Q2xhc3NOYW1lID0gXCJmMmhfX3RvYXN0XCI7XG4gICAgaWYgKHNob3dUb2FzdCkge1xuICAgICAgdG9hc3RDbGFzc05hbWUgKz0gXCJmMmhfX3RvYXN0LS1vcGVuXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19zYXZlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19zYXZlX29wdGlvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9idG5cIiBvbkNsaWNrPXt0aGlzLnNhdmVFbWJlZFRvQ2xpcGJvYXJkfT5cbiAgICAgICAgICAgIENvcHkgZW1iZWQgdG8gY2xpcGJvYXJkXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJmMmhfX3NhdmVfYnRuXCIgb25DbGljaz17dGhpcy5zYXZlQmluYXJ5RmlsZX0+XG4gICAgICAgICAgICBEb3dubG9hZCBpZnJhbWUgSFRNTCBmaWxlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJmMmhfX3NhdmVfX3N1YmhlYWQgZjJoX19zYXZlX2FkdmFuY2VkLWhlYWRlclwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9hZHZhbmNlZF90aXRsZVwiPkFkdmFuY2VkIHNldHRpbmdzPC9zcGFuPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9hZHZhbmNlZF9zaG93XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlQWR2YW5jZWR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2FkdmFuY2VkQnRuVGV4dH1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9oMj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YWR2YW5jZWRDbGFzc05hbWV9PlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJmMmhfX3NhdmVfX3N1YmhlYWRcIj5Gb3JtYXQ8L2gyPlxuXG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJmMmhfX2lucHV0X2lubGluZVwiIGNsYXNzTmFtZT1cImYyaF9fbGFiZWxcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX3JhZGlvX2J0blwiXG4gICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgIG5hbWU9XCJpbmxpbmVcIlxuICAgICAgICAgICAgICBpZD1cImYyaF9faW5wdXRfaW5saW5lXCJcbiAgICAgICAgICAgICAgdmFsdWU9e09VVFBVVF9GT1JNQVRTLklOTElORX1cbiAgICAgICAgICAgICAgY2hlY2tlZD17b3V0cHV0Rm9ybWF0ID09PSBPVVRQVVRfRk9STUFUUy5JTkxJTkV9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlRm9ybWF0Q2hhbmdlKE9VVFBVVF9GT1JNQVRTLklOTElORSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgSW5saW5lIChkZWZhdWx0KVxuICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImYyaF9faW5wdXRfaWZyYW1lXCIgY2xhc3NOYW1lPVwiZjJoX19sYWJlbFwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImYyaF9fcmFkaW9fYnRuXCJcbiAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgbmFtZT1cImlmcmFtZVwiXG4gICAgICAgICAgICAgIGlkPVwiZjJoX19pbnB1dF9pZnJhbWVcIlxuICAgICAgICAgICAgICB2YWx1ZT17T1VUUFVUX0ZPUk1BVFMuSUZSQU1FfVxuICAgICAgICAgICAgICBjaGVja2VkPXtvdXRwdXRGb3JtYXQgPT09IE9VVFBVVF9GT1JNQVRTLklGUkFNRX1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVGb3JtYXRDaGFuZ2UoT1VUUFVUX0ZPUk1BVFMuSUZSQU1FKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICBpRnJhbWVcbiAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9fc3ViaGVhZFwiPlJhdyBIVE1MPC9oMj5cbiAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIHJlZj17dGhpcy50ZXh0QXJlYUVsfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19zYXZlX19yYXdcIlxuICAgICAgICAgICAgdmFsdWU9e3Jhd0h0bWx9XG4gICAgICAgICAgPjwvdGV4dGFyZWE+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXt0b2FzdENsYXNzTmFtZX0+Q29waWVkIHRvIGNsaXBib2FyZDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBkZWNvZGVTdmdUb1N0cmluZyhzdmc6IFVpbnQ4QXJyYXkpIHtcbiAgbGV0IHN2Z1N0ciA9IG5ldyBUZXh0RGVjb2RlcihcInV0Zi04XCIpLmRlY29kZShzdmcpO1xuICAvLyBOT1RFOiBGaWdtYSBnZW5lcmF0ZXMgbm9uLXVuaXF1ZSBJRHMgZm9yIG1hc2tzIHdoaWNoIGNhbiBjbGFzaCB3aGVuXG4gIC8vIGVtYmVkZGluZyBtdWx0aXBsZSBTVkdTcy4gV2UgZG8gYSBzdHJpbmcgcmVwbGFjZSBmb3IgdW5pcXVlIElEc1xuICBjb25zdCByZWdleCA9IC9pZD1cIiguKz8pXCIvZztcbiAgY29uc3QgaWRzOiBzdHJpbmdbXSA9IFtdO1xuICBsZXQgbWF0Y2hlcztcblxuICB3aGlsZSAoKG1hdGNoZXMgPSByZWdleC5leGVjKHN2Z1N0cikpKSB7XG4gICAgY29uc3QgWywgaWRdID0gbWF0Y2hlcztcbiAgICBpZHMucHVzaChpZCk7XG4gIH1cblxuICBpZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICBjb25zdCBybmQgPSBidG9hKE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKSkuc3Vic3RyKDYsIDYpO1xuICAgIGNvbnN0IHJhbmRvbUlkID0gYCR7aWR9LSR7cm5kfWA7XG4gICAgLy8gUmVwbGFjZSBJRFxuICAgIHN2Z1N0ciA9IHN2Z1N0ci5yZXBsYWNlKGBpZD1cIiR7aWR9XCJgLCBgaWQ9XCIke3JhbmRvbUlkfVwiYCk7XG4gICAgLy8gUmVwbGFjZSBhbmNob3IgcmVmc1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgIyR7aWR9YCwgXCJnXCIpO1xuICAgIHN2Z1N0ciA9IHN2Z1N0ci5yZXBsYWNlKHJlZ2V4LCBgIyR7cmFuZG9tSWR9YCk7XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZSBIVFRQIGxpbmtzIHRvIEhUVFBTXG4gIHN2Z1N0ciA9IHN2Z1N0ci5yZXBsYWNlKC9odHRwOlxcL1xcLy9nLCBcImh0dHBzOi8vXCIpO1xuXG4gIHJldHVybiBzdmdTdHI7XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGNvbXByZXNzSW1hZ2UoXG4gIGltYWdlOiBVaW50OEFycmF5LFxuICB3aWR0aDogbnVtYmVyLFxuICBoZWlnaHQ6IG51bWJlclxuKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgLy8gQ3JlYXRlIGltYWdlIGZyb20gYmxvYiB0byBhY2Nlc3MgbmF0aXZlIGltYWdlIHNpemVzIHRoZSByZXNpemUgYW5kXG4gICAgLy8gY29tcHJlc3NcblxuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuXG4gICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgIGxldCB0YXJnZXRXaWR0aCA9IDA7XG4gICAgICBsZXQgdGFyZ2V0SGVpZ2h0ID0gMDtcblxuICAgICAgLy8gRG9uJ3Qgc2NhbGUgaW1hZ2UgdXAgaWYgbm9kZSBpcyBsYXJnZXIgdGhhbiBpbWFnZVxuICAgICAgaWYgKHdpZHRoID4gaW1nLndpZHRoIHx8IGhlaWdodCA+IGltZy5oZWlnaHQpIHtcbiAgICAgICAgdGFyZ2V0V2lkdGggPSBpbWcud2lkdGg7XG4gICAgICAgIHRhcmdldEhlaWdodCA9IGltZy5oZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTY2FsZSB0byBsYXJnZXN0IGRpbWVuc2lvblxuICAgICAgICBjb25zdCBhc3BlY3RSYXRpbyA9IGltZy53aWR0aCAvIGltZy5oZWlnaHQ7XG4gICAgICAgIHRhcmdldFdpZHRoID0gYXNwZWN0UmF0aW8gPj0gMSA/IGhlaWdodCAqIGFzcGVjdFJhdGlvIDogd2lkdGg7XG4gICAgICAgIHRhcmdldEhlaWdodCA9IGFzcGVjdFJhdGlvID49IDEgPyBoZWlnaHQgOiB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjYW52YXMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHRhcmdldFdpZHRoLCB0YXJnZXRIZWlnaHQpO1xuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgY3R4Py5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB0YXJnZXRXaWR0aCwgdGFyZ2V0SGVpZ2h0KTtcbiAgICAgIGNhbnZhcy5jb252ZXJ0VG9CbG9iKHsgdHlwZTogXCJpbWFnZS9wbmdcIiB9KS50aGVuKChibG9iKSA9PiB7XG4gICAgICAgIGJsb2IuYXJyYXlCdWZmZXIoKS50aGVuKChidWYpID0+IHJlc29sdmUobmV3IFVpbnQ4QXJyYXkoYnVmKSkpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGNvbXByZXNzZWQgaW1hZ2VcIik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbaW1hZ2VdLCB7IHR5cGU6IFwiaW1hZ2UvcG5nXCIgfSk7XG4gICAgY29uc3QgaW1nVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICBpbWcuc3JjID0gaW1nVXJsO1xuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBNU0dfRVZFTlRTIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VuZE1lc3NhZ2UodHlwZTogTVNHX0VWRU5UUywgZGF0YT86IHsgW2lkOiBzdHJpbmddOiBhbnkgfSkge1xuICBjb25zb2xlLmxvZyhcInBvc3QgbWVzc2FnZVwiLCBwYXJlbnQucG9zdE1lc3NhZ2UsIHR5cGUsIGRhdGEpO1xuICBwYXJlbnQucG9zdE1lc3NhZ2UoXG4gICAge1xuICAgICAgcGx1Z2luTWVzc2FnZToge1xuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAuLi5kYXRhLFxuICAgICAgfSxcbiAgICB9LFxuICAgIFwiKlwiXG4gICk7XG59XG4iLCAiLy8gQHRzLW5vY2hlY2tcbi8vIFRPRE86IEFkZCB0eXBlXG5cbi8qKlxuICogRW5jb2RlIHBsYWluIFNWRyBkYXRhIHN0cmluZyBpbnRvIERhdGEgVVJJIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIGlucHV0IHN0cmluZ1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgRGF0YSBVUkkgdHlwZVxuICogQHJldHVybiB7U3RyaW5nfSBvdXRwdXQgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBlbmNvZGVTVkdEYXRhdXJpID0gZnVuY3Rpb24gKHN0ciwgdHlwZSkge1xuICB2YXIgcHJlZml4ID0gXCJkYXRhOmltYWdlL3N2Zyt4bWxcIjtcbiAgaWYgKCF0eXBlIHx8IHR5cGUgPT09IFwiYmFzZTY0XCIpIHtcbiAgICAvLyBiYXNlNjRcbiAgICBwcmVmaXggKz0gXCI7YmFzZTY0LFwiO1xuICAgIGlmIChCdWZmZXIuZnJvbSkge1xuICAgICAgc3RyID0gcHJlZml4ICsgQnVmZmVyLmZyb20oc3RyKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gcHJlZml4ICsgbmV3IEJ1ZmZlcihzdHIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlID09PSBcImVuY1wiKSB7XG4gICAgLy8gVVJJIGVuY29kZWRcbiAgICBzdHIgPSBwcmVmaXggKyBcIixcIiArIGVuY29kZVVSSUNvbXBvbmVudChzdHIpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwidW5lbmNcIikge1xuICAgIC8vIHVuZW5jb2RlZFxuICAgIHN0ciA9IHByZWZpeCArIFwiLFwiICsgc3RyO1xuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG4vKipcbiAqIERlY29kZSBTVkcgRGF0YSBVUkkgc3RyaW5nIGludG8gcGxhaW4gU1ZHIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIGlucHV0IHN0cmluZ1xuICogQHJldHVybiB7U3RyaW5nfSBvdXRwdXQgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBkZWNvZGVTVkdEYXRhdXJpID0gZnVuY3Rpb24gKHN0cikge1xuICB2YXIgcmVnZXhwID0gL2RhdGE6aW1hZ2VcXC9zdmdcXCt4bWwoO2NoYXJzZXQ9W147LF0qKT8oO2Jhc2U2NCk/LCguKikvO1xuICB2YXIgbWF0Y2ggPSByZWdleHAuZXhlYyhzdHIpO1xuXG4gIC8vIHBsYWluIHN0cmluZ1xuICBpZiAoIW1hdGNoKSByZXR1cm4gc3RyO1xuXG4gIHZhciBkYXRhID0gbWF0Y2hbM107XG5cbiAgaWYgKG1hdGNoWzJdKSB7XG4gICAgLy8gYmFzZTY0XG4gICAgc3RyID0gbmV3IEJ1ZmZlcihkYXRhLCBcImJhc2U2NFwiKS50b1N0cmluZyhcInV0ZjhcIik7XG4gIH0gZWxzZSBpZiAoZGF0YS5jaGFyQXQoMCkgPT09IFwiJVwiKSB7XG4gICAgLy8gVVJJIGVuY29kZWRcbiAgICBzdHIgPSBkZWNvZGVVUklDb21wb25lbnQoZGF0YSk7XG4gIH0gZWxzZSBpZiAoZGF0YS5jaGFyQXQoMCkgPT09IFwiPFwiKSB7XG4gICAgLy8gdW5lbmNvZGVkXG4gICAgc3RyID0gZGF0YTtcbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuZXhwb3J0IGNvbnN0IGludGVyc2VjdEFycmF5cyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHJldHVybiBhLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBiLmluZGV4T2YobikgPiAtMTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnQgYSByb3cgb2YgbnVtYmVycyB0byBhbiBvcHRpbWl6ZWQgc3RyaW5nIHZpZXcuXG4gKlxuICogQGV4YW1wbGVcbiAqIFswLCAtMSwgLjUsIC41XSBcdTIxOTIgXCIwLTEgLjUuNVwiXG4gKlxuICogQHBhcmFtIHtudW1iZXJbXX0gZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc1xuICogQHBhcmFtIHtzdHJpbmc/fSBjb21tYW5kIHBhdGggZGF0YSBpbnN0cnVjdGlvblxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgY2xlYW51cE91dERhdGEgPSBmdW5jdGlvbiAoZGF0YSwgcGFyYW1zLCBjb21tYW5kKSB7XG4gIHZhciBzdHIgPSBcIlwiLFxuICAgIGRlbGltaXRlcixcbiAgICBwcmV2O1xuXG4gIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgIC8vIHNwYWNlIGRlbGltaXRlciBieSBkZWZhdWx0XG4gICAgZGVsaW1pdGVyID0gXCIgXCI7XG5cbiAgICAvLyBubyBleHRyYSBzcGFjZSBpbiBmcm9udCBvZiBmaXJzdCBudW1iZXJcbiAgICBpZiAoaSA9PSAwKSBkZWxpbWl0ZXIgPSBcIlwiO1xuXG4gICAgLy8gbm8gZXh0cmEgc3BhY2UgYWZ0ZXIgJ2FyY3RvJyBjb21tYW5kIGZsYWdzXG4gICAgaWYgKHBhcmFtcy5ub1NwYWNlQWZ0ZXJGbGFncyAmJiAoY29tbWFuZCA9PSBcIkFcIiB8fCBjb21tYW5kID09IFwiYVwiKSkge1xuICAgICAgdmFyIHBvcyA9IGkgJSA3O1xuICAgICAgaWYgKHBvcyA9PSA0IHx8IHBvcyA9PSA1KSBkZWxpbWl0ZXIgPSBcIlwiO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBmbG9hdGluZy1wb2ludCBudW1iZXJzIGxlYWRpbmcgemVyb3NcbiAgICAvLyAwLjUgXHUyMTkyIC41XG4gICAgLy8gLTAuNSBcdTIxOTIgLS41XG4gICAgaWYgKHBhcmFtcy5sZWFkaW5nWmVybykge1xuICAgICAgaXRlbSA9IHJlbW92ZUxlYWRpbmdaZXJvKGl0ZW0pO1xuICAgIH1cblxuICAgIC8vIG5vIGV4dHJhIHNwYWNlIGluIGZyb250IG9mIG5lZ2F0aXZlIG51bWJlciBvclxuICAgIC8vIGluIGZyb250IG9mIGEgZmxvYXRpbmcgbnVtYmVyIGlmIGEgcHJldmlvdXMgbnVtYmVyIGlzIGZsb2F0aW5nIHRvb1xuICAgIGlmIChcbiAgICAgIHBhcmFtcy5uZWdhdGl2ZUV4dHJhU3BhY2UgJiZcbiAgICAgIGRlbGltaXRlciAhPSBcIlwiICYmXG4gICAgICAoaXRlbSA8IDAgfHwgKFN0cmluZyhpdGVtKS5jaGFyQ29kZUF0KDApID09IDQ2ICYmIHByZXYgJSAxICE9PSAwKSlcbiAgICApIHtcbiAgICAgIGRlbGltaXRlciA9IFwiXCI7XG4gICAgfVxuICAgIC8vIHNhdmUgcHJldiBpdGVtIHZhbHVlXG4gICAgcHJldiA9IGl0ZW07XG4gICAgc3RyICs9IGRlbGltaXRlciArIGl0ZW07XG4gIH0pO1xuICByZXR1cm4gc3RyO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgZmxvYXRpbmctcG9pbnQgbnVtYmVycyBsZWFkaW5nIHplcm8uXG4gKlxuICogQGV4YW1wbGVcbiAqIDAuNSBcdTIxOTIgLjVcbiAqXG4gKiBAZXhhbXBsZVxuICogLTAuNSBcdTIxOTIgLS41XG4gKlxuICogQHBhcmFtIHtGbG9hdH0gbnVtIGlucHV0IG51bWJlclxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gb3V0cHV0IG51bWJlciBhcyBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZUxlYWRpbmdaZXJvID0gZnVuY3Rpb24gKG51bSkge1xuICB2YXIgc3RyTnVtID0gbnVtLnRvU3RyaW5nKCk7XG5cbiAgaWYgKDAgPCBudW0gJiYgbnVtIDwgMSAmJiBzdHJOdW0uY2hhckNvZGVBdCgwKSA9PSA0OCkge1xuICAgIHN0ck51bSA9IHN0ck51bS5zbGljZSgxKTtcbiAgfSBlbHNlIGlmICgtMSA8IG51bSAmJiBudW0gPCAwICYmIHN0ck51bS5jaGFyQ29kZUF0KDEpID09IDQ4KSB7XG4gICAgc3RyTnVtID0gc3RyTnVtLmNoYXJBdCgwKSArIHN0ck51bS5zbGljZSgyKTtcbiAgfVxuICByZXR1cm4gc3RyTnVtO1xufTtcblxuLyoqXG4gKiBTeW5jaHJvbm91c2x5IGNoZWNrIGlmIHBhdGggaXMgYSBkaXJlY3RvcnkuIFRvbGVyYW50IHRvIGVycm9ycyBsaWtlIEVOT0VOVC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKi9cbmV4cG9ydCBjb25zdCBjaGVja0lzRGlyID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gRlMubHN0YXRTeW5jKHBhdGgpLmlzRGlyZWN0b3J5KCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG4iLCAiLy8gQHRzLW5vY2hlY2tcbi8vIFRPRE86IEFkZCB0eXBlc1xuXG5pbXBvcnQgeyBjbGVhbnVwT3V0RGF0YSB9IGZyb20gXCIuL3Rvb2xzXCI7XG5cbmNvbnN0IHJOdW1iZXIgPSBTdHJpbmcucmF3YFstK10/KD86XFxkKlxcLlxcZCt8XFxkK1xcLj8pKD86W2VFXVstK10/XFxkKyk/XFxzKmA7XG5jb25zdCByQ29tbWFXc3AgPSBTdHJpbmcucmF3YCg/Olxccyw/XFxzKnwsXFxzKilgO1xuY29uc3Qgck51bWJlckNvbW1hV3NwID0gYCgke3JOdW1iZXJ9KWAgKyByQ29tbWFXc3A7XG5jb25zdCByRmxhZ0NvbW1hV3NwID0gYChbMDFdKSR7ckNvbW1hV3NwfT9gO1xuY29uc3QgckNvb3JkaW5hdGVQYWlyID0gU3RyaW5nLnJhd2AoJHtyTnVtYmVyfSkke3JDb21tYVdzcH0/KCR7ck51bWJlcn0pYDtcbmNvbnN0IHJBcmNTZXEgPVxuICAock51bWJlckNvbW1hV3NwICsgXCI/XCIpLnJlcGVhdCgyKSArXG4gIHJOdW1iZXJDb21tYVdzcCArXG4gIHJGbGFnQ29tbWFXc3AucmVwZWF0KDIpICtcbiAgckNvb3JkaW5hdGVQYWlyO1xuXG5jb25zdCByZWdQYXRoSW5zdHJ1Y3Rpb25zID0gLyhbTW1MbEhoVnZDY1NzUXFUdEFhWnpdKVxccyovO1xuY29uc3QgcmVnQ29vcmRpbmF0ZVNlcXVlbmNlID0gbmV3IFJlZ0V4cChyTnVtYmVyLCBcImdcIik7XG5jb25zdCByZWdBcmNBcmd1bWVudFNlcXVlbmNlID0gbmV3IFJlZ0V4cChyQXJjU2VxLCBcImdcIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRoMmpzKHBhdGg6IFNWR1BhdGhFbGVtZW50KSB7XG4gIGNvbnN0IHBhcmFtc0xlbmd0aCA9IHtcbiAgICAvLyBOdW1iZXIgb2YgcGFyYW1ldGVycyBvZiBldmVyeSBwYXRoIGNvbW1hbmRcbiAgICBIOiAxLFxuICAgIFY6IDEsXG4gICAgTTogMixcbiAgICBMOiAyLFxuICAgIFQ6IDIsXG4gICAgUTogNCxcbiAgICBTOiA0LFxuICAgIEM6IDYsXG4gICAgQTogNyxcbiAgICBoOiAxLFxuICAgIHY6IDEsXG4gICAgbTogMixcbiAgICBsOiAyLFxuICAgIHQ6IDIsXG4gICAgcTogNCxcbiAgICBzOiA0LFxuICAgIGM6IDYsXG4gICAgYTogNyxcbiAgfTtcbiAgbGV0IHBhdGhEYXRhID0gW107IC8vIEpTIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwYXRoIGRhdGFcbiAgbGV0IGluc3RydWN0aW9uOyAvLyBjdXJyZW50IGluc3RydWN0aW9uIGNvbnRleHRcbiAgbGV0IHN0YXJ0TW92ZXRvID0gZmFsc2U7XG5cbiAgLy8gc3BsaXR0aW5nIHBhdGggc3RyaW5nIGludG8gYXJyYXkgbGlrZSBbJ00nLCAnMTAgNTAnLCAnTCcsICcyMCAzMCddXG4gIHBhdGhcbiAgICAuZ2V0QXR0cmlidXRlKFwiZFwiKVxuICAgID8uc3BsaXQocmVnUGF0aEluc3RydWN0aW9ucylcbiAgICAuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICBpZiAoIXN0YXJ0TW92ZXRvKSB7XG4gICAgICAgIGlmIChkYXRhID09IFwiTVwiIHx8IGRhdGEgPT0gXCJtXCIpIHtcbiAgICAgICAgICBzdGFydE1vdmV0byA9IHRydWU7XG4gICAgICAgIH0gZWxzZSByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGluc3RydWN0aW9uIGl0ZW1cbiAgICAgIGlmIChyZWdQYXRoSW5zdHJ1Y3Rpb25zLnRlc3QoZGF0YSkpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBkYXRhO1xuXG4gICAgICAgIC8vIHogLSBpbnN0cnVjdGlvbiB3L28gZGF0YVxuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJaXCIgfHwgaW5zdHJ1Y3Rpb24gPT0gXCJ6XCIpIHtcbiAgICAgICAgICBwYXRoRGF0YS5wdXNoKHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uOiBcInpcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkYXRhIGl0ZW1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBib3NzOiB0cnVlICovXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PSBcIkFcIiB8fCBpbnN0cnVjdGlvbiA9PSBcImFcIikge1xuICAgICAgICAgIHZhciBuZXdEYXRhID0gW107XG4gICAgICAgICAgZm9yICh2YXIgYXJnczsgKGFyZ3MgPSByZWdBcmNBcmd1bWVudFNlcXVlbmNlLmV4ZWMoZGF0YSkpOyApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBuZXdEYXRhLnB1c2goYXJnc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGEgPSBuZXdEYXRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGEgPSBkYXRhLm1hdGNoKHJlZ0Nvb3JkaW5hdGVTZXF1ZW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG5cbiAgICAgICAgZGF0YSA9IGRhdGEubWFwKE51bWJlcik7XG4gICAgICAgIC8vIFN1YnNlcXVlbnQgbW92ZXRvIHBhaXJzIG9mIGNvb3JkaW5hdGVzIGFyZSB0aHJlYXRlZCBhcyBpbXBsaWNpdCBsaW5ldG8gY29tbWFuZHNcbiAgICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BhdGhzLmh0bWwjUGF0aERhdGFNb3ZldG9Db21tYW5kc1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJNXCIgfHwgaW5zdHJ1Y3Rpb24gPT0gXCJtXCIpIHtcbiAgICAgICAgICBwYXRoRGF0YS5wdXNoKHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uOiBwYXRoRGF0YS5sZW5ndGggPT0gMCA/IFwiTVwiIDogaW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICBkYXRhOiBkYXRhLnNwbGljZSgwLCAyKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uID09IFwiTVwiID8gXCJMXCIgOiBcImxcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIHBhaXIgPSBwYXJhbXNMZW5ndGhbaW5zdHJ1Y3Rpb25dOyBkYXRhLmxlbmd0aDsgKSB7XG4gICAgICAgICAgcGF0aERhdGEucHVzaCh7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbjogaW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICBkYXRhOiBkYXRhLnNwbGljZSgwLCBwYWlyKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIEZpcnN0IG1vdmV0byBpcyBhY3R1YWxseSBhYnNvbHV0ZS4gU3Vic2VxdWVudCBjb29yZGluYXRlcyB3ZXJlIHNlcGFyYXRlZCBhYm92ZS5cbiAgaWYgKHBhdGhEYXRhLmxlbmd0aCAmJiBwYXRoRGF0YVswXS5pbnN0cnVjdGlvbiA9PSBcIm1cIikge1xuICAgIHBhdGhEYXRhWzBdLmluc3RydWN0aW9uID0gXCJNXCI7XG4gIH1cblxuICByZXR1cm4gcGF0aERhdGE7XG59XG5cbi8qKlxuICogQ29udmVydCBwYXRoIGFycmF5IHRvIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoIGlucHV0IHBhdGggZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBwbHVnaW4gcGFyYW1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9IG91dHB1dCBwYXRoIHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QganMycGF0aCA9IGZ1bmN0aW9uIChwYXRoOiBTVkdQYXRoRWxlbWVudCwgZGF0YSwgcGFyYW1zKSB7XG4gIGlmIChwYXJhbXMuY29sbGFwc2VSZXBlYXRlZCkge1xuICAgIGRhdGEgPSBjb2xsYXBzZVJlcGVhdGVkKGRhdGEpO1xuICB9XG5cbiAgcGF0aC5zZXRBdHRyaWJ1dGUoXG4gICAgXCJkXCIsXG4gICAgZGF0YS5yZWR1Y2UoZnVuY3Rpb24gKHBhdGhTdHJpbmcsIGl0ZW0pIHtcbiAgICAgIHZhciBzdHJEYXRhID0gXCJcIjtcbiAgICAgIGlmIChpdGVtLmRhdGEpIHtcbiAgICAgICAgc3RyRGF0YSA9IGNsZWFudXBPdXREYXRhKGl0ZW0uZGF0YSwgcGFyYW1zLCBpdGVtLmluc3RydWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAocGF0aFN0cmluZyArPSBpdGVtLmluc3RydWN0aW9uICsgc3RyRGF0YSk7XG4gICAgfSwgXCJcIilcbiAgKTtcbn07XG5cbi8qKlxuICogQ29sbGFwc2UgcmVwZWF0ZWQgaW5zdHJ1Y3Rpb25zIGRhdGFcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoIGlucHV0IHBhdGggZGF0YVxuICogQHJldHVybiB7QXJyYXl9IG91dHB1dCBwYXRoIGRhdGFcbiAqL1xuZnVuY3Rpb24gY29sbGFwc2VSZXBlYXRlZChkYXRhKSB7XG4gIHZhciBwcmV2LCBwcmV2SW5kZXg7XG5cbiAgLy8gY29weSBhbiBhcnJheSBhbmQgbW9kaWZpZWRzIGl0ZW0gdG8ga2VlcCBvcmlnaW5hbCBkYXRhIHVudG91Y2hlZFxuICBkYXRhID0gZGF0YS5yZWR1Y2UoZnVuY3Rpb24gKG5ld1BhdGgsIGl0ZW0pIHtcbiAgICBpZiAocHJldiAmJiBpdGVtLmRhdGEgJiYgaXRlbS5pbnN0cnVjdGlvbiA9PSBwcmV2Lmluc3RydWN0aW9uKSB7XG4gICAgICAvLyBjb25jYXQgcHJldmlvdXMgZGF0YSB3aXRoIGN1cnJlbnRcbiAgICAgIGlmIChpdGVtLmluc3RydWN0aW9uICE9IFwiTVwiKSB7XG4gICAgICAgIHByZXYgPSBuZXdQYXRoW3ByZXZJbmRleF0gPSB7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb246IHByZXYuaW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgZGF0YTogcHJldi5kYXRhLmNvbmNhdChpdGVtLmRhdGEpLFxuICAgICAgICAgIGNvb3JkczogaXRlbS5jb29yZHMsXG4gICAgICAgICAgYmFzZTogcHJldi5iYXNlLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldi5kYXRhID0gaXRlbS5kYXRhO1xuICAgICAgICBwcmV2LmNvb3JkcyA9IGl0ZW0uY29vcmRzO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdQYXRoLnB1c2goaXRlbSk7XG4gICAgICBwcmV2ID0gaXRlbTtcbiAgICAgIHByZXZJbmRleCA9IG5ld1BhdGgubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3UGF0aDtcbiAgfSwgW10pO1xuXG4gIHJldHVybiBkYXRhO1xufVxuIiwgIi8qKlxuICogQ29udmVydHMgYmFzaWMgc2hhcGUgdG8gbW9yZSBjb21wYWN0IHBhdGguXG4gKiBJdCBhbHNvIGFsbG93cyBmdXJ0aGVyIG9wdGltaXphdGlvbnMgbGlrZVxuICogY29tYmluaW5nIHBhdGhzIHdpdGggc2ltaWxhciBhdHRyaWJ1dGVzLlxuICpcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3NoYXBlcy5odG1sXG4gKlxuICogQHBhcmFtIHtTVkdHZW9tZXRyeUVsZW1lbnR9IGl0ZW0gY3VycmVudCBpdGVyYXRpb24gaXRlbVxuICpcbiAqIEBhdXRob3IgTGV2IFNvbG50c2V2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0U2hhcGVzVG9QYXRoKGVsOiBTVkdFbGVtZW50KTogdm9pZCB7XG4gIGlmIChcbiAgICBlbCBpbnN0YW5jZW9mIFNWR1JlY3RFbGVtZW50ICYmXG4gICAgZWwuaGFzQXR0cmlidXRlKFwid2lkdGhcIikgJiZcbiAgICBlbC5oYXNBdHRyaWJ1dGUoXCJoZWlnaHRcIikgJiZcbiAgICBlbC5oYXNBdHRyaWJ1dGUoXCJyeFwiKSA9PT0gZmFsc2UgJiZcbiAgICBlbC5oYXNBdHRyaWJ1dGUoXCJyeVwiKSA9PT0gZmFsc2VcbiAgKSB7XG4gICAgY29uc3QgeCA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwieFwiKSB8fCBcIjBcIik7XG4gICAgY29uc3QgeSA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwieVwiKSB8fCBcIjBcIik7XG4gICAgY29uc3Qgd2lkdGggPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpIHx8IFwiMFwiKTtcbiAgICBjb25zdCBoZWlnaHQgPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSB8fCBcIjBcIik7XG5cbiAgICAvLyBWYWx1ZXMgbGlrZSAnMTAwJScgY29tcHV0ZSB0byBOYU4sIHRodXMgcnVubmluZyBhZnRlclxuICAgIC8vIGNsZWFudXBOdW1lcmljVmFsdWVzIHdoZW4gJ3B4JyB1bml0cyBoYXMgYWxyZWFkeSBiZWVuIHJlbW92ZWQuXG4gICAgLy8gVE9ETzogQ2FsY3VsYXRlIHNpemVzIGZyb20gJSBhbmQgbm9uLXB4IHVuaXRzIGlmIHBvc3NpYmxlLlxuICAgIGlmIChpc05hTih4IC0geSArIHdpZHRoIC0gaGVpZ2h0KSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcGF0aEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgXCJwYXRoXCJcbiAgICApO1xuXG4gICAgY29uc3QgcGF0aERhdGEgPSBgTSR7eH0gJHt5fUgke3ggKyB3aWR0aH1WJHt5ICsgaGVpZ2h0fUgke3h9emA7XG4gICAgcGF0aEVsLnNldEF0dHJpYnV0ZShcImRcIiwgcGF0aERhdGEpO1xuXG4gICAgY29uc3QgQVRUUklCVVRFU19UT19FWENMVURFID0gW1wieFwiLCBcInlcIiwgXCJ3aWR0aFwiLCBcImhlaWdodFwiXTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgQXJyYXkuZnJvbShlbC5hdHRyaWJ1dGVzKSkge1xuICAgICAgaWYgKEFUVFJJQlVURVNfVE9fRVhDTFVERS5pbmNsdWRlcyhwcm9wLm5hbWUpID09PSBmYWxzZSkge1xuICAgICAgICBwYXRoRWwuc2V0QXR0cmlidXRlKHByb3AubmFtZSwgcHJvcC52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZWwucGFyZW50RWxlbWVudD8ucmVwbGFjZUNoaWxkKHBhdGhFbCwgZWwpO1xuICB9IGVsc2UgaWYgKGVsIGluc3RhbmNlb2YgU1ZHTGluZUVsZW1lbnQpIHtcbiAgICBjb25zdCB4MSA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwieDFcIikgfHwgXCIwXCIpO1xuICAgIGNvbnN0IHgyID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ4MlwiKSB8fCBcIjBcIik7XG4gICAgY29uc3QgeTEgPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcInkxXCIpIHx8IFwiMFwiKTtcbiAgICBjb25zdCB5MiA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwieTJcIikgfHwgXCIwXCIpO1xuXG4gICAgaWYgKGlzTmFOKHgxIC0geTEgKyB4MiAtIHkyKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcGF0aEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgXCJwYXRoXCJcbiAgICApO1xuICAgIGNvbnN0IHBhdGhEYXRhID0gYE0ke3gxfSAke3kxfUwke3gyfSAke3kyfWA7XG4gICAgcGF0aEVsLnNldEF0dHJpYnV0ZShcImRcIiwgcGF0aERhdGEpO1xuXG4gICAgY29uc3QgQVRUUklCVVRFU19UT19FWENMVURFID0gW1wieDFcIiwgXCJ5MVwiLCBcIngyXCIsIFwieTJcIl07XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIEFycmF5LmZyb20oZWwuYXR0cmlidXRlcykpIHtcbiAgICAgIGlmIChBVFRSSUJVVEVTX1RPX0VYQ0xVREUuaW5jbHVkZXMocHJvcC5uYW1lKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcGF0aEVsLnNldEF0dHJpYnV0ZShwcm9wLm5hbWUsIHByb3AudmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGVsLnBhcmVudEVsZW1lbnQ/LnJlcGxhY2VDaGlsZChwYXRoRWwsIGVsKTtcbiAgfSBlbHNlIGlmIChcbiAgICAoZWwgaW5zdGFuY2VvZiBTVkdQb2x5bGluZUVsZW1lbnQgfHwgZWwgaW5zdGFuY2VvZiBTVkdQb2x5Z29uRWxlbWVudCkgJiZcbiAgICBlbC5oYXNBdHRyaWJ1dGUoXCJwb2ludHNcIilcbiAgKSB7XG4gICAgY29uc3QgUkVHWF9OVU1CRVIgPSAvWy0rXT8oPzpcXGQqXFwuXFxkK3xcXGQrXFwuPykoPzpbZUVdWy0rXT9cXGQrKT8vZztcbiAgICBjb25zdCBwb2ludHMgPSBlbC5nZXRBdHRyaWJ1dGUoXCJwb2ludHNcIikgPz8gXCJcIjtcbiAgICBjb25zdCBjb29yZHMgPSAocG9pbnRzLm1hdGNoKFJFR1hfTlVNQkVSKSA/PyBbXSkubWFwKE51bWJlcik7XG5cbiAgICBpZiAoY29vcmRzLmxlbmd0aCA8IDQpIHJldHVybjtcblxuICAgIGNvbnN0IHBhdGhFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwicGF0aFwiXG4gICAgKTtcbiAgICBjb25zdCBbeCwgeV0gPSBjb29yZHMuc2xpY2UoMCwgMik7XG4gICAgY29uc3QgcmVtYWluaW5nUG9pbnRzID0gY29vcmRzLnNsaWNlKDIpLmpvaW4oXCIgXCIpO1xuICAgIGNvbnN0IHN1ZmZpeCA9IGVsIGluc3RhbmNlb2YgU1ZHUG9seWdvbkVsZW1lbnQgPyBcInpcIiA6IFwiXCI7XG4gICAgY29uc3QgcGF0aERhdGEgPSBgTSR7eH0gJHt5fUwke3JlbWFpbmluZ1BvaW50c30ke3N1ZmZpeH1gO1xuICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUoXCJkXCIsIHBhdGhEYXRhKTtcblxuICAgIGNvbnN0IEFUVFJJQlVURVNfVE9fRVhDTFVERSA9IFtcInBvaW50c1wiXTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgQXJyYXkuZnJvbShlbC5hdHRyaWJ1dGVzKSkge1xuICAgICAgaWYgKEFUVFJJQlVURVNfVE9fRVhDTFVERS5pbmNsdWRlcyhwcm9wLm5hbWUpID09PSBmYWxzZSkge1xuICAgICAgICBwYXRoRWwuc2V0QXR0cmlidXRlKHByb3AubmFtZSwgcHJvcC52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZWwucGFyZW50RWxlbWVudD8ucmVwbGFjZUNoaWxkKHBhdGhFbCwgZWwpO1xuICB9XG59XG4iLCAiLy8gQHRzLW5vY2hlY2tcbi8vIFRPRE86IEFkZCB0eXBlc1xuXG5pbXBvcnQgeyBwYXRoMmpzLCBqczJwYXRoIH0gZnJvbSBcIi4vbGliL3BhdGhcIjtcbmltcG9ydCB7IGNsZWFudXBPdXREYXRhIH0gZnJvbSBcIi4vbGliL3Rvb2xzXCI7XG5pbXBvcnQgeyBjb252ZXJ0U2hhcGVzVG9QYXRoIH0gZnJvbSBcIi4vbGliL3NoYXBlVG9QYXRoXCI7XG5cbmV4cG9ydCBjb25zdCBwYXJhbXMgPSB7XG4gIGFwcGx5VHJhbnNmb3JtczogdHJ1ZSxcbiAgYXBwbHlUcmFuc2Zvcm1zU3Ryb2tlZDogdHJ1ZSxcbiAgbWFrZUFyY3M6IHtcbiAgICB0aHJlc2hvbGQ6IDIuNSwgLy8gY29lZmZpY2llbnQgb2Ygcm91bmRpbmcgZXJyb3JcbiAgICB0b2xlcmFuY2U6IDAuNSwgLy8gcGVyY2VudGFnZSBvZiByYWRpdXNcbiAgfSxcbiAgc3RyYWlnaHRDdXJ2ZXM6IHRydWUsXG4gIGxpbmVTaG9ydGhhbmRzOiB0cnVlLFxuICBjdXJ2ZVNtb290aFNob3J0aGFuZHM6IHRydWUsXG4gIGZsb2F0UHJlY2lzaW9uOiAxLFxuICB0cmFuc2Zvcm1QcmVjaXNpb246IDUsXG4gIHJlbW92ZVVzZWxlc3M6IHRydWUsXG4gIGNvbGxhcHNlUmVwZWF0ZWQ6IHRydWUsXG4gIHV0aWxpemVBYnNvbHV0ZTogdHJ1ZSxcbiAgbGVhZGluZ1plcm86IHRydWUsXG4gIG5lZ2F0aXZlRXh0cmFTcGFjZTogdHJ1ZSxcbiAgbm9TcGFjZUFmdGVyRmxhZ3M6IHRydWUsXG4gIGZvcmNlQWJzb2x1dGVQYXRoOiBmYWxzZSxcbn07XG5cbmxldCByb3VuZERhdGE6IHsgKGFyZzA6IGFueVtdKTogYW55W107IChkYXRhOiBhbnkpOiBhbnkgfTtcbmxldCBwcmVjaXNpb246IG51bWJlciB8IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5sZXQgZXJyb3I6IG51bWJlcjtcbmxldCBhcmNUaHJlc2hvbGQ6IG51bWJlcjtcbmxldCBhcmNUb2xlcmFuY2U6IG51bWJlcjtcbmxldCBoYXNNYXJrZXJNaWQ6IGJvb2xlYW47XG5sZXQgaGFzU3Ryb2tlTGluZWNhcDogc3RyaW5nIHwgYm9vbGVhbiB8IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcnVuY2hTdmcoc3ZnOiBTVkdFbGVtZW50KSB7XG4gIGZvciAoY29uc3Qgbm9kZSBvZiBBcnJheS5mcm9tKHN2Zy5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSkgYXMgU1ZHRWxlbWVudFtdKSB7XG4gICAgY29udmVydFNoYXBlc1RvUGF0aChub2RlKTtcbiAgICBvcHRpbWlzZUVsZW1lbnQobm9kZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFic29sdXRlIFBhdGggdG8gcmVsYXRpdmUsXG4gKiBjb2xsYXBzZSByZXBlYXRlZCBpbnN0cnVjdGlvbnMsXG4gKiBkZXRlY3QgYW5kIGNvbnZlcnQgTGluZXRvIHNob3J0aGFuZHMsXG4gKiByZW1vdmUgdXNlbGVzcyBpbnN0cnVjdGlvbnMgbGlrZSBcImwwLDBcIixcbiAqIHRyaW0gdXNlbGVzcyBkZWxpbWl0ZXJzIGFuZCBsZWFkaW5nIHplcm9zLFxuICogZGVjcmVhc2UgYWNjdXJhY3kgb2YgZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAqXG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9wYXRocy5odG1sI1BhdGhEYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gY3VycmVudCBpdGVyYXRpb24gaXRlbVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBwbHVnaW4gcGFyYW1zXG4gKiBAcmV0dXJuIHtCb29sZWFufSBpZiBmYWxzZSwgaXRlbSB3aWxsIGJlIGZpbHRlcmVkIG91dFxuICpcbiAqIEBhdXRob3IgS2lyIEJlbGV2aWNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcHRpbWlzZUVsZW1lbnQoaXRlbTogU1ZHRWxlbWVudCkge1xuICBwcmVjaXNpb24gPSBwYXJhbXMuZmxvYXRQcmVjaXNpb247XG5cbiAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBTVkdQYXRoRWxlbWVudCAmJiBpdGVtLmhhc0F0dHJpYnV0ZShcImRcIikpIHtcbiAgICBlcnJvciA9XG4gICAgICBwcmVjaXNpb24gIT09IGZhbHNlID8gK01hdGgucG93KDAuMSwgcHJlY2lzaW9uKS50b0ZpeGVkKHByZWNpc2lvbikgOiAxZS0yO1xuICAgIHJvdW5kRGF0YSA9IHByZWNpc2lvbiA+IDAgJiYgcHJlY2lzaW9uIDwgMjAgPyBzdHJvbmdSb3VuZCA6IHJvdW5kO1xuICAgIGlmIChwYXJhbXMubWFrZUFyY3MpIHtcbiAgICAgIGFyY1RocmVzaG9sZCA9IHBhcmFtcy5tYWtlQXJjcy50aHJlc2hvbGQ7XG4gICAgICBhcmNUb2xlcmFuY2UgPSBwYXJhbXMubWFrZUFyY3MudG9sZXJhbmNlO1xuICAgIH1cbiAgICBoYXNNYXJrZXJNaWQgPSBpdGVtLmhhc0F0dHJpYnV0ZShcIm1hcmtlci1taWRcIik7XG5cbiAgICBjb25zdCBzdHJva2UgPSBpdGVtLmdldEF0dHJpYnV0ZShcInN0cm9rZVwiKTtcbiAgICBjb25zdCBzdHJva2VMaW5lY2FwID0gaXRlbS5nZXRBdHRyaWJ1dGUoXCJzdHJva2VcIik7XG4gICAgaGFzU3Ryb2tlTGluZWNhcCA9XG4gICAgICBzdHJva2UgJiYgc3Ryb2tlICE9IFwibm9uZVwiICYmIHN0cm9rZUxpbmVjYXAgJiYgc3Ryb2tlTGluZWNhcCAhPSBcImJ1dHRcIjtcblxuICAgIHZhciBkYXRhID0gcGF0aDJqcyhpdGVtKTtcblxuICAgIC8vIFRPRE86IGdldCByaWQgb2YgZnVuY3Rpb25zIHJldHVybnNcbiAgICBpZiAoZGF0YS5sZW5ndGgpIHtcbiAgICAgIGNvbnZlcnRUb1JlbGF0aXZlKGRhdGEpO1xuXG4gICAgICBkYXRhID0gZmlsdGVycyhkYXRhLCBwYXJhbXMpO1xuXG4gICAgICBpZiAocGFyYW1zLnV0aWxpemVBYnNvbHV0ZSkge1xuICAgICAgICBkYXRhID0gY29udmVydFRvTWl4ZWQoZGF0YSwgcGFyYW1zKTtcbiAgICAgIH1cblxuICAgICAganMycGF0aChpdGVtLCBkYXRhLCBwYXJhbXMpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnQgYWJzb2x1dGUgcGF0aCBkYXRhIGNvb3JkaW5hdGVzIHRvIHJlbGF0aXZlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhdGggaW5wdXQgcGF0aCBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIHBsdWdpbiBwYXJhbXNcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRwdXQgcGF0aCBkYXRhXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb1JlbGF0aXZlKHBhdGgpIHtcbiAgdmFyIHBvaW50ID0gWzAsIDBdLFxuICAgIHN1YnBhdGhQb2ludCA9IFswLCAwXSxcbiAgICBiYXNlSXRlbTtcblxuICBwYXRoLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgdmFyIGluc3RydWN0aW9uID0gaXRlbS5pbnN0cnVjdGlvbixcbiAgICAgIGRhdGEgPSBpdGVtLmRhdGE7XG5cbiAgICAvLyBkYXRhICE9PSAhelxuICAgIGlmIChkYXRhKSB7XG4gICAgICAvLyBhbHJlYWR5IHJlbGF0aXZlXG4gICAgICAvLyByZWNhbGN1bGF0ZSBjdXJyZW50IHBvaW50XG4gICAgICBpZiAoXCJtY3NscXRhXCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSkge1xuICAgICAgICBwb2ludFswXSArPSBkYXRhW2RhdGEubGVuZ3RoIC0gMl07XG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwibVwiKSB7XG4gICAgICAgICAgc3VicGF0aFBvaW50WzBdID0gcG9pbnRbMF07XG4gICAgICAgICAgc3VicGF0aFBvaW50WzFdID0gcG9pbnRbMV07XG4gICAgICAgICAgYmFzZUl0ZW0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcImhcIikge1xuICAgICAgICBwb2ludFswXSArPSBkYXRhWzBdO1xuICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJ2XCIpIHtcbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVswXTtcbiAgICAgIH1cblxuICAgICAgLy8gY29udmVydCBhYnNvbHV0ZSBwYXRoIGRhdGEgY29vcmRpbmF0ZXMgdG8gcmVsYXRpdmVcbiAgICAgIC8vIGlmIFwiTVwiIHdhcyBub3QgdHJhbnNmb3JtZWQgZnJvbSBcIm1cIlxuICAgICAgLy8gTSBcdTIxOTIgbVxuICAgICAgaWYgKGluc3RydWN0aW9uID09PSBcIk1cIikge1xuICAgICAgICBpZiAoaW5kZXggPiAwKSBpbnN0cnVjdGlvbiA9IFwibVwiO1xuXG4gICAgICAgIGRhdGFbMF0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbMV0gLT0gcG9pbnRbMV07XG5cbiAgICAgICAgc3VicGF0aFBvaW50WzBdID0gcG9pbnRbMF0gKz0gZGF0YVswXTtcbiAgICAgICAgc3VicGF0aFBvaW50WzFdID0gcG9pbnRbMV0gKz0gZGF0YVsxXTtcblxuICAgICAgICBiYXNlSXRlbSA9IGl0ZW07XG4gICAgICB9XG5cbiAgICAgIC8vIEwgXHUyMTkyIGxcbiAgICAgIC8vIFQgXHUyMTkyIHRcbiAgICAgIGVsc2UgaWYgKFwiTFRcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24udG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAvLyB4IHlcbiAgICAgICAgLy8gMCAxXG4gICAgICAgIGRhdGFbMF0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbMV0gLT0gcG9pbnRbMV07XG5cbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVswXTtcbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVsxXTtcblxuICAgICAgICAvLyBDIFx1MjE5MiBjXG4gICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcIkNcIikge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IFwiY1wiO1xuXG4gICAgICAgIC8vIHgxIHkxIHgyIHkyIHggeVxuICAgICAgICAvLyAwICAxICAyICAzICA0IDVcbiAgICAgICAgZGF0YVswXSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVsxXSAtPSBwb2ludFsxXTtcbiAgICAgICAgZGF0YVsyXSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVszXSAtPSBwb2ludFsxXTtcbiAgICAgICAgZGF0YVs0XSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVs1XSAtPSBwb2ludFsxXTtcblxuICAgICAgICBwb2ludFswXSArPSBkYXRhWzRdO1xuICAgICAgICBwb2ludFsxXSArPSBkYXRhWzVdO1xuXG4gICAgICAgIC8vIFMgXHUyMTkyIHNcbiAgICAgICAgLy8gUSBcdTIxOTIgcVxuICAgICAgfSBlbHNlIGlmIChcIlNRXCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSkge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgLy8geDEgeTEgeCB5XG4gICAgICAgIC8vIDAgIDEgIDIgM1xuICAgICAgICBkYXRhWzBdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzFdIC09IHBvaW50WzFdO1xuICAgICAgICBkYXRhWzJdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzNdIC09IHBvaW50WzFdO1xuXG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbMl07XG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbM107XG5cbiAgICAgICAgLy8gQSBcdTIxOTIgYVxuICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJBXCIpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImFcIjtcblxuICAgICAgICAvLyByeCByeSB4LWF4aXMtcm90YXRpb24gbGFyZ2UtYXJjLWZsYWcgc3dlZXAtZmxhZyB4IHlcbiAgICAgICAgLy8gMCAgMSAgMiAgICAgICAgICAgICAgIDMgICAgICAgICAgICAgIDQgICAgICAgICAgNSA2XG4gICAgICAgIGRhdGFbNV0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbNl0gLT0gcG9pbnRbMV07XG5cbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVs1XTtcbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVs2XTtcblxuICAgICAgICAvLyBIIFx1MjE5MiBoXG4gICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcIkhcIikge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IFwiaFwiO1xuXG4gICAgICAgIGRhdGFbMF0gLT0gcG9pbnRbMF07XG5cbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVswXTtcblxuICAgICAgICAvLyBWIFx1MjE5MiB2XG4gICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcIlZcIikge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IFwidlwiO1xuXG4gICAgICAgIGRhdGFbMF0gLT0gcG9pbnRbMV07XG5cbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVswXTtcbiAgICAgIH1cblxuICAgICAgaXRlbS5pbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uO1xuICAgICAgaXRlbS5kYXRhID0gZGF0YTtcblxuICAgICAgLy8gc3RvcmUgYWJzb2x1dGUgY29vcmRpbmF0ZXMgZm9yIGxhdGVyIHVzZVxuICAgICAgaXRlbS5jb29yZHMgPSBwb2ludC5zbGljZSgtMik7XG4gICAgfVxuXG4gICAgLy8gIWRhdGEgPT09IHosIHJlc2V0IGN1cnJlbnQgcG9pbnRcbiAgICBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcInpcIikge1xuICAgICAgaWYgKGJhc2VJdGVtKSB7XG4gICAgICAgIGl0ZW0uY29vcmRzID0gYmFzZUl0ZW0uY29vcmRzO1xuICAgICAgfVxuICAgICAgcG9pbnRbMF0gPSBzdWJwYXRoUG9pbnRbMF07XG4gICAgICBwb2ludFsxXSA9IHN1YnBhdGhQb2ludFsxXTtcbiAgICB9XG5cbiAgICBpdGVtLmJhc2UgPSBpbmRleCA+IDAgPyBwYXRoW2luZGV4IC0gMV0uY29vcmRzIDogWzAsIDBdO1xuICB9KTtcblxuICByZXR1cm4gcGF0aDtcbn1cblxuLyoqXG4gKiBNYWluIGZpbHRlcnMgbG9vcC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoIGlucHV0IHBhdGggZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBwbHVnaW4gcGFyYW1zXG4gKiBAcmV0dXJuIHtBcnJheX0gb3V0cHV0IHBhdGggZGF0YVxuICovXG5mdW5jdGlvbiBmaWx0ZXJzKHBhdGgsIHBhcmFtcykge1xuICB2YXIgc3RyaW5naWZ5ID0gZGF0YTJQYXRoLmJpbmQobnVsbCwgcGFyYW1zKSxcbiAgICByZWxTdWJwb2ludCA9IFswLCAwXSxcbiAgICBwYXRoQmFzZSA9IFswLCAwXSxcbiAgICBwcmV2ID0ge307XG5cbiAgcGF0aCA9IHBhdGguZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCwgcGF0aCkge1xuICAgIHZhciBpbnN0cnVjdGlvbiA9IGl0ZW0uaW5zdHJ1Y3Rpb24sXG4gICAgICBkYXRhID0gaXRlbS5kYXRhLFxuICAgICAgbmV4dCA9IHBhdGhbaW5kZXggKyAxXTtcblxuICAgIGlmIChkYXRhKSB7XG4gICAgICB2YXIgc2RhdGEgPSBkYXRhLFxuICAgICAgICBjaXJjbGU7XG5cbiAgICAgIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJzXCIpIHtcbiAgICAgICAgc2RhdGEgPSBbMCwgMF0uY29uY2F0KGRhdGEpO1xuXG4gICAgICAgIGlmIChcImNzXCIuaW5kZXhPZihwcmV2Lmluc3RydWN0aW9uKSA+IC0xKSB7XG4gICAgICAgICAgdmFyIHBkYXRhID0gcHJldi5kYXRhLFxuICAgICAgICAgICAgbiA9IHBkYXRhLmxlbmd0aDtcblxuICAgICAgICAgIC8vICgteCwgLXkpIG9mIHRoZSBwcmV2IHRhbmdlbnQgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgICBzZGF0YVswXSA9IHBkYXRhW24gLSAyXSAtIHBkYXRhW24gLSA0XTtcbiAgICAgICAgICBzZGF0YVsxXSA9IHBkYXRhW24gLSAxXSAtIHBkYXRhW24gLSAzXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb252ZXJ0IGN1cnZlcyB0byBhcmNzIGlmIHBvc3NpYmxlXG4gICAgICBpZiAoXG4gICAgICAgIHBhcmFtcy5tYWtlQXJjcyAmJlxuICAgICAgICAoaW5zdHJ1Y3Rpb24gPT0gXCJjXCIgfHwgaW5zdHJ1Y3Rpb24gPT0gXCJzXCIpICYmXG4gICAgICAgIGlzQ29udmV4KHNkYXRhKSAmJlxuICAgICAgICAoY2lyY2xlID0gZmluZENpcmNsZShzZGF0YSkpXG4gICAgICApIHtcbiAgICAgICAgdmFyIHIgPSByb3VuZERhdGEoW2NpcmNsZS5yYWRpdXNdKVswXSxcbiAgICAgICAgICBhbmdsZSA9IGZpbmRBcmNBbmdsZShzZGF0YSwgY2lyY2xlKSxcbiAgICAgICAgICBzd2VlcCA9IHNkYXRhWzVdICogc2RhdGFbMF0gLSBzZGF0YVs0XSAqIHNkYXRhWzFdID4gMCA/IDEgOiAwLFxuICAgICAgICAgIGFyYyA9IHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uOiBcImFcIixcbiAgICAgICAgICAgIGRhdGE6IFtyLCByLCAwLCAwLCBzd2VlcCwgc2RhdGFbNF0sIHNkYXRhWzVdXSxcbiAgICAgICAgICAgIGNvb3JkczogaXRlbS5jb29yZHMuc2xpY2UoKSxcbiAgICAgICAgICAgIGJhc2U6IGl0ZW0uYmFzZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG91dHB1dCA9IFthcmNdLFxuICAgICAgICAgIC8vIHJlbGF0aXZlIGNvb3JkaW5hdGVzIHRvIGFkanVzdCB0aGUgZm91bmQgY2lyY2xlXG4gICAgICAgICAgcmVsQ2VudGVyID0gW1xuICAgICAgICAgICAgY2lyY2xlLmNlbnRlclswXSAtIHNkYXRhWzRdLFxuICAgICAgICAgICAgY2lyY2xlLmNlbnRlclsxXSAtIHNkYXRhWzVdLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgcmVsQ2lyY2xlID0geyBjZW50ZXI6IHJlbENlbnRlciwgcmFkaXVzOiBjaXJjbGUucmFkaXVzIH0sXG4gICAgICAgICAgYXJjQ3VydmVzID0gW2l0ZW1dLFxuICAgICAgICAgIGhhc1ByZXYgPSAwLFxuICAgICAgICAgIHN1ZmZpeCA9IFwiXCIsXG4gICAgICAgICAgbmV4dExvbmdoYW5kO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAocHJldi5pbnN0cnVjdGlvbiA9PSBcImNcIiAmJlxuICAgICAgICAgICAgaXNDb252ZXgocHJldi5kYXRhKSAmJlxuICAgICAgICAgICAgaXNBcmNQcmV2KHByZXYuZGF0YSwgY2lyY2xlKSkgfHxcbiAgICAgICAgICAocHJldi5pbnN0cnVjdGlvbiA9PSBcImFcIiAmJlxuICAgICAgICAgICAgcHJldi5zZGF0YSAmJlxuICAgICAgICAgICAgaXNBcmNQcmV2KHByZXYuc2RhdGEsIGNpcmNsZSkpXG4gICAgICAgICkge1xuICAgICAgICAgIGFyY0N1cnZlcy51bnNoaWZ0KHByZXYpO1xuICAgICAgICAgIGFyYy5iYXNlID0gcHJldi5iYXNlO1xuICAgICAgICAgIGFyYy5kYXRhWzVdID0gYXJjLmNvb3Jkc1swXSAtIGFyYy5iYXNlWzBdO1xuICAgICAgICAgIGFyYy5kYXRhWzZdID0gYXJjLmNvb3Jkc1sxXSAtIGFyYy5iYXNlWzFdO1xuICAgICAgICAgIHZhciBwcmV2RGF0YSA9IHByZXYuaW5zdHJ1Y3Rpb24gPT0gXCJhXCIgPyBwcmV2LnNkYXRhIDogcHJldi5kYXRhO1xuICAgICAgICAgIHZhciBwcmV2QW5nbGUgPSBmaW5kQXJjQW5nbGUocHJldkRhdGEsIHtcbiAgICAgICAgICAgIGNlbnRlcjogW1xuICAgICAgICAgICAgICBwcmV2RGF0YVs0XSArIGNpcmNsZS5jZW50ZXJbMF0sXG4gICAgICAgICAgICAgIHByZXZEYXRhWzVdICsgY2lyY2xlLmNlbnRlclsxXSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICByYWRpdXM6IGNpcmNsZS5yYWRpdXMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYW5nbGUgKz0gcHJldkFuZ2xlO1xuICAgICAgICAgIGlmIChhbmdsZSA+IE1hdGguUEkpIGFyYy5kYXRhWzNdID0gMTtcbiAgICAgICAgICBoYXNQcmV2ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIG5leHQgY3VydmVzIGFyZSBmaXR0aW5nIHRoZSBhcmNcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgaiA9IGluZGV4O1xuICAgICAgICAgIChuZXh0ID0gcGF0aFsrK2pdKSAmJiB+XCJjc1wiLmluZGV4T2YobmV4dC5pbnN0cnVjdGlvbik7XG5cbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIG5leHREYXRhID0gbmV4dC5kYXRhO1xuICAgICAgICAgIGlmIChuZXh0Lmluc3RydWN0aW9uID09IFwic1wiKSB7XG4gICAgICAgICAgICBuZXh0TG9uZ2hhbmQgPSBtYWtlTG9uZ2hhbmQoXG4gICAgICAgICAgICAgIHsgaW5zdHJ1Y3Rpb246IFwic1wiLCBkYXRhOiBuZXh0LmRhdGEuc2xpY2UoKSB9LFxuICAgICAgICAgICAgICBwYXRoW2ogLSAxXS5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbmV4dERhdGEgPSBuZXh0TG9uZ2hhbmQuZGF0YTtcbiAgICAgICAgICAgIG5leHRMb25naGFuZC5kYXRhID0gbmV4dERhdGEuc2xpY2UoMCwgMik7XG4gICAgICAgICAgICBzdWZmaXggPSBzdHJpbmdpZnkoW25leHRMb25naGFuZF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNDb252ZXgobmV4dERhdGEpICYmIGlzQXJjKG5leHREYXRhLCByZWxDaXJjbGUpKSB7XG4gICAgICAgICAgICBhbmdsZSArPSBmaW5kQXJjQW5nbGUobmV4dERhdGEsIHJlbENpcmNsZSk7XG4gICAgICAgICAgICBpZiAoYW5nbGUgLSAyICogTWF0aC5QSSA+IDFlLTMpIGJyZWFrOyAvLyBtb3JlIHRoYW4gMzYwXHUwMEIwXG4gICAgICAgICAgICBpZiAoYW5nbGUgPiBNYXRoLlBJKSBhcmMuZGF0YVszXSA9IDE7XG4gICAgICAgICAgICBhcmNDdXJ2ZXMucHVzaChuZXh0KTtcbiAgICAgICAgICAgIGlmICgyICogTWF0aC5QSSAtIGFuZ2xlID4gMWUtMykge1xuICAgICAgICAgICAgICAvLyBsZXNzIHRoYW4gMzYwXHUwMEIwXG4gICAgICAgICAgICAgIGFyYy5jb29yZHMgPSBuZXh0LmNvb3JkcztcbiAgICAgICAgICAgICAgYXJjLmRhdGFbNV0gPSBhcmMuY29vcmRzWzBdIC0gYXJjLmJhc2VbMF07XG4gICAgICAgICAgICAgIGFyYy5kYXRhWzZdID0gYXJjLmNvb3Jkc1sxXSAtIGFyYy5iYXNlWzFdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gZnVsbCBjaXJjbGUsIG1ha2UgYSBoYWxmLWNpcmNsZSBhcmMgYW5kIGFkZCBhIHNlY29uZCBvbmVcbiAgICAgICAgICAgICAgYXJjLmRhdGFbNV0gPSAyICogKHJlbENpcmNsZS5jZW50ZXJbMF0gLSBuZXh0RGF0YVs0XSk7XG4gICAgICAgICAgICAgIGFyYy5kYXRhWzZdID0gMiAqIChyZWxDaXJjbGUuY2VudGVyWzFdIC0gbmV4dERhdGFbNV0pO1xuICAgICAgICAgICAgICBhcmMuY29vcmRzID0gW1xuICAgICAgICAgICAgICAgIGFyYy5iYXNlWzBdICsgYXJjLmRhdGFbNV0sXG4gICAgICAgICAgICAgICAgYXJjLmJhc2VbMV0gKyBhcmMuZGF0YVs2XSxcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgYXJjID0ge1xuICAgICAgICAgICAgICAgIGluc3RydWN0aW9uOiBcImFcIixcbiAgICAgICAgICAgICAgICBkYXRhOiBbXG4gICAgICAgICAgICAgICAgICByLFxuICAgICAgICAgICAgICAgICAgcixcbiAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgc3dlZXAsXG4gICAgICAgICAgICAgICAgICBuZXh0LmNvb3Jkc1swXSAtIGFyYy5jb29yZHNbMF0sXG4gICAgICAgICAgICAgICAgICBuZXh0LmNvb3Jkc1sxXSAtIGFyYy5jb29yZHNbMV0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBjb29yZHM6IG5leHQuY29vcmRzLFxuICAgICAgICAgICAgICAgIGJhc2U6IGFyYy5jb29yZHMsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIG91dHB1dC5wdXNoKGFyYyk7XG4gICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWxDZW50ZXJbMF0gLT0gbmV4dERhdGFbNF07XG4gICAgICAgICAgICByZWxDZW50ZXJbMV0gLT0gbmV4dERhdGFbNV07XG4gICAgICAgICAgfSBlbHNlIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChzdHJpbmdpZnkob3V0cHV0KSArIHN1ZmZpeCkubGVuZ3RoIDwgc3RyaW5naWZ5KGFyY0N1cnZlcykubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHBhdGhbal0gJiYgcGF0aFtqXS5pbnN0cnVjdGlvbiA9PSBcInNcIikge1xuICAgICAgICAgICAgbWFrZUxvbmdoYW5kKHBhdGhbal0sIHBhdGhbaiAtIDFdLmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGFzUHJldikge1xuICAgICAgICAgICAgdmFyIHByZXZBcmMgPSBvdXRwdXQuc2hpZnQoKTtcbiAgICAgICAgICAgIHJvdW5kRGF0YShwcmV2QXJjLmRhdGEpO1xuICAgICAgICAgICAgcmVsU3VicG9pbnRbMF0gKz0gcHJldkFyYy5kYXRhWzVdIC0gcHJldi5kYXRhW3ByZXYuZGF0YS5sZW5ndGggLSAyXTtcbiAgICAgICAgICAgIHJlbFN1YnBvaW50WzFdICs9IHByZXZBcmMuZGF0YVs2XSAtIHByZXYuZGF0YVtwcmV2LmRhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uID0gXCJhXCI7XG4gICAgICAgICAgICBwcmV2LmRhdGEgPSBwcmV2QXJjLmRhdGE7XG4gICAgICAgICAgICBpdGVtLmJhc2UgPSBwcmV2LmNvb3JkcyA9IHByZXZBcmMuY29vcmRzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhcmMgPSBvdXRwdXQuc2hpZnQoKTtcbiAgICAgICAgICBpZiAoYXJjQ3VydmVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBpdGVtLnNkYXRhID0gc2RhdGEuc2xpY2UoKTsgLy8gcHJlc2VydmUgY3VydmUgZGF0YSBmb3IgZnV0dXJlIGNoZWNrc1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXJjQ3VydmVzLmxlbmd0aCAtIDEgLSBoYXNQcmV2ID4gMCkge1xuICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBjb25zdW1lZCBuZXh0IGl0ZW1zXG4gICAgICAgICAgICBwYXRoLnNwbGljZS5hcHBseShcbiAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgW2luZGV4ICsgMSwgYXJjQ3VydmVzLmxlbmd0aCAtIDEgLSBoYXNQcmV2XS5jb25jYXQob3V0cHV0KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFhcmMpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwiYVwiO1xuICAgICAgICAgIGRhdGEgPSBhcmMuZGF0YTtcbiAgICAgICAgICBpdGVtLmNvb3JkcyA9IGFyYy5jb29yZHM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUm91bmRpbmcgcmVsYXRpdmUgY29vcmRpbmF0ZXMsIHRha2luZyBpbiBhY2NvdW50IGFjY3VtbXVsYXRpbmcgZXJyb3JcbiAgICAgIC8vIHRvIGdldCBjbG9zZXIgdG8gYWJzb2x1dGUgY29vcmRpbmF0ZXMuIFN1bSBvZiByb3VuZGVkIHZhbHVlIHJlbWFpbnMgc2FtZTpcbiAgICAgIC8vIGwgLjI1IDMgLjI1IDIgLjI1IDMgLjI1IDIgLT4gbCAuMyAzIC4yIDIgLjMgMyAuMiAyXG4gICAgICBpZiAocHJlY2lzaW9uICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAoXCJtbHRxc2NcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IGRhdGEubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICAgICAgZGF0YVtpXSArPSBpdGVtLmJhc2VbaSAlIDJdIC0gcmVsU3VicG9pbnRbaSAlIDJdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcImhcIikge1xuICAgICAgICAgIGRhdGFbMF0gKz0gaXRlbS5iYXNlWzBdIC0gcmVsU3VicG9pbnRbMF07XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJ2XCIpIHtcbiAgICAgICAgICBkYXRhWzBdICs9IGl0ZW0uYmFzZVsxXSAtIHJlbFN1YnBvaW50WzFdO1xuICAgICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwiYVwiKSB7XG4gICAgICAgICAgZGF0YVs1XSArPSBpdGVtLmJhc2VbMF0gLSByZWxTdWJwb2ludFswXTtcbiAgICAgICAgICBkYXRhWzZdICs9IGl0ZW0uYmFzZVsxXSAtIHJlbFN1YnBvaW50WzFdO1xuICAgICAgICB9XG4gICAgICAgIHJvdW5kRGF0YShkYXRhKTtcblxuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJoXCIpIHJlbFN1YnBvaW50WzBdICs9IGRhdGFbMF07XG4gICAgICAgIGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwidlwiKSByZWxTdWJwb2ludFsxXSArPSBkYXRhWzBdO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZWxTdWJwb2ludFswXSArPSBkYXRhW2RhdGEubGVuZ3RoIC0gMl07XG4gICAgICAgICAgcmVsU3VicG9pbnRbMV0gKz0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJvdW5kRGF0YShyZWxTdWJwb2ludCk7XG5cbiAgICAgICAgaWYgKGluc3RydWN0aW9uLnRvTG93ZXJDYXNlKCkgPT0gXCJtXCIpIHtcbiAgICAgICAgICBwYXRoQmFzZVswXSA9IHJlbFN1YnBvaW50WzBdO1xuICAgICAgICAgIHBhdGhCYXNlWzFdID0gcmVsU3VicG9pbnRbMV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gY29udmVydCBzdHJhaWdodCBjdXJ2ZXMgaW50byBsaW5lcyBzZWdtZW50c1xuICAgICAgaWYgKHBhcmFtcy5zdHJhaWdodEN1cnZlcykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKGluc3RydWN0aW9uID09PSBcImNcIiAmJiBpc0N1cnZlU3RyYWlnaHRMaW5lKGRhdGEpKSB8fFxuICAgICAgICAgIChpbnN0cnVjdGlvbiA9PT0gXCJzXCIgJiYgaXNDdXJ2ZVN0cmFpZ2h0TGluZShzZGF0YSkpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQuaW5zdHJ1Y3Rpb24gPT0gXCJzXCIpIG1ha2VMb25naGFuZChuZXh0LCBkYXRhKTsgLy8gZml4IHVwIG5leHQgY3VydmVcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwibFwiO1xuICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKC0yKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJxXCIgJiYgaXNDdXJ2ZVN0cmFpZ2h0TGluZShkYXRhKSkge1xuICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQuaW5zdHJ1Y3Rpb24gPT0gXCJ0XCIpIG1ha2VMb25naGFuZChuZXh0LCBkYXRhKTsgLy8gZml4IHVwIG5leHQgY3VydmVcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwibFwiO1xuICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKC0yKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uICE9PSBcInFcIiAmJlxuICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gIT09IFwidFwiXG4gICAgICAgICkge1xuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJsXCI7XG4gICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoLTIpO1xuICAgICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcImFcIiAmJiAoZGF0YVswXSA9PT0gMCB8fCBkYXRhWzFdID09PSAwKSkge1xuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJsXCI7XG4gICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoLTIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGxpbmUgc2hvcnRoYW5kc1xuICAgICAgLy8gbCA1MCAwIFx1MjE5MiBoIDUwXG4gICAgICAvLyBsIDAgNTAgXHUyMTkyIHYgNTBcbiAgICAgIGlmIChwYXJhbXMubGluZVNob3J0aGFuZHMgJiYgaW5zdHJ1Y3Rpb24gPT09IFwibFwiKSB7XG4gICAgICAgIGlmIChkYXRhWzFdID09PSAwKSB7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImhcIjtcbiAgICAgICAgICBkYXRhLnBvcCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGFbMF0gPT09IDApIHtcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwidlwiO1xuICAgICAgICAgIGRhdGEuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb2xsYXBzZSByZXBlYXRlZCBjb21tYW5kc1xuICAgICAgLy8gaCAyMCBoIDMwIC0+IGggNTBcbiAgICAgIGlmIChcbiAgICAgICAgcGFyYW1zLmNvbGxhcHNlUmVwZWF0ZWQgJiZcbiAgICAgICAgIWhhc01hcmtlck1pZCAmJlxuICAgICAgICBcIm1odlwiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEgJiZcbiAgICAgICAgcHJldi5pbnN0cnVjdGlvbiAmJlxuICAgICAgICBpbnN0cnVjdGlvbiA9PSBwcmV2Lmluc3RydWN0aW9uLnRvTG93ZXJDYXNlKCkgJiZcbiAgICAgICAgKChpbnN0cnVjdGlvbiAhPSBcImhcIiAmJiBpbnN0cnVjdGlvbiAhPSBcInZcIikgfHxcbiAgICAgICAgICBwcmV2LmRhdGFbMF0gPj0gMCA9PSBkYXRhWzBdID49IDApXG4gICAgICApIHtcbiAgICAgICAgcHJldi5kYXRhWzBdICs9IGRhdGFbMF07XG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiAhPSBcImhcIiAmJiBpbnN0cnVjdGlvbiAhPSBcInZcIikge1xuICAgICAgICAgIHByZXYuZGF0YVsxXSArPSBkYXRhWzFdO1xuICAgICAgICB9XG4gICAgICAgIHByZXYuY29vcmRzID0gaXRlbS5jb29yZHM7XG4gICAgICAgIHBhdGhbaW5kZXhdID0gcHJldjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBjb252ZXJ0IGN1cnZlcyBpbnRvIHNtb290aCBzaG9ydGhhbmRzXG4gICAgICBpZiAocGFyYW1zLmN1cnZlU21vb3RoU2hvcnRoYW5kcyAmJiBwcmV2Lmluc3RydWN0aW9uKSB7XG4gICAgICAgIC8vIGN1cnZldG9cbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09PSBcImNcIikge1xuICAgICAgICAgIC8vIGMgKyBjIFx1MjE5MiBjICsgc1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gPT09IFwiY1wiICYmXG4gICAgICAgICAgICBkYXRhWzBdID09PSAtKHByZXYuZGF0YVsyXSAtIHByZXYuZGF0YVs0XSkgJiZcbiAgICAgICAgICAgIGRhdGFbMV0gPT09IC0ocHJldi5kYXRhWzNdIC0gcHJldi5kYXRhWzVdKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInNcIjtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHMgKyBjIFx1MjE5MiBzICsgc1xuICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiA9PT0gXCJzXCIgJiZcbiAgICAgICAgICAgIGRhdGFbMF0gPT09IC0ocHJldi5kYXRhWzBdIC0gcHJldi5kYXRhWzJdKSAmJlxuICAgICAgICAgICAgZGF0YVsxXSA9PT0gLShwcmV2LmRhdGFbMV0gLSBwcmV2LmRhdGFbM10pXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwic1wiO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gW15jc10gKyBjIFx1MjE5MiBbXmNzXSArIHNcbiAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgIFwiY3NcIi5pbmRleE9mKHByZXYuaW5zdHJ1Y3Rpb24pID09PSAtMSAmJlxuICAgICAgICAgICAgZGF0YVswXSA9PT0gMCAmJlxuICAgICAgICAgICAgZGF0YVsxXSA9PT0gMFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInNcIjtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHF1YWRyYXRpYyBCXHUwMEU5emllciBjdXJ2ZXRvXG4gICAgICAgIGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcInFcIikge1xuICAgICAgICAgIC8vIHEgKyBxIFx1MjE5MiBxICsgdFxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gPT09IFwicVwiICYmXG4gICAgICAgICAgICBkYXRhWzBdID09PSBwcmV2LmRhdGFbMl0gLSBwcmV2LmRhdGFbMF0gJiZcbiAgICAgICAgICAgIGRhdGFbMV0gPT09IHByZXYuZGF0YVszXSAtIHByZXYuZGF0YVsxXVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInRcIjtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHQgKyBxIFx1MjE5MiB0ICsgdFxuICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgIGRhdGFbMl0gPT09IHByZXYuZGF0YVswXSAmJlxuICAgICAgICAgICAgZGF0YVszXSA9PT0gcHJldi5kYXRhWzFdXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwidFwiO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSB1c2VsZXNzIG5vbi1maXJzdCBwYXRoIHNlZ21lbnRzXG4gICAgICBpZiAocGFyYW1zLnJlbW92ZVVzZWxlc3MgJiYgIWhhc1N0cm9rZUxpbmVjYXApIHtcbiAgICAgICAgLy8gbCAwLDAgLyBoIDAgLyB2IDAgLyBxIDAsMCAwLDAgLyB0IDAsMCAvIGMgMCwwIDAsMCAwLDAgLyBzIDAsMCAwLDBcbiAgICAgICAgaWYgKFxuICAgICAgICAgIFwibGh2cXRjc1wiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEgJiZcbiAgICAgICAgICBkYXRhLmV2ZXJ5KGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICByZXR1cm4gaSA9PT0gMDtcbiAgICAgICAgICB9KVxuICAgICAgICApIHtcbiAgICAgICAgICBwYXRoW2luZGV4XSA9IHByZXY7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYSAyNSwyNSAtMzAgMCwxIDAsMFxuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiYVwiICYmIGRhdGFbNV0gPT09IDAgJiYgZGF0YVs2XSA9PT0gMCkge1xuICAgICAgICAgIHBhdGhbaW5kZXhdID0gcHJldjtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaXRlbS5pbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uO1xuICAgICAgaXRlbS5kYXRhID0gZGF0YTtcblxuICAgICAgcHJldiA9IGl0ZW07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHogcmVzZXRzIGNvb3JkaW5hdGVzXG4gICAgICByZWxTdWJwb2ludFswXSA9IHBhdGhCYXNlWzBdO1xuICAgICAgcmVsU3VicG9pbnRbMV0gPSBwYXRoQmFzZVsxXTtcbiAgICAgIGlmIChwcmV2Lmluc3RydWN0aW9uID09IFwielwiKSByZXR1cm4gZmFsc2U7XG4gICAgICBwcmV2ID0gaXRlbTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBhdGg7XG59XG5cbi8qKlxuICogV3JpdGVzIGRhdGEgaW4gc2hvcnRlc3QgZm9ybSB1c2luZyBhYnNvbHV0ZSBvciByZWxhdGl2ZSBjb29yZGluYXRlcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIGlucHV0IHBhdGggZGF0YVxuICogQHJldHVybiB7Qm9vbGVhbn0gb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb01peGVkKHBhdGgsIHBhcmFtcykge1xuICB2YXIgcHJldiA9IHBhdGhbMF07XG5cbiAgcGF0aCA9IHBhdGguZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgIGlmIChpbmRleCA9PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoIWl0ZW0uZGF0YSkge1xuICAgICAgcHJldiA9IGl0ZW07XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdHJ1Y3Rpb24gPSBpdGVtLmluc3RydWN0aW9uLFxuICAgICAgZGF0YSA9IGl0ZW0uZGF0YSxcbiAgICAgIGFkYXRhID0gZGF0YSAmJiBkYXRhLnNsaWNlKDApO1xuXG4gICAgaWYgKFwibWx0cXNjXCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSkge1xuICAgICAgZm9yICh2YXIgaSA9IGFkYXRhLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgYWRhdGFbaV0gKz0gaXRlbS5iYXNlW2kgJSAyXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwiaFwiKSB7XG4gICAgICBhZGF0YVswXSArPSBpdGVtLmJhc2VbMF07XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcInZcIikge1xuICAgICAgYWRhdGFbMF0gKz0gaXRlbS5iYXNlWzFdO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJhXCIpIHtcbiAgICAgIGFkYXRhWzVdICs9IGl0ZW0uYmFzZVswXTtcbiAgICAgIGFkYXRhWzZdICs9IGl0ZW0uYmFzZVsxXTtcbiAgICB9XG5cbiAgICByb3VuZERhdGEoYWRhdGEpO1xuXG4gICAgdmFyIGFic29sdXRlRGF0YVN0ciA9IGNsZWFudXBPdXREYXRhKGFkYXRhLCBwYXJhbXMpLFxuICAgICAgcmVsYXRpdmVEYXRhU3RyID0gY2xlYW51cE91dERhdGEoZGF0YSwgcGFyYW1zKTtcblxuICAgIC8vIENvbnZlcnQgdG8gYWJzb2x1dGUgY29vcmRpbmF0ZXMgaWYgaXQncyBzaG9ydGVyIG9yIGZvcmNlQWJzb2x1dGVQYXRoIGlzIHRydWUuXG4gICAgLy8gdi0yMCAtPiBWMFxuICAgIC8vIERvbid0IGNvbnZlcnQgaWYgaXQgZml0cyBmb2xsb3dpbmcgcHJldmlvdXMgaW5zdHJ1Y3Rpb24uXG4gICAgLy8gbDIwIDMwLTEwLTUwIGluc3RlYWQgb2YgbDIwIDMwTDIwIDMwXG4gICAgaWYgKFxuICAgICAgcGFyYW1zLmZvcmNlQWJzb2x1dGVQYXRoIHx8XG4gICAgICAoYWJzb2x1dGVEYXRhU3RyLmxlbmd0aCA8IHJlbGF0aXZlRGF0YVN0ci5sZW5ndGggJiZcbiAgICAgICAgIShcbiAgICAgICAgICBwYXJhbXMubmVnYXRpdmVFeHRyYVNwYWNlICYmXG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPT0gcHJldi5pbnN0cnVjdGlvbiAmJlxuICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24uY2hhckNvZGVBdCgwKSA+IDk2ICYmXG4gICAgICAgICAgYWJzb2x1dGVEYXRhU3RyLmxlbmd0aCA9PSByZWxhdGl2ZURhdGFTdHIubGVuZ3RoIC0gMSAmJlxuICAgICAgICAgIChkYXRhWzBdIDwgMCB8fFxuICAgICAgICAgICAgKC9eMFxcLi8udGVzdChkYXRhWzBdKSAmJiBwcmV2LmRhdGFbcHJldi5kYXRhLmxlbmd0aCAtIDFdICUgMSkpXG4gICAgICAgICkpXG4gICAgKSB7XG4gICAgICBpdGVtLmluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24udG9VcHBlckNhc2UoKTtcbiAgICAgIGl0ZW0uZGF0YSA9IGFkYXRhO1xuICAgIH1cblxuICAgIHByZXYgPSBpdGVtO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBwYXRoO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBjdXJ2ZSBpcyBjb252ZXguIENvbnRyb2wgcG9pbnRzIG9mIHN1Y2ggYSBjdXJ2ZSBtdXN0IGZvcm1cbiAqIGEgY29udmV4IHF1YWRyaWxhdGVyYWwgd2l0aCBkaWFnb25hbHMgY3Jvc3Nwb2ludCBpbnNpZGUgb2YgaXQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBpbnB1dCBwYXRoIGRhdGFcbiAqIEByZXR1cm4ge0Jvb2xlYW59IG91dHB1dFxuICovXG5mdW5jdGlvbiBpc0NvbnZleChkYXRhKSB7XG4gIHZhciBjZW50ZXIgPSBnZXRJbnRlcnNlY3Rpb24oW1xuICAgIDAsXG4gICAgMCxcbiAgICBkYXRhWzJdLFxuICAgIGRhdGFbM10sXG4gICAgZGF0YVswXSxcbiAgICBkYXRhWzFdLFxuICAgIGRhdGFbNF0sXG4gICAgZGF0YVs1XSxcbiAgXSk7XG5cbiAgcmV0dXJuIChcbiAgICBjZW50ZXIgJiZcbiAgICBkYXRhWzJdIDwgY2VudGVyWzBdID09IGNlbnRlclswXSA8IDAgJiZcbiAgICBkYXRhWzNdIDwgY2VudGVyWzFdID09IGNlbnRlclsxXSA8IDAgJiZcbiAgICBkYXRhWzRdIDwgY2VudGVyWzBdID09IGNlbnRlclswXSA8IGRhdGFbMF0gJiZcbiAgICBkYXRhWzVdIDwgY2VudGVyWzFdID09IGNlbnRlclsxXSA8IGRhdGFbMV1cbiAgKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBsaW5lcyBlcXVhdGlvbnMgYnkgdHdvIHBvaW50cyBhbmQgcmV0dXJucyB0aGVpciBpbnRlcnNlY3Rpb24gcG9pbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gY29vcmRzIDggbnVtYmVycyBmb3IgNCBwYWlycyBvZiBjb29yZGluYXRlcyAoeCx5KVxuICogQHJldHVybiB7QXJyYXl8dW5kZWZpbmVkfSBvdXRwdXQgY29vcmRpbmF0ZSBvZiBsaW5lcycgY3Jvc3Nwb2ludFxuICovXG5mdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb24oY29vcmRzKSB7XG4gIC8vIFByZXYgbGluZSBlcXVhdGlvbiBwYXJhbWV0ZXJzLlxuICB2YXIgYTEgPSBjb29yZHNbMV0gLSBjb29yZHNbM10sIC8vIHkxIC0geTJcbiAgICBiMSA9IGNvb3Jkc1syXSAtIGNvb3Jkc1swXSwgLy8geDIgLSB4MVxuICAgIGMxID0gY29vcmRzWzBdICogY29vcmRzWzNdIC0gY29vcmRzWzJdICogY29vcmRzWzFdLCAvLyB4MSAqIHkyIC0geDIgKiB5MVxuICAgIC8vIE5leHQgbGluZSBlcXVhdGlvbiBwYXJhbWV0ZXJzXG4gICAgYTIgPSBjb29yZHNbNV0gLSBjb29yZHNbN10sIC8vIHkxIC0geTJcbiAgICBiMiA9IGNvb3Jkc1s2XSAtIGNvb3Jkc1s0XSwgLy8geDIgLSB4MVxuICAgIGMyID0gY29vcmRzWzRdICogY29vcmRzWzddIC0gY29vcmRzWzVdICogY29vcmRzWzZdLCAvLyB4MSAqIHkyIC0geDIgKiB5MVxuICAgIGRlbm9tID0gYTEgKiBiMiAtIGEyICogYjE7XG5cbiAgaWYgKCFkZW5vbSkgcmV0dXJuOyAvLyBwYXJhbGxlbCBsaW5lcyBoYXZuJ3QgYW4gaW50ZXJzZWN0aW9uXG5cbiAgdmFyIGNyb3NzID0gWyhiMSAqIGMyIC0gYjIgKiBjMSkgLyBkZW5vbSwgKGExICogYzIgLSBhMiAqIGMxKSAvIC1kZW5vbV07XG4gIGlmIChcbiAgICAhaXNOYU4oY3Jvc3NbMF0pICYmXG4gICAgIWlzTmFOKGNyb3NzWzFdKSAmJlxuICAgIGlzRmluaXRlKGNyb3NzWzBdKSAmJlxuICAgIGlzRmluaXRlKGNyb3NzWzFdKVxuICApIHtcbiAgICByZXR1cm4gY3Jvc3M7XG4gIH1cbn1cblxuLyoqXG4gKiBEZWNyZWFzZSBhY2N1cmFjeSBvZiBmbG9hdGluZy1wb2ludCBudW1iZXJzXG4gKiBpbiBwYXRoIGRhdGEga2VlcGluZyBhIHNwZWNpZmllZCBudW1iZXIgb2YgZGVjaW1hbHMuXG4gKiBTbWFydCByb3VuZHMgdmFsdWVzIGxpa2UgMi4zNDkxIHRvIDIuMzUgaW5zdGVhZCBvZiAyLjM0OS5cbiAqIERvZXNuJ3QgYXBwbHkgXCJzbWFydG5lc3NcIiBpZiB0aGUgbnVtYmVyIHByZWNpc2lvbiBmaXRzIGFscmVhZHkuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBpbnB1dCBkYXRhIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheX0gb3V0cHV0IGRhdGEgYXJyYXlcbiAqL1xuZnVuY3Rpb24gc3Ryb25nUm91bmQoZGF0YSkge1xuICBmb3IgKHZhciBpID0gZGF0YS5sZW5ndGg7IGktLSA+IDA7ICkge1xuICAgIGlmIChkYXRhW2ldLnRvRml4ZWQocHJlY2lzaW9uKSAhPSBkYXRhW2ldKSB7XG4gICAgICB2YXIgcm91bmRlZCA9ICtkYXRhW2ldLnRvRml4ZWQocHJlY2lzaW9uIC0gMSk7XG4gICAgICBkYXRhW2ldID1cbiAgICAgICAgK01hdGguYWJzKHJvdW5kZWQgLSBkYXRhW2ldKS50b0ZpeGVkKHByZWNpc2lvbiArIDEpID49IGVycm9yXG4gICAgICAgICAgPyArZGF0YVtpXS50b0ZpeGVkKHByZWNpc2lvbilcbiAgICAgICAgICA6IHJvdW5kZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIFNpbXBsZSByb3VuZGluZyBmdW5jdGlvbiBpZiBwcmVjaXNpb24gaXMgMC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIGlucHV0IGRhdGEgYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRwdXQgZGF0YSBhcnJheVxuICovXG5mdW5jdGlvbiByb3VuZChkYXRhKSB7XG4gIGZvciAodmFyIGkgPSBkYXRhLmxlbmd0aDsgaS0tID4gMDsgKSB7XG4gICAgZGF0YVtpXSA9IE1hdGgucm91bmQoZGF0YVtpXSk7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgY3VydmUgaXMgYSBzdHJhaWdodCBsaW5lIGJ5IG1lYXN1cmluZyBkaXN0YW5jZVxuICogZnJvbSBtaWRkbGUgcG9pbnRzIHRvIHRoZSBsaW5lIGZvcm1lZCBieSBlbmQgcG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHhzIGFycmF5IG9mIGN1cnZlIHBvaW50cyB4LWNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge0FycmF5fSB5cyBhcnJheSBvZiBjdXJ2ZSBwb2ludHMgeS1jb29yZGluYXRlc1xuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBpc0N1cnZlU3RyYWlnaHRMaW5lKGRhdGEpIHtcbiAgLy8gR2V0IGxpbmUgZXF1YXRpb24gYVx1MDBCN3ggKyBiXHUwMEI3eSArIGMgPSAwIGNvZWZmaWNpZW50cyBhLCBiIChjID0gMCkgYnkgc3RhcnQgYW5kIGVuZCBwb2ludHMuXG4gIHZhciBpID0gZGF0YS5sZW5ndGggLSAyLFxuICAgIGEgPSAtZGF0YVtpICsgMV0sIC8vIHkxIFx1MjIxMiB5MiAoeTEgPSAwKVxuICAgIGIgPSBkYXRhW2ldLCAvLyB4MiBcdTIyMTIgeDEgKHgxID0gMClcbiAgICBkID0gMSAvIChhICogYSArIGIgKiBiKTsgLy8gc2FtZSBwYXJ0IGZvciBhbGwgcG9pbnRzXG5cbiAgaWYgKGkgPD0gMSB8fCAhaXNGaW5pdGUoZCkpIHJldHVybiBmYWxzZTsgLy8gY3VydmUgdGhhdCBlbmRzIGF0IHN0YXJ0IHBvaW50IGlzbid0IHRoZSBjYXNlXG5cbiAgLy8gRGlzdGFuY2UgZnJvbSBwb2ludCAoeDAsIHkwKSB0byB0aGUgbGluZSBpcyBzcXJ0KChjIFx1MjIxMiBhXHUwMEI3eDAgXHUyMjEyIGJcdTAwQjd5MClcdTAwQjIgLyAoYVx1MDBCMiArIGJcdTAwQjIpKVxuICB3aGlsZSAoKGkgLT0gMikgPj0gMCkge1xuICAgIGlmIChNYXRoLnNxcnQoTWF0aC5wb3coYSAqIGRhdGFbaV0gKyBiICogZGF0YVtpICsgMV0sIDIpICogZCkgPiBlcnJvcilcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIG5leHQgY3VydmUgZnJvbSBzaG9ydGhhbmQgdG8gZnVsbCBmb3JtIHVzaW5nIHRoZSBjdXJyZW50IGN1cnZlIGRhdGEuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gY3VydmUgdG8gY29udmVydFxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBjdXJyZW50IGN1cnZlIGRhdGFcbiAqL1xuXG5mdW5jdGlvbiBtYWtlTG9uZ2hhbmQoaXRlbSwgZGF0YSkge1xuICBzd2l0Y2ggKGl0ZW0uaW5zdHJ1Y3Rpb24pIHtcbiAgICBjYXNlIFwic1wiOlxuICAgICAgaXRlbS5pbnN0cnVjdGlvbiA9IFwiY1wiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInRcIjpcbiAgICAgIGl0ZW0uaW5zdHJ1Y3Rpb24gPSBcInFcIjtcbiAgICAgIGJyZWFrO1xuICB9XG4gIGl0ZW0uZGF0YS51bnNoaWZ0KFxuICAgIGRhdGFbZGF0YS5sZW5ndGggLSAyXSAtIGRhdGFbZGF0YS5sZW5ndGggLSA0XSxcbiAgICBkYXRhW2RhdGEubGVuZ3RoIC0gMV0gLSBkYXRhW2RhdGEubGVuZ3RoIC0gM11cbiAgKTtcbiAgcmV0dXJuIGl0ZW07XG59XG5cbi8qKlxuICogUmV0dXJucyBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludDEgZmlyc3QgcG9pbnQgY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7QXJyYXl9IHBvaW50MiBzZWNvbmQgcG9pbnQgY29vcmRpbmF0ZXNcbiAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAqL1xuXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwb2ludDEsIHBvaW50Mikge1xuICByZXR1cm4gTWF0aC5oeXBvdChwb2ludDFbMF0gLSBwb2ludDJbMF0sIHBvaW50MVsxXSAtIHBvaW50MlsxXSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBjb29yZGluYXRlcyBvZiB0aGUgY3VydmUgcG9pbnQgY29ycmVzcG9uZGluZyB0byB0aGUgY2VydGFpbiB0XG4gKiBhXHUwMEI3KDEgLSB0KVx1MDBCM1x1MDBCN3AxICsgYlx1MDBCNygxIC0gdClcdTAwQjJcdTAwQjd0XHUwMEI3cDIgKyBjXHUwMEI3KDEgLSB0KVx1MDBCN3RcdTAwQjJcdTAwQjdwMyArIGRcdTAwQjd0XHUwMEIzXHUwMEI3cDQsXG4gKiB3aGVyZSBwTiBhcmUgY29udHJvbCBwb2ludHMgYW5kIHAxIGlzIHplcm8gZHVlIHRvIHJlbGF0aXZlIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGN1cnZlIGFycmF5IG9mIGN1cnZlIHBvaW50cyBjb29yZGluYXRlc1xuICogQHBhcmFtIHtOdW1iZXJ9IHQgcGFyYW1ldHJpYyBwb3NpdGlvbiBmcm9tIDAgdG8gMVxuICogQHJldHVybiB7QXJyYXl9IFBvaW50IGNvb3JkaW5hdGVzXG4gKi9cblxuZnVuY3Rpb24gZ2V0Q3ViaWNCZXppZXJQb2ludChjdXJ2ZSwgdCkge1xuICB2YXIgc3FyVCA9IHQgKiB0LFxuICAgIGN1YlQgPSBzcXJUICogdCxcbiAgICBtdCA9IDEgLSB0LFxuICAgIHNxck10ID0gbXQgKiBtdDtcblxuICByZXR1cm4gW1xuICAgIDMgKiBzcXJNdCAqIHQgKiBjdXJ2ZVswXSArIDMgKiBtdCAqIHNxclQgKiBjdXJ2ZVsyXSArIGN1YlQgKiBjdXJ2ZVs0XSxcbiAgICAzICogc3FyTXQgKiB0ICogY3VydmVbMV0gKyAzICogbXQgKiBzcXJUICogY3VydmVbM10gKyBjdWJUICogY3VydmVbNV0sXG4gIF07XG59XG5cbi8qKlxuICogRmluZHMgY2lyY2xlIGJ5IDMgcG9pbnRzIG9mIHRoZSBjdXJ2ZSBhbmQgY2hlY2tzIGlmIHRoZSBjdXJ2ZSBmaXRzIHRoZSBmb3VuZCBjaXJjbGUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gY3VydmVcbiAqIEByZXR1cm4ge09iamVjdHx1bmRlZmluZWR9IGNpcmNsZVxuICovXG5cbmZ1bmN0aW9uIGZpbmRDaXJjbGUoY3VydmUpIHtcbiAgdmFyIG1pZFBvaW50ID0gZ2V0Q3ViaWNCZXppZXJQb2ludChjdXJ2ZSwgMSAvIDIpLFxuICAgIG0xID0gW21pZFBvaW50WzBdIC8gMiwgbWlkUG9pbnRbMV0gLyAyXSxcbiAgICBtMiA9IFsobWlkUG9pbnRbMF0gKyBjdXJ2ZVs0XSkgLyAyLCAobWlkUG9pbnRbMV0gKyBjdXJ2ZVs1XSkgLyAyXSxcbiAgICBjZW50ZXIgPSBnZXRJbnRlcnNlY3Rpb24oW1xuICAgICAgbTFbMF0sXG4gICAgICBtMVsxXSxcbiAgICAgIG0xWzBdICsgbTFbMV0sXG4gICAgICBtMVsxXSAtIG0xWzBdLFxuICAgICAgbTJbMF0sXG4gICAgICBtMlsxXSxcbiAgICAgIG0yWzBdICsgKG0yWzFdIC0gbWlkUG9pbnRbMV0pLFxuICAgICAgbTJbMV0gLSAobTJbMF0gLSBtaWRQb2ludFswXSksXG4gICAgXSksXG4gICAgcmFkaXVzID0gY2VudGVyICYmIGdldERpc3RhbmNlKFswLCAwXSwgY2VudGVyKSxcbiAgICB0b2xlcmFuY2UgPSBNYXRoLm1pbihhcmNUaHJlc2hvbGQgKiBlcnJvciwgKGFyY1RvbGVyYW5jZSAqIHJhZGl1cykgLyAxMDApO1xuXG4gIGlmIChcbiAgICBjZW50ZXIgJiZcbiAgICByYWRpdXMgPCAxZTE1ICYmXG4gICAgWzEgLyA0LCAzIC8gNF0uZXZlcnkoZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBNYXRoLmFicyhcbiAgICAgICAgICBnZXREaXN0YW5jZShnZXRDdWJpY0JlemllclBvaW50KGN1cnZlLCBwb2ludCksIGNlbnRlcikgLSByYWRpdXNcbiAgICAgICAgKSA8PSB0b2xlcmFuY2VcbiAgICAgICk7XG4gICAgfSlcbiAgKVxuICAgIHJldHVybiB7IGNlbnRlcjogY2VudGVyLCByYWRpdXM6IHJhZGl1cyB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGN1cnZlIGZpdHMgdGhlIGdpdmVuIGNpcmNsZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY2lyY2xlXG4gKiBAcGFyYW0ge0FycmF5fSBjdXJ2ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBpc0FyYyhjdXJ2ZSwgY2lyY2xlKSB7XG4gIHZhciB0b2xlcmFuY2UgPSBNYXRoLm1pbihcbiAgICBhcmNUaHJlc2hvbGQgKiBlcnJvcixcbiAgICAoYXJjVG9sZXJhbmNlICogY2lyY2xlLnJhZGl1cykgLyAxMDBcbiAgKTtcblxuICByZXR1cm4gWzAsIDEgLyA0LCAxIC8gMiwgMyAvIDQsIDFdLmV2ZXJ5KGZ1bmN0aW9uIChwb2ludCkge1xuICAgIHJldHVybiAoXG4gICAgICBNYXRoLmFicyhcbiAgICAgICAgZ2V0RGlzdGFuY2UoZ2V0Q3ViaWNCZXppZXJQb2ludChjdXJ2ZSwgcG9pbnQpLCBjaXJjbGUuY2VudGVyKSAtXG4gICAgICAgICAgY2lyY2xlLnJhZGl1c1xuICAgICAgKSA8PSB0b2xlcmFuY2VcbiAgICApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBwcmV2aW91cyBjdXJ2ZSBmaXRzIHRoZSBnaXZlbiBjaXJjbGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNpcmNsZVxuICogQHBhcmFtIHtBcnJheX0gY3VydmVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gaXNBcmNQcmV2KGN1cnZlLCBjaXJjbGUpIHtcbiAgcmV0dXJuIGlzQXJjKGN1cnZlLCB7XG4gICAgY2VudGVyOiBbY2lyY2xlLmNlbnRlclswXSArIGN1cnZlWzRdLCBjaXJjbGUuY2VudGVyWzFdICsgY3VydmVbNV1dLFxuICAgIHJhZGl1czogY2lyY2xlLnJhZGl1cyxcbiAgfSk7XG59XG5cbi8qKlxuICogRmluZHMgYW5nbGUgb2YgYSBjdXJ2ZSBmaXR0aW5nIHRoZSBnaXZlbiBhcmMuXG5cbiAqIEBwYXJhbSB7QXJyYXl9IGN1cnZlXG4gKiBAcGFyYW0ge09iamVjdH0gcmVsQ2lyY2xlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG4gKi9cblxuZnVuY3Rpb24gZmluZEFyY0FuZ2xlKGN1cnZlLCByZWxDaXJjbGUpIHtcbiAgdmFyIHgxID0gLXJlbENpcmNsZS5jZW50ZXJbMF0sXG4gICAgeTEgPSAtcmVsQ2lyY2xlLmNlbnRlclsxXSxcbiAgICB4MiA9IGN1cnZlWzRdIC0gcmVsQ2lyY2xlLmNlbnRlclswXSxcbiAgICB5MiA9IGN1cnZlWzVdIC0gcmVsQ2lyY2xlLmNlbnRlclsxXTtcblxuICByZXR1cm4gTWF0aC5hY29zKFxuICAgICh4MSAqIHgyICsgeTEgKiB5MikgLyBNYXRoLnNxcnQoKHgxICogeDEgKyB5MSAqIHkxKSAqICh4MiAqIHgyICsgeTIgKiB5MikpXG4gICk7XG59XG5cbi8qKlxuICogQ29udmVydHMgZ2l2ZW4gcGF0aCBkYXRhIHRvIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zXG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoRGF0YVxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5cbmZ1bmN0aW9uIGRhdGEyUGF0aChwYXJhbXMsIHBhdGhEYXRhKSB7XG4gIHJldHVybiBwYXRoRGF0YS5yZWR1Y2UoZnVuY3Rpb24gKHBhdGhTdHJpbmcsIGl0ZW0pIHtcbiAgICB2YXIgc3RyRGF0YSA9IFwiXCI7XG4gICAgaWYgKGl0ZW0uZGF0YSkge1xuICAgICAgc3RyRGF0YSA9IGNsZWFudXBPdXREYXRhKHJvdW5kRGF0YShpdGVtLmRhdGEuc2xpY2UoKSksIHBhcmFtcyk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoU3RyaW5nICsgaXRlbS5pbnN0cnVjdGlvbiArIHN0ckRhdGE7XG4gIH0sIFwiXCIpO1xufVxuIiwgImltcG9ydCB7IGgsIENvbXBvbmVudCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCBwcm9kdWNlIGZyb20gXCJpbW1lclwiO1xuaW1wb3J0IHsgTVNHX0VWRU5UUywgU1RBR0VTLCBVSV9URVhULCBJTklUSUFMX1VJX1NJWkUgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBIZWFkZXIgfSBmcm9tIFwiLi9IZWFkZXJcIjtcbmltcG9ydCB7IFJlc3BvbnNpdmVWaWV3IH0gZnJvbSBcIi4vUmVzcG9uc2l2ZVZpZXdcIjtcbmltcG9ydCB7IEZyYW1lU2VsZWN0aW9uIH0gZnJvbSBcIi4vRnJhbWVTZWxlY3Rpb25cIjtcbmltcG9ydCB7IFByZXZpZXcgfSBmcm9tIFwiLi9QcmV2aWV3XCI7XG5pbXBvcnQgeyBTYXZlIH0gZnJvbSBcIi4vU2F2ZVwiO1xuaW1wb3J0IHsgZGVjb2RlU3ZnVG9TdHJpbmcgfSBmcm9tIFwiLi4vdXRpbHMvc3ZnXCI7XG5pbXBvcnQgeyBjb21wcmVzc0ltYWdlIH0gZnJvbSBcIi4uL3V0aWxzL2NvbXByZXNzSW1hZ2VcIjtcbmltcG9ydCB7IHNlbmRNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWxzL21lc3NhZ2VzXCI7XG5pbXBvcnQge1xuICBBcHBTdGF0ZSxcbiAgQXBwUHJvcHNJbnRlcmZhY2UsXG4gIE1zZ0ZyYW1lc1R5cGUsXG4gIEZyYW1lQ29sbGVjdGlvbixcbiAgTXNnQ29tcHJlc3NJbWFnZVR5cGUsXG4gIE1zZ1JlbmRlclR5cGUsXG4gIE1zZ0V2ZW50VHlwZSxcbiAgSGVhZGxpbmVzSW50ZXJmYWNlLFxuICBVaVBvc3RNZXNzYWdlRXZlbnQsXG59IGZyb20gXCJ0eXBlc1wiO1xuaW1wb3J0IHsgY3J1bmNoU3ZnIH0gZnJvbSBcInV0aWxzL2NydW5jaFN2Z1wiO1xuXG5leHBvcnQgY2xhc3MgQXBwIGV4dGVuZHMgQ29tcG9uZW50PEFwcFByb3BzSW50ZXJmYWNlLCBBcHBTdGF0ZT4ge1xuICBzdGF0ZTogQXBwU3RhdGUgPSB7XG4gICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICByZWFkeTogZmFsc2UsXG4gICAgZnJhbWVzOiB7fSxcbiAgICBzdGFnZTogU1RBR0VTLkNIT09TRV9GUkFNRVMsXG4gICAgcHJldmlld0luZGV4OiAwLFxuICAgIGlzUmVzaXppbmc6IGZhbHNlLFxuICAgIG1vdXNlU3RhcnRYOiAwLFxuICAgIG1vdXNlU3RhcnRZOiAwLFxuICAgIHdpbmRvd1dpZHRoOiBJTklUSUFMX1VJX1NJWkUud2lkdGgsXG4gICAgd2luZG93SGVpZ2h0OiBJTklUSUFMX1VJX1NJWkUuaGVpZ2h0LFxuICAgIHJlc3BvbnNpdmU6IHRydWUsXG4gICAgaGVhZGxpbmU6IHVuZGVmaW5lZCxcbiAgICBzdWJoZWFkOiB1bmRlZmluZWQsXG4gICAgc291cmNlOiB1bmRlZmluZWQsXG4gICAgbG9hZGluZzogZmFsc2UsXG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKTogdm9pZCB7XG4gICAgLy8gTGlzdGVuIGZvciBldmVudHMgZnJvbSB0aGUgYmFja2VuZFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoZTogVWlQb3N0TWVzc2FnZUV2ZW50KSA9PlxuICAgICAgdGhpcy5oYW5kbGVFdmVudHMoZS5kYXRhLnBsdWdpbk1lc3NhZ2UpXG4gICAgKTtcblxuICAgIHNlbmRNZXNzYWdlKE1TR19FVkVOVFMuRE9NX1JFQURZKTtcbiAgfVxuXG4gIHVwZGF0ZUluaXRpYWxTdGF0ZSA9IChkYXRhOiBNc2dGcmFtZXNUeXBlKTogdm9pZCA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZnJhbWVzLFxuICAgICAgd2luZG93SGVpZ2h0LFxuICAgICAgd2luZG93V2lkdGgsXG4gICAgICBoZWFkbGluZSxcbiAgICAgIHN1YmhlYWQsXG4gICAgICBzb3VyY2UsXG4gICAgfSA9IGRhdGE7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZnJhbWVzKSB8fCBmcmFtZXM/Lmxlbmd0aCA8IDEpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvcjogXCJObyBmcmFtZXMhXCIgfSk7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUG9zdCBlcnJvcjogbm8gZnJhbWVzXCIsIGRhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZyYW1lRGF0YTogRnJhbWVDb2xsZWN0aW9uID0ge307XG4gICAgZm9yIChjb25zdCBmcmFtZSBvZiBmcmFtZXMpIHtcbiAgICAgIGNvbnN0IHsgaWQgfSA9IGZyYW1lO1xuICAgICAgY29uc3Qgcm5kSWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDMyKS5zdWJzdHIoMik7XG5cbiAgICAgIGZyYW1lRGF0YVtpZF0gPSB7IC4uLmZyYW1lLCB1aWQ6IGBmMmgtJHtybmRJZH1gLCBzdmdPcHRpbWlzZWQ6IGZhbHNlIH07XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBmcmFtZXM6IGZyYW1lRGF0YSxcbiAgICAgIHJlYWR5OiB0cnVlLFxuICAgICAgd2luZG93V2lkdGgsXG4gICAgICB3aW5kb3dIZWlnaHQsXG4gICAgICBoZWFkbGluZSxcbiAgICAgIHN1YmhlYWQsXG4gICAgICBzb3VyY2UsXG4gICAgfSk7XG4gIH07XG5cbiAgY29tcHJlc3NJbWFnZSA9IGFzeW5jIChtc2c6IE1zZ0NvbXByZXNzSW1hZ2VUeXBlKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgaW1hZ2UsIHdpZHRoLCBoZWlnaHQsIHVpZCB9ID0gbXNnO1xuICAgICAgY29uc3QgaW1nRGF0YSA9IGF3YWl0IGNvbXByZXNzSW1hZ2UoaW1hZ2UsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgc2VuZE1lc3NhZ2UoTVNHX0VWRU5UUy5DT01QUkVTU0VEX0lNQUdFLCB7IGltYWdlOiBpbWdEYXRhLCB1aWQgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVUkgZmFpbGVkIHRvIGNvbXByZXNzIGltYWdlXCIsIGVycik7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IFwiRmFpbGVkIHRvIGNvbXByZXNzIGltYWdlXCIgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZVJlbmRlck1lc3NhZ2UgPSAoZGF0YTogTXNnUmVuZGVyVHlwZSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgZnJhbWVJZCwgc3ZnIH0gPSBkYXRhO1xuICAgIGlmICghZnJhbWVJZCB8fCAhc3ZnKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IFwiRmFpbGVkIHRvIHJlbmRlclwiLCBsb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJQb3N0IG1lc3NhZ2U6IGZhaWxlZCB0byByZW5kZXJcIiwgZGF0YSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBmcmFtZXMgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3Qgc3ZnU3RyID0gZGVjb2RlU3ZnVG9TdHJpbmcoc3ZnKTtcbiAgICBjb25zdCBjbG9uZUZyYW1lcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZnJhbWVzKSkgYXMgRnJhbWVDb2xsZWN0aW9uO1xuICAgIGNsb25lRnJhbWVzW2ZyYW1lSWRdLnN2ZyA9IHN2Z1N0cjtcbiAgICB0aGlzLnNldFN0YXRlKHsgZnJhbWVzOiBjbG9uZUZyYW1lcywgbG9hZGluZzogZmFsc2UgfSk7XG4gIH07XG5cbiAgaGFuZGxlRXZlbnRzID0gKGRhdGE6IE1zZ0V2ZW50VHlwZSk6IHZvaWQgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiVUkgcG9zdFwiLCBkYXRhKTtcbiAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgY2FzZSBNU0dfRVZFTlRTLkZPVU5EX0ZSQU1FUzpcbiAgICAgICAgdGhpcy51cGRhdGVJbml0aWFsU3RhdGUoZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1TR19FVkVOVFMuTk9fRlJBTUVTOlxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IFVJX1RFWFQuRVJST1JfTUlTU0lOR19GUkFNRVMgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1TR19FVkVOVFMuRVJST1I6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVSSBwb3N0IG1lc3NhZ2UgZXJyb3JcIiwgZGF0YSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGVycm9yOiBgJHtVSV9URVhULkVSUk9SX1VORVhQRUNURUR9OiAke2RhdGEuZXJyb3JUZXh0fWAsXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNU0dfRVZFTlRTLlJFTkRFUjpcbiAgICAgICAgdGhpcy5oYW5kbGVSZW5kZXJNZXNzYWdlKGRhdGEpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNU0dfRVZFTlRTLkNPTVBSRVNTX0lNQUdFOlxuICAgICAgICB0aGlzLmNvbXByZXNzSW1hZ2UoZGF0YSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVSSBjb21wcmVzcyBpbWFnZSBldmVudFwiLCBlcnIpO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZXJyb3I6XG4gICAgICAgICAgICAgIGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIkNvbXByZXNzIGltYWdlcyBmYWlsZWRcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IFwiVW5rbm93biBwb3N0IG1lc3NhZ2VcIiB9KTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVJIHBvc3QgbWVzc2FnZSBlcnJvclwiLCBkYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRPRE86IE1lcmdlIGdvTmV4dCBhbmQgZ29CYWNrXG4gIGdvTmV4dCA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHN0YWdlLCBwcmV2aWV3SW5kZXgsIGZyYW1lcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7IGxlbmd0aCB9ID0gT2JqZWN0LnZhbHVlcyhmcmFtZXMpLmZpbHRlcigoZikgPT4gZi5zZWxlY3RlZCk7XG5cbiAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmV4dEluZGV4ID0gcHJldmlld0luZGV4ICsgMTtcblxuICAgIHN3aXRjaCAoc3RhZ2UpIHtcbiAgICAgIGNhc2UgU1RBR0VTLkNIT09TRV9GUkFNRVM6XG4gICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgc3RhZ2U6IFNUQUdFUy5QUkVWSUVXX09VVFBVVCB9KTtcblxuICAgICAgY2FzZSBTVEFHRVMuUFJFVklFV19PVVRQVVQ6XG4gICAgICAgIGlmIChsZW5ndGggPT09IG5leHRJbmRleCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgc3RhZ2U6IFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVcgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2V0U3RhdGUoeyBwcmV2aWV3SW5kZXg6IG5leHRJbmRleCB9KTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVc6XG4gICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgc3RhZ2U6IFNUQUdFUy5TQVZFX09VVFBVVCB9KTtcblxuICAgICAgY2FzZSBTVEFHRVMuU0FWRV9PVVRQVVQ6XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgZ29CYWNrID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgc3RhZ2UsIHByZXZpZXdJbmRleCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIHN3aXRjaCAoc3RhZ2UpIHtcbiAgICAgIGNhc2UgU1RBR0VTLkNIT09TRV9GUkFNRVM6XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBTVEFHRVMuUFJFVklFV19PVVRQVVQ6XG4gICAgICAgIGlmIChwcmV2aWV3SW5kZXggPT09IDApIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RhZ2U6IFNUQUdFUy5DSE9PU0VfRlJBTUVTIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwcmV2aWV3SW5kZXg6IHByZXZpZXdJbmRleCAtIDEgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVc6XG4gICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgc3RhZ2U6IFNUQUdFUy5QUkVWSUVXX09VVFBVVCB9KTtcblxuICAgICAgY2FzZSBTVEFHRVMuU0FWRV9PVVRQVVQ6XG4gICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgc3RhZ2U6IFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVcgfSk7XG4gICAgfVxuICB9O1xuXG4gIGdldE91dHB1dFJlbmRlciA9IChmcmFtZUlkOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogdHJ1ZSB9KTtcbiAgICBzZW5kTWVzc2FnZShNU0dfRVZFTlRTLlJFTkRFUiwgeyBmcmFtZUlkIH0pO1xuICB9O1xuXG4gIHRvZ2dsZVByb3AgPSAoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBwcm9wOiBcInNlbGVjdGVkXCIgfCBcInJlc3BvbnNpdmVcIiB8IFwic3ZnT3B0aW1pc2VkXCJcbiAgKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyBmcmFtZXMgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgY2xvbmVGcmFtZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGZyYW1lcykpIGFzIEZyYW1lQ29sbGVjdGlvbjtcbiAgICBjbG9uZUZyYW1lc1tpZF1bcHJvcF0gPSAhY2xvbmVGcmFtZXNbaWRdW3Byb3BdO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGZyYW1lczogY2xvbmVGcmFtZXMgfSk7XG4gIH07XG5cbiAgdG9nZ2xlRnJhbWVTZWxlY3QgPSAoaWQ6IHN0cmluZyk6IHZvaWQgPT4gdGhpcy50b2dnbGVQcm9wKGlkLCBcInNlbGVjdGVkXCIpO1xuXG4gIHRvZ2dsZVJlc29uc2l2ZSA9IChpZDogc3RyaW5nKTogdm9pZCA9PiB0aGlzLnRvZ2dsZVByb3AoaWQsIFwicmVzcG9uc2l2ZVwiKTtcblxuICB0b2dnbGVPcHRpbWlzZWQgPSAoaWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgZnJhbWVzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgc3ZnQ29tcHJlc3NlZCwgc3ZnLCBzdmdPcHRpbWlzZWQgfSA9IGZyYW1lc1tpZF07XG5cbiAgICBpZiAoc3ZnICYmICFzdmdPcHRpbWlzZWQgJiYgIXN2Z0NvbXByZXNzZWQpIHtcbiAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGVsLmlubmVySFRNTCA9IHN2ZztcbiAgICAgIGNvbnN0IHN2Z0VsID0gZWwucXVlcnlTZWxlY3RvcihcInN2Z1wiKTtcblxuICAgICAgaWYgKCFzdmdFbCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTWlzc2luZyBTVkcgaW4gU1ZHIHN0cmluZ1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjcnVuY2hTdmcoc3ZnRWwpO1xuICAgICAgY29uc3QgY2xvbmVGcmFtZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGZyYW1lcykpIGFzIEZyYW1lQ29sbGVjdGlvbjtcbiAgICAgIGNsb25lRnJhbWVzW2lkXS5zdmdDb21wcmVzc2VkID0gc3ZnRWwub3V0ZXJIVE1MO1xuICAgICAgY2xvbmVGcmFtZXNbaWRdLnN2Z09wdGltaXNlZCA9IHRydWU7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZnJhbWVzOiBjbG9uZUZyYW1lcyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50b2dnbGVQcm9wKGlkLCBcInN2Z09wdGltaXNlZFwiKTtcbiAgICB9XG4gIH07XG5cbiAgdG9nZ2xlQWxsUHJvcCA9IChwcm9wTmFtZTogXCJzZWxlY3RlZFwiIHwgXCJyZXNwb25zaXZlXCIpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IGZyYW1lcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBzaG91bGREZXNlbGVjdEFsbCA9IE9iamVjdC52YWx1ZXMoZnJhbWVzKS5zb21lKFxuICAgICAgKGZyYW1lKSA9PiBmcmFtZVtwcm9wTmFtZV1cbiAgICApO1xuXG4gICAgY29uc3QgZHJhZnRTdGF0ZSA9IHByb2R1Y2UodGhpcy5zdGF0ZSwgKGRyYWZ0U3RhdGUpID0+IHtcbiAgICAgIE9iamVjdC52YWx1ZXMoZHJhZnRTdGF0ZS5mcmFtZXMpLmZvckVhY2goXG4gICAgICAgIChmcmFtZSkgPT4gKGZyYW1lW3Byb3BOYW1lXSA9ICFzaG91bGREZXNlbGVjdEFsbClcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKGRyYWZ0U3RhdGUpO1xuICB9O1xuXG4gIHRvZ2dsZVNlbGVjdEFsbCA9ICgpOiB2b2lkID0+IHRoaXMudG9nZ2xlQWxsUHJvcChcInNlbGVjdGVkXCIpO1xuXG4gIHRvZ2dsZVJlc3BvbnNpdmVBbGwgPSAoKTogdm9pZCA9PiB0aGlzLnRvZ2dsZUFsbFByb3AoXCJyZXNwb25zaXZlXCIpO1xuXG4gIGhhbmRsZUZvcm1VcGRhdGUgPSAocHJvcHM6IEhlYWRsaW5lc0ludGVyZmFjZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyAuLi5wcm9wcyB9KTtcbiAgICBzZW5kTWVzc2FnZShNU0dfRVZFTlRTLlVQREFURV9IRUFETElORVMsIHByb3BzKTtcbiAgfTtcblxuICBzd2l0Y2hWaWV3ID0gKCk6IGguSlNYLkVsZW1lbnQgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGZyYW1lcyxcbiAgICAgIHN0YWdlLFxuICAgICAgcHJldmlld0luZGV4LFxuICAgICAgd2luZG93SGVpZ2h0LFxuICAgICAgd2luZG93V2lkdGgsXG4gICAgICBoZWFkbGluZSxcbiAgICAgIHN1YmhlYWQsXG4gICAgICBzb3VyY2UsXG4gICAgICBsb2FkaW5nLFxuICAgIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgZnJhbWVzQXJyID0gT2JqZWN0LnZhbHVlcyhmcmFtZXMpLnNvcnQoKGEsIGIpID0+XG4gICAgICBhLndpZHRoIDw9IGIud2lkdGggPyAtMSA6IDFcbiAgICApO1xuICAgIGNvbnN0IHNlbGVjdGVkRnJhbWVzID0gZnJhbWVzQXJyLmZpbHRlcigoZnJhbWUpID0+IGZyYW1lLnNlbGVjdGVkKTtcblxuICAgIC8vIElmIHByZXZpZXdpbmcgZnJhbWUgd2l0aG91dCBhIHJlbmRlciB0aGVuIHJlcXVlc3QgaWYgZnJvbSB0aGUgYmFja2VuZHNcbiAgICAvLyBUT0RPOiBNb3ZlIG91dCBvZiByZW5kZXJcbiAgICBpZiAoXG4gICAgICBzdGFnZSA9PT0gU1RBR0VTLlBSRVZJRVdfT1VUUFVUICYmXG4gICAgICAhc2VsZWN0ZWRGcmFtZXNbcHJldmlld0luZGV4XS5zdmcgJiZcbiAgICAgIGxvYWRpbmcgPT09IGZhbHNlXG4gICAgKSB7XG4gICAgICB0aGlzLmdldE91dHB1dFJlbmRlcihzZWxlY3RlZEZyYW1lc1twcmV2aWV3SW5kZXhdLmlkKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHN0YWdlKSB7XG4gICAgICBjYXNlIFNUQUdFUy5DSE9PU0VfRlJBTUVTOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxGcmFtZVNlbGVjdGlvblxuICAgICAgICAgICAgZnJhbWVzPXtmcmFtZXNBcnJ9XG4gICAgICAgICAgICBoYW5kbGVDbGljaz17dGhpcy50b2dnbGVGcmFtZVNlbGVjdH1cbiAgICAgICAgICAgIHRvZ2dsZVJlc29uc2l2ZT17dGhpcy50b2dnbGVSZXNvbnNpdmV9XG4gICAgICAgICAgICB0b2dnbGVTZWxlY3RBbGw9e3RoaXMudG9nZ2xlU2VsZWN0QWxsfVxuICAgICAgICAgICAgdG9nZ2xlUmVzcG9uc2l2ZUFsbD17dGhpcy50b2dnbGVSZXNwb25zaXZlQWxsfVxuICAgICAgICAgICAgaGVhZGxpbmU9e2hlYWRsaW5lfVxuICAgICAgICAgICAgc3ViaGVhZD17c3ViaGVhZH1cbiAgICAgICAgICAgIHNvdXJjZT17c291cmNlfVxuICAgICAgICAgICAgaGFuZGxlRm9ybVVwZGF0ZT17dGhpcy5oYW5kbGVGb3JtVXBkYXRlfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG5cbiAgICAgIGNhc2UgU1RBR0VTLlBSRVZJRVdfT1VUUFVUOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxQcmV2aWV3XG4gICAgICAgICAgICBmcmFtZT17c2VsZWN0ZWRGcmFtZXNbcHJldmlld0luZGV4XX1cbiAgICAgICAgICAgIHdpbmRvd0hlaWdodD17d2luZG93SGVpZ2h0fVxuICAgICAgICAgICAgd2luZG93V2lkdGg9e3dpbmRvd1dpZHRofVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG5cbiAgICAgIGNhc2UgU1RBR0VTLlJFU1BPTlNJVkVfUFJFVklFVzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UmVzcG9uc2l2ZVZpZXdcbiAgICAgICAgICAgIHdpbmRvd0hlaWdodD17d2luZG93SGVpZ2h0fVxuICAgICAgICAgICAgd2luZG93V2lkdGg9e3dpbmRvd1dpZHRofVxuICAgICAgICAgICAgZnJhbWVzPXtzZWxlY3RlZEZyYW1lc31cbiAgICAgICAgICAgIGhlYWRsaW5lPXtoZWFkbGluZX1cbiAgICAgICAgICAgIHN1YmhlYWQ9e3N1YmhlYWR9XG4gICAgICAgICAgICBzb3VyY2U9e3NvdXJjZX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuXG4gICAgICBjYXNlIFNUQUdFUy5TQVZFX09VVFBVVDpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8U2F2ZVxuICAgICAgICAgICAgZnJhbWVzPXtzZWxlY3RlZEZyYW1lc31cbiAgICAgICAgICAgIGhlYWRsaW5lPXtoZWFkbGluZX1cbiAgICAgICAgICAgIHN1YmhlYWQ9e3N1YmhlYWR9XG4gICAgICAgICAgICBzb3VyY2U9e3NvdXJjZX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gPGRpdj5Mb2FkaW5nLi4uPC9kaXY+O1xuICAgIH1cbiAgfTtcblxuICByZW5kZXIoKTogaC5KU1guRWxlbWVudCB7XG4gICAgY29uc3QgeyB2ZXJzaW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgZXJyb3IsIGZyYW1lcywgc3RhZ2UsIHByZXZpZXdJbmRleCwgbG9hZGluZyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAvLyBUT0RPOiBEb24ndCByZWx5IG9uIG9iamVjdCBwcm9wIG9yZGVyXG4gICAgY29uc3Qgc2VsZWN0ZWRGcmFtZSA9IE9iamVjdC52YWx1ZXMoZnJhbWVzKVtwcmV2aWV3SW5kZXhdO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoXCI+XG4gICAgICAgIDxIZWFkZXJcbiAgICAgICAgICBzdGFnZT17c3RhZ2V9XG4gICAgICAgICAgaGFuZGxlQmFja0NsaWNrPXt0aGlzLmdvQmFja31cbiAgICAgICAgICBoYW5kbGVOZXh0Q2xpY2s9e3RoaXMuZ29OZXh0fVxuICAgICAgICAgIGRpc2FibGVOZXh0PXtsb2FkaW5nIHx8IHN0YWdlID09PSBTVEFHRVMuU0FWRV9PVVRQVVR9XG4gICAgICAgICAgZnJhbWU9e3NlbGVjdGVkRnJhbWV9XG4gICAgICAgICAgaGFuZGxlT3B0aW1zZUNsaWNrPXt0aGlzLnRvZ2dsZU9wdGltaXNlZH1cbiAgICAgICAgLz5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fYm9keVwiPlxuICAgICAgICAgIHtlcnJvciA/IDxkaXYgY2xhc3NOYW1lPVwiZXJyb3JcIj57ZXJyb3J9PC9kaXY+IDogdGhpcy5zd2l0Y2hWaWV3KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJmMmhfX3ZlcnNpb25cIj5WZXJzaW9uOiB7dmVyc2lvbn08L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50ICovXG5pbXBvcnQgeyBoLCByZW5kZXIgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBpbmplY3RDc3MgfSBmcm9tIFwiLi91dGlscy9jc3NcIjtcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2NvbXBvbmVudHMvQXBwXCI7XG5cbmNvbnN0IFZFUlNJT04gPSBcImFscGhhLTAuMVwiO1xuXG4vLyBJbXBvcnQgQ1NTIGZpbGVzIGFzIHBsYWluIHRleHQgdmlhIGVzYnVpbGQgbG9hZGVyIG9wdGlvblxuLy8gQHRzLWV4cGVjdC1lcnJvclxuaW1wb3J0IHVpQ3NzIGZyb20gXCIuL3VpLmNzc1wiO1xuLy8gQHRzLWV4cGVjdC1lcnJvclxuaW1wb3J0IGZvbnRzQ3NzIGZyb20gXCIuL2ZvbnRzLmNzc1wiO1xuLy8gQHRzLWV4cGVjdC1lcnJvclxuaW1wb3J0IGVtYmVkQ3NzIGZyb20gXCIuL2VtYmVkLmNzc1wiO1xuXG5pbmplY3RDc3ModWlDc3MpO1xuaW5qZWN0Q3NzKGVtYmVkQ3NzKTtcbmluamVjdENzcyhmb250c0Nzcyk7XG5cbi8vIFJlbmRlciBhcHBcbnJlbmRlcig8QXBwIHZlcnNpb249e1ZFUlNJT059IC8+LCBkb2N1bWVudC5ib2R5KTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7QUNBQTs7Ozs7QUNBQTtJQUFDLFVBQVMsSUFBRTtBQUFHLFVBQUcsY0FBWSxPQUFPLFVBQVEsT0FBTztBQUFJLGVBQU8sSUFBRztlQUFXLGVBQWEsT0FBTztBQUFROztBQUFTLGNBQUksR0FBRSxZQUFVLENBQUMsU0FBUSxJQUFJOztPQUFXLFNBQUs7QUFBVztBQUFhLGtCQUFXLElBQUU7QUFBRyxlQUFNLGVBQWEsT0FBTyxLQUFFLEtBQUUsQ0FBQyxTQUFRLFNBQUksWUFBVSxPQUFPLE1BQUksU0FBUSxLQUFLLHVEQUFzRCxLQUFFLENBQUMsU0FBUSxDQUFDLE1BQUksR0FBRSxXQUFTLDZFQUE2RSxLQUFLLEdBQUUsUUFBTSxJQUFJLEtBQUssQ0FBQyxPQUFTLEtBQUcsQ0FBQyxNQUFLLEdBQUUsU0FBTzs7QUFBRSxrQkFBVyxJQUFFLElBQUU7QUFBRyxZQUFJLEtBQUUsSUFBSTtBQUFlLFdBQUUsS0FBSyxPQUFNLEtBQUcsR0FBRSxlQUFhLFFBQU8sR0FBRSxTQUFPO0FBQVcsYUFBRSxHQUFFLFVBQVMsSUFBRTtXQUFJLEdBQUUsVUFBUTtBQUFXLGtCQUFRLE1BQU07V0FBNEIsR0FBRTs7QUFBTyxrQkFBVztBQUFHLFlBQUksS0FBRSxJQUFJO0FBQWUsV0FBRSxLQUFLLFFBQU8sSUFBRTtBQUFJO0FB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S0FBRSxHQUFFO0FBQVcsVUFBRyxHQUFFLFlBQVk7O0FBQUcsY0FBVyxJQUFFLElBQUU7QUFBRyxRQUFJLElBQUUsS0FBRSxXQUFVLEtBQUU7QUFBRyxTQUFJLE1BQUs7QUFBRSxnQkFBUSxNQUFHLFVBQVEsTUFBSSxJQUFFLE1BQUcsR0FBRTtBQUFJLFFBQUcsVUFBVSxTQUFPO0FBQUUsV0FBSSxLQUFFLENBQUMsS0FBRyxLQUFFLEdBQUUsS0FBRSxVQUFVLFFBQU87QUFBSSxXQUFFLEtBQUssR0FBRTtBQUFJLFFBQUcsUUFBTSxNQUFJLElBQUUsV0FBUyxLQUFHLGNBQVksT0FBTyxNQUFHLFFBQU0sR0FBRTtBQUFhLFdBQUksTUFBSyxHQUFFO0FBQWEsbUJBQVMsR0FBRSxPQUFLLElBQUUsTUFBRyxHQUFFLGFBQWE7QUFBSSxXQUFPLEdBQUUsSUFBRSxJQUFFLE1BQUcsR0FBRSxLQUFJLE1BQUcsR0FBRSxLQUFJOztBQUFNLGNBQVcsSUFBRSxJQUFFLElBQUUsSUFBRTtBQUFHLFFBQUksS0FBRSxDQUFDLE1BQUssSUFBRSxPQUFNLElBQUUsS0FBSSxJQUFFLEtBQUksSUFBRSxLQUFJLE1BQUssSUFBRyxNQUFLLEtBQUksR0FBRSxLQUFJLE1BQUssS0FBSSxRQUFPLEtBQUksTUFBSyxhQUFZLFFBQU8sS0FBSTtBQUFHLFdBQU8sUUFBTSxNQUFJLElBQUUsTUFBSSxLQUFHLEdBQUUsU0FBTyxHQUFFLE1BQU0sS0FBRzs7QUFBRTtBQUFhLFdBQU07O0FBQUcsY0FBVztBQUFHLFdBQU8sR0FBRTs7QUFBUyxjQUFXLElBQUU7QUFBRyxTQUFLLFFBQU0sSUFBRSxLQUFLLFVBQVE7O0FBQUUsY0FBVyxJQUFFO0FBQUcsUUFBRyxRQUFNO0FBQUUsYUFBTyxHQUFFLEtBQUcsR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFHLElBQUksUUFBUSxNQUFHLEtBQUc7QUFBSyxhQUFRLElBQUUsS0FBRSxHQUFFLElBQUksUUFBTztBQUFJLFVBQUcsUUFBTyxNQUFFLEdBQUUsSUFBSSxRQUFLLFFBQU0sR0FBRTtBQUFJLGVBQU8sR0FBRTtBQUFJLFdBQU0sY0FBWSxPQUFPLEdBQUUsT0FBSyxHQUFFLE1BQUc7O0FBQUssY0FBVztBQUFHLFFBQUksSUFBRTtBQUFFLFFBQUcsUUFBTyxNQUFFLEdBQUUsT0FBSyxRQUFNLEdBQUU7QUFBSyxXQUFJLEdBQUUsTUFBSSxHQUFFLElBQUksT0FBSyxNQUFLLEtBQUUsR0FBRSxLQUFFLEdBQUUsSUFBSSxRQUFPO0FBQUksWUFBRyxRQUFPLE1BQUUsR0FBRSxJQUFJLFFBQUssUUFBTSxHQUFFO0FBQUssYUFBRSxNQUFJLEdBQUUsSUFBSSxPQUFLLEdBQUU7QUFBSTs7QUFBTSxhQUFPLEdBQUU7OztBQUFJLGNBQVc7QUFBRyxJQUFDLEVBQUMsR0FBRSxPQUFNLElBQUUsTUFBSSxTQUFLLEdBQUUsS0FBSyxPQUFJLENBQUMsUUFBSyxPQUFJLEdBQUUsc0JBQXNCLE9BQUUsR0FBRSxzQkFBb0IsSUFBRzs7QUFBRztBQUFhLGFBQVEsSUFBRSxLQUFFLEdBQUU7QUFBUSxXQUFFLEdBQUUsS0FBSyxTQUFTLElBQUU7QUFBRyxlQUFPLEdBQUUsSUFBSSxNQUFJLEdBQUUsSUFBSTtVQUFNLEtBQUUsSUFBRyxHQUFFLEtBQUssU0FBUztBQUFHLFlBQUksSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUU7QUFBRSxXQUFFLE9BQU0sTUFBRyxNQUFHLE1BQUUsSUFBRyxLQUFLLEtBQUssTUFBRSxHQUFFLFFBQU8sTUFBRSxJQUFJLE1BQUUsR0FBRSxJQUFHLEtBQUksTUFBSSxJQUFFLEtBQUUsR0FBRSxJQUFFLElBQUUsSUFBRSxHQUFFLEtBQUksV0FBUyxHQUFFLGlCQUFnQixNQUFLLElBQUUsUUFBTSxLQUFFLEdBQUUsTUFBRyxLQUFHLEdBQUUsSUFBRSxLQUFHLE1BQUcsTUFBRyxHQUFFOzs7QUFBTyxjQUFXLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFO0FBQUcsUUFBSSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxLQUFFLE1BQUcsR0FBRSxPQUFLLElBQUUsS0FBRSxHQUFFO0FBQU8sU0FBSSxNQUFHLE1BQUksTUFBRSxRQUFNLEtBQUUsR0FBRSxLQUFHLEtBQUUsR0FBRSxJQUFFLEtBQUcsT0FBTSxHQUFFLE1BQUksSUFBRyxLQUFFLEdBQUUsS0FBRSxHQUFFLFFBQU87QUFBSSxVQUFHLFFBQU8sTUFBRSxHQUFFLElBQUksTUFBRyxRQUFPLE1BQUUsR0FBRSxRQUFLLGFBQVcsT0FBTyxLQUFFLE9BQUssWUFBVSxPQUFPLE1BQUcsWUFBVSxPQUFPLEtBQUUsR0FBRSxNQUFLLElBQUUsTUFBSyxNQUFLLE1BQUcsTUFBTSxRQUFRLE1BQUcsR0FBRSxJQUFFLENBQUMsVUFBUyxLQUFHLE1BQUssTUFBSyxRQUFNLFFBQU0sR0FBRSxPQUFLLFFBQU0sR0FBRSxNQUFJLEdBQUUsR0FBRSxNQUFLLEdBQUUsT0FBTSxHQUFFLEtBQUksTUFBSyxHQUFFLE9BQUs7QUFBSSxZQUFHLEdBQUUsS0FBRyxJQUFFLEdBQUUsTUFBSSxHQUFFLE1BQUksR0FBRSxTQUFRLE1BQUUsR0FBRSxRQUFLLE1BQUcsR0FBRSxPQUFLLEdBQUUsT0FBSyxHQUFFLFNBQU8sR0FBRTtBQUFLLGFBQUUsTUFBRzs7QUFBWSxlQUFJLEtBQUUsR0FBRSxLQUFFLElBQUU7QUFBSyxnQkFBSSxNQUFFLEdBQUUsUUFBSyxHQUFFLE9BQUssR0FBRSxPQUFLLEdBQUUsU0FBTyxHQUFFO0FBQU0saUJBQUUsTUFBRztBQUFPOztBQUFNLGlCQUFFOztBQUFLLFlBQUcsS0FBRSxHQUFFLElBQUUsSUFBRSxLQUFFLE1BQUcsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsS0FBSSxNQUFFLEdBQUUsUUFBTSxHQUFFLE9BQUssTUFBSSxPQUFJLE1BQUUsS0FBSSxHQUFFLE9BQUssR0FBRSxLQUFLLEdBQUUsS0FBSSxNQUFLLEtBQUcsR0FBRSxLQUFLLElBQUUsR0FBRSxPQUFLLElBQUUsTUFBSSxRQUFNO0FBQUcsY0FBRyxRQUFNLE1BQUksTUFBRSxLQUFHLEtBQUUsUUFB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QU8sT0FBTyxLQUFHLE1BQUcsRUFBRSxJQUFHLFNBQVMsSUFBRTtBQUFHLGFBQU8sRUFBRSxJQUFFO09BQU07O0FBQUs7QUFBYSxNQUFFOztBQUFHLGFBQVc7QUFBRyxRQUFJLEtBQUUsRUFBRTtBQUFHLFdBQU8sTUFBRyxFQUFzQyxJQUFNLEtBQUc7O0FBQXlCO0FBQWEsV0FBTSxBQUFxQyxLQUFHLEVBQUUsSUFBRzs7QUFBRSxhQUFXLElBQUU7QUFBRyxVQUFJLEdBQUUsWUFBVyxHQUFFLElBQUUsSUFBRyxHQUFFLElBQUUsSUFBRyxHQUFFLElBQUU7O0FBQUcsYUFBVztBQUFHLE1BQUUsS0FBRyxHQUFFLEVBQUUsUUFBUSxJQUFHLEdBQUUsSUFBRTs7QUFBSyxhQUFXO0FBQUcsV0FBSSxLQUFJLEtBQUUsR0FBRTs7QUFBRyxhQUFXO0FBQUcsV0FBTyxJQUFFLENBQUMsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLElBQUUsR0FBRSxNQUFHLEdBQUU7O0FBQUcsYUFBVztBQUFHLFFBQUksS0FBRSxHQUFFO0FBQUcsVUFBSSxHQUFFLEtBQUcsTUFBSSxHQUFFLElBQUUsR0FBRSxNQUFJLEdBQUUsSUFBRTs7QUFBRyxhQUFXLElBQUU7QUFBRyxPQUFFLElBQUUsR0FBRSxFQUFFO0FBQU8sUUFBSSxLQUFFLEdBQUUsRUFBRSxJQUFHLEtBQUUsV0FBUyxNQUFHLE9BQUk7QUFBRSxXQUFPLEdBQUUsRUFBRSxLQUFHLEVBQUUsT0FBTyxFQUFFLElBQUUsSUFBRSxLQUFHLEtBQUcsSUFBRSxHQUFHLEtBQUksR0FBRSxLQUFHLEVBQUUsS0FBSSxFQUFFLE9BQUssTUFBRSxFQUFFLElBQUUsS0FBRyxHQUFFLEtBQUcsRUFBRSxJQUFFLE1BQUksR0FBRSxLQUFHLEVBQUUsV0FBVyxFQUFFLEdBQUUsSUFBRyxJQUFFLEdBQUUsR0FBRSxHQUFFLE1BQUksS0FBRSxFQUFFLElBQUUsSUFBRSxLQUFJLEVBQUUsS0FBRyxHQUFFLEtBQUcsR0FBRSxFQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsT0FBSSxJQUFFLEtBQUU7O0FBQU8sYUFBVyxJQUFFLElBQUU7QUFBRyxRQUFHLFFBQU8sTUFBRSxPQUFJLFlBQVUsT0FBTyxNQUFHLE9BQU8sU0FBUztBQUFHLGFBQU87QUFBRSxRQUFJLElBQUUsS0FBRSxHQUFFO0FBQUcsUUFBRyxDQUFDO0FBQUUsYUFBTyxFQUFFLElBQUcsU0FBUyxJQUFFO0FBQUcsZUFBTyxFQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRTtTQUFLLE9BQUk7QUFBRSxRQUFHLEdBQUUsTUFBSTtBQUFFLGFBQU87QUFBRSxRQUFHLENBQUMsR0FBRTtBQUFFLGFBQU8sRUFBRSxJQUFFLEdBQUUsR0FBRSxPQUFJLEdBQUU7QUFBRSxRQUFHLENBQUMsR0FBRTtBQUFHLFNBQUUsSUFBRSxNQUFHLEdBQUUsRUFBRTtBQUFJLFVBQUksS0FBRSxNQUFJLEdBQUUsS0FBRyxNQUFJLEdBQUUsSUFBRSxHQUFFLElBQUUsRUFBRSxHQUFFLEtBQUcsR0FBRTtBQUFFLFFBQUUsSUFBRyxTQUFTLElBQUU7QUFBRyxlQUFPLEVBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFO1VBQU0sRUFBRSxJQUFFLElBQUUsUUFBSSxNQUFHLEdBQUUsS0FBRyxFQUFFLFdBQVcsRUFBRSxJQUFFLElBQUUsR0FBRSxHQUFFLEdBQUU7O0FBQUcsV0FBTyxHQUFFOztBQUFFLGFBQVcsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFO0FBQUcsUUFBRyxBQUFxQyxPQUFJLE1BQUcsRUFBRSxJQUFHLEVBQUU7QUFBSSxVQUFJLEtBQUUsRUFBRSxJQUFFLElBQUUsTUFBRyxNQUFHLE1BQUksR0FBRSxLQUFHLENBQUMsRUFBRSxHQUFFLEdBQUUsTUFBRyxHQUFFLE9BQU8sTUFBRztBQUFRLFVBQUcsRUFBRSxJQUFFLElBQUUsS0FBRyxDQUFDLEVBQUU7QUFBRztBQUFPLFNBQUUsSUFBRTs7QUFBRyxRQUFHLEVBQUUsT0FBSSxDQUFDLE9BQU8sU0FBUztBQUFJLFVBQUcsQ0FBQyxHQUFFLEVBQUUsS0FBRyxHQUFFLElBQUU7QUFBRTtBQUFPLFFBQUUsSUFBRSxLQUFHLE1BQUcsR0FBRSxFQUFFLEtBQUcsRUFBRSxJQUFFOzs7QUFBSSxhQUFXLElBQUUsSUFBRTtBQUFHLGVBQVMsTUFBSSxNQUFFLFFBQUksR0FBRSxFQUFFLEtBQUcsR0FBRSxLQUFHLEVBQUUsSUFBRTs7QUFBRyxhQUFXLElBQUU7QUFBRyxRQUFJLEtBQUUsR0FBRTtBQUFHLFdBQU8sTUFBRSxFQUFFLE1BQUcsSUFBRzs7QUFBRyxhQUFXO0FBQUcsT0FBRSxLQUFJLElBQUUsSUFBRSxNQUFHLEdBQUUsS0FBRyxFQUFFLEdBQUU7O0FBQUksYUFBVztBQUFHLE9BQUUsS0FBSSxJQUFFLElBQUUsRUFBRSxHQUFFOztBQUFJLGFBQVcsSUFBRSxJQUFFO0FBQUcsUUFBSSxLQUFFLEVBQUUsTUFBRyxFQUFFLFVBQVUsRUFBRSxJQUFFLE1BQUcsRUFBRSxNQUFHLEVBQUUsVUFBVSxFQUFFLElBQUUsTUFBRyxHQUFFLElBQUUsU0FBUyxJQUFFO0FBQUcsVUFBSSxLQUFFLE1BQU0sUUFBUSxLQUFHLEtBQUUsQ0FBQyxHQUFFLEtBQUUsSUFBRSxHQUFFLEdBQUUsS0FBRSxHQUFFLElBQUUsS0FBSSxHQUFFLE9BQUcsR0FBRSxPQUFHLEdBQUUsSUFBRyxHQUFFLElBQUUsR0FBRSxJQUFFLEdBQUUsTUFBSyxHQUFFLE1BQUssR0FBRSxNQUFLLEdBQUUsUUFBSSxLQUFFLElBQUUsS0FBRTtBQUFFLFlBQUksTUFBRSxDQUFDLEtBQUcsS0FBRTtBQUFJLFVBQUksS0FBRSxNQUFNLFVBQVUsSUFBRSxLQUFHLEtBQUUsR0FBRSxRQUFPLEtBQUUsR0FBRTtBQUFNLGFBQU8sR0FBRSxJQUFFLElBQUUsR0FBRSxJQUFFLElBQUU7TUFBRyxJQUFFLE1BQUcsRUFBRSxPQUFPLEVBQUUsSUFBRTtBQUFHLFdBQU8sTUFBRSxHQUFFLElBQUUsS0FBSyxFQUFFLEtBQUssS0FBRzs7QUFBRSxhQUFXO0FBQUcsV0FBTyxFQUFFLE9BQUksRUFBRSxJQUFHLEtBQUcsWUFBVztBQUFHLFVBQUcsQ0FBQyxFQUFFO0FBQUcsZUFB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</script>
