<div id="app"></div>
<script>(() => {
  let __defineProperty = Object.defineProperty;
  let __hasOwnProperty = Object.prototype.hasOwnProperty;
  let __assign = Object.assign;
  let __commonJS = (callback, module) => () => {
    if (!module) {
      module = {exports: {}};
      callback(module.exports, module);
    }
    return module.exports;
  };
  let __markAsModule = (target) => {
    return __defineProperty(target, "__esModule", {value: true});
  };
  let __exportStar = (target, module) => {
    __markAsModule(target);
    for (let key in module)
      if (__hasOwnProperty.call(module, key) && !__hasOwnProperty.call(target, key) && key !== "default")
        __defineProperty(target, key, {get: () => module[key], enumerable: true});
    return target;
  };
  let __toModule = (module) => {
    if (module && module.__esModule)
      return module;
    return __exportStar(__defineProperty({}, "default", {value: module, enumerable: true}), module);
  };

  // src/embed.css
  var require_embed = __commonJS((exports, module) => {
    module.exports = 'html,\nbody {\n  margin: 0;\n}\n\n.f2h__text {\n  margin: 0;\n  font-family: sans-serif;\n  transform: translate(-50%, -50%);\n  /* white-space: pre; */\n\n  /* DEBUG */\n  /* color: rgba(255, 0, 0, 0.34) !important; */\n}\n\n.f2h__render {\n  position: relative;\n  overflow: hidden;\n}\n\n.f2h__render svg {\n  display: block;\n  margin: 0;\n}\n\n.f2h__render svg text {\n  /* DEBUG */\n  display: none;\n}\n\n.f2h__render--responsive {\n  width: 100%;\n}\n\n.f2h__render--responsive svg {\n  width: 100%;\n  height: auto;\n}\n\n.f2h_headline {\n  font-family: "Austin News Deck Semibold", Georgia, "Times New Roman", Times, serif;\n  font-size: 22px;\n  color: #333;\n  margin: 0;\n  line-height: 1.3;\n}\n.f2h_subbhead {\n  font-family: "Austin News Text Roman", Georgia, "Times New Roman", Times, serif;\n  font-size: 17px;\n  color: #333;\n  margin: 0;\n  line-height: 1.5;\n}\n.f2h_header {\n  margin-bottom: 12px;\n}\n\n.f2h_source {\n  font-family: "Telesans Text Regular", Arial, Helvetica, sans-serif;\n  font-size: 12px;\n  color: #999;\n  margin: 12px 0 0;\n}\n';
  });

  // src/fonts.css
  var require_fonts = __commonJS((exports, module) => {
    module.exports = '@font-face {\n  font-family: "Austin News Deck Semibold";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.ttf") format("truetype");\n  font-weight: 700;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Austin News Deck Medium";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.ttf") format("truetype");\n  font-weight: 700;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Austin News Deck Roman";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.ttf") format("truetype");\n  font-weight: 400;\n  font-display: "swap";\n}\n\n@font-face {\n  font-family: "Austin News Text Roman";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.ttf") format("truetype");\n  font-weight: 700;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Telesans Text Regular";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.ttf") format("truetype");\n  font-weight: 400;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Telesans Agate Regular";\n  font-style: "normal";\n  font-weight: 500;\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/TelesansAgate-Medium.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/TelesansAgate-Medium.ttf") format("truetype");\n}\n';
  });

  // node_modules/file-saver/dist/FileSaver.min.js
  var require_FileSaver_min = __commonJS((exports, module) => {
    (function(a3, b2) {
      if ("function" == typeof define && define.amd)
        define([], b2);
      else if ("undefined" != typeof exports)
        b2();
      else {
        b2(), a3.FileSaver = {exports: {}}.exports;
      }
    })(exports, function() {
      "use strict";
      function b2(a4, b3) {
        return "undefined" == typeof b3 ? b3 = {autoBom: false} : "object" != typeof b3 && (console.warn("Deprecated: Expected third argument to be a object"), b3 = {autoBom: !b3}), b3.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a4.type) ? new Blob(["ï»¿", a4], {type: a4.type}) : a4;
      }
      function c3(b3, c4, d3) {
        var e3 = new XMLHttpRequest();
        e3.open("GET", b3), e3.responseType = "blob", e3.onload = function() {
          a3(e3.response, c4, d3);
        }, e3.onerror = function() {
          console.error("could not download file");
        }, e3.send();
      }
      function d2(a4) {
        var b3 = new XMLHttpRequest();
        b3.open("HEAD", a4, false);
        try {
          b3.send();
        } catch (a5) {
        }
        return 200 <= b3.status && 299 >= b3.status;
      }
      function e2(a4) {
        try {
          a4.dispatchEvent(new MouseEvent("click"));
        } catch (c4) {
          var b3 = document.createEvent("MouseEvents");
          b3.initMouseEvent("click", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null), a4.dispatchEvent(b3);
        }
      }
      var f3 = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof global && global.global === global ? global : void 0, a3 = f3.saveAs || ("object" != typeof window || window !== f3 ? function() {
      } : "download" in HTMLAnchorElement.prototype ? function(b3, g3, h3) {
        var i3 = f3.URL || f3.webkitURL, j2 = document.createElement("a");
        g3 = g3 || b3.name || "download", j2.download = g3, j2.rel = "noopener", "string" == typeof b3 ? (j2.href = b3, j2.origin === location.origin ? e2(j2) : d2(j2.href) ? c3(b3, g3, h3) : e2(j2, j2.target = "_blank")) : (j2.href = i3.createObjectURL(b3), setTimeout(function() {
          i3.revokeObjectURL(j2.href);
        }, 4e4), setTimeout(function() {
          e2(j2);
        }, 0));
      } : "msSaveOrOpenBlob" in navigator ? function(f4, g3, h3) {
        if (g3 = g3 || f4.name || "download", "string" != typeof f4)
          navigator.msSaveOrOpenBlob(b2(f4, h3), g3);
        else if (d2(f4))
          c3(f4, g3, h3);
        else {
          var i3 = document.createElement("a");
          i3.href = f4, i3.target = "_blank", setTimeout(function() {
            e2(i3);
          });
        }
      } : function(a4, b3, d3, e3) {
        if (e3 = e3 || open("", "_blank"), e3 && (e3.document.title = e3.document.body.innerText = "downloading..."), "string" == typeof a4)
          return c3(a4, b3, d3);
        var g3 = "application/octet-stream" === a4.type, h3 = /constructor/i.test(f3.HTMLElement) || f3.safari, i3 = /CriOS\/[\d]+/.test(navigator.userAgent);
        if ((i3 || g3 && h3) && "object" == typeof FileReader) {
          var j2 = new FileReader();
          j2.onloadend = function() {
            var a5 = j2.result;
            a5 = i3 ? a5 : a5.replace(/^data:[^;]*;/, "data:attachment/file;"), e3 ? e3.location.href = a5 : location = a5, e3 = null;
          }, j2.readAsDataURL(a4);
        } else {
          var k2 = f3.URL || f3.webkitURL, l3 = k2.createObjectURL(a4);
          e3 ? e3.location = l3 : location.href = l3, e3 = null, setTimeout(function() {
            k2.revokeObjectURL(l3);
          }, 4e4);
        }
      });
      f3.saveAs = a3.saveAs = a3, "undefined" != typeof module && (module.exports = a3);
    });
  });

  // node_modules/compressorjs/dist/compressor.js
  var require_compressor = __commonJS((exports, module) => {
    (function(global2, factory) {
      typeof exports === "object" && typeof module !== "undefined" ? module.exports = factory() : typeof define === "function" && define.amd ? define(factory) : (global2 = global2 || self, global2.Compressor = factory());
    })(exports, function() {
      "use strict";
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _defineProperties(target, props) {
        for (var i3 = 0; i3 < props.length; i3++) {
          var descriptor = props[i3];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, descriptor.key, descriptor);
        }
      }
      function _createClass(Constructor, protoProps, staticProps) {
        if (protoProps)
          _defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          _defineProperties(Constructor, staticProps);
        return Constructor;
      }
      function _defineProperty(obj, key, value) {
        if (key in obj) {
          Object.defineProperty(obj, key, {
            value,
            enumerable: true,
            configurable: true,
            writable: true
          });
        } else {
          obj[key] = value;
        }
        return obj;
      }
      function _extends() {
        _extends = Object.assign || function(target) {
          for (var i3 = 1; i3 < arguments.length; i3++) {
            var source = arguments[i3];
            for (var key in source) {
              if (Object.prototype.hasOwnProperty.call(source, key)) {
                target[key] = source[key];
              }
            }
          }
          return target;
        };
        return _extends.apply(this, arguments);
      }
      function ownKeys(object, enumerableOnly) {
        var keys = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var symbols = Object.getOwnPropertySymbols(object);
          if (enumerableOnly)
            symbols = symbols.filter(function(sym) {
              return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
          keys.push.apply(keys, symbols);
        }
        return keys;
      }
      function _objectSpread2(target) {
        for (var i3 = 1; i3 < arguments.length; i3++) {
          var source = arguments[i3] != null ? arguments[i3] : {};
          if (i3 % 2) {
            ownKeys(Object(source), true).forEach(function(key) {
              _defineProperty(target, key, source[key]);
            });
          } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
          } else {
            ownKeys(Object(source)).forEach(function(key) {
              Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
            });
          }
        }
        return target;
      }
      function createCommonjsModule(fn, module2) {
        return module2 = {exports: {}}, fn(module2, module2.exports), module2.exports;
      }
      var canvasToBlob = createCommonjsModule(function(module2) {
        if (typeof window === "undefined") {
          return;
        }
        (function(window2) {
          var CanvasPrototype = window2.HTMLCanvasElement && window2.HTMLCanvasElement.prototype;
          var hasBlobConstructor = window2.Blob && function() {
            try {
              return Boolean(new Blob());
            } catch (e2) {
              return false;
            }
          }();
          var hasArrayBufferViewSupport = hasBlobConstructor && window2.Uint8Array && function() {
            try {
              return new Blob([new Uint8Array(100)]).size === 100;
            } catch (e2) {
              return false;
            }
          }();
          var BlobBuilder = window2.BlobBuilder || window2.WebKitBlobBuilder || window2.MozBlobBuilder || window2.MSBlobBuilder;
          var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;
          var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window2.atob && window2.ArrayBuffer && window2.Uint8Array && function(dataURI) {
            var matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i3, bb;
            matches = dataURI.match(dataURIPattern);
            if (!matches) {
              throw new Error("invalid data URI");
            }
            mediaType = matches[2] ? matches[1] : "text/plain" + (matches[3] || ";charset=US-ASCII");
            isBase64 = !!matches[4];
            dataString = dataURI.slice(matches[0].length);
            if (isBase64) {
              byteString = atob(dataString);
            } else {
              byteString = decodeURIComponent(dataString);
            }
            arrayBuffer = new ArrayBuffer(byteString.length);
            intArray = new Uint8Array(arrayBuffer);
            for (i3 = 0; i3 < byteString.length; i3 += 1) {
              intArray[i3] = byteString.charCodeAt(i3);
            }
            if (hasBlobConstructor) {
              return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {
                type: mediaType
              });
            }
            bb = new BlobBuilder();
            bb.append(arrayBuffer);
            return bb.getBlob(mediaType);
          };
          if (window2.HTMLCanvasElement && !CanvasPrototype.toBlob) {
            if (CanvasPrototype.mozGetAsFile) {
              CanvasPrototype.toBlob = function(callback, type, quality) {
                var self2 = this;
                setTimeout(function() {
                  if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {
                    callback(dataURLtoBlob(self2.toDataURL(type, quality)));
                  } else {
                    callback(self2.mozGetAsFile("blob", type));
                  }
                });
              };
            } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {
              CanvasPrototype.toBlob = function(callback, type, quality) {
                var self2 = this;
                setTimeout(function() {
                  callback(dataURLtoBlob(self2.toDataURL(type, quality)));
                });
              };
            }
          }
          if (module2.exports) {
            module2.exports = dataURLtoBlob;
          } else {
            window2.dataURLtoBlob = dataURLtoBlob;
          }
        })(window);
      });
      var isBlob = function isBlob2(input) {
        if (typeof Blob === "undefined") {
          return false;
        }
        return input instanceof Blob || Object.prototype.toString.call(input) === "[object Blob]";
      };
      var DEFAULTS = {
        strict: true,
        checkOrientation: true,
        maxWidth: Infinity,
        maxHeight: Infinity,
        minWidth: 0,
        minHeight: 0,
        width: void 0,
        height: void 0,
        quality: 0.8,
        mimeType: "auto",
        convertSize: 5e6,
        beforeDraw: null,
        drew: null,
        success: null,
        error: null
      };
      var IS_BROWSER = typeof window !== "undefined" && typeof window.document !== "undefined";
      var WINDOW = IS_BROWSER ? window : {};
      var slice = Array.prototype.slice;
      function toArray(value) {
        return Array.from ? Array.from(value) : slice.call(value);
      }
      var REGEXP_IMAGE_TYPE = /^image\/.+$/;
      function isImageType(value) {
        return REGEXP_IMAGE_TYPE.test(value);
      }
      function imageTypeToExtension(value) {
        var extension = isImageType(value) ? value.substr(6) : "";
        if (extension === "jpeg") {
          extension = "jpg";
        }
        return ".".concat(extension);
      }
      var fromCharCode = String.fromCharCode;
      function getStringFromCharCode(dataView, start, length) {
        var str = "";
        var i3;
        length += start;
        for (i3 = start; i3 < length; i3 += 1) {
          str += fromCharCode(dataView.getUint8(i3));
        }
        return str;
      }
      var btoa = WINDOW.btoa;
      function arrayBufferToDataURL(arrayBuffer, mimeType) {
        var chunks = [];
        var chunkSize = 8192;
        var uint8 = new Uint8Array(arrayBuffer);
        while (uint8.length > 0) {
          chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));
          uint8 = uint8.subarray(chunkSize);
        }
        return "data:".concat(mimeType, ";base64,").concat(btoa(chunks.join("")));
      }
      function resetAndGetOrientation(arrayBuffer) {
        var dataView = new DataView(arrayBuffer);
        var orientation;
        try {
          var littleEndian;
          var app1Start;
          var ifdStart;
          if (dataView.getUint8(0) === 255 && dataView.getUint8(1) === 216) {
            var length = dataView.byteLength;
            var offset = 2;
            while (offset + 1 < length) {
              if (dataView.getUint8(offset) === 255 && dataView.getUint8(offset + 1) === 225) {
                app1Start = offset;
                break;
              }
              offset += 1;
            }
          }
          if (app1Start) {
            var exifIDCode = app1Start + 4;
            var tiffOffset = app1Start + 10;
            if (getStringFromCharCode(dataView, exifIDCode, 4) === "Exif") {
              var endianness = dataView.getUint16(tiffOffset);
              littleEndian = endianness === 18761;
              if (littleEndian || endianness === 19789) {
                if (dataView.getUint16(tiffOffset + 2, littleEndian) === 42) {
                  var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);
                  if (firstIFDOffset >= 8) {
                    ifdStart = tiffOffset + firstIFDOffset;
                  }
                }
              }
            }
          }
          if (ifdStart) {
            var _length = dataView.getUint16(ifdStart, littleEndian);
            var _offset;
            var i3;
            for (i3 = 0; i3 < _length; i3 += 1) {
              _offset = ifdStart + i3 * 12 + 2;
              if (dataView.getUint16(_offset, littleEndian) === 274) {
                _offset += 8;
                orientation = dataView.getUint16(_offset, littleEndian);
                dataView.setUint16(_offset, 1, littleEndian);
                break;
              }
            }
          }
        } catch (e2) {
          orientation = 1;
        }
        return orientation;
      }
      function parseOrientation(orientation) {
        var rotate = 0;
        var scaleX = 1;
        var scaleY = 1;
        switch (orientation) {
          case 2:
            scaleX = -1;
            break;
          case 3:
            rotate = -180;
            break;
          case 4:
            scaleY = -1;
            break;
          case 5:
            rotate = 90;
            scaleY = -1;
            break;
          case 6:
            rotate = 90;
            break;
          case 7:
            rotate = 90;
            scaleX = -1;
            break;
          case 8:
            rotate = -90;
            break;
        }
        return {
          rotate,
          scaleX,
          scaleY
        };
      }
      var REGEXP_DECIMALS = /\.\d*(?:0|9){12}\d*$/;
      function normalizeDecimalNumber(value) {
        var times = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e11;
        return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;
      }
      var ArrayBuffer$1 = WINDOW.ArrayBuffer, FileReader2 = WINDOW.FileReader;
      var URL2 = WINDOW.URL || WINDOW.webkitURL;
      var REGEXP_EXTENSION = /\.\w+$/;
      var AnotherCompressor = WINDOW.Compressor;
      var Compressor2 = function() {
        function Compressor3(file, options) {
          _classCallCheck(this, Compressor3);
          this.file = file;
          this.image = new Image();
          this.options = _objectSpread2({}, DEFAULTS, {}, options);
          this.aborted = false;
          this.result = null;
          this.init();
        }
        _createClass(Compressor3, [
          {
            key: "init",
            value: function init() {
              var _this = this;
              var file = this.file, options = this.options;
              if (!isBlob(file)) {
                this.fail(new Error("The first argument must be a File or Blob object."));
                return;
              }
              var mimeType = file.type;
              if (!isImageType(mimeType)) {
                this.fail(new Error("The first argument must be an image File or Blob object."));
                return;
              }
              if (!URL2 || !FileReader2) {
                this.fail(new Error("The current browser does not support image compression."));
                return;
              }
              if (!ArrayBuffer$1) {
                options.checkOrientation = false;
              }
              if (URL2 && !options.checkOrientation) {
                this.load({
                  url: URL2.createObjectURL(file)
                });
              } else {
                var reader = new FileReader2();
                var checkOrientation = options.checkOrientation && mimeType === "image/jpeg";
                this.reader = reader;
                reader.onload = function(_ref) {
                  var target = _ref.target;
                  var result = target.result;
                  var data = {};
                  if (checkOrientation) {
                    var orientation = resetAndGetOrientation(result);
                    if (orientation > 1 || !URL2) {
                      data.url = arrayBufferToDataURL(result, mimeType);
                      if (orientation > 1) {
                        _extends(data, parseOrientation(orientation));
                      }
                    } else {
                      data.url = URL2.createObjectURL(file);
                    }
                  } else {
                    data.url = result;
                  }
                  _this.load(data);
                };
                reader.onabort = function() {
                  _this.fail(new Error("Aborted to read the image with FileReader."));
                };
                reader.onerror = function() {
                  _this.fail(new Error("Failed to read the image with FileReader."));
                };
                reader.onloadend = function() {
                  _this.reader = null;
                };
                if (checkOrientation) {
                  reader.readAsArrayBuffer(file);
                } else {
                  reader.readAsDataURL(file);
                }
              }
            }
          },
          {
            key: "load",
            value: function load(data) {
              var _this2 = this;
              var file = this.file, image = this.image;
              image.onload = function() {
                _this2.draw(_objectSpread2({}, data, {
                  naturalWidth: image.naturalWidth,
                  naturalHeight: image.naturalHeight
                }));
              };
              image.onabort = function() {
                _this2.fail(new Error("Aborted to load the image."));
              };
              image.onerror = function() {
                _this2.fail(new Error("Failed to load the image."));
              };
              if (WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)) {
                image.crossOrigin = "anonymous";
              }
              image.alt = file.name;
              image.src = data.url;
            }
          },
          {
            key: "draw",
            value: function draw(_ref2) {
              var _this3 = this;
              var naturalWidth = _ref2.naturalWidth, naturalHeight = _ref2.naturalHeight, _ref2$rotate = _ref2.rotate, rotate = _ref2$rotate === void 0 ? 0 : _ref2$rotate, _ref2$scaleX = _ref2.scaleX, scaleX = _ref2$scaleX === void 0 ? 1 : _ref2$scaleX, _ref2$scaleY = _ref2.scaleY, scaleY = _ref2$scaleY === void 0 ? 1 : _ref2$scaleY;
              var file = this.file, image = this.image, options = this.options;
              var canvas = document.createElement("canvas");
              var context = canvas.getContext("2d");
              var aspectRatio = naturalWidth / naturalHeight;
              var is90DegreesRotated = Math.abs(rotate) % 180 === 90;
              var maxWidth = Math.max(options.maxWidth, 0) || Infinity;
              var maxHeight = Math.max(options.maxHeight, 0) || Infinity;
              var minWidth = Math.max(options.minWidth, 0) || 0;
              var minHeight = Math.max(options.minHeight, 0) || 0;
              var width = Math.max(options.width, 0) || naturalWidth;
              var height = Math.max(options.height, 0) || naturalHeight;
              if (is90DegreesRotated) {
                var _ref3 = [maxHeight, maxWidth];
                maxWidth = _ref3[0];
                maxHeight = _ref3[1];
                var _ref4 = [minHeight, minWidth];
                minWidth = _ref4[0];
                minHeight = _ref4[1];
                var _ref5 = [height, width];
                width = _ref5[0];
                height = _ref5[1];
              }
              if (maxWidth < Infinity && maxHeight < Infinity) {
                if (maxHeight * aspectRatio > maxWidth) {
                  maxHeight = maxWidth / aspectRatio;
                } else {
                  maxWidth = maxHeight * aspectRatio;
                }
              } else if (maxWidth < Infinity) {
                maxHeight = maxWidth / aspectRatio;
              } else if (maxHeight < Infinity) {
                maxWidth = maxHeight * aspectRatio;
              }
              if (minWidth > 0 && minHeight > 0) {
                if (minHeight * aspectRatio > minWidth) {
                  minHeight = minWidth / aspectRatio;
                } else {
                  minWidth = minHeight * aspectRatio;
                }
              } else if (minWidth > 0) {
                minHeight = minWidth / aspectRatio;
              } else if (minHeight > 0) {
                minWidth = minHeight * aspectRatio;
              }
              if (height * aspectRatio > width) {
                height = width / aspectRatio;
              } else {
                width = height * aspectRatio;
              }
              width = Math.floor(normalizeDecimalNumber(Math.min(Math.max(width, minWidth), maxWidth)));
              height = Math.floor(normalizeDecimalNumber(Math.min(Math.max(height, minHeight), maxHeight)));
              var destX = -width / 2;
              var destY = -height / 2;
              var destWidth = width;
              var destHeight = height;
              if (is90DegreesRotated) {
                var _ref6 = [height, width];
                width = _ref6[0];
                height = _ref6[1];
              }
              canvas.width = width;
              canvas.height = height;
              if (!isImageType(options.mimeType)) {
                options.mimeType = file.type;
              }
              var fillStyle = "transparent";
              if (file.size > options.convertSize && options.mimeType === "image/png") {
                fillStyle = "#fff";
                options.mimeType = "image/jpeg";
              }
              context.fillStyle = fillStyle;
              context.fillRect(0, 0, width, height);
              if (options.beforeDraw) {
                options.beforeDraw.call(this, context, canvas);
              }
              if (this.aborted) {
                return;
              }
              context.save();
              context.translate(width / 2, height / 2);
              context.rotate(rotate * Math.PI / 180);
              context.scale(scaleX, scaleY);
              context.drawImage(image, destX, destY, destWidth, destHeight);
              context.restore();
              if (options.drew) {
                options.drew.call(this, context, canvas);
              }
              if (this.aborted) {
                return;
              }
              var done = function done2(result) {
                if (!_this3.aborted) {
                  _this3.done({
                    naturalWidth,
                    naturalHeight,
                    result
                  });
                }
              };
              if (canvas.toBlob) {
                canvas.toBlob(done, options.mimeType, options.quality);
              } else {
                done(canvasToBlob(canvas.toDataURL(options.mimeType, options.quality)));
              }
            }
          },
          {
            key: "done",
            value: function done(_ref7) {
              var naturalWidth = _ref7.naturalWidth, naturalHeight = _ref7.naturalHeight, result = _ref7.result;
              var file = this.file, image = this.image, options = this.options;
              if (URL2 && !options.checkOrientation) {
                URL2.revokeObjectURL(image.src);
              }
              if (result) {
                if (options.strict && result.size > file.size && options.mimeType === file.type && !(options.width > naturalWidth || options.height > naturalHeight || options.minWidth > naturalWidth || options.minHeight > naturalHeight)) {
                  result = file;
                } else {
                  var date = new Date();
                  result.lastModified = date.getTime();
                  result.lastModifiedDate = date;
                  result.name = file.name;
                  if (result.name && result.type !== file.type) {
                    result.name = result.name.replace(REGEXP_EXTENSION, imageTypeToExtension(result.type));
                  }
                }
              } else {
                result = file;
              }
              this.result = result;
              if (options.success) {
                options.success.call(this, result);
              }
            }
          },
          {
            key: "fail",
            value: function fail(err) {
              var options = this.options;
              if (options.error) {
                options.error.call(this, err);
              } else {
                throw err;
              }
            }
          },
          {
            key: "abort",
            value: function abort() {
              if (!this.aborted) {
                this.aborted = true;
                if (this.reader) {
                  this.reader.abort();
                } else if (!this.image.complete) {
                  this.image.onload = null;
                  this.image.onabort();
                } else {
                  this.fail(new Error("The compression process has been aborted."));
                }
              }
            }
          }
        ], [
          {
            key: "noConflict",
            value: function noConflict() {
              window.Compressor = AnotherCompressor;
              return Compressor3;
            }
          },
          {
            key: "setDefaults",
            value: function setDefaults(options) {
              _extends(DEFAULTS, options);
            }
          }
        ]);
        return Compressor3;
      }();
      return Compressor2;
    });
  });

  // src/ui.css
  var require_ui = __commonJS((exports, module) => {
    module.exports = '/*! minireset.css v0.0.6 | MIT License | github.com/jgthms/minireset.css */\nhtml,\nbody,\np,\nol,\nul,\nli,\ndl,\ndt,\ndd,\nblockquote,\nfigure,\nfieldset,\nlegend,\ntextarea,\npre,\niframe,\nhr,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n  padding: 0;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: 100%;\n  font-weight: normal;\n}\nul {\n  list-style: none;\n}\nbutton,\ninput,\nselect,\ntextarea {\n  margin: 0;\n}\nhtml {\n  box-sizing: border-box;\n}\n*,\n*::before,\n*::after {\n  box-sizing: inherit;\n}\n\niframe {\n  border: 0;\n}\n\n@import url("https://rsms.me/inter/inter.css");\n\nbody {\n  --padding-small: 6px;\n  --padding-medium: 12px;\n  --padding-large: 24px;\n  --padding-huge: 48px;\n\n  --border-radius-small: 3px;\n  --border-radius-medium: 6px;\n  --border-radius-large: 12px;\n\n  --colours-grey-0: rgb(33, 33, 33);\n  --colours-grey-1: rgb(74, 74, 74);\n  --colours-grey-2: rgb(133, 133, 133);\n  --colours-grey-3: rgb(179, 179, 179);\n  --colours-grey-4: rgb(227, 227, 227);\n  --colours-grey-5: rgb(245, 245, 245);\n  --colours-main: rgb(72, 202, 126);\n  --colours-main-light: rgb(208, 242, 222);\n  --colours-main-dark: rgb(44, 75, 57);\n  --colours-warning: rgb(255, 242, 175);\n\n  --font-family-sans-serif: Arial, Helvetica, sans-serif;\n  --font-famailt-serif: Georgia, "Times New Roman", Times, serif;\n\n  --font-size--small: 11px;\n  --font-size--medium: 14px;\n  --font-size--large: 18px;\n}\n\nhtml {\n  font-family: "Inter", sans-serif;\n}\n@supports (font-variation-settings: normal) {\n  html {\n    font-family: "Inter var", sans-serif;\n  }\n}\n\nhtml,\nbody {\n  margin: 0;\n  font-size: 14px;\n}\n\nbutton {\n  border: 1px solid transparent;\n  background: #fff;\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  cursor: pointer;\n  border-radius: var(--border-radius-small, 0);\n  outline: none;\n  border: 1px solid transparent;\n\n  background: var(--colours-main, #f0f);\n}\n\n.btn--primary {\n  color: #fff;\n  background: var(--colours-main, #f0f);\n}\n\n.btn--secondary {\n  color: var(--colours-grey-1, #f0f);\n  border-color: var(--colours-grey-2, #f0f);\n  background-color: transparent;\n  margin-right: var(--padding-small, 0);\n}\n\nbutton:disabled {\n  border: 1px solid var(--colours-grey-4, #f0f);\n  color: var(--colours-grey-4, #f0f);\n  background: #fff;\n}\n\nbutton:active,\nbutton:hover {\n  outline: none;\n}\n\n.f2h {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n/* [Header] */\n.f2h__header {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  border-bottom: 1px solid #e4e4e4;\n  background: #f9f9f9;\n}\n.f2h__nav {\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.f2h__title {\n  font-family: var(--font-family-sans-serif, sans-serif);\n  font-size: var(--font-size--medium, 1em);\n}\n.f2h__info {\n  margin-left: var(--padding-medium, 0);\n  display: flex;\n  max-width: 60%;\n  white-space: nowrap;\n}\n.f2h__info_title {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.f2h__info_meta {\n  font-size: var(--font-size--medium, 1em);\n  padding-left: var(--padding-small, 0);\n  margin-left: var(--padding-small, 0);\n  border-left: 1px solid var(--colours-grey-4, #f0f);\n}\n.f2h__info_responsive--no {\n  text-decoration: line-through;\n}\n.f2h__svg_optimise {\n  margin-left: var(--padding-medium, 0);\n  padding-left: var(--padding-small, 0);\n  border-left: 1px solid var(--colours-grey-4, #f0f);\n}\n.f2h__svg_optimise span {\n  padding-left: var(--padding-small, 0);\n}\n\n.f2h__body {\n  display: flex;\n  padding: var(--padding-large, 0) var(--padding-huge, 0);\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background-color: var(--colours-grey-5, #f0f);\n}\n\n/* [ Frame selection and Form ] */\n.f2h__choose_frames {\n  min-width: 50%;\n}\n.f2h__info_form {\n  margin-bottom: var(--padding-large, 0);\n}\n.f2h__info_form__item {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: var(--padding-medium, 0);\n}\n.f2h__info_form__label {\n  font-size: var(--font-size--small, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n}\n.f2h__info_form__input {\n  font-size: var(--font-size--medium, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n}\n\n.f2h__frame_selection {\n  display: grid;\n  grid-template-columns: 1fr min-content;\n  grid-template-rows: auto;\n  min-width: 320px;\n  grid-gap: var(--padding-small, 0) var(--padding-medium, 0);\n  align-items: center;\n}\n\n.f2h__sel_header {\n  color: var(--colours-grey-0, #f0f);\n  font-size: var(--font-size--medium);\n  border-bottom: 1px solid var(--colours-grey-0);\n  padding-bottom: var(--padding-small, 0);\n}\n\n.f2h__sel_header--name {\n  grid-column: 1/2;\n  grid-row: 1/2;\n}\n\n.f2h__sel_header--responsive {\n  grid-column: 2/3;\n  grid-row: 1/2;\n  justify-self: center;\n  white-space: nowrap;\n}\n\n.f2h__label.f2h__label--name {\n  grid-column: 1/2;\n  align-items: baseline;\n}\n.f2h__label--name-text {\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.f2h__input--responsive {\n  grid-column: 2/3;\n  justify-self: center;\n  margin: 0;\n}\n\n.f2h__label {\n  display: flex;\n  cursor: pointer;\n  padding: var(--padding-small) 0;\n  align-items: center;\n  min-width: 0;\n}\n\n.f2h__sel_width {\n  font-size: var(--font-size--small, 1em);\n  color: var(--colours-grey-3, #f0f);\n  padding-left: var(--padding-small, 0);\n  white-space: nowrap;\n}\n\n.f2h__checkbox,\n.f2h__radio_btn {\n  margin-right: var(--padding-medium, 0);\n}\n\n.f2h__selection_width {\n  font-size: var(--font-size--small, 1);\n  margin: 0 var(--padding-small, 0);\n  display: block;\n  color: var(--colours-grey-2, #f0f);\n}\n\n/* [Preview]  */\n.f2h__preview {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n}\n.f2h__preview_title {\n  font-size: var(--font-size--medium, 1);\n  margin: var(--padding-small, 0) 0;\n  display: flex;\n}\n.f2h__preview_name {\n  flex: 1;\n}\n\n.f2h__preview_inner {\n  overflow: auto;\n  max-height: 100%;\n  max-width: 100%;\n  margin: auto;\n}\n.f2h__preview_inner--scaled {\n  overflow: hidden;\n}\n\n.f2h__preview_wrapper {\n  overflow-x: auto;\n  overflow-y: hidden;\n  width: 100%;\n}\n\n.f2h__preview_responsive,\n.f2h__preview_width {\n  font-size: var(--font-size--small, 1);\n  color: var(--colours-grey-3, #f0f);\n  padding-left: var(--padding-small, 0);\n}\n\n.f2h__notice--warning {\n  background: var(--colours-warning, #f0f);\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  margin: var(--padding-small, 0) 0;\n  font-size: var(--font-size--medium, 1em);\n  border-radius: var(--border-radius-medium, 0);\n}\n\n.f2h__notice--error {\n  font-weight: bold;\n  background: #ffeded;\n  color: #a70f0f;\n}\n\n/* [Render] */\n.f2h__render {\n  transform-origin: top left;\n}\n\n.f2h__render--responsive svg {\n  width: 100%;\n}\n\n.error {\n  background-color: var(--colours-grey-5, #f0f);\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0) var(--padding-small, 0);\n  text-align: center;\n  color: var(--colours-grey-0, #f0f);\n  margin: var(--padding-medium, 0) 0;\n  flex: 1;\n  align-self: center;\n}\n\n/* [Save] */\n.f2h__save {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-self: center;\n  max-width: 800px;\n}\n\n.f2h__save_btn {\n  font-size: var(--font-size--large, 1em);\n  color: #fff;\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0);\n  margin-right: var(--padding-medium, 0);\n  border-bottom: 2px solid var(--colours-main-dark, #f0f);\n  border-top: 3px solid transparent;\n}\n.f2h__save_btn:hover {\n  border-top: 0;\n  border-bottom-width: 5px;\n  box-shadow: 0 4px 2px rgba(0, 0, 0, 0.1);\n}\n.f2h__save_btn:active {\n  border-bottom: 2px solid var(--colours-main-dark, #f0f);\n  border-top: 3px solid transparent;\n}\n\n.f2h__save_btn:last-of-type {\n  margin: 0;\n}\n\n.f2h__save_options {\n  display: flex;\n  justify-content: center;\n}\n\n.f2h__save__subhead {\n  font-size: var(--font-size--medium, 1);\n  margin: var(--padding-large, 0) 0 var(--padding-small, 0);\n  padding-bottom: var(--padding-small, 0);\n  border-bottom: 1px solid var(--colours-grey-4, #f0f);\n}\n\n.f2h__save_advanced {\n  opacity: 0;\n  transition: opacity 0.1s;\n}\n.f2h__save_advanced--open {\n  opacity: 1;\n}\n\n.f2h__save_advanced-header {\n  display: flex;\n}\n\n.f2h__save_advanced_title {\n  flex: 1;\n}\n\n.f2h__save_advanced_show {\n  background-color: transparent;\n  border: 1px solid var(--colours-grey-3, #f0f);\n}\n\n.f2h__save__raw {\n  width: 100%;\n  padding: var(--padding-small, 0);\n  border: 1px solid var(--colours-grey-4, #f0f);\n  font-family: monospace;\n  font-size: 11px;\n  min-height: 150px;\n  max-height: 300px;\n}\n\n/* Resize widget */\n.f2h__resizer {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  bottom: 6px;\n  right: 6px;\n  cursor: grabbing;\n  background: repeating-linear-gradient(\n    -45deg,\n    #d2d2d2,\n    #d2d2d2 2px,\n    transparent 1px,\n    transparent 8px\n  );\n  border-radius: 100% 0 0;\n}\n\n.f2h__toast {\n  background-color: var(--colours-grey-1, #f0f);\n  color: #fff;\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0);\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 0);\n  transition: transform 0.3s, opacity 0.3s 0.1s;\n  opacity: 0;\n}\n\n.f2h__toast--open {\n  transform: translate(-50%, -100%);\n  opacity: 1;\n}\n\n/* [Responsive preview] */\n.f2h__responsive_preview {\n  /* width: 300px; */\n  display: flex;\n  flex-direction: column;\n  align-self: center;\n}\n\n.f2h__responsive__wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 500px;\n}\n\n.f2h__ruler {\n  position: relative;\n  display: grid;\n  justify-items: center;\n}\n.f2h__ruler_break {\n  height: var(--padding-medium, 10px);\n  background-color: var(--colours-grey-4, #f0f);\n  border: 2px solid #fff;\n  grid-row: 1/2;\n  grid-column: 1/2;\n  border-top: none;\n  border-bottom: none;\n}\n.f2h__ruler_break--0 {\n  width: 320px;\n  z-index: 3;\n}\n.f2h__ruler_break--1 {\n  width: 450px;\n  z-index: 2;\n}\n.f2h__ruler_break--2 {\n  width: 640px;\n  z-index: 1;\n}\n\n.f2h__responsive__sandbox {\n  resize: both;\n  overflow: hidden;\n  outline: 1px solid var(--colours-grey-4, #f0f);\n  margin: var(--padding-small, 0) 0;\n\n  /* https://leaverou.github.io/css3patterns/#checkerboard */\n  background-color: #eee;\n  background-image: linear-gradient(\n      45deg,\n      var(--colours-grey-4, #f0f) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--colours-grey-4, #f0f) 75%,\n      var(--colours-grey-4, #f0f)\n    ),\n    linear-gradient(\n      45deg,\n      var(--colours-grey-4, #f0f) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--colours-grey-4, #f0f) 75%,\n      var(--colours-grey-4, #f0f)\n    );\n  background-size: 20px 20px;\n  background-position: 0 0, 10px 10px;\n}\n';
  });

  // node_modules/preact/dist/preact.module.js
  var n;
  var l2;
  var u2;
  var i2;
  var t;
  var o2;
  var r;
  var f2;
  var e = {};
  var c2 = [];
  var a2 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;
  function s2(n3, l3) {
    for (var u3 in l3)
      n3[u3] = l3[u3];
    return n3;
  }
  function v2(n3) {
    var l3 = n3.parentNode;
    l3 && l3.removeChild(n3);
  }
  function h(n3, l3, u3) {
    var i3, t2 = arguments, o3 = {};
    for (i3 in l3)
      "key" !== i3 && "ref" !== i3 && (o3[i3] = l3[i3]);
    if (arguments.length > 3)
      for (u3 = [u3], i3 = 3; i3 < arguments.length; i3++)
        u3.push(t2[i3]);
    if (null != u3 && (o3.children = u3), "function" == typeof n3 && null != n3.defaultProps)
      for (i3 in n3.defaultProps)
        void 0 === o3[i3] && (o3[i3] = n3.defaultProps[i3]);
    return y(n3, o3, l3 && l3.key, l3 && l3.ref, null);
  }
  function y(l3, u3, i3, t2, o3) {
    var r2 = {type: l3, props: u3, key: i3, ref: t2, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, constructor: void 0, __v: o3};
    return null == o3 && (r2.__v = r2), n.vnode && n.vnode(r2), r2;
  }
  function p2() {
    return {};
  }
  function d(n3) {
    return n3.children;
  }
  function m(n3, l3) {
    this.props = n3, this.context = l3;
  }
  function w(n3, l3) {
    if (null == l3)
      return n3.__ ? w(n3.__, n3.__.__k.indexOf(n3) + 1) : null;
    for (var u3; l3 < n3.__k.length; l3++)
      if (null != (u3 = n3.__k[l3]) && null != u3.__e)
        return u3.__e;
    return "function" == typeof n3.type ? w(n3) : null;
  }
  function k(n3) {
    var l3, u3;
    if (null != (n3 = n3.__) && null != n3.__c) {
      for (n3.__e = n3.__c.base = null, l3 = 0; l3 < n3.__k.length; l3++)
        if (null != (u3 = n3.__k[l3]) && null != u3.__e) {
          n3.__e = n3.__c.base = u3.__e;
          break;
        }
      return k(n3);
    }
  }
  function g2(l3) {
    (!l3.__d && (l3.__d = true) && u2.push(l3) && !i2++ || o2 !== n.debounceRendering) && ((o2 = n.debounceRendering) || t)(_2);
  }
  function _2() {
    for (var n3; i2 = u2.length; )
      n3 = u2.sort(function(n4, l3) {
        return n4.__v.__b - l3.__v.__b;
      }), u2 = [], n3.some(function(n4) {
        var l3, u3, i3, t2, o3, r2, f3;
        n4.__d && (r2 = (o3 = (l3 = n4).__v).__e, (f3 = l3.__P) && (u3 = [], (i3 = s2({}, o3)).__v = i3, t2 = z(f3, o3, i3, l3.__n, void 0 !== f3.ownerSVGElement, null, u3, null == r2 ? w(o3) : r2), T(u3, o3), t2 != r2 && k(o3)));
      });
  }
  function b(n3, l3, u3, i3, t2, o3, r2, f3, a3, s3) {
    var h3, p3, m2, k2, g3, _3, b2, x2, A2, P2 = i3 && i3.__k || c2, C2 = P2.length;
    for (a3 == e && (a3 = null != r2 ? r2[0] : C2 ? w(i3, 0) : null), u3.__k = [], h3 = 0; h3 < l3.length; h3++)
      if (null != (k2 = u3.__k[h3] = null == (k2 = l3[h3]) || "boolean" == typeof k2 ? null : "string" == typeof k2 || "number" == typeof k2 ? y(null, k2, null, null, k2) : Array.isArray(k2) ? y(d, {children: k2}, null, null, null) : null != k2.__e || null != k2.__c ? y(k2.type, k2.props, k2.key, null, k2.__v) : k2)) {
        if (k2.__ = u3, k2.__b = u3.__b + 1, null === (m2 = P2[h3]) || m2 && k2.key == m2.key && k2.type === m2.type)
          P2[h3] = void 0;
        else
          for (p3 = 0; p3 < C2; p3++) {
            if ((m2 = P2[p3]) && k2.key == m2.key && k2.type === m2.type) {
              P2[p3] = void 0;
              break;
            }
            m2 = null;
          }
        if (g3 = z(n3, k2, m2 = m2 || e, t2, o3, r2, f3, a3, s3), (p3 = k2.ref) && m2.ref != p3 && (x2 || (x2 = []), m2.ref && x2.push(m2.ref, null, k2), x2.push(p3, k2.__c || g3, k2)), null != g3) {
          if (null == b2 && (b2 = g3), A2 = void 0, void 0 !== k2.__d)
            A2 = k2.__d, k2.__d = void 0;
          else if (r2 == m2 || g3 != a3 || null == g3.parentNode) {
            n:
              if (null == a3 || a3.parentNode !== n3)
                n3.appendChild(g3), A2 = null;
              else {
                for (_3 = a3, p3 = 0; (_3 = _3.nextSibling) && p3 < C2; p3 += 2)
                  if (_3 == g3)
                    break n;
                n3.insertBefore(g3, a3), A2 = a3;
              }
            "option" == u3.type && (n3.value = "");
          }
          a3 = void 0 !== A2 ? A2 : g3.nextSibling, "function" == typeof u3.type && (u3.__d = a3);
        } else
          a3 && m2.__e == a3 && a3.parentNode != n3 && (a3 = w(m2));
      }
    if (u3.__e = b2, null != r2 && "function" != typeof u3.type)
      for (h3 = r2.length; h3--; )
        null != r2[h3] && v2(r2[h3]);
    for (h3 = C2; h3--; )
      null != P2[h3] && D(P2[h3], P2[h3]);
    if (x2)
      for (h3 = 0; h3 < x2.length; h3++)
        j(x2[h3], x2[++h3], x2[++h3]);
  }
  function A(n3, l3, u3, i3, t2) {
    var o3;
    for (o3 in u3)
      "children" === o3 || "key" === o3 || o3 in l3 || C(n3, o3, null, u3[o3], i3);
    for (o3 in l3)
      t2 && "function" != typeof l3[o3] || "children" === o3 || "key" === o3 || "value" === o3 || "checked" === o3 || u3[o3] === l3[o3] || C(n3, o3, l3[o3], u3[o3], i3);
  }
  function P(n3, l3, u3) {
    "-" === l3[0] ? n3.setProperty(l3, u3) : n3[l3] = "number" == typeof u3 && false === a2.test(l3) ? u3 + "px" : null == u3 ? "" : u3;
  }
  function C(n3, l3, u3, i3, t2) {
    var o3, r2, f3, e2, c3;
    if (t2 ? "className" === l3 && (l3 = "class") : "class" === l3 && (l3 = "className"), "style" === l3)
      if (o3 = n3.style, "string" == typeof u3)
        o3.cssText = u3;
      else {
        if ("string" == typeof i3 && (o3.cssText = "", i3 = null), i3)
          for (e2 in i3)
            u3 && e2 in u3 || P(o3, e2, "");
        if (u3)
          for (c3 in u3)
            i3 && u3[c3] === i3[c3] || P(o3, c3, u3[c3]);
      }
    else
      "o" === l3[0] && "n" === l3[1] ? (r2 = l3 !== (l3 = l3.replace(/Capture$/, "")), f3 = l3.toLowerCase(), l3 = (f3 in n3 ? f3 : l3).slice(2), u3 ? (i3 || n3.addEventListener(l3, N, r2), (n3.l || (n3.l = {}))[l3] = u3) : n3.removeEventListener(l3, N, r2)) : "list" !== l3 && "tagName" !== l3 && "form" !== l3 && "type" !== l3 && "size" !== l3 && !t2 && l3 in n3 ? n3[l3] = null == u3 ? "" : u3 : "function" != typeof u3 && "dangerouslySetInnerHTML" !== l3 && (l3 !== (l3 = l3.replace(/^xlink:?/, "")) ? null == u3 || false === u3 ? n3.removeAttributeNS("http://www.w3.org/1999/xlink", l3.toLowerCase()) : n3.setAttributeNS("http://www.w3.org/1999/xlink", l3.toLowerCase(), u3) : null == u3 || false === u3 && !/^ar/.test(l3) ? n3.removeAttribute(l3) : n3.setAttribute(l3, u3));
  }
  function N(l3) {
    this.l[l3.type](n.event ? n.event(l3) : l3);
  }
  function z(l3, u3, i3, t2, o3, r2, f3, e2, c3) {
    var a3, v3, h3, y2, p3, w2, k2, g3, _3, x2, A2, P2 = u3.type;
    if (void 0 !== u3.constructor)
      return null;
    (a3 = n.__b) && a3(u3);
    try {
      n:
        if ("function" == typeof P2) {
          if (g3 = u3.props, _3 = (a3 = P2.contextType) && t2[a3.__c], x2 = a3 ? _3 ? _3.props.value : a3.__ : t2, i3.__c ? k2 = (v3 = u3.__c = i3.__c).__ = v3.__E : ("prototype" in P2 && P2.prototype.render ? u3.__c = v3 = new P2(g3, x2) : (u3.__c = v3 = new m(g3, x2), v3.constructor = P2, v3.render = E), _3 && _3.sub(v3), v3.props = g3, v3.state || (v3.state = {}), v3.context = x2, v3.__n = t2, h3 = v3.__d = true, v3.__h = []), null == v3.__s && (v3.__s = v3.state), null != P2.getDerivedStateFromProps && (v3.__s == v3.state && (v3.__s = s2({}, v3.__s)), s2(v3.__s, P2.getDerivedStateFromProps(g3, v3.__s))), y2 = v3.props, p3 = v3.state, h3)
            null == P2.getDerivedStateFromProps && null != v3.componentWillMount && v3.componentWillMount(), null != v3.componentDidMount && v3.__h.push(v3.componentDidMount);
          else {
            if (null == P2.getDerivedStateFromProps && g3 !== y2 && null != v3.componentWillReceiveProps && v3.componentWillReceiveProps(g3, x2), !v3.__e && null != v3.shouldComponentUpdate && false === v3.shouldComponentUpdate(g3, v3.__s, x2) || u3.__v === i3.__v) {
              for (v3.props = g3, v3.state = v3.__s, u3.__v !== i3.__v && (v3.__d = false), v3.__v = u3, u3.__e = i3.__e, u3.__k = i3.__k, v3.__h.length && f3.push(v3), a3 = 0; a3 < u3.__k.length; a3++)
                u3.__k[a3] && (u3.__k[a3].__ = u3);
              break n;
            }
            null != v3.componentWillUpdate && v3.componentWillUpdate(g3, v3.__s, x2), null != v3.componentDidUpdate && v3.__h.push(function() {
              v3.componentDidUpdate(y2, p3, w2);
            });
          }
          v3.context = x2, v3.props = g3, v3.state = v3.__s, (a3 = n.__r) && a3(u3), v3.__d = false, v3.__v = u3, v3.__P = l3, a3 = v3.render(v3.props, v3.state, v3.context), null != v3.getChildContext && (t2 = s2(s2({}, t2), v3.getChildContext())), h3 || null == v3.getSnapshotBeforeUpdate || (w2 = v3.getSnapshotBeforeUpdate(y2, p3)), A2 = null != a3 && a3.type == d && null == a3.key ? a3.props.children : a3, b(l3, Array.isArray(A2) ? A2 : [A2], u3, i3, t2, o3, r2, f3, e2, c3), v3.base = u3.__e, v3.__h.length && f3.push(v3), k2 && (v3.__E = v3.__ = null), v3.__e = false;
        } else
          null == r2 && u3.__v === i3.__v ? (u3.__k = i3.__k, u3.__e = i3.__e) : u3.__e = $(i3.__e, u3, i3, t2, o3, r2, f3, c3);
      (a3 = n.diffed) && a3(u3);
    } catch (l4) {
      u3.__v = null, n.__e(l4, u3, i3);
    }
    return u3.__e;
  }
  function T(l3, u3) {
    n.__c && n.__c(u3, l3), l3.some(function(u4) {
      try {
        l3 = u4.__h, u4.__h = [], l3.some(function(n3) {
          n3.call(u4);
        });
      } catch (l4) {
        n.__e(l4, u4.__v);
      }
    });
  }
  function $(n3, l3, u3, i3, t2, o3, r2, f3) {
    var a3, s3, v3, h3, y2, p3 = u3.props, d2 = l3.props;
    if (t2 = "svg" === l3.type || t2, null != o3) {
      for (a3 = 0; a3 < o3.length; a3++)
        if (null != (s3 = o3[a3]) && ((null === l3.type ? 3 === s3.nodeType : s3.localName === l3.type) || n3 == s3)) {
          n3 = s3, o3[a3] = null;
          break;
        }
    }
    if (null == n3) {
      if (null === l3.type)
        return document.createTextNode(d2);
      n3 = t2 ? document.createElementNS("http://www.w3.org/2000/svg", l3.type) : document.createElement(l3.type, d2.is && {is: d2.is}), o3 = null, f3 = false;
    }
    if (null === l3.type)
      p3 !== d2 && n3.data != d2 && (n3.data = d2);
    else {
      if (null != o3 && (o3 = c2.slice.call(n3.childNodes)), v3 = (p3 = u3.props || e).dangerouslySetInnerHTML, h3 = d2.dangerouslySetInnerHTML, !f3) {
        if (null != o3)
          for (p3 = {}, y2 = 0; y2 < n3.attributes.length; y2++)
            p3[n3.attributes[y2].name] = n3.attributes[y2].value;
        (h3 || v3) && (h3 && v3 && h3.__html == v3.__html || (n3.innerHTML = h3 && h3.__html || ""));
      }
      A(n3, d2, p3, t2, f3), h3 ? l3.__k = [] : (a3 = l3.props.children, b(n3, Array.isArray(a3) ? a3 : [a3], l3, u3, i3, "foreignObject" !== l3.type && t2, o3, r2, e, f3)), f3 || ("value" in d2 && void 0 !== (a3 = d2.value) && a3 !== n3.value && C(n3, "value", a3, p3.value, false), "checked" in d2 && void 0 !== (a3 = d2.checked) && a3 !== n3.checked && C(n3, "checked", a3, p3.checked, false));
    }
    return n3;
  }
  function j(l3, u3, i3) {
    try {
      "function" == typeof l3 ? l3(u3) : l3.current = u3;
    } catch (l4) {
      n.__e(l4, i3);
    }
  }
  function D(l3, u3, i3) {
    var t2, o3, r2;
    if (n.unmount && n.unmount(l3), (t2 = l3.ref) && (t2.current && t2.current !== l3.__e || j(t2, null, u3)), i3 || "function" == typeof l3.type || (i3 = null != (o3 = l3.__e)), l3.__e = l3.__d = void 0, null != (t2 = l3.__c)) {
      if (t2.componentWillUnmount)
        try {
          t2.componentWillUnmount();
        } catch (l4) {
          n.__e(l4, u3);
        }
      t2.base = t2.__P = null;
    }
    if (t2 = l3.__k)
      for (r2 = 0; r2 < t2.length; r2++)
        t2[r2] && D(t2[r2], u3, i3);
    null != o3 && v2(o3);
  }
  function E(n3, l3, u3) {
    return this.constructor(n3, u3);
  }
  function H(l3, u3, i3) {
    var t2, o3, f3;
    n.__ && n.__(l3, u3), o3 = (t2 = i3 === r) ? null : i3 && i3.__k || u3.__k, l3 = h(d, null, [l3]), f3 = [], z(u3, (t2 ? u3 : i3 || u3).__k = l3, o3 || e, e, void 0 !== u3.ownerSVGElement, i3 && !t2 ? [i3] : o3 ? null : u3.childNodes.length ? c2.slice.call(u3.childNodes) : null, f3, i3 || e, t2), T(f3, l3);
  }
  n = {__e: function(n3, l3) {
    for (var u3, i3; l3 = l3.__; )
      if ((u3 = l3.__c) && !u3.__)
        try {
          if (u3.constructor && null != u3.constructor.getDerivedStateFromError && (i3 = true, u3.setState(u3.constructor.getDerivedStateFromError(n3))), null != u3.componentDidCatch && (i3 = true, u3.componentDidCatch(n3)), i3)
            return g2(u3.__E = u3);
        } catch (l4) {
          n3 = l4;
        }
    throw n3;
  }}, l2 = function(n3) {
    return null != n3 && void 0 === n3.constructor;
  }, m.prototype.setState = function(n3, l3) {
    var u3;
    u3 = this.__s !== this.state ? this.__s : this.__s = s2({}, this.state), "function" == typeof n3 && (n3 = n3(u3, this.props)), n3 && s2(u3, n3), null != n3 && this.__v && (l3 && this.__h.push(l3), g2(this));
  }, m.prototype.forceUpdate = function(n3) {
    this.__v && (this.__e = true, n3 && this.__h.push(n3), g2(this));
  }, m.prototype.render = d, u2 = [], i2 = 0, t = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, r = e, f2 = 0;

  // src/utils/css.ts
  function injectCss(css2) {
    const styleEl = document.createElement("style");
    const styleText = document.createTextNode(css2);
    styleEl.appendChild(styleText);
    document.head.appendChild(styleEl);
  }

  // src/constants.ts
  var STAGES;
  (function(STAGES2) {
    STAGES2[STAGES2["CHOOSE_FRAMES"] = 0] = "CHOOSE_FRAMES";
    STAGES2[STAGES2["PREVIEW_OUTPUT"] = 1] = "PREVIEW_OUTPUT";
    STAGES2[STAGES2["RESPONSIVE_PREVIEW"] = 2] = "RESPONSIVE_PREVIEW";
    STAGES2[STAGES2["SAVE_OUTPUT"] = 3] = "SAVE_OUTPUT";
  })(STAGES || (STAGES = {}));
  var MSG_EVENTS;
  (function(MSG_EVENTS3) {
    MSG_EVENTS3[MSG_EVENTS3["DOM_READY"] = 0] = "DOM_READY";
    MSG_EVENTS3[MSG_EVENTS3["NO_FRAMES"] = 1] = "NO_FRAMES";
    MSG_EVENTS3[MSG_EVENTS3["FOUND_FRAMES"] = 2] = "FOUND_FRAMES";
    MSG_EVENTS3[MSG_EVENTS3["RESIZE"] = 3] = "RESIZE";
    MSG_EVENTS3[MSG_EVENTS3["RENDER"] = 4] = "RENDER";
    MSG_EVENTS3[MSG_EVENTS3["CLOSE"] = 5] = "CLOSE";
    MSG_EVENTS3[MSG_EVENTS3["ERROR"] = 6] = "ERROR";
    MSG_EVENTS3[MSG_EVENTS3["UPDATE_HEADLINES"] = 7] = "UPDATE_HEADLINES";
    MSG_EVENTS3[MSG_EVENTS3["COMPRESS_IMAGE"] = 8] = "COMPRESS_IMAGE";
    MSG_EVENTS3[MSG_EVENTS3["COMPRESSED_IMAGE"] = 9] = "COMPRESSED_IMAGE";
  })(MSG_EVENTS || (MSG_EVENTS = {}));
  var OUTPUT_FORMATS;
  (function(OUTPUT_FORMATS2) {
    OUTPUT_FORMATS2[OUTPUT_FORMATS2["INLINE"] = 0] = "INLINE";
    OUTPUT_FORMATS2[OUTPUT_FORMATS2["IFRAME"] = 1] = "IFRAME";
  })(OUTPUT_FORMATS || (OUTPUT_FORMATS = {}));
  const UI_TEXT = {
    ERROR_UNEXPECTED: "Unexpected error",
    ERROR_MISSING_FRAMES: "No frames found. Please add some frames to the page.",
    WARN_NO_TARGETS: "Standard frames not found. Please select target frames.",
    WARN_TOO_MANY_TARGETS: "Please select three target frames",
    INFO_PREVIEW: "Preview each frame output",
    TITLE_CHOOSE_FRAME: "Choose which frames to export",
    TITLE_PREVIEW: "Preview",
    TITLE_RESPONSIVE_PREVIEW: "Responsive preview",
    TILE_OUTPUT: "Export",
    BUTTON_NEXT: "Next",
    BUTTON_DOWNLOAD: "Download",
    BUTTON_PREVIOUS: "Back"
  };
  const INITIAL_UI_SIZE = {
    width: 480,
    height: 500,
    maxWidth: 1200,
    maxHeight: 900,
    minWidth: 420,
    minHeight: 480
  };
  const FRAME_WARNING_SIZE = 300;
  var HEADLINE_NODE_NAMES;
  (function(HEADLINE_NODE_NAMES2) {
    HEADLINE_NODE_NAMES2["HEADLINE"] = "headline";
    HEADLINE_NODE_NAMES2["SUBHEAD"] = "subhead";
    HEADLINE_NODE_NAMES2["SOURCE"] = "source";
  })(HEADLINE_NODE_NAMES || (HEADLINE_NODE_NAMES = {}));

  // src/components/Header.tsx
  function FrameInfo(props) {
    if (!props.frame)
      return null;
    const {name, width, height, svg: svg2, responsive, svgCompressed, svgOptimised} = props.frame;
    const renderCharCount = (svgOptimised ? svgCompressed == null ? void 0 : svgCompressed.length : svg2 == null ? void 0 : svg2.length) || 0;
    const fileKbSize = renderCharCount / 1e3;
    const isFileLarge = fileKbSize > FRAME_WARNING_SIZE;
    let fileSizeClassName = "f2h__file_size";
    if (isFileLarge) {
      fileSizeClassName += " f2h__file_size f2h__notice--error";
    }
    let responsiveClassName = "f2h__info_responsive";
    if (responsive === false) {
      responsiveClassName += " f2h__info_responsive--no";
    }
    return h("p", {
      className: "f2h__info"
    }, h("span", {
      className: "f2h__info_title"
    }, "&quote;", name, "&quote;"), " ", h("span", {
      className: "f2h__info_meta"
    }, width, " x ", height, ",", " ", h("span", {
      className: responsiveClassName
    }, "responsive"), ",", " ", h("span", {
      className: fileSizeClassName
    }, fileKbSize.toFixed(2), "kB")));
  }
  function Header2(props) {
    const {stage, handleBackClick, handleNextClick, disableNext, frame, handleOptimseClick} = props;
    let title;
    let nextText;
    let backText;
    switch (stage) {
      case STAGES.CHOOSE_FRAMES:
        title = UI_TEXT.TITLE_CHOOSE_FRAME;
        nextText = UI_TEXT.BUTTON_NEXT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
      case STAGES.RESPONSIVE_PREVIEW:
        title = UI_TEXT.TITLE_RESPONSIVE_PREVIEW;
        nextText = UI_TEXT.BUTTON_NEXT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
      case STAGES.PREVIEW_OUTPUT:
        title = `${UI_TEXT.TITLE_PREVIEW}`;
        nextText = UI_TEXT.BUTTON_NEXT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
      case STAGES.SAVE_OUTPUT:
        title = UI_TEXT.TILE_OUTPUT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
    }
    return h("header", {
      className: "f2h__header"
    }, h("h1", {
      className: "f2h__title"
    }, title), stage === STAGES.PREVIEW_OUTPUT && h(d, null, h(FrameInfo, {
      frame
    }), h("label", {
      className: "f2h__svg_optimise"
    }, h("input", {
      type: "checkbox",
      checked: frame.svgOptimised,
      name: "optimise",
      id: "optimise",
      onClick: () => handleOptimseClick(frame.id)
    }), h("span", null, "Optimise SVG"))), h("nav", {
      className: "f2h__nav"
    }, stage !== STAGES.CHOOSE_FRAMES && h("button", {
      className: "f2h__btn btn--secondary",
      onClick: handleBackClick
    }, backText), nextText && h("button", {
      className: "f2h__btn btn--primary",
      onClick: handleNextClick,
      disabled: disableNext
    }, nextText)));
  }

  // node_modules/preact-render-to-string/dist/index.module.js
  var n2 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;
  var o = function(e2) {
    return String(e2).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
  };
  var a = function(e2, t2) {
    return String(e2).replace(/(\n+)/g, "$1" + (t2 || "	"));
  };
  var i = function(e2, t2, r2) {
    return String(e2).length > (t2 || 40) || !r2 && -1 !== String(e2).indexOf("\n") || -1 !== String(e2).indexOf("<");
  };
  var l = {};
  function s(e2) {
    var t2 = "";
    for (var r2 in e2) {
      var o3 = e2[r2];
      null != o3 && (t2 && (t2 += " "), t2 += "-" == r2[0] ? r2 : l[r2] || (l[r2] = r2.replace(/([A-Z])/g, "-$1").toLowerCase()), t2 += ": ", t2 += o3, "number" == typeof o3 && false === n2.test(r2) && (t2 += "px"), t2 += ";");
    }
    return t2 || void 0;
  }
  function f(e2, t2) {
    for (var r2 in t2)
      e2[r2] = t2[r2];
    return e2;
  }
  function c(e2, t2) {
    return Array.isArray(t2) ? t2.reduce(c, e2) : null != t2 && false !== t2 && e2.push(t2), e2;
  }
  var p = {shallow: true};
  var u = [];
  var _ = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;
  var g = function() {
  };
  v.render = v;
  var h2 = function(e2, t2) {
    return v(e2, t2, p);
  };
  function v(n3, l3, p3, h3, d2, m2) {
    if (null == n3 || "boolean" == typeof n3)
      return "";
    Array.isArray(n3) && (n3 = h(d, null, n3));
    var x2 = n3.type, y2 = n3.props, b2 = false;
    l3 = l3 || {};
    var S, w2 = (p3 = p3 || {}).pretty, k2 = w2 && "string" == typeof w2 ? w2 : "	";
    if ("object" != typeof n3 && !x2)
      return o(n3);
    if ("function" == typeof x2) {
      if (b2 = true, !p3.shallow || !h3 && false !== p3.renderRootComponent) {
        if (x2 === d) {
          var O = "", C2 = [];
          c(C2, n3.props.children);
          for (var A2 = 0; A2 < C2.length; A2++)
            O += (A2 > 0 && w2 ? "\n" : "") + v(C2[A2], l3, p3, false !== p3.shallowHighOrder, d2, m2);
          return O;
        }
        var H2, j2 = n3.__c = {__v: n3, context: l3, props: n3.props, setState: g, forceUpdate: g, __h: []};
        if (n.__r && n.__r(n3), x2.prototype && "function" == typeof x2.prototype.render) {
          var F = x2.contextType, $2 = F && l3[F.__c], L2 = null != F ? $2 ? $2.props.value : F.__ : l3;
          (j2 = n3.__c = new x2(y2, L2)).__v = n3, j2._dirty = j2.__d = true, j2.props = y2, null == j2.state && (j2.state = {}), null == j2._nextState && null == j2.__s && (j2._nextState = j2.__s = j2.state), j2.context = L2, x2.getDerivedStateFromProps ? j2.state = f(f({}, j2.state), x2.getDerivedStateFromProps(j2.props, j2.state)) : j2.componentWillMount && j2.componentWillMount(), j2.state = j2._nextState !== j2.state ? j2._nextState : j2.__s !== j2.state ? j2.__s : j2.state, H2 = j2.render(j2.props, j2.state, j2.context);
        } else {
          var M2 = x2.contextType, T2 = M2 && l3[M2.__c];
          H2 = x2.call(n3.__c, y2, null != M2 ? T2 ? T2.props.value : M2.__ : l3);
        }
        return j2.getChildContext && (l3 = f(f({}, l3), j2.getChildContext())), v(H2, l3, p3, false !== p3.shallowHighOrder, d2, m2);
      }
      x2 = (S = x2).displayName || S !== Function && S.name || function(e2) {
        var t2 = (Function.prototype.toString.call(e2).match(/^\s*function\s+([^( ]+)/) || "")[1];
        if (!t2) {
          for (var r2 = -1, n4 = u.length; n4--; )
            if (u[n4] === e2) {
              r2 = n4;
              break;
            }
          r2 < 0 && (r2 = u.push(e2) - 1), t2 = "UnnamedComponent" + r2;
        }
        return t2;
      }(S);
    }
    var D2, N2 = "";
    if (y2) {
      var P2 = Object.keys(y2);
      p3 && true === p3.sortAttributes && P2.sort();
      for (var R = 0; R < P2.length; R++) {
        var U = P2[R], W = y2[U];
        if ("children" !== U && (!U.match(/[\s\n\\/='"\0<>]/) && (p3 && p3.allAttributes || "key" !== U && "ref" !== U && "__self" !== U && "__source" !== U))) {
          if ("className" === U) {
            if (y2.class)
              continue;
            U = "class";
          } else
            d2 && U.match(/^xlink:?./) && (U = U.toLowerCase().replace(/^xlink:?/, "xlink:"));
          if ("htmlFor" === U) {
            if (y2.for)
              continue;
            U = "for";
          }
          "style" === U && W && "object" == typeof W && (W = s(W));
          var q = p3.attributeHook && p3.attributeHook(U, W, l3, p3, b2);
          if (q || "" === q)
            N2 += q;
          else if ("dangerouslySetInnerHTML" === U)
            D2 = W && W.__html;
          else if ((W || 0 === W || "" === W) && "function" != typeof W) {
            if (!(true !== W && "" !== W || (W = U, p3 && p3.xml))) {
              N2 += " " + U;
              continue;
            }
            if ("value" === U) {
              if ("select" === x2) {
                m2 = W;
                continue;
              }
              "option" === x2 && m2 == W && (N2 += " selected");
            }
            N2 += " " + U + '="' + o(W) + '"';
          }
        }
      }
    }
    if (w2) {
      var z2 = N2.replace(/^\n\s*/, " ");
      z2 === N2 || ~z2.indexOf("\n") ? w2 && ~N2.indexOf("\n") && (N2 += "\n") : N2 = z2;
    }
    if (N2 = "<" + x2 + N2 + ">", String(x2).match(/[\s\n\\/='"\0<>]/))
      throw new Error(x2 + " is not a valid HTML tag name in " + N2);
    var E2 = String(x2).match(_);
    E2 && (N2 = N2.replace(/>$/, " />"));
    var I2, Z = [];
    if (D2)
      w2 && i(D2) && (D2 = "\n" + k2 + a(D2, k2)), N2 += D2;
    else if (y2 && c(I2 = [], y2.children).length) {
      for (var B = w2 && ~N2.indexOf("\n"), G = false, J = 0; J < I2.length; J++) {
        var K = I2[J];
        if (null != K && false !== K) {
          var Q = v(K, l3, p3, true, "svg" === x2 || "foreignObject" !== x2 && d2, m2);
          if (w2 && !B && i(Q) && (B = true), Q)
            if (w2) {
              var V = Q.length > 0 && "<" != Q[0];
              G && V ? Z[Z.length - 1] += Q : Z.push(Q), G = V;
            } else
              Z.push(Q);
        }
      }
      if (w2 && B)
        for (var X = Z.length; X--; )
          Z[X] = "\n" + k2 + a(Z[X], k2);
    }
    if (Z.length)
      N2 += Z.join("");
    else if (p3 && p3.xml)
      return N2.substring(0, N2.length - 1) + " />";
    return E2 || (w2 && ~N2.indexOf("\n") && (N2 += "\n"), N2 += "</" + x2 + ">"), N2;
  }
  v.shallowRender = h2;
  const index_module_default = v;

  // src/outputRender.tsx
  const embed = __toModule(require_embed());
  const fonts = __toModule(require_fonts());
  function generateIframeHtml(body) {
    return `
    <!doctype html>
    <html>
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style> html, body { margin: 0; } </style>
      </head>
      <body>
        ${body}
      </body>
    </html>
  `;
  }
  function generateStyleText(node, frameWidth, frameHeight) {
    const {x: x2, y: y2, width, height, fontSize, fontFamily, colour, letterSpacing, lineHeight, textAlignHorizontal, textAlignVertical, fontStyle} = node;
    const left = `${(x2 + width / 2) / frameWidth * 100}%`;
    const top = `${(y2 + height / 2) / frameHeight * 100}%`;
    const {r: r2, g: g3, b: b2, a: a3} = colour;
    const colourVals = [r2, g3, b2].map((val = 0) => Math.round(val * 255));
    const textColour = `rgba(${colourVals.join(",")}, ${a3})`;
    const fontName = `${fontFamily} ${fontStyle}`;
    const {unit: letterUnit, value: letterVal} = letterSpacing;
    let letterSpaceValue = "0";
    switch (letterUnit) {
      case "PIXELS":
        if (fontFamily === "Telesans Text") {
          letterSpaceValue = `${letterVal - 0.33}px`;
        } else if (fontFamily === "Telesans Agate") {
          letterSpaceValue = `${letterVal - 0.19}px`;
        } else {
          letterSpaceValue = `${letterVal}px`;
        }
        break;
      case "PERCENT":
        letterSpaceValue = `${letterVal / 100}em`;
        if (fontFamily === "Telesans Text") {
          letterSpaceValue = `${letterVal / 100 - 0.022}em`;
        } else if (fontFamily === "Telesans Agate") {
          letterSpaceValue = `${letterVal / 100 - 0.015}em`;
        } else {
          letterSpaceValue = `${letterVal / 100}em`;
        }
        break;
      default:
        if (fontFamily === "Telesans Text") {
          letterSpaceValue = "-0.37px";
        } else if (fontFamily === "Telesans Agate") {
          letterSpaceValue = "-0.19}px";
        } else {
          letterSpaceValue = `0`;
        }
        break;
    }
    const {unit: lineUnit, value: lineVal} = lineHeight;
    let lineHeightValue = "auto";
    switch (lineUnit) {
      case "PIXELS":
        lineHeightValue = `${lineVal}px`;
        break;
      case "PERCENT":
        lineHeightValue = `${lineVal * 1.15}%`;
        break;
      case "AUTO":
        lineHeightValue = "1.2";
        break;
    }
    let alignItemsValue = "auto";
    switch (textAlignVertical) {
      case "TOP":
        alignItemsValue = "flex-start";
        break;
      case "CENTER":
        alignItemsValue = "center";
        break;
      case "BOTTOM":
        alignItemsValue = "flex-end";
        break;
    }
    let justifyItemsValue = "auto";
    switch (textAlignHorizontal) {
      case "LEFT":
        justifyItemsValue = "flex-start";
        break;
      case "CENTER":
        justifyItemsValue = "center";
        break;
      case "RIGHT":
        justifyItemsValue = "flex-end";
        break;
    }
    const newWidth = Math.ceil(width / frameWidth * 100);
    return `
        font-size: ${String(fontSize)}px;
        font-family: "${fontName}", Georgia, 'Times New Roman', Times, serif;
        font-weight: normal;
        position: absolute;
        color: ${textColour};
        width: ${newWidth}%;
        height: ${height / frameHeight * 100}%;
        left: ${left};
        top: ${top};
        line-height: ${lineHeightValue};
        letter-spacing: ${letterSpaceValue};
        justify-content: ${justifyItemsValue};
        align-items: ${alignItemsValue};
        display: flex;
      `;
  }
  function Text(props) {
    const {node, width, height} = props;
    const {characters} = node;
    const styleText = generateStyleText(node, width, height);
    return h("p", {
      className: "f2h__text",
      style: styleText
    }, characters);
  }
  function FrameContainer(props) {
    const {uid, width, height, textNodes, svg: svg2 = "", svgCompressed = "", svgOptimised, responsive, scale} = props;
    const textEls = textNodes.map((node) => h(Text, {
      key: node.characters,
      node,
      width,
      height
    }));
    const classNames = `f2h__render ${responsive ? "f2h__render--responsive" : ""}`;
    let style = responsive ? "" : `width: ${width}px;`;
    style = scale ? `${style} transform: scale(${scale});` : style;
    return h("div", {
      className: classNames,
      style,
      id: uid
    }, h("div", {
      className: "f2h__svg_container",
      dangerouslySetInnerHTML: {__html: svgOptimised ? svgCompressed : svg2}
    }), h("div", {
      className: "f2h__text_container"
    }, textEls));
  }
  function renderInline(props) {
    const {frames, iframe, headline, subhead, source} = props;
    const mediaQuery = genreateMediaQueries(frames);
    const renderedFrames = frames.map((frame) => h(FrameContainer, __assign({
      key: frame.uid
    }, frame)));
    let html = index_module_default(h("div", {
      className: "f2h__embed"
    }, h("style", {
      dangerouslySetInnerHTML: {
        __html: `
       ${fonts.default}
       ${embed.default}
       ${mediaQuery}
      `
      }
    }), (headline || subhead) && h("header", {
      className: "f2h_header"
    }, headline && h("h1", {
      className: "f2h_headline"
    }, headline), subhead && h("p", {
      className: "f2h_subbhead"
    }, "subhead")), renderedFrames, source && h("footer", null, h("p", {
      className: "f2h_source"
    }, source))));
    if (iframe === OUTPUT_FORMATS.IFRAME) {
      html = generateIframeHtml(html);
    }
    return html;
  }
  function genreateMediaQueries(frames) {
    const idWidths = frames.map(({width, uid}) => [width, uid]).sort(([a3], [b2]) => a3 < b2 ? -1 : 1);
    const mediaQueries = idWidths.map(([width, uid], i3) => {
      if (i3 === 0) {
        return "";
      }
      const [, prevId] = idWidths[i3 - 1];
      return `
      @media (max-width: ${width}px) {
        #${uid} { display: none; }
      }
      @media (min-width: ${width}px) {
        #${prevId} { display: none; }
        #${uid} { display: block; }
      }
    `;
    });
    return mediaQueries.join("");
  }

  // src/components/ResponsiveView.tsx
  function ResponsiveView2(props) {
    const {frames, headline, subhead, source, windowHeight, windowWidth} = props;
    const maxWidth = Math.max(...frames.map((f3) => f3.width));
    const maxHeight = Math.max(...frames.map((f3) => f3.height));
    const minWidth = Math.min(windowWidth - 100, maxWidth);
    const minHeight = Math.min(windowHeight - 160, maxHeight);
    const rawHtml = renderInline({
      frames,
      iframe: OUTPUT_FORMATS.IFRAME,
      headline,
      subhead,
      source
    });
    return h("div", {
      className: "f2h__responsive_preview"
    }, h("p", null, "Use the window below to test how the frames behave when resizing."), h("div", {
      className: "f2h__responsive__wrapper"
    }, h("iframe", {
      style: `height: ${minHeight}px; width: ${minWidth}px;`,
      className: "f2h__responsive__sandbox",
      srcDoc: rawHtml
    })));
  }

  // src/components/FrameSelection.tsx
  function InputField(props) {
    const {label, value, refTarget, handleChange} = props;
    return h("p", {
      className: "f2h__info_form__item f2h__info_form__item--headline"
    }, h("label", {
      className: "f2h__info_form__label"
    }, label), h("input", {
      className: "f2h__info_form__input f2h__info_form__input--headline",
      type: "text",
      value,
      ref: refTarget,
      onChange: handleChange
    }));
  }
  class FrameSelection2 extends m {
    constructor() {
      super(...arguments);
      this.headlineInput = p2();
      this.subheadInput = p2();
      this.sourceInput = p2();
      this.sendFormValues = () => {
        var _a, _b, _c;
        const {handleFormUpdate} = this.props;
        const headline = (_a = this.headlineInput.current) == null ? void 0 : _a.value;
        const subhead = (_b = this.subheadInput.current) == null ? void 0 : _b.value;
        const source = (_c = this.sourceInput.current) == null ? void 0 : _c.value;
        handleFormUpdate({headline, subhead, source});
      };
    }
    render() {
      const {frames, handleClick, toggleResonsive, toggleSelectAll, toggleResponsiveAll, headline, subhead, source} = this.props;
      const selectCount = frames.filter((frame) => frame.selected).length;
      const someFramesSelected = selectCount > 0 && selectCount < frames.length;
      const allSelected = selectCount === frames.length;
      const responseCount = frames.filter((frame) => frame.responsive).length;
      const someResponsiveSelected = responseCount > 0 && responseCount < frames.length;
      const allResponsiveSelected = responseCount === frames.length;
      return h("div", {
        className: "f2h__choose_frames"
      }, h("div", {
        className: "f2h__info_form"
      }, h(InputField, {
        refTarget: this.headlineInput,
        handleChange: this.sendFormValues,
        label: "Headline",
        value: headline
      }), h(InputField, {
        refTarget: this.subheadInput,
        handleChange: this.sendFormValues,
        label: "Subhead",
        value: subhead
      }), h(InputField, {
        refTarget: this.sourceInput,
        handleChange: this.sendFormValues,
        label: "Source",
        value: source
      })), h("div", {
        className: "f2h__frame_selection"
      }, h("label", {
        className: "f2h__sel_header f2h__sel_header--name"
      }, h("input", {
        name: "selectAll",
        id: "selectAll",
        type: "checkbox",
        onClick: toggleSelectAll,
        checked: allSelected,
        ref: (el) => el && (el.indeterminate = someFramesSelected)
      }), " ", "Frames"), h("label", {
        className: "f2h__sel_header f2h__sel_header--responsive"
      }, h("input", {
        type: "checkbox",
        id: "responsiveAll",
        name: "responsiveAll",
        onClick: toggleResponsiveAll,
        checked: allResponsiveSelected,
        ref: (el) => el && (el.indeterminate = someResponsiveSelected)
      }), " ", "Responsive"), frames.map(({name, id, width, height, selected, responsive}) => h(d, {
        key: id
      }, h("p", {
        className: "f2h__label f2h__label--name"
      }, h("input", {
        className: "f2h__checkbox",
        type: "checkbox",
        checked: selected,
        onClick: () => handleClick(id),
        id: name,
        name
      }), h("label", {
        className: "f2h__label--name-text",
        htmlFor: name
      }, name), h("span", {
        className: "f2h__sel_width"
      }, width, " x ", height)), h("input", {
        className: "f2h__checkbox f2h__input--responsive",
        type: "checkbox",
        checked: responsive,
        onClick: () => toggleResonsive(id),
        id: name,
        name
      })))));
    }
  }

  // src/components/Preview.tsx
  class Preview2 extends m {
    constructor() {
      super(...arguments);
      this.state = {
        nativeSize: true
      };
      this.innerEl = p2();
      this.getScale = () => {
        const {windowHeight, windowWidth, frame} = this.props;
        const {width, height} = frame;
        const WINDOW_HEADER_HEIGHT = 140;
        const heightRatio = (windowHeight - WINDOW_HEADER_HEIGHT) / height;
        const WINDOW_SIDE_MARGINS = 120;
        const widthRatio = (windowWidth - WINDOW_SIDE_MARGINS) / width;
        const smallestRatio = Math.min(heightRatio, widthRatio);
        const scale = smallestRatio < 1 ? smallestRatio : 1;
        const scaledHeight = height * scale;
        const scaledWidth = width * scale;
        return {
          scale,
          scaledHeight,
          scaledWidth
        };
      };
      this.toggleZoomed = () => {
        const {current: el} = this.innerEl;
        if (el) {
          el.scrollLeft = 0;
          el.scrollTop = 0;
        } else {
          console.error("Missing preview inner DOM element");
        }
        this.setState({nativeSize: !this.state.nativeSize});
      };
    }
    componentDidMount() {
      const {scale} = this.getScale();
      this.setState({nativeSize: scale >= 1});
    }
    componentDidUpdate(_previousProps, previousState) {
      const {nativeSize} = previousState;
      const {scale} = this.getScale();
      const isNativeSize = scale >= 1;
      if (nativeSize !== isNativeSize) {
        this.setState({nativeSize: isNativeSize});
      }
    }
    render() {
      const {frame} = this.props;
      const {svg: svg2, svgOptimised, svgCompressed} = frame;
      const renderCharCount = (svgOptimised ? svgCompressed == null ? void 0 : svgCompressed.length : svg2 == null ? void 0 : svg2.length) || 0;
      const fileKbSize = Math.ceil(renderCharCount / 1e3);
      const isFileLarge = fileKbSize > FRAME_WARNING_SIZE;
      const {nativeSize} = this.state;
      const {scale, scaledHeight, scaledWidth} = this.getScale();
      const previewWrapperStyles = !nativeSize ? `width: ${scaledWidth}; height: ${scaledHeight};` : "";
      let scaleWarning;
      if (scale < 1) {
        scaleWarning = h("p", {
          className: "f2h__scale_warning f2h__notice--warning"
        }, h("span", null, "Zoomed ", nativeSize ? "100" : Math.round(scale * 100), "% - "), h("label", null, "native size", " ", h("input", {
          type: "checkbox",
          checked: nativeSize,
          onClick: this.toggleZoomed
        })));
      }
      return h("div", {
        className: "f2h__preview"
      }, isFileLarge && h("p", {
        className: "f2h__size_warning f2h__notice--warning"
      }, "File size is very large, consider using smaller images and simplier shapes"), scaleWarning, svg2 ? h("div", {
        ref: this.innerEl,
        className: `f2h__preview_inner ${!nativeSize ? "f2h__preview_inner--scaled" : ""}`,
        style: previewWrapperStyles
      }, h(FrameContainer, __assign(__assign({}, frame), {
        scale: !nativeSize && scale
      }))) : h("p", {
        className: "f2h__preview_loading"
      }, "Loading..."));
    }
  }

  // src/components/Save.tsx
  const file_saver = __toModule(require_FileSaver_min());
  class Save2 extends m {
    constructor() {
      super(...arguments);
      this.state = {
        advancedOpen: false,
        showToast: false,
        outputFormat: OUTPUT_FORMATS.INLINE
      };
      this.textAreaEl = p2();
      this.toggleAdvanced = () => {
        this.setState({
          advancedOpen: !this.state.advancedOpen
        });
      };
      this.saveToClipboard = () => {
        const {current: el} = this.textAreaEl;
        if (!el) {
          console.error("Missing textarea element");
          return;
        }
        el.select();
        document.execCommand("copy");
        const {showToast} = this.state;
        if (showToast) {
          return;
        }
        this.setState({showToast: true});
        setTimeout(() => this.setState({showToast: false}), 2e3);
      };
      this.saveEmbedToClipboard = () => {
        this.setState({outputFormat: OUTPUT_FORMATS.INLINE}, this.saveToClipboard);
      };
      this.saveBinaryFile = () => {
        const {frames, headline, subhead, source} = this.props;
        const outputFrames = Object.values(frames).filter((f3) => f3.selected);
        const filename = "figma-to-html-test.html";
        const raw = renderInline({
          frames: outputFrames,
          iframe: OUTPUT_FORMATS.IFRAME,
          headline,
          subhead,
          source
        });
        const blob = new Blob([raw], {type: "text/html"});
        file_saver.saveAs(blob, filename);
      };
      this.handleFormatChange = (format) => {
        this.setState({
          outputFormat: format
        });
      };
    }
    render() {
      const {frames, headline, subhead, source} = this.props;
      const {advancedOpen, showToast, outputFormat} = this.state;
      const rawHtml = renderInline({
        frames,
        iframe: outputFormat,
        headline,
        subhead,
        source
      });
      const advancedBtnText = `${advancedOpen ? "hide" : "show"}`;
      let advancedClassName = "f2h__save_advanced";
      if (advancedOpen) {
        advancedClassName += "f2h__save_advanced--open";
      }
      let toastClassName = "f2h__toast";
      if (showToast) {
        toastClassName += "f2h__toast--open";
      }
      return h("div", {
        className: "f2h__save"
      }, h("div", {
        className: "f2h__save_options"
      }, h("button", {
        className: "f2h__save_btn",
        onClick: this.saveEmbedToClipboard
      }, "Copy embed to clipboard"), h("button", {
        className: "f2h__save_btn",
        onClick: this.saveBinaryFile
      }, "Download iframe HTML file")), h("h2", {
        className: "f2h__save__subhead f2h__save_advanced-header"
      }, h("span", {
        className: "f2h__save_advanced_title"
      }, "Advanced settings"), h("button", {
        className: "f2h__save_advanced_show",
        onClick: this.toggleAdvanced
      }, advancedBtnText)), h("div", {
        className: advancedClassName
      }, h("h2", {
        className: "f2h__save__subhead"
      }, "Format"), h("label", {
        htmlFor: "f2h__input_inline",
        className: "f2h__label"
      }, h("input", {
        className: "f2h__radio_btn",
        type: "radio",
        name: "inline",
        id: "f2h__input_inline",
        value: OUTPUT_FORMATS.INLINE,
        checked: outputFormat === OUTPUT_FORMATS.INLINE,
        onClick: () => this.handleFormatChange(OUTPUT_FORMATS.INLINE)
      }), "Inline (default)"), h("label", {
        htmlFor: "f2h__input_iframe",
        className: "f2h__label"
      }, h("input", {
        className: "f2h__radio_btn",
        type: "radio",
        name: "iframe",
        id: "f2h__input_iframe",
        value: OUTPUT_FORMATS.IFRAME,
        checked: outputFormat === OUTPUT_FORMATS.IFRAME,
        onClick: () => this.handleFormatChange(OUTPUT_FORMATS.IFRAME)
      }), "iFrame"), h("h2", {
        className: "f2h__save__subhead"
      }, "Raw HTML"), h("textarea", {
        ref: this.textAreaEl,
        className: "f2h__save__raw",
        value: rawHtml
      })), h("div", {
        className: toastClassName
      }, "Copied to clipboard"));
    }
  }

  // src/utils/svg.ts
  function decodeSvgToString(svg2) {
    let svgStr = new TextDecoder("utf-8").decode(svg2);
    const regex = /id="(.+?)"/g;
    const ids = [];
    let matches;
    while (matches = regex.exec(svgStr)) {
      const [, id] = matches;
      ids.push(id);
    }
    ids.forEach((id) => {
      const rnd = Math.random().toString(32).substr(2);
      const randomId = `${id}-${rnd}`;
      svgStr = svgStr.replace(`id="${id}"`, `id="${randomId}"`);
      svgStr = svgStr.replace(`#${id}`, `#${randomId}`);
    });
    svgStr = svgStr.replace(/http:\/\//g, "https://");
    return svgStr;
  }

  // src/utils/compressImage.ts
  const compressorjs = __toModule(require_compressor());
  function compressImage2(image, width, height) {
    return new Promise((resolve, reject) => {
      const blob = new Blob([image], {type: "image/png"});
      const imgUrl = URL.createObjectURL(blob);
      const img = new Image();
      img.src = imgUrl;
      img.addEventListener("load", () => {
        let targetWidth = 0;
        let targetHeight = 0;
        if (width > img.width || height > img.height) {
          targetWidth = img.width;
          targetHeight = img.height;
        } else {
          const aspectRatio = img.width / img.height;
          targetWidth = aspectRatio >= 1 ? height * aspectRatio : width;
          targetHeight = aspectRatio >= 1 ? height : width / aspectRatio;
        }
        new compressorjs.default(blob, {
          width: targetWidth,
          height: targetHeight,
          quality: 0.7,
          convertSize: 1e5,
          success: async (newImage) => {
            const buf = await newImage.arrayBuffer();
            const data = new Uint8Array(buf);
            resolve(data);
          },
          error: (err) => {
            console.error("Image compression failed");
            reject(err);
          }
        });
      });
      img.addEventListener("error", (err) => {
        console.error("Error loading compressed image");
        reject(err);
      });
    });
  }

  // src/utils/messages.ts
  function sendMessage(type, data) {
    console.log("post message", parent.postMessage, type, data);
    parent.postMessage({
      pluginMessage: __assign({
        type
      }, data)
    }, "*");
  }

  // src/utils/lib/tools.ts
  const cleanupOutData = function(data, params2, command) {
    var str = "", delimiter, prev;
    data.forEach(function(item, i3) {
      delimiter = " ";
      if (i3 == 0)
        delimiter = "";
      if (params2.noSpaceAfterFlags && (command == "A" || command == "a")) {
        var pos = i3 % 7;
        if (pos == 4 || pos == 5)
          delimiter = "";
      }
      if (params2.leadingZero) {
        item = removeLeadingZero(item);
      }
      if (params2.negativeExtraSpace && delimiter != "" && (item < 0 || String(item).charCodeAt(0) == 46 && prev % 1 !== 0)) {
        delimiter = "";
      }
      prev = item;
      str += delimiter + item;
    });
    return str;
  };
  const removeLeadingZero = function(num) {
    var strNum = num.toString();
    if (0 < num && num < 1 && strNum.charCodeAt(0) == 48) {
      strNum = strNum.slice(1);
    } else if (-1 < num && num < 0 && strNum.charCodeAt(1) == 48) {
      strNum = strNum.charAt(0) + strNum.slice(2);
    }
    return strNum;
  };

  // src/utils/lib/path.ts
  const rNumber = String.raw`[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?\s*`;
  const rCommaWsp = String.raw`(?:\s,?\s*|,\s*)`;
  const rNumberCommaWsp = `(${rNumber})` + rCommaWsp;
  const rFlagCommaWsp = `([01])${rCommaWsp}?`;
  const rCoordinatePair = String.raw`(${rNumber})${rCommaWsp}?(${rNumber})`;
  const rArcSeq = (rNumberCommaWsp + "?").repeat(2) + rNumberCommaWsp + rFlagCommaWsp.repeat(2) + rCoordinatePair;
  const regPathInstructions = /([MmLlHhVvCcSsQqTtAaZz])\s*/;
  const regCoordinateSequence = new RegExp(rNumber, "g");
  const regArcArgumentSequence = new RegExp(rArcSeq, "g");
  function path2js(path2) {
    var _a;
    const paramsLength = {
      H: 1,
      V: 1,
      M: 2,
      L: 2,
      T: 2,
      Q: 4,
      S: 4,
      C: 6,
      A: 7,
      h: 1,
      v: 1,
      m: 2,
      l: 2,
      t: 2,
      q: 4,
      s: 4,
      c: 6,
      a: 7
    };
    let pathData = [];
    let instruction;
    let startMoveto = false;
    (_a = path2.getAttribute("d")) == null ? void 0 : _a.split(regPathInstructions).forEach(function(data) {
      if (!data)
        return;
      if (!startMoveto) {
        if (data == "M" || data == "m") {
          startMoveto = true;
        } else
          return;
      }
      if (regPathInstructions.test(data)) {
        instruction = data;
        if (instruction == "Z" || instruction == "z") {
          pathData.push({
            instruction: "z"
          });
        }
      } else {
        if (instruction == "A" || instruction == "a") {
          var newData = [];
          for (var args; args = regArcArgumentSequence.exec(data); ) {
            for (var i3 = 1; i3 < args.length; i3++) {
              newData.push(args[i3]);
            }
          }
          data = newData;
        } else {
          data = data.match(regCoordinateSequence);
        }
        if (!data)
          return;
        data = data.map(Number);
        if (instruction == "M" || instruction == "m") {
          pathData.push({
            instruction: pathData.length == 0 ? "M" : instruction,
            data: data.splice(0, 2)
          });
          instruction = instruction == "M" ? "L" : "l";
        }
        for (var pair = paramsLength[instruction]; data.length; ) {
          pathData.push({
            instruction,
            data: data.splice(0, pair)
          });
        }
      }
    });
    if (pathData.length && pathData[0].instruction == "m") {
      pathData[0].instruction = "M";
    }
    return pathData;
  }
  const js2path = function(path2, data, params2) {
    if (params2.collapseRepeated) {
      data = collapseRepeated(data);
    }
    path2.setAttribute("d", data.reduce(function(pathString, item) {
      var strData = "";
      if (item.data) {
        strData = cleanupOutData(item.data, params2, item.instruction);
      }
      return pathString += item.instruction + strData;
    }, ""));
  };
  function collapseRepeated(data) {
    var prev, prevIndex;
    data = data.reduce(function(newPath, item) {
      if (prev && item.data && item.instruction == prev.instruction) {
        if (item.instruction != "M") {
          prev = newPath[prevIndex] = {
            instruction: prev.instruction,
            data: prev.data.concat(item.data),
            coords: item.coords,
            base: prev.base
          };
        } else {
          prev.data = item.data;
          prev.coords = item.coords;
        }
      } else {
        newPath.push(item);
        prev = item;
        prevIndex = newPath.length - 1;
      }
      return newPath;
    }, []);
    return data;
  }

  // src/utils/lib/shapeToPath.ts
  function convertShapesToPath(el) {
    var _a, _b, _c, _d, _e;
    if (el instanceof SVGRectElement && el.hasAttribute("width") && el.hasAttribute("height") && el.hasAttribute("rx") === false && el.hasAttribute("ry") === false) {
      const x2 = parseFloat(el.getAttribute("x") || "0");
      const y2 = parseFloat(el.getAttribute("y") || "0");
      const width = parseFloat(el.getAttribute("width") || "0");
      const height = parseFloat(el.getAttribute("height") || "0");
      if (isNaN(x2 - y2 + width - height))
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const pathData = `M${x2} ${y2}H${x2 + width}V${y2 + height}H${x2}z`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["x", "y", "width", "height"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_a = el.parentElement) == null ? void 0 : _a.replaceChild(pathEl, el);
    } else if (el instanceof SVGLineElement) {
      const x1 = parseFloat(el.getAttribute("x1") || "0");
      const x2 = parseFloat(el.getAttribute("x2") || "0");
      const y1 = parseFloat(el.getAttribute("y1") || "0");
      const y2 = parseFloat(el.getAttribute("y2") || "0");
      if (isNaN(x1 - y1 + x2 - y2))
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const pathData = `M${x1} ${y1}L${x2} ${y2}`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["x1", "y1", "x2", "y2"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_b = el.parentElement) == null ? void 0 : _b.replaceChild(pathEl, el);
    } else if ((el instanceof SVGPolylineElement || el instanceof SVGPolygonElement) && el.hasAttribute("points")) {
      const REGX_NUMBER = /[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?/g;
      const points = (_c = el.getAttribute("points")) != null ? _c : "";
      const coords = ((_d = points.match(REGX_NUMBER)) != null ? _d : []).map(Number);
      if (coords.length < 4)
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const [x2, y2] = coords.slice(0, 2);
      const remainingPoints = coords.slice(2).join(" ");
      const suffix = el instanceof SVGPolygonElement ? "z" : "";
      const pathData = `M${x2} ${y2}L${remainingPoints}${suffix}`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["points"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_e = el.parentElement) == null ? void 0 : _e.replaceChild(pathEl, el);
    }
  }

  // src/utils/crunchSvg.ts
  const params = {
    applyTransforms: true,
    applyTransformsStroked: true,
    makeArcs: {
      threshold: 2.5,
      tolerance: 0.5
    },
    straightCurves: true,
    lineShorthands: true,
    curveSmoothShorthands: true,
    floatPrecision: 1,
    transformPrecision: 5,
    removeUseless: true,
    collapseRepeated: true,
    utilizeAbsolute: true,
    leadingZero: true,
    negativeExtraSpace: true,
    noSpaceAfterFlags: true,
    forceAbsolutePath: false
  };
  let roundData;
  let precision;
  let error;
  let arcThreshold;
  let arcTolerance;
  let hasMarkerMid;
  let hasStrokeLinecap;
  function crunchSvg2(svg2) {
    for (const node of Array.from(svg2.querySelectorAll("*"))) {
      convertShapesToPath(node);
      optimiseElement(node);
    }
  }
  function optimiseElement(item) {
    precision = params.floatPrecision;
    if (item instanceof SVGPathElement && item.hasAttribute("d")) {
      error = precision !== false ? +Math.pow(0.1, precision).toFixed(precision) : 0.01;
      roundData = precision > 0 && precision < 20 ? strongRound : round;
      if (params.makeArcs) {
        arcThreshold = params.makeArcs.threshold;
        arcTolerance = params.makeArcs.tolerance;
      }
      hasMarkerMid = item.hasAttribute("marker-mid");
      const stroke = item.getAttribute("stroke");
      const strokeLinecap = item.getAttribute("stroke");
      hasStrokeLinecap = stroke && stroke != "none" && strokeLinecap && strokeLinecap != "butt";
      var data = path2js(item);
      if (data.length) {
        convertToRelative(data);
        data = filters(data, params);
        if (params.utilizeAbsolute) {
          data = convertToMixed(data, params);
        }
        js2path(item, data, params);
      }
    }
  }
  function convertToRelative(path2) {
    var point = [0, 0], subpathPoint = [0, 0], baseItem;
    path2.forEach(function(item, index) {
      var instruction = item.instruction, data = item.data;
      if (data) {
        if ("mcslqta".indexOf(instruction) > -1) {
          point[0] += data[data.length - 2];
          point[1] += data[data.length - 1];
          if (instruction === "m") {
            subpathPoint[0] = point[0];
            subpathPoint[1] = point[1];
            baseItem = item;
          }
        } else if (instruction === "h") {
          point[0] += data[0];
        } else if (instruction === "v") {
          point[1] += data[0];
        }
        if (instruction === "M") {
          if (index > 0)
            instruction = "m";
          data[0] -= point[0];
          data[1] -= point[1];
          subpathPoint[0] = point[0] += data[0];
          subpathPoint[1] = point[1] += data[1];
          baseItem = item;
        } else if ("LT".indexOf(instruction) > -1) {
          instruction = instruction.toLowerCase();
          data[0] -= point[0];
          data[1] -= point[1];
          point[0] += data[0];
          point[1] += data[1];
        } else if (instruction === "C") {
          instruction = "c";
          data[0] -= point[0];
          data[1] -= point[1];
          data[2] -= point[0];
          data[3] -= point[1];
          data[4] -= point[0];
          data[5] -= point[1];
          point[0] += data[4];
          point[1] += data[5];
        } else if ("SQ".indexOf(instruction) > -1) {
          instruction = instruction.toLowerCase();
          data[0] -= point[0];
          data[1] -= point[1];
          data[2] -= point[0];
          data[3] -= point[1];
          point[0] += data[2];
          point[1] += data[3];
        } else if (instruction === "A") {
          instruction = "a";
          data[5] -= point[0];
          data[6] -= point[1];
          point[0] += data[5];
          point[1] += data[6];
        } else if (instruction === "H") {
          instruction = "h";
          data[0] -= point[0];
          point[0] += data[0];
        } else if (instruction === "V") {
          instruction = "v";
          data[0] -= point[1];
          point[1] += data[0];
        }
        item.instruction = instruction;
        item.data = data;
        item.coords = point.slice(-2);
      } else if (instruction == "z") {
        if (baseItem) {
          item.coords = baseItem.coords;
        }
        point[0] = subpathPoint[0];
        point[1] = subpathPoint[1];
      }
      item.base = index > 0 ? path2[index - 1].coords : [0, 0];
    });
    return path2;
  }
  function filters(path2, params2) {
    var stringify = data2Path.bind(null, params2), relSubpoint = [0, 0], pathBase = [0, 0], prev = {};
    path2 = path2.filter(function(item, index, path3) {
      var instruction = item.instruction, data = item.data, next = path3[index + 1];
      if (data) {
        var sdata = data, circle;
        if (instruction === "s") {
          sdata = [0, 0].concat(data);
          if ("cs".indexOf(prev.instruction) > -1) {
            var pdata = prev.data, n3 = pdata.length;
            sdata[0] = pdata[n3 - 2] - pdata[n3 - 4];
            sdata[1] = pdata[n3 - 1] - pdata[n3 - 3];
          }
        }
        if (params2.makeArcs && (instruction == "c" || instruction == "s") && isConvex(sdata) && (circle = findCircle(sdata))) {
          var r2 = roundData([circle.radius])[0], angle = findArcAngle(sdata, circle), sweep = sdata[5] * sdata[0] - sdata[4] * sdata[1] > 0 ? 1 : 0, arc = {
            instruction: "a",
            data: [r2, r2, 0, 0, sweep, sdata[4], sdata[5]],
            coords: item.coords.slice(),
            base: item.base
          }, output = [arc], relCenter = [
            circle.center[0] - sdata[4],
            circle.center[1] - sdata[5]
          ], relCircle = {center: relCenter, radius: circle.radius}, arcCurves = [item], hasPrev = 0, suffix = "", nextLonghand;
          if (prev.instruction == "c" && isConvex(prev.data) && isArcPrev(prev.data, circle) || prev.instruction == "a" && prev.sdata && isArcPrev(prev.sdata, circle)) {
            arcCurves.unshift(prev);
            arc.base = prev.base;
            arc.data[5] = arc.coords[0] - arc.base[0];
            arc.data[6] = arc.coords[1] - arc.base[1];
            var prevData = prev.instruction == "a" ? prev.sdata : prev.data;
            var prevAngle = findArcAngle(prevData, {
              center: [
                prevData[4] + circle.center[0],
                prevData[5] + circle.center[1]
              ],
              radius: circle.radius
            });
            angle += prevAngle;
            if (angle > Math.PI)
              arc.data[3] = 1;
            hasPrev = 1;
          }
          for (var j2 = index; (next = path3[++j2]) && ~"cs".indexOf(next.instruction); ) {
            var nextData = next.data;
            if (next.instruction == "s") {
              nextLonghand = makeLonghand({instruction: "s", data: next.data.slice()}, path3[j2 - 1].data);
              nextData = nextLonghand.data;
              nextLonghand.data = nextData.slice(0, 2);
              suffix = stringify([nextLonghand]);
            }
            if (isConvex(nextData) && isArc(nextData, relCircle)) {
              angle += findArcAngle(nextData, relCircle);
              if (angle - 2 * Math.PI > 1e-3)
                break;
              if (angle > Math.PI)
                arc.data[3] = 1;
              arcCurves.push(next);
              if (2 * Math.PI - angle > 1e-3) {
                arc.coords = next.coords;
                arc.data[5] = arc.coords[0] - arc.base[0];
                arc.data[6] = arc.coords[1] - arc.base[1];
              } else {
                arc.data[5] = 2 * (relCircle.center[0] - nextData[4]);
                arc.data[6] = 2 * (relCircle.center[1] - nextData[5]);
                arc.coords = [
                  arc.base[0] + arc.data[5],
                  arc.base[1] + arc.data[6]
                ];
                arc = {
                  instruction: "a",
                  data: [
                    r2,
                    r2,
                    0,
                    0,
                    sweep,
                    next.coords[0] - arc.coords[0],
                    next.coords[1] - arc.coords[1]
                  ],
                  coords: next.coords,
                  base: arc.coords
                };
                output.push(arc);
                j2++;
                break;
              }
              relCenter[0] -= nextData[4];
              relCenter[1] -= nextData[5];
            } else
              break;
          }
          if ((stringify(output) + suffix).length < stringify(arcCurves).length) {
            if (path3[j2] && path3[j2].instruction == "s") {
              makeLonghand(path3[j2], path3[j2 - 1].data);
            }
            if (hasPrev) {
              var prevArc = output.shift();
              roundData(prevArc.data);
              relSubpoint[0] += prevArc.data[5] - prev.data[prev.data.length - 2];
              relSubpoint[1] += prevArc.data[6] - prev.data[prev.data.length - 1];
              prev.instruction = "a";
              prev.data = prevArc.data;
              item.base = prev.coords = prevArc.coords;
            }
            arc = output.shift();
            if (arcCurves.length == 1) {
              item.sdata = sdata.slice();
            } else if (arcCurves.length - 1 - hasPrev > 0) {
              path3.splice.apply(path3, [index + 1, arcCurves.length - 1 - hasPrev].concat(output));
            }
            if (!arc)
              return false;
            instruction = "a";
            data = arc.data;
            item.coords = arc.coords;
          }
        }
        if (precision !== false) {
          if ("mltqsc".indexOf(instruction) > -1) {
            for (var i3 = data.length; i3--; ) {
              data[i3] += item.base[i3 % 2] - relSubpoint[i3 % 2];
            }
          } else if (instruction == "h") {
            data[0] += item.base[0] - relSubpoint[0];
          } else if (instruction == "v") {
            data[0] += item.base[1] - relSubpoint[1];
          } else if (instruction == "a") {
            data[5] += item.base[0] - relSubpoint[0];
            data[6] += item.base[1] - relSubpoint[1];
          }
          roundData(data);
          if (instruction == "h")
            relSubpoint[0] += data[0];
          else if (instruction == "v")
            relSubpoint[1] += data[0];
          else {
            relSubpoint[0] += data[data.length - 2];
            relSubpoint[1] += data[data.length - 1];
          }
          roundData(relSubpoint);
          if (instruction.toLowerCase() == "m") {
            pathBase[0] = relSubpoint[0];
            pathBase[1] = relSubpoint[1];
          }
        }
        if (params2.straightCurves) {
          if (instruction === "c" && isCurveStraightLine(data) || instruction === "s" && isCurveStraightLine(sdata)) {
            if (next && next.instruction == "s")
              makeLonghand(next, data);
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "q" && isCurveStraightLine(data)) {
            if (next && next.instruction == "t")
              makeLonghand(next, data);
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "t" && prev.instruction !== "q" && prev.instruction !== "t") {
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "a" && (data[0] === 0 || data[1] === 0)) {
            instruction = "l";
            data = data.slice(-2);
          }
        }
        if (params2.lineShorthands && instruction === "l") {
          if (data[1] === 0) {
            instruction = "h";
            data.pop();
          } else if (data[0] === 0) {
            instruction = "v";
            data.shift();
          }
        }
        if (params2.collapseRepeated && !hasMarkerMid && "mhv".indexOf(instruction) > -1 && prev.instruction && instruction == prev.instruction.toLowerCase() && (instruction != "h" && instruction != "v" || prev.data[0] >= 0 == data[0] >= 0)) {
          prev.data[0] += data[0];
          if (instruction != "h" && instruction != "v") {
            prev.data[1] += data[1];
          }
          prev.coords = item.coords;
          path3[index] = prev;
          return false;
        }
        if (params2.curveSmoothShorthands && prev.instruction) {
          if (instruction === "c") {
            if (prev.instruction === "c" && data[0] === -(prev.data[2] - prev.data[4]) && data[1] === -(prev.data[3] - prev.data[5])) {
              instruction = "s";
              data = data.slice(2);
            } else if (prev.instruction === "s" && data[0] === -(prev.data[0] - prev.data[2]) && data[1] === -(prev.data[1] - prev.data[3])) {
              instruction = "s";
              data = data.slice(2);
            } else if ("cs".indexOf(prev.instruction) === -1 && data[0] === 0 && data[1] === 0) {
              instruction = "s";
              data = data.slice(2);
            }
          } else if (instruction === "q") {
            if (prev.instruction === "q" && data[0] === prev.data[2] - prev.data[0] && data[1] === prev.data[3] - prev.data[1]) {
              instruction = "t";
              data = data.slice(2);
            } else if (prev.instruction === "t" && data[2] === prev.data[0] && data[3] === prev.data[1]) {
              instruction = "t";
              data = data.slice(2);
            }
          }
        }
        if (params2.removeUseless && !hasStrokeLinecap) {
          if ("lhvqtcs".indexOf(instruction) > -1 && data.every(function(i4) {
            return i4 === 0;
          })) {
            path3[index] = prev;
            return false;
          }
          if (instruction === "a" && data[5] === 0 && data[6] === 0) {
            path3[index] = prev;
            return false;
          }
        }
        item.instruction = instruction;
        item.data = data;
        prev = item;
      } else {
        relSubpoint[0] = pathBase[0];
        relSubpoint[1] = pathBase[1];
        if (prev.instruction == "z")
          return false;
        prev = item;
      }
      return true;
    });
    return path2;
  }
  function convertToMixed(path2, params2) {
    var prev = path2[0];
    path2 = path2.filter(function(item, index) {
      if (index == 0)
        return true;
      if (!item.data) {
        prev = item;
        return true;
      }
      var instruction = item.instruction, data = item.data, adata = data && data.slice(0);
      if ("mltqsc".indexOf(instruction) > -1) {
        for (var i3 = adata.length; i3--; ) {
          adata[i3] += item.base[i3 % 2];
        }
      } else if (instruction == "h") {
        adata[0] += item.base[0];
      } else if (instruction == "v") {
        adata[0] += item.base[1];
      } else if (instruction == "a") {
        adata[5] += item.base[0];
        adata[6] += item.base[1];
      }
      roundData(adata);
      var absoluteDataStr = cleanupOutData(adata, params2), relativeDataStr = cleanupOutData(data, params2);
      if (params2.forceAbsolutePath || absoluteDataStr.length < relativeDataStr.length && !(params2.negativeExtraSpace && instruction == prev.instruction && prev.instruction.charCodeAt(0) > 96 && absoluteDataStr.length == relativeDataStr.length - 1 && (data[0] < 0 || /^0\./.test(data[0]) && prev.data[prev.data.length - 1] % 1))) {
        item.instruction = instruction.toUpperCase();
        item.data = adata;
      }
      prev = item;
      return true;
    });
    return path2;
  }
  function isConvex(data) {
    var center = getIntersection([
      0,
      0,
      data[2],
      data[3],
      data[0],
      data[1],
      data[4],
      data[5]
    ]);
    return center && data[2] < center[0] == center[0] < 0 && data[3] < center[1] == center[1] < 0 && data[4] < center[0] == center[0] < data[0] && data[5] < center[1] == center[1] < data[1];
  }
  function getIntersection(coords) {
    var a1 = coords[1] - coords[3], b1 = coords[2] - coords[0], c1 = coords[0] * coords[3] - coords[2] * coords[1], a22 = coords[5] - coords[7], b2 = coords[6] - coords[4], c22 = coords[4] * coords[7] - coords[5] * coords[6], denom = a1 * b2 - a22 * b1;
    if (!denom)
      return;
    var cross = [(b1 * c22 - b2 * c1) / denom, (a1 * c22 - a22 * c1) / -denom];
    if (!isNaN(cross[0]) && !isNaN(cross[1]) && isFinite(cross[0]) && isFinite(cross[1])) {
      return cross;
    }
  }
  function strongRound(data) {
    for (var i3 = data.length; i3-- > 0; ) {
      if (data[i3].toFixed(precision) != data[i3]) {
        var rounded = +data[i3].toFixed(precision - 1);
        data[i3] = +Math.abs(rounded - data[i3]).toFixed(precision + 1) >= error ? +data[i3].toFixed(precision) : rounded;
      }
    }
    return data;
  }
  function round(data) {
    for (var i3 = data.length; i3-- > 0; ) {
      data[i3] = Math.round(data[i3]);
    }
    return data;
  }
  function isCurveStraightLine(data) {
    var i3 = data.length - 2, a3 = -data[i3 + 1], b2 = data[i3], d2 = 1 / (a3 * a3 + b2 * b2);
    if (i3 <= 1 || !isFinite(d2))
      return false;
    while ((i3 -= 2) >= 0) {
      if (Math.sqrt(Math.pow(a3 * data[i3] + b2 * data[i3 + 1], 2) * d2) > error)
        return false;
    }
    return true;
  }
  function makeLonghand(item, data) {
    switch (item.instruction) {
      case "s":
        item.instruction = "c";
        break;
      case "t":
        item.instruction = "q";
        break;
    }
    item.data.unshift(data[data.length - 2] - data[data.length - 4], data[data.length - 1] - data[data.length - 3]);
    return item;
  }
  function getDistance(point1, point2) {
    return Math.hypot(point1[0] - point2[0], point1[1] - point2[1]);
  }
  function getCubicBezierPoint(curve, t2) {
    var sqrT = t2 * t2, cubT = sqrT * t2, mt = 1 - t2, sqrMt = mt * mt;
    return [
      3 * sqrMt * t2 * curve[0] + 3 * mt * sqrT * curve[2] + cubT * curve[4],
      3 * sqrMt * t2 * curve[1] + 3 * mt * sqrT * curve[3] + cubT * curve[5]
    ];
  }
  function findCircle(curve) {
    var midPoint = getCubicBezierPoint(curve, 1 / 2), m1 = [midPoint[0] / 2, midPoint[1] / 2], m2 = [(midPoint[0] + curve[4]) / 2, (midPoint[1] + curve[5]) / 2], center = getIntersection([
      m1[0],
      m1[1],
      m1[0] + m1[1],
      m1[1] - m1[0],
      m2[0],
      m2[1],
      m2[0] + (m2[1] - midPoint[1]),
      m2[1] - (m2[0] - midPoint[0])
    ]), radius = center && getDistance([0, 0], center), tolerance = Math.min(arcThreshold * error, arcTolerance * radius / 100);
    if (center && radius < 1e15 && [1 / 4, 3 / 4].every(function(point) {
      return Math.abs(getDistance(getCubicBezierPoint(curve, point), center) - radius) <= tolerance;
    }))
      return {center, radius};
  }
  function isArc(curve, circle) {
    var tolerance = Math.min(arcThreshold * error, arcTolerance * circle.radius / 100);
    return [0, 1 / 4, 1 / 2, 3 / 4, 1].every(function(point) {
      return Math.abs(getDistance(getCubicBezierPoint(curve, point), circle.center) - circle.radius) <= tolerance;
    });
  }
  function isArcPrev(curve, circle) {
    return isArc(curve, {
      center: [circle.center[0] + curve[4], circle.center[1] + curve[5]],
      radius: circle.radius
    });
  }
  function findArcAngle(curve, relCircle) {
    var x1 = -relCircle.center[0], y1 = -relCircle.center[1], x2 = curve[4] - relCircle.center[0], y2 = curve[5] - relCircle.center[1];
    return Math.acos((x1 * x2 + y1 * y2) / Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2)));
  }
  function data2Path(params2, pathData) {
    return pathData.reduce(function(pathString, item) {
      var strData = "";
      if (item.data) {
        strData = cleanupOutData(roundData(item.data.slice()), params2);
      }
      return pathString + item.instruction + strData;
    }, "");
  }

  // src/components/App.tsx
  class App extends m {
    constructor() {
      super(...arguments);
      this.state = {
        error: void 0,
        ready: false,
        frames: {},
        stage: STAGES.CHOOSE_FRAMES,
        previewIndex: 0,
        isResizing: false,
        mouseStartX: 0,
        mouseStartY: 0,
        windowWidth: INITIAL_UI_SIZE.width,
        windowHeight: INITIAL_UI_SIZE.height,
        responsive: true,
        headline: void 0,
        subhead: void 0,
        source: void 0,
        loading: false
      };
      this.updateInitialState = (data) => {
        const {frames, windowHeight, windowWidth, headline, subhead, source} = data;
        if (!Array.isArray(frames) || (frames == null ? void 0 : frames.length) < 1) {
          this.setState({error: "No frames!"});
          console.error("Post error: no frames", data);
          return;
        }
        const frameData = {};
        for (const frame of frames) {
          const {id} = frame;
          const rndId = Math.random().toString(32).substr(2);
          frameData[id] = __assign(__assign({}, frame), {uid: `f2h-${rndId}`, svgOptimised: false});
        }
        this.setState({
          frames: frameData,
          ready: true,
          windowWidth,
          windowHeight,
          headline,
          subhead,
          source
        });
      };
      this.compressImage = async (msg) => {
        try {
          const {image, width, height, uid} = msg;
          const imgData = await compressImage2(image, width, height);
          sendMessage(MSG_EVENTS.COMPRESSED_IMAGE, {image: imgData, uid});
        } catch (err) {
          console.error(err);
          this.setState({error: "Failed to compress image"});
        }
      };
      this.handleRenderMessage = (data) => {
        const {frameId, svg: svg2} = data;
        if (!frameId || !svg2) {
          this.setState({error: "Failed to render", loading: false});
          console.error("Post message: failed to render", data);
          return;
        }
        const {frames} = this.state;
        const svgStr = decodeSvgToString(svg2);
        const cloneFrames = JSON.parse(JSON.stringify(frames));
        cloneFrames[frameId].svg = svgStr;
        this.setState({frames: cloneFrames, loading: false});
      };
      this.handleEvents = (data) => {
        console.log("UI post", data);
        switch (data.type) {
          case MSG_EVENTS.FOUND_FRAMES:
            this.updateInitialState(data);
            break;
          case MSG_EVENTS.NO_FRAMES:
            this.setState({error: UI_TEXT.ERROR_MISSING_FRAMES});
            break;
          case MSG_EVENTS.ERROR:
            console.error("UI post message error", data);
            this.setState({
              error: `${UI_TEXT.ERROR_UNEXPECTED}: ${data.errorText}`
            });
            break;
          case MSG_EVENTS.RENDER:
            this.handleRenderMessage(data);
            break;
          case MSG_EVENTS.COMPRESS_IMAGE:
            this.compressImage(data);
            break;
          default:
            this.setState({error: "Unknown post message"});
            console.error("UI post message error", data);
            break;
        }
      };
      this.goNext = () => {
        const {stage, previewIndex, frames} = this.state;
        const {length} = Object.values(frames).filter((f3) => f3.selected);
        if (length === 0) {
          return;
        }
        const nextIndex = previewIndex + 1;
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return this.setState({stage: STAGES.PREVIEW_OUTPUT});
          case STAGES.PREVIEW_OUTPUT:
            if (length === nextIndex) {
              return this.setState({stage: STAGES.RESPONSIVE_PREVIEW});
            } else {
              return this.setState({previewIndex: nextIndex});
            }
          case STAGES.RESPONSIVE_PREVIEW:
            return this.setState({stage: STAGES.SAVE_OUTPUT});
          case STAGES.SAVE_OUTPUT:
            return;
        }
      };
      this.goBack = () => {
        const {stage, previewIndex} = this.state;
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return;
          case STAGES.PREVIEW_OUTPUT:
            if (previewIndex === 0) {
              this.setState({stage: STAGES.CHOOSE_FRAMES});
            } else {
              this.setState({previewIndex: previewIndex - 1});
            }
            return;
          case STAGES.RESPONSIVE_PREVIEW:
            return this.setState({stage: STAGES.PREVIEW_OUTPUT});
          case STAGES.SAVE_OUTPUT:
            return this.setState({stage: STAGES.RESPONSIVE_PREVIEW});
        }
      };
      this.getOutputRender = (frameId) => {
        this.setState({loading: true});
        sendMessage(MSG_EVENTS.RENDER, {frameId});
      };
      this.toggleProp = (id, prop) => {
        const {frames} = this.state;
        const cloneFrames = JSON.parse(JSON.stringify(frames));
        cloneFrames[id][prop] = !cloneFrames[id][prop];
        this.setState({frames: cloneFrames});
      };
      this.toggleFrameSelect = (id) => this.toggleProp(id, "selected");
      this.toggleResonsive = (id) => this.toggleProp(id, "responsive");
      this.toggleOptimised = (id) => {
        const {frames} = this.state;
        const {svgCompressed, svg: svg2, svgOptimised} = frames[id];
        if (svg2 && !svgOptimised && !svgCompressed) {
          const el = document.createElement("div");
          el.innerHTML = svg2;
          const svgEl = el.querySelector("svg");
          if (!svgEl) {
            console.error("Missing SVG in SVG string");
            return;
          }
          crunchSvg2(svgEl);
          const cloneFrames = JSON.parse(JSON.stringify(frames));
          cloneFrames[id].svgCompressed = svgEl.outerHTML;
          cloneFrames[id].svgOptimised = true;
          this.setState({frames: cloneFrames});
        } else {
          this.toggleProp(id, "svgOptimised");
        }
      };
      this.toggleAllProp = (propName) => {
        const {frames} = this.state;
        const shouldDeselectAll = Object.values(frames).some((frame) => frame[propName]);
        const newFrames = JSON.parse(JSON.stringify(frames));
        Object.values(newFrames).forEach((frame) => frame[propName] = !shouldDeselectAll);
        this.setState({frames: newFrames});
      };
      this.toggleSelectAll = () => this.toggleAllProp("selected");
      this.toggleResponsiveAll = () => this.toggleAllProp("responsive");
      this.handleFormUpdate = (props) => {
        this.setState(__assign({}, props));
        sendMessage(MSG_EVENTS.UPDATE_HEADLINES, props);
      };
      this.switchView = () => {
        const {frames, stage, previewIndex, windowHeight, windowWidth, headline, subhead, source, loading} = this.state;
        const framesArr = Object.values(frames).sort((a3, b2) => a3.width <= b2.width ? -1 : 1);
        const selectedFrames = framesArr.filter((frame) => frame.selected);
        if (stage === STAGES.PREVIEW_OUTPUT && !selectedFrames[previewIndex].svg && loading === false) {
          this.getOutputRender(selectedFrames[previewIndex].id);
        }
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return h(FrameSelection2, {
              frames: framesArr,
              handleClick: this.toggleFrameSelect,
              toggleResonsive: this.toggleResonsive,
              toggleSelectAll: this.toggleSelectAll,
              toggleResponsiveAll: this.toggleResponsiveAll,
              headline,
              subhead,
              source,
              handleFormUpdate: this.handleFormUpdate
            });
          case STAGES.PREVIEW_OUTPUT:
            return h(Preview2, {
              frame: selectedFrames[previewIndex],
              windowHeight,
              windowWidth
            });
          case STAGES.RESPONSIVE_PREVIEW:
            return h(ResponsiveView2, {
              windowHeight,
              windowWidth,
              frames: selectedFrames,
              headline,
              subhead,
              source
            });
          case STAGES.SAVE_OUTPUT:
            return h(Save2, {
              frames: selectedFrames,
              headline,
              subhead,
              source
            });
          default:
            return h("div", null, "Loading...");
        }
      };
    }
    componentDidMount() {
      window.addEventListener("message", (e2) => this.handleEvents(e2.data.pluginMessage));
      sendMessage(MSG_EVENTS.DOM_READY);
    }
    render() {
      const {error: error2, frames, stage, previewIndex, loading} = this.state;
      const selectedFrame = Object.values(frames)[previewIndex];
      console.log(this.state);
      return h("div", {
        className: "f2h"
      }, h(Header2, {
        stage,
        handleBackClick: this.goBack,
        handleNextClick: this.goNext,
        disableNext: loading || stage === STAGES.SAVE_OUTPUT,
        frame: selectedFrame,
        handleOptimseClick: this.toggleOptimised
      }), h("div", {
        className: "f2h__body"
      }, error2 ? h("div", {
        className: "error"
      }, error2) : this.switchView()));
    }
  }

  // src/ui.tsx
  const ui = __toModule(require_ui());
  const fonts2 = __toModule(require_fonts());
  const embed2 = __toModule(require_embed());
  injectCss(ui.default);
  injectCss(embed2.default);
  injectCss(fonts2.default);
  H(h(App, null), document.body);
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2VtYmVkLmNzcyIsICJzcmMvZm9udHMuY3NzIiwgIm5vZGVfbW9kdWxlcy9maWxlLXNhdmVyL2Rpc3QvRmlsZVNhdmVyLm1pbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJlc3NvcmpzL2Rpc3QvY29tcHJlc3Nvci5qcyIsICJzcmMvdWkuY3NzIiwgIm5vZGVfbW9kdWxlcy9wcmVhY3QvZGlzdC9wcmVhY3QubW9kdWxlLmpzIiwgInNyYy91dGlscy9jc3MudHMiLCAic3JjL2NvbnN0YW50cy50cyIsICJzcmMvY29tcG9uZW50cy9IZWFkZXIudHN4IiwgIm5vZGVfbW9kdWxlcy9wcmVhY3QtcmVuZGVyLXRvLXN0cmluZy9kaXN0L2luZGV4Lm1vZHVsZS5qcyIsICJzcmMvb3V0cHV0UmVuZGVyLnRzeCIsICJzcmMvY29tcG9uZW50cy9SZXNwb25zaXZlVmlldy50c3giLCAic3JjL2NvbXBvbmVudHMvRnJhbWVTZWxlY3Rpb24udHN4IiwgInNyYy9jb21wb25lbnRzL1ByZXZpZXcudHN4IiwgInNyYy9jb21wb25lbnRzL1NhdmUudHN4IiwgInNyYy91dGlscy9zdmcudHMiLCAic3JjL3V0aWxzL2NvbXByZXNzSW1hZ2UudHMiLCAic3JjL3V0aWxzL21lc3NhZ2VzLnRzIiwgInNyYy91dGlscy9saWIvdG9vbHMudHMiLCAic3JjL3V0aWxzL2xpYi9wYXRoLnRzIiwgInNyYy91dGlscy9saWIvc2hhcGVUb1BhdGgudHMiLCAic3JjL3V0aWxzL2NydW5jaFN2Zy50cyIsICJzcmMvY29tcG9uZW50cy9BcHAudHN4IiwgInNyYy91aS50c3giXSwKICAic291cmNlc0NvbnRlbnQiOiBbImh0bWwsXG5ib2R5IHtcbiAgbWFyZ2luOiAwO1xufVxuXG4uZjJoX190ZXh0IHtcbiAgbWFyZ2luOiAwO1xuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gIC8qIHdoaXRlLXNwYWNlOiBwcmU7ICovXG5cbiAgLyogREVCVUcgKi9cbiAgLyogY29sb3I6IHJnYmEoMjU1LCAwLCAwLCAwLjM0KSAhaW1wb3J0YW50OyAqL1xufVxuXG4uZjJoX19yZW5kZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi5mMmhfX3JlbmRlciBzdmcge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiAwO1xufVxuXG4uZjJoX19yZW5kZXIgc3ZnIHRleHQge1xuICAvKiBERUJVRyAqL1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4uZjJoX19yZW5kZXItLXJlc3BvbnNpdmUge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmYyaF9fcmVuZGVyLS1yZXNwb25zaXZlIHN2ZyB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IGF1dG87XG59XG5cbi5mMmhfaGVhZGxpbmUge1xuICBmb250LWZhbWlseTogXCJBdXN0aW4gTmV3cyBEZWNrIFNlbWlib2xkXCIsIEdlb3JnaWEsIFwiVGltZXMgTmV3IFJvbWFuXCIsIFRpbWVzLCBzZXJpZjtcbiAgZm9udC1zaXplOiAyMnB4O1xuICBjb2xvcjogIzMzMztcbiAgbWFyZ2luOiAwO1xuICBsaW5lLWhlaWdodDogMS4zO1xufVxuLmYyaF9zdWJiaGVhZCB7XG4gIGZvbnQtZmFtaWx5OiBcIkF1c3RpbiBOZXdzIFRleHQgUm9tYW5cIiwgR2VvcmdpYSwgXCJUaW1lcyBOZXcgUm9tYW5cIiwgVGltZXMsIHNlcmlmO1xuICBmb250LXNpemU6IDE3cHg7XG4gIGNvbG9yOiAjMzMzO1xuICBtYXJnaW46IDA7XG4gIGxpbmUtaGVpZ2h0OiAxLjU7XG59XG4uZjJoX2hlYWRlciB7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG59XG5cbi5mMmhfc291cmNlIHtcbiAgZm9udC1mYW1pbHk6IFwiVGVsZXNhbnMgVGV4dCBSZWd1bGFyXCIsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgY29sb3I6ICM5OTk7XG4gIG1hcmdpbjogMTJweCAwIDA7XG59XG4iLCAiQGZvbnQtZmFjZSB7XG4gIGZvbnQtZmFtaWx5OiBcIkF1c3RpbiBOZXdzIERlY2sgU2VtaWJvbGRcIjtcbiAgc3JjOiB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9BdXN0aW4gTmV3cyBEZWNrIFdlYi1TZW1pYm9sZC53b2ZmMlwiKSBmb3JtYXQoXCJ3b2ZmMlwiKSxcbiAgICB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9BdXN0aW4gTmV3cyBEZWNrIFdlYi1TZW1pYm9sZC53b2ZmXCIpIGZvcm1hdChcIndvZmZcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItU2VtaWJvbGQudHRmXCIpIGZvcm1hdChcInRydWV0eXBlXCIpO1xuICBmb250LXdlaWdodDogNzAwO1xuICBmb250LWRpc3BsYXk6IFwic3dhcFwiO1xufVxuQGZvbnQtZmFjZSB7XG4gIGZvbnQtZmFtaWx5OiBcIkF1c3RpbiBOZXdzIERlY2sgTWVkaXVtXCI7XG4gIHNyYzogdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItTWVkaXVtLndvZmYyXCIpIGZvcm1hdChcIndvZmYyXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIERlY2sgV2ViLU1lZGl1bS53b2ZmXCIpIGZvcm1hdChcIndvZmZcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItTWVkaXVtLnR0ZlwiKSBmb3JtYXQoXCJ0cnVldHlwZVwiKTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgZm9udC1kaXNwbGF5OiBcInN3YXBcIjtcbn1cbkBmb250LWZhY2Uge1xuICBmb250LWZhbWlseTogXCJBdXN0aW4gTmV3cyBEZWNrIFJvbWFuXCI7XG4gIHNyYzogdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItUm9tYW4ud29mZjJcIikgZm9ybWF0KFwid29mZjJcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItUm9tYW4ud29mZlwiKSBmb3JtYXQoXCJ3b2ZmXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIERlY2sgV2ViLVJvbWFuLnR0ZlwiKSBmb3JtYXQoXCJ0cnVldHlwZVwiKTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgZm9udC1kaXNwbGF5OiBcInN3YXBcIjtcbn1cblxuQGZvbnQtZmFjZSB7XG4gIGZvbnQtZmFtaWx5OiBcIkF1c3RpbiBOZXdzIFRleHQgUm9tYW5cIjtcbiAgc3JjOiB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9BdXN0aW4gTmV3cyBUZXh0IFdlYi1Sb21hbi53b2ZmMlwiKSBmb3JtYXQoXCJ3b2ZmMlwiKSxcbiAgICB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9BdXN0aW4gTmV3cyBUZXh0IFdlYi1Sb21hbi53b2ZmXCIpIGZvcm1hdChcIndvZmZcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgVGV4dCBXZWItUm9tYW4udHRmXCIpIGZvcm1hdChcInRydWV0eXBlXCIpO1xuICBmb250LXdlaWdodDogNzAwO1xuICBmb250LWRpc3BsYXk6IFwic3dhcFwiO1xufVxuQGZvbnQtZmFjZSB7XG4gIGZvbnQtZmFtaWx5OiBcIlRlbGVzYW5zIFRleHQgUmVndWxhclwiO1xuICBzcmM6IHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL1RlbGVzYW5zIFRleHQgV2ViLVJlZ3VsYXIud29mZjJcIikgZm9ybWF0KFwid29mZjJcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvVGVsZXNhbnMgVGV4dCBXZWItUmVndWxhci53b2ZmXCIpIGZvcm1hdChcIndvZmZcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvVGVsZXNhbnMgVGV4dCBXZWItUmVndWxhci50dGZcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIik7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGZvbnQtZGlzcGxheTogXCJzd2FwXCI7XG59XG5AZm9udC1mYWNlIHtcbiAgZm9udC1mYW1pbHk6IFwiVGVsZXNhbnMgQWdhdGUgUmVndWxhclwiO1xuICBmb250LXN0eWxlOiBcIm5vcm1hbFwiO1xuICBmb250LXdlaWdodDogNTAwO1xuICBzcmM6IHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL1RlbGVzYW5zQWdhdGUtTWVkaXVtLndvZmZcIikgZm9ybWF0KFwid29mZlwiKSxcbiAgICB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9UZWxlc2Fuc0FnYXRlLU1lZGl1bS50dGZcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIik7XG59XG4iLCAiKGZ1bmN0aW9uKGEsYil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxiKTtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzKWIoKTtlbHNle2IoKSxhLkZpbGVTYXZlcj17ZXhwb3J0czp7fX0uZXhwb3J0c319KSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhLGIpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBiP2I9e2F1dG9Cb206ITF9Olwib2JqZWN0XCIhPXR5cGVvZiBiJiYoY29uc29sZS53YXJuKFwiRGVwcmVjYXRlZDogRXhwZWN0ZWQgdGhpcmQgYXJndW1lbnQgdG8gYmUgYSBvYmplY3RcIiksYj17YXV0b0JvbTohYn0pLGIuYXV0b0JvbSYmL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYS50eXBlKT9uZXcgQmxvYihbXCJcXHVGRUZGXCIsYV0se3R5cGU6YS50eXBlfSk6YX1mdW5jdGlvbiBjKGIsYyxkKXt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZS5vcGVuKFwiR0VUXCIsYiksZS5yZXNwb25zZVR5cGU9XCJibG9iXCIsZS5vbmxvYWQ9ZnVuY3Rpb24oKXthKGUucmVzcG9uc2UsYyxkKX0sZS5vbmVycm9yPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcImNvdWxkIG5vdCBkb3dubG9hZCBmaWxlXCIpfSxlLnNlbmQoKX1mdW5jdGlvbiBkKGEpe3ZhciBiPW5ldyBYTUxIdHRwUmVxdWVzdDtiLm9wZW4oXCJIRUFEXCIsYSwhMSk7dHJ5e2Iuc2VuZCgpfWNhdGNoKGEpe31yZXR1cm4gMjAwPD1iLnN0YXR1cyYmMjk5Pj1iLnN0YXR1c31mdW5jdGlvbiBlKGEpe3RyeXthLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKSl9Y2F0Y2goYyl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtiLmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwhMCwhMCx3aW5kb3csMCwwLDAsODAsMjAsITEsITEsITEsITEsMCxudWxsKSxhLmRpc3BhdGNoRXZlbnQoYil9fXZhciBmPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy53aW5kb3c9PT13aW5kb3c/d2luZG93Olwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmLnNlbGY9PT1zZWxmP3NlbGY6XCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbCYmZ2xvYmFsLmdsb2JhbD09PWdsb2JhbD9nbG9iYWw6dm9pZCAwLGE9Zi5zYXZlQXN8fChcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93fHx3aW5kb3chPT1mP2Z1bmN0aW9uKCl7fTpcImRvd25sb2FkXCJpbiBIVE1MQW5jaG9yRWxlbWVudC5wcm90b3R5cGU/ZnVuY3Rpb24oYixnLGgpe3ZhciBpPWYuVVJMfHxmLndlYmtpdFVSTCxqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2c9Z3x8Yi5uYW1lfHxcImRvd25sb2FkXCIsai5kb3dubG9hZD1nLGoucmVsPVwibm9vcGVuZXJcIixcInN0cmluZ1wiPT10eXBlb2YgYj8oai5ocmVmPWIsai5vcmlnaW49PT1sb2NhdGlvbi5vcmlnaW4/ZShqKTpkKGouaHJlZik/YyhiLGcsaCk6ZShqLGoudGFyZ2V0PVwiX2JsYW5rXCIpKTooai5ocmVmPWkuY3JlYXRlT2JqZWN0VVJMKGIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnJldm9rZU9iamVjdFVSTChqLmhyZWYpfSw0RTQpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGopfSwwKSl9OlwibXNTYXZlT3JPcGVuQmxvYlwiaW4gbmF2aWdhdG9yP2Z1bmN0aW9uKGYsZyxoKXtpZihnPWd8fGYubmFtZXx8XCJkb3dubG9hZFwiLFwic3RyaW5nXCIhPXR5cGVvZiBmKW5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGIoZixoKSxnKTtlbHNlIGlmKGQoZikpYyhmLGcsaCk7ZWxzZXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtpLmhyZWY9ZixpLnRhcmdldD1cIl9ibGFua1wiLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGkpfSl9fTpmdW5jdGlvbihhLGIsZCxlKXtpZihlPWV8fG9wZW4oXCJcIixcIl9ibGFua1wiKSxlJiYoZS5kb2N1bWVudC50aXRsZT1lLmRvY3VtZW50LmJvZHkuaW5uZXJUZXh0PVwiZG93bmxvYWRpbmcuLi5cIiksXCJzdHJpbmdcIj09dHlwZW9mIGEpcmV0dXJuIGMoYSxiLGQpO3ZhciBnPVwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI9PT1hLnR5cGUsaD0vY29uc3RydWN0b3IvaS50ZXN0KGYuSFRNTEVsZW1lbnQpfHxmLnNhZmFyaSxpPS9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtpZigoaXx8ZyYmaCkmJlwib2JqZWN0XCI9PXR5cGVvZiBGaWxlUmVhZGVyKXt2YXIgaj1uZXcgRmlsZVJlYWRlcjtqLm9ubG9hZGVuZD1mdW5jdGlvbigpe3ZhciBhPWoucmVzdWx0O2E9aT9hOmEucmVwbGFjZSgvXmRhdGE6W147XSo7LyxcImRhdGE6YXR0YWNobWVudC9maWxlO1wiKSxlP2UubG9jYXRpb24uaHJlZj1hOmxvY2F0aW9uPWEsZT1udWxsfSxqLnJlYWRBc0RhdGFVUkwoYSl9ZWxzZXt2YXIgaz1mLlVSTHx8Zi53ZWJraXRVUkwsbD1rLmNyZWF0ZU9iamVjdFVSTChhKTtlP2UubG9jYXRpb249bDpsb2NhdGlvbi5ocmVmPWwsZT1udWxsLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtrLnJldm9rZU9iamVjdFVSTChsKX0sNEU0KX19KTtmLnNhdmVBcz1hLnNhdmVBcz1hLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz1hKX0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWxlU2F2ZXIubWluLmpzLm1hcCIsICIvKiFcbiAqIENvbXByZXNzb3IuanMgdjEuMC42XG4gKiBodHRwczovL2Zlbmd5dWFuY2hlbi5naXRodWIuaW8vY29tcHJlc3NvcmpzXG4gKlxuICogQ29weXJpZ2h0IDIwMTgtcHJlc2VudCBDaGVuIEZlbmd5dWFuXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDE5LTExLTIzVDA0OjQzOjEyLjQ0MlpcbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLkNvbXByZXNzb3IgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICAgIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG4gICAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgfSk7XG4gICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGtleXM7XG4gIH1cblxuICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkMih0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG5cbiAgICAgIGlmIChpICUgMikge1xuICAgICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHtcbiAgXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG4gIH1cblxuICB2YXIgY2FudmFzVG9CbG9iID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIChmdW5jdGlvbiAod2luZG93KSB7XG5cbiAgICAgIHZhciBDYW52YXNQcm90b3R5cGUgPSB3aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQgJiYgd2luZG93LkhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZTtcblxuICAgICAgdmFyIGhhc0Jsb2JDb25zdHJ1Y3RvciA9IHdpbmRvdy5CbG9iICYmIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gQm9vbGVhbihuZXcgQmxvYigpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSgpO1xuXG4gICAgICB2YXIgaGFzQXJyYXlCdWZmZXJWaWV3U3VwcG9ydCA9IGhhc0Jsb2JDb25zdHJ1Y3RvciAmJiB3aW5kb3cuVWludDhBcnJheSAmJiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFtuZXcgVWludDhBcnJheSgxMDApXSkuc2l6ZSA9PT0gMTAwO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KCk7XG5cbiAgICAgIHZhciBCbG9iQnVpbGRlciA9IHdpbmRvdy5CbG9iQnVpbGRlciB8fCB3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXIgfHwgd2luZG93Lk1vekJsb2JCdWlsZGVyIHx8IHdpbmRvdy5NU0Jsb2JCdWlsZGVyO1xuICAgICAgdmFyIGRhdGFVUklQYXR0ZXJuID0gL15kYXRhOigoLio/KSg7Y2hhcnNldD0uKj8pPykoO2Jhc2U2NCk/LC87XG5cbiAgICAgIHZhciBkYXRhVVJMdG9CbG9iID0gKGhhc0Jsb2JDb25zdHJ1Y3RvciB8fCBCbG9iQnVpbGRlcikgJiYgd2luZG93LmF0b2IgJiYgd2luZG93LkFycmF5QnVmZmVyICYmIHdpbmRvdy5VaW50OEFycmF5ICYmIGZ1bmN0aW9uIChkYXRhVVJJKSB7XG4gICAgICAgIHZhciBtYXRjaGVzLCBtZWRpYVR5cGUsIGlzQmFzZTY0LCBkYXRhU3RyaW5nLCBieXRlU3RyaW5nLCBhcnJheUJ1ZmZlciwgaW50QXJyYXksIGksIGJiOyAvLyBQYXJzZSB0aGUgZGF0YVVSSSBjb21wb25lbnRzIGFzIHBlciBSRkMgMjM5N1xuXG4gICAgICAgIG1hdGNoZXMgPSBkYXRhVVJJLm1hdGNoKGRhdGFVUklQYXR0ZXJuKTtcblxuICAgICAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZGF0YSBVUkknKTtcbiAgICAgICAgfSAvLyBEZWZhdWx0IHRvIHRleHQvcGxhaW47Y2hhcnNldD1VUy1BU0NJSVxuXG5cbiAgICAgICAgbWVkaWFUeXBlID0gbWF0Y2hlc1syXSA/IG1hdGNoZXNbMV0gOiAndGV4dC9wbGFpbicgKyAobWF0Y2hlc1szXSB8fCAnO2NoYXJzZXQ9VVMtQVNDSUknKTtcbiAgICAgICAgaXNCYXNlNjQgPSAhIW1hdGNoZXNbNF07XG4gICAgICAgIGRhdGFTdHJpbmcgPSBkYXRhVVJJLnNsaWNlKG1hdGNoZXNbMF0ubGVuZ3RoKTtcblxuICAgICAgICBpZiAoaXNCYXNlNjQpIHtcbiAgICAgICAgICAvLyBDb252ZXJ0IGJhc2U2NCB0byByYXcgYmluYXJ5IGRhdGEgaGVsZCBpbiBhIHN0cmluZzpcbiAgICAgICAgICBieXRlU3RyaW5nID0gYXRvYihkYXRhU3RyaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBDb252ZXJ0IGJhc2U2NC9VUkxFbmNvZGVkIGRhdGEgY29tcG9uZW50IHRvIHJhdyBiaW5hcnk6XG4gICAgICAgICAgYnl0ZVN0cmluZyA9IGRlY29kZVVSSUNvbXBvbmVudChkYXRhU3RyaW5nKTtcbiAgICAgICAgfSAvLyBXcml0ZSB0aGUgYnl0ZXMgb2YgdGhlIHN0cmluZyB0byBhbiBBcnJheUJ1ZmZlcjpcblxuXG4gICAgICAgIGFycmF5QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ5dGVTdHJpbmcubGVuZ3RoKTtcbiAgICAgICAgaW50QXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJ5dGVTdHJpbmcubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBpbnRBcnJheVtpXSA9IGJ5dGVTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfSAvLyBXcml0ZSB0aGUgQXJyYXlCdWZmZXIgKG9yIEFycmF5QnVmZmVyVmlldykgdG8gYSBibG9iOlxuXG5cbiAgICAgICAgaWYgKGhhc0Jsb2JDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgIHJldHVybiBuZXcgQmxvYihbaGFzQXJyYXlCdWZmZXJWaWV3U3VwcG9ydCA/IGludEFycmF5IDogYXJyYXlCdWZmZXJdLCB7XG4gICAgICAgICAgICB0eXBlOiBtZWRpYVR5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJiID0gbmV3IEJsb2JCdWlsZGVyKCk7XG4gICAgICAgIGJiLmFwcGVuZChhcnJheUJ1ZmZlcik7XG4gICAgICAgIHJldHVybiBiYi5nZXRCbG9iKG1lZGlhVHlwZSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAod2luZG93LkhUTUxDYW52YXNFbGVtZW50ICYmICFDYW52YXNQcm90b3R5cGUudG9CbG9iKSB7XG4gICAgICAgIGlmIChDYW52YXNQcm90b3R5cGUubW96R2V0QXNGaWxlKSB7XG4gICAgICAgICAgQ2FudmFzUHJvdG90eXBlLnRvQmxvYiA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdHlwZSwgcXVhbGl0eSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmIChxdWFsaXR5ICYmIENhbnZhc1Byb3RvdHlwZS50b0RhdGFVUkwgJiYgZGF0YVVSTHRvQmxvYikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGFVUkx0b0Jsb2Ioc2VsZi50b0RhdGFVUkwodHlwZSwgcXVhbGl0eSkpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhzZWxmLm1vekdldEFzRmlsZSgnYmxvYicsIHR5cGUpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChDYW52YXNQcm90b3R5cGUudG9EYXRhVVJMICYmIGRhdGFVUkx0b0Jsb2IpIHtcbiAgICAgICAgICBDYW52YXNQcm90b3R5cGUudG9CbG9iID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0eXBlLCBxdWFsaXR5KSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YVVSTHRvQmxvYihzZWxmLnRvRGF0YVVSTCh0eXBlLCBxdWFsaXR5KSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZGF0YVVSTHRvQmxvYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5kYXRhVVJMdG9CbG9iID0gZGF0YVVSTHRvQmxvYjtcbiAgICAgIH1cbiAgICB9KSh3aW5kb3cpO1xuICB9KTtcblxuICB2YXIgaXNCbG9iID0gZnVuY3Rpb24gaXNCbG9iKGlucHV0KSB7XG4gICAgaWYgKHR5cGVvZiBCbG9iID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIEJsb2IgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xuICB9O1xuXG4gIHZhciBERUZBVUxUUyA9IHtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgb3V0cHV0IHRoZSBvcmlnaW5hbCBpbWFnZSBpbnN0ZWFkIG9mIHRoZSBjb21wcmVzc2VkIG9uZVxuICAgICAqIHdoZW4gdGhlIHNpemUgb2YgdGhlIGNvbXByZXNzZWQgaW1hZ2UgaXMgZ3JlYXRlciB0aGFuIHRoZSBvcmlnaW5hbCBvbmUnc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0cmljdDogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiByZWFkIHRoZSBpbWFnZSdzIEV4aWYgT3JpZW50YXRpb24gaW5mb3JtYXRpb24sXG4gICAgICogYW5kIHRoZW4gcm90YXRlIG9yIGZsaXAgdGhlIGltYWdlIGF1dG9tYXRpY2FsbHkuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgY2hlY2tPcmllbnRhdGlvbjogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIG1heFdpZHRoOiBJbmZpbml0eSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggaGVpZ2h0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBtYXhIZWlnaHQ6IEluZmluaXR5LFxuXG4gICAgLyoqXG4gICAgICogVGhlIG1pbiB3aWR0aCBvZiB0aGUgb3V0cHV0IGltYWdlLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgbWluV2lkdGg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWluIGhlaWdodCBvZiB0aGUgb3V0cHV0IGltYWdlLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgbWluSGVpZ2h0OiAwLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogSWYgbm90IHNwZWNpZmllZCwgdGhlIG5hdHVyYWwgd2lkdGggb2YgdGhlIHNvdXJjZSBpbWFnZSB3aWxsIGJlIHVzZWQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB3aWR0aDogdW5kZWZpbmVkLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgb3V0cHV0IGltYWdlLlxuICAgICAqIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBuYXR1cmFsIGhlaWdodCBvZiB0aGUgc291cmNlIGltYWdlIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGhlaWdodDogdW5kZWZpbmVkLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHF1YWxpdHkgb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBJdCBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gYDBgIGFuZCBgMWAsXG4gICAgICogYW5kIG9ubHkgYXZhaWxhYmxlIGZvciBgaW1hZ2UvanBlZ2AgYW5kIGBpbWFnZS93ZWJwYCBpbWFnZXMuXG4gICAgICogQ2hlY2sgb3V0IHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvdG9CbG9iIGNhbnZhcy50b0Jsb2J9LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgcXVhbGl0eTogMC44LFxuXG4gICAgLyoqXG4gICAgICogVGhlIG1pbWUgdHlwZSBvZiB0aGUgb3V0cHV0IGltYWdlLlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSBvcmlnaW5hbCBtaW1lIHR5cGUgb2YgdGhlIHNvdXJjZSBpbWFnZSBmaWxlIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIG1pbWVUeXBlOiAnYXV0bycsXG5cbiAgICAvKipcbiAgICAgKiBQTkcgZmlsZXMgb3ZlciB0aGlzIHZhbHVlICg1IE1CIGJ5IGRlZmF1bHQpIHdpbGwgYmUgY29udmVydGVkIHRvIEpQRUdzLlxuICAgICAqIFRvIGRpc2FibGUgdGhpcywganVzdCBzZXQgdGhlIHZhbHVlIHRvIGBJbmZpbml0eWAuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBjb252ZXJ0U2l6ZTogNTAwMDAwMCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBob29rIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgYmVmb3JlIGRyYXcgdGhlIGltYWdlIGludG8gdGhlIGNhbnZhcyBmb3IgY29tcHJlc3Npb24uXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IC0gVGhlIDJkIHJlbmRlcmluZyBjb250ZXh0IG9mIHRoZSBjYW52YXMuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gVGhlIGNhbnZhcyBmb3IgY29tcHJlc3Npb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBmdW5jdGlvbiAoY29udGV4dCwgY2FudmFzKSB7XG4gICAgICogICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZmZmJztcbiAgICAgKiB9XG4gICAgICovXG4gICAgYmVmb3JlRHJhdzogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBob29rIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgYWZ0ZXIgZHJldyB0aGUgaW1hZ2UgaW50byB0aGUgY2FudmFzIGZvciBjb21wcmVzc2lvbi5cbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgLSBUaGUgMmQgcmVuZGVyaW5nIGNvbnRleHQgb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBUaGUgY2FudmFzIGZvciBjb21wcmVzc2lvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGZ1bmN0aW9uIChjb250ZXh0LCBjYW52YXMpIHtcbiAgICAgKiAgIGNvbnRleHQuZmlsdGVyID0gJ2dyYXlzY2FsZSgxMDAlKSc7XG4gICAgICogfVxuICAgICAqL1xuICAgIGRyZXc6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgaG9vayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gc3VjY2VzcyB0byBjb21wcmVzcyB0aGUgaW1hZ2UuXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7RmlsZX0gZmlsZSAtIFRoZSBjb21wcmVzc2VkIGltYWdlIEZpbGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGZpbGUpO1xuICAgICAqIH1cbiAgICAgKi9cbiAgICBzdWNjZXNzOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGhvb2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIGZhaWwgdG8gY29tcHJlc3MgdGhlIGltYWdlLlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0Vycm9yfSBlcnIgLSBBbiBFcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICogfVxuICAgICAqL1xuICAgIGVycm9yOiBudWxsXG4gIH07XG5cbiAgdmFyIElTX0JST1dTRVIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbiAgdmFyIFdJTkRPVyA9IElTX0JST1dTRVIgPyB3aW5kb3cgOiB7fTtcblxuICB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG4gIC8qKlxuICAgKiBDb252ZXJ0IGFycmF5LWxpa2Ugb3IgaXRlcmFibGUgb2JqZWN0IHRvIGFuIGFycmF5LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICovXG5cbiAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tID8gQXJyYXkuZnJvbSh2YWx1ZSkgOiBzbGljZS5jYWxsKHZhbHVlKTtcbiAgfVxuICB2YXIgUkVHRVhQX0lNQUdFX1RZUEUgPSAvXmltYWdlXFwvLiskLztcbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIG1pbWUgdHlwZSBvZiBpbWFnZS5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiBpcyBhIG1pbWUgdHlwZSBvZiBpbWFnZSwgZWxzZSBgZmFsc2VgLlxuICAgKi9cblxuICBmdW5jdGlvbiBpc0ltYWdlVHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiBSRUdFWFBfSU1BR0VfVFlQRS50ZXN0KHZhbHVlKTtcbiAgfVxuICAvKipcbiAgICogQ29udmVydCBpbWFnZSB0eXBlIHRvIGV4dGVuc2lvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIGltYWdlIHR5cGUgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdGhlIGltYWdlIGV4dGVuc2lvbi5cbiAgICovXG5cbiAgZnVuY3Rpb24gaW1hZ2VUeXBlVG9FeHRlbnNpb24odmFsdWUpIHtcbiAgICB2YXIgZXh0ZW5zaW9uID0gaXNJbWFnZVR5cGUodmFsdWUpID8gdmFsdWUuc3Vic3RyKDYpIDogJyc7XG5cbiAgICBpZiAoZXh0ZW5zaW9uID09PSAnanBlZycpIHtcbiAgICAgIGV4dGVuc2lvbiA9ICdqcGcnO1xuICAgIH1cblxuICAgIHJldHVybiBcIi5cIi5jb25jYXQoZXh0ZW5zaW9uKTtcbiAgfVxuICB2YXIgZnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgZnJvbSBjaGFyIGNvZGUgaW4gZGF0YSB2aWV3LlxuICAgKiBAcGFyYW0ge0RhdGFWaWV3fSBkYXRhVmlldyAtIFRoZSBkYXRhIHZpZXcgZm9yIHJlYWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIFRoZSBzdGFydCBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCAtIFRoZSByZWFkIGxlbmd0aC5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHJlYWQgcmVzdWx0LlxuICAgKi9cblxuICBmdW5jdGlvbiBnZXRTdHJpbmdGcm9tQ2hhckNvZGUoZGF0YVZpZXcsIHN0YXJ0LCBsZW5ndGgpIHtcbiAgICB2YXIgc3RyID0gJyc7XG4gICAgdmFyIGk7XG4gICAgbGVuZ3RoICs9IHN0YXJ0O1xuXG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgc3RyICs9IGZyb21DaGFyQ29kZShkYXRhVmlldy5nZXRVaW50OChpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICB2YXIgYnRvYSA9IFdJTkRPVy5idG9hO1xuICAvKipcbiAgICogVHJhbnNmb3JtIGFycmF5IGJ1ZmZlciB0byBEYXRhIFVSTC5cbiAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgLSBUaGUgYXJyYXkgYnVmZmVyIHRvIHRyYW5zZm9ybS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1pbWVUeXBlIC0gVGhlIG1pbWUgdHlwZSBvZiB0aGUgRGF0YSBVUkwuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSByZXN1bHQgRGF0YSBVUkwuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFycmF5QnVmZmVyVG9EYXRhVVJMKGFycmF5QnVmZmVyLCBtaW1lVHlwZSkge1xuICAgIHZhciBjaHVua3MgPSBbXTtcbiAgICB2YXIgY2h1bmtTaXplID0gODE5MjtcbiAgICB2YXIgdWludDggPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG5cbiAgICB3aGlsZSAodWludDgubGVuZ3RoID4gMCkge1xuICAgICAgLy8gWFhYOiBCYWJlbCdzIGB0b0NvbnN1bWFibGVBcnJheWAgaGVscGVyIHdpbGwgdGhyb3cgZXJyb3IgaW4gSUUgb3IgU2FmYXJpIDlcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgICBjaHVua3MucHVzaChmcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgdG9BcnJheSh1aW50OC5zdWJhcnJheSgwLCBjaHVua1NpemUpKSkpO1xuICAgICAgdWludDggPSB1aW50OC5zdWJhcnJheShjaHVua1NpemUpO1xuICAgIH1cblxuICAgIHJldHVybiBcImRhdGE6XCIuY29uY2F0KG1pbWVUeXBlLCBcIjtiYXNlNjQsXCIpLmNvbmNhdChidG9hKGNodW5rcy5qb2luKCcnKSkpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgb3JpZW50YXRpb24gdmFsdWUgZnJvbSBnaXZlbiBhcnJheSBidWZmZXIuXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIC0gVGhlIGFycmF5IGJ1ZmZlciB0byByZWFkLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgcmVhZCBvcmllbnRhdGlvbiB2YWx1ZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gcmVzZXRBbmRHZXRPcmllbnRhdGlvbihhcnJheUJ1ZmZlcikge1xuICAgIHZhciBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gICAgdmFyIG9yaWVudGF0aW9uOyAvLyBJZ25vcmVzIHJhbmdlIGVycm9yIHdoZW4gdGhlIGltYWdlIGRvZXMgbm90IGhhdmUgY29ycmVjdCBFeGlmIGluZm9ybWF0aW9uXG5cbiAgICB0cnkge1xuICAgICAgdmFyIGxpdHRsZUVuZGlhbjtcbiAgICAgIHZhciBhcHAxU3RhcnQ7XG4gICAgICB2YXIgaWZkU3RhcnQ7IC8vIE9ubHkgaGFuZGxlIEpQRUcgaW1hZ2UgKHN0YXJ0IGJ5IDB4RkZEOClcblxuICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQ4KDApID09PSAweEZGICYmIGRhdGFWaWV3LmdldFVpbnQ4KDEpID09PSAweEQ4KSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBkYXRhVmlldy5ieXRlTGVuZ3RoO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMjtcblxuICAgICAgICB3aGlsZSAob2Zmc2V0ICsgMSA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50OChvZmZzZXQpID09PSAweEZGICYmIGRhdGFWaWV3LmdldFVpbnQ4KG9mZnNldCArIDEpID09PSAweEUxKSB7XG4gICAgICAgICAgICBhcHAxU3RhcnQgPSBvZmZzZXQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvZmZzZXQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXBwMVN0YXJ0KSB7XG4gICAgICAgIHZhciBleGlmSURDb2RlID0gYXBwMVN0YXJ0ICsgNDtcbiAgICAgICAgdmFyIHRpZmZPZmZzZXQgPSBhcHAxU3RhcnQgKyAxMDtcblxuICAgICAgICBpZiAoZ2V0U3RyaW5nRnJvbUNoYXJDb2RlKGRhdGFWaWV3LCBleGlmSURDb2RlLCA0KSA9PT0gJ0V4aWYnKSB7XG4gICAgICAgICAgdmFyIGVuZGlhbm5lc3MgPSBkYXRhVmlldy5nZXRVaW50MTYodGlmZk9mZnNldCk7XG4gICAgICAgICAgbGl0dGxlRW5kaWFuID0gZW5kaWFubmVzcyA9PT0gMHg0OTQ5O1xuXG4gICAgICAgICAgaWYgKGxpdHRsZUVuZGlhbiB8fCBlbmRpYW5uZXNzID09PSAweDRENERcbiAgICAgICAgICAvKiBiaWdFbmRpYW4gKi9cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQxNih0aWZmT2Zmc2V0ICsgMiwgbGl0dGxlRW5kaWFuKSA9PT0gMHgwMDJBKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0SUZET2Zmc2V0ID0gZGF0YVZpZXcuZ2V0VWludDMyKHRpZmZPZmZzZXQgKyA0LCBsaXR0bGVFbmRpYW4pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0SUZET2Zmc2V0ID49IDB4MDAwMDAwMDgpIHtcbiAgICAgICAgICAgICAgICAgIGlmZFN0YXJ0ID0gdGlmZk9mZnNldCArIGZpcnN0SUZET2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpZmRTdGFydCkge1xuICAgICAgICB2YXIgX2xlbmd0aCA9IGRhdGFWaWV3LmdldFVpbnQxNihpZmRTdGFydCwgbGl0dGxlRW5kaWFuKTtcblxuICAgICAgICB2YXIgX29mZnNldDtcblxuICAgICAgICB2YXIgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX2xlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgX29mZnNldCA9IGlmZFN0YXJ0ICsgaSAqIDEyICsgMjtcblxuICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50MTYoX29mZnNldCwgbGl0dGxlRW5kaWFuKSA9PT0gMHgwMTEyXG4gICAgICAgICAgLyogT3JpZW50YXRpb24gKi9cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gOCBpcyB0aGUgb2Zmc2V0IG9mIHRoZSBjdXJyZW50IHRhZydzIHZhbHVlXG4gICAgICAgICAgICAgIF9vZmZzZXQgKz0gODsgLy8gR2V0IHRoZSBvcmlnaW5hbCBvcmllbnRhdGlvbiB2YWx1ZVxuXG4gICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gZGF0YVZpZXcuZ2V0VWludDE2KF9vZmZzZXQsIGxpdHRsZUVuZGlhbik7IC8vIE92ZXJyaWRlIHRoZSBvcmllbnRhdGlvbiB3aXRoIGl0cyBkZWZhdWx0IHZhbHVlXG5cbiAgICAgICAgICAgICAgZGF0YVZpZXcuc2V0VWludDE2KF9vZmZzZXQsIDEsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgb3JpZW50YXRpb24gPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBvcmllbnRhdGlvbjtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgRXhpZiBPcmllbnRhdGlvbiB2YWx1ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9yaWVudGF0aW9uIC0gVGhlIG9yaWVudGF0aW9uIHRvIHBhcnNlLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcGFyc2VkIHJlc3VsdC5cbiAgICovXG5cbiAgZnVuY3Rpb24gcGFyc2VPcmllbnRhdGlvbihvcmllbnRhdGlvbikge1xuICAgIHZhciByb3RhdGUgPSAwO1xuICAgIHZhciBzY2FsZVggPSAxO1xuICAgIHZhciBzY2FsZVkgPSAxO1xuXG4gICAgc3dpdGNoIChvcmllbnRhdGlvbikge1xuICAgICAgLy8gRmxpcCBob3Jpem9udGFsXG4gICAgICBjYXNlIDI6XG4gICAgICAgIHNjYWxlWCA9IC0xO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIFJvdGF0ZSBsZWZ0IDE4MFx1MDBCMFxuXG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJvdGF0ZSA9IC0xODA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gRmxpcCB2ZXJ0aWNhbFxuXG4gICAgICBjYXNlIDQ6XG4gICAgICAgIHNjYWxlWSA9IC0xO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIEZsaXAgdmVydGljYWwgYW5kIHJvdGF0ZSByaWdodCA5MFx1MDBCMFxuXG4gICAgICBjYXNlIDU6XG4gICAgICAgIHJvdGF0ZSA9IDkwO1xuICAgICAgICBzY2FsZVkgPSAtMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBSb3RhdGUgcmlnaHQgOTBcdTAwQjBcblxuICAgICAgY2FzZSA2OlxuICAgICAgICByb3RhdGUgPSA5MDtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBGbGlwIGhvcml6b250YWwgYW5kIHJvdGF0ZSByaWdodCA5MFx1MDBCMFxuXG4gICAgICBjYXNlIDc6XG4gICAgICAgIHJvdGF0ZSA9IDkwO1xuICAgICAgICBzY2FsZVggPSAtMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBSb3RhdGUgbGVmdCA5MFx1MDBCMFxuXG4gICAgICBjYXNlIDg6XG4gICAgICAgIHJvdGF0ZSA9IC05MDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJvdGF0ZTogcm90YXRlLFxuICAgICAgc2NhbGVYOiBzY2FsZVgsXG4gICAgICBzY2FsZVk6IHNjYWxlWVxuICAgIH07XG4gIH1cbiAgdmFyIFJFR0VYUF9ERUNJTUFMUyA9IC9cXC5cXGQqKD86MHw5KXsxMn1cXGQqJC87XG4gIC8qKlxuICAgKiBOb3JtYWxpemUgZGVjaW1hbCBudW1iZXIuXG4gICAqIENoZWNrIG91dCB7QGxpbmsgaHR0cHM6Ly8wLjMwMDAwMDAwMDAwMDAwMDA0LmNvbS99XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBub3JtYWxpemUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbdGltZXM9MTAwMDAwMDAwMDAwXSAtIFRoZSB0aW1lcyBmb3Igbm9ybWFsaXppbmcuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG5vcm1hbGl6ZWQgbnVtYmVyLlxuICAgKi9cblxuICBmdW5jdGlvbiBub3JtYWxpemVEZWNpbWFsTnVtYmVyKHZhbHVlKSB7XG4gICAgdmFyIHRpbWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDAwMDAwMDAwMDA7XG4gICAgcmV0dXJuIFJFR0VYUF9ERUNJTUFMUy50ZXN0KHZhbHVlKSA/IE1hdGgucm91bmQodmFsdWUgKiB0aW1lcykgLyB0aW1lcyA6IHZhbHVlO1xuICB9XG5cbiAgdmFyIEFycmF5QnVmZmVyJDEgPSBXSU5ET1cuQXJyYXlCdWZmZXIsXG4gICAgICBGaWxlUmVhZGVyID0gV0lORE9XLkZpbGVSZWFkZXI7XG4gIHZhciBVUkwgPSBXSU5ET1cuVVJMIHx8IFdJTkRPVy53ZWJraXRVUkw7XG4gIHZhciBSRUdFWFBfRVhURU5TSU9OID0gL1xcLlxcdyskLztcbiAgdmFyIEFub3RoZXJDb21wcmVzc29yID0gV0lORE9XLkNvbXByZXNzb3I7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGltYWdlIGNvbXByZXNzb3IuXG4gICAqIEBjbGFzc1xuICAgKi9cblxuICB2YXIgQ29tcHJlc3NvciA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBvZiBDb21wcmVzc29yLlxuICAgICAqIEBwYXJhbSB7RmlsZXxCbG9ifSBmaWxlIC0gVGhlIHRhcmdldCBpbWFnZSBmaWxlIGZvciBjb21wcmVzc2luZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIGNvbXByZXNzaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbXByZXNzb3IoZmlsZSwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbXByZXNzb3IpO1xuXG4gICAgICB0aGlzLmZpbGUgPSBmaWxlO1xuICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgdGhpcy5vcHRpb25zID0gX29iamVjdFNwcmVhZDIoe30sIERFRkFVTFRTLCB7fSwgb3B0aW9ucyk7XG4gICAgICB0aGlzLmFib3J0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucmVzdWx0ID0gbnVsbDtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDb21wcmVzc29yLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlLFxuICAgICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBpZiAoIWlzQmxvYihmaWxlKSkge1xuICAgICAgICAgIHRoaXMuZmFpbChuZXcgRXJyb3IoJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgRmlsZSBvciBCbG9iIG9iamVjdC4nKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1pbWVUeXBlID0gZmlsZS50eXBlO1xuXG4gICAgICAgIGlmICghaXNJbWFnZVR5cGUobWltZVR5cGUpKSB7XG4gICAgICAgICAgdGhpcy5mYWlsKG5ldyBFcnJvcignVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYW4gaW1hZ2UgRmlsZSBvciBCbG9iIG9iamVjdC4nKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFVUkwgfHwgIUZpbGVSZWFkZXIpIHtcbiAgICAgICAgICB0aGlzLmZhaWwobmV3IEVycm9yKCdUaGUgY3VycmVudCBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgaW1hZ2UgY29tcHJlc3Npb24uJykpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXlCdWZmZXIkMSkge1xuICAgICAgICAgIG9wdGlvbnMuY2hlY2tPcmllbnRhdGlvbiA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFVSTCAmJiAhb3B0aW9ucy5jaGVja09yaWVudGF0aW9uKSB7XG4gICAgICAgICAgdGhpcy5sb2FkKHtcbiAgICAgICAgICAgIHVybDogVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgIHZhciBjaGVja09yaWVudGF0aW9uID0gb3B0aW9ucy5jaGVja09yaWVudGF0aW9uICYmIG1pbWVUeXBlID09PSAnaW1hZ2UvanBlZyc7XG4gICAgICAgICAgdGhpcy5yZWFkZXIgPSByZWFkZXI7XG5cbiAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBfcmVmLnRhcmdldDtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcblxuICAgICAgICAgICAgaWYgKGNoZWNrT3JpZW50YXRpb24pIHtcbiAgICAgICAgICAgICAgLy8gUmVzZXQgdGhlIG9yaWVudGF0aW9uIHZhbHVlIHRvIGl0cyBkZWZhdWx0IHZhbHVlIDFcbiAgICAgICAgICAgICAgLy8gYXMgc29tZSBpT1MgYnJvd3NlcnMgd2lsbCByZW5kZXIgaW1hZ2Ugd2l0aCBpdHMgb3JpZW50YXRpb25cbiAgICAgICAgICAgICAgdmFyIG9yaWVudGF0aW9uID0gcmVzZXRBbmRHZXRPcmllbnRhdGlvbihyZXN1bHQpO1xuXG4gICAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA+IDEgfHwgIVVSTCkge1xuICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IFVSTCB3aGljaCBoYXMgdGhlIGRlZmF1bHQgb3JpZW50YXRpb24gdmFsdWVcbiAgICAgICAgICAgICAgICBkYXRhLnVybCA9IGFycmF5QnVmZmVyVG9EYXRhVVJMKHJlc3VsdCwgbWltZVR5cGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID4gMSkge1xuICAgICAgICAgICAgICAgICAgX2V4dGVuZHMoZGF0YSwgcGFyc2VPcmllbnRhdGlvbihvcmllbnRhdGlvbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhLnVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRhdGEudXJsID0gcmVzdWx0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpcy5sb2FkKGRhdGEpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZWFkZXIub25hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmZhaWwobmV3IEVycm9yKCdBYm9ydGVkIHRvIHJlYWQgdGhlIGltYWdlIHdpdGggRmlsZVJlYWRlci4nKSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZmFpbChuZXcgRXJyb3IoJ0ZhaWxlZCB0byByZWFkIHRoZSBpbWFnZSB3aXRoIEZpbGVSZWFkZXIuJykpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucmVhZGVyID0gbnVsbDtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKGNoZWNrT3JpZW50YXRpb24pIHtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImxvYWRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGUsXG4gICAgICAgICAgICBpbWFnZSA9IHRoaXMuaW1hZ2U7XG5cbiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5kcmF3KF9vYmplY3RTcHJlYWQyKHt9LCBkYXRhLCB7XG4gICAgICAgICAgICBuYXR1cmFsV2lkdGg6IGltYWdlLm5hdHVyYWxXaWR0aCxcbiAgICAgICAgICAgIG5hdHVyYWxIZWlnaHQ6IGltYWdlLm5hdHVyYWxIZWlnaHRcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW1hZ2Uub25hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIuZmFpbChuZXcgRXJyb3IoJ0Fib3J0ZWQgdG8gbG9hZCB0aGUgaW1hZ2UuJykpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLmZhaWwobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCB0aGUgaW1hZ2UuJykpO1xuICAgICAgICB9OyAvLyBNYXRjaCBhbGwgYnJvd3NlcnMgdGhhdCB1c2UgV2ViS2l0IGFzIHRoZSBsYXlvdXQgZW5naW5lIGluIGlPUyBkZXZpY2VzLFxuICAgICAgICAvLyBzdWNoIGFzIFNhZmFyaSBmb3IgaU9TLCBDaHJvbWUgZm9yIGlPUywgYW5kIGluLWFwcCBicm93c2Vycy5cblxuXG4gICAgICAgIGlmIChXSU5ET1cubmF2aWdhdG9yICYmIC8oPzppUGFkfGlQaG9uZXxpUG9kKS4qP0FwcGxlV2ViS2l0L2kudGVzdChXSU5ET1cubmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICAvLyBGaXggdGhlIGBUaGUgb3BlcmF0aW9uIGlzIGluc2VjdXJlYCBlcnJvciAoIzU3KVxuICAgICAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gICAgICAgIH1cblxuICAgICAgICBpbWFnZS5hbHQgPSBmaWxlLm5hbWU7XG4gICAgICAgIGltYWdlLnNyYyA9IGRhdGEudXJsO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkcmF3XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdyhfcmVmMikge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICB2YXIgbmF0dXJhbFdpZHRoID0gX3JlZjIubmF0dXJhbFdpZHRoLFxuICAgICAgICAgICAgbmF0dXJhbEhlaWdodCA9IF9yZWYyLm5hdHVyYWxIZWlnaHQsXG4gICAgICAgICAgICBfcmVmMiRyb3RhdGUgPSBfcmVmMi5yb3RhdGUsXG4gICAgICAgICAgICByb3RhdGUgPSBfcmVmMiRyb3RhdGUgPT09IHZvaWQgMCA/IDAgOiBfcmVmMiRyb3RhdGUsXG4gICAgICAgICAgICBfcmVmMiRzY2FsZVggPSBfcmVmMi5zY2FsZVgsXG4gICAgICAgICAgICBzY2FsZVggPSBfcmVmMiRzY2FsZVggPT09IHZvaWQgMCA/IDEgOiBfcmVmMiRzY2FsZVgsXG4gICAgICAgICAgICBfcmVmMiRzY2FsZVkgPSBfcmVmMi5zY2FsZVksXG4gICAgICAgICAgICBzY2FsZVkgPSBfcmVmMiRzY2FsZVkgPT09IHZvaWQgMCA/IDEgOiBfcmVmMiRzY2FsZVk7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlLFxuICAgICAgICAgICAgaW1hZ2UgPSB0aGlzLmltYWdlLFxuICAgICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSBuYXR1cmFsV2lkdGggLyBuYXR1cmFsSGVpZ2h0O1xuICAgICAgICB2YXIgaXM5MERlZ3JlZXNSb3RhdGVkID0gTWF0aC5hYnMocm90YXRlKSAlIDE4MCA9PT0gOTA7XG4gICAgICAgIHZhciBtYXhXaWR0aCA9IE1hdGgubWF4KG9wdGlvbnMubWF4V2lkdGgsIDApIHx8IEluZmluaXR5O1xuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gTWF0aC5tYXgob3B0aW9ucy5tYXhIZWlnaHQsIDApIHx8IEluZmluaXR5O1xuICAgICAgICB2YXIgbWluV2lkdGggPSBNYXRoLm1heChvcHRpb25zLm1pbldpZHRoLCAwKSB8fCAwO1xuICAgICAgICB2YXIgbWluSGVpZ2h0ID0gTWF0aC5tYXgob3B0aW9ucy5taW5IZWlnaHQsIDApIHx8IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGgubWF4KG9wdGlvbnMud2lkdGgsIDApIHx8IG5hdHVyYWxXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KG9wdGlvbnMuaGVpZ2h0LCAwKSB8fCBuYXR1cmFsSGVpZ2h0O1xuXG4gICAgICAgIGlmIChpczkwRGVncmVlc1JvdGF0ZWQpIHtcbiAgICAgICAgICB2YXIgX3JlZjMgPSBbbWF4SGVpZ2h0LCBtYXhXaWR0aF07XG4gICAgICAgICAgbWF4V2lkdGggPSBfcmVmM1swXTtcbiAgICAgICAgICBtYXhIZWlnaHQgPSBfcmVmM1sxXTtcbiAgICAgICAgICB2YXIgX3JlZjQgPSBbbWluSGVpZ2h0LCBtaW5XaWR0aF07XG4gICAgICAgICAgbWluV2lkdGggPSBfcmVmNFswXTtcbiAgICAgICAgICBtaW5IZWlnaHQgPSBfcmVmNFsxXTtcbiAgICAgICAgICB2YXIgX3JlZjUgPSBbaGVpZ2h0LCB3aWR0aF07XG4gICAgICAgICAgd2lkdGggPSBfcmVmNVswXTtcbiAgICAgICAgICBoZWlnaHQgPSBfcmVmNVsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXhXaWR0aCA8IEluZmluaXR5ICYmIG1heEhlaWdodCA8IEluZmluaXR5KSB7XG4gICAgICAgICAgaWYgKG1heEhlaWdodCAqIGFzcGVjdFJhdGlvID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgIG1heEhlaWdodCA9IG1heFdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1heFdpZHRoID0gbWF4SGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1heFdpZHRoIDwgSW5maW5pdHkpIHtcbiAgICAgICAgICBtYXhIZWlnaHQgPSBtYXhXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2UgaWYgKG1heEhlaWdodCA8IEluZmluaXR5KSB7XG4gICAgICAgICAgbWF4V2lkdGggPSBtYXhIZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaW5XaWR0aCA+IDAgJiYgbWluSGVpZ2h0ID4gMCkge1xuICAgICAgICAgIGlmIChtaW5IZWlnaHQgKiBhc3BlY3RSYXRpbyA+IG1pbldpZHRoKSB7XG4gICAgICAgICAgICBtaW5IZWlnaHQgPSBtaW5XaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtaW5XaWR0aCA9IG1pbkhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtaW5XaWR0aCA+IDApIHtcbiAgICAgICAgICBtaW5IZWlnaHQgPSBtaW5XaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2UgaWYgKG1pbkhlaWdodCA+IDApIHtcbiAgICAgICAgICBtaW5XaWR0aCA9IG1pbkhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhlaWdodCAqIGFzcGVjdFJhdGlvID4gd2lkdGgpIHtcbiAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICB3aWR0aCA9IE1hdGguZmxvb3Iobm9ybWFsaXplRGVjaW1hbE51bWJlcihNYXRoLm1pbihNYXRoLm1heCh3aWR0aCwgbWluV2lkdGgpLCBtYXhXaWR0aCkpKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5mbG9vcihub3JtYWxpemVEZWNpbWFsTnVtYmVyKE1hdGgubWluKE1hdGgubWF4KGhlaWdodCwgbWluSGVpZ2h0KSwgbWF4SGVpZ2h0KSkpO1xuICAgICAgICB2YXIgZGVzdFggPSAtd2lkdGggLyAyO1xuICAgICAgICB2YXIgZGVzdFkgPSAtaGVpZ2h0IC8gMjtcbiAgICAgICAgdmFyIGRlc3RXaWR0aCA9IHdpZHRoO1xuICAgICAgICB2YXIgZGVzdEhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICBpZiAoaXM5MERlZ3JlZXNSb3RhdGVkKSB7XG4gICAgICAgICAgdmFyIF9yZWY2ID0gW2hlaWdodCwgd2lkdGhdO1xuICAgICAgICAgIHdpZHRoID0gX3JlZjZbMF07XG4gICAgICAgICAgaGVpZ2h0ID0gX3JlZjZbMV07XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICBpZiAoIWlzSW1hZ2VUeXBlKG9wdGlvbnMubWltZVR5cGUpKSB7XG4gICAgICAgICAgb3B0aW9ucy5taW1lVHlwZSA9IGZpbGUudHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSAndHJhbnNwYXJlbnQnOyAvLyBDb252ZXJ0cyBQTkcgZmlsZXMgb3ZlciB0aGUgYGNvbnZlcnRTaXplYCB0byBKUEVHcy5cblxuICAgICAgICBpZiAoZmlsZS5zaXplID4gb3B0aW9ucy5jb252ZXJ0U2l6ZSAmJiBvcHRpb25zLm1pbWVUeXBlID09PSAnaW1hZ2UvcG5nJykge1xuICAgICAgICAgIGZpbGxTdHlsZSA9ICcjZmZmJztcbiAgICAgICAgICBvcHRpb25zLm1pbWVUeXBlID0gJ2ltYWdlL2pwZWcnO1xuICAgICAgICB9IC8vIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGZpbGwgY29sb3IgKCMwMDAsIGJsYWNrKVxuXG5cbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYmVmb3JlRHJhdykge1xuICAgICAgICAgIG9wdGlvbnMuYmVmb3JlRHJhdy5jYWxsKHRoaXMsIGNvbnRleHQsIGNhbnZhcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hYm9ydGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgIGNvbnRleHQucm90YXRlKHJvdGF0ZSAqIE1hdGguUEkgLyAxODApO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHNjYWxlWCwgc2NhbGVZKTtcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIGRlc3RYLCBkZXN0WSwgZGVzdFdpZHRoLCBkZXN0SGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZHJldykge1xuICAgICAgICAgIG9wdGlvbnMuZHJldy5jYWxsKHRoaXMsIGNvbnRleHQsIGNhbnZhcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hYm9ydGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbiBkb25lKHJlc3VsdCkge1xuICAgICAgICAgIGlmICghX3RoaXMzLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIF90aGlzMy5kb25lKHtcbiAgICAgICAgICAgICAgbmF0dXJhbFdpZHRoOiBuYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICAgIG5hdHVyYWxIZWlnaHQ6IG5hdHVyYWxIZWlnaHQsXG4gICAgICAgICAgICAgIHJlc3VsdDogcmVzdWx0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGNhbnZhcy50b0Jsb2IpIHtcbiAgICAgICAgICBjYW52YXMudG9CbG9iKGRvbmUsIG9wdGlvbnMubWltZVR5cGUsIG9wdGlvbnMucXVhbGl0eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9uZShjYW52YXNUb0Jsb2IoY2FudmFzLnRvRGF0YVVSTChvcHRpb25zLm1pbWVUeXBlLCBvcHRpb25zLnF1YWxpdHkpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZG9uZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRvbmUoX3JlZjcpIHtcbiAgICAgICAgdmFyIG5hdHVyYWxXaWR0aCA9IF9yZWY3Lm5hdHVyYWxXaWR0aCxcbiAgICAgICAgICAgIG5hdHVyYWxIZWlnaHQgPSBfcmVmNy5uYXR1cmFsSGVpZ2h0LFxuICAgICAgICAgICAgcmVzdWx0ID0gX3JlZjcucmVzdWx0O1xuICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZSxcbiAgICAgICAgICAgIGltYWdlID0gdGhpcy5pbWFnZSxcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKFVSTCAmJiAhb3B0aW9ucy5jaGVja09yaWVudGF0aW9uKSB7XG4gICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChpbWFnZS5zcmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIC8vIFJldHVybnMgb3JpZ2luYWwgZmlsZSBpZiB0aGUgcmVzdWx0IGlzIGdyZWF0ZXIgdGhhbiBpdCBhbmQgd2l0aG91dCBzaXplIHJlbGF0ZWQgb3B0aW9uc1xuICAgICAgICAgIGlmIChvcHRpb25zLnN0cmljdCAmJiByZXN1bHQuc2l6ZSA+IGZpbGUuc2l6ZSAmJiBvcHRpb25zLm1pbWVUeXBlID09PSBmaWxlLnR5cGUgJiYgIShvcHRpb25zLndpZHRoID4gbmF0dXJhbFdpZHRoIHx8IG9wdGlvbnMuaGVpZ2h0ID4gbmF0dXJhbEhlaWdodCB8fCBvcHRpb25zLm1pbldpZHRoID4gbmF0dXJhbFdpZHRoIHx8IG9wdGlvbnMubWluSGVpZ2h0ID4gbmF0dXJhbEhlaWdodCkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZpbGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHJlc3VsdC5sYXN0TW9kaWZpZWQgPSBkYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHJlc3VsdC5sYXN0TW9kaWZpZWREYXRlID0gZGF0ZTtcbiAgICAgICAgICAgIHJlc3VsdC5uYW1lID0gZmlsZS5uYW1lOyAvLyBDb252ZXJ0IHRoZSBleHRlbnNpb24gdG8gbWF0Y2ggaXRzIHR5cGVcblxuICAgICAgICAgICAgaWYgKHJlc3VsdC5uYW1lICYmIHJlc3VsdC50eXBlICE9PSBmaWxlLnR5cGUpIHtcbiAgICAgICAgICAgICAgcmVzdWx0Lm5hbWUgPSByZXN1bHQubmFtZS5yZXBsYWNlKFJFR0VYUF9FWFRFTlNJT04sIGltYWdlVHlwZVRvRXh0ZW5zaW9uKHJlc3VsdC50eXBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJldHVybnMgb3JpZ2luYWwgZmlsZSBpZiB0aGUgcmVzdWx0IGlzIG51bGwgaW4gc29tZSBjYXNlcy5cbiAgICAgICAgICByZXN1bHQgPSBmaWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykge1xuICAgICAgICAgIG9wdGlvbnMuc3VjY2Vzcy5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZmFpbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZhaWwoZXJyKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmVycm9yKSB7XG4gICAgICAgICAgb3B0aW9ucy5lcnJvci5jYWxsKHRoaXMsIGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImFib3J0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5hYm9ydGVkKSB7XG4gICAgICAgICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcblxuICAgICAgICAgIGlmICh0aGlzLnJlYWRlcikge1xuICAgICAgICAgICAgdGhpcy5yZWFkZXIuYWJvcnQoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmltYWdlLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmltYWdlLm9uYWJvcnQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mYWlsKG5ldyBFcnJvcignVGhlIGNvbXByZXNzaW9uIHByb2Nlc3MgaGFzIGJlZW4gYWJvcnRlZC4nKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEdldCB0aGUgbm8gY29uZmxpY3QgY29tcHJlc3NvciBjbGFzcy5cbiAgICAgICAqIEByZXR1cm5zIHtDb21wcmVzc29yfSBUaGUgY29tcHJlc3NvciBjbGFzcy5cbiAgICAgICAqL1xuXG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwibm9Db25mbGljdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICAgIHdpbmRvdy5Db21wcmVzc29yID0gQW5vdGhlckNvbXByZXNzb3I7XG4gICAgICAgIHJldHVybiBDb21wcmVzc29yO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBDaGFuZ2UgdGhlIGRlZmF1bHQgb3B0aW9ucy5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIG5ldyBkZWZhdWx0IG9wdGlvbnMuXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzZXREZWZhdWx0c1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERlZmF1bHRzKG9wdGlvbnMpIHtcbiAgICAgICAgX2V4dGVuZHMoREVGQVVMVFMsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb21wcmVzc29yO1xuICB9KCk7XG5cbiAgcmV0dXJuIENvbXByZXNzb3I7XG5cbn0pKSk7XG4iLCAiLyohIG1pbmlyZXNldC5jc3MgdjAuMC42IHwgTUlUIExpY2Vuc2UgfCBnaXRodWIuY29tL2pndGhtcy9taW5pcmVzZXQuY3NzICovXG5odG1sLFxuYm9keSxcbnAsXG5vbCxcbnVsLFxubGksXG5kbCxcbmR0LFxuZGQsXG5ibG9ja3F1b3RlLFxuZmlndXJlLFxuZmllbGRzZXQsXG5sZWdlbmQsXG50ZXh0YXJlYSxcbnByZSxcbmlmcmFtZSxcbmhyLFxuaDEsXG5oMixcbmgzLFxuaDQsXG5oNSxcbmg2IHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xufVxuaDEsXG5oMixcbmgzLFxuaDQsXG5oNSxcbmg2IHtcbiAgZm9udC1zaXplOiAxMDAlO1xuICBmb250LXdlaWdodDogbm9ybWFsO1xufVxudWwge1xuICBsaXN0LXN0eWxlOiBub25lO1xufVxuYnV0dG9uLFxuaW5wdXQsXG5zZWxlY3QsXG50ZXh0YXJlYSB7XG4gIG1hcmdpbjogMDtcbn1cbmh0bWwge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xufVxuKixcbio6OmJlZm9yZSxcbio6OmFmdGVyIHtcbiAgYm94LXNpemluZzogaW5oZXJpdDtcbn1cblxuaWZyYW1lIHtcbiAgYm9yZGVyOiAwO1xufVxuXG5AaW1wb3J0IHVybChcImh0dHBzOi8vcnNtcy5tZS9pbnRlci9pbnRlci5jc3NcIik7XG5cbmJvZHkge1xuICAtLXBhZGRpbmctc21hbGw6IDZweDtcbiAgLS1wYWRkaW5nLW1lZGl1bTogMTJweDtcbiAgLS1wYWRkaW5nLWxhcmdlOiAyNHB4O1xuICAtLXBhZGRpbmctaHVnZTogNDhweDtcblxuICAtLWJvcmRlci1yYWRpdXMtc21hbGw6IDNweDtcbiAgLS1ib3JkZXItcmFkaXVzLW1lZGl1bTogNnB4O1xuICAtLWJvcmRlci1yYWRpdXMtbGFyZ2U6IDEycHg7XG5cbiAgLS1jb2xvdXJzLWdyZXktMDogcmdiKDMzLCAzMywgMzMpO1xuICAtLWNvbG91cnMtZ3JleS0xOiByZ2IoNzQsIDc0LCA3NCk7XG4gIC0tY29sb3Vycy1ncmV5LTI6IHJnYigxMzMsIDEzMywgMTMzKTtcbiAgLS1jb2xvdXJzLWdyZXktMzogcmdiKDE3OSwgMTc5LCAxNzkpO1xuICAtLWNvbG91cnMtZ3JleS00OiByZ2IoMjI3LCAyMjcsIDIyNyk7XG4gIC0tY29sb3Vycy1ncmV5LTU6IHJnYigyNDUsIDI0NSwgMjQ1KTtcbiAgLS1jb2xvdXJzLW1haW46IHJnYig3MiwgMjAyLCAxMjYpO1xuICAtLWNvbG91cnMtbWFpbi1saWdodDogcmdiKDIwOCwgMjQyLCAyMjIpO1xuICAtLWNvbG91cnMtbWFpbi1kYXJrOiByZ2IoNDQsIDc1LCA1Nyk7XG4gIC0tY29sb3Vycy13YXJuaW5nOiByZ2IoMjU1LCAyNDIsIDE3NSk7XG5cbiAgLS1mb250LWZhbWlseS1zYW5zLXNlcmlmOiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICAtLWZvbnQtZmFtYWlsdC1zZXJpZjogR2VvcmdpYSwgXCJUaW1lcyBOZXcgUm9tYW5cIiwgVGltZXMsIHNlcmlmO1xuXG4gIC0tZm9udC1zaXplLS1zbWFsbDogMTFweDtcbiAgLS1mb250LXNpemUtLW1lZGl1bTogMTRweDtcbiAgLS1mb250LXNpemUtLWxhcmdlOiAxOHB4O1xufVxuXG5odG1sIHtcbiAgZm9udC1mYW1pbHk6IFwiSW50ZXJcIiwgc2Fucy1zZXJpZjtcbn1cbkBzdXBwb3J0cyAoZm9udC12YXJpYXRpb24tc2V0dGluZ3M6IG5vcm1hbCkge1xuICBodG1sIHtcbiAgICBmb250LWZhbWlseTogXCJJbnRlciB2YXJcIiwgc2Fucy1zZXJpZjtcbiAgfVxufVxuXG5odG1sLFxuYm9keSB7XG4gIG1hcmdpbjogMDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG5idXR0b24ge1xuICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCkgdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMtc21hbGwsIDApO1xuICBvdXRsaW5lOiBub25lO1xuICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcblxuICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvdXJzLW1haW4sICNmMGYpO1xufVxuXG4uYnRuLS1wcmltYXJ5IHtcbiAgY29sb3I6ICNmZmY7XG4gIGJhY2tncm91bmQ6IHZhcigtLWNvbG91cnMtbWFpbiwgI2YwZik7XG59XG5cbi5idG4tLXNlY29uZGFyeSB7XG4gIGNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktMSwgI2YwZik7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTIsICNmMGYpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgbWFyZ2luLXJpZ2h0OiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbn1cblxuYnV0dG9uOmRpc2FibGVkIHtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpO1xuICBjb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpO1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xufVxuXG5idXR0b246YWN0aXZlLFxuYnV0dG9uOmhvdmVyIHtcbiAgb3V0bGluZTogbm9uZTtcbn1cblxuLmYyaCB7XG4gIGhlaWdodDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLyogW0hlYWRlcl0gKi9cbi5mMmhfX2hlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctc21hbGwsIDApIHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNGU0ZTQ7XG4gIGJhY2tncm91bmQ6ICNmOWY5Zjk7XG59XG4uZjJoX19uYXYge1xuICBmbGV4OiAxO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xufVxuXG4uZjJoX190aXRsZSB7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWZhbWlseS1zYW5zLXNlcmlmLCBzYW5zLXNlcmlmKTtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLW1lZGl1bSwgMWVtKTtcbn1cbi5mMmhfX2luZm8ge1xuICBtYXJnaW4tbGVmdDogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xuICBkaXNwbGF5OiBmbGV4O1xuICBtYXgtd2lkdGg6IDYwJTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cbi5mMmhfX2luZm9fdGl0bGUge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cblxuLmYyaF9faW5mb19tZXRhIHtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLW1lZGl1bSwgMWVtKTtcbiAgcGFkZGluZy1sZWZ0OiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgbWFyZ2luLWxlZnQ6IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xuICBib3JkZXItbGVmdDogMXB4IHNvbGlkIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKTtcbn1cbi5mMmhfX2luZm9fcmVzcG9uc2l2ZS0tbm8ge1xuICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcbn1cbi5mMmhfX3N2Z19vcHRpbWlzZSB7XG4gIG1hcmdpbi1sZWZ0OiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG4gIHBhZGRpbmctbGVmdDogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpO1xufVxuLmYyaF9fc3ZnX29wdGltaXNlIHNwYW4ge1xuICBwYWRkaW5nLWxlZnQ6IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xufVxuXG4uZjJoX19ib2R5IHtcbiAgZGlzcGxheTogZmxleDtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1sYXJnZSwgMCkgdmFyKC0tcGFkZGluZy1odWdlLCAwKTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTUsICNmMGYpO1xufVxuXG4vKiBbIEZyYW1lIHNlbGVjdGlvbiBhbmQgRm9ybSBdICovXG4uZjJoX19jaG9vc2VfZnJhbWVzIHtcbiAgbWluLXdpZHRoOiA1MCU7XG59XG4uZjJoX19pbmZvX2Zvcm0ge1xuICBtYXJnaW4tYm90dG9tOiB2YXIoLS1wYWRkaW5nLWxhcmdlLCAwKTtcbn1cbi5mMmhfX2luZm9fZm9ybV9faXRlbSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG1hcmdpbi1ib3R0b206IHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbn1cbi5mMmhfX2luZm9fZm9ybV9fbGFiZWwge1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tc21hbGwsIDFlbSk7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWZhbWlseS1zYW5zLXNlcmlmLCBzYW5zLXNlcmlmKTtcbn1cbi5mMmhfX2luZm9fZm9ybV9faW5wdXQge1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tbWVkaXVtLCAxZW0pO1xuICBmb250LWZhbWlseTogdmFyKC0tZm9udC1mYW1pbHktc2Fucy1zZXJpZiwgc2Fucy1zZXJpZik7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctc21hbGwsIDApIHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbn1cblxuLmYyaF9fZnJhbWVfc2VsZWN0aW9uIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgbWluLWNvbnRlbnQ7XG4gIGdyaWQtdGVtcGxhdGUtcm93czogYXV0bztcbiAgbWluLXdpZHRoOiAzMjBweDtcbiAgZ3JpZC1nYXA6IHZhcigtLXBhZGRpbmctc21hbGwsIDApIHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmYyaF9fc2VsX2hlYWRlciB7XG4gIGNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktMCwgI2YwZik7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1tZWRpdW0pO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tY29sb3Vycy1ncmV5LTApO1xuICBwYWRkaW5nLWJvdHRvbTogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG59XG5cbi5mMmhfX3NlbF9oZWFkZXItLW5hbWUge1xuICBncmlkLWNvbHVtbjogMS8yO1xuICBncmlkLXJvdzogMS8yO1xufVxuXG4uZjJoX19zZWxfaGVhZGVyLS1yZXNwb25zaXZlIHtcbiAgZ3JpZC1jb2x1bW46IDIvMztcbiAgZ3JpZC1yb3c6IDEvMjtcbiAganVzdGlmeS1zZWxmOiBjZW50ZXI7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG5cbi5mMmhfX2xhYmVsLmYyaF9fbGFiZWwtLW5hbWUge1xuICBncmlkLWNvbHVtbjogMS8yO1xuICBhbGlnbi1pdGVtczogYmFzZWxpbmU7XG59XG4uZjJoX19sYWJlbC0tbmFtZS10ZXh0IHtcbiAgbWF4LXdpZHRoOiA3MCU7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4uZjJoX19pbnB1dC0tcmVzcG9uc2l2ZSB7XG4gIGdyaWQtY29sdW1uOiAyLzM7XG4gIGp1c3RpZnktc2VsZjogY2VudGVyO1xuICBtYXJnaW46IDA7XG59XG5cbi5mMmhfX2xhYmVsIHtcbiAgZGlzcGxheTogZmxleDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLXNtYWxsKSAwO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtaW4td2lkdGg6IDA7XG59XG5cbi5mMmhfX3NlbF93aWR0aCB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1zbWFsbCwgMWVtKTtcbiAgY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS0zLCAjZjBmKTtcbiAgcGFkZGluZy1sZWZ0OiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLmYyaF9fY2hlY2tib3gsXG4uZjJoX19yYWRpb19idG4ge1xuICBtYXJnaW4tcmlnaHQ6IHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbn1cblxuLmYyaF9fc2VsZWN0aW9uX3dpZHRoIHtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLXNtYWxsLCAxKTtcbiAgbWFyZ2luOiAwIHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xuICBkaXNwbGF5OiBibG9jaztcbiAgY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS0yLCAjZjBmKTtcbn1cblxuLyogW1ByZXZpZXddICAqL1xuLmYyaF9fcHJldmlldyB7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbn1cbi5mMmhfX3ByZXZpZXdfdGl0bGUge1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tbWVkaXVtLCAxKTtcbiAgbWFyZ2luOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKSAwO1xuICBkaXNwbGF5OiBmbGV4O1xufVxuLmYyaF9fcHJldmlld19uYW1lIHtcbiAgZmxleDogMTtcbn1cblxuLmYyaF9fcHJldmlld19pbm5lciB7XG4gIG92ZXJmbG93OiBhdXRvO1xuICBtYXgtaGVpZ2h0OiAxMDAlO1xuICBtYXgtd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogYXV0bztcbn1cbi5mMmhfX3ByZXZpZXdfaW5uZXItLXNjYWxlZCB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi5mMmhfX3ByZXZpZXdfd3JhcHBlciB7XG4gIG92ZXJmbG93LXg6IGF1dG87XG4gIG92ZXJmbG93LXk6IGhpZGRlbjtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5mMmhfX3ByZXZpZXdfcmVzcG9uc2l2ZSxcbi5mMmhfX3ByZXZpZXdfd2lkdGgge1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tc21hbGwsIDEpO1xuICBjb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTMsICNmMGYpO1xuICBwYWRkaW5nLWxlZnQ6IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xufVxuXG4uZjJoX19ub3RpY2UtLXdhcm5pbmcge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvdXJzLXdhcm5pbmcsICNmMGYpO1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKSB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG4gIG1hcmdpbjogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCkgMDtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLW1lZGl1bSwgMWVtKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cy1tZWRpdW0sIDApO1xufVxuXG4uZjJoX19ub3RpY2UtLWVycm9yIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGJhY2tncm91bmQ6ICNmZmVkZWQ7XG4gIGNvbG9yOiAjYTcwZjBmO1xufVxuXG4vKiBbUmVuZGVyXSAqL1xuLmYyaF9fcmVuZGVyIHtcbiAgdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7XG59XG5cbi5mMmhfX3JlbmRlci0tcmVzcG9uc2l2ZSBzdmcge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmVycm9yIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTUsICNmMGYpO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzLXNtYWxsLCAwKTtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApIHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktMCwgI2YwZik7XG4gIG1hcmdpbjogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApIDA7XG4gIGZsZXg6IDE7XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbn1cblxuLyogW1NhdmVdICovXG4uZjJoX19zYXZlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgd2lkdGg6IDEwMCU7XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgbWF4LXdpZHRoOiA4MDBweDtcbn1cblxuLmYyaF9fc2F2ZV9idG4ge1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tbGFyZ2UsIDFlbSk7XG4gIGNvbG9yOiAjZmZmO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzLXNtYWxsLCAwKTtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xuICBtYXJnaW4tcmlnaHQ6IHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLWNvbG91cnMtbWFpbi1kYXJrLCAjZjBmKTtcbiAgYm9yZGVyLXRvcDogM3B4IHNvbGlkIHRyYW5zcGFyZW50O1xufVxuLmYyaF9fc2F2ZV9idG46aG92ZXIge1xuICBib3JkZXItdG9wOiAwO1xuICBib3JkZXItYm90dG9tLXdpZHRoOiA1cHg7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG4uZjJoX19zYXZlX2J0bjphY3RpdmUge1xuICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tY29sb3Vycy1tYWluLWRhcmssICNmMGYpO1xuICBib3JkZXItdG9wOiAzcHggc29saWQgdHJhbnNwYXJlbnQ7XG59XG5cbi5mMmhfX3NhdmVfYnRuOmxhc3Qtb2YtdHlwZSB7XG4gIG1hcmdpbjogMDtcbn1cblxuLmYyaF9fc2F2ZV9vcHRpb25zIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi5mMmhfX3NhdmVfX3N1YmhlYWQge1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tbWVkaXVtLCAxKTtcbiAgbWFyZ2luOiB2YXIoLS1wYWRkaW5nLWxhcmdlLCAwKSAwIHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xuICBwYWRkaW5nLWJvdHRvbTogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZik7XG59XG5cbi5mMmhfX3NhdmVfYWR2YW5jZWQge1xuICBvcGFjaXR5OiAwO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMXM7XG59XG4uZjJoX19zYXZlX2FkdmFuY2VkLS1vcGVuIHtcbiAgb3BhY2l0eTogMTtcbn1cblxuLmYyaF9fc2F2ZV9hZHZhbmNlZC1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuXG4uZjJoX19zYXZlX2FkdmFuY2VkX3RpdGxlIHtcbiAgZmxleDogMTtcbn1cblxuLmYyaF9fc2F2ZV9hZHZhbmNlZF9zaG93IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG91cnMtZ3JleS0zLCAjZjBmKTtcbn1cblxuLmYyaF9fc2F2ZV9fcmF3IHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZik7XG4gIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgbWluLWhlaWdodDogMTUwcHg7XG4gIG1heC1oZWlnaHQ6IDMwMHB4O1xufVxuXG4vKiBSZXNpemUgd2lkZ2V0ICovXG4uZjJoX19yZXNpemVyIHtcbiAgd2lkdGg6IDMycHg7XG4gIGhlaWdodDogMzJweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDZweDtcbiAgcmlnaHQ6IDZweDtcbiAgY3Vyc29yOiBncmFiYmluZztcbiAgYmFja2dyb3VuZDogcmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudChcbiAgICAtNDVkZWcsXG4gICAgI2QyZDJkMixcbiAgICAjZDJkMmQyIDJweCxcbiAgICB0cmFuc3BhcmVudCAxcHgsXG4gICAgdHJhbnNwYXJlbnQgOHB4XG4gICk7XG4gIGJvcmRlci1yYWRpdXM6IDEwMCUgMCAwO1xufVxuXG4uZjJoX190b2FzdCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS0xLCAjZjBmKTtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMtc21hbGwsIDApO1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcywgb3BhY2l0eSAwLjNzIDAuMXM7XG4gIG9wYWNpdHk6IDA7XG59XG5cbi5mMmhfX3RvYXN0LS1vcGVuIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTEwMCUpO1xuICBvcGFjaXR5OiAxO1xufVxuXG4vKiBbUmVzcG9uc2l2ZSBwcmV2aWV3XSAqL1xuLmYyaF9fcmVzcG9uc2l2ZV9wcmV2aWV3IHtcbiAgLyogd2lkdGg6IDMwMHB4OyAqL1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1zZWxmOiBjZW50ZXI7XG59XG5cbi5mMmhfX3Jlc3BvbnNpdmVfX3dyYXBwZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB3aWR0aDogNTAwcHg7XG59XG5cbi5mMmhfX3J1bGVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBncmlkO1xuICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XG59XG4uZjJoX19ydWxlcl9icmVhayB7XG4gIGhlaWdodDogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDEwcHgpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZik7XG4gIGJvcmRlcjogMnB4IHNvbGlkICNmZmY7XG4gIGdyaWQtcm93OiAxLzI7XG4gIGdyaWQtY29sdW1uOiAxLzI7XG4gIGJvcmRlci10b3A6IG5vbmU7XG4gIGJvcmRlci1ib3R0b206IG5vbmU7XG59XG4uZjJoX19ydWxlcl9icmVhay0tMCB7XG4gIHdpZHRoOiAzMjBweDtcbiAgei1pbmRleDogMztcbn1cbi5mMmhfX3J1bGVyX2JyZWFrLS0xIHtcbiAgd2lkdGg6IDQ1MHB4O1xuICB6LWluZGV4OiAyO1xufVxuLmYyaF9fcnVsZXJfYnJlYWstLTIge1xuICB3aWR0aDogNjQwcHg7XG4gIHotaW5kZXg6IDE7XG59XG5cbi5mMmhfX3Jlc3BvbnNpdmVfX3NhbmRib3gge1xuICByZXNpemU6IGJvdGg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIG91dGxpbmU6IDFweCBzb2xpZCB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZik7XG4gIG1hcmdpbjogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCkgMDtcblxuICAvKiBodHRwczovL2xlYXZlcm91LmdpdGh1Yi5pby9jc3MzcGF0dGVybnMvI2NoZWNrZXJib2FyZCAqL1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoXG4gICAgICA0NWRlZyxcbiAgICAgIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKSAyNSUsXG4gICAgICB0cmFuc3BhcmVudCAyNSUsXG4gICAgICB0cmFuc3BhcmVudCA3NSUsXG4gICAgICB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZikgNzUlLFxuICAgICAgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpXG4gICAgKSxcbiAgICBsaW5lYXItZ3JhZGllbnQoXG4gICAgICA0NWRlZyxcbiAgICAgIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKSAyNSUsXG4gICAgICB0cmFuc3BhcmVudCAyNSUsXG4gICAgICB0cmFuc3BhcmVudCA3NSUsXG4gICAgICB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZikgNzUlLFxuICAgICAgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpXG4gICAgKTtcbiAgYmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IDAgMCwgMTBweCAxMHB4O1xufVxuIiwgInZhciBuLGwsdSxpLHQsbyxyLGYsZT17fSxjPVtdLGE9L2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaTtmdW5jdGlvbiBzKG4sbCl7Zm9yKHZhciB1IGluIGwpblt1XT1sW3VdO3JldHVybiBufWZ1bmN0aW9uIHYobil7dmFyIGw9bi5wYXJlbnROb2RlO2wmJmwucmVtb3ZlQ2hpbGQobil9ZnVuY3Rpb24gaChuLGwsdSl7dmFyIGksdD1hcmd1bWVudHMsbz17fTtmb3IoaSBpbiBsKVwia2V5XCIhPT1pJiZcInJlZlwiIT09aSYmKG9baV09bFtpXSk7aWYoYXJndW1lbnRzLmxlbmd0aD4zKWZvcih1PVt1XSxpPTM7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl1LnB1c2godFtpXSk7aWYobnVsbCE9dSYmKG8uY2hpbGRyZW49dSksXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbnVsbCE9bi5kZWZhdWx0UHJvcHMpZm9yKGkgaW4gbi5kZWZhdWx0UHJvcHMpdm9pZCAwPT09b1tpXSYmKG9baV09bi5kZWZhdWx0UHJvcHNbaV0pO3JldHVybiB5KG4sbyxsJiZsLmtleSxsJiZsLnJlZixudWxsKX1mdW5jdGlvbiB5KGwsdSxpLHQsbyl7dmFyIHI9e3R5cGU6bCxwcm9wczp1LGtleTppLHJlZjp0LF9fazpudWxsLF9fOm51bGwsX19iOjAsX19lOm51bGwsX19kOnZvaWQgMCxfX2M6bnVsbCxjb25zdHJ1Y3Rvcjp2b2lkIDAsX192Om99O3JldHVybiBudWxsPT1vJiYoci5fX3Y9ciksbi52bm9kZSYmbi52bm9kZShyKSxyfWZ1bmN0aW9uIHAoKXtyZXR1cm57fX1mdW5jdGlvbiBkKG4pe3JldHVybiBuLmNoaWxkcmVufWZ1bmN0aW9uIG0obixsKXt0aGlzLnByb3BzPW4sdGhpcy5jb250ZXh0PWx9ZnVuY3Rpb24gdyhuLGwpe2lmKG51bGw9PWwpcmV0dXJuIG4uX18/dyhuLl9fLG4uX18uX19rLmluZGV4T2YobikrMSk6bnVsbDtmb3IodmFyIHU7bDxuLl9fay5sZW5ndGg7bCsrKWlmKG51bGwhPSh1PW4uX19rW2xdKSYmbnVsbCE9dS5fX2UpcmV0dXJuIHUuX19lO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4udHlwZT93KG4pOm51bGx9ZnVuY3Rpb24gayhuKXt2YXIgbCx1O2lmKG51bGwhPShuPW4uX18pJiZudWxsIT1uLl9fYyl7Zm9yKG4uX19lPW4uX19jLmJhc2U9bnVsbCxsPTA7bDxuLl9fay5sZW5ndGg7bCsrKWlmKG51bGwhPSh1PW4uX19rW2xdKSYmbnVsbCE9dS5fX2Upe24uX19lPW4uX19jLmJhc2U9dS5fX2U7YnJlYWt9cmV0dXJuIGsobil9fWZ1bmN0aW9uIGcobCl7KCFsLl9fZCYmKGwuX19kPSEwKSYmdS5wdXNoKGwpJiYhaSsrfHxvIT09bi5kZWJvdW5jZVJlbmRlcmluZykmJigobz1uLmRlYm91bmNlUmVuZGVyaW5nKXx8dCkoXyl9ZnVuY3Rpb24gXygpe2Zvcih2YXIgbjtpPXUubGVuZ3RoOyluPXUuc29ydChmdW5jdGlvbihuLGwpe3JldHVybiBuLl9fdi5fX2ItbC5fX3YuX19ifSksdT1bXSxuLnNvbWUoZnVuY3Rpb24obil7dmFyIGwsdSxpLHQsbyxyLGY7bi5fX2QmJihyPShvPShsPW4pLl9fdikuX19lLChmPWwuX19QKSYmKHU9W10sKGk9cyh7fSxvKSkuX192PWksdD16KGYsbyxpLGwuX19uLHZvaWQgMCE9PWYub3duZXJTVkdFbGVtZW50LG51bGwsdSxudWxsPT1yP3cobyk6ciksVCh1LG8pLHQhPXImJmsobykpKX0pfWZ1bmN0aW9uIGIobixsLHUsaSx0LG8scixmLGEscyl7dmFyIGgscCxtLGssZyxfLGIseCxBLFA9aSYmaS5fX2t8fGMsQz1QLmxlbmd0aDtmb3IoYT09ZSYmKGE9bnVsbCE9cj9yWzBdOkM/dyhpLDApOm51bGwpLHUuX19rPVtdLGg9MDtoPGwubGVuZ3RoO2grKylpZihudWxsIT0oaz11Ll9fa1toXT1udWxsPT0oaz1sW2hdKXx8XCJib29sZWFuXCI9PXR5cGVvZiBrP251bGw6XCJzdHJpbmdcIj09dHlwZW9mIGt8fFwibnVtYmVyXCI9PXR5cGVvZiBrP3kobnVsbCxrLG51bGwsbnVsbCxrKTpBcnJheS5pc0FycmF5KGspP3koZCx7Y2hpbGRyZW46a30sbnVsbCxudWxsLG51bGwpOm51bGwhPWsuX19lfHxudWxsIT1rLl9fYz95KGsudHlwZSxrLnByb3BzLGsua2V5LG51bGwsay5fX3YpOmspKXtpZihrLl9fPXUsay5fX2I9dS5fX2IrMSxudWxsPT09KG09UFtoXSl8fG0mJmsua2V5PT1tLmtleSYmay50eXBlPT09bS50eXBlKVBbaF09dm9pZCAwO2Vsc2UgZm9yKHA9MDtwPEM7cCsrKXtpZigobT1QW3BdKSYmay5rZXk9PW0ua2V5JiZrLnR5cGU9PT1tLnR5cGUpe1BbcF09dm9pZCAwO2JyZWFrfW09bnVsbH1pZihnPXoobixrLG09bXx8ZSx0LG8scixmLGEscyksKHA9ay5yZWYpJiZtLnJlZiE9cCYmKHh8fCh4PVtdKSxtLnJlZiYmeC5wdXNoKG0ucmVmLG51bGwsaykseC5wdXNoKHAsay5fX2N8fGcsaykpLG51bGwhPWcpe2lmKG51bGw9PWImJihiPWcpLEE9dm9pZCAwLHZvaWQgMCE9PWsuX19kKUE9ay5fX2Qsay5fX2Q9dm9pZCAwO2Vsc2UgaWYocj09bXx8ZyE9YXx8bnVsbD09Zy5wYXJlbnROb2RlKXtuOmlmKG51bGw9PWF8fGEucGFyZW50Tm9kZSE9PW4pbi5hcHBlbmRDaGlsZChnKSxBPW51bGw7ZWxzZXtmb3IoXz1hLHA9MDsoXz1fLm5leHRTaWJsaW5nKSYmcDxDO3ArPTIpaWYoXz09ZylicmVhayBuO24uaW5zZXJ0QmVmb3JlKGcsYSksQT1hfVwib3B0aW9uXCI9PXUudHlwZSYmKG4udmFsdWU9XCJcIil9YT12b2lkIDAhPT1BP0E6Zy5uZXh0U2libGluZyxcImZ1bmN0aW9uXCI9PXR5cGVvZiB1LnR5cGUmJih1Ll9fZD1hKX1lbHNlIGEmJm0uX19lPT1hJiZhLnBhcmVudE5vZGUhPW4mJihhPXcobSkpfWlmKHUuX19lPWIsbnVsbCE9ciYmXCJmdW5jdGlvblwiIT10eXBlb2YgdS50eXBlKWZvcihoPXIubGVuZ3RoO2gtLTspbnVsbCE9cltoXSYmdihyW2hdKTtmb3IoaD1DO2gtLTspbnVsbCE9UFtoXSYmRChQW2hdLFBbaF0pO2lmKHgpZm9yKGg9MDtoPHgubGVuZ3RoO2grKylqKHhbaF0seFsrK2hdLHhbKytoXSl9ZnVuY3Rpb24geChuKXtyZXR1cm4gbnVsbD09bnx8XCJib29sZWFuXCI9PXR5cGVvZiBuP1tdOkFycmF5LmlzQXJyYXkobik/Yy5jb25jYXQuYXBwbHkoW10sbi5tYXAoeCkpOltuXX1mdW5jdGlvbiBBKG4sbCx1LGksdCl7dmFyIG87Zm9yKG8gaW4gdSlcImNoaWxkcmVuXCI9PT1vfHxcImtleVwiPT09b3x8byBpbiBsfHxDKG4sbyxudWxsLHVbb10saSk7Zm9yKG8gaW4gbCl0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBsW29dfHxcImNoaWxkcmVuXCI9PT1vfHxcImtleVwiPT09b3x8XCJ2YWx1ZVwiPT09b3x8XCJjaGVja2VkXCI9PT1vfHx1W29dPT09bFtvXXx8QyhuLG8sbFtvXSx1W29dLGkpfWZ1bmN0aW9uIFAobixsLHUpe1wiLVwiPT09bFswXT9uLnNldFByb3BlcnR5KGwsdSk6bltsXT1cIm51bWJlclwiPT10eXBlb2YgdSYmITE9PT1hLnRlc3QobCk/dStcInB4XCI6bnVsbD09dT9cIlwiOnV9ZnVuY3Rpb24gQyhuLGwsdSxpLHQpe3ZhciBvLHIsZixlLGM7aWYodD9cImNsYXNzTmFtZVwiPT09bCYmKGw9XCJjbGFzc1wiKTpcImNsYXNzXCI9PT1sJiYobD1cImNsYXNzTmFtZVwiKSxcInN0eWxlXCI9PT1sKWlmKG89bi5zdHlsZSxcInN0cmluZ1wiPT10eXBlb2YgdSlvLmNzc1RleHQ9dTtlbHNle2lmKFwic3RyaW5nXCI9PXR5cGVvZiBpJiYoby5jc3NUZXh0PVwiXCIsaT1udWxsKSxpKWZvcihlIGluIGkpdSYmZSBpbiB1fHxQKG8sZSxcIlwiKTtpZih1KWZvcihjIGluIHUpaSYmdVtjXT09PWlbY118fFAobyxjLHVbY10pfWVsc2VcIm9cIj09PWxbMF0mJlwiblwiPT09bFsxXT8ocj1sIT09KGw9bC5yZXBsYWNlKC9DYXB0dXJlJC8sXCJcIikpLGY9bC50b0xvd2VyQ2FzZSgpLGw9KGYgaW4gbj9mOmwpLnNsaWNlKDIpLHU/KGl8fG4uYWRkRXZlbnRMaXN0ZW5lcihsLE4sciksKG4ubHx8KG4ubD17fSkpW2xdPXUpOm4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihsLE4scikpOlwibGlzdFwiIT09bCYmXCJ0YWdOYW1lXCIhPT1sJiZcImZvcm1cIiE9PWwmJlwidHlwZVwiIT09bCYmXCJzaXplXCIhPT1sJiYhdCYmbCBpbiBuP25bbF09bnVsbD09dT9cIlwiOnU6XCJmdW5jdGlvblwiIT10eXBlb2YgdSYmXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiIT09bCYmKGwhPT0obD1sLnJlcGxhY2UoL154bGluazo/LyxcIlwiKSk/bnVsbD09dXx8ITE9PT11P24ucmVtb3ZlQXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsbC50b0xvd2VyQ2FzZSgpKTpuLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLGwudG9Mb3dlckNhc2UoKSx1KTpudWxsPT11fHwhMT09PXUmJiEvXmFyLy50ZXN0KGwpP24ucmVtb3ZlQXR0cmlidXRlKGwpOm4uc2V0QXR0cmlidXRlKGwsdSkpfWZ1bmN0aW9uIE4obCl7dGhpcy5sW2wudHlwZV0obi5ldmVudD9uLmV2ZW50KGwpOmwpfWZ1bmN0aW9uIHoobCx1LGksdCxvLHIsZixlLGMpe3ZhciBhLHYsaCx5LHAsdyxrLGcsXyx4LEEsUD11LnR5cGU7aWYodm9pZCAwIT09dS5jb25zdHJ1Y3RvcilyZXR1cm4gbnVsbDsoYT1uLl9fYikmJmEodSk7dHJ5e246aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUCl7aWYoZz11LnByb3BzLF89KGE9UC5jb250ZXh0VHlwZSkmJnRbYS5fX2NdLHg9YT9fP18ucHJvcHMudmFsdWU6YS5fXzp0LGkuX19jP2s9KHY9dS5fX2M9aS5fX2MpLl9fPXYuX19FOihcInByb3RvdHlwZVwiaW4gUCYmUC5wcm90b3R5cGUucmVuZGVyP3UuX19jPXY9bmV3IFAoZyx4KToodS5fX2M9dj1uZXcgbShnLHgpLHYuY29uc3RydWN0b3I9UCx2LnJlbmRlcj1FKSxfJiZfLnN1Yih2KSx2LnByb3BzPWcsdi5zdGF0ZXx8KHYuc3RhdGU9e30pLHYuY29udGV4dD14LHYuX19uPXQsaD12Ll9fZD0hMCx2Ll9faD1bXSksbnVsbD09di5fX3MmJih2Ll9fcz12LnN0YXRlKSxudWxsIT1QLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmKHYuX19zPT12LnN0YXRlJiYodi5fX3M9cyh7fSx2Ll9fcykpLHModi5fX3MsUC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoZyx2Ll9fcykpKSx5PXYucHJvcHMscD12LnN0YXRlLGgpbnVsbD09UC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJm51bGwhPXYuY29tcG9uZW50V2lsbE1vdW50JiZ2LmNvbXBvbmVudFdpbGxNb3VudCgpLG51bGwhPXYuY29tcG9uZW50RGlkTW91bnQmJnYuX19oLnB1c2godi5jb21wb25lbnREaWRNb3VudCk7ZWxzZXtpZihudWxsPT1QLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmZyE9PXkmJm51bGwhPXYuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmdi5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKGcseCksIXYuX19lJiZudWxsIT12LnNob3VsZENvbXBvbmVudFVwZGF0ZSYmITE9PT12LnNob3VsZENvbXBvbmVudFVwZGF0ZShnLHYuX19zLHgpfHx1Ll9fdj09PWkuX192KXtmb3Iodi5wcm9wcz1nLHYuc3RhdGU9di5fX3MsdS5fX3YhPT1pLl9fdiYmKHYuX19kPSExKSx2Ll9fdj11LHUuX19lPWkuX19lLHUuX19rPWkuX19rLHYuX19oLmxlbmd0aCYmZi5wdXNoKHYpLGE9MDthPHUuX19rLmxlbmd0aDthKyspdS5fX2tbYV0mJih1Ll9fa1thXS5fXz11KTticmVhayBufW51bGwhPXYuY29tcG9uZW50V2lsbFVwZGF0ZSYmdi5jb21wb25lbnRXaWxsVXBkYXRlKGcsdi5fX3MseCksbnVsbCE9di5jb21wb25lbnREaWRVcGRhdGUmJnYuX19oLnB1c2goZnVuY3Rpb24oKXt2LmNvbXBvbmVudERpZFVwZGF0ZSh5LHAsdyl9KX12LmNvbnRleHQ9eCx2LnByb3BzPWcsdi5zdGF0ZT12Ll9fcywoYT1uLl9fcikmJmEodSksdi5fX2Q9ITEsdi5fX3Y9dSx2Ll9fUD1sLGE9di5yZW5kZXIodi5wcm9wcyx2LnN0YXRlLHYuY29udGV4dCksbnVsbCE9di5nZXRDaGlsZENvbnRleHQmJih0PXMocyh7fSx0KSx2LmdldENoaWxkQ29udGV4dCgpKSksaHx8bnVsbD09di5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8KHc9di5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSh5LHApKSxBPW51bGwhPWEmJmEudHlwZT09ZCYmbnVsbD09YS5rZXk/YS5wcm9wcy5jaGlsZHJlbjphLGIobCxBcnJheS5pc0FycmF5KEEpP0E6W0FdLHUsaSx0LG8scixmLGUsYyksdi5iYXNlPXUuX19lLHYuX19oLmxlbmd0aCYmZi5wdXNoKHYpLGsmJih2Ll9fRT12Ll9fPW51bGwpLHYuX19lPSExfWVsc2UgbnVsbD09ciYmdS5fX3Y9PT1pLl9fdj8odS5fX2s9aS5fX2ssdS5fX2U9aS5fX2UpOnUuX19lPSQoaS5fX2UsdSxpLHQsbyxyLGYsYyk7KGE9bi5kaWZmZWQpJiZhKHUpfWNhdGNoKGwpe3UuX192PW51bGwsbi5fX2UobCx1LGkpfXJldHVybiB1Ll9fZX1mdW5jdGlvbiBUKGwsdSl7bi5fX2MmJm4uX19jKHUsbCksbC5zb21lKGZ1bmN0aW9uKHUpe3RyeXtsPXUuX19oLHUuX19oPVtdLGwuc29tZShmdW5jdGlvbihuKXtuLmNhbGwodSl9KX1jYXRjaChsKXtuLl9fZShsLHUuX192KX19KX1mdW5jdGlvbiAkKG4sbCx1LGksdCxvLHIsZil7dmFyIGEscyx2LGgseSxwPXUucHJvcHMsZD1sLnByb3BzO2lmKHQ9XCJzdmdcIj09PWwudHlwZXx8dCxudWxsIT1vKWZvcihhPTA7YTxvLmxlbmd0aDthKyspaWYobnVsbCE9KHM9b1thXSkmJigobnVsbD09PWwudHlwZT8zPT09cy5ub2RlVHlwZTpzLmxvY2FsTmFtZT09PWwudHlwZSl8fG49PXMpKXtuPXMsb1thXT1udWxsO2JyZWFrfWlmKG51bGw9PW4pe2lmKG51bGw9PT1sLnR5cGUpcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGQpO249dD9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLGwudHlwZSk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChsLnR5cGUsZC5pcyYme2lzOmQuaXN9KSxvPW51bGwsZj0hMX1pZihudWxsPT09bC50eXBlKXAhPT1kJiZuLmRhdGEhPWQmJihuLmRhdGE9ZCk7ZWxzZXtpZihudWxsIT1vJiYobz1jLnNsaWNlLmNhbGwobi5jaGlsZE5vZGVzKSksdj0ocD11LnByb3BzfHxlKS5kYW5nZXJvdXNseVNldElubmVySFRNTCxoPWQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsIWYpe2lmKG51bGwhPW8pZm9yKHA9e30seT0wO3k8bi5hdHRyaWJ1dGVzLmxlbmd0aDt5KyspcFtuLmF0dHJpYnV0ZXNbeV0ubmFtZV09bi5hdHRyaWJ1dGVzW3ldLnZhbHVlOyhofHx2KSYmKGgmJnYmJmguX19odG1sPT12Ll9faHRtbHx8KG4uaW5uZXJIVE1MPWgmJmguX19odG1sfHxcIlwiKSl9QShuLGQscCx0LGYpLGg/bC5fX2s9W106KGE9bC5wcm9wcy5jaGlsZHJlbixiKG4sQXJyYXkuaXNBcnJheShhKT9hOlthXSxsLHUsaSxcImZvcmVpZ25PYmplY3RcIiE9PWwudHlwZSYmdCxvLHIsZSxmKSksZnx8KFwidmFsdWVcImluIGQmJnZvaWQgMCE9PShhPWQudmFsdWUpJiZhIT09bi52YWx1ZSYmQyhuLFwidmFsdWVcIixhLHAudmFsdWUsITEpLFwiY2hlY2tlZFwiaW4gZCYmdm9pZCAwIT09KGE9ZC5jaGVja2VkKSYmYSE9PW4uY2hlY2tlZCYmQyhuLFwiY2hlY2tlZFwiLGEscC5jaGVja2VkLCExKSl9cmV0dXJuIG59ZnVuY3Rpb24gaihsLHUsaSl7dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIGw/bCh1KTpsLmN1cnJlbnQ9dX1jYXRjaChsKXtuLl9fZShsLGkpfX1mdW5jdGlvbiBEKGwsdSxpKXt2YXIgdCxvLHI7aWYobi51bm1vdW50JiZuLnVubW91bnQobCksKHQ9bC5yZWYpJiYodC5jdXJyZW50JiZ0LmN1cnJlbnQhPT1sLl9fZXx8aih0LG51bGwsdSkpLGl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGwudHlwZXx8KGk9bnVsbCE9KG89bC5fX2UpKSxsLl9fZT1sLl9fZD12b2lkIDAsbnVsbCE9KHQ9bC5fX2MpKXtpZih0LmNvbXBvbmVudFdpbGxVbm1vdW50KXRyeXt0LmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2gobCl7bi5fX2UobCx1KX10LmJhc2U9dC5fX1A9bnVsbH1pZih0PWwuX19rKWZvcihyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXSYmRCh0W3JdLHUsaSk7bnVsbCE9byYmdihvKX1mdW5jdGlvbiBFKG4sbCx1KXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihuLHUpfWZ1bmN0aW9uIEgobCx1LGkpe3ZhciB0LG8sZjtuLl9fJiZuLl9fKGwsdSksbz0odD1pPT09cik/bnVsbDppJiZpLl9fa3x8dS5fX2ssbD1oKGQsbnVsbCxbbF0pLGY9W10seih1LCh0P3U6aXx8dSkuX19rPWwsb3x8ZSxlLHZvaWQgMCE9PXUub3duZXJTVkdFbGVtZW50LGkmJiF0P1tpXTpvP251bGw6dS5jaGlsZE5vZGVzLmxlbmd0aD9jLnNsaWNlLmNhbGwodS5jaGlsZE5vZGVzKTpudWxsLGYsaXx8ZSx0KSxUKGYsbCl9ZnVuY3Rpb24gSShuLGwpe0gobixsLHIpfWZ1bmN0aW9uIEwobixsKXt2YXIgdSxpO2ZvcihpIGluIGw9cyhzKHt9LG4ucHJvcHMpLGwpLGFyZ3VtZW50cy5sZW5ndGg+MiYmKGwuY2hpbGRyZW49Yy5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSksdT17fSxsKVwia2V5XCIhPT1pJiZcInJlZlwiIT09aSYmKHVbaV09bFtpXSk7cmV0dXJuIHkobi50eXBlLHUsbC5rZXl8fG4ua2V5LGwucmVmfHxuLnJlZixudWxsKX1mdW5jdGlvbiBNKG4pe3ZhciBsPXt9LHU9e19fYzpcIl9fY0NcIitmKyssX186bixDb25zdW1lcjpmdW5jdGlvbihuLGwpe3JldHVybiBuLmNoaWxkcmVuKGwpfSxQcm92aWRlcjpmdW5jdGlvbihuKXt2YXIgaSx0PXRoaXM7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb250ZXh0fHwoaT1bXSx0aGlzLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiBsW3UuX19jXT10LGx9LHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlPWZ1bmN0aW9uKG4pe3QucHJvcHMudmFsdWUhPT1uLnZhbHVlJiZpLnNvbWUoZnVuY3Rpb24obCl7bC5jb250ZXh0PW4udmFsdWUsZyhsKX0pfSx0aGlzLnN1Yj1mdW5jdGlvbihuKXtpLnB1c2gobik7dmFyIGw9bi5jb21wb25lbnRXaWxsVW5tb3VudDtuLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7aS5zcGxpY2UoaS5pbmRleE9mKG4pLDEpLGwmJmwuY2FsbChuKX19KSxuLmNoaWxkcmVufX07cmV0dXJuIHUuQ29uc3VtZXIuY29udGV4dFR5cGU9dSx1LlByb3ZpZGVyLl9fPXUsdX1uPXtfX2U6ZnVuY3Rpb24obixsKXtmb3IodmFyIHUsaTtsPWwuX187KWlmKCh1PWwuX19jKSYmIXUuX18pdHJ5e2lmKHUuY29uc3RydWN0b3ImJm51bGwhPXUuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yJiYoaT0hMCx1LnNldFN0YXRlKHUuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKG4pKSksbnVsbCE9dS5jb21wb25lbnREaWRDYXRjaCYmKGk9ITAsdS5jb21wb25lbnREaWRDYXRjaChuKSksaSlyZXR1cm4gZyh1Ll9fRT11KX1jYXRjaChsKXtuPWx9dGhyb3cgbn19LGw9ZnVuY3Rpb24obil7cmV0dXJuIG51bGwhPW4mJnZvaWQgMD09PW4uY29uc3RydWN0b3J9LG0ucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKG4sbCl7dmFyIHU7dT10aGlzLl9fcyE9PXRoaXMuc3RhdGU/dGhpcy5fX3M6dGhpcy5fX3M9cyh7fSx0aGlzLnN0YXRlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYobj1uKHUsdGhpcy5wcm9wcykpLG4mJnModSxuKSxudWxsIT1uJiZ0aGlzLl9fdiYmKGwmJnRoaXMuX19oLnB1c2gobCksZyh0aGlzKSl9LG0ucHJvdG90eXBlLmZvcmNlVXBkYXRlPWZ1bmN0aW9uKG4pe3RoaXMuX192JiYodGhpcy5fX2U9ITAsbiYmdGhpcy5fX2gucHVzaChuKSxnKHRoaXMpKX0sbS5wcm90b3R5cGUucmVuZGVyPWQsdT1bXSxpPTAsdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm9taXNlP1Byb21pc2UucHJvdG90eXBlLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSk6c2V0VGltZW91dCxyPWUsZj0wO2V4cG9ydHtIIGFzIHJlbmRlcixJIGFzIGh5ZHJhdGUsaCBhcyBjcmVhdGVFbGVtZW50LGgsZCBhcyBGcmFnbWVudCxwIGFzIGNyZWF0ZVJlZixsIGFzIGlzVmFsaWRFbGVtZW50LG0gYXMgQ29tcG9uZW50LEwgYXMgY2xvbmVFbGVtZW50LE0gYXMgY3JlYXRlQ29udGV4dCx4IGFzIHRvQ2hpbGRBcnJheSxEIGFzIF91bm1vdW50LG4gYXMgb3B0aW9uc307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVhY3QubW9kdWxlLmpzLm1hcFxuIiwgImV4cG9ydCBmdW5jdGlvbiBpbmplY3RDc3MoY3NzOiBzdHJpbmcpIHtcbiAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgY29uc3Qgc3R5bGVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgc3R5bGVFbC5hcHBlbmRDaGlsZChzdHlsZVRleHQpO1xuICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xufVxuIiwgImV4cG9ydCBlbnVtIFNUQUdFUyB7XG4gIENIT09TRV9GUkFNRVMsXG4gIFBSRVZJRVdfT1VUUFVULFxuICBSRVNQT05TSVZFX1BSRVZJRVcsXG4gIFNBVkVfT1VUUFVULFxufVxuXG5leHBvcnQgZW51bSBNU0dfRVZFTlRTIHtcbiAgRE9NX1JFQURZLFxuICBOT19GUkFNRVMsXG4gIEZPVU5EX0ZSQU1FUyxcbiAgUkVTSVpFLFxuICBSRU5ERVIsXG4gIENMT1NFLFxuICBFUlJPUixcbiAgVVBEQVRFX0hFQURMSU5FUyxcbiAgQ09NUFJFU1NfSU1BR0UsXG4gIENPTVBSRVNTRURfSU1BR0UsXG59XG5cbmV4cG9ydCBlbnVtIE9VVFBVVF9GT1JNQVRTIHtcbiAgSU5MSU5FLFxuICBJRlJBTUUsXG59XG5cbmV4cG9ydCBjb25zdCBVSV9URVhUID0ge1xuICBFUlJPUl9VTkVYUEVDVEVEOiBcIlVuZXhwZWN0ZWQgZXJyb3JcIixcbiAgRVJST1JfTUlTU0lOR19GUkFNRVM6IFwiTm8gZnJhbWVzIGZvdW5kLiBQbGVhc2UgYWRkIHNvbWUgZnJhbWVzIHRvIHRoZSBwYWdlLlwiLFxuICBXQVJOX05PX1RBUkdFVFM6IFwiU3RhbmRhcmQgZnJhbWVzIG5vdCBmb3VuZC4gUGxlYXNlIHNlbGVjdCB0YXJnZXQgZnJhbWVzLlwiLFxuICBXQVJOX1RPT19NQU5ZX1RBUkdFVFM6IFwiUGxlYXNlIHNlbGVjdCB0aHJlZSB0YXJnZXQgZnJhbWVzXCIsXG4gIElORk9fUFJFVklFVzogXCJQcmV2aWV3IGVhY2ggZnJhbWUgb3V0cHV0XCIsXG4gIFRJVExFX0NIT09TRV9GUkFNRTogXCJDaG9vc2Ugd2hpY2ggZnJhbWVzIHRvIGV4cG9ydFwiLFxuICBUSVRMRV9QUkVWSUVXOiBcIlByZXZpZXdcIixcbiAgVElUTEVfUkVTUE9OU0lWRV9QUkVWSUVXOiBcIlJlc3BvbnNpdmUgcHJldmlld1wiLFxuICBUSUxFX09VVFBVVDogXCJFeHBvcnRcIixcbiAgQlVUVE9OX05FWFQ6IFwiTmV4dFwiLFxuICBCVVRUT05fRE9XTkxPQUQ6IFwiRG93bmxvYWRcIixcbiAgQlVUVE9OX1BSRVZJT1VTOiBcIkJhY2tcIixcbn07XG5cbmV4cG9ydCBjb25zdCBJTklUSUFMX1VJX1NJWkUgPSB7XG4gIHdpZHRoOiA0ODAsXG4gIGhlaWdodDogNTAwLFxuICBtYXhXaWR0aDogMTIwMCxcbiAgbWF4SGVpZ2h0OiA5MDAsXG4gIG1pbldpZHRoOiA0MjAsXG4gIG1pbkhlaWdodDogNDgwLFxufTtcblxuZXhwb3J0IGNvbnN0IEZSQU1FX1dBUk5JTkdfU0laRSA9IDMwMDtcblxuZXhwb3J0IGVudW0gSEVBRExJTkVfTk9ERV9OQU1FUyB7XG4gIEhFQURMSU5FID0gXCJoZWFkbGluZVwiLFxuICBTVUJIRUFEID0gXCJzdWJoZWFkXCIsXG4gIFNPVVJDRSA9IFwic291cmNlXCIsXG59XG4iLCAiaW1wb3J0IHsgaCwgRnJhZ21lbnQgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBTVEFHRVMsIFVJX1RFWFQsIEZSQU1FX1dBUk5JTkdfU0laRSB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IEZyYW1lRGF0YVR5cGUgfSBmcm9tIFwidHlwZXNcIjtcblxuZnVuY3Rpb24gRnJhbWVJbmZvKHByb3BzOiB7IGZyYW1lOiBGcmFtZURhdGFUeXBlIHwgZmFsc2UgfSkge1xuICBpZiAoIXByb3BzLmZyYW1lKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCB7XG4gICAgbmFtZSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgc3ZnLFxuICAgIHJlc3BvbnNpdmUsXG4gICAgc3ZnQ29tcHJlc3NlZCxcbiAgICBzdmdPcHRpbWlzZWQsXG4gIH0gPSBwcm9wcy5mcmFtZTtcblxuICBjb25zdCByZW5kZXJDaGFyQ291bnQgPVxuICAgIChzdmdPcHRpbWlzZWQgPyBzdmdDb21wcmVzc2VkPy5sZW5ndGggOiBzdmc/Lmxlbmd0aCkgfHwgMDtcbiAgY29uc3QgZmlsZUtiU2l6ZSA9IHJlbmRlckNoYXJDb3VudCAvIDEwMDA7XG4gIGNvbnN0IGlzRmlsZUxhcmdlID0gZmlsZUtiU2l6ZSA+IEZSQU1FX1dBUk5JTkdfU0laRTtcbiAgbGV0IGZpbGVTaXplQ2xhc3NOYW1lID0gXCJmMmhfX2ZpbGVfc2l6ZVwiO1xuICBpZiAoaXNGaWxlTGFyZ2UpIHtcbiAgICBmaWxlU2l6ZUNsYXNzTmFtZSArPSBcIiBmMmhfX2ZpbGVfc2l6ZSBmMmhfX25vdGljZS0tZXJyb3JcIjtcbiAgfVxuXG4gIGxldCByZXNwb25zaXZlQ2xhc3NOYW1lID0gXCJmMmhfX2luZm9fcmVzcG9uc2l2ZVwiO1xuICBpZiAocmVzcG9uc2l2ZSA9PT0gZmFsc2UpIHtcbiAgICByZXNwb25zaXZlQ2xhc3NOYW1lICs9IFwiIGYyaF9faW5mb19yZXNwb25zaXZlLS1ub1wiO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJmMmhfX2luZm9cIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImYyaF9faW5mb190aXRsZVwiPiZxdW90ZTt7bmFtZX0mcXVvdGU7PC9zcGFuPntcIiBcIn1cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImYyaF9faW5mb19tZXRhXCI+XG4gICAgICAgIHt3aWR0aH0geCB7aGVpZ2h0fSx7XCIgXCJ9XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17cmVzcG9uc2l2ZUNsYXNzTmFtZX0+cmVzcG9uc2l2ZTwvc3Bhbj4se1wiIFwifVxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2ZpbGVTaXplQ2xhc3NOYW1lfT57ZmlsZUtiU2l6ZS50b0ZpeGVkKDIpfWtCPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIDwvcD5cbiAgKTtcbn1cblxudHlwZSBIZWFkZXJQcm9wcyA9IHtcbiAgc3RhZ2U6IFNUQUdFUztcbiAgaGFuZGxlTmV4dENsaWNrOiAoKSA9PiB2b2lkO1xuICBoYW5kbGVCYWNrQ2xpY2s6ICgpID0+IHZvaWQ7XG4gIGhhbmRsZU9wdGltc2VDbGljazogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGRpc2FibGVOZXh0OiBib29sZWFuO1xuICBmcmFtZTogRnJhbWVEYXRhVHlwZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBIZWFkZXIocHJvcHM6IEhlYWRlclByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBzdGFnZSxcbiAgICBoYW5kbGVCYWNrQ2xpY2ssXG4gICAgaGFuZGxlTmV4dENsaWNrLFxuICAgIGRpc2FibGVOZXh0LFxuICAgIGZyYW1lLFxuICAgIGhhbmRsZU9wdGltc2VDbGljayxcbiAgfSA9IHByb3BzO1xuXG4gIGxldCB0aXRsZTtcbiAgbGV0IG5leHRUZXh0O1xuICBsZXQgYmFja1RleHQ7XG5cbiAgc3dpdGNoIChzdGFnZSkge1xuICAgIGNhc2UgU1RBR0VTLkNIT09TRV9GUkFNRVM6XG4gICAgICB0aXRsZSA9IFVJX1RFWFQuVElUTEVfQ0hPT1NFX0ZSQU1FO1xuICAgICAgbmV4dFRleHQgPSBVSV9URVhULkJVVFRPTl9ORVhUO1xuICAgICAgYmFja1RleHQgPSBVSV9URVhULkJVVFRPTl9QUkVWSU9VUztcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXOlxuICAgICAgdGl0bGUgPSBVSV9URVhULlRJVExFX1JFU1BPTlNJVkVfUFJFVklFVztcbiAgICAgIG5leHRUZXh0ID0gVUlfVEVYVC5CVVRUT05fTkVYVDtcbiAgICAgIGJhY2tUZXh0ID0gVUlfVEVYVC5CVVRUT05fUFJFVklPVVM7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU1RBR0VTLlBSRVZJRVdfT1VUUFVUOlxuICAgICAgdGl0bGUgPSBgJHtVSV9URVhULlRJVExFX1BSRVZJRVd9YDtcbiAgICAgIG5leHRUZXh0ID0gVUlfVEVYVC5CVVRUT05fTkVYVDtcbiAgICAgIGJhY2tUZXh0ID0gVUlfVEVYVC5CVVRUT05fUFJFVklPVVM7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU1RBR0VTLlNBVkVfT1VUUFVUOlxuICAgICAgdGl0bGUgPSBVSV9URVhULlRJTEVfT1VUUFVUO1xuICAgICAgYmFja1RleHQgPSBVSV9URVhULkJVVFRPTl9QUkVWSU9VUztcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImYyaF9faGVhZGVyXCI+XG4gICAgICA8aDEgY2xhc3NOYW1lPVwiZjJoX190aXRsZVwiPnt0aXRsZX08L2gxPlxuXG4gICAgICB7c3RhZ2UgPT09IFNUQUdFUy5QUkVWSUVXX09VVFBVVCAmJiAoXG4gICAgICAgIDxGcmFnbWVudD5cbiAgICAgICAgICA8RnJhbWVJbmZvIGZyYW1lPXtmcmFtZX0gLz5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZjJoX19zdmdfb3B0aW1pc2VcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBjaGVja2VkPXtmcmFtZS5zdmdPcHRpbWlzZWR9XG4gICAgICAgICAgICAgIG5hbWU9XCJvcHRpbWlzZVwiXG4gICAgICAgICAgICAgIGlkPVwib3B0aW1pc2VcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVPcHRpbXNlQ2xpY2soZnJhbWUuaWQpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxzcGFuPk9wdGltaXNlIFNWRzwvc3Bhbj5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgKX1cblxuICAgICAgPG5hdiBjbGFzc05hbWU9XCJmMmhfX25hdlwiPlxuICAgICAgICB7c3RhZ2UgIT09IFNUQUdFUy5DSE9PU0VfRlJBTUVTICYmIChcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImYyaF9fYnRuIGJ0bi0tc2Vjb25kYXJ5XCIgb25DbGljaz17aGFuZGxlQmFja0NsaWNrfT5cbiAgICAgICAgICAgIHtiYWNrVGV4dH1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKX1cblxuICAgICAgICB7bmV4dFRleHQgJiYgKFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImYyaF9fYnRuIGJ0bi0tcHJpbWFyeVwiXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVOZXh0Q2xpY2t9XG4gICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZU5leHR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge25leHRUZXh0fVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgPC9uYXY+XG4gICAgPC9oZWFkZXI+XG4gICk7XG59XG4iLCAiaW1wb3J0e29wdGlvbnMgYXMgZSxGcmFnbWVudCBhcyB0LGNyZWF0ZUVsZW1lbnQgYXMgcn1mcm9tXCJwcmVhY3RcIjt2YXIgbj0vYWNpdHxleCg/OnN8Z3xufHB8JCl8cnBofGdyaWR8b3dzfG1uY3xudHd8aW5lW2NoXXx6b298Xm9yZHxeLS0vaSxvPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIil9LGE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2UoLyhcXG4rKS9nLFwiJDFcIisodHx8XCJcXHRcIikpfSxpPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gU3RyaW5nKGUpLmxlbmd0aD4odHx8NDApfHwhciYmLTEhPT1TdHJpbmcoZSkuaW5kZXhPZihcIlxcblwiKXx8LTEhPT1TdHJpbmcoZSkuaW5kZXhPZihcIjxcIil9LGw9e307ZnVuY3Rpb24gcyhlKXt2YXIgdD1cIlwiO2Zvcih2YXIgciBpbiBlKXt2YXIgbz1lW3JdO251bGwhPW8mJih0JiYodCs9XCIgXCIpLHQrPVwiLVwiPT1yWzBdP3I6bFtyXXx8KGxbcl09ci5yZXBsYWNlKC8oW0EtWl0pL2csXCItJDFcIikudG9Mb3dlckNhc2UoKSksdCs9XCI6IFwiLHQrPW8sXCJudW1iZXJcIj09dHlwZW9mIG8mJiExPT09bi50ZXN0KHIpJiYodCs9XCJweFwiKSx0Kz1cIjtcIil9cmV0dXJuIHR8fHZvaWQgMH1mdW5jdGlvbiBmKGUsdCl7Zm9yKHZhciByIGluIHQpZVtyXT10W3JdO3JldHVybiBlfWZ1bmN0aW9uIGMoZSx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90LnJlZHVjZShjLGUpOm51bGwhPXQmJiExIT09dCYmZS5wdXNoKHQpLGV9dmFyIHA9e3NoYWxsb3c6ITB9LHU9W10sXz0vXihhcmVhfGJhc2V8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW18c291cmNlfHRyYWNrfHdicikkLyxnPWZ1bmN0aW9uKCl7fTt2LnJlbmRlcj12O3ZhciBoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYoZSx0LHApfTtmdW5jdGlvbiB2KG4sbCxwLGgsZCxtKXtpZihudWxsPT1ufHxcImJvb2xlYW5cIj09dHlwZW9mIG4pcmV0dXJuXCJcIjtBcnJheS5pc0FycmF5KG4pJiYobj1yKHQsbnVsbCxuKSk7dmFyIHg9bi50eXBlLHk9bi5wcm9wcyxiPSExO2w9bHx8e307dmFyIFMsdz0ocD1wfHx7fSkucHJldHR5LGs9dyYmXCJzdHJpbmdcIj09dHlwZW9mIHc/dzpcIlxcdFwiO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBuJiYheClyZXR1cm4gbyhuKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB4KXtpZihiPSEwLCFwLnNoYWxsb3d8fCFoJiYhMSE9PXAucmVuZGVyUm9vdENvbXBvbmVudCl7aWYoeD09PXQpe3ZhciBPPVwiXCIsQz1bXTtjKEMsbi5wcm9wcy5jaGlsZHJlbik7Zm9yKHZhciBBPTA7QTxDLmxlbmd0aDtBKyspTys9KEE+MCYmdz9cIlxcblwiOlwiXCIpK3YoQ1tBXSxsLHAsITEhPT1wLnNoYWxsb3dIaWdoT3JkZXIsZCxtKTtyZXR1cm4gT312YXIgSCxqPW4uX19jPXtfX3Y6bixjb250ZXh0OmwscHJvcHM6bi5wcm9wcyxzZXRTdGF0ZTpnLGZvcmNlVXBkYXRlOmcsX19oOltdfTtpZihlLl9fciYmZS5fX3IobikseC5wcm90b3R5cGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHgucHJvdG90eXBlLnJlbmRlcil7dmFyIEY9eC5jb250ZXh0VHlwZSwkPUYmJmxbRi5fX2NdLEw9bnVsbCE9Rj8kPyQucHJvcHMudmFsdWU6Ri5fXzpsOyhqPW4uX19jPW5ldyB4KHksTCkpLl9fdj1uLGouX2RpcnR5PWouX19kPSEwLGoucHJvcHM9eSxudWxsPT1qLnN0YXRlJiYoai5zdGF0ZT17fSksbnVsbD09ai5fbmV4dFN0YXRlJiZudWxsPT1qLl9fcyYmKGouX25leHRTdGF0ZT1qLl9fcz1qLnN0YXRlKSxqLmNvbnRleHQ9TCx4LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcz9qLnN0YXRlPWYoZih7fSxqLnN0YXRlKSx4LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhqLnByb3BzLGouc3RhdGUpKTpqLmNvbXBvbmVudFdpbGxNb3VudCYmai5jb21wb25lbnRXaWxsTW91bnQoKSxqLnN0YXRlPWouX25leHRTdGF0ZSE9PWouc3RhdGU/ai5fbmV4dFN0YXRlOmouX19zIT09ai5zdGF0ZT9qLl9fczpqLnN0YXRlLEg9ai5yZW5kZXIoai5wcm9wcyxqLnN0YXRlLGouY29udGV4dCl9ZWxzZXt2YXIgTT14LmNvbnRleHRUeXBlLFQ9TSYmbFtNLl9fY107SD14LmNhbGwobi5fX2MseSxudWxsIT1NP1Q/VC5wcm9wcy52YWx1ZTpNLl9fOmwpfXJldHVybiBqLmdldENoaWxkQ29udGV4dCYmKGw9ZihmKHt9LGwpLGouZ2V0Q2hpbGRDb250ZXh0KCkpKSx2KEgsbCxwLCExIT09cC5zaGFsbG93SGlnaE9yZGVyLGQsbSl9eD0oUz14KS5kaXNwbGF5TmFtZXx8UyE9PUZ1bmN0aW9uJiZTLm5hbWV8fGZ1bmN0aW9uKGUpe3ZhciB0PShGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5tYXRjaCgvXlxccypmdW5jdGlvblxccysoW14oIF0rKS8pfHxcIlwiKVsxXTtpZighdCl7Zm9yKHZhciByPS0xLG49dS5sZW5ndGg7bi0tOylpZih1W25dPT09ZSl7cj1uO2JyZWFrfXI8MCYmKHI9dS5wdXNoKGUpLTEpLHQ9XCJVbm5hbWVkQ29tcG9uZW50XCIrcn1yZXR1cm4gdH0oUyl9dmFyIEQsTj1cIlwiO2lmKHkpe3ZhciBQPU9iamVjdC5rZXlzKHkpO3AmJiEwPT09cC5zb3J0QXR0cmlidXRlcyYmUC5zb3J0KCk7Zm9yKHZhciBSPTA7UjxQLmxlbmd0aDtSKyspe3ZhciBVPVBbUl0sVz15W1VdO2lmKFwiY2hpbGRyZW5cIiE9PVUmJighVS5tYXRjaCgvW1xcc1xcblxcXFwvPSdcIlxcMDw+XS8pJiYocCYmcC5hbGxBdHRyaWJ1dGVzfHxcImtleVwiIT09VSYmXCJyZWZcIiE9PVUmJlwiX19zZWxmXCIhPT1VJiZcIl9fc291cmNlXCIhPT1VKSkpe2lmKFwiY2xhc3NOYW1lXCI9PT1VKXtpZih5LmNsYXNzKWNvbnRpbnVlO1U9XCJjbGFzc1wifWVsc2UgZCYmVS5tYXRjaCgvXnhsaW5rOj8uLykmJihVPVUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9eeGxpbms6Py8sXCJ4bGluazpcIikpO2lmKFwiaHRtbEZvclwiPT09VSl7aWYoeS5mb3IpY29udGludWU7VT1cImZvclwifVwic3R5bGVcIj09PVUmJlcmJlwib2JqZWN0XCI9PXR5cGVvZiBXJiYoVz1zKFcpKTt2YXIgcT1wLmF0dHJpYnV0ZUhvb2smJnAuYXR0cmlidXRlSG9vayhVLFcsbCxwLGIpO2lmKHF8fFwiXCI9PT1xKU4rPXE7ZWxzZSBpZihcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1VKUQ9VyYmVy5fX2h0bWw7ZWxzZSBpZigoV3x8MD09PVd8fFwiXCI9PT1XKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgVyl7aWYoISghMCE9PVcmJlwiXCIhPT1XfHwoVz1VLHAmJnAueG1sKSkpe04rPVwiIFwiK1U7Y29udGludWV9aWYoXCJ2YWx1ZVwiPT09VSl7aWYoXCJzZWxlY3RcIj09PXgpe209Vztjb250aW51ZX1cIm9wdGlvblwiPT09eCYmbT09VyYmKE4rPVwiIHNlbGVjdGVkXCIpfU4rPVwiIFwiK1UrJz1cIicrbyhXKSsnXCInfX19fWlmKHcpe3ZhciB6PU4ucmVwbGFjZSgvXlxcblxccyovLFwiIFwiKTt6PT09Tnx8fnouaW5kZXhPZihcIlxcblwiKT93JiZ+Ti5pbmRleE9mKFwiXFxuXCIpJiYoTis9XCJcXG5cIik6Tj16fWlmKE49XCI8XCIreCtOK1wiPlwiLFN0cmluZyh4KS5tYXRjaCgvW1xcc1xcblxcXFwvPSdcIlxcMDw+XS8pKXRocm93IG5ldyBFcnJvcih4K1wiIGlzIG5vdCBhIHZhbGlkIEhUTUwgdGFnIG5hbWUgaW4gXCIrTik7dmFyIEU9U3RyaW5nKHgpLm1hdGNoKF8pO0UmJihOPU4ucmVwbGFjZSgvPiQvLFwiIC8+XCIpKTt2YXIgSSxaPVtdO2lmKEQpdyYmaShEKSYmKEQ9XCJcXG5cIitrK2EoRCxrKSksTis9RDtlbHNlIGlmKHkmJmMoST1bXSx5LmNoaWxkcmVuKS5sZW5ndGgpe2Zvcih2YXIgQj13JiZ+Ti5pbmRleE9mKFwiXFxuXCIpLEc9ITEsSj0wO0o8SS5sZW5ndGg7SisrKXt2YXIgSz1JW0pdO2lmKG51bGwhPUsmJiExIT09Syl7dmFyIFE9dihLLGwscCwhMCxcInN2Z1wiPT09eHx8XCJmb3JlaWduT2JqZWN0XCIhPT14JiZkLG0pO2lmKHcmJiFCJiZpKFEpJiYoQj0hMCksUSlpZih3KXt2YXIgVj1RLmxlbmd0aD4wJiZcIjxcIiE9UVswXTtHJiZWP1pbWi5sZW5ndGgtMV0rPVE6Wi5wdXNoKFEpLEc9Vn1lbHNlIFoucHVzaChRKX19aWYodyYmQilmb3IodmFyIFg9Wi5sZW5ndGg7WC0tOylaW1hdPVwiXFxuXCIraythKFpbWF0sayl9aWYoWi5sZW5ndGgpTis9Wi5qb2luKFwiXCIpO2Vsc2UgaWYocCYmcC54bWwpcmV0dXJuIE4uc3Vic3RyaW5nKDAsTi5sZW5ndGgtMSkrXCIgLz5cIjtyZXR1cm4gRXx8KHcmJn5OLmluZGV4T2YoXCJcXG5cIikmJihOKz1cIlxcblwiKSxOKz1cIjwvXCIreCtcIj5cIiksTn12LnNoYWxsb3dSZW5kZXI9aDtleHBvcnQgZGVmYXVsdCB2O2V4cG9ydHt2IGFzIHJlbmRlcix2IGFzIHJlbmRlclRvU3RyaW5nLGggYXMgc2hhbGxvd1JlbmRlcn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tb2R1bGUuanMubWFwXG4iLCAiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50ICovXG5pbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHJlbmRlciBmcm9tIFwicHJlYWN0LXJlbmRlci10by1zdHJpbmdcIjtcbmltcG9ydCB7IE9VVFBVVF9GT1JNQVRTIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyB0ZXh0RGF0YSwgRnJhbWVEYXRhVHlwZSB9IGZyb20gXCJ0eXBlc1wiO1xuXG4vLyBJbXBvcnQgQ1NTIGZpbGUgYXMgcGxhaW4gdGV4dCB2aWEgZXNidWlsZCBsb2FkZXIgb3B0aW9uXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgZW1iZWRDc3MgZnJvbSBcIi4vZW1iZWQuY3NzXCI7XG4vLyBAdHMtZXhwZWN0LWVycm9yXG5pbXBvcnQgZm9udHNDc3MgZnJvbSBcIi4vZm9udHMuY3NzXCI7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWZyYW1lSHRtbChib2R5OiBzdHJpbmcpIHtcbiAgcmV0dXJuIGBcbiAgICA8IWRvY3R5cGUgaHRtbD5cbiAgICA8aHRtbD5cbiAgICAgIDxoZWFkPlxuICAgICAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCI+XG4gICAgICAgIDxzdHlsZT4gaHRtbCwgYm9keSB7IG1hcmdpbjogMDsgfSA8L3N0eWxlPlxuICAgICAgPC9oZWFkPlxuICAgICAgPGJvZHk+XG4gICAgICAgICR7Ym9keX1cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gIGA7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU3R5bGVUZXh0KFxuICBub2RlOiB0ZXh0RGF0YSxcbiAgZnJhbWVXaWR0aDogbnVtYmVyLFxuICBmcmFtZUhlaWdodDogbnVtYmVyXG4pIHtcbiAgY29uc3Qge1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgZm9udFNpemUsXG4gICAgZm9udEZhbWlseSxcbiAgICBjb2xvdXIsXG4gICAgbGV0dGVyU3BhY2luZyxcbiAgICBsaW5lSGVpZ2h0LFxuICAgIHRleHRBbGlnbkhvcml6b250YWwsXG4gICAgdGV4dEFsaWduVmVydGljYWwsXG4gICAgZm9udFN0eWxlLFxuICB9ID0gbm9kZTtcblxuICAvLyBQb3NpdGlvbiBjZW50ZXIgYWxpZ25lZFxuICBjb25zdCBsZWZ0ID0gYCR7KCh4ICsgd2lkdGggLyAyKSAvIGZyYW1lV2lkdGgpICogMTAwfSVgO1xuICBjb25zdCB0b3AgPSBgJHsoKHkgKyBoZWlnaHQgLyAyKSAvIGZyYW1lSGVpZ2h0KSAqIDEwMH0lYDtcblxuICAvLyBDb2xvdXJcbiAgY29uc3QgeyByLCBnLCBiLCBhIH0gPSBjb2xvdXI7XG4gIGNvbnN0IGNvbG91clZhbHMgPSBbciwgZywgYl0ubWFwKCh2YWwgPSAwKSA9PiBNYXRoLnJvdW5kKHZhbCAqIDI1NSkpO1xuICBjb25zdCB0ZXh0Q29sb3VyID0gYHJnYmEoJHtjb2xvdXJWYWxzLmpvaW4oXCIsXCIpfSwgJHthfSlgO1xuICBjb25zdCBmb250TmFtZSA9IGAke2ZvbnRGYW1pbHl9ICR7Zm9udFN0eWxlfWA7XG5cbiAgY29uc3QgeyB1bml0OiBsZXR0ZXJVbml0LCB2YWx1ZTogbGV0dGVyVmFsIH0gPSBsZXR0ZXJTcGFjaW5nIGFzIHtcbiAgICB2YWx1ZTogbnVtYmVyO1xuICAgIHVuaXQ6IFwiUElYRUxTXCIgfCBcIlBFUkNFTlRcIjtcbiAgfTtcbiAgbGV0IGxldHRlclNwYWNlVmFsdWUgPSBcIjBcIjtcbiAgc3dpdGNoIChsZXR0ZXJVbml0KSB7XG4gICAgY2FzZSBcIlBJWEVMU1wiOlxuICAgICAgLy8gVE9ETzogRklYIE1FXG4gICAgICBpZiAoZm9udEZhbWlseSA9PT0gXCJUZWxlc2FucyBUZXh0XCIpIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAke2xldHRlclZhbCAtIDAuMzN9cHhgO1xuICAgICAgfSBlbHNlIGlmIChmb250RmFtaWx5ID09PSBcIlRlbGVzYW5zIEFnYXRlXCIpIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAke2xldHRlclZhbCAtIDAuMTl9cHhgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAke2xldHRlclZhbH1weGA7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUEVSQ0VOVFwiOlxuICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAke2xldHRlclZhbCAvIDEwMH1lbWA7XG5cbiAgICAgIGlmIChmb250RmFtaWx5ID09PSBcIlRlbGVzYW5zIFRleHRcIikge1xuICAgICAgICBsZXR0ZXJTcGFjZVZhbHVlID0gYCR7bGV0dGVyVmFsIC8gMTAwIC0gMC4wMjJ9ZW1gO1xuICAgICAgfSBlbHNlIGlmIChmb250RmFtaWx5ID09PSBcIlRlbGVzYW5zIEFnYXRlXCIpIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAke2xldHRlclZhbCAvIDEwMCAtIDAuMDE1fWVtYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgJHtsZXR0ZXJWYWwgLyAxMDB9ZW1gO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmIChmb250RmFtaWx5ID09PSBcIlRlbGVzYW5zIFRleHRcIikge1xuICAgICAgICBsZXR0ZXJTcGFjZVZhbHVlID0gXCItMC4zN3B4XCI7XG4gICAgICB9IGVsc2UgaWYgKGZvbnRGYW1pbHkgPT09IFwiVGVsZXNhbnMgQWdhdGVcIikge1xuICAgICAgICBsZXR0ZXJTcGFjZVZhbHVlID0gXCItMC4xOX1weFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAwYDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgY29uc3QgeyB1bml0OiBsaW5lVW5pdCwgdmFsdWU6IGxpbmVWYWwgfSA9IGxpbmVIZWlnaHQgYXMge1xuICAgIHZhbHVlOiBudW1iZXI7XG4gICAgdW5pdDogXCJBVVRPXCIgfCBcIlBJWEVMU1wiIHwgXCJQRVJDRU5UXCI7XG4gIH07XG4gIGxldCBsaW5lSGVpZ2h0VmFsdWUgPSBcImF1dG9cIjtcbiAgc3dpdGNoIChsaW5lVW5pdCkge1xuICAgIGNhc2UgXCJQSVhFTFNcIjpcbiAgICAgIGxpbmVIZWlnaHRWYWx1ZSA9IGAke2xpbmVWYWx9cHhgO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBFUkNFTlRcIjpcbiAgICAgIGxpbmVIZWlnaHRWYWx1ZSA9IGAke2xpbmVWYWwgKiAxLjE1fSVgO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkFVVE9cIjpcbiAgICAgIGxpbmVIZWlnaHRWYWx1ZSA9IFwiMS4yXCI7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGxldCBhbGlnbkl0ZW1zVmFsdWUgPSBcImF1dG9cIjtcbiAgc3dpdGNoICh0ZXh0QWxpZ25WZXJ0aWNhbCkge1xuICAgIGNhc2UgXCJUT1BcIjpcbiAgICAgIGFsaWduSXRlbXNWYWx1ZSA9IFwiZmxleC1zdGFydFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkNFTlRFUlwiOlxuICAgICAgYWxpZ25JdGVtc1ZhbHVlID0gXCJjZW50ZXJcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJCT1RUT01cIjpcbiAgICAgIGFsaWduSXRlbXNWYWx1ZSA9IFwiZmxleC1lbmRcIjtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgbGV0IGp1c3RpZnlJdGVtc1ZhbHVlID0gXCJhdXRvXCI7XG4gIHN3aXRjaCAodGV4dEFsaWduSG9yaXpvbnRhbCkge1xuICAgIGNhc2UgXCJMRUZUXCI6XG4gICAgICBqdXN0aWZ5SXRlbXNWYWx1ZSA9IFwiZmxleC1zdGFydFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkNFTlRFUlwiOlxuICAgICAganVzdGlmeUl0ZW1zVmFsdWUgPSBcImNlbnRlclwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlJJR0hUXCI6XG4gICAgICBqdXN0aWZ5SXRlbXNWYWx1ZSA9IFwiZmxleC1lbmRcIjtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgY29uc3QgbmV3V2lkdGggPSBNYXRoLmNlaWwoKHdpZHRoIC8gZnJhbWVXaWR0aCkgKiAxMDApO1xuXG4gIHJldHVybiBgXG4gICAgICAgIGZvbnQtc2l6ZTogJHtTdHJpbmcoZm9udFNpemUpfXB4O1xuICAgICAgICBmb250LWZhbWlseTogXCIke2ZvbnROYW1lfVwiLCBHZW9yZ2lhLCAnVGltZXMgTmV3IFJvbWFuJywgVGltZXMsIHNlcmlmO1xuICAgICAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGNvbG9yOiAke3RleHRDb2xvdXJ9O1xuICAgICAgICB3aWR0aDogJHtuZXdXaWR0aH0lO1xuICAgICAgICBoZWlnaHQ6ICR7KGhlaWdodCAvIGZyYW1lSGVpZ2h0KSAqIDEwMH0lO1xuICAgICAgICBsZWZ0OiAke2xlZnR9O1xuICAgICAgICB0b3A6ICR7dG9wfTtcbiAgICAgICAgbGluZS1oZWlnaHQ6ICR7bGluZUhlaWdodFZhbHVlfTtcbiAgICAgICAgbGV0dGVyLXNwYWNpbmc6ICR7bGV0dGVyU3BhY2VWYWx1ZX07XG4gICAgICAgIGp1c3RpZnktY29udGVudDogJHtqdXN0aWZ5SXRlbXNWYWx1ZX07XG4gICAgICAgIGFsaWduLWl0ZW1zOiAke2FsaWduSXRlbXNWYWx1ZX07XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBgO1xufVxuXG50eXBlIFRleHRQcm9wcyA9IHtcbiAgbm9kZTogdGV4dERhdGE7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufTtcbmZ1bmN0aW9uIFRleHQocHJvcHM6IFRleHRQcm9wcykge1xuICBjb25zdCB7IG5vZGUsIHdpZHRoLCBoZWlnaHQgfSA9IHByb3BzO1xuXG4gIGNvbnN0IHsgY2hhcmFjdGVycyB9ID0gbm9kZTtcbiAgY29uc3Qgc3R5bGVUZXh0ID0gZ2VuZXJhdGVTdHlsZVRleHQobm9kZSwgd2lkdGgsIGhlaWdodCk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJmMmhfX3RleHRcIiBzdHlsZT17c3R5bGVUZXh0fT5cbiAgICAgIHtjaGFyYWN0ZXJzfVxuICAgIDwvcD5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIEZyYW1lQ29udGFpbmVyUHJvcHMgZXh0ZW5kcyBGcmFtZURhdGFUeXBlIHtcbiAgc2NhbGU/OiBudW1iZXIgfCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBGcmFtZUNvbnRhaW5lcihwcm9wczogRnJhbWVDb250YWluZXJQcm9wcyk6IGguSlNYLkVsZW1lbnQge1xuICBjb25zdCB7XG4gICAgdWlkLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB0ZXh0Tm9kZXMsXG4gICAgc3ZnID0gXCJcIixcbiAgICBzdmdDb21wcmVzc2VkID0gXCJcIixcbiAgICBzdmdPcHRpbWlzZWQsXG4gICAgcmVzcG9uc2l2ZSxcbiAgICBzY2FsZSxcbiAgfSA9IHByb3BzO1xuICBjb25zdCB0ZXh0RWxzID0gdGV4dE5vZGVzLm1hcCgobm9kZSkgPT4gKFxuICAgIDxUZXh0IGtleT17bm9kZS5jaGFyYWN0ZXJzfSBub2RlPXtub2RlfSB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSAvPlxuICApKTtcbiAgY29uc3QgY2xhc3NOYW1lcyA9IGBmMmhfX3JlbmRlciAke1xuICAgIHJlc3BvbnNpdmUgPyBcImYyaF9fcmVuZGVyLS1yZXNwb25zaXZlXCIgOiBcIlwiXG4gIH1gO1xuXG4gIGxldCBzdHlsZSA9IHJlc3BvbnNpdmUgPyBcIlwiIDogYHdpZHRoOiAke3dpZHRofXB4O2A7XG4gIHN0eWxlID0gc2NhbGUgPyBgJHtzdHlsZX0gdHJhbnNmb3JtOiBzY2FsZSgke3NjYWxlfSk7YCA6IHN0eWxlO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXN9IHN0eWxlPXtzdHlsZX0gaWQ9e3VpZH0+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImYyaF9fc3ZnX2NvbnRhaW5lclwiXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogc3ZnT3B0aW1pc2VkID8gc3ZnQ29tcHJlc3NlZCA6IHN2ZyB9fVxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX190ZXh0X2NvbnRhaW5lclwiPnt0ZXh0RWxzfTwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5pbnRlcmZhY2UgcmVuZGVySW5saW5lUHJvcHMge1xuICBmcmFtZXM6IEZyYW1lRGF0YVR5cGVbXTtcbiAgaWZyYW1lOiBPVVRQVVRfRk9STUFUUztcbiAgaGVhZGxpbmU/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHN1YmhlYWQ/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHNvdXJjZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJJbmxpbmUocHJvcHM6IHJlbmRlcklubGluZVByb3BzKTogc3RyaW5nIHtcbiAgY29uc3QgeyBmcmFtZXMsIGlmcmFtZSwgaGVhZGxpbmUsIHN1YmhlYWQsIHNvdXJjZSB9ID0gcHJvcHM7XG4gIGNvbnN0IG1lZGlhUXVlcnkgPSBnZW5yZWF0ZU1lZGlhUXVlcmllcyhmcmFtZXMpO1xuXG4gIGNvbnN0IHJlbmRlcmVkRnJhbWVzID0gZnJhbWVzLm1hcCgoZnJhbWUpID0+IChcbiAgICA8RnJhbWVDb250YWluZXIga2V5PXtmcmFtZS51aWR9IHsuLi5mcmFtZX0gLz5cbiAgKSk7XG5cbiAgbGV0IGh0bWwgPSByZW5kZXIoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX2VtYmVkXCI+XG4gICAgICA8c3R5bGVcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICBfX2h0bWw6IGBcbiAgICAgICAke2ZvbnRzQ3NzfVxuICAgICAgICR7ZW1iZWRDc3N9XG4gICAgICAgJHttZWRpYVF1ZXJ5fVxuICAgICAgYCxcbiAgICAgICAgfX1cbiAgICAgID48L3N0eWxlPlxuXG4gICAgICB7KGhlYWRsaW5lIHx8IHN1YmhlYWQpICYmIChcbiAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJmMmhfaGVhZGVyXCI+XG4gICAgICAgICAge2hlYWRsaW5lICYmIDxoMSBjbGFzc05hbWU9XCJmMmhfaGVhZGxpbmVcIj57aGVhZGxpbmV9PC9oMT59XG4gICAgICAgICAge3N1YmhlYWQgJiYgPHAgY2xhc3NOYW1lPVwiZjJoX3N1YmJoZWFkXCI+c3ViaGVhZDwvcD59XG4gICAgICAgIDwvaGVhZGVyPlxuICAgICAgKX1cblxuICAgICAge3JlbmRlcmVkRnJhbWVzfVxuXG4gICAgICB7c291cmNlICYmIChcbiAgICAgICAgPGZvb3Rlcj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmMmhfc291cmNlXCI+e3NvdXJjZX08L3A+XG4gICAgICAgIDwvZm9vdGVyPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcblxuICBpZiAoaWZyYW1lID09PSBPVVRQVVRfRk9STUFUUy5JRlJBTUUpIHtcbiAgICBodG1sID0gZ2VuZXJhdGVJZnJhbWVIdG1sKGh0bWwpO1xuICB9XG5cbiAgcmV0dXJuIGh0bWw7XG4gIC8vIHJldHVybiBodG1sLnJlcGxhY2UoL1xcbnxcXHJ8XFxzezIsfS9nLCBcIlwiKTtcbn1cblxuZnVuY3Rpb24gZ2VucmVhdGVNZWRpYVF1ZXJpZXMoZnJhbWVzOiBGcmFtZURhdGFUeXBlW10pIHtcbiAgY29uc3QgaWRXaWR0aHMgPSBmcmFtZXNcbiAgICAubWFwKCh7IHdpZHRoLCB1aWQgfSkgPT4gW3dpZHRoLCB1aWRdKVxuICAgIC5zb3J0KChbYV0sIFtiXSkgPT4gKGEgPCBiID8gLTEgOiAxKSk7XG5cbiAgY29uc3QgbWVkaWFRdWVyaWVzID0gaWRXaWR0aHMubWFwKChbd2lkdGgsIHVpZF0sIGkpID0+IHtcbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuXG4gICAgY29uc3QgWywgcHJldklkXSA9IGlkV2lkdGhzW2kgLSAxXTtcblxuICAgIC8vIE5vdGU6IENhc2NhZGUgb3JkZXIgaXMgaW1wb3J0YW50LlxuICAgIHJldHVybiBgXG4gICAgICBAbWVkaWEgKG1heC13aWR0aDogJHt3aWR0aH1weCkge1xuICAgICAgICAjJHt1aWR9IHsgZGlzcGxheTogbm9uZTsgfVxuICAgICAgfVxuICAgICAgQG1lZGlhIChtaW4td2lkdGg6ICR7d2lkdGh9cHgpIHtcbiAgICAgICAgIyR7cHJldklkfSB7IGRpc3BsYXk6IG5vbmU7IH1cbiAgICAgICAgIyR7dWlkfSB7IGRpc3BsYXk6IGJsb2NrOyB9XG4gICAgICB9XG4gICAgYDtcbiAgfSk7XG5cbiAgcmV0dXJuIG1lZGlhUXVlcmllcy5qb2luKFwiXCIpO1xufVxuIiwgImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyByZW5kZXJJbmxpbmUgfSBmcm9tIFwiLi4vb3V0cHV0UmVuZGVyXCI7XG5pbXBvcnQgeyBPVVRQVVRfRk9STUFUUyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IEZyYW1lRGF0YVR5cGUsIEFwcFN0YXRlIH0gZnJvbSBcInR5cGVzXCI7XG5cbmludGVyZmFjZSBSZXNwb25zaXZlVmlld1Byb3BzXG4gIGV4dGVuZHMgUGljazxcbiAgICBBcHBTdGF0ZSxcbiAgICBcInNvdXJjZVwiIHwgXCJoZWFkbGluZVwiIHwgXCJzdWJoZWFkXCIgfCBcIndpbmRvd1dpZHRoXCIgfCBcIndpbmRvd0hlaWdodFwiXG4gID4ge1xuICBmcmFtZXM6IEZyYW1lRGF0YVR5cGVbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlc3BvbnNpdmVWaWV3KHByb3BzOiBSZXNwb25zaXZlVmlld1Byb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmcmFtZXMsXG4gICAgaGVhZGxpbmUsXG4gICAgc3ViaGVhZCxcbiAgICBzb3VyY2UsXG4gICAgd2luZG93SGVpZ2h0LFxuICAgIHdpbmRvd1dpZHRoLFxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgbWF4V2lkdGggPSBNYXRoLm1heCguLi5mcmFtZXMubWFwKChmKSA9PiBmLndpZHRoKSk7XG4gIGNvbnN0IG1heEhlaWdodCA9IE1hdGgubWF4KC4uLmZyYW1lcy5tYXAoKGYpID0+IGYuaGVpZ2h0KSk7XG4gIGNvbnN0IG1pbldpZHRoID0gTWF0aC5taW4od2luZG93V2lkdGggLSAxMDAsIG1heFdpZHRoKTtcbiAgY29uc3QgbWluSGVpZ2h0ID0gTWF0aC5taW4od2luZG93SGVpZ2h0IC0gMTYwLCBtYXhIZWlnaHQpO1xuXG4gIGNvbnN0IHJhd0h0bWwgPSByZW5kZXJJbmxpbmUoe1xuICAgIGZyYW1lcyxcbiAgICBpZnJhbWU6IE9VVFBVVF9GT1JNQVRTLklGUkFNRSxcbiAgICBoZWFkbGluZSxcbiAgICBzdWJoZWFkLFxuICAgIHNvdXJjZSxcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fcmVzcG9uc2l2ZV9wcmV2aWV3XCI+XG4gICAgICA8cD5Vc2UgdGhlIHdpbmRvdyBiZWxvdyB0byB0ZXN0IGhvdyB0aGUgZnJhbWVzIGJlaGF2ZSB3aGVuIHJlc2l6aW5nLjwvcD5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX3Jlc3BvbnNpdmVfX3dyYXBwZXJcIj5cbiAgICAgICAgPGlmcmFtZVxuICAgICAgICAgIHN0eWxlPXtgaGVpZ2h0OiAke21pbkhlaWdodH1weDsgd2lkdGg6ICR7bWluV2lkdGh9cHg7YH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX3Jlc3BvbnNpdmVfX3NhbmRib3hcIlxuICAgICAgICAgIHNyY0RvYz17cmF3SHRtbH1cbiAgICAgICAgPjwvaWZyYW1lPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCAiaW1wb3J0IHsgaCwgRnJhZ21lbnQsIENvbXBvbmVudCwgY3JlYXRlUmVmLCBSZWZPYmplY3QgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBGcmFtZURhdGFUeXBlLCBBcHBTdGF0ZSwgSGVhZGxpbmVzSW50ZXJmYWNlIH0gZnJvbSBcInR5cGVzXCI7XG5cbmludGVyZmFjZSBJbnB1dEZpZWxkUHJvcHMge1xuICByZWZUYXJnZXQ6IFJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50PjtcbiAgbGFiZWw6IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgaGFuZGxlQ2hhbmdlOiAoKSA9PiB2b2lkO1xufVxuZnVuY3Rpb24gSW5wdXRGaWVsZChwcm9wczogSW5wdXRGaWVsZFByb3BzKSB7XG4gIGNvbnN0IHsgbGFiZWwsIHZhbHVlLCByZWZUYXJnZXQsIGhhbmRsZUNoYW5nZSB9ID0gcHJvcHM7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJmMmhfX2luZm9fZm9ybV9faXRlbSBmMmhfX2luZm9fZm9ybV9faXRlbS0taGVhZGxpbmVcIj5cbiAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmMmhfX2luZm9fZm9ybV9fbGFiZWxcIj57bGFiZWx9PC9sYWJlbD5cbiAgICAgIDxpbnB1dFxuICAgICAgICBjbGFzc05hbWU9XCJmMmhfX2luZm9fZm9ybV9faW5wdXQgZjJoX19pbmZvX2Zvcm1fX2lucHV0LS1oZWFkbGluZVwiXG4gICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICByZWY9e3JlZlRhcmdldH1cbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgIC8+XG4gICAgPC9wPlxuICApO1xufVxuXG5pbnRlcmZhY2UgRnJhbWVTZWxlY3Rpb25Qcm9wc1xuICBleHRlbmRzIFBpY2s8QXBwU3RhdGUsIFwic291cmNlXCIgfCBcImhlYWRsaW5lXCIgfCBcInN1YmhlYWRcIj4ge1xuICBmcmFtZXM6IEZyYW1lRGF0YVR5cGVbXTtcbiAgaGFuZGxlQ2xpY2s6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICB0b2dnbGVSZXNvbnNpdmU6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICB0b2dnbGVTZWxlY3RBbGw6ICgpID0+IHZvaWQ7XG4gIHRvZ2dsZVJlc3BvbnNpdmVBbGw6ICgpID0+IHZvaWQ7XG4gIGhhbmRsZUZvcm1VcGRhdGU6IChwcm9wczogSGVhZGxpbmVzSW50ZXJmYWNlKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgRnJhbWVTZWxlY3Rpb24gZXh0ZW5kcyBDb21wb25lbnQ8RnJhbWVTZWxlY3Rpb25Qcm9wcz4ge1xuICBwcml2YXRlIGhlYWRsaW5lSW5wdXQ6IFJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50PiA9IGNyZWF0ZVJlZigpO1xuICBwcml2YXRlIHN1YmhlYWRJbnB1dDogUmVmT2JqZWN0PEhUTUxJbnB1dEVsZW1lbnQ+ID0gY3JlYXRlUmVmKCk7XG4gIHByaXZhdGUgc291cmNlSW5wdXQ6IFJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50PiA9IGNyZWF0ZVJlZigpO1xuXG4gIHNlbmRGb3JtVmFsdWVzID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgaGFuZGxlRm9ybVVwZGF0ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBoZWFkbGluZSA9IHRoaXMuaGVhZGxpbmVJbnB1dC5jdXJyZW50Py52YWx1ZTtcbiAgICBjb25zdCBzdWJoZWFkID0gdGhpcy5zdWJoZWFkSW5wdXQuY3VycmVudD8udmFsdWU7XG4gICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2VJbnB1dC5jdXJyZW50Py52YWx1ZTtcblxuICAgIGhhbmRsZUZvcm1VcGRhdGUoeyBoZWFkbGluZSwgc3ViaGVhZCwgc291cmNlIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpOiBoLkpTWC5FbGVtZW50IHtcbiAgICBjb25zdCB7XG4gICAgICBmcmFtZXMsXG4gICAgICBoYW5kbGVDbGljayxcbiAgICAgIHRvZ2dsZVJlc29uc2l2ZSxcbiAgICAgIHRvZ2dsZVNlbGVjdEFsbCxcbiAgICAgIHRvZ2dsZVJlc3BvbnNpdmVBbGwsXG4gICAgICBoZWFkbGluZSxcbiAgICAgIHN1YmhlYWQsXG4gICAgICBzb3VyY2UsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBzZWxlY3RDb3VudCA9IGZyYW1lcy5maWx0ZXIoKGZyYW1lKSA9PiBmcmFtZS5zZWxlY3RlZCkubGVuZ3RoO1xuICAgIGNvbnN0IHNvbWVGcmFtZXNTZWxlY3RlZCA9IHNlbGVjdENvdW50ID4gMCAmJiBzZWxlY3RDb3VudCA8IGZyYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgYWxsU2VsZWN0ZWQgPSBzZWxlY3RDb3VudCA9PT0gZnJhbWVzLmxlbmd0aDtcblxuICAgIGNvbnN0IHJlc3BvbnNlQ291bnQgPSBmcmFtZXMuZmlsdGVyKChmcmFtZSkgPT4gZnJhbWUucmVzcG9uc2l2ZSkubGVuZ3RoO1xuICAgIGNvbnN0IHNvbWVSZXNwb25zaXZlU2VsZWN0ZWQgPVxuICAgICAgcmVzcG9uc2VDb3VudCA+IDAgJiYgcmVzcG9uc2VDb3VudCA8IGZyYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgYWxsUmVzcG9uc2l2ZVNlbGVjdGVkID0gcmVzcG9uc2VDb3VudCA9PT0gZnJhbWVzLmxlbmd0aDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fY2hvb3NlX2ZyYW1lc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9faW5mb19mb3JtXCI+XG4gICAgICAgICAgPElucHV0RmllbGRcbiAgICAgICAgICAgIHJlZlRhcmdldD17dGhpcy5oZWFkbGluZUlucHV0fVxuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlPXt0aGlzLnNlbmRGb3JtVmFsdWVzfVxuICAgICAgICAgICAgbGFiZWw9XCJIZWFkbGluZVwiXG4gICAgICAgICAgICB2YWx1ZT17aGVhZGxpbmV9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxJbnB1dEZpZWxkXG4gICAgICAgICAgICByZWZUYXJnZXQ9e3RoaXMuc3ViaGVhZElucHV0fVxuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlPXt0aGlzLnNlbmRGb3JtVmFsdWVzfVxuICAgICAgICAgICAgbGFiZWw9XCJTdWJoZWFkXCJcbiAgICAgICAgICAgIHZhbHVlPXtzdWJoZWFkfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICA8SW5wdXRGaWVsZFxuICAgICAgICAgICAgcmVmVGFyZ2V0PXt0aGlzLnNvdXJjZUlucHV0fVxuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlPXt0aGlzLnNlbmRGb3JtVmFsdWVzfVxuICAgICAgICAgICAgbGFiZWw9XCJTb3VyY2VcIlxuICAgICAgICAgICAgdmFsdWU9e3NvdXJjZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fZnJhbWVfc2VsZWN0aW9uXCI+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImYyaF9fc2VsX2hlYWRlciBmMmhfX3NlbF9oZWFkZXItLW5hbWVcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBuYW1lPVwic2VsZWN0QWxsXCJcbiAgICAgICAgICAgICAgaWQ9XCJzZWxlY3RBbGxcIlxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVTZWxlY3RBbGx9XG4gICAgICAgICAgICAgIGNoZWNrZWQ9e2FsbFNlbGVjdGVkfVxuICAgICAgICAgICAgICByZWY9eyhlbCkgPT4gZWwgJiYgKGVsLmluZGV0ZXJtaW5hdGUgPSBzb21lRnJhbWVzU2VsZWN0ZWQpfVxuICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICBGcmFtZXNcbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmMmhfX3NlbF9oZWFkZXIgZjJoX19zZWxfaGVhZGVyLS1yZXNwb25zaXZlXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgaWQ9XCJyZXNwb25zaXZlQWxsXCJcbiAgICAgICAgICAgICAgbmFtZT1cInJlc3BvbnNpdmVBbGxcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVSZXNwb25zaXZlQWxsfVxuICAgICAgICAgICAgICBjaGVja2VkPXthbGxSZXNwb25zaXZlU2VsZWN0ZWR9XG4gICAgICAgICAgICAgIHJlZj17KGVsKSA9PiBlbCAmJiAoZWwuaW5kZXRlcm1pbmF0ZSA9IHNvbWVSZXNwb25zaXZlU2VsZWN0ZWQpfVxuICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICBSZXNwb25zaXZlXG4gICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgIHtmcmFtZXMubWFwKCh7IG5hbWUsIGlkLCB3aWR0aCwgaGVpZ2h0LCBzZWxlY3RlZCwgcmVzcG9uc2l2ZSB9KSA9PiAoXG4gICAgICAgICAgICA8RnJhZ21lbnQga2V5PXtpZH0+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImYyaF9fbGFiZWwgZjJoX19sYWJlbC0tbmFtZVwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19jaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17c2VsZWN0ZWR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDbGljayhpZCl9XG4gICAgICAgICAgICAgICAgICBpZD17bmFtZX1cbiAgICAgICAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZjJoX19sYWJlbC0tbmFtZS10ZXh0XCIgaHRtbEZvcj17bmFtZX0+XG4gICAgICAgICAgICAgICAgICB7bmFtZX1cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImYyaF9fc2VsX3dpZHRoXCI+XG4gICAgICAgICAgICAgICAgICB7d2lkdGh9IHgge2hlaWdodH1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX2NoZWNrYm94IGYyaF9faW5wdXQtLXJlc3BvbnNpdmVcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17cmVzcG9uc2l2ZX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVSZXNvbnNpdmUoaWQpfVxuICAgICAgICAgICAgICAgIGlkPXtuYW1lfVxuICAgICAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBoLCBDb21wb25lbnQsIGNyZWF0ZVJlZiB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IEZSQU1FX1dBUk5JTkdfU0laRSB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IEZyYW1lQ29udGFpbmVyIH0gZnJvbSBcIi4uL291dHB1dFJlbmRlclwiO1xuaW1wb3J0IHsgRnJhbWVEYXRhVHlwZSB9IGZyb20gXCJ0eXBlc1wiO1xuXG50eXBlIFByZXZpZXdQcm9wcyA9IHtcbiAgZnJhbWU6IEZyYW1lRGF0YVR5cGU7XG4gIHdpbmRvd1dpZHRoOiBudW1iZXI7XG4gIHdpbmRvd0hlaWdodDogbnVtYmVyO1xufTtcblxudHlwZSBQcmV2aWV3U3RhdGUgPSB7XG4gIG5hdGl2ZVNpemU6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgY2xhc3MgUHJldmlldyBleHRlbmRzIENvbXBvbmVudDxQcmV2aWV3UHJvcHMsIFByZXZpZXdTdGF0ZT4ge1xuICBzdGF0ZTogUHJldmlld1N0YXRlID0ge1xuICAgIG5hdGl2ZVNpemU6IHRydWUsXG4gIH07XG5cbiAgaW5uZXJFbCA9IGNyZWF0ZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCB7IHNjYWxlIH0gPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG5hdGl2ZVNpemU6IHNjYWxlID49IDEgfSk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoXG4gICAgX3ByZXZpb3VzUHJvcHM6IFByZXZpZXdQcm9wcyxcbiAgICBwcmV2aW91c1N0YXRlOiBQcmV2aWV3U3RhdGVcbiAgKSB7XG4gICAgY29uc3QgeyBuYXRpdmVTaXplIH0gPSBwcmV2aW91c1N0YXRlO1xuICAgIGNvbnN0IHsgc2NhbGUgfSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICBjb25zdCBpc05hdGl2ZVNpemUgPSBzY2FsZSA+PSAxO1xuXG4gICAgaWYgKG5hdGl2ZVNpemUgIT09IGlzTmF0aXZlU2l6ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG5hdGl2ZVNpemU6IGlzTmF0aXZlU2l6ZSB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRTY2FsZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHdpbmRvd0hlaWdodCwgd2luZG93V2lkdGgsIGZyYW1lIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZnJhbWU7XG5cbiAgICAvLyBGcmFtZXMgY2FuIGJlIGxhcmdlciB0aGFuIEZpZ21hJ3MgcGx1Z2luIFVJIHdpbmRvdy5cbiAgICAvLyBUbyBhbGxvdyB0aGUgdXNlciB0byBzZWUgdGhlIHdob2xlIGZyYW1lIHdlIG5lZWQgdG8gc2NhbGUgaXQgZG93biB0byBmaXRcbiAgICAvLyBUT0RPOiBHZXQgcmVhbCBVSSBoZWFkZXIgaGVpZ2h0P1xuICAgIGNvbnN0IFdJTkRPV19IRUFERVJfSEVJR0hUID0gMTQwO1xuICAgIGNvbnN0IGhlaWdodFJhdGlvID0gKHdpbmRvd0hlaWdodCAtIFdJTkRPV19IRUFERVJfSEVJR0hUKSAvIGhlaWdodDtcblxuICAgIGNvbnN0IFdJTkRPV19TSURFX01BUkdJTlMgPSAxMjA7XG4gICAgY29uc3Qgd2lkdGhSYXRpbyA9ICh3aW5kb3dXaWR0aCAtIFdJTkRPV19TSURFX01BUkdJTlMpIC8gd2lkdGg7XG5cbiAgICBjb25zdCBzbWFsbGVzdFJhdGlvID0gTWF0aC5taW4oaGVpZ2h0UmF0aW8sIHdpZHRoUmF0aW8pO1xuXG4gICAgY29uc3Qgc2NhbGUgPSBzbWFsbGVzdFJhdGlvIDwgMSA/IHNtYWxsZXN0UmF0aW8gOiAxO1xuICAgIGNvbnN0IHNjYWxlZEhlaWdodCA9IGhlaWdodCAqIHNjYWxlO1xuICAgIGNvbnN0IHNjYWxlZFdpZHRoID0gd2lkdGggKiBzY2FsZTtcblxuICAgIHJldHVybiB7XG4gICAgICBzY2FsZSxcbiAgICAgIHNjYWxlZEhlaWdodCxcbiAgICAgIHNjYWxlZFdpZHRoLFxuICAgIH07XG4gIH07XG5cbiAgdG9nZ2xlWm9vbWVkID0gKCkgPT4ge1xuICAgIC8vIFJlcG9zaXRpb24gaW5uZXIgc2Nyb2xsIHRvIGVuc3VyZSB0cmFuc2Zvcm0gb2Zmc2V0IG1hdGNoZXMgdG9wIGxlZnRcbiAgICBjb25zdCB7IGN1cnJlbnQ6IGVsIH0gPSB0aGlzLmlubmVyRWw7XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbC5zY3JvbGxMZWZ0ID0gMDtcbiAgICAgIGVsLnNjcm9sbFRvcCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJNaXNzaW5nIHByZXZpZXcgaW5uZXIgRE9NIGVsZW1lbnRcIik7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG5hdGl2ZVNpemU6ICF0aGlzLnN0YXRlLm5hdGl2ZVNpemUgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZnJhbWUgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBzdmcsIHN2Z09wdGltaXNlZCwgc3ZnQ29tcHJlc3NlZCB9ID0gZnJhbWU7XG5cbiAgICBjb25zdCByZW5kZXJDaGFyQ291bnQgPVxuICAgICAgKHN2Z09wdGltaXNlZCA/IHN2Z0NvbXByZXNzZWQ/Lmxlbmd0aCA6IHN2Zz8ubGVuZ3RoKSB8fCAwO1xuICAgIGNvbnN0IGZpbGVLYlNpemUgPSBNYXRoLmNlaWwocmVuZGVyQ2hhckNvdW50IC8gMTAwMCk7XG4gICAgY29uc3QgaXNGaWxlTGFyZ2UgPSBmaWxlS2JTaXplID4gRlJBTUVfV0FSTklOR19TSVpFO1xuXG4gICAgY29uc3QgeyBuYXRpdmVTaXplIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgc2NhbGUsIHNjYWxlZEhlaWdodCwgc2NhbGVkV2lkdGggfSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICBjb25zdCBwcmV2aWV3V3JhcHBlclN0eWxlcyA9ICFuYXRpdmVTaXplXG4gICAgICA/IGB3aWR0aDogJHtzY2FsZWRXaWR0aH07IGhlaWdodDogJHtzY2FsZWRIZWlnaHR9O2BcbiAgICAgIDogXCJcIjtcbiAgICBsZXQgc2NhbGVXYXJuaW5nO1xuXG4gICAgaWYgKHNjYWxlIDwgMSkge1xuICAgICAgc2NhbGVXYXJuaW5nID0gKFxuICAgICAgICA8cCBjbGFzc05hbWU9XCJmMmhfX3NjYWxlX3dhcm5pbmcgZjJoX19ub3RpY2UtLXdhcm5pbmdcIj5cbiAgICAgICAgICA8c3Bhbj5ab29tZWQge25hdGl2ZVNpemUgPyBcIjEwMFwiIDogTWF0aC5yb3VuZChzY2FsZSAqIDEwMCl9JSAtIDwvc3Bhbj5cbiAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICBuYXRpdmUgc2l6ZXtcIiBcIn1cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBjaGVja2VkPXtuYXRpdmVTaXplfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZVpvb21lZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9wPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX3ByZXZpZXdcIj5cbiAgICAgICAge2lzRmlsZUxhcmdlICYmIChcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmMmhfX3NpemVfd2FybmluZyBmMmhfX25vdGljZS0td2FybmluZ1wiPlxuICAgICAgICAgICAgRmlsZSBzaXplIGlzIHZlcnkgbGFyZ2UsIGNvbnNpZGVyIHVzaW5nIHNtYWxsZXIgaW1hZ2VzIGFuZCBzaW1wbGllclxuICAgICAgICAgICAgc2hhcGVzXG4gICAgICAgICAgPC9wPlxuICAgICAgICApfVxuXG4gICAgICAgIHtzY2FsZVdhcm5pbmd9XG5cbiAgICAgICAge3N2ZyA/IChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICByZWY9e3RoaXMuaW5uZXJFbH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGYyaF9fcHJldmlld19pbm5lciAke1xuICAgICAgICAgICAgICAhbmF0aXZlU2l6ZSA/IFwiZjJoX19wcmV2aWV3X2lubmVyLS1zY2FsZWRcIiA6IFwiXCJcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgc3R5bGU9e3ByZXZpZXdXcmFwcGVyU3R5bGVzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxGcmFtZUNvbnRhaW5lciB7Li4uZnJhbWV9IHNjYWxlPXshbmF0aXZlU2l6ZSAmJiBzY2FsZX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmMmhfX3ByZXZpZXdfbG9hZGluZ1wiPkxvYWRpbmcuLi48L3A+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgaCwgQ29tcG9uZW50LCBjcmVhdGVSZWYgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBzYXZlQXMgfSBmcm9tIFwiZmlsZS1zYXZlclwiO1xuaW1wb3J0IHsgT1VUUFVUX0ZPUk1BVFMgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyByZW5kZXJJbmxpbmUgfSBmcm9tIFwiLi4vb3V0cHV0UmVuZGVyXCI7XG5pbXBvcnQgeyBGcmFtZURhdGFUeXBlLCBBcHBTdGF0ZSB9IGZyb20gXCJ0eXBlc1wiO1xuXG5pbnRlcmZhY2UgU2F2ZVByb3BzIGV4dGVuZHMgUGljazxBcHBTdGF0ZSwgXCJzb3VyY2VcIiB8IFwiaGVhZGxpbmVcIiB8IFwic3ViaGVhZFwiPiB7XG4gIGZyYW1lczogRnJhbWVEYXRhVHlwZVtdO1xufVxuXG5pbnRlcmZhY2UgU2F2ZVN0YXRlIHtcbiAgYWR2YW5jZWRPcGVuOiBib29sZWFuO1xuICBzaG93VG9hc3Q6IGJvb2xlYW47XG4gIG91dHB1dEZvcm1hdDogT1VUUFVUX0ZPUk1BVFM7XG59XG5cbmV4cG9ydCBjbGFzcyBTYXZlIGV4dGVuZHMgQ29tcG9uZW50PFNhdmVQcm9wcywgU2F2ZVN0YXRlPiB7XG4gIHN0YXRlOiBTYXZlU3RhdGUgPSB7XG4gICAgYWR2YW5jZWRPcGVuOiBmYWxzZSxcbiAgICBzaG93VG9hc3Q6IGZhbHNlLFxuICAgIG91dHB1dEZvcm1hdDogT1VUUFVUX0ZPUk1BVFMuSU5MSU5FLFxuICB9O1xuXG4gIHByaXZhdGUgdGV4dEFyZWFFbCA9IGNyZWF0ZVJlZjxIVE1MVGV4dEFyZWFFbGVtZW50PigpO1xuXG4gIHRvZ2dsZUFkdmFuY2VkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYWR2YW5jZWRPcGVuOiAhdGhpcy5zdGF0ZS5hZHZhbmNlZE9wZW4sXG4gICAgfSk7XG4gIH07XG5cbiAgc2F2ZVRvQ2xpcGJvYXJkID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY3VycmVudDogZWwgfSA9IHRoaXMudGV4dEFyZWFFbDtcblxuICAgIGlmICghZWwpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJNaXNzaW5nIHRleHRhcmVhIGVsZW1lbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2VsZWN0IHRleHQgYW5kIGNvcHkgdG8gY2xpcGJvYXJkXG4gICAgZWwuc2VsZWN0KCk7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpO1xuXG4gICAgLy8gT25seSBzaG93IHRvYXN0IGlmIGl0IGlzbid0IGFscmVhZHkgYWN0aXZlXG4gICAgY29uc3QgeyBzaG93VG9hc3QgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKHNob3dUb2FzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93VG9hc3Q6IHRydWUgfSk7XG5cbiAgICAvLyBDbGVhciB0b2FzdCBhZnRlciBhIGZldyBzZWNvbmRzXG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnNldFN0YXRlKHsgc2hvd1RvYXN0OiBmYWxzZSB9KSwgMjAwMCk7XG4gIH07XG5cbiAgc2F2ZUVtYmVkVG9DbGlwYm9hcmQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgIHsgb3V0cHV0Rm9ybWF0OiBPVVRQVVRfRk9STUFUUy5JTkxJTkUgfSxcbiAgICAgIHRoaXMuc2F2ZVRvQ2xpcGJvYXJkXG4gICAgKTtcbiAgfTtcblxuICBzYXZlQmluYXJ5RmlsZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGZyYW1lcywgaGVhZGxpbmUsIHN1YmhlYWQsIHNvdXJjZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBvdXRwdXRGcmFtZXMgPSBPYmplY3QudmFsdWVzKGZyYW1lcykuZmlsdGVyKChmKSA9PiBmLnNlbGVjdGVkKTtcblxuICAgIGNvbnN0IGZpbGVuYW1lID0gXCJmaWdtYS10by1odG1sLXRlc3QuaHRtbFwiO1xuICAgIGNvbnN0IHJhdyA9IHJlbmRlcklubGluZSh7XG4gICAgICBmcmFtZXM6IG91dHB1dEZyYW1lcyxcbiAgICAgIGlmcmFtZTogT1VUUFVUX0ZPUk1BVFMuSUZSQU1FLFxuICAgICAgaGVhZGxpbmUsXG4gICAgICBzdWJoZWFkLFxuICAgICAgc291cmNlLFxuICAgIH0pO1xuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbcmF3XSwgeyB0eXBlOiBcInRleHQvaHRtbFwiIH0pO1xuXG4gICAgc2F2ZUFzKGJsb2IsIGZpbGVuYW1lKTtcbiAgfTtcblxuICBoYW5kbGVGb3JtYXRDaGFuZ2UgPSAoZm9ybWF0OiBPVVRQVVRfRk9STUFUUykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3V0cHV0Rm9ybWF0OiBmb3JtYXQsXG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZnJhbWVzLCBoZWFkbGluZSwgc3ViaGVhZCwgc291cmNlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgYWR2YW5jZWRPcGVuLCBzaG93VG9hc3QsIG91dHB1dEZvcm1hdCB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCByYXdIdG1sID0gcmVuZGVySW5saW5lKHtcbiAgICAgIGZyYW1lcyxcbiAgICAgIGlmcmFtZTogb3V0cHV0Rm9ybWF0LFxuICAgICAgaGVhZGxpbmUsXG4gICAgICBzdWJoZWFkLFxuICAgICAgc291cmNlLFxuICAgIH0pO1xuXG4gICAgY29uc3QgYWR2YW5jZWRCdG5UZXh0ID0gYCR7YWR2YW5jZWRPcGVuID8gXCJoaWRlXCIgOiBcInNob3dcIn1gO1xuICAgIGxldCBhZHZhbmNlZENsYXNzTmFtZSA9IFwiZjJoX19zYXZlX2FkdmFuY2VkXCI7XG4gICAgaWYgKGFkdmFuY2VkT3Blbikge1xuICAgICAgYWR2YW5jZWRDbGFzc05hbWUgKz0gXCJmMmhfX3NhdmVfYWR2YW5jZWQtLW9wZW5cIjtcbiAgICB9XG5cbiAgICBsZXQgdG9hc3RDbGFzc05hbWUgPSBcImYyaF9fdG9hc3RcIjtcbiAgICBpZiAoc2hvd1RvYXN0KSB7XG4gICAgICB0b2FzdENsYXNzTmFtZSArPSBcImYyaF9fdG9hc3QtLW9wZW5cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX3NhdmVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX3NhdmVfb3B0aW9uc1wiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZjJoX19zYXZlX2J0blwiIG9uQ2xpY2s9e3RoaXMuc2F2ZUVtYmVkVG9DbGlwYm9hcmR9PlxuICAgICAgICAgICAgQ29weSBlbWJlZCB0byBjbGlwYm9hcmRcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9idG5cIiBvbkNsaWNrPXt0aGlzLnNhdmVCaW5hcnlGaWxlfT5cbiAgICAgICAgICAgIERvd25sb2FkIGlmcmFtZSBIVE1MIGZpbGVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9fc3ViaGVhZCBmMmhfX3NhdmVfYWR2YW5jZWQtaGVhZGVyXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZjJoX19zYXZlX2FkdmFuY2VkX3RpdGxlXCI+QWR2YW5jZWQgc2V0dGluZ3M8L3NwYW4+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19zYXZlX2FkdmFuY2VkX3Nob3dcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVBZHZhbmNlZH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7YWR2YW5jZWRCdG5UZXh0fVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2gyPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXthZHZhbmNlZENsYXNzTmFtZX0+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9fc3ViaGVhZFwiPkZvcm1hdDwvaDI+XG5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImYyaF9faW5wdXRfaW5saW5lXCIgY2xhc3NOYW1lPVwiZjJoX19sYWJlbFwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImYyaF9fcmFkaW9fYnRuXCJcbiAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgbmFtZT1cImlubGluZVwiXG4gICAgICAgICAgICAgIGlkPVwiZjJoX19pbnB1dF9pbmxpbmVcIlxuICAgICAgICAgICAgICB2YWx1ZT17T1VUUFVUX0ZPUk1BVFMuSU5MSU5FfVxuICAgICAgICAgICAgICBjaGVja2VkPXtvdXRwdXRGb3JtYXQgPT09IE9VVFBVVF9GT1JNQVRTLklOTElORX1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVGb3JtYXRDaGFuZ2UoT1VUUFVUX0ZPUk1BVFMuSU5MSU5FKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICBJbmxpbmUgKGRlZmF1bHQpXG4gICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiZjJoX19pbnB1dF9pZnJhbWVcIiBjbGFzc05hbWU9XCJmMmhfX2xhYmVsXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19yYWRpb19idG5cIlxuICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICBuYW1lPVwiaWZyYW1lXCJcbiAgICAgICAgICAgICAgaWQ9XCJmMmhfX2lucHV0X2lmcmFtZVwiXG4gICAgICAgICAgICAgIHZhbHVlPXtPVVRQVVRfRk9STUFUUy5JRlJBTUV9XG4gICAgICAgICAgICAgIGNoZWNrZWQ9e291dHB1dEZvcm1hdCA9PT0gT1VUUFVUX0ZPUk1BVFMuSUZSQU1FfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUZvcm1hdENoYW5nZShPVVRQVVRfRk9STUFUUy5JRlJBTUUpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIGlGcmFtZVxuICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZjJoX19zYXZlX19zdWJoZWFkXCI+UmF3IEhUTUw8L2gyPlxuICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgcmVmPXt0aGlzLnRleHRBcmVhRWx9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX3NhdmVfX3Jhd1wiXG4gICAgICAgICAgICB2YWx1ZT17cmF3SHRtbH1cbiAgICAgICAgICA+PC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RvYXN0Q2xhc3NOYW1lfT5Db3BpZWQgdG8gY2xpcGJvYXJkPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGRlY29kZVN2Z1RvU3RyaW5nKHN2ZzogVWludDhBcnJheSkge1xuICBsZXQgc3ZnU3RyID0gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKHN2Zyk7XG4gIC8vIE5PVEU6IEZpZ21hIGdlbmVyYXRlcyBub24tdW5pcXVlIElEcyBmb3IgbWFza3Mgd2hpY2ggY2FuIGNsYXNoIHdoZW5cbiAgLy8gZW1iZWRkaW5nIG11bHRpcGxlIFNWR1NzLiBXZSBkbyBhIHN0cmluZyByZXBsYWNlIGZvciB1bmlxdWUgSURzXG4gIGNvbnN0IHJlZ2V4ID0gL2lkPVwiKC4rPylcIi9nO1xuICBjb25zdCBpZHM6IHN0cmluZ1tdID0gW107XG4gIGxldCBtYXRjaGVzO1xuXG4gIHdoaWxlICgobWF0Y2hlcyA9IHJlZ2V4LmV4ZWMoc3ZnU3RyKSkpIHtcbiAgICBjb25zdCBbLCBpZF0gPSBtYXRjaGVzO1xuICAgIGlkcy5wdXNoKGlkKTtcbiAgfVxuXG4gIGlkcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgIGNvbnN0IHJuZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzIpLnN1YnN0cigyKTtcbiAgICBjb25zdCByYW5kb21JZCA9IGAke2lkfS0ke3JuZH1gO1xuICAgIC8vIFJlcGxhY2UgSURcbiAgICBzdmdTdHIgPSBzdmdTdHIucmVwbGFjZShgaWQ9XCIke2lkfVwiYCwgYGlkPVwiJHtyYW5kb21JZH1cImApO1xuICAgIC8vIFJlcGxhY2UgYW5jaG9yIHJlZnNcbiAgICBzdmdTdHIgPSBzdmdTdHIucmVwbGFjZShgIyR7aWR9YCwgYCMke3JhbmRvbUlkfWApO1xuICB9KTtcblxuICAvLyBVcGRhdGUgSFRUUCBsaW5rcyB0byBIVFRQU1xuICBzdmdTdHIgPSBzdmdTdHIucmVwbGFjZSgvaHR0cDpcXC9cXC8vZywgXCJodHRwczovL1wiKTtcblxuICByZXR1cm4gc3ZnU3RyO1xufVxuIiwgImltcG9ydCBDb21wcmVzc29yIGZyb20gXCJjb21wcmVzc29yanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXByZXNzSW1hZ2UoXG4gIGltYWdlOiBVaW50OEFycmF5LFxuICB3aWR0aDogbnVtYmVyLFxuICBoZWlnaHQ6IG51bWJlclxuKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgLy8gQ3JlYXRlIGltYWdlIGZyb20gYmxvYiB0byBhY2Nlc3MgbmF0aXZlIGltYWdlIHNpemVzIHRoZSByZXNpemUgYW5kXG4gICAgLy8gY29tcHJlc3NcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2ltYWdlXSwgeyB0eXBlOiBcImltYWdlL3BuZ1wiIH0pO1xuICAgIGNvbnN0IGltZ1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgaW1nLnNyYyA9IGltZ1VybDtcbiAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgbGV0IHRhcmdldFdpZHRoID0gMDtcbiAgICAgIGxldCB0YXJnZXRIZWlnaHQgPSAwO1xuXG4gICAgICAvLyBEb24ndCBzY2FsZSBpbWFnZSB1cCBpZiBub2RlIGlzIGxhcmdlciB0aGFuIGltYWdlXG4gICAgICBpZiAod2lkdGggPiBpbWcud2lkdGggfHwgaGVpZ2h0ID4gaW1nLmhlaWdodCkge1xuICAgICAgICB0YXJnZXRXaWR0aCA9IGltZy53aWR0aDtcbiAgICAgICAgdGFyZ2V0SGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNjYWxlIHRvIGxhcmdlc3QgZGltZW5zaW9uXG4gICAgICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gaW1nLndpZHRoIC8gaW1nLmhlaWdodDtcbiAgICAgICAgdGFyZ2V0V2lkdGggPSBhc3BlY3RSYXRpbyA+PSAxID8gaGVpZ2h0ICogYXNwZWN0UmF0aW8gOiB3aWR0aDtcbiAgICAgICAgdGFyZ2V0SGVpZ2h0ID0gYXNwZWN0UmF0aW8gPj0gMSA/IGhlaWdodCA6IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICB9XG5cbiAgICAgIG5ldyBDb21wcmVzc29yKGJsb2IsIHtcbiAgICAgICAgd2lkdGg6IHRhcmdldFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IHRhcmdldEhlaWdodCxcbiAgICAgICAgcXVhbGl0eTogMC43LFxuICAgICAgICBjb252ZXJ0U2l6ZTogMTAwMDAwLFxuICAgICAgICBzdWNjZXNzOiBhc3luYyAobmV3SW1hZ2UpID0+IHtcbiAgICAgICAgICBjb25zdCBidWYgPSBhd2FpdCBuZXdJbWFnZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiAoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkltYWdlIGNvbXByZXNzaW9uIGZhaWxlZFwiKTtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBjb21wcmVzc2VkIGltYWdlXCIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfSk7XG4gIH0pO1xufVxuIiwgImltcG9ydCB7IE1TR19FVkVOVFMgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kTWVzc2FnZSh0eXBlOiBNU0dfRVZFTlRTLCBkYXRhPzogeyBbaWQ6IHN0cmluZ106IGFueSB9KSB7XG4gIGNvbnNvbGUubG9nKFwicG9zdCBtZXNzYWdlXCIsIHBhcmVudC5wb3N0TWVzc2FnZSwgdHlwZSwgZGF0YSk7XG4gIHBhcmVudC5wb3N0TWVzc2FnZShcbiAgICB7XG4gICAgICBwbHVnaW5NZXNzYWdlOiB7XG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIC4uLmRhdGEsXG4gICAgICB9LFxuICAgIH0sXG4gICAgXCIqXCJcbiAgKTtcbn1cbiIsICIvLyBAdHMtbm9jaGVja1xuLy8gVE9ETzogQWRkIHR5cGVcblxuLyoqXG4gKiBFbmNvZGUgcGxhaW4gU1ZHIGRhdGEgc3RyaW5nIGludG8gRGF0YSBVUkkgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgaW5wdXQgc3RyaW5nXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBEYXRhIFVSSSB0eXBlXG4gKiBAcmV0dXJuIHtTdHJpbmd9IG91dHB1dCBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZVNWR0RhdGF1cmkgPSBmdW5jdGlvbiAoc3RyLCB0eXBlKSB7XG4gIHZhciBwcmVmaXggPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbFwiO1xuICBpZiAoIXR5cGUgfHwgdHlwZSA9PT0gXCJiYXNlNjRcIikge1xuICAgIC8vIGJhc2U2NFxuICAgIHByZWZpeCArPSBcIjtiYXNlNjQsXCI7XG4gICAgaWYgKEJ1ZmZlci5mcm9tKSB7XG4gICAgICBzdHIgPSBwcmVmaXggKyBCdWZmZXIuZnJvbShzdHIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBwcmVmaXggKyBuZXcgQnVmZmVyKHN0cikudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiZW5jXCIpIHtcbiAgICAvLyBVUkkgZW5jb2RlZFxuICAgIHN0ciA9IHByZWZpeCArIFwiLFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cik7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJ1bmVuY1wiKSB7XG4gICAgLy8gdW5lbmNvZGVkXG4gICAgc3RyID0gcHJlZml4ICsgXCIsXCIgKyBzdHI7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cbi8qKlxuICogRGVjb2RlIFNWRyBEYXRhIFVSSSBzdHJpbmcgaW50byBwbGFpbiBTVkcgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgaW5wdXQgc3RyaW5nXG4gKiBAcmV0dXJuIHtTdHJpbmd9IG91dHB1dCBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZVNWR0RhdGF1cmkgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHZhciByZWdleHAgPSAvZGF0YTppbWFnZVxcL3N2Z1xcK3htbCg7Y2hhcnNldD1bXjssXSopPyg7YmFzZTY0KT8sKC4qKS87XG4gIHZhciBtYXRjaCA9IHJlZ2V4cC5leGVjKHN0cik7XG5cbiAgLy8gcGxhaW4gc3RyaW5nXG4gIGlmICghbWF0Y2gpIHJldHVybiBzdHI7XG5cbiAgdmFyIGRhdGEgPSBtYXRjaFszXTtcblxuICBpZiAobWF0Y2hbMl0pIHtcbiAgICAvLyBiYXNlNjRcbiAgICBzdHIgPSBuZXcgQnVmZmVyKGRhdGEsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmOFwiKTtcbiAgfSBlbHNlIGlmIChkYXRhLmNoYXJBdCgwKSA9PT0gXCIlXCIpIHtcbiAgICAvLyBVUkkgZW5jb2RlZFxuICAgIHN0ciA9IGRlY29kZVVSSUNvbXBvbmVudChkYXRhKTtcbiAgfSBlbHNlIGlmIChkYXRhLmNoYXJBdCgwKSA9PT0gXCI8XCIpIHtcbiAgICAvLyB1bmVuY29kZWRcbiAgICBzdHIgPSBkYXRhO1xuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5leHBvcnQgY29uc3QgaW50ZXJzZWN0QXJyYXlzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgcmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIGIuaW5kZXhPZihuKSA+IC0xO1xuICB9KTtcbn07XG5cbi8qKlxuICogQ29udmVydCBhIHJvdyBvZiBudW1iZXJzIHRvIGFuIG9wdGltaXplZCBzdHJpbmcgdmlldy5cbiAqXG4gKiBAZXhhbXBsZVxuICogWzAsIC0xLCAuNSwgLjVdIFx1MjE5MiBcIjAtMSAuNS41XCJcbiAqXG4gKiBAcGFyYW0ge251bWJlcltdfSBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zXG4gKiBAcGFyYW0ge3N0cmluZz99IGNvbW1hbmQgcGF0aCBkYXRhIGluc3RydWN0aW9uXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBjbGVhbnVwT3V0RGF0YSA9IGZ1bmN0aW9uIChkYXRhLCBwYXJhbXMsIGNvbW1hbmQpIHtcbiAgdmFyIHN0ciA9IFwiXCIsXG4gICAgZGVsaW1pdGVyLFxuICAgIHByZXY7XG5cbiAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgLy8gc3BhY2UgZGVsaW1pdGVyIGJ5IGRlZmF1bHRcbiAgICBkZWxpbWl0ZXIgPSBcIiBcIjtcblxuICAgIC8vIG5vIGV4dHJhIHNwYWNlIGluIGZyb250IG9mIGZpcnN0IG51bWJlclxuICAgIGlmIChpID09IDApIGRlbGltaXRlciA9IFwiXCI7XG5cbiAgICAvLyBubyBleHRyYSBzcGFjZSBhZnRlciAnYXJjdG8nIGNvbW1hbmQgZmxhZ3NcbiAgICBpZiAocGFyYW1zLm5vU3BhY2VBZnRlckZsYWdzICYmIChjb21tYW5kID09IFwiQVwiIHx8IGNvbW1hbmQgPT0gXCJhXCIpKSB7XG4gICAgICB2YXIgcG9zID0gaSAlIDc7XG4gICAgICBpZiAocG9zID09IDQgfHwgcG9zID09IDUpIGRlbGltaXRlciA9IFwiXCI7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGZsb2F0aW5nLXBvaW50IG51bWJlcnMgbGVhZGluZyB6ZXJvc1xuICAgIC8vIDAuNSBcdTIxOTIgLjVcbiAgICAvLyAtMC41IFx1MjE5MiAtLjVcbiAgICBpZiAocGFyYW1zLmxlYWRpbmdaZXJvKSB7XG4gICAgICBpdGVtID0gcmVtb3ZlTGVhZGluZ1plcm8oaXRlbSk7XG4gICAgfVxuXG4gICAgLy8gbm8gZXh0cmEgc3BhY2UgaW4gZnJvbnQgb2YgbmVnYXRpdmUgbnVtYmVyIG9yXG4gICAgLy8gaW4gZnJvbnQgb2YgYSBmbG9hdGluZyBudW1iZXIgaWYgYSBwcmV2aW91cyBudW1iZXIgaXMgZmxvYXRpbmcgdG9vXG4gICAgaWYgKFxuICAgICAgcGFyYW1zLm5lZ2F0aXZlRXh0cmFTcGFjZSAmJlxuICAgICAgZGVsaW1pdGVyICE9IFwiXCIgJiZcbiAgICAgIChpdGVtIDwgMCB8fCAoU3RyaW5nKGl0ZW0pLmNoYXJDb2RlQXQoMCkgPT0gNDYgJiYgcHJldiAlIDEgIT09IDApKVxuICAgICkge1xuICAgICAgZGVsaW1pdGVyID0gXCJcIjtcbiAgICB9XG4gICAgLy8gc2F2ZSBwcmV2IGl0ZW0gdmFsdWVcbiAgICBwcmV2ID0gaXRlbTtcbiAgICBzdHIgKz0gZGVsaW1pdGVyICsgaXRlbTtcbiAgfSk7XG4gIHJldHVybiBzdHI7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBmbG9hdGluZy1wb2ludCBudW1iZXJzIGxlYWRpbmcgemVyby5cbiAqXG4gKiBAZXhhbXBsZVxuICogMC41IFx1MjE5MiAuNVxuICpcbiAqIEBleGFtcGxlXG4gKiAtMC41IFx1MjE5MiAtLjVcbiAqXG4gKiBAcGFyYW0ge0Zsb2F0fSBudW0gaW5wdXQgbnVtYmVyXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSBvdXRwdXQgbnVtYmVyIGFzIHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QgcmVtb3ZlTGVhZGluZ1plcm8gPSBmdW5jdGlvbiAobnVtKSB7XG4gIHZhciBzdHJOdW0gPSBudW0udG9TdHJpbmcoKTtcblxuICBpZiAoMCA8IG51bSAmJiBudW0gPCAxICYmIHN0ck51bS5jaGFyQ29kZUF0KDApID09IDQ4KSB7XG4gICAgc3RyTnVtID0gc3RyTnVtLnNsaWNlKDEpO1xuICB9IGVsc2UgaWYgKC0xIDwgbnVtICYmIG51bSA8IDAgJiYgc3RyTnVtLmNoYXJDb2RlQXQoMSkgPT0gNDgpIHtcbiAgICBzdHJOdW0gPSBzdHJOdW0uY2hhckF0KDApICsgc3RyTnVtLnNsaWNlKDIpO1xuICB9XG4gIHJldHVybiBzdHJOdW07XG59O1xuXG4vKipcbiAqIFN5bmNocm9ub3VzbHkgY2hlY2sgaWYgcGF0aCBpcyBhIGRpcmVjdG9yeS4gVG9sZXJhbnQgdG8gZXJyb3JzIGxpa2UgRU5PRU5ULlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGhcbiAqL1xuZXhwb3J0IGNvbnN0IGNoZWNrSXNEaXIgPSBmdW5jdGlvbiAocGF0aCkge1xuICB0cnkge1xuICAgIHJldHVybiBGUy5sc3RhdFN5bmMocGF0aCkuaXNEaXJlY3RvcnkoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcbiIsICIvLyBAdHMtbm9jaGVja1xuLy8gVE9ETzogQWRkIHR5cGVzXG5cbmltcG9ydCB7IGNsZWFudXBPdXREYXRhIH0gZnJvbSBcIi4vdG9vbHNcIjtcblxuY29uc3Qgck51bWJlciA9IFN0cmluZy5yYXdgWy0rXT8oPzpcXGQqXFwuXFxkK3xcXGQrXFwuPykoPzpbZUVdWy0rXT9cXGQrKT9cXHMqYDtcbmNvbnN0IHJDb21tYVdzcCA9IFN0cmluZy5yYXdgKD86XFxzLD9cXHMqfCxcXHMqKWA7XG5jb25zdCByTnVtYmVyQ29tbWFXc3AgPSBgKCR7ck51bWJlcn0pYCArIHJDb21tYVdzcDtcbmNvbnN0IHJGbGFnQ29tbWFXc3AgPSBgKFswMV0pJHtyQ29tbWFXc3B9P2A7XG5jb25zdCByQ29vcmRpbmF0ZVBhaXIgPSBTdHJpbmcucmF3YCgke3JOdW1iZXJ9KSR7ckNvbW1hV3NwfT8oJHtyTnVtYmVyfSlgO1xuY29uc3QgckFyY1NlcSA9XG4gIChyTnVtYmVyQ29tbWFXc3AgKyBcIj9cIikucmVwZWF0KDIpICtcbiAgck51bWJlckNvbW1hV3NwICtcbiAgckZsYWdDb21tYVdzcC5yZXBlYXQoMikgK1xuICByQ29vcmRpbmF0ZVBhaXI7XG5cbmNvbnN0IHJlZ1BhdGhJbnN0cnVjdGlvbnMgPSAvKFtNbUxsSGhWdkNjU3NRcVR0QWFael0pXFxzKi87XG5jb25zdCByZWdDb29yZGluYXRlU2VxdWVuY2UgPSBuZXcgUmVnRXhwKHJOdW1iZXIsIFwiZ1wiKTtcbmNvbnN0IHJlZ0FyY0FyZ3VtZW50U2VxdWVuY2UgPSBuZXcgUmVnRXhwKHJBcmNTZXEsIFwiZ1wiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGgyanMocGF0aDogU1ZHUGF0aEVsZW1lbnQpIHtcbiAgY29uc3QgcGFyYW1zTGVuZ3RoID0ge1xuICAgIC8vIE51bWJlciBvZiBwYXJhbWV0ZXJzIG9mIGV2ZXJ5IHBhdGggY29tbWFuZFxuICAgIEg6IDEsXG4gICAgVjogMSxcbiAgICBNOiAyLFxuICAgIEw6IDIsXG4gICAgVDogMixcbiAgICBROiA0LFxuICAgIFM6IDQsXG4gICAgQzogNixcbiAgICBBOiA3LFxuICAgIGg6IDEsXG4gICAgdjogMSxcbiAgICBtOiAyLFxuICAgIGw6IDIsXG4gICAgdDogMixcbiAgICBxOiA0LFxuICAgIHM6IDQsXG4gICAgYzogNixcbiAgICBhOiA3LFxuICB9O1xuICBsZXQgcGF0aERhdGEgPSBbXTsgLy8gSlMgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGggZGF0YVxuICBsZXQgaW5zdHJ1Y3Rpb247IC8vIGN1cnJlbnQgaW5zdHJ1Y3Rpb24gY29udGV4dFxuICBsZXQgc3RhcnRNb3ZldG8gPSBmYWxzZTtcblxuICAvLyBzcGxpdHRpbmcgcGF0aCBzdHJpbmcgaW50byBhcnJheSBsaWtlIFsnTScsICcxMCA1MCcsICdMJywgJzIwIDMwJ11cbiAgcGF0aFxuICAgIC5nZXRBdHRyaWJ1dGUoXCJkXCIpXG4gICAgPy5zcGxpdChyZWdQYXRoSW5zdHJ1Y3Rpb25zKVxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGlmICghc3RhcnRNb3ZldG8pIHtcbiAgICAgICAgaWYgKGRhdGEgPT0gXCJNXCIgfHwgZGF0YSA9PSBcIm1cIikge1xuICAgICAgICAgIHN0YXJ0TW92ZXRvID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gaW5zdHJ1Y3Rpb24gaXRlbVxuICAgICAgaWYgKHJlZ1BhdGhJbnN0cnVjdGlvbnMudGVzdChkYXRhKSkge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IGRhdGE7XG5cbiAgICAgICAgLy8geiAtIGluc3RydWN0aW9uIHcvbyBkYXRhXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PSBcIlpcIiB8fCBpbnN0cnVjdGlvbiA9PSBcInpcIikge1xuICAgICAgICAgIHBhdGhEYXRhLnB1c2goe1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IFwielwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRhdGEgaXRlbVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGJvc3M6IHRydWUgKi9cbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09IFwiQVwiIHx8IGluc3RydWN0aW9uID09IFwiYVwiKSB7XG4gICAgICAgICAgdmFyIG5ld0RhdGEgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBhcmdzOyAoYXJncyA9IHJlZ0FyY0FyZ3VtZW50U2VxdWVuY2UuZXhlYyhkYXRhKSk7ICkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIG5ld0RhdGEucHVzaChhcmdzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YSA9IG5ld0RhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YSA9IGRhdGEubWF0Y2gocmVnQ29vcmRpbmF0ZVNlcXVlbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcblxuICAgICAgICBkYXRhID0gZGF0YS5tYXAoTnVtYmVyKTtcbiAgICAgICAgLy8gU3Vic2VxdWVudCBtb3ZldG8gcGFpcnMgb2YgY29vcmRpbmF0ZXMgYXJlIHRocmVhdGVkIGFzIGltcGxpY2l0IGxpbmV0byBjb21tYW5kc1xuICAgICAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvcGF0aHMuaHRtbCNQYXRoRGF0YU1vdmV0b0NvbW1hbmRzXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PSBcIk1cIiB8fCBpbnN0cnVjdGlvbiA9PSBcIm1cIikge1xuICAgICAgICAgIHBhdGhEYXRhLnB1c2goe1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IHBhdGhEYXRhLmxlbmd0aCA9PSAwID8gXCJNXCIgOiBpbnN0cnVjdGlvbixcbiAgICAgICAgICAgIGRhdGE6IGRhdGEuc3BsaWNlKDAsIDIpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24gPT0gXCJNXCIgPyBcIkxcIiA6IFwibFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgcGFpciA9IHBhcmFtc0xlbmd0aFtpbnN0cnVjdGlvbl07IGRhdGEubGVuZ3RoOyApIHtcbiAgICAgICAgICBwYXRoRGF0YS5wdXNoKHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uOiBpbnN0cnVjdGlvbixcbiAgICAgICAgICAgIGRhdGE6IGRhdGEuc3BsaWNlKDAsIHBhaXIpLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLy8gRmlyc3QgbW92ZXRvIGlzIGFjdHVhbGx5IGFic29sdXRlLiBTdWJzZXF1ZW50IGNvb3JkaW5hdGVzIHdlcmUgc2VwYXJhdGVkIGFib3ZlLlxuICBpZiAocGF0aERhdGEubGVuZ3RoICYmIHBhdGhEYXRhWzBdLmluc3RydWN0aW9uID09IFwibVwiKSB7XG4gICAgcGF0aERhdGFbMF0uaW5zdHJ1Y3Rpb24gPSBcIk1cIjtcbiAgfVxuXG4gIHJldHVybiBwYXRoRGF0YTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHBhdGggYXJyYXkgdG8gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhdGggaW5wdXQgcGF0aCBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIHBsdWdpbiBwYXJhbXNcbiAqIEByZXR1cm4ge1N0cmluZ30gb3V0cHV0IHBhdGggc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBqczJwYXRoID0gZnVuY3Rpb24gKHBhdGg6IFNWR1BhdGhFbGVtZW50LCBkYXRhLCBwYXJhbXMpIHtcbiAgaWYgKHBhcmFtcy5jb2xsYXBzZVJlcGVhdGVkKSB7XG4gICAgZGF0YSA9IGNvbGxhcHNlUmVwZWF0ZWQoZGF0YSk7XG4gIH1cblxuICBwYXRoLnNldEF0dHJpYnV0ZShcbiAgICBcImRcIixcbiAgICBkYXRhLnJlZHVjZShmdW5jdGlvbiAocGF0aFN0cmluZywgaXRlbSkge1xuICAgICAgdmFyIHN0ckRhdGEgPSBcIlwiO1xuICAgICAgaWYgKGl0ZW0uZGF0YSkge1xuICAgICAgICBzdHJEYXRhID0gY2xlYW51cE91dERhdGEoaXRlbS5kYXRhLCBwYXJhbXMsIGl0ZW0uaW5zdHJ1Y3Rpb24pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChwYXRoU3RyaW5nICs9IGl0ZW0uaW5zdHJ1Y3Rpb24gKyBzdHJEYXRhKTtcbiAgICB9LCBcIlwiKVxuICApO1xufTtcblxuLyoqXG4gKiBDb2xsYXBzZSByZXBlYXRlZCBpbnN0cnVjdGlvbnMgZGF0YVxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhdGggaW5wdXQgcGF0aCBkYXRhXG4gKiBAcmV0dXJuIHtBcnJheX0gb3V0cHV0IHBhdGggZGF0YVxuICovXG5mdW5jdGlvbiBjb2xsYXBzZVJlcGVhdGVkKGRhdGEpIHtcbiAgdmFyIHByZXYsIHByZXZJbmRleDtcblxuICAvLyBjb3B5IGFuIGFycmF5IGFuZCBtb2RpZmllZHMgaXRlbSB0byBrZWVwIG9yaWdpbmFsIGRhdGEgdW50b3VjaGVkXG4gIGRhdGEgPSBkYXRhLnJlZHVjZShmdW5jdGlvbiAobmV3UGF0aCwgaXRlbSkge1xuICAgIGlmIChwcmV2ICYmIGl0ZW0uZGF0YSAmJiBpdGVtLmluc3RydWN0aW9uID09IHByZXYuaW5zdHJ1Y3Rpb24pIHtcbiAgICAgIC8vIGNvbmNhdCBwcmV2aW91cyBkYXRhIHdpdGggY3VycmVudFxuICAgICAgaWYgKGl0ZW0uaW5zdHJ1Y3Rpb24gIT0gXCJNXCIpIHtcbiAgICAgICAgcHJldiA9IG5ld1BhdGhbcHJldkluZGV4XSA9IHtcbiAgICAgICAgICBpbnN0cnVjdGlvbjogcHJldi5pbnN0cnVjdGlvbixcbiAgICAgICAgICBkYXRhOiBwcmV2LmRhdGEuY29uY2F0KGl0ZW0uZGF0YSksXG4gICAgICAgICAgY29vcmRzOiBpdGVtLmNvb3JkcyxcbiAgICAgICAgICBiYXNlOiBwcmV2LmJhc2UsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2LmRhdGEgPSBpdGVtLmRhdGE7XG4gICAgICAgIHByZXYuY29vcmRzID0gaXRlbS5jb29yZHM7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1BhdGgucHVzaChpdGVtKTtcbiAgICAgIHByZXYgPSBpdGVtO1xuICAgICAgcHJldkluZGV4ID0gbmV3UGF0aC5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdQYXRoO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4iLCAiLyoqXG4gKiBDb252ZXJ0cyBiYXNpYyBzaGFwZSB0byBtb3JlIGNvbXBhY3QgcGF0aC5cbiAqIEl0IGFsc28gYWxsb3dzIGZ1cnRoZXIgb3B0aW1pemF0aW9ucyBsaWtlXG4gKiBjb21iaW5pbmcgcGF0aHMgd2l0aCBzaW1pbGFyIGF0dHJpYnV0ZXMuXG4gKlxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc2hhcGVzLmh0bWxcbiAqXG4gKiBAcGFyYW0ge1NWR0dlb21ldHJ5RWxlbWVudH0gaXRlbSBjdXJyZW50IGl0ZXJhdGlvbiBpdGVtXG4gKlxuICogQGF1dGhvciBMZXYgU29sbnRzZXZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRTaGFwZXNUb1BhdGgoZWw6IFNWR0VsZW1lbnQpOiB2b2lkIHtcbiAgaWYgKFxuICAgIGVsIGluc3RhbmNlb2YgU1ZHUmVjdEVsZW1lbnQgJiZcbiAgICBlbC5oYXNBdHRyaWJ1dGUoXCJ3aWR0aFwiKSAmJlxuICAgIGVsLmhhc0F0dHJpYnV0ZShcImhlaWdodFwiKSAmJlxuICAgIGVsLmhhc0F0dHJpYnV0ZShcInJ4XCIpID09PSBmYWxzZSAmJlxuICAgIGVsLmhhc0F0dHJpYnV0ZShcInJ5XCIpID09PSBmYWxzZVxuICApIHtcbiAgICBjb25zdCB4ID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ4XCIpIHx8IFwiMFwiKTtcbiAgICBjb25zdCB5ID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ5XCIpIHx8IFwiMFwiKTtcbiAgICBjb25zdCB3aWR0aCA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwid2lkdGhcIikgfHwgXCIwXCIpO1xuICAgIGNvbnN0IGhlaWdodCA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpIHx8IFwiMFwiKTtcblxuICAgIC8vIFZhbHVlcyBsaWtlICcxMDAlJyBjb21wdXRlIHRvIE5hTiwgdGh1cyBydW5uaW5nIGFmdGVyXG4gICAgLy8gY2xlYW51cE51bWVyaWNWYWx1ZXMgd2hlbiAncHgnIHVuaXRzIGhhcyBhbHJlYWR5IGJlZW4gcmVtb3ZlZC5cbiAgICAvLyBUT0RPOiBDYWxjdWxhdGUgc2l6ZXMgZnJvbSAlIGFuZCBub24tcHggdW5pdHMgaWYgcG9zc2libGUuXG4gICAgaWYgKGlzTmFOKHggLSB5ICsgd2lkdGggLSBoZWlnaHQpKSByZXR1cm47XG5cbiAgICBjb25zdCBwYXRoRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInBhdGhcIlxuICAgICk7XG5cbiAgICBjb25zdCBwYXRoRGF0YSA9IGBNJHt4fSAke3l9SCR7eCArIHdpZHRofVYke3kgKyBoZWlnaHR9SCR7eH16YDtcbiAgICBwYXRoRWwuc2V0QXR0cmlidXRlKFwiZFwiLCBwYXRoRGF0YSk7XG5cbiAgICBjb25zdCBBVFRSSUJVVEVTX1RPX0VYQ0xVREUgPSBbXCJ4XCIsIFwieVwiLCBcIndpZHRoXCIsIFwiaGVpZ2h0XCJdO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBBcnJheS5mcm9tKGVsLmF0dHJpYnV0ZXMpKSB7XG4gICAgICBpZiAoQVRUUklCVVRFU19UT19FWENMVURFLmluY2x1ZGVzKHByb3AubmFtZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUocHJvcC5uYW1lLCBwcm9wLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlbC5wYXJlbnRFbGVtZW50Py5yZXBsYWNlQ2hpbGQocGF0aEVsLCBlbCk7XG4gIH0gZWxzZSBpZiAoZWwgaW5zdGFuY2VvZiBTVkdMaW5lRWxlbWVudCkge1xuICAgIGNvbnN0IHgxID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ4MVwiKSB8fCBcIjBcIik7XG4gICAgY29uc3QgeDIgPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcIngyXCIpIHx8IFwiMFwiKTtcbiAgICBjb25zdCB5MSA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwieTFcIikgfHwgXCIwXCIpO1xuICAgIGNvbnN0IHkyID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ5MlwiKSB8fCBcIjBcIik7XG5cbiAgICBpZiAoaXNOYU4oeDEgLSB5MSArIHgyIC0geTIpKSByZXR1cm47XG5cbiAgICBjb25zdCBwYXRoRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInBhdGhcIlxuICAgICk7XG4gICAgY29uc3QgcGF0aERhdGEgPSBgTSR7eDF9ICR7eTF9TCR7eDJ9ICR7eTJ9YDtcbiAgICBwYXRoRWwuc2V0QXR0cmlidXRlKFwiZFwiLCBwYXRoRGF0YSk7XG5cbiAgICBjb25zdCBBVFRSSUJVVEVTX1RPX0VYQ0xVREUgPSBbXCJ4MVwiLCBcInkxXCIsIFwieDJcIiwgXCJ5MlwiXTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgQXJyYXkuZnJvbShlbC5hdHRyaWJ1dGVzKSkge1xuICAgICAgaWYgKEFUVFJJQlVURVNfVE9fRVhDTFVERS5pbmNsdWRlcyhwcm9wLm5hbWUpID09PSBmYWxzZSkge1xuICAgICAgICBwYXRoRWwuc2V0QXR0cmlidXRlKHByb3AubmFtZSwgcHJvcC52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZWwucGFyZW50RWxlbWVudD8ucmVwbGFjZUNoaWxkKHBhdGhFbCwgZWwpO1xuICB9IGVsc2UgaWYgKFxuICAgIChlbCBpbnN0YW5jZW9mIFNWR1BvbHlsaW5lRWxlbWVudCB8fCBlbCBpbnN0YW5jZW9mIFNWR1BvbHlnb25FbGVtZW50KSAmJlxuICAgIGVsLmhhc0F0dHJpYnV0ZShcInBvaW50c1wiKVxuICApIHtcbiAgICBjb25zdCBSRUdYX05VTUJFUiA9IC9bLStdPyg/OlxcZCpcXC5cXGQrfFxcZCtcXC4/KSg/OltlRV1bLStdP1xcZCspPy9nO1xuICAgIGNvbnN0IHBvaW50cyA9IGVsLmdldEF0dHJpYnV0ZShcInBvaW50c1wiKSA/PyBcIlwiO1xuICAgIGNvbnN0IGNvb3JkcyA9IChwb2ludHMubWF0Y2goUkVHWF9OVU1CRVIpID8/IFtdKS5tYXAoTnVtYmVyKTtcblxuICAgIGlmIChjb29yZHMubGVuZ3RoIDwgNCkgcmV0dXJuO1xuXG4gICAgY29uc3QgcGF0aEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgXCJwYXRoXCJcbiAgICApO1xuICAgIGNvbnN0IFt4LCB5XSA9IGNvb3Jkcy5zbGljZSgwLCAyKTtcbiAgICBjb25zdCByZW1haW5pbmdQb2ludHMgPSBjb29yZHMuc2xpY2UoMikuam9pbihcIiBcIik7XG4gICAgY29uc3Qgc3VmZml4ID0gZWwgaW5zdGFuY2VvZiBTVkdQb2x5Z29uRWxlbWVudCA/IFwielwiIDogXCJcIjtcbiAgICBjb25zdCBwYXRoRGF0YSA9IGBNJHt4fSAke3l9TCR7cmVtYWluaW5nUG9pbnRzfSR7c3VmZml4fWA7XG4gICAgcGF0aEVsLnNldEF0dHJpYnV0ZShcImRcIiwgcGF0aERhdGEpO1xuXG4gICAgY29uc3QgQVRUUklCVVRFU19UT19FWENMVURFID0gW1wicG9pbnRzXCJdO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBBcnJheS5mcm9tKGVsLmF0dHJpYnV0ZXMpKSB7XG4gICAgICBpZiAoQVRUUklCVVRFU19UT19FWENMVURFLmluY2x1ZGVzKHByb3AubmFtZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUocHJvcC5uYW1lLCBwcm9wLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlbC5wYXJlbnRFbGVtZW50Py5yZXBsYWNlQ2hpbGQocGF0aEVsLCBlbCk7XG4gIH1cbn1cbiIsICIvLyBAdHMtbm9jaGVja1xuLy8gVE9ETzogQWRkIHR5cGVzXG5cbmltcG9ydCB7IHBhdGgyanMsIGpzMnBhdGggfSBmcm9tIFwiLi9saWIvcGF0aFwiO1xuaW1wb3J0IHsgY2xlYW51cE91dERhdGEgfSBmcm9tIFwiLi9saWIvdG9vbHNcIjtcbmltcG9ydCB7IGNvbnZlcnRTaGFwZXNUb1BhdGggfSBmcm9tIFwiLi9saWIvc2hhcGVUb1BhdGhcIjtcblxuZXhwb3J0IGNvbnN0IHBhcmFtcyA9IHtcbiAgYXBwbHlUcmFuc2Zvcm1zOiB0cnVlLFxuICBhcHBseVRyYW5zZm9ybXNTdHJva2VkOiB0cnVlLFxuICBtYWtlQXJjczoge1xuICAgIHRocmVzaG9sZDogMi41LCAvLyBjb2VmZmljaWVudCBvZiByb3VuZGluZyBlcnJvclxuICAgIHRvbGVyYW5jZTogMC41LCAvLyBwZXJjZW50YWdlIG9mIHJhZGl1c1xuICB9LFxuICBzdHJhaWdodEN1cnZlczogdHJ1ZSxcbiAgbGluZVNob3J0aGFuZHM6IHRydWUsXG4gIGN1cnZlU21vb3RoU2hvcnRoYW5kczogdHJ1ZSxcbiAgZmxvYXRQcmVjaXNpb246IDEsXG4gIHRyYW5zZm9ybVByZWNpc2lvbjogNSxcbiAgcmVtb3ZlVXNlbGVzczogdHJ1ZSxcbiAgY29sbGFwc2VSZXBlYXRlZDogdHJ1ZSxcbiAgdXRpbGl6ZUFic29sdXRlOiB0cnVlLFxuICBsZWFkaW5nWmVybzogdHJ1ZSxcbiAgbmVnYXRpdmVFeHRyYVNwYWNlOiB0cnVlLFxuICBub1NwYWNlQWZ0ZXJGbGFnczogdHJ1ZSxcbiAgZm9yY2VBYnNvbHV0ZVBhdGg6IGZhbHNlLFxufTtcblxubGV0IHJvdW5kRGF0YTogeyAoYXJnMDogYW55W10pOiBhbnlbXTsgKGRhdGE6IGFueSk6IGFueSB9O1xubGV0IHByZWNpc2lvbjogbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZDtcbmxldCBlcnJvcjogbnVtYmVyO1xubGV0IGFyY1RocmVzaG9sZDogbnVtYmVyO1xubGV0IGFyY1RvbGVyYW5jZTogbnVtYmVyO1xubGV0IGhhc01hcmtlck1pZDogYm9vbGVhbjtcbmxldCBoYXNTdHJva2VMaW5lY2FwOiBzdHJpbmcgfCBib29sZWFuIHwgbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNydW5jaFN2Zyhzdmc6IFNWR0VsZW1lbnQpIHtcbiAgZm9yIChjb25zdCBub2RlIG9mIEFycmF5LmZyb20oc3ZnLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpKSBhcyBTVkdFbGVtZW50W10pIHtcbiAgICBjb252ZXJ0U2hhcGVzVG9QYXRoKG5vZGUpO1xuICAgIG9wdGltaXNlRWxlbWVudChub2RlKTtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnQgYWJzb2x1dGUgUGF0aCB0byByZWxhdGl2ZSxcbiAqIGNvbGxhcHNlIHJlcGVhdGVkIGluc3RydWN0aW9ucyxcbiAqIGRldGVjdCBhbmQgY29udmVydCBMaW5ldG8gc2hvcnRoYW5kcyxcbiAqIHJlbW92ZSB1c2VsZXNzIGluc3RydWN0aW9ucyBsaWtlIFwibDAsMFwiLFxuICogdHJpbSB1c2VsZXNzIGRlbGltaXRlcnMgYW5kIGxlYWRpbmcgemVyb3MsXG4gKiBkZWNyZWFzZSBhY2N1cmFjeSBvZiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICpcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BhdGhzLmh0bWwjUGF0aERhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaXRlbSBjdXJyZW50IGl0ZXJhdGlvbiBpdGVtXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIHBsdWdpbiBwYXJhbXNcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGlmIGZhbHNlLCBpdGVtIHdpbGwgYmUgZmlsdGVyZWQgb3V0XG4gKlxuICogQGF1dGhvciBLaXIgQmVsZXZpY2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wdGltaXNlRWxlbWVudChpdGVtOiBTVkdFbGVtZW50KSB7XG4gIHByZWNpc2lvbiA9IHBhcmFtcy5mbG9hdFByZWNpc2lvbjtcblxuICBpZiAoaXRlbSBpbnN0YW5jZW9mIFNWR1BhdGhFbGVtZW50ICYmIGl0ZW0uaGFzQXR0cmlidXRlKFwiZFwiKSkge1xuICAgIGVycm9yID1cbiAgICAgIHByZWNpc2lvbiAhPT0gZmFsc2UgPyArTWF0aC5wb3coMC4xLCBwcmVjaXNpb24pLnRvRml4ZWQocHJlY2lzaW9uKSA6IDFlLTI7XG4gICAgcm91bmREYXRhID0gcHJlY2lzaW9uID4gMCAmJiBwcmVjaXNpb24gPCAyMCA/IHN0cm9uZ1JvdW5kIDogcm91bmQ7XG4gICAgaWYgKHBhcmFtcy5tYWtlQXJjcykge1xuICAgICAgYXJjVGhyZXNob2xkID0gcGFyYW1zLm1ha2VBcmNzLnRocmVzaG9sZDtcbiAgICAgIGFyY1RvbGVyYW5jZSA9IHBhcmFtcy5tYWtlQXJjcy50b2xlcmFuY2U7XG4gICAgfVxuICAgIGhhc01hcmtlck1pZCA9IGl0ZW0uaGFzQXR0cmlidXRlKFwibWFya2VyLW1pZFwiKTtcblxuICAgIGNvbnN0IHN0cm9rZSA9IGl0ZW0uZ2V0QXR0cmlidXRlKFwic3Ryb2tlXCIpO1xuICAgIGNvbnN0IHN0cm9rZUxpbmVjYXAgPSBpdGVtLmdldEF0dHJpYnV0ZShcInN0cm9rZVwiKTtcbiAgICBoYXNTdHJva2VMaW5lY2FwID1cbiAgICAgIHN0cm9rZSAmJiBzdHJva2UgIT0gXCJub25lXCIgJiYgc3Ryb2tlTGluZWNhcCAmJiBzdHJva2VMaW5lY2FwICE9IFwiYnV0dFwiO1xuXG4gICAgdmFyIGRhdGEgPSBwYXRoMmpzKGl0ZW0pO1xuXG4gICAgLy8gVE9ETzogZ2V0IHJpZCBvZiBmdW5jdGlvbnMgcmV0dXJuc1xuICAgIGlmIChkYXRhLmxlbmd0aCkge1xuICAgICAgY29udmVydFRvUmVsYXRpdmUoZGF0YSk7XG5cbiAgICAgIGRhdGEgPSBmaWx0ZXJzKGRhdGEsIHBhcmFtcyk7XG5cbiAgICAgIGlmIChwYXJhbXMudXRpbGl6ZUFic29sdXRlKSB7XG4gICAgICAgIGRhdGEgPSBjb252ZXJ0VG9NaXhlZChkYXRhLCBwYXJhbXMpO1xuICAgICAgfVxuXG4gICAgICBqczJwYXRoKGl0ZW0sIGRhdGEsIHBhcmFtcyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ29udmVydCBhYnNvbHV0ZSBwYXRoIGRhdGEgY29vcmRpbmF0ZXMgdG8gcmVsYXRpdmUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBpbnB1dCBwYXRoIGRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgcGx1Z2luIHBhcmFtc1xuICogQHJldHVybiB7QXJyYXl9IG91dHB1dCBwYXRoIGRhdGFcbiAqL1xuZnVuY3Rpb24gY29udmVydFRvUmVsYXRpdmUocGF0aCkge1xuICB2YXIgcG9pbnQgPSBbMCwgMF0sXG4gICAgc3VicGF0aFBvaW50ID0gWzAsIDBdLFxuICAgIGJhc2VJdGVtO1xuXG4gIHBhdGguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICB2YXIgaW5zdHJ1Y3Rpb24gPSBpdGVtLmluc3RydWN0aW9uLFxuICAgICAgZGF0YSA9IGl0ZW0uZGF0YTtcblxuICAgIC8vIGRhdGEgIT09ICF6XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIC8vIGFscmVhZHkgcmVsYXRpdmVcbiAgICAgIC8vIHJlY2FsY3VsYXRlIGN1cnJlbnQgcG9pbnRcbiAgICAgIGlmIChcIm1jc2xxdGFcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xKSB7XG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbZGF0YS5sZW5ndGggLSAyXTtcbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJtXCIpIHtcbiAgICAgICAgICBzdWJwYXRoUG9pbnRbMF0gPSBwb2ludFswXTtcbiAgICAgICAgICBzdWJwYXRoUG9pbnRbMV0gPSBwb2ludFsxXTtcbiAgICAgICAgICBiYXNlSXRlbSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiaFwiKSB7XG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbMF07XG4gICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcInZcIikge1xuICAgICAgICBwb2ludFsxXSArPSBkYXRhWzBdO1xuICAgICAgfVxuXG4gICAgICAvLyBjb252ZXJ0IGFic29sdXRlIHBhdGggZGF0YSBjb29yZGluYXRlcyB0byByZWxhdGl2ZVxuICAgICAgLy8gaWYgXCJNXCIgd2FzIG5vdCB0cmFuc2Zvcm1lZCBmcm9tIFwibVwiXG4gICAgICAvLyBNIFx1MjE5MiBtXG4gICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiTVwiKSB7XG4gICAgICAgIGlmIChpbmRleCA+IDApIGluc3RydWN0aW9uID0gXCJtXCI7XG5cbiAgICAgICAgZGF0YVswXSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVsxXSAtPSBwb2ludFsxXTtcblxuICAgICAgICBzdWJwYXRoUG9pbnRbMF0gPSBwb2ludFswXSArPSBkYXRhWzBdO1xuICAgICAgICBzdWJwYXRoUG9pbnRbMV0gPSBwb2ludFsxXSArPSBkYXRhWzFdO1xuXG4gICAgICAgIGJhc2VJdGVtID0gaXRlbTtcbiAgICAgIH1cblxuICAgICAgLy8gTCBcdTIxOTIgbFxuICAgICAgLy8gVCBcdTIxOTIgdFxuICAgICAgZWxzZSBpZiAoXCJMVFwiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbi50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIC8vIHggeVxuICAgICAgICAvLyAwIDFcbiAgICAgICAgZGF0YVswXSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVsxXSAtPSBwb2ludFsxXTtcblxuICAgICAgICBwb2ludFswXSArPSBkYXRhWzBdO1xuICAgICAgICBwb2ludFsxXSArPSBkYXRhWzFdO1xuXG4gICAgICAgIC8vIEMgXHUyMTkyIGNcbiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiQ1wiKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gXCJjXCI7XG5cbiAgICAgICAgLy8geDEgeTEgeDIgeTIgeCB5XG4gICAgICAgIC8vIDAgIDEgIDIgIDMgIDQgNVxuICAgICAgICBkYXRhWzBdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzFdIC09IHBvaW50WzFdO1xuICAgICAgICBkYXRhWzJdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzNdIC09IHBvaW50WzFdO1xuICAgICAgICBkYXRhWzRdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzVdIC09IHBvaW50WzFdO1xuXG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbNF07XG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbNV07XG5cbiAgICAgICAgLy8gUyBcdTIxOTIgc1xuICAgICAgICAvLyBRIFx1MjE5MiBxXG4gICAgICB9IGVsc2UgaWYgKFwiU1FcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24udG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAvLyB4MSB5MSB4IHlcbiAgICAgICAgLy8gMCAgMSAgMiAzXG4gICAgICAgIGRhdGFbMF0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbMV0gLT0gcG9pbnRbMV07XG4gICAgICAgIGRhdGFbMl0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbM10gLT0gcG9pbnRbMV07XG5cbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVsyXTtcbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVszXTtcblxuICAgICAgICAvLyBBIFx1MjE5MiBhXG4gICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcIkFcIikge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IFwiYVwiO1xuXG4gICAgICAgIC8vIHJ4IHJ5IHgtYXhpcy1yb3RhdGlvbiBsYXJnZS1hcmMtZmxhZyBzd2VlcC1mbGFnIHggeVxuICAgICAgICAvLyAwICAxICAyICAgICAgICAgICAgICAgMyAgICAgICAgICAgICAgNCAgICAgICAgICA1IDZcbiAgICAgICAgZGF0YVs1XSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVs2XSAtPSBwb2ludFsxXTtcblxuICAgICAgICBwb2ludFswXSArPSBkYXRhWzVdO1xuICAgICAgICBwb2ludFsxXSArPSBkYXRhWzZdO1xuXG4gICAgICAgIC8vIEggXHUyMTkyIGhcbiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiSFwiKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gXCJoXCI7XG5cbiAgICAgICAgZGF0YVswXSAtPSBwb2ludFswXTtcblxuICAgICAgICBwb2ludFswXSArPSBkYXRhWzBdO1xuXG4gICAgICAgIC8vIFYgXHUyMTkyIHZcbiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiVlwiKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gXCJ2XCI7XG5cbiAgICAgICAgZGF0YVswXSAtPSBwb2ludFsxXTtcblxuICAgICAgICBwb2ludFsxXSArPSBkYXRhWzBdO1xuICAgICAgfVxuXG4gICAgICBpdGVtLmluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XG4gICAgICBpdGVtLmRhdGEgPSBkYXRhO1xuXG4gICAgICAvLyBzdG9yZSBhYnNvbHV0ZSBjb29yZGluYXRlcyBmb3IgbGF0ZXIgdXNlXG4gICAgICBpdGVtLmNvb3JkcyA9IHBvaW50LnNsaWNlKC0yKTtcbiAgICB9XG5cbiAgICAvLyAhZGF0YSA9PT0geiwgcmVzZXQgY3VycmVudCBwb2ludFxuICAgIGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwielwiKSB7XG4gICAgICBpZiAoYmFzZUl0ZW0pIHtcbiAgICAgICAgaXRlbS5jb29yZHMgPSBiYXNlSXRlbS5jb29yZHM7XG4gICAgICB9XG4gICAgICBwb2ludFswXSA9IHN1YnBhdGhQb2ludFswXTtcbiAgICAgIHBvaW50WzFdID0gc3VicGF0aFBvaW50WzFdO1xuICAgIH1cblxuICAgIGl0ZW0uYmFzZSA9IGluZGV4ID4gMCA/IHBhdGhbaW5kZXggLSAxXS5jb29yZHMgOiBbMCwgMF07XG4gIH0pO1xuXG4gIHJldHVybiBwYXRoO1xufVxuXG4vKipcbiAqIE1haW4gZmlsdGVycyBsb29wLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhdGggaW5wdXQgcGF0aCBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIHBsdWdpbiBwYXJhbXNcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRwdXQgcGF0aCBkYXRhXG4gKi9cbmZ1bmN0aW9uIGZpbHRlcnMocGF0aCwgcGFyYW1zKSB7XG4gIHZhciBzdHJpbmdpZnkgPSBkYXRhMlBhdGguYmluZChudWxsLCBwYXJhbXMpLFxuICAgIHJlbFN1YnBvaW50ID0gWzAsIDBdLFxuICAgIHBhdGhCYXNlID0gWzAsIDBdLFxuICAgIHByZXYgPSB7fTtcblxuICBwYXRoID0gcGF0aC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4LCBwYXRoKSB7XG4gICAgdmFyIGluc3RydWN0aW9uID0gaXRlbS5pbnN0cnVjdGlvbixcbiAgICAgIGRhdGEgPSBpdGVtLmRhdGEsXG4gICAgICBuZXh0ID0gcGF0aFtpbmRleCArIDFdO1xuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHZhciBzZGF0YSA9IGRhdGEsXG4gICAgICAgIGNpcmNsZTtcblxuICAgICAgaWYgKGluc3RydWN0aW9uID09PSBcInNcIikge1xuICAgICAgICBzZGF0YSA9IFswLCAwXS5jb25jYXQoZGF0YSk7XG5cbiAgICAgICAgaWYgKFwiY3NcIi5pbmRleE9mKHByZXYuaW5zdHJ1Y3Rpb24pID4gLTEpIHtcbiAgICAgICAgICB2YXIgcGRhdGEgPSBwcmV2LmRhdGEsXG4gICAgICAgICAgICBuID0gcGRhdGEubGVuZ3RoO1xuXG4gICAgICAgICAgLy8gKC14LCAteSkgb2YgdGhlIHByZXYgdGFuZ2VudCBwb2ludCByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBwb2ludFxuICAgICAgICAgIHNkYXRhWzBdID0gcGRhdGFbbiAtIDJdIC0gcGRhdGFbbiAtIDRdO1xuICAgICAgICAgIHNkYXRhWzFdID0gcGRhdGFbbiAtIDFdIC0gcGRhdGFbbiAtIDNdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnZlcnQgY3VydmVzIHRvIGFyY3MgaWYgcG9zc2libGVcbiAgICAgIGlmIChcbiAgICAgICAgcGFyYW1zLm1ha2VBcmNzICYmXG4gICAgICAgIChpbnN0cnVjdGlvbiA9PSBcImNcIiB8fCBpbnN0cnVjdGlvbiA9PSBcInNcIikgJiZcbiAgICAgICAgaXNDb252ZXgoc2RhdGEpICYmXG4gICAgICAgIChjaXJjbGUgPSBmaW5kQ2lyY2xlKHNkYXRhKSlcbiAgICAgICkge1xuICAgICAgICB2YXIgciA9IHJvdW5kRGF0YShbY2lyY2xlLnJhZGl1c10pWzBdLFxuICAgICAgICAgIGFuZ2xlID0gZmluZEFyY0FuZ2xlKHNkYXRhLCBjaXJjbGUpLFxuICAgICAgICAgIHN3ZWVwID0gc2RhdGFbNV0gKiBzZGF0YVswXSAtIHNkYXRhWzRdICogc2RhdGFbMV0gPiAwID8gMSA6IDAsXG4gICAgICAgICAgYXJjID0ge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IFwiYVwiLFxuICAgICAgICAgICAgZGF0YTogW3IsIHIsIDAsIDAsIHN3ZWVwLCBzZGF0YVs0XSwgc2RhdGFbNV1dLFxuICAgICAgICAgICAgY29vcmRzOiBpdGVtLmNvb3Jkcy5zbGljZSgpLFxuICAgICAgICAgICAgYmFzZTogaXRlbS5iYXNlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3V0cHV0ID0gW2FyY10sXG4gICAgICAgICAgLy8gcmVsYXRpdmUgY29vcmRpbmF0ZXMgdG8gYWRqdXN0IHRoZSBmb3VuZCBjaXJjbGVcbiAgICAgICAgICByZWxDZW50ZXIgPSBbXG4gICAgICAgICAgICBjaXJjbGUuY2VudGVyWzBdIC0gc2RhdGFbNF0sXG4gICAgICAgICAgICBjaXJjbGUuY2VudGVyWzFdIC0gc2RhdGFbNV0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICByZWxDaXJjbGUgPSB7IGNlbnRlcjogcmVsQ2VudGVyLCByYWRpdXM6IGNpcmNsZS5yYWRpdXMgfSxcbiAgICAgICAgICBhcmNDdXJ2ZXMgPSBbaXRlbV0sXG4gICAgICAgICAgaGFzUHJldiA9IDAsXG4gICAgICAgICAgc3VmZml4ID0gXCJcIixcbiAgICAgICAgICBuZXh0TG9uZ2hhbmQ7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChwcmV2Lmluc3RydWN0aW9uID09IFwiY1wiICYmXG4gICAgICAgICAgICBpc0NvbnZleChwcmV2LmRhdGEpICYmXG4gICAgICAgICAgICBpc0FyY1ByZXYocHJldi5kYXRhLCBjaXJjbGUpKSB8fFxuICAgICAgICAgIChwcmV2Lmluc3RydWN0aW9uID09IFwiYVwiICYmXG4gICAgICAgICAgICBwcmV2LnNkYXRhICYmXG4gICAgICAgICAgICBpc0FyY1ByZXYocHJldi5zZGF0YSwgY2lyY2xlKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgYXJjQ3VydmVzLnVuc2hpZnQocHJldik7XG4gICAgICAgICAgYXJjLmJhc2UgPSBwcmV2LmJhc2U7XG4gICAgICAgICAgYXJjLmRhdGFbNV0gPSBhcmMuY29vcmRzWzBdIC0gYXJjLmJhc2VbMF07XG4gICAgICAgICAgYXJjLmRhdGFbNl0gPSBhcmMuY29vcmRzWzFdIC0gYXJjLmJhc2VbMV07XG4gICAgICAgICAgdmFyIHByZXZEYXRhID0gcHJldi5pbnN0cnVjdGlvbiA9PSBcImFcIiA/IHByZXYuc2RhdGEgOiBwcmV2LmRhdGE7XG4gICAgICAgICAgdmFyIHByZXZBbmdsZSA9IGZpbmRBcmNBbmdsZShwcmV2RGF0YSwge1xuICAgICAgICAgICAgY2VudGVyOiBbXG4gICAgICAgICAgICAgIHByZXZEYXRhWzRdICsgY2lyY2xlLmNlbnRlclswXSxcbiAgICAgICAgICAgICAgcHJldkRhdGFbNV0gKyBjaXJjbGUuY2VudGVyWzFdLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHJhZGl1czogY2lyY2xlLnJhZGl1cyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhbmdsZSArPSBwcmV2QW5nbGU7XG4gICAgICAgICAgaWYgKGFuZ2xlID4gTWF0aC5QSSkgYXJjLmRhdGFbM10gPSAxO1xuICAgICAgICAgIGhhc1ByZXYgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgbmV4dCBjdXJ2ZXMgYXJlIGZpdHRpbmcgdGhlIGFyY1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBqID0gaW5kZXg7XG4gICAgICAgICAgKG5leHQgPSBwYXRoWysral0pICYmIH5cImNzXCIuaW5kZXhPZihuZXh0Lmluc3RydWN0aW9uKTtcblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgbmV4dERhdGEgPSBuZXh0LmRhdGE7XG4gICAgICAgICAgaWYgKG5leHQuaW5zdHJ1Y3Rpb24gPT0gXCJzXCIpIHtcbiAgICAgICAgICAgIG5leHRMb25naGFuZCA9IG1ha2VMb25naGFuZChcbiAgICAgICAgICAgICAgeyBpbnN0cnVjdGlvbjogXCJzXCIsIGRhdGE6IG5leHQuZGF0YS5zbGljZSgpIH0sXG4gICAgICAgICAgICAgIHBhdGhbaiAtIDFdLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBuZXh0RGF0YSA9IG5leHRMb25naGFuZC5kYXRhO1xuICAgICAgICAgICAgbmV4dExvbmdoYW5kLmRhdGEgPSBuZXh0RGF0YS5zbGljZSgwLCAyKTtcbiAgICAgICAgICAgIHN1ZmZpeCA9IHN0cmluZ2lmeShbbmV4dExvbmdoYW5kXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0NvbnZleChuZXh0RGF0YSkgJiYgaXNBcmMobmV4dERhdGEsIHJlbENpcmNsZSkpIHtcbiAgICAgICAgICAgIGFuZ2xlICs9IGZpbmRBcmNBbmdsZShuZXh0RGF0YSwgcmVsQ2lyY2xlKTtcbiAgICAgICAgICAgIGlmIChhbmdsZSAtIDIgKiBNYXRoLlBJID4gMWUtMykgYnJlYWs7IC8vIG1vcmUgdGhhbiAzNjBcdTAwQjBcbiAgICAgICAgICAgIGlmIChhbmdsZSA+IE1hdGguUEkpIGFyYy5kYXRhWzNdID0gMTtcbiAgICAgICAgICAgIGFyY0N1cnZlcy5wdXNoKG5leHQpO1xuICAgICAgICAgICAgaWYgKDIgKiBNYXRoLlBJIC0gYW5nbGUgPiAxZS0zKSB7XG4gICAgICAgICAgICAgIC8vIGxlc3MgdGhhbiAzNjBcdTAwQjBcbiAgICAgICAgICAgICAgYXJjLmNvb3JkcyA9IG5leHQuY29vcmRzO1xuICAgICAgICAgICAgICBhcmMuZGF0YVs1XSA9IGFyYy5jb29yZHNbMF0gLSBhcmMuYmFzZVswXTtcbiAgICAgICAgICAgICAgYXJjLmRhdGFbNl0gPSBhcmMuY29vcmRzWzFdIC0gYXJjLmJhc2VbMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBmdWxsIGNpcmNsZSwgbWFrZSBhIGhhbGYtY2lyY2xlIGFyYyBhbmQgYWRkIGEgc2Vjb25kIG9uZVxuICAgICAgICAgICAgICBhcmMuZGF0YVs1XSA9IDIgKiAocmVsQ2lyY2xlLmNlbnRlclswXSAtIG5leHREYXRhWzRdKTtcbiAgICAgICAgICAgICAgYXJjLmRhdGFbNl0gPSAyICogKHJlbENpcmNsZS5jZW50ZXJbMV0gLSBuZXh0RGF0YVs1XSk7XG4gICAgICAgICAgICAgIGFyYy5jb29yZHMgPSBbXG4gICAgICAgICAgICAgICAgYXJjLmJhc2VbMF0gKyBhcmMuZGF0YVs1XSxcbiAgICAgICAgICAgICAgICBhcmMuYmFzZVsxXSArIGFyYy5kYXRhWzZdLFxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICBhcmMgPSB7XG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IFwiYVwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IFtcbiAgICAgICAgICAgICAgICAgIHIsXG4gICAgICAgICAgICAgICAgICByLFxuICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICBzd2VlcCxcbiAgICAgICAgICAgICAgICAgIG5leHQuY29vcmRzWzBdIC0gYXJjLmNvb3Jkc1swXSxcbiAgICAgICAgICAgICAgICAgIG5leHQuY29vcmRzWzFdIC0gYXJjLmNvb3Jkc1sxXSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGNvb3JkczogbmV4dC5jb29yZHMsXG4gICAgICAgICAgICAgICAgYmFzZTogYXJjLmNvb3JkcyxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgb3V0cHV0LnB1c2goYXJjKTtcbiAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbENlbnRlclswXSAtPSBuZXh0RGF0YVs0XTtcbiAgICAgICAgICAgIHJlbENlbnRlclsxXSAtPSBuZXh0RGF0YVs1XTtcbiAgICAgICAgICB9IGVsc2UgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHN0cmluZ2lmeShvdXRwdXQpICsgc3VmZml4KS5sZW5ndGggPCBzdHJpbmdpZnkoYXJjQ3VydmVzKS5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAocGF0aFtqXSAmJiBwYXRoW2pdLmluc3RydWN0aW9uID09IFwic1wiKSB7XG4gICAgICAgICAgICBtYWtlTG9uZ2hhbmQocGF0aFtqXSwgcGF0aFtqIC0gMV0uZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoYXNQcmV2KSB7XG4gICAgICAgICAgICB2YXIgcHJldkFyYyA9IG91dHB1dC5zaGlmdCgpO1xuICAgICAgICAgICAgcm91bmREYXRhKHByZXZBcmMuZGF0YSk7XG4gICAgICAgICAgICByZWxTdWJwb2ludFswXSArPSBwcmV2QXJjLmRhdGFbNV0gLSBwcmV2LmRhdGFbcHJldi5kYXRhLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgcmVsU3VicG9pbnRbMV0gKz0gcHJldkFyYy5kYXRhWzZdIC0gcHJldi5kYXRhW3ByZXYuZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gPSBcImFcIjtcbiAgICAgICAgICAgIHByZXYuZGF0YSA9IHByZXZBcmMuZGF0YTtcbiAgICAgICAgICAgIGl0ZW0uYmFzZSA9IHByZXYuY29vcmRzID0gcHJldkFyYy5jb29yZHM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFyYyA9IG91dHB1dC5zaGlmdCgpO1xuICAgICAgICAgIGlmIChhcmNDdXJ2ZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGl0ZW0uc2RhdGEgPSBzZGF0YS5zbGljZSgpOyAvLyBwcmVzZXJ2ZSBjdXJ2ZSBkYXRhIGZvciBmdXR1cmUgY2hlY2tzXG4gICAgICAgICAgfSBlbHNlIGlmIChhcmNDdXJ2ZXMubGVuZ3RoIC0gMSAtIGhhc1ByZXYgPiAwKSB7XG4gICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGNvbnN1bWVkIG5leHQgaXRlbXNcbiAgICAgICAgICAgIHBhdGguc3BsaWNlLmFwcGx5KFxuICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICBbaW5kZXggKyAxLCBhcmNDdXJ2ZXMubGVuZ3RoIC0gMSAtIGhhc1ByZXZdLmNvbmNhdChvdXRwdXQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWFyYykgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJhXCI7XG4gICAgICAgICAgZGF0YSA9IGFyYy5kYXRhO1xuICAgICAgICAgIGl0ZW0uY29vcmRzID0gYXJjLmNvb3JkcztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSb3VuZGluZyByZWxhdGl2ZSBjb29yZGluYXRlcywgdGFraW5nIGluIGFjY291bnQgYWNjdW1tdWxhdGluZyBlcnJvclxuICAgICAgLy8gdG8gZ2V0IGNsb3NlciB0byBhYnNvbHV0ZSBjb29yZGluYXRlcy4gU3VtIG9mIHJvdW5kZWQgdmFsdWUgcmVtYWlucyBzYW1lOlxuICAgICAgLy8gbCAuMjUgMyAuMjUgMiAuMjUgMyAuMjUgMiAtPiBsIC4zIDMgLjIgMiAuMyAzIC4yIDJcbiAgICAgIGlmIChwcmVjaXNpb24gIT09IGZhbHNlKSB7XG4gICAgICAgIGlmIChcIm1sdHFzY1wiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gZGF0YS5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICBkYXRhW2ldICs9IGl0ZW0uYmFzZVtpICUgMl0gLSByZWxTdWJwb2ludFtpICUgMl07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwiaFwiKSB7XG4gICAgICAgICAgZGF0YVswXSArPSBpdGVtLmJhc2VbMF0gLSByZWxTdWJwb2ludFswXTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcInZcIikge1xuICAgICAgICAgIGRhdGFbMF0gKz0gaXRlbS5iYXNlWzFdIC0gcmVsU3VicG9pbnRbMV07XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJhXCIpIHtcbiAgICAgICAgICBkYXRhWzVdICs9IGl0ZW0uYmFzZVswXSAtIHJlbFN1YnBvaW50WzBdO1xuICAgICAgICAgIGRhdGFbNl0gKz0gaXRlbS5iYXNlWzFdIC0gcmVsU3VicG9pbnRbMV07XG4gICAgICAgIH1cbiAgICAgICAgcm91bmREYXRhKGRhdGEpO1xuXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PSBcImhcIikgcmVsU3VicG9pbnRbMF0gKz0gZGF0YVswXTtcbiAgICAgICAgZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJ2XCIpIHJlbFN1YnBvaW50WzFdICs9IGRhdGFbMF07XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJlbFN1YnBvaW50WzBdICs9IGRhdGFbZGF0YS5sZW5ndGggLSAyXTtcbiAgICAgICAgICByZWxTdWJwb2ludFsxXSArPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcm91bmREYXRhKHJlbFN1YnBvaW50KTtcblxuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24udG9Mb3dlckNhc2UoKSA9PSBcIm1cIikge1xuICAgICAgICAgIHBhdGhCYXNlWzBdID0gcmVsU3VicG9pbnRbMF07XG4gICAgICAgICAgcGF0aEJhc2VbMV0gPSByZWxTdWJwb2ludFsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb252ZXJ0IHN0cmFpZ2h0IGN1cnZlcyBpbnRvIGxpbmVzIHNlZ21lbnRzXG4gICAgICBpZiAocGFyYW1zLnN0cmFpZ2h0Q3VydmVzKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoaW5zdHJ1Y3Rpb24gPT09IFwiY1wiICYmIGlzQ3VydmVTdHJhaWdodExpbmUoZGF0YSkpIHx8XG4gICAgICAgICAgKGluc3RydWN0aW9uID09PSBcInNcIiAmJiBpc0N1cnZlU3RyYWlnaHRMaW5lKHNkYXRhKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5pbnN0cnVjdGlvbiA9PSBcInNcIikgbWFrZUxvbmdoYW5kKG5leHQsIGRhdGEpOyAvLyBmaXggdXAgbmV4dCBjdXJ2ZVxuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJsXCI7XG4gICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoLTIpO1xuICAgICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcInFcIiAmJiBpc0N1cnZlU3RyYWlnaHRMaW5lKGRhdGEpKSB7XG4gICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5pbnN0cnVjdGlvbiA9PSBcInRcIikgbWFrZUxvbmdoYW5kKG5leHQsIGRhdGEpOyAvLyBmaXggdXAgbmV4dCBjdXJ2ZVxuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJsXCI7XG4gICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoLTIpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGluc3RydWN0aW9uID09PSBcInRcIiAmJlxuICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gIT09IFwicVwiICYmXG4gICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiAhPT0gXCJ0XCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImxcIjtcbiAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgtMik7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiYVwiICYmIChkYXRhWzBdID09PSAwIHx8IGRhdGFbMV0gPT09IDApKSB7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImxcIjtcbiAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgtMik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgbGluZSBzaG9ydGhhbmRzXG4gICAgICAvLyBsIDUwIDAgXHUyMTkyIGggNTBcbiAgICAgIC8vIGwgMCA1MCBcdTIxOTIgdiA1MFxuICAgICAgaWYgKHBhcmFtcy5saW5lU2hvcnRoYW5kcyAmJiBpbnN0cnVjdGlvbiA9PT0gXCJsXCIpIHtcbiAgICAgICAgaWYgKGRhdGFbMV0gPT09IDApIHtcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwiaFwiO1xuICAgICAgICAgIGRhdGEucG9wKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YVswXSA9PT0gMCkge1xuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJ2XCI7XG4gICAgICAgICAgZGF0YS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbGxhcHNlIHJlcGVhdGVkIGNvbW1hbmRzXG4gICAgICAvLyBoIDIwIGggMzAgLT4gaCA1MFxuICAgICAgaWYgKFxuICAgICAgICBwYXJhbXMuY29sbGFwc2VSZXBlYXRlZCAmJlxuICAgICAgICAhaGFzTWFya2VyTWlkICYmXG4gICAgICAgIFwibWh2XCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSAmJlxuICAgICAgICBwcmV2Lmluc3RydWN0aW9uICYmXG4gICAgICAgIGluc3RydWN0aW9uID09IHByZXYuaW5zdHJ1Y3Rpb24udG9Mb3dlckNhc2UoKSAmJlxuICAgICAgICAoKGluc3RydWN0aW9uICE9IFwiaFwiICYmIGluc3RydWN0aW9uICE9IFwidlwiKSB8fFxuICAgICAgICAgIHByZXYuZGF0YVswXSA+PSAwID09IGRhdGFbMF0gPj0gMClcbiAgICAgICkge1xuICAgICAgICBwcmV2LmRhdGFbMF0gKz0gZGF0YVswXTtcbiAgICAgICAgaWYgKGluc3RydWN0aW9uICE9IFwiaFwiICYmIGluc3RydWN0aW9uICE9IFwidlwiKSB7XG4gICAgICAgICAgcHJldi5kYXRhWzFdICs9IGRhdGFbMV07XG4gICAgICAgIH1cbiAgICAgICAgcHJldi5jb29yZHMgPSBpdGVtLmNvb3JkcztcbiAgICAgICAgcGF0aFtpbmRleF0gPSBwcmV2O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnZlcnQgY3VydmVzIGludG8gc21vb3RoIHNob3J0aGFuZHNcbiAgICAgIGlmIChwYXJhbXMuY3VydmVTbW9vdGhTaG9ydGhhbmRzICYmIHByZXYuaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgLy8gY3VydmV0b1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiY1wiKSB7XG4gICAgICAgICAgLy8gYyArIGMgXHUyMTkyIGMgKyBzXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiA9PT0gXCJjXCIgJiZcbiAgICAgICAgICAgIGRhdGFbMF0gPT09IC0ocHJldi5kYXRhWzJdIC0gcHJldi5kYXRhWzRdKSAmJlxuICAgICAgICAgICAgZGF0YVsxXSA9PT0gLShwcmV2LmRhdGFbM10gLSBwcmV2LmRhdGFbNV0pXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwic1wiO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcyArIGMgXHUyMTkyIHMgKyBzXG4gICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uID09PSBcInNcIiAmJlxuICAgICAgICAgICAgZGF0YVswXSA9PT0gLShwcmV2LmRhdGFbMF0gLSBwcmV2LmRhdGFbMl0pICYmXG4gICAgICAgICAgICBkYXRhWzFdID09PSAtKHByZXYuZGF0YVsxXSAtIHByZXYuZGF0YVszXSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gXCJzXCI7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBbXmNzXSArIGMgXHUyMTkyIFteY3NdICsgc1xuICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgXCJjc1wiLmluZGV4T2YocHJldi5pbnN0cnVjdGlvbikgPT09IC0xICYmXG4gICAgICAgICAgICBkYXRhWzBdID09PSAwICYmXG4gICAgICAgICAgICBkYXRhWzFdID09PSAwXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwic1wiO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcXVhZHJhdGljIEJcdTAwRTl6aWVyIGN1cnZldG9cbiAgICAgICAgZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwicVwiKSB7XG4gICAgICAgICAgLy8gcSArIHEgXHUyMTkyIHEgKyB0XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiA9PT0gXCJxXCIgJiZcbiAgICAgICAgICAgIGRhdGFbMF0gPT09IHByZXYuZGF0YVsyXSAtIHByZXYuZGF0YVswXSAmJlxuICAgICAgICAgICAgZGF0YVsxXSA9PT0gcHJldi5kYXRhWzNdIC0gcHJldi5kYXRhWzFdXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwidFwiO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gdCArIHEgXHUyMTkyIHQgKyB0XG4gICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uID09PSBcInRcIiAmJlxuICAgICAgICAgICAgZGF0YVsyXSA9PT0gcHJldi5kYXRhWzBdICYmXG4gICAgICAgICAgICBkYXRhWzNdID09PSBwcmV2LmRhdGFbMV1cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gXCJ0XCI7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gcmVtb3ZlIHVzZWxlc3Mgbm9uLWZpcnN0IHBhdGggc2VnbWVudHNcbiAgICAgIGlmIChwYXJhbXMucmVtb3ZlVXNlbGVzcyAmJiAhaGFzU3Ryb2tlTGluZWNhcCkge1xuICAgICAgICAvLyBsIDAsMCAvIGggMCAvIHYgMCAvIHEgMCwwIDAsMCAvIHQgMCwwIC8gYyAwLDAgMCwwIDAsMCAvIHMgMCwwIDAsMFxuICAgICAgICBpZiAoXG4gICAgICAgICAgXCJsaHZxdGNzXCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSAmJlxuICAgICAgICAgIGRhdGEuZXZlcnkoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHJldHVybiBpID09PSAwO1xuICAgICAgICAgIH0pXG4gICAgICAgICkge1xuICAgICAgICAgIHBhdGhbaW5kZXhdID0gcHJldjtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhIDI1LDI1IC0zMCAwLDEgMCwwXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJhXCIgJiYgZGF0YVs1XSA9PT0gMCAmJiBkYXRhWzZdID09PSAwKSB7XG4gICAgICAgICAgcGF0aFtpbmRleF0gPSBwcmV2O1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpdGVtLmluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XG4gICAgICBpdGVtLmRhdGEgPSBkYXRhO1xuXG4gICAgICBwcmV2ID0gaXRlbTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8geiByZXNldHMgY29vcmRpbmF0ZXNcbiAgICAgIHJlbFN1YnBvaW50WzBdID0gcGF0aEJhc2VbMF07XG4gICAgICByZWxTdWJwb2ludFsxXSA9IHBhdGhCYXNlWzFdO1xuICAgICAgaWYgKHByZXYuaW5zdHJ1Y3Rpb24gPT0gXCJ6XCIpIHJldHVybiBmYWxzZTtcbiAgICAgIHByZXYgPSBpdGVtO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gcGF0aDtcbn1cblxuLyoqXG4gKiBXcml0ZXMgZGF0YSBpbiBzaG9ydGVzdCBmb3JtIHVzaW5nIGFic29sdXRlIG9yIHJlbGF0aXZlIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgaW5wdXQgcGF0aCBkYXRhXG4gKiBAcmV0dXJuIHtCb29sZWFufSBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gY29udmVydFRvTWl4ZWQocGF0aCwgcGFyYW1zKSB7XG4gIHZhciBwcmV2ID0gcGF0aFswXTtcblxuICBwYXRoID0gcGF0aC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgaWYgKGluZGV4ID09IDApIHJldHVybiB0cnVlO1xuICAgIGlmICghaXRlbS5kYXRhKSB7XG4gICAgICBwcmV2ID0gaXRlbTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBpbnN0cnVjdGlvbiA9IGl0ZW0uaW5zdHJ1Y3Rpb24sXG4gICAgICBkYXRhID0gaXRlbS5kYXRhLFxuICAgICAgYWRhdGEgPSBkYXRhICYmIGRhdGEuc2xpY2UoMCk7XG5cbiAgICBpZiAoXCJtbHRxc2NcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xKSB7XG4gICAgICBmb3IgKHZhciBpID0gYWRhdGEubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICBhZGF0YVtpXSArPSBpdGVtLmJhc2VbaSAlIDJdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJoXCIpIHtcbiAgICAgIGFkYXRhWzBdICs9IGl0ZW0uYmFzZVswXTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwidlwiKSB7XG4gICAgICBhZGF0YVswXSArPSBpdGVtLmJhc2VbMV07XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcImFcIikge1xuICAgICAgYWRhdGFbNV0gKz0gaXRlbS5iYXNlWzBdO1xuICAgICAgYWRhdGFbNl0gKz0gaXRlbS5iYXNlWzFdO1xuICAgIH1cblxuICAgIHJvdW5kRGF0YShhZGF0YSk7XG5cbiAgICB2YXIgYWJzb2x1dGVEYXRhU3RyID0gY2xlYW51cE91dERhdGEoYWRhdGEsIHBhcmFtcyksXG4gICAgICByZWxhdGl2ZURhdGFTdHIgPSBjbGVhbnVwT3V0RGF0YShkYXRhLCBwYXJhbXMpO1xuXG4gICAgLy8gQ29udmVydCB0byBhYnNvbHV0ZSBjb29yZGluYXRlcyBpZiBpdCdzIHNob3J0ZXIgb3IgZm9yY2VBYnNvbHV0ZVBhdGggaXMgdHJ1ZS5cbiAgICAvLyB2LTIwIC0+IFYwXG4gICAgLy8gRG9uJ3QgY29udmVydCBpZiBpdCBmaXRzIGZvbGxvd2luZyBwcmV2aW91cyBpbnN0cnVjdGlvbi5cbiAgICAvLyBsMjAgMzAtMTAtNTAgaW5zdGVhZCBvZiBsMjAgMzBMMjAgMzBcbiAgICBpZiAoXG4gICAgICBwYXJhbXMuZm9yY2VBYnNvbHV0ZVBhdGggfHxcbiAgICAgIChhYnNvbHV0ZURhdGFTdHIubGVuZ3RoIDwgcmVsYXRpdmVEYXRhU3RyLmxlbmd0aCAmJlxuICAgICAgICAhKFxuICAgICAgICAgIHBhcmFtcy5uZWdhdGl2ZUV4dHJhU3BhY2UgJiZcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9PSBwcmV2Lmluc3RydWN0aW9uICYmXG4gICAgICAgICAgcHJldi5pbnN0cnVjdGlvbi5jaGFyQ29kZUF0KDApID4gOTYgJiZcbiAgICAgICAgICBhYnNvbHV0ZURhdGFTdHIubGVuZ3RoID09IHJlbGF0aXZlRGF0YVN0ci5sZW5ndGggLSAxICYmXG4gICAgICAgICAgKGRhdGFbMF0gPCAwIHx8XG4gICAgICAgICAgICAoL14wXFwuLy50ZXN0KGRhdGFbMF0pICYmIHByZXYuZGF0YVtwcmV2LmRhdGEubGVuZ3RoIC0gMV0gJSAxKSlcbiAgICAgICAgKSlcbiAgICApIHtcbiAgICAgIGl0ZW0uaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbi50b1VwcGVyQ2FzZSgpO1xuICAgICAgaXRlbS5kYXRhID0gYWRhdGE7XG4gICAgfVxuXG4gICAgcHJldiA9IGl0ZW07XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBhdGg7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGN1cnZlIGlzIGNvbnZleC4gQ29udHJvbCBwb2ludHMgb2Ygc3VjaCBhIGN1cnZlIG11c3QgZm9ybVxuICogYSBjb252ZXggcXVhZHJpbGF0ZXJhbCB3aXRoIGRpYWdvbmFscyBjcm9zc3BvaW50IGluc2lkZSBvZiBpdC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIGlucHV0IHBhdGggZGF0YVxuICogQHJldHVybiB7Qm9vbGVhbn0gb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGlzQ29udmV4KGRhdGEpIHtcbiAgdmFyIGNlbnRlciA9IGdldEludGVyc2VjdGlvbihbXG4gICAgMCxcbiAgICAwLFxuICAgIGRhdGFbMl0sXG4gICAgZGF0YVszXSxcbiAgICBkYXRhWzBdLFxuICAgIGRhdGFbMV0sXG4gICAgZGF0YVs0XSxcbiAgICBkYXRhWzVdLFxuICBdKTtcblxuICByZXR1cm4gKFxuICAgIGNlbnRlciAmJlxuICAgIGRhdGFbMl0gPCBjZW50ZXJbMF0gPT0gY2VudGVyWzBdIDwgMCAmJlxuICAgIGRhdGFbM10gPCBjZW50ZXJbMV0gPT0gY2VudGVyWzFdIDwgMCAmJlxuICAgIGRhdGFbNF0gPCBjZW50ZXJbMF0gPT0gY2VudGVyWzBdIDwgZGF0YVswXSAmJlxuICAgIGRhdGFbNV0gPCBjZW50ZXJbMV0gPT0gY2VudGVyWzFdIDwgZGF0YVsxXVxuICApO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIGxpbmVzIGVxdWF0aW9ucyBieSB0d28gcG9pbnRzIGFuZCByZXR1cm5zIHRoZWlyIGludGVyc2VjdGlvbiBwb2ludC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjb29yZHMgOCBudW1iZXJzIGZvciA0IHBhaXJzIG9mIGNvb3JkaW5hdGVzICh4LHkpXG4gKiBAcmV0dXJuIHtBcnJheXx1bmRlZmluZWR9IG91dHB1dCBjb29yZGluYXRlIG9mIGxpbmVzJyBjcm9zc3BvaW50XG4gKi9cbmZ1bmN0aW9uIGdldEludGVyc2VjdGlvbihjb29yZHMpIHtcbiAgLy8gUHJldiBsaW5lIGVxdWF0aW9uIHBhcmFtZXRlcnMuXG4gIHZhciBhMSA9IGNvb3Jkc1sxXSAtIGNvb3Jkc1szXSwgLy8geTEgLSB5MlxuICAgIGIxID0gY29vcmRzWzJdIC0gY29vcmRzWzBdLCAvLyB4MiAtIHgxXG4gICAgYzEgPSBjb29yZHNbMF0gKiBjb29yZHNbM10gLSBjb29yZHNbMl0gKiBjb29yZHNbMV0sIC8vIHgxICogeTIgLSB4MiAqIHkxXG4gICAgLy8gTmV4dCBsaW5lIGVxdWF0aW9uIHBhcmFtZXRlcnNcbiAgICBhMiA9IGNvb3Jkc1s1XSAtIGNvb3Jkc1s3XSwgLy8geTEgLSB5MlxuICAgIGIyID0gY29vcmRzWzZdIC0gY29vcmRzWzRdLCAvLyB4MiAtIHgxXG4gICAgYzIgPSBjb29yZHNbNF0gKiBjb29yZHNbN10gLSBjb29yZHNbNV0gKiBjb29yZHNbNl0sIC8vIHgxICogeTIgLSB4MiAqIHkxXG4gICAgZGVub20gPSBhMSAqIGIyIC0gYTIgKiBiMTtcblxuICBpZiAoIWRlbm9tKSByZXR1cm47IC8vIHBhcmFsbGVsIGxpbmVzIGhhdm4ndCBhbiBpbnRlcnNlY3Rpb25cblxuICB2YXIgY3Jvc3MgPSBbKGIxICogYzIgLSBiMiAqIGMxKSAvIGRlbm9tLCAoYTEgKiBjMiAtIGEyICogYzEpIC8gLWRlbm9tXTtcbiAgaWYgKFxuICAgICFpc05hTihjcm9zc1swXSkgJiZcbiAgICAhaXNOYU4oY3Jvc3NbMV0pICYmXG4gICAgaXNGaW5pdGUoY3Jvc3NbMF0pICYmXG4gICAgaXNGaW5pdGUoY3Jvc3NbMV0pXG4gICkge1xuICAgIHJldHVybiBjcm9zcztcbiAgfVxufVxuXG4vKipcbiAqIERlY3JlYXNlIGFjY3VyYWN5IG9mIGZsb2F0aW5nLXBvaW50IG51bWJlcnNcbiAqIGluIHBhdGggZGF0YSBrZWVwaW5nIGEgc3BlY2lmaWVkIG51bWJlciBvZiBkZWNpbWFscy5cbiAqIFNtYXJ0IHJvdW5kcyB2YWx1ZXMgbGlrZSAyLjM0OTEgdG8gMi4zNSBpbnN0ZWFkIG9mIDIuMzQ5LlxuICogRG9lc24ndCBhcHBseSBcInNtYXJ0bmVzc1wiIGlmIHRoZSBudW1iZXIgcHJlY2lzaW9uIGZpdHMgYWxyZWFkeS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIGlucHV0IGRhdGEgYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRwdXQgZGF0YSBhcnJheVxuICovXG5mdW5jdGlvbiBzdHJvbmdSb3VuZChkYXRhKSB7XG4gIGZvciAodmFyIGkgPSBkYXRhLmxlbmd0aDsgaS0tID4gMDsgKSB7XG4gICAgaWYgKGRhdGFbaV0udG9GaXhlZChwcmVjaXNpb24pICE9IGRhdGFbaV0pIHtcbiAgICAgIHZhciByb3VuZGVkID0gK2RhdGFbaV0udG9GaXhlZChwcmVjaXNpb24gLSAxKTtcbiAgICAgIGRhdGFbaV0gPVxuICAgICAgICArTWF0aC5hYnMocm91bmRlZCAtIGRhdGFbaV0pLnRvRml4ZWQocHJlY2lzaW9uICsgMSkgPj0gZXJyb3JcbiAgICAgICAgICA/ICtkYXRhW2ldLnRvRml4ZWQocHJlY2lzaW9uKVxuICAgICAgICAgIDogcm91bmRlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogU2ltcGxlIHJvdW5kaW5nIGZ1bmN0aW9uIGlmIHByZWNpc2lvbiBpcyAwLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgaW5wdXQgZGF0YSBhcnJheVxuICogQHJldHVybiB7QXJyYXl9IG91dHB1dCBkYXRhIGFycmF5XG4gKi9cbmZ1bmN0aW9uIHJvdW5kKGRhdGEpIHtcbiAgZm9yICh2YXIgaSA9IGRhdGEubGVuZ3RoOyBpLS0gPiAwOyApIHtcbiAgICBkYXRhW2ldID0gTWF0aC5yb3VuZChkYXRhW2ldKTtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBjdXJ2ZSBpcyBhIHN0cmFpZ2h0IGxpbmUgYnkgbWVhc3VyaW5nIGRpc3RhbmNlXG4gKiBmcm9tIG1pZGRsZSBwb2ludHMgdG8gdGhlIGxpbmUgZm9ybWVkIGJ5IGVuZCBwb2ludHMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0geHMgYXJyYXkgb2YgY3VydmUgcG9pbnRzIHgtY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7QXJyYXl9IHlzIGFycmF5IG9mIGN1cnZlIHBvaW50cyB5LWNvb3JkaW5hdGVzXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGlzQ3VydmVTdHJhaWdodExpbmUoZGF0YSkge1xuICAvLyBHZXQgbGluZSBlcXVhdGlvbiBhXHUwMEI3eCArIGJcdTAwQjd5ICsgYyA9IDAgY29lZmZpY2llbnRzIGEsIGIgKGMgPSAwKSBieSBzdGFydCBhbmQgZW5kIHBvaW50cy5cbiAgdmFyIGkgPSBkYXRhLmxlbmd0aCAtIDIsXG4gICAgYSA9IC1kYXRhW2kgKyAxXSwgLy8geTEgXHUyMjEyIHkyICh5MSA9IDApXG4gICAgYiA9IGRhdGFbaV0sIC8vIHgyIFx1MjIxMiB4MSAoeDEgPSAwKVxuICAgIGQgPSAxIC8gKGEgKiBhICsgYiAqIGIpOyAvLyBzYW1lIHBhcnQgZm9yIGFsbCBwb2ludHNcblxuICBpZiAoaSA8PSAxIHx8ICFpc0Zpbml0ZShkKSkgcmV0dXJuIGZhbHNlOyAvLyBjdXJ2ZSB0aGF0IGVuZHMgYXQgc3RhcnQgcG9pbnQgaXNuJ3QgdGhlIGNhc2VcblxuICAvLyBEaXN0YW5jZSBmcm9tIHBvaW50ICh4MCwgeTApIHRvIHRoZSBsaW5lIGlzIHNxcnQoKGMgXHUyMjEyIGFcdTAwQjd4MCBcdTIyMTIgYlx1MDBCN3kwKVx1MDBCMiAvIChhXHUwMEIyICsgYlx1MDBCMikpXG4gIHdoaWxlICgoaSAtPSAyKSA+PSAwKSB7XG4gICAgaWYgKE1hdGguc3FydChNYXRoLnBvdyhhICogZGF0YVtpXSArIGIgKiBkYXRhW2kgKyAxXSwgMikgKiBkKSA+IGVycm9yKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQ29udmVydHMgbmV4dCBjdXJ2ZSBmcm9tIHNob3J0aGFuZCB0byBmdWxsIGZvcm0gdXNpbmcgdGhlIGN1cnJlbnQgY3VydmUgZGF0YS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaXRlbSBjdXJ2ZSB0byBjb252ZXJ0XG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIGN1cnJlbnQgY3VydmUgZGF0YVxuICovXG5cbmZ1bmN0aW9uIG1ha2VMb25naGFuZChpdGVtLCBkYXRhKSB7XG4gIHN3aXRjaCAoaXRlbS5pbnN0cnVjdGlvbikge1xuICAgIGNhc2UgXCJzXCI6XG4gICAgICBpdGVtLmluc3RydWN0aW9uID0gXCJjXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwidFwiOlxuICAgICAgaXRlbS5pbnN0cnVjdGlvbiA9IFwicVwiO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgaXRlbS5kYXRhLnVuc2hpZnQoXG4gICAgZGF0YVtkYXRhLmxlbmd0aCAtIDJdIC0gZGF0YVtkYXRhLmxlbmd0aCAtIDRdLFxuICAgIGRhdGFbZGF0YS5sZW5ndGggLSAxXSAtIGRhdGFbZGF0YS5sZW5ndGggLSAzXVxuICApO1xuICByZXR1cm4gaXRlbTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50c1xuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBvaW50MSBmaXJzdCBwb2ludCBjb29yZGluYXRlc1xuICogQHBhcmFtIHtBcnJheX0gcG9pbnQyIHNlY29uZCBwb2ludCBjb29yZGluYXRlc1xuICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuICovXG5cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHBvaW50MSwgcG9pbnQyKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KHBvaW50MVswXSAtIHBvaW50MlswXSwgcG9pbnQxWzFdIC0gcG9pbnQyWzFdKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGNvb3JkaW5hdGVzIG9mIHRoZSBjdXJ2ZSBwb2ludCBjb3JyZXNwb25kaW5nIHRvIHRoZSBjZXJ0YWluIHRcbiAqIGFcdTAwQjcoMSAtIHQpXHUwMEIzXHUwMEI3cDEgKyBiXHUwMEI3KDEgLSB0KVx1MDBCMlx1MDBCN3RcdTAwQjdwMiArIGNcdTAwQjcoMSAtIHQpXHUwMEI3dFx1MDBCMlx1MDBCN3AzICsgZFx1MDBCN3RcdTAwQjNcdTAwQjdwNCxcbiAqIHdoZXJlIHBOIGFyZSBjb250cm9sIHBvaW50cyBhbmQgcDEgaXMgemVybyBkdWUgdG8gcmVsYXRpdmUgY29vcmRpbmF0ZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gY3VydmUgYXJyYXkgb2YgY3VydmUgcG9pbnRzIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge051bWJlcn0gdCBwYXJhbWV0cmljIHBvc2l0aW9uIGZyb20gMCB0byAxXG4gKiBAcmV0dXJuIHtBcnJheX0gUG9pbnQgY29vcmRpbmF0ZXNcbiAqL1xuXG5mdW5jdGlvbiBnZXRDdWJpY0JlemllclBvaW50KGN1cnZlLCB0KSB7XG4gIHZhciBzcXJUID0gdCAqIHQsXG4gICAgY3ViVCA9IHNxclQgKiB0LFxuICAgIG10ID0gMSAtIHQsXG4gICAgc3FyTXQgPSBtdCAqIG10O1xuXG4gIHJldHVybiBbXG4gICAgMyAqIHNxck10ICogdCAqIGN1cnZlWzBdICsgMyAqIG10ICogc3FyVCAqIGN1cnZlWzJdICsgY3ViVCAqIGN1cnZlWzRdLFxuICAgIDMgKiBzcXJNdCAqIHQgKiBjdXJ2ZVsxXSArIDMgKiBtdCAqIHNxclQgKiBjdXJ2ZVszXSArIGN1YlQgKiBjdXJ2ZVs1XSxcbiAgXTtcbn1cblxuLyoqXG4gKiBGaW5kcyBjaXJjbGUgYnkgMyBwb2ludHMgb2YgdGhlIGN1cnZlIGFuZCBjaGVja3MgaWYgdGhlIGN1cnZlIGZpdHMgdGhlIGZvdW5kIGNpcmNsZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjdXJ2ZVxuICogQHJldHVybiB7T2JqZWN0fHVuZGVmaW5lZH0gY2lyY2xlXG4gKi9cblxuZnVuY3Rpb24gZmluZENpcmNsZShjdXJ2ZSkge1xuICB2YXIgbWlkUG9pbnQgPSBnZXRDdWJpY0JlemllclBvaW50KGN1cnZlLCAxIC8gMiksXG4gICAgbTEgPSBbbWlkUG9pbnRbMF0gLyAyLCBtaWRQb2ludFsxXSAvIDJdLFxuICAgIG0yID0gWyhtaWRQb2ludFswXSArIGN1cnZlWzRdKSAvIDIsIChtaWRQb2ludFsxXSArIGN1cnZlWzVdKSAvIDJdLFxuICAgIGNlbnRlciA9IGdldEludGVyc2VjdGlvbihbXG4gICAgICBtMVswXSxcbiAgICAgIG0xWzFdLFxuICAgICAgbTFbMF0gKyBtMVsxXSxcbiAgICAgIG0xWzFdIC0gbTFbMF0sXG4gICAgICBtMlswXSxcbiAgICAgIG0yWzFdLFxuICAgICAgbTJbMF0gKyAobTJbMV0gLSBtaWRQb2ludFsxXSksXG4gICAgICBtMlsxXSAtIChtMlswXSAtIG1pZFBvaW50WzBdKSxcbiAgICBdKSxcbiAgICByYWRpdXMgPSBjZW50ZXIgJiYgZ2V0RGlzdGFuY2UoWzAsIDBdLCBjZW50ZXIpLFxuICAgIHRvbGVyYW5jZSA9IE1hdGgubWluKGFyY1RocmVzaG9sZCAqIGVycm9yLCAoYXJjVG9sZXJhbmNlICogcmFkaXVzKSAvIDEwMCk7XG5cbiAgaWYgKFxuICAgIGNlbnRlciAmJlxuICAgIHJhZGl1cyA8IDFlMTUgJiZcbiAgICBbMSAvIDQsIDMgLyA0XS5ldmVyeShmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIE1hdGguYWJzKFxuICAgICAgICAgIGdldERpc3RhbmNlKGdldEN1YmljQmV6aWVyUG9pbnQoY3VydmUsIHBvaW50KSwgY2VudGVyKSAtIHJhZGl1c1xuICAgICAgICApIDw9IHRvbGVyYW5jZVxuICAgICAgKTtcbiAgICB9KVxuICApXG4gICAgcmV0dXJuIHsgY2VudGVyOiBjZW50ZXIsIHJhZGl1czogcmFkaXVzIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgY3VydmUgZml0cyB0aGUgZ2l2ZW4gY2lyY2xlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjaXJjbGVcbiAqIEBwYXJhbSB7QXJyYXl9IGN1cnZlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGlzQXJjKGN1cnZlLCBjaXJjbGUpIHtcbiAgdmFyIHRvbGVyYW5jZSA9IE1hdGgubWluKFxuICAgIGFyY1RocmVzaG9sZCAqIGVycm9yLFxuICAgIChhcmNUb2xlcmFuY2UgKiBjaXJjbGUucmFkaXVzKSAvIDEwMFxuICApO1xuXG4gIHJldHVybiBbMCwgMSAvIDQsIDEgLyAyLCAzIC8gNCwgMV0uZXZlcnkoZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIE1hdGguYWJzKFxuICAgICAgICBnZXREaXN0YW5jZShnZXRDdWJpY0JlemllclBvaW50KGN1cnZlLCBwb2ludCksIGNpcmNsZS5jZW50ZXIpIC1cbiAgICAgICAgICBjaXJjbGUucmFkaXVzXG4gICAgICApIDw9IHRvbGVyYW5jZVxuICAgICk7XG4gIH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHByZXZpb3VzIGN1cnZlIGZpdHMgdGhlIGdpdmVuIGNpcmNsZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY2lyY2xlXG4gKiBAcGFyYW0ge0FycmF5fSBjdXJ2ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBpc0FyY1ByZXYoY3VydmUsIGNpcmNsZSkge1xuICByZXR1cm4gaXNBcmMoY3VydmUsIHtcbiAgICBjZW50ZXI6IFtjaXJjbGUuY2VudGVyWzBdICsgY3VydmVbNF0sIGNpcmNsZS5jZW50ZXJbMV0gKyBjdXJ2ZVs1XV0sXG4gICAgcmFkaXVzOiBjaXJjbGUucmFkaXVzLFxuICB9KTtcbn1cblxuLyoqXG4gKiBGaW5kcyBhbmdsZSBvZiBhIGN1cnZlIGZpdHRpbmcgdGhlIGdpdmVuIGFyYy5cblxuICogQHBhcmFtIHtBcnJheX0gY3VydmVcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWxDaXJjbGVcbiAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAqL1xuXG5mdW5jdGlvbiBmaW5kQXJjQW5nbGUoY3VydmUsIHJlbENpcmNsZSkge1xuICB2YXIgeDEgPSAtcmVsQ2lyY2xlLmNlbnRlclswXSxcbiAgICB5MSA9IC1yZWxDaXJjbGUuY2VudGVyWzFdLFxuICAgIHgyID0gY3VydmVbNF0gLSByZWxDaXJjbGUuY2VudGVyWzBdLFxuICAgIHkyID0gY3VydmVbNV0gLSByZWxDaXJjbGUuY2VudGVyWzFdO1xuXG4gIHJldHVybiBNYXRoLmFjb3MoXG4gICAgKHgxICogeDIgKyB5MSAqIHkyKSAvIE1hdGguc3FydCgoeDEgKiB4MSArIHkxICogeTEpICogKHgyICogeDIgKyB5MiAqIHkyKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBnaXZlbiBwYXRoIGRhdGEgdG8gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXNcbiAqIEBwYXJhbSB7QXJyYXl9IHBhdGhEYXRhXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cblxuZnVuY3Rpb24gZGF0YTJQYXRoKHBhcmFtcywgcGF0aERhdGEpIHtcbiAgcmV0dXJuIHBhdGhEYXRhLnJlZHVjZShmdW5jdGlvbiAocGF0aFN0cmluZywgaXRlbSkge1xuICAgIHZhciBzdHJEYXRhID0gXCJcIjtcbiAgICBpZiAoaXRlbS5kYXRhKSB7XG4gICAgICBzdHJEYXRhID0gY2xlYW51cE91dERhdGEocm91bmREYXRhKGl0ZW0uZGF0YS5zbGljZSgpKSwgcGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGhTdHJpbmcgKyBpdGVtLmluc3RydWN0aW9uICsgc3RyRGF0YTtcbiAgfSwgXCJcIik7XG59XG4iLCAiaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgTVNHX0VWRU5UUywgU1RBR0VTLCBVSV9URVhULCBJTklUSUFMX1VJX1NJWkUgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBIZWFkZXIgfSBmcm9tIFwiLi9IZWFkZXJcIjtcbmltcG9ydCB7IFJlc3BvbnNpdmVWaWV3IH0gZnJvbSBcIi4vUmVzcG9uc2l2ZVZpZXdcIjtcbmltcG9ydCB7IEZyYW1lU2VsZWN0aW9uIH0gZnJvbSBcIi4vRnJhbWVTZWxlY3Rpb25cIjtcbmltcG9ydCB7IFByZXZpZXcgfSBmcm9tIFwiLi9QcmV2aWV3XCI7XG5pbXBvcnQgeyBTYXZlIH0gZnJvbSBcIi4vU2F2ZVwiO1xuaW1wb3J0IHsgZGVjb2RlU3ZnVG9TdHJpbmcgfSBmcm9tIFwiLi4vdXRpbHMvc3ZnXCI7XG5pbXBvcnQgeyBjb21wcmVzc0ltYWdlIH0gZnJvbSBcIi4uL3V0aWxzL2NvbXByZXNzSW1hZ2VcIjtcbmltcG9ydCB7IHNlbmRNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWxzL21lc3NhZ2VzXCI7XG5pbXBvcnQge1xuICBBcHBTdGF0ZSxcbiAgTXNnRnJhbWVzVHlwZSxcbiAgRnJhbWVDb2xsZWN0aW9uLFxuICBNc2dDb21wcmVzc0ltYWdlVHlwZSxcbiAgTXNnUmVuZGVyVHlwZSxcbiAgTXNnRXZlbnRUeXBlLFxuICBIZWFkbGluZXNJbnRlcmZhY2UsXG59IGZyb20gXCJ0eXBlc1wiO1xuaW1wb3J0IHsgY3J1bmNoU3ZnIH0gZnJvbSBcInV0aWxzL2NydW5jaFN2Z1wiO1xuXG5leHBvcnQgY2xhc3MgQXBwIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgc3RhdGU6IEFwcFN0YXRlID0ge1xuICAgIGVycm9yOiB1bmRlZmluZWQsXG4gICAgcmVhZHk6IGZhbHNlLFxuICAgIGZyYW1lczoge30sXG4gICAgc3RhZ2U6IFNUQUdFUy5DSE9PU0VfRlJBTUVTLFxuICAgIHByZXZpZXdJbmRleDogMCxcbiAgICBpc1Jlc2l6aW5nOiBmYWxzZSxcbiAgICBtb3VzZVN0YXJ0WDogMCxcbiAgICBtb3VzZVN0YXJ0WTogMCxcbiAgICB3aW5kb3dXaWR0aDogSU5JVElBTF9VSV9TSVpFLndpZHRoLFxuICAgIHdpbmRvd0hlaWdodDogSU5JVElBTF9VSV9TSVpFLmhlaWdodCxcbiAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgIGhlYWRsaW5lOiB1bmRlZmluZWQsXG4gICAgc3ViaGVhZDogdW5kZWZpbmVkLFxuICAgIHNvdXJjZTogdW5kZWZpbmVkLFxuICAgIGxvYWRpbmc6IGZhbHNlLFxuICB9O1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCk6IHZvaWQge1xuICAgIC8vIExpc3RlbiBmb3IgZXZlbnRzIGZyb20gdGhlIGJhY2tlbmRcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGUpID0+XG4gICAgICB0aGlzLmhhbmRsZUV2ZW50cyhlLmRhdGEucGx1Z2luTWVzc2FnZSlcbiAgICApO1xuXG4gICAgc2VuZE1lc3NhZ2UoTVNHX0VWRU5UUy5ET01fUkVBRFkpO1xuICB9XG5cbiAgdXBkYXRlSW5pdGlhbFN0YXRlID0gKGRhdGE6IE1zZ0ZyYW1lc1R5cGUpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBmcmFtZXMsXG4gICAgICB3aW5kb3dIZWlnaHQsXG4gICAgICB3aW5kb3dXaWR0aCxcbiAgICAgIGhlYWRsaW5lLFxuICAgICAgc3ViaGVhZCxcbiAgICAgIHNvdXJjZSxcbiAgICB9ID0gZGF0YTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheShmcmFtZXMpIHx8IGZyYW1lcz8ubGVuZ3RoIDwgMSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yOiBcIk5vIGZyYW1lcyFcIiB9KTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJQb3N0IGVycm9yOiBubyBmcmFtZXNcIiwgZGF0YSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZnJhbWVEYXRhOiBGcmFtZUNvbGxlY3Rpb24gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGZyYW1lIG9mIGZyYW1lcykge1xuICAgICAgY29uc3QgeyBpZCB9ID0gZnJhbWU7XG4gICAgICBjb25zdCBybmRJZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzIpLnN1YnN0cigyKTtcbiAgICAgIGZyYW1lRGF0YVtpZF0gPSB7IC4uLmZyYW1lLCB1aWQ6IGBmMmgtJHtybmRJZH1gLCBzdmdPcHRpbWlzZWQ6IGZhbHNlIH07XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBmcmFtZXM6IGZyYW1lRGF0YSxcbiAgICAgIHJlYWR5OiB0cnVlLFxuICAgICAgd2luZG93V2lkdGgsXG4gICAgICB3aW5kb3dIZWlnaHQsXG4gICAgICBoZWFkbGluZSxcbiAgICAgIHN1YmhlYWQsXG4gICAgICBzb3VyY2UsXG4gICAgfSk7XG4gIH07XG5cbiAgY29tcHJlc3NJbWFnZSA9IGFzeW5jIChtc2c6IE1zZ0NvbXByZXNzSW1hZ2VUeXBlKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgaW1hZ2UsIHdpZHRoLCBoZWlnaHQsIHVpZCB9ID0gbXNnO1xuICAgICAgY29uc3QgaW1nRGF0YSA9IGF3YWl0IGNvbXByZXNzSW1hZ2UoaW1hZ2UsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgc2VuZE1lc3NhZ2UoTVNHX0VWRU5UUy5DT01QUkVTU0VEX0lNQUdFLCB7IGltYWdlOiBpbWdEYXRhLCB1aWQgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IFwiRmFpbGVkIHRvIGNvbXByZXNzIGltYWdlXCIgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZVJlbmRlck1lc3NhZ2UgPSAoZGF0YTogTXNnUmVuZGVyVHlwZSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgZnJhbWVJZCwgc3ZnIH0gPSBkYXRhO1xuICAgIGlmICghZnJhbWVJZCB8fCAhc3ZnKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IFwiRmFpbGVkIHRvIHJlbmRlclwiLCBsb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJQb3N0IG1lc3NhZ2U6IGZhaWxlZCB0byByZW5kZXJcIiwgZGF0YSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBmcmFtZXMgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3Qgc3ZnU3RyID0gZGVjb2RlU3ZnVG9TdHJpbmcoc3ZnKTtcbiAgICBjb25zdCBjbG9uZUZyYW1lcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZnJhbWVzKSkgYXMgRnJhbWVDb2xsZWN0aW9uO1xuICAgIGNsb25lRnJhbWVzW2ZyYW1lSWRdLnN2ZyA9IHN2Z1N0cjtcbiAgICB0aGlzLnNldFN0YXRlKHsgZnJhbWVzOiBjbG9uZUZyYW1lcywgbG9hZGluZzogZmFsc2UgfSk7XG4gIH07XG5cbiAgaGFuZGxlRXZlbnRzID0gKGRhdGE6IE1zZ0V2ZW50VHlwZSk6IHZvaWQgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiVUkgcG9zdFwiLCBkYXRhKTtcbiAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgY2FzZSBNU0dfRVZFTlRTLkZPVU5EX0ZSQU1FUzpcbiAgICAgICAgdGhpcy51cGRhdGVJbml0aWFsU3RhdGUoZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1TR19FVkVOVFMuTk9fRlJBTUVTOlxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IFVJX1RFWFQuRVJST1JfTUlTU0lOR19GUkFNRVMgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1TR19FVkVOVFMuRVJST1I6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVSSBwb3N0IG1lc3NhZ2UgZXJyb3JcIiwgZGF0YSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGVycm9yOiBgJHtVSV9URVhULkVSUk9SX1VORVhQRUNURUR9OiAke2RhdGEuZXJyb3JUZXh0fWAsXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNU0dfRVZFTlRTLlJFTkRFUjpcbiAgICAgICAgdGhpcy5oYW5kbGVSZW5kZXJNZXNzYWdlKGRhdGEpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNU0dfRVZFTlRTLkNPTVBSRVNTX0lNQUdFOlxuICAgICAgICB0aGlzLmNvbXByZXNzSW1hZ2UoZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IFwiVW5rbm93biBwb3N0IG1lc3NhZ2VcIiB9KTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVJIHBvc3QgbWVzc2FnZSBlcnJvclwiLCBkYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRPRE86IE1lcmdlIGdvTmV4dCBhbmQgZ29CYWNrXG4gIGdvTmV4dCA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHN0YWdlLCBwcmV2aWV3SW5kZXgsIGZyYW1lcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7IGxlbmd0aCB9ID0gT2JqZWN0LnZhbHVlcyhmcmFtZXMpLmZpbHRlcigoZikgPT4gZi5zZWxlY3RlZCk7XG5cbiAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmV4dEluZGV4ID0gcHJldmlld0luZGV4ICsgMTtcblxuICAgIHN3aXRjaCAoc3RhZ2UpIHtcbiAgICAgIGNhc2UgU1RBR0VTLkNIT09TRV9GUkFNRVM6XG4gICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgc3RhZ2U6IFNUQUdFUy5QUkVWSUVXX09VVFBVVCB9KTtcblxuICAgICAgY2FzZSBTVEFHRVMuUFJFVklFV19PVVRQVVQ6XG4gICAgICAgIGlmIChsZW5ndGggPT09IG5leHRJbmRleCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgc3RhZ2U6IFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVcgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2V0U3RhdGUoeyBwcmV2aWV3SW5kZXg6IG5leHRJbmRleCB9KTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVc6XG4gICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgc3RhZ2U6IFNUQUdFUy5TQVZFX09VVFBVVCB9KTtcblxuICAgICAgY2FzZSBTVEFHRVMuU0FWRV9PVVRQVVQ6XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgZ29CYWNrID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgc3RhZ2UsIHByZXZpZXdJbmRleCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIHN3aXRjaCAoc3RhZ2UpIHtcbiAgICAgIGNhc2UgU1RBR0VTLkNIT09TRV9GUkFNRVM6XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBTVEFHRVMuUFJFVklFV19PVVRQVVQ6XG4gICAgICAgIGlmIChwcmV2aWV3SW5kZXggPT09IDApIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RhZ2U6IFNUQUdFUy5DSE9PU0VfRlJBTUVTIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwcmV2aWV3SW5kZXg6IHByZXZpZXdJbmRleCAtIDEgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVc6XG4gICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgc3RhZ2U6IFNUQUdFUy5QUkVWSUVXX09VVFBVVCB9KTtcblxuICAgICAgY2FzZSBTVEFHRVMuU0FWRV9PVVRQVVQ6XG4gICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgc3RhZ2U6IFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVcgfSk7XG4gICAgfVxuICB9O1xuXG4gIGdldE91dHB1dFJlbmRlciA9IChmcmFtZUlkOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogdHJ1ZSB9KTtcbiAgICBzZW5kTWVzc2FnZShNU0dfRVZFTlRTLlJFTkRFUiwgeyBmcmFtZUlkIH0pO1xuICB9O1xuXG4gIHRvZ2dsZVByb3AgPSAoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBwcm9wOiBcInNlbGVjdGVkXCIgfCBcInJlc3BvbnNpdmVcIiB8IFwic3ZnT3B0aW1pc2VkXCJcbiAgKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyBmcmFtZXMgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgY2xvbmVGcmFtZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGZyYW1lcykpIGFzIEZyYW1lQ29sbGVjdGlvbjtcbiAgICBjbG9uZUZyYW1lc1tpZF1bcHJvcF0gPSAhY2xvbmVGcmFtZXNbaWRdW3Byb3BdO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGZyYW1lczogY2xvbmVGcmFtZXMgfSk7XG4gIH07XG5cbiAgdG9nZ2xlRnJhbWVTZWxlY3QgPSAoaWQ6IHN0cmluZyk6IHZvaWQgPT4gdGhpcy50b2dnbGVQcm9wKGlkLCBcInNlbGVjdGVkXCIpO1xuXG4gIHRvZ2dsZVJlc29uc2l2ZSA9IChpZDogc3RyaW5nKTogdm9pZCA9PiB0aGlzLnRvZ2dsZVByb3AoaWQsIFwicmVzcG9uc2l2ZVwiKTtcblxuICB0b2dnbGVPcHRpbWlzZWQgPSAoaWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgZnJhbWVzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgc3ZnQ29tcHJlc3NlZCwgc3ZnLCBzdmdPcHRpbWlzZWQgfSA9IGZyYW1lc1tpZF07XG5cbiAgICBpZiAoc3ZnICYmICFzdmdPcHRpbWlzZWQgJiYgIXN2Z0NvbXByZXNzZWQpIHtcbiAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGVsLmlubmVySFRNTCA9IHN2ZztcbiAgICAgIGNvbnN0IHN2Z0VsID0gZWwucXVlcnlTZWxlY3RvcihcInN2Z1wiKTtcblxuICAgICAgaWYgKCFzdmdFbCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTWlzc2luZyBTVkcgaW4gU1ZHIHN0cmluZ1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjcnVuY2hTdmcoc3ZnRWwpO1xuICAgICAgY29uc3QgY2xvbmVGcmFtZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGZyYW1lcykpIGFzIEZyYW1lQ29sbGVjdGlvbjtcbiAgICAgIGNsb25lRnJhbWVzW2lkXS5zdmdDb21wcmVzc2VkID0gc3ZnRWwub3V0ZXJIVE1MO1xuICAgICAgY2xvbmVGcmFtZXNbaWRdLnN2Z09wdGltaXNlZCA9IHRydWU7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZnJhbWVzOiBjbG9uZUZyYW1lcyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50b2dnbGVQcm9wKGlkLCBcInN2Z09wdGltaXNlZFwiKTtcbiAgICB9XG4gIH07XG5cbiAgdG9nZ2xlQWxsUHJvcCA9IChwcm9wTmFtZTogXCJzZWxlY3RlZFwiIHwgXCJyZXNwb25zaXZlXCIpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IGZyYW1lcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBzaG91bGREZXNlbGVjdEFsbCA9IE9iamVjdC52YWx1ZXMoZnJhbWVzKS5zb21lKFxuICAgICAgKGZyYW1lKSA9PiBmcmFtZVtwcm9wTmFtZV1cbiAgICApO1xuXG4gICAgY29uc3QgbmV3RnJhbWVzOiBGcmFtZUNvbGxlY3Rpb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGZyYW1lcykpO1xuICAgIE9iamVjdC52YWx1ZXMobmV3RnJhbWVzKS5mb3JFYWNoKFxuICAgICAgKGZyYW1lKSA9PiAoZnJhbWVbcHJvcE5hbWVdID0gIXNob3VsZERlc2VsZWN0QWxsKVxuICAgICk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgZnJhbWVzOiBuZXdGcmFtZXMgfSk7XG4gIH07XG5cbiAgdG9nZ2xlU2VsZWN0QWxsID0gKCk6IHZvaWQgPT4gdGhpcy50b2dnbGVBbGxQcm9wKFwic2VsZWN0ZWRcIik7XG5cbiAgdG9nZ2xlUmVzcG9uc2l2ZUFsbCA9ICgpOiB2b2lkID0+IHRoaXMudG9nZ2xlQWxsUHJvcChcInJlc3BvbnNpdmVcIik7XG5cbiAgaGFuZGxlRm9ybVVwZGF0ZSA9IChwcm9wczogSGVhZGxpbmVzSW50ZXJmYWNlKTogdm9pZCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IC4uLnByb3BzIH0pO1xuICAgIHNlbmRNZXNzYWdlKE1TR19FVkVOVFMuVVBEQVRFX0hFQURMSU5FUywgcHJvcHMpO1xuICB9O1xuXG4gIHN3aXRjaFZpZXcgPSAoKTogaC5KU1guRWxlbWVudCA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZnJhbWVzLFxuICAgICAgc3RhZ2UsXG4gICAgICBwcmV2aWV3SW5kZXgsXG4gICAgICB3aW5kb3dIZWlnaHQsXG4gICAgICB3aW5kb3dXaWR0aCxcbiAgICAgIGhlYWRsaW5lLFxuICAgICAgc3ViaGVhZCxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGxvYWRpbmcsXG4gICAgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBjb25zdCBmcmFtZXNBcnIgPSBPYmplY3QudmFsdWVzKGZyYW1lcykuc29ydCgoYSwgYikgPT5cbiAgICAgIGEud2lkdGggPD0gYi53aWR0aCA/IC0xIDogMVxuICAgICk7XG4gICAgY29uc3Qgc2VsZWN0ZWRGcmFtZXMgPSBmcmFtZXNBcnIuZmlsdGVyKChmcmFtZSkgPT4gZnJhbWUuc2VsZWN0ZWQpO1xuXG4gICAgLy8gSWYgcHJldmlld2luZyBmcmFtZSB3aXRob3V0IGEgcmVuZGVyIHRoZW4gcmVxdWVzdCBpZiBmcm9tIHRoZSBiYWNrZW5kc1xuICAgIC8vIFRPRE86IE1vdmUgb3V0IG9mIHJlbmRlclxuICAgIGlmIChcbiAgICAgIHN0YWdlID09PSBTVEFHRVMuUFJFVklFV19PVVRQVVQgJiZcbiAgICAgICFzZWxlY3RlZEZyYW1lc1twcmV2aWV3SW5kZXhdLnN2ZyAmJlxuICAgICAgbG9hZGluZyA9PT0gZmFsc2VcbiAgICApIHtcbiAgICAgIHRoaXMuZ2V0T3V0cHV0UmVuZGVyKHNlbGVjdGVkRnJhbWVzW3ByZXZpZXdJbmRleF0uaWQpO1xuICAgIH1cblxuICAgIHN3aXRjaCAoc3RhZ2UpIHtcbiAgICAgIGNhc2UgU1RBR0VTLkNIT09TRV9GUkFNRVM6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEZyYW1lU2VsZWN0aW9uXG4gICAgICAgICAgICBmcmFtZXM9e2ZyYW1lc0Fycn1cbiAgICAgICAgICAgIGhhbmRsZUNsaWNrPXt0aGlzLnRvZ2dsZUZyYW1lU2VsZWN0fVxuICAgICAgICAgICAgdG9nZ2xlUmVzb25zaXZlPXt0aGlzLnRvZ2dsZVJlc29uc2l2ZX1cbiAgICAgICAgICAgIHRvZ2dsZVNlbGVjdEFsbD17dGhpcy50b2dnbGVTZWxlY3RBbGx9XG4gICAgICAgICAgICB0b2dnbGVSZXNwb25zaXZlQWxsPXt0aGlzLnRvZ2dsZVJlc3BvbnNpdmVBbGx9XG4gICAgICAgICAgICBoZWFkbGluZT17aGVhZGxpbmV9XG4gICAgICAgICAgICBzdWJoZWFkPXtzdWJoZWFkfVxuICAgICAgICAgICAgc291cmNlPXtzb3VyY2V9XG4gICAgICAgICAgICBoYW5kbGVGb3JtVXBkYXRlPXt0aGlzLmhhbmRsZUZvcm1VcGRhdGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcblxuICAgICAgY2FzZSBTVEFHRVMuUFJFVklFV19PVVRQVVQ6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFByZXZpZXdcbiAgICAgICAgICAgIGZyYW1lPXtzZWxlY3RlZEZyYW1lc1twcmV2aWV3SW5kZXhdfVxuICAgICAgICAgICAgd2luZG93SGVpZ2h0PXt3aW5kb3dIZWlnaHR9XG4gICAgICAgICAgICB3aW5kb3dXaWR0aD17d2luZG93V2lkdGh9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcblxuICAgICAgY2FzZSBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSZXNwb25zaXZlVmlld1xuICAgICAgICAgICAgd2luZG93SGVpZ2h0PXt3aW5kb3dIZWlnaHR9XG4gICAgICAgICAgICB3aW5kb3dXaWR0aD17d2luZG93V2lkdGh9XG4gICAgICAgICAgICBmcmFtZXM9e3NlbGVjdGVkRnJhbWVzfVxuICAgICAgICAgICAgaGVhZGxpbmU9e2hlYWRsaW5lfVxuICAgICAgICAgICAgc3ViaGVhZD17c3ViaGVhZH1cbiAgICAgICAgICAgIHNvdXJjZT17c291cmNlfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG5cbiAgICAgIGNhc2UgU1RBR0VTLlNBVkVfT1VUUFVUOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxTYXZlXG4gICAgICAgICAgICBmcmFtZXM9e3NlbGVjdGVkRnJhbWVzfVxuICAgICAgICAgICAgaGVhZGxpbmU9e2hlYWRsaW5lfVxuICAgICAgICAgICAgc3ViaGVhZD17c3ViaGVhZH1cbiAgICAgICAgICAgIHNvdXJjZT17c291cmNlfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiA8ZGl2PkxvYWRpbmcuLi48L2Rpdj47XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpOiBoLkpTWC5FbGVtZW50IHtcbiAgICBjb25zdCB7IGVycm9yLCBmcmFtZXMsIHN0YWdlLCBwcmV2aWV3SW5kZXgsIGxvYWRpbmcgfSA9IHRoaXMuc3RhdGU7XG4gICAgLy8gVE9ETzogRG9uJ3QgcmVseSBvbiBvYmplY3QgcHJvcCBvcmRlclxuICAgIGNvbnN0IHNlbGVjdGVkRnJhbWUgPSBPYmplY3QudmFsdWVzKGZyYW1lcylbcHJldmlld0luZGV4XTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaFwiPlxuICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgc3RhZ2U9e3N0YWdlfVxuICAgICAgICAgIGhhbmRsZUJhY2tDbGljaz17dGhpcy5nb0JhY2t9XG4gICAgICAgICAgaGFuZGxlTmV4dENsaWNrPXt0aGlzLmdvTmV4dH1cbiAgICAgICAgICBkaXNhYmxlTmV4dD17bG9hZGluZyB8fCBzdGFnZSA9PT0gU1RBR0VTLlNBVkVfT1VUUFVUfVxuICAgICAgICAgIGZyYW1lPXtzZWxlY3RlZEZyYW1lfVxuICAgICAgICAgIGhhbmRsZU9wdGltc2VDbGljaz17dGhpcy50b2dnbGVPcHRpbWlzZWR9XG4gICAgICAgIC8+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX2JvZHlcIj5cbiAgICAgICAgICB7ZXJyb3IgPyA8ZGl2IGNsYXNzTmFtZT1cImVycm9yXCI+e2Vycm9yfTwvZGl2PiA6IHRoaXMuc3dpdGNoVmlldygpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnQgKi9cbmltcG9ydCB7IGgsIHJlbmRlciB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IGluamVjdENzcyB9IGZyb20gXCIuL3V0aWxzL2Nzc1wiO1xuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4vY29tcG9uZW50cy9BcHBcIjtcblxuLy8gSW1wb3J0IENTUyBmaWxlcyBhcyBwbGFpbiB0ZXh0IHZpYSBlc2J1aWxkIGxvYWRlciBvcHRpb25cbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCB1aUNzcyBmcm9tIFwiLi91aS5jc3NcIjtcbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCBmb250c0NzcyBmcm9tIFwiLi9mb250cy5jc3NcIjtcbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCBlbWJlZENzcyBmcm9tIFwiLi9lbWJlZC5jc3NcIjtcblxuaW5qZWN0Q3NzKHVpQ3NzKTtcbmluamVjdENzcyhlbWJlZENzcyk7XG5pbmplY3RDc3MoZm9udHNDc3MpO1xuXG4vLyBSZW5kZXIgYXBwXG5yZW5kZXIoPEFwcCAvPiwgZG9jdW1lbnQuYm9keSk7XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7O0FDQUE7Ozs7O0FDQUE7SUFBQyxVQUFTLElBQUU7QUFBRyxVQUFHLGNBQVksT0FBTyxVQUFRLE9BQU87QUFBSSxlQUFPLElBQUc7ZUFBVyxlQUFhLE9BQU87QUFBUTs7QUFBUyxjQUFJLEdBQUUsWUFBVSxDQUFDLFNBQVEsSUFBSTs7T0FBVyxTQUFLO0FBQVc7QUFBYSxrQkFBVyxJQUFFO0FBQUcsZUFBTSxlQUFhLE9BQU8sS0FBRSxLQUFFLENBQUMsU0FBUSxTQUFJLFlBQVUsT0FBTyxNQUFJLFNBQVEsS0FBSyx1REFBc0QsS0FBRSxDQUFDLFNBQVEsQ0FBQyxNQUFJLEdBQUUsV0FBUyw2RUFBNkUsS0FBSyxHQUFFLFFBQU0sSUFBSSxLQUFLLENBQUMsT0FBUyxLQUFHLENBQUMsTUFBSyxHQUFFLFNBQU87O0FBQUUsa0JBQVcsSUFBRSxJQUFFO0FBQUcsWUFBSSxLQUFFLElBQUk7QUFBZSxXQUFFLEtBQUssT0FBTSxLQUFHLEdBQUUsZUFBYSxRQUFPLEdBQUUsU0FBTztBQUFXLGFBQUUsR0FBRSxVQUFTLElBQUU7V0FBSSxHQUFFLFVBQVE7QUFBVyxrQkFBUSxNQUFNO1dBQTRCLEdBQUU7O0FBQU8sa0JBQVc7QUFBRyxZQUFJLEtBQUUsSUFBSTtBQUFlLFdBQUUsS0FBSyxRQUFPLElBQUU7QUFBSTtBQUFJLGFBQUU7aUJBQWE7O0FBQUksZUFBTyxPQUFLLEdBQUUsVUFBUSxPQUFLLEdBQUU7O0FBQU8sa0JBQVc7QUFBRztBQUFJLGFBQUUsY0FBYyxJQUFJLFdBQVc7aUJBQWdC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RSxPQUFLLElBQUUsTUFBRyxHQUFFLGFBQWE7QUFBSSxXQUFPLEVBQUUsSUFBRSxJQUFFLE1BQUcsR0FBRSxLQUFJLE1BQUcsR0FBRSxLQUFJOztBQUFNLGFBQVcsSUFBRSxJQUFFLElBQUUsSUFBRTtBQUFHLFFBQUksS0FBRSxDQUFDLE1BQUssSUFBRSxPQUFNLElBQUUsS0FBSSxJQUFFLEtBQUksSUFBRSxLQUFJLE1BQUssSUFBRyxNQUFLLEtBQUksR0FBRSxLQUFJLE1BQUssS0FBSSxRQUFPLEtBQUksTUFBSyxhQUFZLFFBQU8sS0FBSTtBQUFHLFdBQU8sUUFBTSxNQUFJLElBQUUsTUFBSSxLQUFHLEVBQUUsU0FBTyxFQUFFLE1BQU0sS0FBRzs7QUFBRTtBQUFhLFdBQU07O0FBQUcsYUFBVztBQUFHLFdBQU8sR0FBRTs7QUFBUyxhQUFXLElBQUU7QUFBRyxTQUFLLFFBQU0sSUFBRSxLQUFLLFVBQVE7O0FBQUUsYUFBVyxJQUFFO0FBQUcsUUFBRyxRQUFNO0FBQUUsYUFBTyxHQUFFLEtBQUcsRUFBRSxHQUFFLElBQUcsR0FBRSxHQUFHLElBQUksUUFBUSxNQUFHLEtBQUc7QUFBSyxhQUFRLElBQUUsS0FBRSxHQUFFLElBQUksUUFBTztBQUFJLFVBQUcsUUFBTyxNQUFFLEdBQUUsSUFBSSxRQUFLLFFBQU0sR0FBRTtBQUFJLGVBQU8sR0FBRTtBQUFJLFdBQU0sY0FBWSxPQUFPLEdBQUUsT0FBSyxFQUFFLE1BQUc7O0FBQUssYUFBVztBQUFHLFFBQUksSUFBRTtBQUFFLFFBQUcsUUFBTyxNQUFFLEdBQUUsT0FBSyxRQUFNLEdBQUU7QUFBSyxXQUFJLEdBQUUsTUFBSSxHQUFFLElBQUksT0FBSyxNQUFLLEtBQUUsR0FBRSxLQUFFLEdBQUUsSUFBSSxRQUFPO0FBQUksWUFBRyxRQUFPLE1BQUUsR0FBRSxJQUFJLFFBQUssUUFBTSxHQUFFO0FBQUssYUFBRSxNQUFJLEdBQUUsSUFBSSxPQUFLLEdBQUU7QUFBSTs7QUFBTSxhQUFPLEVBQUU7OztBQUFJLGNBQVc7QUFBRyxJQUFDLEVBQUMsR0FBRSxPQUFNLElBQUUsTUFBSSxTQUFLLEdBQUUsS0FBSyxPQUFJLENBQUMsUUFBSyxPQUFJLEVBQUUsc0JBQXNCLE9BQUUsRUFBRSxzQkFBb0IsR0FBRzs7QUFBRztBQUFhLGFBQVEsSUFBRSxLQUFFLEdBQUU7QUFBUSxXQUFFLEdBQUUsS0FBSyxTQUFTLElBQUU7QUFBRyxlQUFPLEdBQUUsSUFBSSxNQUFJLEdBQUUsSUFBSTtVQUFNLEtBQUUsSUFBRyxHQUFFLEtBQUssU0FBUztBQUFHLFlBQUksSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUU7QUFBRSxXQUFFLE9BQU0sTUFBRyxNQUFHLE1BQUUsSUFBRyxLQUFLLEtBQUssTUFBRSxHQUFFLFFBQU8sTUFBRSxJQUFJLE1BQUUsR0FBRSxJQUFHLEtBQUksTUFBSSxJQUFFLEtBQUUsRUFBRSxJQUFFLElBQUUsSUFBRSxHQUFFLEtBQUksV0FBUyxHQUFFLGlCQUFnQixNQUFLLElBQUUsUUFBTSxLQUFFLEVBQUUsTUFBRyxLQUFHLEVBQUUsSUFBRSxLQUFHLE1BQUcsTUFBRyxFQUFFOzs7QUFBTyxhQUFXLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFO0FBQUcsUUFBSSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxLQUFFLE1BQUcsR0FBRSxPQUFLLElBQUUsS0FBRSxHQUFFO0FBQU8sU0FBSSxNQUFHLEtBQUksTUFBRSxRQUFNLEtBQUUsR0FBRSxLQUFHLEtBQUUsRUFBRSxJQUFFLEtBQUcsT0FBTSxHQUFFLE1BQUksSUFBRyxLQUFFLEdBQUUsS0FBRSxHQUFFLFFBQU87QUFBSSxVQUFHLFFBQU8sTUFBRSxHQUFFLElBQUksTUFBRyxRQUFPLE1BQUUsR0FBRSxRQUFLLGFBQVcsT0FBTyxLQUFFLE9BQUssWUFBVSxPQUFPLE1BQUcsWUFBVSxPQUFPLEtBQUUsRUFBRSxNQUFLLElBQUUsTUFBSyxNQUFLLE1BQUcsTUFBTSxRQUFRLE1BQUcsRUFBRSxHQUFFLENBQUMsVUFBUyxLQUFHLE1BQUssTUFBSyxRQUFNLFFBQU0sR0FBRSxPQUFLLFFBQU0sR0FBRSxNQUFJLEVBQUUsR0FBRSxNQUFLLEdBQUUsT0FBTSxHQUFFLEtBQUksTUFBSyxHQUFFLE9BQUs7QUFBSSxZQUFHLEdBQUUsS0FBRyxJQUFFLEdBQUUsTUFBSSxHQUFFLE1BQUksR0FBRSxTQUFRLE1BQUUsR0FBRSxRQUFLLE1BQUcsR0FBRSxPQUFLLEdBQUUsT0FBSyxHQUFFLFNBQU8sR0FBRTtBQUFLLGFBQUUsTUFBRzs7QUFBWSxlQUFJLEtBQUUsR0FBRSxLQUFFLElBQUU7QUFBSyxnQkFBSSxNQUFFLEdBQUUsUUFBSyxHQUFFLE9BQUssR0FBRSxPQUFLLEdBQUUsU0FBTyxHQUFFO0FBQU0saUJBQUUsTUFBRztBQUFPOztBQUFNLGlCQUFFOztBQUFLLFlBQUcsS0FBRSxFQUFFLElBQUUsSUFBRSxLQUFFLE1BQUcsR0FBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsS0FBSSxNQUFFLEdBQUUsUUFBTSxHQUFFLE9BQUssTUFBSSxPQUFJLE1BQUUsS0FBSSxHQUFFLE9BQUssR0FBRSxLQUFLLEdBQUUsS0FBSSxNQUFLLEtBQUcsR0FBRSxLQUFLLElBQUUsR0FBRSxPQUFLLElBQUUsTUFBSSxRQUFNO0FBQUcsY0FBRyxRQUFNLE1BQUksTUFBRSxLQUFHLEtBQUUsUUFBTyxXQUFTLEdBQUU7QUFBSSxpQkFBRSxHQUFFLEtBQUksR0FBRSxNQUFJO21CQUFlLE1BQUcsTUFBRyxNQUFHLE1BQUcsUUFBTSxHQUFFO0FBQVk7QUFBRSxrQkFBRyxRQUFNLE1BQUcsR0FBRSxlQUFhO0FBQUUsbUJBQUUsWUFBWSxLQUFHLEtBQUU7O0FBQVUscUJBQUksS0FBRSxJQUFFLEtBQUUsR0FBRyxNQUFFLEdBQUUsZ0JBQWMsS0FBRSxJQUFFLE1BQUc7QUFBRSxzQkFBRyxNQUFHO0FBQUU7QUFBUSxtQkFBRSxhQUFhLElBQUUsS0FBRyxLQUFFOztBQUFFLHdCQUFVLEdBQUUsUUFBTyxJQUFFLFFBQU07O0FBQUksZUFBRSxXQUFTLEtBQUUsS0FBRSxHQUFFLGFBQVksY0FBWSxPQUFPLEdBQUUsUUFBTyxJQUFFLE1BQUk7O0FBQVEsZ0JBQUcsR0FBRSxPQUFLLE1BQUcsR0FBRSxjQUFZLE1BQUksTUFBRSxFQUFFOztBQUFJLFFBQUcsR0FBRSxNQUFJLElBQUUsUUFBTSxNQUFHLGNBQVksT0FBTyxHQUFFO0FBQUssV0FBSSxLQUFFLEdBQUUsUUFBTztBQUFLLGdCQUFNLEdBQUUsT0FBSSxHQUFFLEdBQUU7QUFBSSxTQUFJLEtBQUUsSUFBRTtBQUFLLGNBQU0sR0FBRSxPQUFJLEVBQUUsR0FBRSxLQUFHLEdBQUU7QUFBSSxRQUFHO0FBQUUsV0FBSSxLQUFFLEdBQUUsS0FBRSxHQUFFLFFBQU87QUFBSSxVQUFFLEdBQUUsS0FBRyxHQUFFLEVBQUUsS0FBRyxHQUFFLEVBQUU7O0FBQTBHLGFBQVcsSUFBRSxJQUFFLElBQUUsSUFBRTtBQUFHLFFBQUk7QUFBRSxTQUFJLE1BQUs7QUFBRSxxQkFBYSxNQUFHLFVBQVEsTUFBRyxNQUFLLE1BQUcsRUFBRSxJQUFFLElBQUUsTUFBSyxHQUFFLEtBQUc7QUFBRyxTQUFJLE1BQUs7QUFBRSxZQUFHLGNBQVksT0FBTyxHQUFFLE9BQUksZUFBYSxNQUFHLFVBQVEsTUFBRyxZQUFVLE1BQUcsY0FBWSxNQUFHLEdBQUUsUUFBSyxHQUFFLE9BQUksRUFBRSxJQUFFLElBQUUsR0FBRSxLQUFHLEdBQUUsS0FBRzs7QUFBRyxhQUFXLElBQUUsSUFBRTtBQUFHLFlBQU0sR0FBRSxLQUFHLEdBQUUsWUFBWSxJQUFFLE1BQUcsR0FBRSxNQUFHLFlBQVUsT0FBTyxNQUFHLFVBQUssR0FBRSxLQUFLLE1BQUcsS0FBRSxPQUFLLFFBQU0sS0FBRSxLQUFHOztBQUFFLGFBQVcsSUFBRSxJQUFFLElBQUUsSUFBRTtBQUFHLFFBQUksSUFBRSxJQUFFLElBQUUsSUFBRTtBQUFFLFFBQUcsS0FBRSxnQkFBYyxNQUFJLE1BQUUsV0FBUyxZQUFVLE1BQUksTUFBRSxjQUFhLFlBQVU7QUFBRSxVQUFHLEtBQUUsR0FBRSxPQUFNLFlBQVUsT0FBTztBQUFFLFdB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</script>
