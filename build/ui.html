<div id="app"></div>
<script>(() => {
  let __defineProperty = Object.defineProperty;
  let __hasOwnProperty = Object.prototype.hasOwnProperty;
  let __assign = Object.assign;
  let __commonJS = (callback, module) => () => {
    if (!module) {
      module = {exports: {}};
      callback(module.exports, module);
    }
    return module.exports;
  };
  let __markAsModule = (target) => {
    return __defineProperty(target, "__esModule", {value: true});
  };
  let __exportStar = (target, module) => {
    __markAsModule(target);
    for (let key in module)
      if (__hasOwnProperty.call(module, key) && !__hasOwnProperty.call(target, key) && key !== "default")
        __defineProperty(target, key, {get: () => module[key], enumerable: true});
    return target;
  };
  let __toModule = (module) => {
    if (module && module.__esModule)
      return module;
    return __exportStar(__defineProperty({}, "default", {value: module, enumerable: true}), module);
  };

  // src/embed.css
  var require_embed = __commonJS((exports, module) => {
    module.exports = 'html,\nbody {\n  margin: 0;\n}\n\n.f2h__text {\n  margin: 0;\n  font-family: sans-serif;\n  transform: translate(-50%, -50%);\n  /* white-space: pre; */\n\n  /* DEBUG */\n  /* color: rgba(255, 0, 0, 0.34) !important; */\n}\n\n.f2h__render {\n  position: relative;\n  overflow: hidden;\n}\n\n.f2h__render svg {\n  display: block;\n  margin: 0;\n}\n\n.f2h__render svg text {\n  /* DEBUG */\n  display: none;\n}\n\n.f2h__render--responsive {\n  width: 100%;\n}\n\n.f2h__render--responsive svg {\n  width: 100%;\n  height: auto;\n}\n\n.f2h_headline {\n  font-family: "Austin News Deck Semibold", Georgia, "Times New Roman", Times, serif;\n  font-size: 22px;\n  color: #333;\n  margin: 0;\n  line-height: 1.3;\n}\n.f2h_subbhead {\n  font-family: "Austin News Text Roman", Georgia, "Times New Roman", Times, serif;\n  font-size: 17px;\n  color: #333;\n  margin: 0;\n  line-height: 1.5;\n}\n.f2h_header {\n  margin-bottom: 12px;\n}\n\n.f2h_source {\n  font-family: "Telesans Text Regular", Arial, Helvetica, sans-serif;\n  font-size: 12px;\n  color: #999;\n  margin: 12px 0 0;\n}\n';
  });

  // src/fonts.css
  var require_fonts = __commonJS((exports, module) => {
    module.exports = '@font-face {\n  font-family: "Austin News Deck Semibold";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.ttf") format("truetype");\n  font-weight: 700;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Austin News Deck Medium";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.ttf") format("truetype");\n  font-weight: 700;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Austin News Deck Roman";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.ttf") format("truetype");\n  font-weight: 400;\n  font-display: "swap";\n}\n\n@font-face {\n  font-family: "Austin News Text Roman";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.ttf") format("truetype");\n  font-weight: 700;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Telesans Text Regular";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.woff2") format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.ttf") format("truetype");\n  font-weight: 400;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Telesans Agate Regular";\n  font-style: "normal";\n  font-weight: 500;\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/TelesansAgate-Medium.woff") format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/TelesansAgate-Medium.ttf") format("truetype");\n}\n';
  });

  // node_modules/.pnpm/file-saver@2.0.2/node_modules/file-saver/dist/FileSaver.min.js
  var require_FileSaver_min = __commonJS((exports, module) => {
    (function(a3, b2) {
      if ("function" == typeof define && define.amd)
        define([], b2);
      else if ("undefined" != typeof exports)
        b2();
      else {
        b2(), a3.FileSaver = {exports: {}}.exports;
      }
    })(exports, function() {
      "use strict";
      function b2(a4, b3) {
        return "undefined" == typeof b3 ? b3 = {autoBom: false} : "object" != typeof b3 && (console.warn("Deprecated: Expected third argument to be a object"), b3 = {autoBom: !b3}), b3.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a4.type) ? new Blob(["ï»¿", a4], {type: a4.type}) : a4;
      }
      function c3(b3, c4, d3) {
        var e3 = new XMLHttpRequest();
        e3.open("GET", b3), e3.responseType = "blob", e3.onload = function() {
          a3(e3.response, c4, d3);
        }, e3.onerror = function() {
          console.error("could not download file");
        }, e3.send();
      }
      function d2(a4) {
        var b3 = new XMLHttpRequest();
        b3.open("HEAD", a4, false);
        try {
          b3.send();
        } catch (a5) {
        }
        return 200 <= b3.status && 299 >= b3.status;
      }
      function e2(a4) {
        try {
          a4.dispatchEvent(new MouseEvent("click"));
        } catch (c4) {
          var b3 = document.createEvent("MouseEvents");
          b3.initMouseEvent("click", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null), a4.dispatchEvent(b3);
        }
      }
      var f3 = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof global && global.global === global ? global : void 0, a3 = f3.saveAs || ("object" != typeof window || window !== f3 ? function() {
      } : "download" in HTMLAnchorElement.prototype ? function(b3, g3, h3) {
        var i3 = f3.URL || f3.webkitURL, j2 = document.createElement("a");
        g3 = g3 || b3.name || "download", j2.download = g3, j2.rel = "noopener", "string" == typeof b3 ? (j2.href = b3, j2.origin === location.origin ? e2(j2) : d2(j2.href) ? c3(b3, g3, h3) : e2(j2, j2.target = "_blank")) : (j2.href = i3.createObjectURL(b3), setTimeout(function() {
          i3.revokeObjectURL(j2.href);
        }, 4e4), setTimeout(function() {
          e2(j2);
        }, 0));
      } : "msSaveOrOpenBlob" in navigator ? function(f4, g3, h3) {
        if (g3 = g3 || f4.name || "download", "string" != typeof f4)
          navigator.msSaveOrOpenBlob(b2(f4, h3), g3);
        else if (d2(f4))
          c3(f4, g3, h3);
        else {
          var i3 = document.createElement("a");
          i3.href = f4, i3.target = "_blank", setTimeout(function() {
            e2(i3);
          });
        }
      } : function(a4, b3, d3, e3) {
        if (e3 = e3 || open("", "_blank"), e3 && (e3.document.title = e3.document.body.innerText = "downloading..."), "string" == typeof a4)
          return c3(a4, b3, d3);
        var g3 = "application/octet-stream" === a4.type, h3 = /constructor/i.test(f3.HTMLElement) || f3.safari, i3 = /CriOS\/[\d]+/.test(navigator.userAgent);
        if ((i3 || g3 && h3) && "object" == typeof FileReader) {
          var j2 = new FileReader();
          j2.onloadend = function() {
            var a5 = j2.result;
            a5 = i3 ? a5 : a5.replace(/^data:[^;]*;/, "data:attachment/file;"), e3 ? e3.location.href = a5 : location = a5, e3 = null;
          }, j2.readAsDataURL(a4);
        } else {
          var k2 = f3.URL || f3.webkitURL, l3 = k2.createObjectURL(a4);
          e3 ? e3.location = l3 : location.href = l3, e3 = null, setTimeout(function() {
            k2.revokeObjectURL(l3);
          }, 4e4);
        }
      });
      f3.saveAs = a3.saveAs = a3, "undefined" != typeof module && (module.exports = a3);
    });
  });

  // node_modules/.pnpm/compressorjs@1.0.6/node_modules/compressorjs/dist/compressor.js
  var require_compressor = __commonJS((exports, module) => {
    (function(global2, factory) {
      typeof exports === "object" && typeof module !== "undefined" ? module.exports = factory() : typeof define === "function" && define.amd ? define(factory) : (global2 = global2 || self, global2.Compressor = factory());
    })(exports, function() {
      "use strict";
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _defineProperties(target, props) {
        for (var i3 = 0; i3 < props.length; i3++) {
          var descriptor = props[i3];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, descriptor.key, descriptor);
        }
      }
      function _createClass(Constructor, protoProps, staticProps) {
        if (protoProps)
          _defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          _defineProperties(Constructor, staticProps);
        return Constructor;
      }
      function _defineProperty(obj, key, value) {
        if (key in obj) {
          Object.defineProperty(obj, key, {
            value,
            enumerable: true,
            configurable: true,
            writable: true
          });
        } else {
          obj[key] = value;
        }
        return obj;
      }
      function _extends() {
        _extends = Object.assign || function(target) {
          for (var i3 = 1; i3 < arguments.length; i3++) {
            var source = arguments[i3];
            for (var key in source) {
              if (Object.prototype.hasOwnProperty.call(source, key)) {
                target[key] = source[key];
              }
            }
          }
          return target;
        };
        return _extends.apply(this, arguments);
      }
      function ownKeys(object, enumerableOnly) {
        var keys = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var symbols = Object.getOwnPropertySymbols(object);
          if (enumerableOnly)
            symbols = symbols.filter(function(sym) {
              return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
          keys.push.apply(keys, symbols);
        }
        return keys;
      }
      function _objectSpread2(target) {
        for (var i3 = 1; i3 < arguments.length; i3++) {
          var source = arguments[i3] != null ? arguments[i3] : {};
          if (i3 % 2) {
            ownKeys(Object(source), true).forEach(function(key) {
              _defineProperty(target, key, source[key]);
            });
          } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
          } else {
            ownKeys(Object(source)).forEach(function(key) {
              Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
            });
          }
        }
        return target;
      }
      function createCommonjsModule(fn, module2) {
        return module2 = {exports: {}}, fn(module2, module2.exports), module2.exports;
      }
      var canvasToBlob = createCommonjsModule(function(module2) {
        if (typeof window === "undefined") {
          return;
        }
        (function(window2) {
          var CanvasPrototype = window2.HTMLCanvasElement && window2.HTMLCanvasElement.prototype;
          var hasBlobConstructor = window2.Blob && function() {
            try {
              return Boolean(new Blob());
            } catch (e2) {
              return false;
            }
          }();
          var hasArrayBufferViewSupport = hasBlobConstructor && window2.Uint8Array && function() {
            try {
              return new Blob([new Uint8Array(100)]).size === 100;
            } catch (e2) {
              return false;
            }
          }();
          var BlobBuilder = window2.BlobBuilder || window2.WebKitBlobBuilder || window2.MozBlobBuilder || window2.MSBlobBuilder;
          var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;
          var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window2.atob && window2.ArrayBuffer && window2.Uint8Array && function(dataURI) {
            var matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i3, bb;
            matches = dataURI.match(dataURIPattern);
            if (!matches) {
              throw new Error("invalid data URI");
            }
            mediaType = matches[2] ? matches[1] : "text/plain" + (matches[3] || ";charset=US-ASCII");
            isBase64 = !!matches[4];
            dataString = dataURI.slice(matches[0].length);
            if (isBase64) {
              byteString = atob(dataString);
            } else {
              byteString = decodeURIComponent(dataString);
            }
            arrayBuffer = new ArrayBuffer(byteString.length);
            intArray = new Uint8Array(arrayBuffer);
            for (i3 = 0; i3 < byteString.length; i3 += 1) {
              intArray[i3] = byteString.charCodeAt(i3);
            }
            if (hasBlobConstructor) {
              return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {
                type: mediaType
              });
            }
            bb = new BlobBuilder();
            bb.append(arrayBuffer);
            return bb.getBlob(mediaType);
          };
          if (window2.HTMLCanvasElement && !CanvasPrototype.toBlob) {
            if (CanvasPrototype.mozGetAsFile) {
              CanvasPrototype.toBlob = function(callback, type, quality) {
                var self2 = this;
                setTimeout(function() {
                  if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {
                    callback(dataURLtoBlob(self2.toDataURL(type, quality)));
                  } else {
                    callback(self2.mozGetAsFile("blob", type));
                  }
                });
              };
            } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {
              CanvasPrototype.toBlob = function(callback, type, quality) {
                var self2 = this;
                setTimeout(function() {
                  callback(dataURLtoBlob(self2.toDataURL(type, quality)));
                });
              };
            }
          }
          if (module2.exports) {
            module2.exports = dataURLtoBlob;
          } else {
            window2.dataURLtoBlob = dataURLtoBlob;
          }
        })(window);
      });
      var isBlob = function isBlob2(input) {
        if (typeof Blob === "undefined") {
          return false;
        }
        return input instanceof Blob || Object.prototype.toString.call(input) === "[object Blob]";
      };
      var DEFAULTS = {
        strict: true,
        checkOrientation: true,
        maxWidth: Infinity,
        maxHeight: Infinity,
        minWidth: 0,
        minHeight: 0,
        width: void 0,
        height: void 0,
        quality: 0.8,
        mimeType: "auto",
        convertSize: 5e6,
        beforeDraw: null,
        drew: null,
        success: null,
        error: null
      };
      var IS_BROWSER = typeof window !== "undefined" && typeof window.document !== "undefined";
      var WINDOW = IS_BROWSER ? window : {};
      var slice = Array.prototype.slice;
      function toArray(value) {
        return Array.from ? Array.from(value) : slice.call(value);
      }
      var REGEXP_IMAGE_TYPE = /^image\/.+$/;
      function isImageType(value) {
        return REGEXP_IMAGE_TYPE.test(value);
      }
      function imageTypeToExtension(value) {
        var extension = isImageType(value) ? value.substr(6) : "";
        if (extension === "jpeg") {
          extension = "jpg";
        }
        return ".".concat(extension);
      }
      var fromCharCode = String.fromCharCode;
      function getStringFromCharCode(dataView, start, length) {
        var str = "";
        var i3;
        length += start;
        for (i3 = start; i3 < length; i3 += 1) {
          str += fromCharCode(dataView.getUint8(i3));
        }
        return str;
      }
      var btoa = WINDOW.btoa;
      function arrayBufferToDataURL(arrayBuffer, mimeType) {
        var chunks = [];
        var chunkSize = 8192;
        var uint8 = new Uint8Array(arrayBuffer);
        while (uint8.length > 0) {
          chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));
          uint8 = uint8.subarray(chunkSize);
        }
        return "data:".concat(mimeType, ";base64,").concat(btoa(chunks.join("")));
      }
      function resetAndGetOrientation(arrayBuffer) {
        var dataView = new DataView(arrayBuffer);
        var orientation;
        try {
          var littleEndian;
          var app1Start;
          var ifdStart;
          if (dataView.getUint8(0) === 255 && dataView.getUint8(1) === 216) {
            var length = dataView.byteLength;
            var offset = 2;
            while (offset + 1 < length) {
              if (dataView.getUint8(offset) === 255 && dataView.getUint8(offset + 1) === 225) {
                app1Start = offset;
                break;
              }
              offset += 1;
            }
          }
          if (app1Start) {
            var exifIDCode = app1Start + 4;
            var tiffOffset = app1Start + 10;
            if (getStringFromCharCode(dataView, exifIDCode, 4) === "Exif") {
              var endianness = dataView.getUint16(tiffOffset);
              littleEndian = endianness === 18761;
              if (littleEndian || endianness === 19789) {
                if (dataView.getUint16(tiffOffset + 2, littleEndian) === 42) {
                  var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);
                  if (firstIFDOffset >= 8) {
                    ifdStart = tiffOffset + firstIFDOffset;
                  }
                }
              }
            }
          }
          if (ifdStart) {
            var _length = dataView.getUint16(ifdStart, littleEndian);
            var _offset;
            var i3;
            for (i3 = 0; i3 < _length; i3 += 1) {
              _offset = ifdStart + i3 * 12 + 2;
              if (dataView.getUint16(_offset, littleEndian) === 274) {
                _offset += 8;
                orientation = dataView.getUint16(_offset, littleEndian);
                dataView.setUint16(_offset, 1, littleEndian);
                break;
              }
            }
          }
        } catch (e2) {
          orientation = 1;
        }
        return orientation;
      }
      function parseOrientation(orientation) {
        var rotate = 0;
        var scaleX = 1;
        var scaleY = 1;
        switch (orientation) {
          case 2:
            scaleX = -1;
            break;
          case 3:
            rotate = -180;
            break;
          case 4:
            scaleY = -1;
            break;
          case 5:
            rotate = 90;
            scaleY = -1;
            break;
          case 6:
            rotate = 90;
            break;
          case 7:
            rotate = 90;
            scaleX = -1;
            break;
          case 8:
            rotate = -90;
            break;
        }
        return {
          rotate,
          scaleX,
          scaleY
        };
      }
      var REGEXP_DECIMALS = /\.\d*(?:0|9){12}\d*$/;
      function normalizeDecimalNumber(value) {
        var times = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e11;
        return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;
      }
      var ArrayBuffer$1 = WINDOW.ArrayBuffer, FileReader2 = WINDOW.FileReader;
      var URL2 = WINDOW.URL || WINDOW.webkitURL;
      var REGEXP_EXTENSION = /\.\w+$/;
      var AnotherCompressor = WINDOW.Compressor;
      var Compressor2 = function() {
        function Compressor3(file, options) {
          _classCallCheck(this, Compressor3);
          this.file = file;
          this.image = new Image();
          this.options = _objectSpread2({}, DEFAULTS, {}, options);
          this.aborted = false;
          this.result = null;
          this.init();
        }
        _createClass(Compressor3, [
          {
            key: "init",
            value: function init() {
              var _this = this;
              var file = this.file, options = this.options;
              if (!isBlob(file)) {
                this.fail(new Error("The first argument must be a File or Blob object."));
                return;
              }
              var mimeType = file.type;
              if (!isImageType(mimeType)) {
                this.fail(new Error("The first argument must be an image File or Blob object."));
                return;
              }
              if (!URL2 || !FileReader2) {
                this.fail(new Error("The current browser does not support image compression."));
                return;
              }
              if (!ArrayBuffer$1) {
                options.checkOrientation = false;
              }
              if (URL2 && !options.checkOrientation) {
                this.load({
                  url: URL2.createObjectURL(file)
                });
              } else {
                var reader = new FileReader2();
                var checkOrientation = options.checkOrientation && mimeType === "image/jpeg";
                this.reader = reader;
                reader.onload = function(_ref) {
                  var target = _ref.target;
                  var result = target.result;
                  var data = {};
                  if (checkOrientation) {
                    var orientation = resetAndGetOrientation(result);
                    if (orientation > 1 || !URL2) {
                      data.url = arrayBufferToDataURL(result, mimeType);
                      if (orientation > 1) {
                        _extends(data, parseOrientation(orientation));
                      }
                    } else {
                      data.url = URL2.createObjectURL(file);
                    }
                  } else {
                    data.url = result;
                  }
                  _this.load(data);
                };
                reader.onabort = function() {
                  _this.fail(new Error("Aborted to read the image with FileReader."));
                };
                reader.onerror = function() {
                  _this.fail(new Error("Failed to read the image with FileReader."));
                };
                reader.onloadend = function() {
                  _this.reader = null;
                };
                if (checkOrientation) {
                  reader.readAsArrayBuffer(file);
                } else {
                  reader.readAsDataURL(file);
                }
              }
            }
          },
          {
            key: "load",
            value: function load(data) {
              var _this2 = this;
              var file = this.file, image = this.image;
              image.onload = function() {
                _this2.draw(_objectSpread2({}, data, {
                  naturalWidth: image.naturalWidth,
                  naturalHeight: image.naturalHeight
                }));
              };
              image.onabort = function() {
                _this2.fail(new Error("Aborted to load the image."));
              };
              image.onerror = function() {
                _this2.fail(new Error("Failed to load the image."));
              };
              if (WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)) {
                image.crossOrigin = "anonymous";
              }
              image.alt = file.name;
              image.src = data.url;
            }
          },
          {
            key: "draw",
            value: function draw(_ref2) {
              var _this3 = this;
              var naturalWidth = _ref2.naturalWidth, naturalHeight = _ref2.naturalHeight, _ref2$rotate = _ref2.rotate, rotate = _ref2$rotate === void 0 ? 0 : _ref2$rotate, _ref2$scaleX = _ref2.scaleX, scaleX = _ref2$scaleX === void 0 ? 1 : _ref2$scaleX, _ref2$scaleY = _ref2.scaleY, scaleY = _ref2$scaleY === void 0 ? 1 : _ref2$scaleY;
              var file = this.file, image = this.image, options = this.options;
              var canvas = document.createElement("canvas");
              var context = canvas.getContext("2d");
              var aspectRatio = naturalWidth / naturalHeight;
              var is90DegreesRotated = Math.abs(rotate) % 180 === 90;
              var maxWidth = Math.max(options.maxWidth, 0) || Infinity;
              var maxHeight = Math.max(options.maxHeight, 0) || Infinity;
              var minWidth = Math.max(options.minWidth, 0) || 0;
              var minHeight = Math.max(options.minHeight, 0) || 0;
              var width = Math.max(options.width, 0) || naturalWidth;
              var height = Math.max(options.height, 0) || naturalHeight;
              if (is90DegreesRotated) {
                var _ref3 = [maxHeight, maxWidth];
                maxWidth = _ref3[0];
                maxHeight = _ref3[1];
                var _ref4 = [minHeight, minWidth];
                minWidth = _ref4[0];
                minHeight = _ref4[1];
                var _ref5 = [height, width];
                width = _ref5[0];
                height = _ref5[1];
              }
              if (maxWidth < Infinity && maxHeight < Infinity) {
                if (maxHeight * aspectRatio > maxWidth) {
                  maxHeight = maxWidth / aspectRatio;
                } else {
                  maxWidth = maxHeight * aspectRatio;
                }
              } else if (maxWidth < Infinity) {
                maxHeight = maxWidth / aspectRatio;
              } else if (maxHeight < Infinity) {
                maxWidth = maxHeight * aspectRatio;
              }
              if (minWidth > 0 && minHeight > 0) {
                if (minHeight * aspectRatio > minWidth) {
                  minHeight = minWidth / aspectRatio;
                } else {
                  minWidth = minHeight * aspectRatio;
                }
              } else if (minWidth > 0) {
                minHeight = minWidth / aspectRatio;
              } else if (minHeight > 0) {
                minWidth = minHeight * aspectRatio;
              }
              if (height * aspectRatio > width) {
                height = width / aspectRatio;
              } else {
                width = height * aspectRatio;
              }
              width = Math.floor(normalizeDecimalNumber(Math.min(Math.max(width, minWidth), maxWidth)));
              height = Math.floor(normalizeDecimalNumber(Math.min(Math.max(height, minHeight), maxHeight)));
              var destX = -width / 2;
              var destY = -height / 2;
              var destWidth = width;
              var destHeight = height;
              if (is90DegreesRotated) {
                var _ref6 = [height, width];
                width = _ref6[0];
                height = _ref6[1];
              }
              canvas.width = width;
              canvas.height = height;
              if (!isImageType(options.mimeType)) {
                options.mimeType = file.type;
              }
              var fillStyle = "transparent";
              if (file.size > options.convertSize && options.mimeType === "image/png") {
                fillStyle = "#fff";
                options.mimeType = "image/jpeg";
              }
              context.fillStyle = fillStyle;
              context.fillRect(0, 0, width, height);
              if (options.beforeDraw) {
                options.beforeDraw.call(this, context, canvas);
              }
              if (this.aborted) {
                return;
              }
              context.save();
              context.translate(width / 2, height / 2);
              context.rotate(rotate * Math.PI / 180);
              context.scale(scaleX, scaleY);
              context.drawImage(image, destX, destY, destWidth, destHeight);
              context.restore();
              if (options.drew) {
                options.drew.call(this, context, canvas);
              }
              if (this.aborted) {
                return;
              }
              var done = function done2(result) {
                if (!_this3.aborted) {
                  _this3.done({
                    naturalWidth,
                    naturalHeight,
                    result
                  });
                }
              };
              if (canvas.toBlob) {
                canvas.toBlob(done, options.mimeType, options.quality);
              } else {
                done(canvasToBlob(canvas.toDataURL(options.mimeType, options.quality)));
              }
            }
          },
          {
            key: "done",
            value: function done(_ref7) {
              var naturalWidth = _ref7.naturalWidth, naturalHeight = _ref7.naturalHeight, result = _ref7.result;
              var file = this.file, image = this.image, options = this.options;
              if (URL2 && !options.checkOrientation) {
                URL2.revokeObjectURL(image.src);
              }
              if (result) {
                if (options.strict && result.size > file.size && options.mimeType === file.type && !(options.width > naturalWidth || options.height > naturalHeight || options.minWidth > naturalWidth || options.minHeight > naturalHeight)) {
                  result = file;
                } else {
                  var date = new Date();
                  result.lastModified = date.getTime();
                  result.lastModifiedDate = date;
                  result.name = file.name;
                  if (result.name && result.type !== file.type) {
                    result.name = result.name.replace(REGEXP_EXTENSION, imageTypeToExtension(result.type));
                  }
                }
              } else {
                result = file;
              }
              this.result = result;
              if (options.success) {
                options.success.call(this, result);
              }
            }
          },
          {
            key: "fail",
            value: function fail(err) {
              var options = this.options;
              if (options.error) {
                options.error.call(this, err);
              } else {
                throw err;
              }
            }
          },
          {
            key: "abort",
            value: function abort() {
              if (!this.aborted) {
                this.aborted = true;
                if (this.reader) {
                  this.reader.abort();
                } else if (!this.image.complete) {
                  this.image.onload = null;
                  this.image.onabort();
                } else {
                  this.fail(new Error("The compression process has been aborted."));
                }
              }
            }
          }
        ], [
          {
            key: "noConflict",
            value: function noConflict() {
              window.Compressor = AnotherCompressor;
              return Compressor3;
            }
          },
          {
            key: "setDefaults",
            value: function setDefaults(options) {
              _extends(DEFAULTS, options);
            }
          }
        ]);
        return Compressor3;
      }();
      return Compressor2;
    });
  });

  // src/ui.css
  var require_ui = __commonJS((exports, module) => {
    module.exports = '/*! minireset.css v0.0.6 | MIT License | github.com/jgthms/minireset.css */\nhtml,\nbody,\np,\nol,\nul,\nli,\ndl,\ndt,\ndd,\nblockquote,\nfigure,\nfieldset,\nlegend,\ntextarea,\npre,\niframe,\nhr,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n  padding: 0;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: 100%;\n  font-weight: normal;\n}\nul {\n  list-style: none;\n}\nbutton,\ninput,\nselect,\ntextarea {\n  margin: 0;\n}\nhtml {\n  box-sizing: border-box;\n}\n*,\n*::before,\n*::after {\n  box-sizing: inherit;\n}\n\niframe {\n  border: 0;\n}\n\n@import url("https://rsms.me/inter/inter.css");\n\nbody {\n  --padding-small: 6px;\n  --padding-medium: 12px;\n  --padding-large: 24px;\n  --padding-huge: 48px;\n\n  --border-radius-small: 3px;\n  --border-radius-medium: 6px;\n  --border-radius-large: 12px;\n\n  --colours-grey-0: rgb(33, 33, 33);\n  --colours-grey-1: rgb(74, 74, 74);\n  --colours-grey-2: rgb(133, 133, 133);\n  --colours-grey-3: rgb(179, 179, 179);\n  --colours-grey-4: rgb(227, 227, 227);\n  --colours-grey-5: rgb(245, 245, 245);\n  --colours-main: rgb(72, 202, 126);\n  --colours-main-light: rgb(208, 242, 222);\n  --colours-main-dark: rgb(44, 75, 57);\n  --colours-warning: rgb(255, 242, 175);\n\n  --font-family-sans-serif: Arial, Helvetica, sans-serif;\n  --font-famailt-serif: Georgia, "Times New Roman", Times, serif;\n\n  --font-size--small: 11px;\n  --font-size--medium: 14px;\n  --font-size--large: 18px;\n}\n\nhtml {\n  font-family: "Inter", sans-serif;\n}\n@supports (font-variation-settings: normal) {\n  html {\n    font-family: "Inter var", sans-serif;\n  }\n}\n\nhtml,\nbody {\n  margin: 0;\n  font-size: 14px;\n}\n\nbutton {\n  border: 1px solid transparent;\n  background: #fff;\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  cursor: pointer;\n  border-radius: var(--border-radius-small, 0);\n  outline: none;\n  border: 1px solid transparent;\n\n  background: var(--colours-main, #f0f);\n}\n\n.btn--primary {\n  color: #fff;\n  background: var(--colours-main, #f0f);\n}\n\n.btn--secondary {\n  color: var(--colours-grey-1, #f0f);\n  border-color: var(--colours-grey-2, #f0f);\n  background-color: transparent;\n  margin-right: var(--padding-small, 0);\n}\n\nbutton:disabled {\n  border: 1px solid var(--colours-grey-4, #f0f);\n  color: var(--colours-grey-4, #f0f);\n  background: #fff;\n}\n\nbutton:active,\nbutton:hover {\n  outline: none;\n}\n\n.f2h {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n/* [Header] */\n.f2h__header {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  border-bottom: 1px solid #e4e4e4;\n  background: #f9f9f9;\n}\n.f2h__nav {\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.f2h__title {\n  font-family: var(--font-family-sans-serif, sans-serif);\n  font-size: var(--font-size--medium, 1em);\n}\n.f2h__info {\n  margin-left: var(--padding-medium, 0);\n  display: flex;\n  max-width: 60%;\n  white-space: nowrap;\n}\n.f2h__info_title {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.f2h__info_meta {\n  font-size: var(--font-size--medium, 1em);\n  padding-left: var(--padding-small, 0);\n  margin-left: var(--padding-small, 0);\n  border-left: 1px solid var(--colours-grey-4, #f0f);\n}\n.f2h__info_responsive--no {\n  text-decoration: line-through;\n}\n.f2h__svg_optimise {\n  margin-left: var(--padding-medium, 0);\n  padding-left: var(--padding-small, 0);\n  border-left: 1px solid var(--colours-grey-4, #f0f);\n}\n.f2h__svg_optimise span {\n  padding-left: var(--padding-small, 0);\n}\n\n.f2h__body {\n  display: flex;\n  padding: var(--padding-large, 0) var(--padding-huge, 0);\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background-color: var(--colours-grey-5, #f0f);\n}\n\n/* [ Frame selection and Form ] */\n.f2h__choose_frames {\n  min-width: 50%;\n}\n.f2h__info_form {\n  margin-bottom: var(--padding-large, 0);\n}\n.f2h__info_form__item {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: var(--padding-medium, 0);\n}\n.f2h__info_form__label {\n  font-size: var(--font-size--small, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n}\n.f2h__info_form__input {\n  font-size: var(--font-size--medium, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n}\n\n.f2h__frame_selection {\n  display: grid;\n  grid-template-columns: 1fr min-content;\n  grid-template-rows: auto;\n  min-width: 320px;\n  grid-gap: var(--padding-small, 0) var(--padding-medium, 0);\n  align-items: center;\n}\n\n.f2h__sel_header {\n  color: var(--colours-grey-0, #f0f);\n  font-size: var(--font-size--medium);\n  border-bottom: 1px solid var(--colours-grey-0);\n  padding-bottom: var(--padding-small, 0);\n}\n\n.f2h__sel_header--name {\n  grid-column: 1/2;\n  grid-row: 1/2;\n}\n\n.f2h__sel_header--responsive {\n  grid-column: 2/3;\n  grid-row: 1/2;\n  justify-self: center;\n  white-space: nowrap;\n}\n\n.f2h__label.f2h__label--name {\n  grid-column: 1/2;\n  align-items: baseline;\n}\n.f2h__label--name-text {\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.f2h__input--responsive {\n  grid-column: 2/3;\n  justify-self: center;\n  margin: 0;\n}\n\n.f2h__label {\n  display: flex;\n  cursor: pointer;\n  padding: var(--padding-small) 0;\n  align-items: center;\n  min-width: 0;\n}\n\n.f2h__sel_width {\n  font-size: var(--font-size--small, 1em);\n  color: var(--colours-grey-3, #f0f);\n  padding-left: var(--padding-small, 0);\n  white-space: nowrap;\n}\n\n.f2h__checkbox,\n.f2h__radio_btn {\n  margin-right: var(--padding-medium, 0);\n}\n\n.f2h__selection_width {\n  font-size: var(--font-size--small, 1);\n  margin: 0 var(--padding-small, 0);\n  display: block;\n  color: var(--colours-grey-2, #f0f);\n}\n\n/* [Preview]  */\n.f2h__preview {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n}\n.f2h__preview_title {\n  font-size: var(--font-size--medium, 1);\n  margin: var(--padding-small, 0) 0;\n  display: flex;\n}\n.f2h__preview_name {\n  flex: 1;\n}\n\n.f2h__preview_inner {\n  overflow: auto;\n  max-height: 100%;\n  max-width: 100%;\n  margin: auto;\n}\n.f2h__preview_inner--scaled {\n  overflow: hidden;\n}\n\n.f2h__preview_wrapper {\n  overflow-x: auto;\n  overflow-y: hidden;\n  width: 100%;\n}\n\n.f2h__preview_responsive,\n.f2h__preview_width {\n  font-size: var(--font-size--small, 1);\n  color: var(--colours-grey-3, #f0f);\n  padding-left: var(--padding-small, 0);\n}\n\n.f2h__notice--warning {\n  background: var(--colours-warning, #f0f);\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  margin: var(--padding-small, 0) 0;\n  font-size: var(--font-size--medium, 1em);\n  border-radius: var(--border-radius-medium, 0);\n}\n\n.f2h__notice--error {\n  font-weight: bold;\n  background: #ffeded;\n  color: #a70f0f;\n}\n\n/* [Render] */\n.f2h__render {\n  transform-origin: top left;\n}\n\n.f2h__render--responsive svg {\n  width: 100%;\n}\n\n.error {\n  background-color: var(--colours-grey-5, #f0f);\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0) var(--padding-small, 0);\n  text-align: center;\n  color: var(--colours-grey-0, #f0f);\n  margin: var(--padding-medium, 0) 0;\n  flex: 1;\n  align-self: center;\n}\n\n/* [Save] */\n.f2h__save {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-self: center;\n  max-width: 800px;\n}\n\n.f2h__save_btn {\n  font-size: var(--font-size--large, 1em);\n  color: #fff;\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0);\n  margin-right: var(--padding-medium, 0);\n  border-bottom: 2px solid var(--colours-main-dark, #f0f);\n  border-top: 3px solid transparent;\n}\n.f2h__save_btn:hover {\n  border-top: 0;\n  border-bottom-width: 5px;\n  box-shadow: 0 4px 2px rgba(0, 0, 0, 0.1);\n}\n.f2h__save_btn:active {\n  border-bottom: 2px solid var(--colours-main-dark, #f0f);\n  border-top: 3px solid transparent;\n}\n\n.f2h__save_btn:last-of-type {\n  margin: 0;\n}\n\n.f2h__save_options {\n  display: flex;\n  justify-content: center;\n}\n\n.f2h__save__subhead {\n  font-size: var(--font-size--medium, 1);\n  margin: var(--padding-large, 0) 0 var(--padding-small, 0);\n  padding-bottom: var(--padding-small, 0);\n  border-bottom: 1px solid var(--colours-grey-4, #f0f);\n}\n\n.f2h__save_advanced {\n  opacity: 0;\n  transition: opacity 0.1s;\n}\n.f2h__save_advanced--open {\n  opacity: 1;\n}\n\n.f2h__save_advanced-header {\n  display: flex;\n}\n\n.f2h__save_advanced_title {\n  flex: 1;\n}\n\n.f2h__save_advanced_show {\n  background-color: transparent;\n  border: 1px solid var(--colours-grey-3, #f0f);\n}\n\n.f2h__save__raw {\n  width: 100%;\n  padding: var(--padding-small, 0);\n  border: 1px solid var(--colours-grey-4, #f0f);\n  font-family: monospace;\n  font-size: 11px;\n  min-height: 150px;\n  max-height: 300px;\n}\n\n/* Resize widget */\n.f2h__resizer {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  bottom: 6px;\n  right: 6px;\n  cursor: grabbing;\n  background: repeating-linear-gradient(\n    -45deg,\n    #d2d2d2,\n    #d2d2d2 2px,\n    transparent 1px,\n    transparent 8px\n  );\n  border-radius: 100% 0 0;\n}\n\n.f2h__toast {\n  background-color: var(--colours-grey-1, #f0f);\n  color: #fff;\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0);\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 0);\n  transition: transform 0.3s, opacity 0.3s 0.1s;\n  opacity: 0;\n}\n\n.f2h__toast--open {\n  transform: translate(-50%, -100%);\n  opacity: 1;\n}\n\n/* [Responsive preview] */\n.f2h__responsive_preview {\n  /* width: 300px; */\n  display: flex;\n  flex-direction: column;\n  align-self: center;\n}\n\n.f2h__responsive__wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 500px;\n}\n\n.f2h__ruler {\n  position: relative;\n  display: grid;\n  justify-items: center;\n}\n.f2h__ruler_break {\n  height: var(--padding-medium, 10px);\n  background-color: var(--colours-grey-4, #f0f);\n  border: 2px solid #fff;\n  grid-row: 1/2;\n  grid-column: 1/2;\n  border-top: none;\n  border-bottom: none;\n}\n.f2h__ruler_break--0 {\n  width: 320px;\n  z-index: 3;\n}\n.f2h__ruler_break--1 {\n  width: 450px;\n  z-index: 2;\n}\n.f2h__ruler_break--2 {\n  width: 640px;\n  z-index: 1;\n}\n\n.f2h__responsive__sandbox {\n  resize: both;\n  overflow: hidden;\n  outline: 1px solid var(--colours-grey-4, #f0f);\n  margin: var(--padding-small, 0) 0;\n\n  /* https://leaverou.github.io/css3patterns/#checkerboard */\n  background-color: #eee;\n  background-image: linear-gradient(\n      45deg,\n      var(--colours-grey-4, #f0f) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--colours-grey-4, #f0f) 75%,\n      var(--colours-grey-4, #f0f)\n    ),\n    linear-gradient(\n      45deg,\n      var(--colours-grey-4, #f0f) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--colours-grey-4, #f0f) 75%,\n      var(--colours-grey-4, #f0f)\n    );\n  background-size: 20px 20px;\n  background-position: 0 0, 10px 10px;\n}\n';
  });

  // node_modules/.pnpm/preact@10.4.4/node_modules/preact/dist/preact.module.js
  var n;
  var l2;
  var u2;
  var i2;
  var t;
  var o2;
  var r;
  var f2;
  var e = {};
  var c2 = [];
  var a2 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;
  function s2(n3, l3) {
    for (var u3 in l3)
      n3[u3] = l3[u3];
    return n3;
  }
  function v2(n3) {
    var l3 = n3.parentNode;
    l3 && l3.removeChild(n3);
  }
  function h(n3, l3, u3) {
    var i3, t2 = arguments, o3 = {};
    for (i3 in l3)
      "key" !== i3 && "ref" !== i3 && (o3[i3] = l3[i3]);
    if (arguments.length > 3)
      for (u3 = [u3], i3 = 3; i3 < arguments.length; i3++)
        u3.push(t2[i3]);
    if (null != u3 && (o3.children = u3), "function" == typeof n3 && null != n3.defaultProps)
      for (i3 in n3.defaultProps)
        void 0 === o3[i3] && (o3[i3] = n3.defaultProps[i3]);
    return y(n3, o3, l3 && l3.key, l3 && l3.ref, null);
  }
  function y(l3, u3, i3, t2, o3) {
    var r2 = {type: l3, props: u3, key: i3, ref: t2, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, constructor: void 0, __v: o3};
    return null == o3 && (r2.__v = r2), n.vnode && n.vnode(r2), r2;
  }
  function p2() {
    return {};
  }
  function d(n3) {
    return n3.children;
  }
  function m(n3, l3) {
    this.props = n3, this.context = l3;
  }
  function w(n3, l3) {
    if (null == l3)
      return n3.__ ? w(n3.__, n3.__.__k.indexOf(n3) + 1) : null;
    for (var u3; l3 < n3.__k.length; l3++)
      if (null != (u3 = n3.__k[l3]) && null != u3.__e)
        return u3.__e;
    return "function" == typeof n3.type ? w(n3) : null;
  }
  function k(n3) {
    var l3, u3;
    if (null != (n3 = n3.__) && null != n3.__c) {
      for (n3.__e = n3.__c.base = null, l3 = 0; l3 < n3.__k.length; l3++)
        if (null != (u3 = n3.__k[l3]) && null != u3.__e) {
          n3.__e = n3.__c.base = u3.__e;
          break;
        }
      return k(n3);
    }
  }
  function g2(l3) {
    (!l3.__d && (l3.__d = true) && u2.push(l3) && !i2++ || o2 !== n.debounceRendering) && ((o2 = n.debounceRendering) || t)(_2);
  }
  function _2() {
    for (var n3; i2 = u2.length; )
      n3 = u2.sort(function(n4, l3) {
        return n4.__v.__b - l3.__v.__b;
      }), u2 = [], n3.some(function(n4) {
        var l3, u3, i3, t2, o3, r2, f3;
        n4.__d && (r2 = (o3 = (l3 = n4).__v).__e, (f3 = l3.__P) && (u3 = [], (i3 = s2({}, o3)).__v = i3, t2 = z(f3, o3, i3, l3.__n, void 0 !== f3.ownerSVGElement, null, u3, null == r2 ? w(o3) : r2), T(u3, o3), t2 != r2 && k(o3)));
      });
  }
  function b(n3, l3, u3, i3, t2, o3, r2, f3, a3, s3) {
    var h3, p3, m2, k2, g3, _3, b2, x2, A2, P2 = i3 && i3.__k || c2, C2 = P2.length;
    for (a3 == e && (a3 = null != r2 ? r2[0] : C2 ? w(i3, 0) : null), u3.__k = [], h3 = 0; h3 < l3.length; h3++)
      if (null != (k2 = u3.__k[h3] = null == (k2 = l3[h3]) || "boolean" == typeof k2 ? null : "string" == typeof k2 || "number" == typeof k2 ? y(null, k2, null, null, k2) : Array.isArray(k2) ? y(d, {children: k2}, null, null, null) : null != k2.__e || null != k2.__c ? y(k2.type, k2.props, k2.key, null, k2.__v) : k2)) {
        if (k2.__ = u3, k2.__b = u3.__b + 1, null === (m2 = P2[h3]) || m2 && k2.key == m2.key && k2.type === m2.type)
          P2[h3] = void 0;
        else
          for (p3 = 0; p3 < C2; p3++) {
            if ((m2 = P2[p3]) && k2.key == m2.key && k2.type === m2.type) {
              P2[p3] = void 0;
              break;
            }
            m2 = null;
          }
        if (g3 = z(n3, k2, m2 = m2 || e, t2, o3, r2, f3, a3, s3), (p3 = k2.ref) && m2.ref != p3 && (x2 || (x2 = []), m2.ref && x2.push(m2.ref, null, k2), x2.push(p3, k2.__c || g3, k2)), null != g3) {
          if (null == b2 && (b2 = g3), A2 = void 0, void 0 !== k2.__d)
            A2 = k2.__d, k2.__d = void 0;
          else if (r2 == m2 || g3 != a3 || null == g3.parentNode) {
            n:
              if (null == a3 || a3.parentNode !== n3)
                n3.appendChild(g3), A2 = null;
              else {
                for (_3 = a3, p3 = 0; (_3 = _3.nextSibling) && p3 < C2; p3 += 2)
                  if (_3 == g3)
                    break n;
                n3.insertBefore(g3, a3), A2 = a3;
              }
            "option" == u3.type && (n3.value = "");
          }
          a3 = void 0 !== A2 ? A2 : g3.nextSibling, "function" == typeof u3.type && (u3.__d = a3);
        } else
          a3 && m2.__e == a3 && a3.parentNode != n3 && (a3 = w(m2));
      }
    if (u3.__e = b2, null != r2 && "function" != typeof u3.type)
      for (h3 = r2.length; h3--; )
        null != r2[h3] && v2(r2[h3]);
    for (h3 = C2; h3--; )
      null != P2[h3] && D(P2[h3], P2[h3]);
    if (x2)
      for (h3 = 0; h3 < x2.length; h3++)
        j(x2[h3], x2[++h3], x2[++h3]);
  }
  function A(n3, l3, u3, i3, t2) {
    var o3;
    for (o3 in u3)
      "children" === o3 || "key" === o3 || o3 in l3 || C(n3, o3, null, u3[o3], i3);
    for (o3 in l3)
      t2 && "function" != typeof l3[o3] || "children" === o3 || "key" === o3 || "value" === o3 || "checked" === o3 || u3[o3] === l3[o3] || C(n3, o3, l3[o3], u3[o3], i3);
  }
  function P(n3, l3, u3) {
    "-" === l3[0] ? n3.setProperty(l3, u3) : n3[l3] = "number" == typeof u3 && false === a2.test(l3) ? u3 + "px" : null == u3 ? "" : u3;
  }
  function C(n3, l3, u3, i3, t2) {
    var o3, r2, f3, e2, c3;
    if (t2 ? "className" === l3 && (l3 = "class") : "class" === l3 && (l3 = "className"), "style" === l3)
      if (o3 = n3.style, "string" == typeof u3)
        o3.cssText = u3;
      else {
        if ("string" == typeof i3 && (o3.cssText = "", i3 = null), i3)
          for (e2 in i3)
            u3 && e2 in u3 || P(o3, e2, "");
        if (u3)
          for (c3 in u3)
            i3 && u3[c3] === i3[c3] || P(o3, c3, u3[c3]);
      }
    else
      "o" === l3[0] && "n" === l3[1] ? (r2 = l3 !== (l3 = l3.replace(/Capture$/, "")), f3 = l3.toLowerCase(), l3 = (f3 in n3 ? f3 : l3).slice(2), u3 ? (i3 || n3.addEventListener(l3, N, r2), (n3.l || (n3.l = {}))[l3] = u3) : n3.removeEventListener(l3, N, r2)) : "list" !== l3 && "tagName" !== l3 && "form" !== l3 && "type" !== l3 && "size" !== l3 && !t2 && l3 in n3 ? n3[l3] = null == u3 ? "" : u3 : "function" != typeof u3 && "dangerouslySetInnerHTML" !== l3 && (l3 !== (l3 = l3.replace(/^xlink:?/, "")) ? null == u3 || false === u3 ? n3.removeAttributeNS("http://www.w3.org/1999/xlink", l3.toLowerCase()) : n3.setAttributeNS("http://www.w3.org/1999/xlink", l3.toLowerCase(), u3) : null == u3 || false === u3 && !/^ar/.test(l3) ? n3.removeAttribute(l3) : n3.setAttribute(l3, u3));
  }
  function N(l3) {
    this.l[l3.type](n.event ? n.event(l3) : l3);
  }
  function z(l3, u3, i3, t2, o3, r2, f3, e2, c3) {
    var a3, v3, h3, y2, p3, w2, k2, g3, _3, x2, A2, P2 = u3.type;
    if (void 0 !== u3.constructor)
      return null;
    (a3 = n.__b) && a3(u3);
    try {
      n:
        if ("function" == typeof P2) {
          if (g3 = u3.props, _3 = (a3 = P2.contextType) && t2[a3.__c], x2 = a3 ? _3 ? _3.props.value : a3.__ : t2, i3.__c ? k2 = (v3 = u3.__c = i3.__c).__ = v3.__E : ("prototype" in P2 && P2.prototype.render ? u3.__c = v3 = new P2(g3, x2) : (u3.__c = v3 = new m(g3, x2), v3.constructor = P2, v3.render = E), _3 && _3.sub(v3), v3.props = g3, v3.state || (v3.state = {}), v3.context = x2, v3.__n = t2, h3 = v3.__d = true, v3.__h = []), null == v3.__s && (v3.__s = v3.state), null != P2.getDerivedStateFromProps && (v3.__s == v3.state && (v3.__s = s2({}, v3.__s)), s2(v3.__s, P2.getDerivedStateFromProps(g3, v3.__s))), y2 = v3.props, p3 = v3.state, h3)
            null == P2.getDerivedStateFromProps && null != v3.componentWillMount && v3.componentWillMount(), null != v3.componentDidMount && v3.__h.push(v3.componentDidMount);
          else {
            if (null == P2.getDerivedStateFromProps && g3 !== y2 && null != v3.componentWillReceiveProps && v3.componentWillReceiveProps(g3, x2), !v3.__e && null != v3.shouldComponentUpdate && false === v3.shouldComponentUpdate(g3, v3.__s, x2) || u3.__v === i3.__v) {
              for (v3.props = g3, v3.state = v3.__s, u3.__v !== i3.__v && (v3.__d = false), v3.__v = u3, u3.__e = i3.__e, u3.__k = i3.__k, v3.__h.length && f3.push(v3), a3 = 0; a3 < u3.__k.length; a3++)
                u3.__k[a3] && (u3.__k[a3].__ = u3);
              break n;
            }
            null != v3.componentWillUpdate && v3.componentWillUpdate(g3, v3.__s, x2), null != v3.componentDidUpdate && v3.__h.push(function() {
              v3.componentDidUpdate(y2, p3, w2);
            });
          }
          v3.context = x2, v3.props = g3, v3.state = v3.__s, (a3 = n.__r) && a3(u3), v3.__d = false, v3.__v = u3, v3.__P = l3, a3 = v3.render(v3.props, v3.state, v3.context), null != v3.getChildContext && (t2 = s2(s2({}, t2), v3.getChildContext())), h3 || null == v3.getSnapshotBeforeUpdate || (w2 = v3.getSnapshotBeforeUpdate(y2, p3)), A2 = null != a3 && a3.type == d && null == a3.key ? a3.props.children : a3, b(l3, Array.isArray(A2) ? A2 : [A2], u3, i3, t2, o3, r2, f3, e2, c3), v3.base = u3.__e, v3.__h.length && f3.push(v3), k2 && (v3.__E = v3.__ = null), v3.__e = false;
        } else
          null == r2 && u3.__v === i3.__v ? (u3.__k = i3.__k, u3.__e = i3.__e) : u3.__e = $(i3.__e, u3, i3, t2, o3, r2, f3, c3);
      (a3 = n.diffed) && a3(u3);
    } catch (l4) {
      u3.__v = null, n.__e(l4, u3, i3);
    }
    return u3.__e;
  }
  function T(l3, u3) {
    n.__c && n.__c(u3, l3), l3.some(function(u4) {
      try {
        l3 = u4.__h, u4.__h = [], l3.some(function(n3) {
          n3.call(u4);
        });
      } catch (l4) {
        n.__e(l4, u4.__v);
      }
    });
  }
  function $(n3, l3, u3, i3, t2, o3, r2, f3) {
    var a3, s3, v3, h3, y2, p3 = u3.props, d2 = l3.props;
    if (t2 = "svg" === l3.type || t2, null != o3) {
      for (a3 = 0; a3 < o3.length; a3++)
        if (null != (s3 = o3[a3]) && ((null === l3.type ? 3 === s3.nodeType : s3.localName === l3.type) || n3 == s3)) {
          n3 = s3, o3[a3] = null;
          break;
        }
    }
    if (null == n3) {
      if (null === l3.type)
        return document.createTextNode(d2);
      n3 = t2 ? document.createElementNS("http://www.w3.org/2000/svg", l3.type) : document.createElement(l3.type, d2.is && {is: d2.is}), o3 = null, f3 = false;
    }
    if (null === l3.type)
      p3 !== d2 && n3.data != d2 && (n3.data = d2);
    else {
      if (null != o3 && (o3 = c2.slice.call(n3.childNodes)), v3 = (p3 = u3.props || e).dangerouslySetInnerHTML, h3 = d2.dangerouslySetInnerHTML, !f3) {
        if (null != o3)
          for (p3 = {}, y2 = 0; y2 < n3.attributes.length; y2++)
            p3[n3.attributes[y2].name] = n3.attributes[y2].value;
        (h3 || v3) && (h3 && v3 && h3.__html == v3.__html || (n3.innerHTML = h3 && h3.__html || ""));
      }
      A(n3, d2, p3, t2, f3), h3 ? l3.__k = [] : (a3 = l3.props.children, b(n3, Array.isArray(a3) ? a3 : [a3], l3, u3, i3, "foreignObject" !== l3.type && t2, o3, r2, e, f3)), f3 || ("value" in d2 && void 0 !== (a3 = d2.value) && a3 !== n3.value && C(n3, "value", a3, p3.value, false), "checked" in d2 && void 0 !== (a3 = d2.checked) && a3 !== n3.checked && C(n3, "checked", a3, p3.checked, false));
    }
    return n3;
  }
  function j(l3, u3, i3) {
    try {
      "function" == typeof l3 ? l3(u3) : l3.current = u3;
    } catch (l4) {
      n.__e(l4, i3);
    }
  }
  function D(l3, u3, i3) {
    var t2, o3, r2;
    if (n.unmount && n.unmount(l3), (t2 = l3.ref) && (t2.current && t2.current !== l3.__e || j(t2, null, u3)), i3 || "function" == typeof l3.type || (i3 = null != (o3 = l3.__e)), l3.__e = l3.__d = void 0, null != (t2 = l3.__c)) {
      if (t2.componentWillUnmount)
        try {
          t2.componentWillUnmount();
        } catch (l4) {
          n.__e(l4, u3);
        }
      t2.base = t2.__P = null;
    }
    if (t2 = l3.__k)
      for (r2 = 0; r2 < t2.length; r2++)
        t2[r2] && D(t2[r2], u3, i3);
    null != o3 && v2(o3);
  }
  function E(n3, l3, u3) {
    return this.constructor(n3, u3);
  }
  function H(l3, u3, i3) {
    var t2, o3, f3;
    n.__ && n.__(l3, u3), o3 = (t2 = i3 === r) ? null : i3 && i3.__k || u3.__k, l3 = h(d, null, [l3]), f3 = [], z(u3, (t2 ? u3 : i3 || u3).__k = l3, o3 || e, e, void 0 !== u3.ownerSVGElement, i3 && !t2 ? [i3] : o3 ? null : u3.childNodes.length ? c2.slice.call(u3.childNodes) : null, f3, i3 || e, t2), T(f3, l3);
  }
  n = {__e: function(n3, l3) {
    for (var u3, i3; l3 = l3.__; )
      if ((u3 = l3.__c) && !u3.__)
        try {
          if (u3.constructor && null != u3.constructor.getDerivedStateFromError && (i3 = true, u3.setState(u3.constructor.getDerivedStateFromError(n3))), null != u3.componentDidCatch && (i3 = true, u3.componentDidCatch(n3)), i3)
            return g2(u3.__E = u3);
        } catch (l4) {
          n3 = l4;
        }
    throw n3;
  }}, l2 = function(n3) {
    return null != n3 && void 0 === n3.constructor;
  }, m.prototype.setState = function(n3, l3) {
    var u3;
    u3 = this.__s !== this.state ? this.__s : this.__s = s2({}, this.state), "function" == typeof n3 && (n3 = n3(u3, this.props)), n3 && s2(u3, n3), null != n3 && this.__v && (l3 && this.__h.push(l3), g2(this));
  }, m.prototype.forceUpdate = function(n3) {
    this.__v && (this.__e = true, n3 && this.__h.push(n3), g2(this));
  }, m.prototype.render = d, u2 = [], i2 = 0, t = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, r = e, f2 = 0;

  // src/utils/css.ts
  function injectCss(css2) {
    const styleEl = document.createElement("style");
    const styleText = document.createTextNode(css2);
    styleEl.appendChild(styleText);
    document.head.appendChild(styleEl);
  }

  // src/constants.ts
  var STAGES;
  (function(STAGES2) {
    STAGES2[STAGES2["CHOOSE_FRAMES"] = 0] = "CHOOSE_FRAMES";
    STAGES2[STAGES2["PREVIEW_OUTPUT"] = 1] = "PREVIEW_OUTPUT";
    STAGES2[STAGES2["RESPONSIVE_PREVIEW"] = 2] = "RESPONSIVE_PREVIEW";
    STAGES2[STAGES2["SAVE_OUTPUT"] = 3] = "SAVE_OUTPUT";
  })(STAGES || (STAGES = {}));
  var MSG_EVENTS;
  (function(MSG_EVENTS3) {
    MSG_EVENTS3[MSG_EVENTS3["DOM_READY"] = 0] = "DOM_READY";
    MSG_EVENTS3[MSG_EVENTS3["NO_FRAMES"] = 1] = "NO_FRAMES";
    MSG_EVENTS3[MSG_EVENTS3["FOUND_FRAMES"] = 2] = "FOUND_FRAMES";
    MSG_EVENTS3[MSG_EVENTS3["RESIZE"] = 3] = "RESIZE";
    MSG_EVENTS3[MSG_EVENTS3["RENDER"] = 4] = "RENDER";
    MSG_EVENTS3[MSG_EVENTS3["CLOSE"] = 5] = "CLOSE";
    MSG_EVENTS3[MSG_EVENTS3["ERROR"] = 6] = "ERROR";
    MSG_EVENTS3[MSG_EVENTS3["UPDATE_HEADLINES"] = 7] = "UPDATE_HEADLINES";
    MSG_EVENTS3[MSG_EVENTS3["COMPRESS_IMAGE"] = 8] = "COMPRESS_IMAGE";
    MSG_EVENTS3[MSG_EVENTS3["COMPRESSED_IMAGE"] = 9] = "COMPRESSED_IMAGE";
  })(MSG_EVENTS || (MSG_EVENTS = {}));
  var OUTPUT_FORMATS;
  (function(OUTPUT_FORMATS2) {
    OUTPUT_FORMATS2[OUTPUT_FORMATS2["INLINE"] = 0] = "INLINE";
    OUTPUT_FORMATS2[OUTPUT_FORMATS2["IFRAME"] = 1] = "IFRAME";
  })(OUTPUT_FORMATS || (OUTPUT_FORMATS = {}));
  const UI_TEXT = {
    ERROR_UNEXPECTED: "Unexpected error",
    ERROR_MISSING_FRAMES: "No frames found. Please add some frames to the page.",
    WARN_NO_TARGETS: "Standard frames not found. Please select target frames.",
    WARN_TOO_MANY_TARGETS: "Please select three target frames",
    INFO_PREVIEW: "Preview each frame output",
    TITLE_CHOOSE_FRAME: "Choose which frames to export",
    TITLE_PREVIEW: "Preview",
    TITLE_RESPONSIVE_PREVIEW: "Responsive preview",
    TILE_OUTPUT: "Export",
    BUTTON_NEXT: "Next",
    BUTTON_DOWNLOAD: "Download",
    BUTTON_PREVIOUS: "Back"
  };
  const INITIAL_UI_SIZE = {
    width: 480,
    height: 500,
    maxWidth: 1200,
    maxHeight: 900,
    minWidth: 420,
    minHeight: 480
  };
  const FRAME_WARNING_SIZE = 300;
  var HEADLINE_NODE_NAMES;
  (function(HEADLINE_NODE_NAMES2) {
    HEADLINE_NODE_NAMES2["HEADLINE"] = "headline";
    HEADLINE_NODE_NAMES2["SUBHEAD"] = "subhead";
    HEADLINE_NODE_NAMES2["SOURCE"] = "source";
  })(HEADLINE_NODE_NAMES || (HEADLINE_NODE_NAMES = {}));

  // src/components/Header.tsx
  function FrameInfo(props) {
    if (!props.frame)
      return null;
    const {name, width, height, svg: svg2, responsive, svgCompressed, svgOptimised} = props.frame;
    const renderCharCount = (svgOptimised ? svgCompressed == null ? void 0 : svgCompressed.length : svg2 == null ? void 0 : svg2.length) || 0;
    const fileKbSize = renderCharCount / 1e3;
    const isFileLarge = fileKbSize > FRAME_WARNING_SIZE;
    let fileSizeClassName = "f2h__file_size";
    if (isFileLarge) {
      fileSizeClassName += " f2h__file_size f2h__notice--error";
    }
    let responsiveClassName = "f2h__info_responsive";
    if (responsive === false) {
      responsiveClassName += " f2h__info_responsive--no";
    }
    return h("p", {
      class: "f2h__info"
    }, h("span", {
      class: "f2h__info_title"
    }, '"', name, '"'), " ", h("span", {
      class: "f2h__info_meta"
    }, width, " x ", height, ", ", h("span", {
      class: responsiveClassName
    }, "responsive"), ",", " ", h("span", {
      class: fileSizeClassName
    }, fileKbSize.toFixed(2), "kB")));
  }
  function Header2(props) {
    const {stage, handleBackClick, handleNextClick, disableNext, frame, handleOptimseClick} = props;
    let title;
    let nextText;
    let backText;
    switch (stage) {
      case STAGES.CHOOSE_FRAMES:
        title = UI_TEXT.TITLE_CHOOSE_FRAME;
        nextText = UI_TEXT.BUTTON_NEXT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
      case STAGES.RESPONSIVE_PREVIEW:
        title = UI_TEXT.TITLE_RESPONSIVE_PREVIEW;
        nextText = UI_TEXT.BUTTON_NEXT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
      case STAGES.PREVIEW_OUTPUT:
        title = `${UI_TEXT.TITLE_PREVIEW}`;
        nextText = UI_TEXT.BUTTON_NEXT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
      case STAGES.SAVE_OUTPUT:
        title = UI_TEXT.TILE_OUTPUT;
        backText = UI_TEXT.BUTTON_PREVIOUS;
        break;
    }
    return h("header", {
      class: "f2h__header"
    }, h("h1", {
      class: "f2h__title"
    }, title), stage === STAGES.PREVIEW_OUTPUT && h(d, null, h(FrameInfo, {
      frame
    }), h("label", {
      class: "f2h__svg_optimise"
    }, h("input", {
      type: "checkbox",
      checked: frame.svgOptimised,
      name: "optimise",
      id: "optimise",
      onClick: () => handleOptimseClick(frame.id)
    }), h("span", null, "Optimise SVG"))), h("nav", {
      class: "f2h__nav"
    }, stage !== STAGES.CHOOSE_FRAMES && h("button", {
      class: "f2h__btn btn--secondary",
      onClick: handleBackClick
    }, backText), nextText && h("button", {
      class: "f2h__btn btn--primary",
      onClick: handleNextClick,
      disabled: disableNext
    }, nextText)));
  }

  // node_modules/.pnpm/preact-render-to-string@5.1.9_preact@10.4.4/node_modules/preact-render-to-string/dist/index.module.js
  var n2 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;
  var o = function(e2) {
    return String(e2).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
  };
  var a = function(e2, t2) {
    return String(e2).replace(/(\n+)/g, "$1" + (t2 || "	"));
  };
  var i = function(e2, t2, r2) {
    return String(e2).length > (t2 || 40) || !r2 && -1 !== String(e2).indexOf("\n") || -1 !== String(e2).indexOf("<");
  };
  var l = {};
  function s(e2) {
    var t2 = "";
    for (var r2 in e2) {
      var o3 = e2[r2];
      null != o3 && (t2 && (t2 += " "), t2 += "-" == r2[0] ? r2 : l[r2] || (l[r2] = r2.replace(/([A-Z])/g, "-$1").toLowerCase()), t2 += ": ", t2 += o3, "number" == typeof o3 && false === n2.test(r2) && (t2 += "px"), t2 += ";");
    }
    return t2 || void 0;
  }
  function f(e2, t2) {
    for (var r2 in t2)
      e2[r2] = t2[r2];
    return e2;
  }
  function c(e2, t2) {
    return Array.isArray(t2) ? t2.reduce(c, e2) : null != t2 && false !== t2 && e2.push(t2), e2;
  }
  var p = {shallow: true};
  var u = [];
  var _ = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;
  var g = function() {
  };
  v.render = v;
  var h2 = function(e2, t2) {
    return v(e2, t2, p);
  };
  function v(n3, l3, p3, h3, d2, m2) {
    if (null == n3 || "boolean" == typeof n3)
      return "";
    Array.isArray(n3) && (n3 = h(d, null, n3));
    var x2 = n3.type, y2 = n3.props, b2 = false;
    l3 = l3 || {};
    var S, w2 = (p3 = p3 || {}).pretty, k2 = w2 && "string" == typeof w2 ? w2 : "	";
    if ("object" != typeof n3 && !x2)
      return o(n3);
    if ("function" == typeof x2) {
      if (b2 = true, !p3.shallow || !h3 && false !== p3.renderRootComponent) {
        if (x2 === d) {
          var O = "", C2 = [];
          c(C2, n3.props.children);
          for (var A2 = 0; A2 < C2.length; A2++)
            O += (A2 > 0 && w2 ? "\n" : "") + v(C2[A2], l3, p3, false !== p3.shallowHighOrder, d2, m2);
          return O;
        }
        var H2, j2 = n3.__c = {__v: n3, context: l3, props: n3.props, setState: g, forceUpdate: g, __h: []};
        if (n.__r && n.__r(n3), x2.prototype && "function" == typeof x2.prototype.render) {
          var F = x2.contextType, $2 = F && l3[F.__c], L2 = null != F ? $2 ? $2.props.value : F.__ : l3;
          (j2 = n3.__c = new x2(y2, L2)).__v = n3, j2._dirty = j2.__d = true, j2.props = y2, null == j2.state && (j2.state = {}), null == j2._nextState && null == j2.__s && (j2._nextState = j2.__s = j2.state), j2.context = L2, x2.getDerivedStateFromProps ? j2.state = f(f({}, j2.state), x2.getDerivedStateFromProps(j2.props, j2.state)) : j2.componentWillMount && j2.componentWillMount(), j2.state = j2._nextState !== j2.state ? j2._nextState : j2.__s !== j2.state ? j2.__s : j2.state, H2 = j2.render(j2.props, j2.state, j2.context);
        } else {
          var M2 = x2.contextType, T2 = M2 && l3[M2.__c];
          H2 = x2.call(n3.__c, y2, null != M2 ? T2 ? T2.props.value : M2.__ : l3);
        }
        return j2.getChildContext && (l3 = f(f({}, l3), j2.getChildContext())), v(H2, l3, p3, false !== p3.shallowHighOrder, d2, m2);
      }
      x2 = (S = x2).displayName || S !== Function && S.name || function(e2) {
        var t2 = (Function.prototype.toString.call(e2).match(/^\s*function\s+([^( ]+)/) || "")[1];
        if (!t2) {
          for (var r2 = -1, n4 = u.length; n4--; )
            if (u[n4] === e2) {
              r2 = n4;
              break;
            }
          r2 < 0 && (r2 = u.push(e2) - 1), t2 = "UnnamedComponent" + r2;
        }
        return t2;
      }(S);
    }
    var D2, N2 = "";
    if (y2) {
      var P2 = Object.keys(y2);
      p3 && true === p3.sortAttributes && P2.sort();
      for (var R = 0; R < P2.length; R++) {
        var U = P2[R], W = y2[U];
        if ("children" !== U && (!U.match(/[\s\n\\/='"\0<>]/) && (p3 && p3.allAttributes || "key" !== U && "ref" !== U && "__self" !== U && "__source" !== U))) {
          if ("className" === U) {
            if (y2.class)
              continue;
            U = "class";
          } else
            d2 && U.match(/^xlink:?./) && (U = U.toLowerCase().replace(/^xlink:?/, "xlink:"));
          if ("htmlFor" === U) {
            if (y2.for)
              continue;
            U = "for";
          }
          "style" === U && W && "object" == typeof W && (W = s(W));
          var q = p3.attributeHook && p3.attributeHook(U, W, l3, p3, b2);
          if (q || "" === q)
            N2 += q;
          else if ("dangerouslySetInnerHTML" === U)
            D2 = W && W.__html;
          else if ((W || 0 === W || "" === W) && "function" != typeof W) {
            if (!(true !== W && "" !== W || (W = U, p3 && p3.xml))) {
              N2 += " " + U;
              continue;
            }
            if ("value" === U) {
              if ("select" === x2) {
                m2 = W;
                continue;
              }
              "option" === x2 && m2 == W && (N2 += " selected");
            }
            N2 += " " + U + '="' + o(W) + '"';
          }
        }
      }
    }
    if (w2) {
      var z2 = N2.replace(/^\n\s*/, " ");
      z2 === N2 || ~z2.indexOf("\n") ? w2 && ~N2.indexOf("\n") && (N2 += "\n") : N2 = z2;
    }
    if (N2 = "<" + x2 + N2 + ">", String(x2).match(/[\s\n\\/='"\0<>]/))
      throw new Error(x2 + " is not a valid HTML tag name in " + N2);
    var E2 = String(x2).match(_);
    E2 && (N2 = N2.replace(/>$/, " />"));
    var I2, Z = [];
    if (D2)
      w2 && i(D2) && (D2 = "\n" + k2 + a(D2, k2)), N2 += D2;
    else if (y2 && c(I2 = [], y2.children).length) {
      for (var B = w2 && ~N2.indexOf("\n"), G = false, J = 0; J < I2.length; J++) {
        var K = I2[J];
        if (null != K && false !== K) {
          var Q = v(K, l3, p3, true, "svg" === x2 || "foreignObject" !== x2 && d2, m2);
          if (w2 && !B && i(Q) && (B = true), Q)
            if (w2) {
              var V = Q.length > 0 && "<" != Q[0];
              G && V ? Z[Z.length - 1] += Q : Z.push(Q), G = V;
            } else
              Z.push(Q);
        }
      }
      if (w2 && B)
        for (var X = Z.length; X--; )
          Z[X] = "\n" + k2 + a(Z[X], k2);
    }
    if (Z.length)
      N2 += Z.join("");
    else if (p3 && p3.xml)
      return N2.substring(0, N2.length - 1) + " />";
    return E2 || (w2 && ~N2.indexOf("\n") && (N2 += "\n"), N2 += "</" + x2 + ">"), N2;
  }
  v.shallowRender = h2;
  const index_module_default = v;

  // src/outputRender.tsx
  const embed = __toModule(require_embed());
  const fonts = __toModule(require_fonts());
  function generateIframeHtml(body) {
    return `
    <!doctype html>
    <html>
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style> html, body { margin: 0; } </style>
      </head>
      <body>
        ${body}
      </body>
    </html>
  `;
  }
  function generateStyleText(node, frameWidth, frameHeight) {
    const {x: x2, y: y2, width, height, fontSize, fontFamily, colour, letterSpacing, lineHeight, textAlignHorizontal, textAlignVertical, fontStyle} = node;
    const left = `${(x2 + width / 2) / frameWidth * 100}%`;
    const top = `${(y2 + height / 2) / frameHeight * 100}%`;
    const {r: r2, g: g3, b: b2, a: a3} = colour;
    const colourVals = [r2, g3, b2].map((val = 0) => Math.round(val * 255));
    const textColour = `rgba(${colourVals.join(",")}, ${a3})`;
    let fontName = `${fontFamily} ${fontStyle}`;
    const {unit: letterUnit, value: letterVal} = letterSpacing;
    let letterSpaceValue = "0";
    switch (letterUnit) {
      case "PIXELS":
        if (fontFamily === "Telesans Text") {
          letterSpaceValue = `${letterVal - 0.33}px`;
        } else if (fontFamily === "Telesans Agate") {
          letterSpaceValue = `${letterVal - 0.19}px`;
        } else {
          letterSpaceValue = `${letterVal}px`;
        }
        break;
      case "PERCENT":
        letterSpaceValue = `${letterVal / 100}em`;
        if (fontFamily === "Telesans Text") {
          letterSpaceValue = `${letterVal / 100 - 0.022}em`;
        } else if (fontFamily === "Telesans Agate") {
          letterSpaceValue = `${letterVal / 100 - 0.015}em`;
        } else {
          letterSpaceValue = `${letterVal / 100}em`;
        }
        break;
      default:
        if (fontFamily === "Telesans Text") {
          letterSpaceValue = "-0.37px";
        } else if (fontFamily === "Telesans Agate") {
          letterSpaceValue = "-0.19}px";
        } else {
          letterSpaceValue = `0`;
        }
        break;
    }
    const {unit: lineUnit, value: lineVal} = lineHeight;
    let lineHeightValue = "auto";
    switch (lineUnit) {
      case "PIXELS":
        lineHeightValue = `${lineVal}px`;
        break;
      case "PERCENT":
        lineHeightValue = `${lineVal * 1.15}%`;
        break;
      case "AUTO":
        lineHeightValue = "1.2";
        break;
    }
    let alignItemsValue = "auto";
    switch (textAlignVertical) {
      case "TOP":
        alignItemsValue = "flex-start";
        break;
      case "CENTER":
        alignItemsValue = "center";
        break;
      case "BOTTOM":
        alignItemsValue = "flex-end";
        break;
    }
    let justifyItemsValue = "auto";
    switch (textAlignHorizontal) {
      case "LEFT":
        justifyItemsValue = "flex-start";
        break;
      case "CENTER":
        justifyItemsValue = "center";
        break;
      case "RIGHT":
        justifyItemsValue = "flex-end";
        break;
    }
    const newWidth = Math.ceil(width / frameWidth * 100);
    return `
        font-size: ${String(fontSize)}px;
        font-family: "${fontName}", Georgia, 'Times New Roman', Times, serif;
        font-weight: normal;
        position: absolute;
        color: ${textColour};
        width: ${newWidth}%;
        height: ${height / frameHeight * 100}%;
        left: ${left};
        top: ${top};
        line-height: ${lineHeightValue};
        letter-spacing: ${letterSpaceValue};
        justify-content: ${justifyItemsValue};
        align-items: ${alignItemsValue};
        display: flex;
      `;
  }
  function Text(props) {
    const {node, width, height} = props;
    const {characters} = node;
    const styleText = generateStyleText(node, width, height);
    return h("p", {
      class: "f2h__text",
      style: styleText
    }, characters);
  }
  function FrameContainer(props) {
    const {uid, width, height, textNodes, svg: svg2 = "", svgCompressed = "", svgOptimised, responsive, scale} = props;
    const textEls = textNodes.map((node) => h(Text, {
      node,
      width,
      height
    }));
    const classNames = `f2h__render ${responsive ? "f2h__render--responsive" : ""}`;
    let style = responsive ? "" : `width: ${width}px;`;
    style = scale ? `${style} transform: scale(${scale});` : style;
    return h("div", {
      class: classNames,
      style,
      id: uid
    }, h("div", {
      class: "f2h__svg_container",
      dangerouslySetInnerHTML: {__html: svgOptimised ? svgCompressed : svg2}
    }), h("div", {
      class: "f2h__text_container"
    }, textEls));
  }
  function renderInline(props) {
    const {frames, iframe, headline, subhead, source} = props;
    const mediaQuery = genreateMediaQueries(frames);
    const renderedFrames = frames.map((frame) => h(FrameContainer, __assign({}, frame)));
    let html = index_module_default(h("div", {
      class: "f2h__embed"
    }, h("style", {
      dangerouslySetInnerHTML: {
        __html: `
       ${fonts.default}
       ${embed.default}
       ${mediaQuery}
      `
      }
    }), (headline || subhead) && h("header", {
      class: "f2h_header"
    }, headline && h("h1", {
      class: "f2h_headline"
    }, headline), subhead && h("p", {
      class: "f2h_subbhead"
    }, "subhead")), renderedFrames, source && h("footer", null, h("p", {
      class: "f2h_source"
    }, source))));
    if (iframe === OUTPUT_FORMATS.IFRAME) {
      html = generateIframeHtml(html);
    }
    return html;
  }
  function genreateMediaQueries(frames) {
    const idWidths = frames.map(({width, uid}) => [width, uid]).sort(([a3], [b2]) => a3 < b2 ? -1 : 1);
    const mediaQueries = idWidths.map(([width, uid], i3) => {
      if (i3 === 0) {
        return "";
      }
      const [, prevId] = idWidths[i3 - 1];
      return `
      @media (max-width: ${width}px) {
        #${uid} { display: none; }
      }
      @media (min-width: ${width}px) {
        #${prevId} { display: none; }
        #${uid} { display: block; }
      }
    `;
    });
    return mediaQueries.join("");
  }

  // src/components/ResponsiveView.tsx
  function ResponsiveView2(props) {
    const {frames, headline, subhead, source, windowHeight, windowWidth} = props;
    const maxWidth = Math.max(...frames.map((f3) => f3.width));
    const maxHeight = Math.max(...frames.map((f3) => f3.height));
    const minWidth = Math.min(windowWidth - 100, maxWidth);
    const minHeight = Math.min(windowHeight - 160, maxHeight);
    const rawHtml = renderInline({
      frames,
      iframe: OUTPUT_FORMATS.IFRAME,
      headline,
      subhead,
      source
    });
    return h("div", {
      class: "f2h__responsive_preview"
    }, h("p", null, "Use the window below to test how the frames behave when resizing."), h("div", {
      class: "f2h__responsive__wrapper"
    }, h("iframe", {
      style: `height: ${minHeight}px; width: ${minWidth}px;`,
      class: "f2h__responsive__sandbox",
      srcDoc: rawHtml
    })));
  }

  // src/components/FrameSelection.tsx
  function InputField(props) {
    const {label, value, refTarget, handleChange} = props;
    return h("p", {
      class: "f2h__info_form__item f2h__info_form__item--headline"
    }, h("label", {
      class: "f2h__info_form__label"
    }, label), h("input", {
      class: "f2h__info_form__input f2h__info_form__input--headline",
      type: "text",
      spellcheck: true,
      value,
      ref: refTarget,
      onChange: handleChange
    }));
  }
  class FrameSelection2 extends m {
    constructor() {
      super(...arguments);
      this.headlineInput = p2();
      this.subheadInput = p2();
      this.sourceInput = p2();
      this.sendFormValues = () => {
        var _a, _b, _c;
        const {handleFormUpdate} = this.props;
        const headline = (_a = this.headlineInput.current) == null ? void 0 : _a.value;
        const subhead = (_b = this.subheadInput.current) == null ? void 0 : _b.value;
        const source = (_c = this.sourceInput.current) == null ? void 0 : _c.value;
        handleFormUpdate({headline, subhead, source});
      };
    }
    render() {
      const {frames, handleClick, toggleResonsive, toggleSelectAll, toggleResponsiveAll, headline, subhead, source} = this.props;
      const selectCount = frames.filter((frame) => frame.selected).length;
      const someFramesSelected = selectCount > 0 && selectCount < frames.length;
      const allSelected = selectCount === frames.length;
      const responseCount = frames.filter((frame) => frame.responsive).length;
      const someResponsiveSelected = responseCount > 0 && responseCount < frames.length;
      const allResponsiveSelected = responseCount === frames.length;
      return h("div", {
        class: "f2h__choose_frames"
      }, h("div", {
        class: "f2h__info_form"
      }, h(InputField, {
        refTarget: this.headlineInput,
        handleChange: this.sendFormValues,
        label: "Headline",
        value: headline
      }), h(InputField, {
        refTarget: this.subheadInput,
        handleChange: this.sendFormValues,
        label: "Subhead",
        value: subhead
      }), h(InputField, {
        refTarget: this.sourceInput,
        handleChange: this.sendFormValues,
        label: "Source",
        value: source
      })), h("div", {
        class: "f2h__frame_selection"
      }, h("label", {
        class: "f2h__sel_header f2h__sel_header--name"
      }, h("input", {
        name: "selectAll",
        id: "selectAll",
        type: "checkbox",
        onClick: toggleSelectAll,
        checked: allSelected,
        ref: (el) => el && (el.indeterminate = someFramesSelected)
      }), " ", "Frames"), h("label", {
        class: "f2h__sel_header f2h__sel_header--responsive"
      }, h("input", {
        type: "checkbox",
        id: "responsiveAll",
        name: "responsiveAll",
        onClick: toggleResponsiveAll,
        checked: allResponsiveSelected,
        ref: (el) => el && (el.indeterminate = someResponsiveSelected)
      }), " ", "Responsive"), frames.map(({name, id, width, height, selected, responsive}) => h(d, null, h("p", {
        class: "f2h__label f2h__label--name"
      }, h("input", {
        class: "f2h__checkbox",
        type: "checkbox",
        checked: selected,
        onClick: () => handleClick(id),
        id: name,
        name
      }), h("label", {
        class: "f2h__label--name-text",
        for: name
      }, name), h("span", {
        class: "f2h__sel_width"
      }, width, " x ", height)), h("input", {
        class: "f2h__checkbox f2h__input--responsive",
        type: "checkbox",
        checked: responsive,
        onClick: () => toggleResonsive(id),
        id: name,
        name
      })))));
    }
  }

  // src/components/Preview.tsx
  class Preview2 extends m {
    constructor() {
      super(...arguments);
      this.state = {
        nativeSize: true
      };
      this.innerEl = p2();
      this.getScale = () => {
        const {windowHeight, windowWidth, frame} = this.props;
        const {width, height} = frame;
        const WINDOW_HEADER_HEIGHT = 140;
        const heightRatio = (windowHeight - WINDOW_HEADER_HEIGHT) / height;
        const WINDOW_SIDE_MARGINS = 120;
        const widthRatio = (windowWidth - WINDOW_SIDE_MARGINS) / width;
        const smallestRatio = Math.min(heightRatio, widthRatio);
        const scale = smallestRatio < 1 ? smallestRatio : 1;
        const scaledHeight = height * scale;
        const scaledWidth = width * scale;
        return {
          scale,
          scaledHeight,
          scaledWidth
        };
      };
      this.toggleZoomed = () => {
        const {current: el} = this.innerEl;
        if (el) {
          el.scrollLeft = 0;
          el.scrollTop = 0;
        } else {
          console.error("Missing preview inner DOM element");
        }
        this.setState({nativeSize: !this.state.nativeSize});
      };
    }
    componentDidMount() {
      const {scale} = this.getScale();
      this.setState({nativeSize: scale >= 1});
    }
    componentDidUpdate(_previousProps, previousState) {
      const {nativeSize} = previousState;
      const {scale} = this.getScale();
      const isNativeSize = scale >= 1;
      if (nativeSize !== isNativeSize) {
        this.setState({nativeSize: isNativeSize});
      }
    }
    render() {
      const {frame} = this.props;
      const {svg: svg2, svgOptimised, svgCompressed} = frame;
      const renderCharCount = (svgOptimised ? svgCompressed == null ? void 0 : svgCompressed.length : svg2 == null ? void 0 : svg2.length) || 0;
      const fileKbSize = Math.ceil(renderCharCount / 1e3);
      const isFileLarge = fileKbSize > FRAME_WARNING_SIZE;
      const {nativeSize} = this.state;
      const {scale, scaledHeight, scaledWidth} = this.getScale();
      const previewWrapperStyles = !nativeSize ? `width: ${scaledWidth}; height: ${scaledHeight};` : "";
      let scaleWarning;
      if (scale < 1) {
        scaleWarning = h("p", {
          class: "f2h__scale_warning f2h__notice--warning"
        }, h("span", null, "Zoomed ", nativeSize ? "100" : Math.round(scale * 100), "% - "), h("label", null, "native size", " ", h("input", {
          type: "checkbox",
          checked: nativeSize,
          onClick: this.toggleZoomed
        })));
      }
      return h("div", {
        class: "f2h__preview"
      }, isFileLarge && h("p", {
        class: "f2h__size_warning f2h__notice--warning"
      }, "File size is very large, consider using smaller images and simplier shapes"), scaleWarning, svg2 ? h("div", {
        ref: this.innerEl,
        class: `f2h__preview_inner ${!nativeSize ? "f2h__preview_inner--scaled" : ""}`,
        style: previewWrapperStyles
      }, h(FrameContainer, __assign(__assign({}, frame), {
        scale: !nativeSize && scale
      }))) : h("p", {
        class: "f2h__preview_loading"
      }, "Loading..."));
    }
  }

  // src/components/Save.tsx
  const file_saver = __toModule(require_FileSaver_min());
  class Save2 extends m {
    constructor() {
      super(...arguments);
      this.state = {
        advancedOpen: false,
        showToast: false,
        outputFormat: OUTPUT_FORMATS.INLINE
      };
      this.textAreaEl = p2();
      this.toggleAdvanced = () => {
        this.setState({
          advancedOpen: !this.state.advancedOpen
        });
      };
      this.saveToClipboard = () => {
        const {current: el} = this.textAreaEl;
        if (!el) {
          console.error("Missing textarea element");
          return;
        }
        el.select();
        document.execCommand("copy");
        const {showToast} = this.state;
        if (showToast) {
          return;
        }
        this.setState({showToast: true});
        setTimeout(() => this.setState({showToast: false}), 2e3);
      };
      this.saveEmbedToClipboard = () => {
        this.setState({outputFormat: OUTPUT_FORMATS.INLINE}, this.saveToClipboard);
      };
      this.saveBinaryFile = () => {
        const {frames, headline, subhead, source} = this.props;
        const outputFrames = Object.values(frames).filter((f3) => f3.selected);
        const filename = "figma-to-html-test.html";
        const raw = renderInline({
          frames: outputFrames,
          iframe: OUTPUT_FORMATS.IFRAME,
          headline,
          subhead,
          source
        });
        const blob = new Blob([raw], {type: "text/html"});
        file_saver.saveAs(blob, filename);
      };
      this.handleFormatChange = (format) => {
        this.setState({
          outputFormat: format
        });
      };
    }
    render() {
      const {frames, headline, subhead, source} = this.props;
      const {advancedOpen, showToast, outputFormat} = this.state;
      const rawHtml = renderInline({
        frames,
        iframe: outputFormat,
        headline,
        subhead,
        source
      });
      const advancedBtnText = `${advancedOpen ? "hide" : "show"}`;
      let advancedClassName = "f2h__save_advanced";
      if (advancedOpen) {
        advancedClassName += "f2h__save_advanced--open";
      }
      let toastClassName = "f2h__toast";
      if (showToast) {
        toastClassName += "f2h__toast--open";
      }
      return h("div", {
        class: "f2h__save"
      }, h("div", {
        class: "f2h__save_options"
      }, h("button", {
        class: "f2h__save_btn",
        onClick: this.saveEmbedToClipboard
      }, "Copy embed to clipboard"), h("button", {
        class: "f2h__save_btn",
        onClick: this.saveBinaryFile
      }, "Download iframe HTML file")), h("h2", {
        class: "f2h__save__subhead f2h__save_advanced-header"
      }, h("span", {
        class: "f2h__save_advanced_title"
      }, "Advanced settings"), h("button", {
        class: "f2h__save_advanced_show",
        onClick: this.toggleAdvanced
      }, advancedBtnText)), h("div", {
        class: advancedClassName
      }, h("h2", {
        class: "f2h__save__subhead"
      }, "Format"), h("label", {
        for: "f2h__input_inline",
        class: "f2h__label"
      }, h("input", {
        class: "f2h__radio_btn",
        type: "radio",
        name: "inline",
        id: "f2h__input_inline",
        value: OUTPUT_FORMATS.INLINE,
        checked: outputFormat === OUTPUT_FORMATS.INLINE,
        onClick: () => this.handleFormatChange(OUTPUT_FORMATS.INLINE)
      }), "Inline (default)"), h("label", {
        for: "f2h__input_iframe",
        class: "f2h__label"
      }, h("input", {
        class: "f2h__radio_btn",
        type: "radio",
        name: "iframe",
        id: "f2h__input_iframe",
        value: OUTPUT_FORMATS.IFRAME,
        checked: outputFormat === OUTPUT_FORMATS.IFRAME,
        onClick: () => this.handleFormatChange(OUTPUT_FORMATS.IFRAME)
      }), "iFrame"), h("h2", {
        class: "f2h__save__subhead"
      }, "Raw HTML"), h("textarea", {
        ref: this.textAreaEl,
        class: "f2h__save__raw",
        value: rawHtml
      })), h("div", {
        class: toastClassName
      }, "Copied to clipboard"));
    }
  }

  // src/utils/svg.ts
  function decodeSvgToString(svg2) {
    let svgStr = new TextDecoder("utf-8").decode(svg2);
    const regex = /id="(.+?)"/g;
    const ids = [];
    let matches;
    while (matches = regex.exec(svgStr)) {
      const [, id] = matches;
      ids.push(id);
    }
    ids.forEach((id) => {
      const rnd = Math.random().toString(32).substr(2);
      const randomId = `${id}-${rnd}`;
      svgStr = svgStr.replace(`id="${id}"`, `id="${randomId}"`);
      svgStr = svgStr.replace(`#${id}`, `#${randomId}`);
    });
    svgStr = svgStr.replace(/http:\/\//g, "https://");
    return svgStr;
  }

  // src/utils/compressImage.ts
  const compressorjs = __toModule(require_compressor());
  function compressImage2(image, width, height) {
    return new Promise((resolve, reject) => {
      const blob = new Blob([image], {type: "image/png"});
      const imgUrl = URL.createObjectURL(blob);
      const img = new Image();
      img.src = imgUrl;
      img.addEventListener("load", () => {
        let targetWidth = 0;
        let targetHeight = 0;
        if (width > img.width || height > img.height) {
          targetWidth = img.width;
          targetHeight = img.height;
        } else {
          const aspectRatio = img.width / img.height;
          targetWidth = aspectRatio >= 1 ? height * aspectRatio : width;
          targetHeight = aspectRatio >= 1 ? height : width / aspectRatio;
        }
        new compressorjs.default(blob, {
          width: targetWidth,
          height: targetHeight,
          quality: 0.7,
          convertSize: 1e5,
          success: async (newImage) => {
            const buf = await newImage.arrayBuffer();
            const data = new Uint8Array(buf);
            resolve(data);
          },
          error: (err) => {
            console.error("Image compression failed");
            reject(err);
          }
        });
      });
      img.addEventListener("error", (err) => {
        console.error("Error loading compressed image");
        reject(err);
      });
    });
  }

  // src/utils/messages.ts
  function sendMessage(type, data) {
    console.log("post message", parent.postMessage, type, data);
    parent.postMessage({
      pluginMessage: __assign({
        type
      }, data)
    }, "*");
  }

  // src/utils/lib/tools.ts
  const cleanupOutData = function(data, params2, command) {
    var str = "", delimiter, prev;
    data.forEach(function(item, i3) {
      delimiter = " ";
      if (i3 == 0)
        delimiter = "";
      if (params2.noSpaceAfterFlags && (command == "A" || command == "a")) {
        var pos = i3 % 7;
        if (pos == 4 || pos == 5)
          delimiter = "";
      }
      if (params2.leadingZero) {
        item = removeLeadingZero(item);
      }
      if (params2.negativeExtraSpace && delimiter != "" && (item < 0 || String(item).charCodeAt(0) == 46 && prev % 1 !== 0)) {
        delimiter = "";
      }
      prev = item;
      str += delimiter + item;
    });
    return str;
  };
  const removeLeadingZero = function(num) {
    var strNum = num.toString();
    if (0 < num && num < 1 && strNum.charCodeAt(0) == 48) {
      strNum = strNum.slice(1);
    } else if (-1 < num && num < 0 && strNum.charCodeAt(1) == 48) {
      strNum = strNum.charAt(0) + strNum.slice(2);
    }
    return strNum;
  };

  // src/utils/lib/path.ts
  const rNumber = String.raw`[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?\s*`;
  const rCommaWsp = String.raw`(?:\s,?\s*|,\s*)`;
  const rNumberCommaWsp = `(${rNumber})` + rCommaWsp;
  const rFlagCommaWsp = `([01])${rCommaWsp}?`;
  const rCoordinatePair = String.raw`(${rNumber})${rCommaWsp}?(${rNumber})`;
  const rArcSeq = (rNumberCommaWsp + "?").repeat(2) + rNumberCommaWsp + rFlagCommaWsp.repeat(2) + rCoordinatePair;
  const regPathInstructions = /([MmLlHhVvCcSsQqTtAaZz])\s*/;
  const regCoordinateSequence = new RegExp(rNumber, "g");
  const regArcArgumentSequence = new RegExp(rArcSeq, "g");
  function path2js(path2) {
    var _a;
    const paramsLength = {
      H: 1,
      V: 1,
      M: 2,
      L: 2,
      T: 2,
      Q: 4,
      S: 4,
      C: 6,
      A: 7,
      h: 1,
      v: 1,
      m: 2,
      l: 2,
      t: 2,
      q: 4,
      s: 4,
      c: 6,
      a: 7
    };
    let pathData = [];
    let instruction;
    let startMoveto = false;
    (_a = path2.getAttribute("d")) == null ? void 0 : _a.split(regPathInstructions).forEach(function(data) {
      if (!data)
        return;
      if (!startMoveto) {
        if (data == "M" || data == "m") {
          startMoveto = true;
        } else
          return;
      }
      if (regPathInstructions.test(data)) {
        instruction = data;
        if (instruction == "Z" || instruction == "z") {
          pathData.push({
            instruction: "z"
          });
        }
      } else {
        if (instruction == "A" || instruction == "a") {
          var newData = [];
          for (var args; args = regArcArgumentSequence.exec(data); ) {
            for (var i3 = 1; i3 < args.length; i3++) {
              newData.push(args[i3]);
            }
          }
          data = newData;
        } else {
          data = data.match(regCoordinateSequence);
        }
        if (!data)
          return;
        data = data.map(Number);
        if (instruction == "M" || instruction == "m") {
          pathData.push({
            instruction: pathData.length == 0 ? "M" : instruction,
            data: data.splice(0, 2)
          });
          instruction = instruction == "M" ? "L" : "l";
        }
        for (var pair = paramsLength[instruction]; data.length; ) {
          pathData.push({
            instruction,
            data: data.splice(0, pair)
          });
        }
      }
    });
    if (pathData.length && pathData[0].instruction == "m") {
      pathData[0].instruction = "M";
    }
    return pathData;
  }
  const js2path = function(path2, data, params2) {
    if (params2.collapseRepeated) {
      data = collapseRepeated(data);
    }
    path2.setAttribute("d", data.reduce(function(pathString, item) {
      var strData = "";
      if (item.data) {
        strData = cleanupOutData(item.data, params2, item.instruction);
      }
      return pathString += item.instruction + strData;
    }, ""));
  };
  function collapseRepeated(data) {
    var prev, prevIndex;
    data = data.reduce(function(newPath, item) {
      if (prev && item.data && item.instruction == prev.instruction) {
        if (item.instruction != "M") {
          prev = newPath[prevIndex] = {
            instruction: prev.instruction,
            data: prev.data.concat(item.data),
            coords: item.coords,
            base: prev.base
          };
        } else {
          prev.data = item.data;
          prev.coords = item.coords;
        }
      } else {
        newPath.push(item);
        prev = item;
        prevIndex = newPath.length - 1;
      }
      return newPath;
    }, []);
    return data;
  }

  // src/utils/lib/shapeToPath.ts
  function convertShapesToPath(el) {
    var _a, _b, _c, _d, _e;
    if (el instanceof SVGRectElement && el.hasAttribute("width") && el.hasAttribute("height") && el.hasAttribute("rx") === false && el.hasAttribute("ry") === false) {
      const x2 = parseFloat(el.getAttribute("x") || "0");
      const y2 = parseFloat(el.getAttribute("y") || "0");
      const width = parseFloat(el.getAttribute("width") || "0");
      const height = parseFloat(el.getAttribute("height") || "0");
      if (isNaN(x2 - y2 + width - height))
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const pathData = `M${x2} ${y2}H${x2 + width}V${y2 + height}H${x2}z`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["x", "y", "width", "height"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_a = el.parentElement) == null ? void 0 : _a.replaceChild(pathEl, el);
    } else if (el instanceof SVGLineElement) {
      const x1 = parseFloat(el.getAttribute("x1") || "0");
      const x2 = parseFloat(el.getAttribute("x2") || "0");
      const y1 = parseFloat(el.getAttribute("y1") || "0");
      const y2 = parseFloat(el.getAttribute("y2") || "0");
      if (isNaN(x1 - y1 + x2 - y2))
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const pathData = `M${x1} ${y1}L${x2} ${y2}`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["x1", "y1", "x2", "y2"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_b = el.parentElement) == null ? void 0 : _b.replaceChild(pathEl, el);
    } else if ((el instanceof SVGPolylineElement || el instanceof SVGPolygonElement) && el.hasAttribute("points")) {
      const REGX_NUMBER = /[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?/g;
      const points = (_c = el.getAttribute("points")) != null ? _c : "";
      const coords = ((_d = points.match(REGX_NUMBER)) != null ? _d : []).map(Number);
      if (coords.length < 4)
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const [x2, y2] = coords.slice(0, 2);
      const remainingPoints = coords.slice(2).join(" ");
      const suffix = el instanceof SVGPolygonElement ? "z" : "";
      const pathData = `M${x2} ${y2}L${remainingPoints}${suffix}`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["points"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_e = el.parentElement) == null ? void 0 : _e.replaceChild(pathEl, el);
    }
  }

  // src/utils/crunchSvg.ts
  const params = {
    applyTransforms: true,
    applyTransformsStroked: true,
    makeArcs: {
      threshold: 2.5,
      tolerance: 0.5
    },
    straightCurves: true,
    lineShorthands: true,
    curveSmoothShorthands: true,
    floatPrecision: 1,
    transformPrecision: 5,
    removeUseless: true,
    collapseRepeated: true,
    utilizeAbsolute: true,
    leadingZero: true,
    negativeExtraSpace: true,
    noSpaceAfterFlags: true,
    forceAbsolutePath: false
  };
  let roundData;
  let precision;
  let error;
  let arcThreshold;
  let arcTolerance;
  let hasMarkerMid;
  let hasStrokeLinecap;
  function crunchSvg2(svg2) {
    for (const node of Array.from(svg2.querySelectorAll("*"))) {
      convertShapesToPath(node);
      optimiseElement(node);
    }
  }
  function optimiseElement(item) {
    precision = params.floatPrecision;
    if (item instanceof SVGPathElement && item.hasAttribute("d")) {
      error = precision !== false ? +Math.pow(0.1, precision).toFixed(precision) : 0.01;
      roundData = precision > 0 && precision < 20 ? strongRound : round;
      if (params.makeArcs) {
        arcThreshold = params.makeArcs.threshold;
        arcTolerance = params.makeArcs.tolerance;
      }
      hasMarkerMid = item.hasAttribute("marker-mid");
      const stroke = item.getAttribute("stroke");
      const strokeLinecap = item.getAttribute("stroke");
      hasStrokeLinecap = stroke && stroke != "none" && strokeLinecap && strokeLinecap != "butt";
      var data = path2js(item);
      if (data.length) {
        convertToRelative(data);
        data = filters(data, params);
        if (params.utilizeAbsolute) {
          data = convertToMixed(data, params);
        }
        js2path(item, data, params);
      }
    }
  }
  function convertToRelative(path2) {
    var point = [0, 0], subpathPoint = [0, 0], baseItem;
    path2.forEach(function(item, index) {
      var instruction = item.instruction, data = item.data;
      if (data) {
        if ("mcslqta".indexOf(instruction) > -1) {
          point[0] += data[data.length - 2];
          point[1] += data[data.length - 1];
          if (instruction === "m") {
            subpathPoint[0] = point[0];
            subpathPoint[1] = point[1];
            baseItem = item;
          }
        } else if (instruction === "h") {
          point[0] += data[0];
        } else if (instruction === "v") {
          point[1] += data[0];
        }
        if (instruction === "M") {
          if (index > 0)
            instruction = "m";
          data[0] -= point[0];
          data[1] -= point[1];
          subpathPoint[0] = point[0] += data[0];
          subpathPoint[1] = point[1] += data[1];
          baseItem = item;
        } else if ("LT".indexOf(instruction) > -1) {
          instruction = instruction.toLowerCase();
          data[0] -= point[0];
          data[1] -= point[1];
          point[0] += data[0];
          point[1] += data[1];
        } else if (instruction === "C") {
          instruction = "c";
          data[0] -= point[0];
          data[1] -= point[1];
          data[2] -= point[0];
          data[3] -= point[1];
          data[4] -= point[0];
          data[5] -= point[1];
          point[0] += data[4];
          point[1] += data[5];
        } else if ("SQ".indexOf(instruction) > -1) {
          instruction = instruction.toLowerCase();
          data[0] -= point[0];
          data[1] -= point[1];
          data[2] -= point[0];
          data[3] -= point[1];
          point[0] += data[2];
          point[1] += data[3];
        } else if (instruction === "A") {
          instruction = "a";
          data[5] -= point[0];
          data[6] -= point[1];
          point[0] += data[5];
          point[1] += data[6];
        } else if (instruction === "H") {
          instruction = "h";
          data[0] -= point[0];
          point[0] += data[0];
        } else if (instruction === "V") {
          instruction = "v";
          data[0] -= point[1];
          point[1] += data[0];
        }
        item.instruction = instruction;
        item.data = data;
        item.coords = point.slice(-2);
      } else if (instruction == "z") {
        if (baseItem) {
          item.coords = baseItem.coords;
        }
        point[0] = subpathPoint[0];
        point[1] = subpathPoint[1];
      }
      item.base = index > 0 ? path2[index - 1].coords : [0, 0];
    });
    return path2;
  }
  function filters(path2, params2) {
    var stringify = data2Path.bind(null, params2), relSubpoint = [0, 0], pathBase = [0, 0], prev = {};
    path2 = path2.filter(function(item, index, path3) {
      var instruction = item.instruction, data = item.data, next = path3[index + 1];
      if (data) {
        var sdata = data, circle;
        if (instruction === "s") {
          sdata = [0, 0].concat(data);
          if ("cs".indexOf(prev.instruction) > -1) {
            var pdata = prev.data, n3 = pdata.length;
            sdata[0] = pdata[n3 - 2] - pdata[n3 - 4];
            sdata[1] = pdata[n3 - 1] - pdata[n3 - 3];
          }
        }
        if (params2.makeArcs && (instruction == "c" || instruction == "s") && isConvex(sdata) && (circle = findCircle(sdata))) {
          var r2 = roundData([circle.radius])[0], angle = findArcAngle(sdata, circle), sweep = sdata[5] * sdata[0] - sdata[4] * sdata[1] > 0 ? 1 : 0, arc = {
            instruction: "a",
            data: [r2, r2, 0, 0, sweep, sdata[4], sdata[5]],
            coords: item.coords.slice(),
            base: item.base
          }, output = [arc], relCenter = [
            circle.center[0] - sdata[4],
            circle.center[1] - sdata[5]
          ], relCircle = {center: relCenter, radius: circle.radius}, arcCurves = [item], hasPrev = 0, suffix = "", nextLonghand;
          if (prev.instruction == "c" && isConvex(prev.data) && isArcPrev(prev.data, circle) || prev.instruction == "a" && prev.sdata && isArcPrev(prev.sdata, circle)) {
            arcCurves.unshift(prev);
            arc.base = prev.base;
            arc.data[5] = arc.coords[0] - arc.base[0];
            arc.data[6] = arc.coords[1] - arc.base[1];
            var prevData = prev.instruction == "a" ? prev.sdata : prev.data;
            var prevAngle = findArcAngle(prevData, {
              center: [
                prevData[4] + circle.center[0],
                prevData[5] + circle.center[1]
              ],
              radius: circle.radius
            });
            angle += prevAngle;
            if (angle > Math.PI)
              arc.data[3] = 1;
            hasPrev = 1;
          }
          for (var j2 = index; (next = path3[++j2]) && ~"cs".indexOf(next.instruction); ) {
            var nextData = next.data;
            if (next.instruction == "s") {
              nextLonghand = makeLonghand({instruction: "s", data: next.data.slice()}, path3[j2 - 1].data);
              nextData = nextLonghand.data;
              nextLonghand.data = nextData.slice(0, 2);
              suffix = stringify([nextLonghand]);
            }
            if (isConvex(nextData) && isArc(nextData, relCircle)) {
              angle += findArcAngle(nextData, relCircle);
              if (angle - 2 * Math.PI > 1e-3)
                break;
              if (angle > Math.PI)
                arc.data[3] = 1;
              arcCurves.push(next);
              if (2 * Math.PI - angle > 1e-3) {
                arc.coords = next.coords;
                arc.data[5] = arc.coords[0] - arc.base[0];
                arc.data[6] = arc.coords[1] - arc.base[1];
              } else {
                arc.data[5] = 2 * (relCircle.center[0] - nextData[4]);
                arc.data[6] = 2 * (relCircle.center[1] - nextData[5]);
                arc.coords = [
                  arc.base[0] + arc.data[5],
                  arc.base[1] + arc.data[6]
                ];
                arc = {
                  instruction: "a",
                  data: [
                    r2,
                    r2,
                    0,
                    0,
                    sweep,
                    next.coords[0] - arc.coords[0],
                    next.coords[1] - arc.coords[1]
                  ],
                  coords: next.coords,
                  base: arc.coords
                };
                output.push(arc);
                j2++;
                break;
              }
              relCenter[0] -= nextData[4];
              relCenter[1] -= nextData[5];
            } else
              break;
          }
          if ((stringify(output) + suffix).length < stringify(arcCurves).length) {
            if (path3[j2] && path3[j2].instruction == "s") {
              makeLonghand(path3[j2], path3[j2 - 1].data);
            }
            if (hasPrev) {
              var prevArc = output.shift();
              roundData(prevArc.data);
              relSubpoint[0] += prevArc.data[5] - prev.data[prev.data.length - 2];
              relSubpoint[1] += prevArc.data[6] - prev.data[prev.data.length - 1];
              prev.instruction = "a";
              prev.data = prevArc.data;
              item.base = prev.coords = prevArc.coords;
            }
            arc = output.shift();
            if (arcCurves.length == 1) {
              item.sdata = sdata.slice();
            } else if (arcCurves.length - 1 - hasPrev > 0) {
              path3.splice.apply(path3, [index + 1, arcCurves.length - 1 - hasPrev].concat(output));
            }
            if (!arc)
              return false;
            instruction = "a";
            data = arc.data;
            item.coords = arc.coords;
          }
        }
        if (precision !== false) {
          if ("mltqsc".indexOf(instruction) > -1) {
            for (var i3 = data.length; i3--; ) {
              data[i3] += item.base[i3 % 2] - relSubpoint[i3 % 2];
            }
          } else if (instruction == "h") {
            data[0] += item.base[0] - relSubpoint[0];
          } else if (instruction == "v") {
            data[0] += item.base[1] - relSubpoint[1];
          } else if (instruction == "a") {
            data[5] += item.base[0] - relSubpoint[0];
            data[6] += item.base[1] - relSubpoint[1];
          }
          roundData(data);
          if (instruction == "h")
            relSubpoint[0] += data[0];
          else if (instruction == "v")
            relSubpoint[1] += data[0];
          else {
            relSubpoint[0] += data[data.length - 2];
            relSubpoint[1] += data[data.length - 1];
          }
          roundData(relSubpoint);
          if (instruction.toLowerCase() == "m") {
            pathBase[0] = relSubpoint[0];
            pathBase[1] = relSubpoint[1];
          }
        }
        if (params2.straightCurves) {
          if (instruction === "c" && isCurveStraightLine(data) || instruction === "s" && isCurveStraightLine(sdata)) {
            if (next && next.instruction == "s")
              makeLonghand(next, data);
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "q" && isCurveStraightLine(data)) {
            if (next && next.instruction == "t")
              makeLonghand(next, data);
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "t" && prev.instruction !== "q" && prev.instruction !== "t") {
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "a" && (data[0] === 0 || data[1] === 0)) {
            instruction = "l";
            data = data.slice(-2);
          }
        }
        if (params2.lineShorthands && instruction === "l") {
          if (data[1] === 0) {
            instruction = "h";
            data.pop();
          } else if (data[0] === 0) {
            instruction = "v";
            data.shift();
          }
        }
        if (params2.collapseRepeated && !hasMarkerMid && "mhv".indexOf(instruction) > -1 && prev.instruction && instruction == prev.instruction.toLowerCase() && (instruction != "h" && instruction != "v" || prev.data[0] >= 0 == data[0] >= 0)) {
          prev.data[0] += data[0];
          if (instruction != "h" && instruction != "v") {
            prev.data[1] += data[1];
          }
          prev.coords = item.coords;
          path3[index] = prev;
          return false;
        }
        if (params2.curveSmoothShorthands && prev.instruction) {
          if (instruction === "c") {
            if (prev.instruction === "c" && data[0] === -(prev.data[2] - prev.data[4]) && data[1] === -(prev.data[3] - prev.data[5])) {
              instruction = "s";
              data = data.slice(2);
            } else if (prev.instruction === "s" && data[0] === -(prev.data[0] - prev.data[2]) && data[1] === -(prev.data[1] - prev.data[3])) {
              instruction = "s";
              data = data.slice(2);
            } else if ("cs".indexOf(prev.instruction) === -1 && data[0] === 0 && data[1] === 0) {
              instruction = "s";
              data = data.slice(2);
            }
          } else if (instruction === "q") {
            if (prev.instruction === "q" && data[0] === prev.data[2] - prev.data[0] && data[1] === prev.data[3] - prev.data[1]) {
              instruction = "t";
              data = data.slice(2);
            } else if (prev.instruction === "t" && data[2] === prev.data[0] && data[3] === prev.data[1]) {
              instruction = "t";
              data = data.slice(2);
            }
          }
        }
        if (params2.removeUseless && !hasStrokeLinecap) {
          if ("lhvqtcs".indexOf(instruction) > -1 && data.every(function(i4) {
            return i4 === 0;
          })) {
            path3[index] = prev;
            return false;
          }
          if (instruction === "a" && data[5] === 0 && data[6] === 0) {
            path3[index] = prev;
            return false;
          }
        }
        item.instruction = instruction;
        item.data = data;
        prev = item;
      } else {
        relSubpoint[0] = pathBase[0];
        relSubpoint[1] = pathBase[1];
        if (prev.instruction == "z")
          return false;
        prev = item;
      }
      return true;
    });
    return path2;
  }
  function convertToMixed(path2, params2) {
    var prev = path2[0];
    path2 = path2.filter(function(item, index) {
      if (index == 0)
        return true;
      if (!item.data) {
        prev = item;
        return true;
      }
      var instruction = item.instruction, data = item.data, adata = data && data.slice(0);
      if ("mltqsc".indexOf(instruction) > -1) {
        for (var i3 = adata.length; i3--; ) {
          adata[i3] += item.base[i3 % 2];
        }
      } else if (instruction == "h") {
        adata[0] += item.base[0];
      } else if (instruction == "v") {
        adata[0] += item.base[1];
      } else if (instruction == "a") {
        adata[5] += item.base[0];
        adata[6] += item.base[1];
      }
      roundData(adata);
      var absoluteDataStr = cleanupOutData(adata, params2), relativeDataStr = cleanupOutData(data, params2);
      if (params2.forceAbsolutePath || absoluteDataStr.length < relativeDataStr.length && !(params2.negativeExtraSpace && instruction == prev.instruction && prev.instruction.charCodeAt(0) > 96 && absoluteDataStr.length == relativeDataStr.length - 1 && (data[0] < 0 || /^0\./.test(data[0]) && prev.data[prev.data.length - 1] % 1))) {
        item.instruction = instruction.toUpperCase();
        item.data = adata;
      }
      prev = item;
      return true;
    });
    return path2;
  }
  function isConvex(data) {
    var center = getIntersection([
      0,
      0,
      data[2],
      data[3],
      data[0],
      data[1],
      data[4],
      data[5]
    ]);
    return center && data[2] < center[0] == center[0] < 0 && data[3] < center[1] == center[1] < 0 && data[4] < center[0] == center[0] < data[0] && data[5] < center[1] == center[1] < data[1];
  }
  function getIntersection(coords) {
    var a1 = coords[1] - coords[3], b1 = coords[2] - coords[0], c1 = coords[0] * coords[3] - coords[2] * coords[1], a22 = coords[5] - coords[7], b2 = coords[6] - coords[4], c22 = coords[4] * coords[7] - coords[5] * coords[6], denom = a1 * b2 - a22 * b1;
    if (!denom)
      return;
    var cross = [(b1 * c22 - b2 * c1) / denom, (a1 * c22 - a22 * c1) / -denom];
    if (!isNaN(cross[0]) && !isNaN(cross[1]) && isFinite(cross[0]) && isFinite(cross[1])) {
      return cross;
    }
  }
  function strongRound(data) {
    for (var i3 = data.length; i3-- > 0; ) {
      if (data[i3].toFixed(precision) != data[i3]) {
        var rounded = +data[i3].toFixed(precision - 1);
        data[i3] = +Math.abs(rounded - data[i3]).toFixed(precision + 1) >= error ? +data[i3].toFixed(precision) : rounded;
      }
    }
    return data;
  }
  function round(data) {
    for (var i3 = data.length; i3-- > 0; ) {
      data[i3] = Math.round(data[i3]);
    }
    return data;
  }
  function isCurveStraightLine(data) {
    var i3 = data.length - 2, a3 = -data[i3 + 1], b2 = data[i3], d2 = 1 / (a3 * a3 + b2 * b2);
    if (i3 <= 1 || !isFinite(d2))
      return false;
    while ((i3 -= 2) >= 0) {
      if (Math.sqrt(Math.pow(a3 * data[i3] + b2 * data[i3 + 1], 2) * d2) > error)
        return false;
    }
    return true;
  }
  function makeLonghand(item, data) {
    switch (item.instruction) {
      case "s":
        item.instruction = "c";
        break;
      case "t":
        item.instruction = "q";
        break;
    }
    item.data.unshift(data[data.length - 2] - data[data.length - 4], data[data.length - 1] - data[data.length - 3]);
    return item;
  }
  function getDistance(point1, point2) {
    return Math.hypot(point1[0] - point2[0], point1[1] - point2[1]);
  }
  function getCubicBezierPoint(curve, t2) {
    var sqrT = t2 * t2, cubT = sqrT * t2, mt = 1 - t2, sqrMt = mt * mt;
    return [
      3 * sqrMt * t2 * curve[0] + 3 * mt * sqrT * curve[2] + cubT * curve[4],
      3 * sqrMt * t2 * curve[1] + 3 * mt * sqrT * curve[3] + cubT * curve[5]
    ];
  }
  function findCircle(curve) {
    var midPoint = getCubicBezierPoint(curve, 1 / 2), m1 = [midPoint[0] / 2, midPoint[1] / 2], m2 = [(midPoint[0] + curve[4]) / 2, (midPoint[1] + curve[5]) / 2], center = getIntersection([
      m1[0],
      m1[1],
      m1[0] + m1[1],
      m1[1] - m1[0],
      m2[0],
      m2[1],
      m2[0] + (m2[1] - midPoint[1]),
      m2[1] - (m2[0] - midPoint[0])
    ]), radius = center && getDistance([0, 0], center), tolerance = Math.min(arcThreshold * error, arcTolerance * radius / 100);
    if (center && radius < 1e15 && [1 / 4, 3 / 4].every(function(point) {
      return Math.abs(getDistance(getCubicBezierPoint(curve, point), center) - radius) <= tolerance;
    }))
      return {center, radius};
  }
  function isArc(curve, circle) {
    var tolerance = Math.min(arcThreshold * error, arcTolerance * circle.radius / 100);
    return [0, 1 / 4, 1 / 2, 3 / 4, 1].every(function(point) {
      return Math.abs(getDistance(getCubicBezierPoint(curve, point), circle.center) - circle.radius) <= tolerance;
    });
  }
  function isArcPrev(curve, circle) {
    return isArc(curve, {
      center: [circle.center[0] + curve[4], circle.center[1] + curve[5]],
      radius: circle.radius
    });
  }
  function findArcAngle(curve, relCircle) {
    var x1 = -relCircle.center[0], y1 = -relCircle.center[1], x2 = curve[4] - relCircle.center[0], y2 = curve[5] - relCircle.center[1];
    return Math.acos((x1 * x2 + y1 * y2) / Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2)));
  }
  function data2Path(params2, pathData) {
    return pathData.reduce(function(pathString, item) {
      var strData = "";
      if (item.data) {
        strData = cleanupOutData(roundData(item.data.slice()), params2);
      }
      return pathString + item.instruction + strData;
    }, "");
  }

  // src/components/App.tsx
  class App extends m {
    constructor() {
      super(...arguments);
      this.state = {
        error: void 0,
        ready: false,
        frames: {},
        stage: STAGES.CHOOSE_FRAMES,
        previewIndex: 0,
        isResizing: false,
        mouseStartX: 0,
        mouseStartY: 0,
        windowWidth: INITIAL_UI_SIZE.width,
        windowHeight: INITIAL_UI_SIZE.height,
        responsive: true,
        headline: void 0,
        subhead: void 0,
        source: void 0,
        loading: false
      };
      this.updateInitialState = (data) => {
        let {frames, windowHeight, windowWidth, headline, subhead, source} = data;
        if (!Array.isArray(frames) || (frames == null ? void 0 : frames.length) < 1) {
          this.setState({error: "No frames!"});
          console.error("Post error: no frames", data);
          return;
        }
        const frameData = {};
        for (const frame of frames) {
          const {id} = frame;
          const rndId = Math.random().toString(32).substr(2);
          frameData[id] = __assign(__assign({}, frame), {uid: `f2h-${rndId}`, svgOptimised: false});
        }
        this.setState({
          frames: frameData,
          ready: true,
          windowWidth,
          windowHeight,
          headline,
          subhead,
          source
        });
      };
      this.compressImage = async (msg) => {
        try {
          const {image, width, height, uid} = msg;
          const imgData = await compressImage2(image, width, height);
          sendMessage(MSG_EVENTS.COMPRESSED_IMAGE, {image: imgData, uid});
        } catch (err) {
          console.error(err);
          this.setState({error: "Failed to compress image"});
        }
      };
      this.handleRenderMessage = (data) => {
        const {frameId, svg: svg2} = data;
        if (!frameId || !svg2) {
          this.setState({error: "Failed to render", loading: false});
          console.error("Post message: failed to render", data);
          return;
        }
        const {frames} = this.state;
        const svgStr = decodeSvgToString(svg2);
        const cloneFrames = JSON.parse(JSON.stringify(frames));
        cloneFrames[frameId].svg = svgStr;
        this.setState({frames: cloneFrames, loading: false});
      };
      this.handleEvents = (data) => {
        console.log("UI post", data);
        switch (data.type) {
          case MSG_EVENTS.FOUND_FRAMES:
            this.updateInitialState(data);
            break;
          case MSG_EVENTS.NO_FRAMES:
            this.setState({error: UI_TEXT.ERROR_MISSING_FRAMES});
            break;
          case MSG_EVENTS.ERROR:
            console.error("UI post message error", data);
            this.setState({
              error: `${UI_TEXT.ERROR_UNEXPECTED}: ${data.errorText}`
            });
            break;
          case MSG_EVENTS.RENDER:
            this.handleRenderMessage(data);
            break;
          case MSG_EVENTS.COMPRESS_IMAGE:
            this.compressImage(data);
            break;
          default:
            this.setState({error: "Unknown post message"});
            console.error("UI post message error", data);
            break;
        }
      };
      this.goNext = () => {
        const {stage, previewIndex, frames} = this.state;
        const {length} = Object.values(frames).filter((f3) => f3.selected);
        if (length === 0) {
          return;
        }
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return this.setState({stage: STAGES.PREVIEW_OUTPUT});
          case STAGES.PREVIEW_OUTPUT:
            const nextIndex = previewIndex + 1;
            if (length === nextIndex) {
              return this.setState({stage: STAGES.RESPONSIVE_PREVIEW});
            } else {
              return this.setState({previewIndex: nextIndex});
            }
          case STAGES.RESPONSIVE_PREVIEW:
            return this.setState({stage: STAGES.SAVE_OUTPUT});
          case STAGES.SAVE_OUTPUT:
            return;
        }
      };
      this.goBack = () => {
        const {stage, previewIndex} = this.state;
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return;
          case STAGES.PREVIEW_OUTPUT:
            if (previewIndex === 0) {
              this.setState({stage: STAGES.CHOOSE_FRAMES});
            } else {
              this.setState({previewIndex: previewIndex - 1});
            }
            return;
          case STAGES.RESPONSIVE_PREVIEW:
            return this.setState({stage: STAGES.PREVIEW_OUTPUT});
          case STAGES.SAVE_OUTPUT:
            return this.setState({stage: STAGES.RESPONSIVE_PREVIEW});
        }
      };
      this.getOutputRender = (frameId) => {
        this.setState({loading: true});
        sendMessage(MSG_EVENTS.RENDER, {frameId});
      };
      this.toggleProp = (id, prop) => {
        const {frames} = this.state;
        const cloneFrames = JSON.parse(JSON.stringify(frames));
        cloneFrames[id][prop] = !cloneFrames[id][prop];
        this.setState({frames: cloneFrames});
      };
      this.toggleFrameSelect = (id) => this.toggleProp(id, "selected");
      this.toggleResonsive = (id) => this.toggleProp(id, "responsive");
      this.toggleOptimised = (id) => {
        const {frames} = this.state;
        const {svgCompressed, svg: svg2, svgOptimised} = frames[id];
        if (svg2 && !svgOptimised && !svgCompressed) {
          const el = document.createElement("div");
          el.innerHTML = svg2;
          const svgEl = el.querySelector("svg");
          if (!svgEl) {
            console.error("Missing SVG in SVG string");
            return;
          }
          crunchSvg2(svgEl);
          const cloneFrames = JSON.parse(JSON.stringify(frames));
          cloneFrames[id].svgCompressed = svgEl.outerHTML;
          cloneFrames[id].svgOptimised = true;
          this.setState({frames: cloneFrames});
        } else {
          this.toggleProp(id, "svgOptimised");
        }
      };
      this.toggleAllProp = (propName) => {
        const {frames} = this.state;
        const shouldDeselectAll = Object.values(frames).some((frame) => frame[propName]);
        const newFrames = JSON.parse(JSON.stringify(frames));
        Object.values(newFrames).forEach((frame) => frame[propName] = !shouldDeselectAll);
        this.setState({frames: newFrames});
      };
      this.toggleSelectAll = () => this.toggleAllProp("selected");
      this.toggleResponsiveAll = () => this.toggleAllProp("responsive");
      this.handleFormUpdate = (props) => {
        this.setState(__assign({}, props));
        sendMessage(MSG_EVENTS.UPDATE_HEADLINES, props);
      };
      this.switchView = () => {
        const {frames, stage, previewIndex, windowHeight, windowWidth, headline, subhead, source, loading} = this.state;
        const framesArr = Object.values(frames).sort((a3, b2) => a3.width <= b2.width ? -1 : 1);
        let selectedFrames = framesArr.filter((frame) => frame.selected);
        if (stage === STAGES.PREVIEW_OUTPUT && !selectedFrames[previewIndex].svg && loading === false) {
          this.getOutputRender(selectedFrames[previewIndex].id);
        }
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return h(FrameSelection2, {
              frames: framesArr,
              handleClick: this.toggleFrameSelect,
              toggleResonsive: this.toggleResonsive,
              toggleSelectAll: this.toggleSelectAll,
              toggleResponsiveAll: this.toggleResponsiveAll,
              headline,
              subhead,
              source,
              handleFormUpdate: this.handleFormUpdate
            });
          case STAGES.PREVIEW_OUTPUT:
            const selectedFrame = selectedFrames[previewIndex];
            return h(Preview2, {
              frame: selectedFrame,
              windowHeight,
              windowWidth
            });
          case STAGES.RESPONSIVE_PREVIEW:
            return h(ResponsiveView2, {
              windowHeight,
              windowWidth,
              frames: selectedFrames,
              headline,
              subhead,
              source
            });
          case STAGES.SAVE_OUTPUT:
            return h(Save2, {
              frames: selectedFrames,
              headline,
              subhead,
              source
            });
          default:
            return h("div", null, "Loading...");
        }
      };
    }
    componentDidMount() {
      window.addEventListener("message", (e2) => this.handleEvents(e2.data.pluginMessage));
      sendMessage(MSG_EVENTS.DOM_READY);
    }
    render() {
      const {error: error2, frames, stage, previewIndex, loading} = this.state;
      const selectedFrame = Object.values(frames)[previewIndex];
      console.log(this.state);
      return h("div", {
        class: "f2h"
      }, h(Header2, {
        stage,
        handleBackClick: this.goBack,
        handleNextClick: this.goNext,
        disableNext: loading || stage === STAGES.SAVE_OUTPUT,
        frame: selectedFrame,
        handleOptimseClick: this.toggleOptimised
      }), h("div", {
        class: "f2h__body"
      }, error2 ? h("div", {
        class: "error"
      }, error2) : this.switchView()));
    }
  }

  // src/ui.tsx
  const ui = __toModule(require_ui());
  const fonts2 = __toModule(require_fonts());
  const embed2 = __toModule(require_embed());
  injectCss(ui.default);
  injectCss(embed2.default);
  injectCss(fonts2.default);
  H(h(App, null), document.body);
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2VtYmVkLmNzcyIsICJzcmMvZm9udHMuY3NzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9maWxlLXNhdmVyQDIuMC4yL25vZGVfbW9kdWxlcy9maWxlLXNhdmVyL2Rpc3QvRmlsZVNhdmVyLm1pbi5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vY29tcHJlc3NvcmpzQDEuMC42L25vZGVfbW9kdWxlcy9jb21wcmVzc29yanMvZGlzdC9jb21wcmVzc29yLmpzIiwgInNyYy91aS5jc3MiLCAibm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC40LjQvbm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0L3ByZWFjdC5tb2R1bGUuanMiLCAic3JjL3V0aWxzL2Nzcy50cyIsICJzcmMvY29uc3RhbnRzLnRzIiwgInNyYy9jb21wb25lbnRzL0hlYWRlci50c3giLCAibm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdC1yZW5kZXItdG8tc3RyaW5nQDUuMS45X3ByZWFjdEAxMC40LjQvbm9kZV9tb2R1bGVzL3ByZWFjdC1yZW5kZXItdG8tc3RyaW5nL2Rpc3QvaW5kZXgubW9kdWxlLmpzIiwgInNyYy9vdXRwdXRSZW5kZXIudHN4IiwgInNyYy9jb21wb25lbnRzL1Jlc3BvbnNpdmVWaWV3LnRzeCIsICJzcmMvY29tcG9uZW50cy9GcmFtZVNlbGVjdGlvbi50c3giLCAic3JjL2NvbXBvbmVudHMvUHJldmlldy50c3giLCAic3JjL2NvbXBvbmVudHMvU2F2ZS50c3giLCAic3JjL3V0aWxzL3N2Zy50cyIsICJzcmMvdXRpbHMvY29tcHJlc3NJbWFnZS50cyIsICJzcmMvdXRpbHMvbWVzc2FnZXMudHMiLCAic3JjL3V0aWxzL2xpYi90b29scy50cyIsICJzcmMvdXRpbHMvbGliL3BhdGgudHMiLCAic3JjL3V0aWxzL2xpYi9zaGFwZVRvUGF0aC50cyIsICJzcmMvdXRpbHMvY3J1bmNoU3ZnLnRzIiwgInNyYy9jb21wb25lbnRzL0FwcC50c3giLCAic3JjL3VpLnRzeCJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaHRtbCxcbmJvZHkge1xuICBtYXJnaW46IDA7XG59XG5cbi5mMmhfX3RleHQge1xuICBtYXJnaW46IDA7XG4gIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgLyogd2hpdGUtc3BhY2U6IHByZTsgKi9cblxuICAvKiBERUJVRyAqL1xuICAvKiBjb2xvcjogcmdiYSgyNTUsIDAsIDAsIDAuMzQpICFpbXBvcnRhbnQ7ICovXG59XG5cbi5mMmhfX3JlbmRlciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLmYyaF9fcmVuZGVyIHN2ZyB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW46IDA7XG59XG5cbi5mMmhfX3JlbmRlciBzdmcgdGV4dCB7XG4gIC8qIERFQlVHICovXG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5mMmhfX3JlbmRlci0tcmVzcG9uc2l2ZSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uZjJoX19yZW5kZXItLXJlc3BvbnNpdmUgc3ZnIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogYXV0bztcbn1cblxuLmYyaF9oZWFkbGluZSB7XG4gIGZvbnQtZmFtaWx5OiBcIkF1c3RpbiBOZXdzIERlY2sgU2VtaWJvbGRcIiwgR2VvcmdpYSwgXCJUaW1lcyBOZXcgUm9tYW5cIiwgVGltZXMsIHNlcmlmO1xuICBmb250LXNpemU6IDIycHg7XG4gIGNvbG9yOiAjMzMzO1xuICBtYXJnaW46IDA7XG4gIGxpbmUtaGVpZ2h0OiAxLjM7XG59XG4uZjJoX3N1YmJoZWFkIHtcbiAgZm9udC1mYW1pbHk6IFwiQXVzdGluIE5ld3MgVGV4dCBSb21hblwiLCBHZW9yZ2lhLCBcIlRpbWVzIE5ldyBSb21hblwiLCBUaW1lcywgc2VyaWY7XG4gIGZvbnQtc2l6ZTogMTdweDtcbiAgY29sb3I6ICMzMzM7XG4gIG1hcmdpbjogMDtcbiAgbGluZS1oZWlnaHQ6IDEuNTtcbn1cbi5mMmhfaGVhZGVyIHtcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcbn1cblxuLmYyaF9zb3VyY2Uge1xuICBmb250LWZhbWlseTogXCJUZWxlc2FucyBUZXh0IFJlZ3VsYXJcIiwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBjb2xvcjogIzk5OTtcbiAgbWFyZ2luOiAxMnB4IDAgMDtcbn1cbiIsICJAZm9udC1mYWNlIHtcbiAgZm9udC1mYW1pbHk6IFwiQXVzdGluIE5ld3MgRGVjayBTZW1pYm9sZFwiO1xuICBzcmM6IHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIERlY2sgV2ViLVNlbWlib2xkLndvZmYyXCIpIGZvcm1hdChcIndvZmYyXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIERlY2sgV2ViLVNlbWlib2xkLndvZmZcIikgZm9ybWF0KFwid29mZlwiKSxcbiAgICB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9BdXN0aW4gTmV3cyBEZWNrIFdlYi1TZW1pYm9sZC50dGZcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIik7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG4gIGZvbnQtZGlzcGxheTogXCJzd2FwXCI7XG59XG5AZm9udC1mYWNlIHtcbiAgZm9udC1mYW1pbHk6IFwiQXVzdGluIE5ld3MgRGVjayBNZWRpdW1cIjtcbiAgc3JjOiB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9BdXN0aW4gTmV3cyBEZWNrIFdlYi1NZWRpdW0ud29mZjJcIikgZm9ybWF0KFwid29mZjJcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItTWVkaXVtLndvZmZcIikgZm9ybWF0KFwid29mZlwiKSxcbiAgICB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9BdXN0aW4gTmV3cyBEZWNrIFdlYi1NZWRpdW0udHRmXCIpIGZvcm1hdChcInRydWV0eXBlXCIpO1xuICBmb250LXdlaWdodDogNzAwO1xuICBmb250LWRpc3BsYXk6IFwic3dhcFwiO1xufVxuQGZvbnQtZmFjZSB7XG4gIGZvbnQtZmFtaWx5OiBcIkF1c3RpbiBOZXdzIERlY2sgUm9tYW5cIjtcbiAgc3JjOiB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9BdXN0aW4gTmV3cyBEZWNrIFdlYi1Sb21hbi53b2ZmMlwiKSBmb3JtYXQoXCJ3b2ZmMlwiKSxcbiAgICB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9BdXN0aW4gTmV3cyBEZWNrIFdlYi1Sb21hbi53b2ZmXCIpIGZvcm1hdChcIndvZmZcIiksXG4gICAgdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvQXVzdGluIE5ld3MgRGVjayBXZWItUm9tYW4udHRmXCIpIGZvcm1hdChcInRydWV0eXBlXCIpO1xuICBmb250LXdlaWdodDogNDAwO1xuICBmb250LWRpc3BsYXk6IFwic3dhcFwiO1xufVxuXG5AZm9udC1mYWNlIHtcbiAgZm9udC1mYW1pbHk6IFwiQXVzdGluIE5ld3MgVGV4dCBSb21hblwiO1xuICBzcmM6IHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIFRleHQgV2ViLVJvbWFuLndvZmYyXCIpIGZvcm1hdChcIndvZmYyXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL0F1c3RpbiBOZXdzIFRleHQgV2ViLVJvbWFuLndvZmZcIikgZm9ybWF0KFwid29mZlwiKSxcbiAgICB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9BdXN0aW4gTmV3cyBUZXh0IFdlYi1Sb21hbi50dGZcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIik7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG4gIGZvbnQtZGlzcGxheTogXCJzd2FwXCI7XG59XG5AZm9udC1mYWNlIHtcbiAgZm9udC1mYW1pbHk6IFwiVGVsZXNhbnMgVGV4dCBSZWd1bGFyXCI7XG4gIHNyYzogdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvVGVsZXNhbnMgVGV4dCBXZWItUmVndWxhci53b2ZmMlwiKSBmb3JtYXQoXCJ3b2ZmMlwiKSxcbiAgICB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9UZWxlc2FucyBUZXh0IFdlYi1SZWd1bGFyLndvZmZcIikgZm9ybWF0KFwid29mZlwiKSxcbiAgICB1cmwoXCJodHRwczovL2NmLmVpcC50ZWxlZ3JhcGguY28udWsvYXNzZXRzL19mb250cy9UZWxlc2FucyBUZXh0IFdlYi1SZWd1bGFyLnR0ZlwiKSBmb3JtYXQoXCJ0cnVldHlwZVwiKTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgZm9udC1kaXNwbGF5OiBcInN3YXBcIjtcbn1cbkBmb250LWZhY2Uge1xuICBmb250LWZhbWlseTogXCJUZWxlc2FucyBBZ2F0ZSBSZWd1bGFyXCI7XG4gIGZvbnQtc3R5bGU6IFwibm9ybWFsXCI7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIHNyYzogdXJsKFwiaHR0cHM6Ly9jZi5laXAudGVsZWdyYXBoLmNvLnVrL2Fzc2V0cy9fZm9udHMvVGVsZXNhbnNBZ2F0ZS1NZWRpdW0ud29mZlwiKSBmb3JtYXQoXCJ3b2ZmXCIpLFxuICAgIHVybChcImh0dHBzOi8vY2YuZWlwLnRlbGVncmFwaC5jby51ay9hc3NldHMvX2ZvbnRzL1RlbGVzYW5zQWdhdGUtTWVkaXVtLnR0ZlwiKSBmb3JtYXQoXCJ0cnVldHlwZVwiKTtcbn1cbiIsICIoZnVuY3Rpb24oYSxiKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGIpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHMpYigpO2Vsc2V7YigpLGEuRmlsZVNhdmVyPXtleHBvcnRzOnt9fS5leHBvcnRzfX0pKHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEsYil7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGI/Yj17YXV0b0JvbTohMX06XCJvYmplY3RcIiE9dHlwZW9mIGImJihjb25zb2xlLndhcm4oXCJEZXByZWNhdGVkOiBFeHBlY3RlZCB0aGlyZCBhcmd1bWVudCB0byBiZSBhIG9iamVjdFwiKSxiPXthdXRvQm9tOiFifSksYi5hdXRvQm9tJiYvXlxccyooPzp0ZXh0XFwvXFxTKnxhcHBsaWNhdGlvblxcL3htbHxcXFMqXFwvXFxTKlxcK3htbClcXHMqOy4qY2hhcnNldFxccyo9XFxzKnV0Zi04L2kudGVzdChhLnR5cGUpP25ldyBCbG9iKFtcIlxcdUZFRkZcIixhXSx7dHlwZTphLnR5cGV9KTphfWZ1bmN0aW9uIGMoYixjLGQpe3ZhciBlPW5ldyBYTUxIdHRwUmVxdWVzdDtlLm9wZW4oXCJHRVRcIixiKSxlLnJlc3BvbnNlVHlwZT1cImJsb2JcIixlLm9ubG9hZD1mdW5jdGlvbigpe2EoZS5yZXNwb25zZSxjLGQpfSxlLm9uZXJyb3I9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiY291bGQgbm90IGRvd25sb2FkIGZpbGVcIil9LGUuc2VuZCgpfWZ1bmN0aW9uIGQoYSl7dmFyIGI9bmV3IFhNTEh0dHBSZXF1ZXN0O2Iub3BlbihcIkhFQURcIixhLCExKTt0cnl7Yi5zZW5kKCl9Y2F0Y2goYSl7fXJldHVybiAyMDA8PWIuc3RhdHVzJiYyOTk+PWIuc3RhdHVzfWZ1bmN0aW9uIGUoYSl7dHJ5e2EuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudChcImNsaWNrXCIpKX1jYXRjaChjKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRzXCIpO2IuaW5pdE1vdXNlRXZlbnQoXCJjbGlja1wiLCEwLCEwLHdpbmRvdywwLDAsMCw4MCwyMCwhMSwhMSwhMSwhMSwwLG51bGwpLGEuZGlzcGF0Y2hFdmVudChiKX19dmFyIGY9XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LndpbmRvdz09PXdpbmRvdz93aW5kb3c6XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYuc2VsZj09PXNlbGY/c2VsZjpcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwuZ2xvYmFsPT09Z2xvYmFsP2dsb2JhbDp2b2lkIDAsYT1mLnNhdmVBc3x8KFwib2JqZWN0XCIhPXR5cGVvZiB3aW5kb3d8fHdpbmRvdyE9PWY/ZnVuY3Rpb24oKXt9OlwiZG93bmxvYWRcImluIEhUTUxBbmNob3JFbGVtZW50LnByb3RvdHlwZT9mdW5jdGlvbihiLGcsaCl7dmFyIGk9Zi5VUkx8fGYud2Via2l0VVJMLGo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7Zz1nfHxiLm5hbWV8fFwiZG93bmxvYWRcIixqLmRvd25sb2FkPWcsai5yZWw9XCJub29wZW5lclwiLFwic3RyaW5nXCI9PXR5cGVvZiBiPyhqLmhyZWY9YixqLm9yaWdpbj09PWxvY2F0aW9uLm9yaWdpbj9lKGopOmQoai5ocmVmKT9jKGIsZyxoKTplKGosai50YXJnZXQ9XCJfYmxhbmtcIikpOihqLmhyZWY9aS5jcmVhdGVPYmplY3RVUkwoYiksc2V0VGltZW91dChmdW5jdGlvbigpe2kucmV2b2tlT2JqZWN0VVJMKGouaHJlZil9LDRFNCksc2V0VGltZW91dChmdW5jdGlvbigpe2Uoail9LDApKX06XCJtc1NhdmVPck9wZW5CbG9iXCJpbiBuYXZpZ2F0b3I/ZnVuY3Rpb24oZixnLGgpe2lmKGc9Z3x8Zi5uYW1lfHxcImRvd25sb2FkXCIsXCJzdHJpbmdcIiE9dHlwZW9mIGYpbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoYihmLGgpLGcpO2Vsc2UgaWYoZChmKSljKGYsZyxoKTtlbHNle3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2kuaHJlZj1mLGkudGFyZ2V0PVwiX2JsYW5rXCIsc2V0VGltZW91dChmdW5jdGlvbigpe2UoaSl9KX19OmZ1bmN0aW9uKGEsYixkLGUpe2lmKGU9ZXx8b3BlbihcIlwiLFwiX2JsYW5rXCIpLGUmJihlLmRvY3VtZW50LnRpdGxlPWUuZG9jdW1lbnQuYm9keS5pbm5lclRleHQ9XCJkb3dubG9hZGluZy4uLlwiKSxcInN0cmluZ1wiPT10eXBlb2YgYSlyZXR1cm4gYyhhLGIsZCk7dmFyIGc9XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIj09PWEudHlwZSxoPS9jb25zdHJ1Y3Rvci9pLnRlc3QoZi5IVE1MRWxlbWVudCl8fGYuc2FmYXJpLGk9L0NyaU9TXFwvW1xcZF0rLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO2lmKChpfHxnJiZoKSYmXCJvYmplY3RcIj09dHlwZW9mIEZpbGVSZWFkZXIpe3ZhciBqPW5ldyBGaWxlUmVhZGVyO2oub25sb2FkZW5kPWZ1bmN0aW9uKCl7dmFyIGE9ai5yZXN1bHQ7YT1pP2E6YS5yZXBsYWNlKC9eZGF0YTpbXjtdKjsvLFwiZGF0YTphdHRhY2htZW50L2ZpbGU7XCIpLGU/ZS5sb2NhdGlvbi5ocmVmPWE6bG9jYXRpb249YSxlPW51bGx9LGoucmVhZEFzRGF0YVVSTChhKX1lbHNle3ZhciBrPWYuVVJMfHxmLndlYmtpdFVSTCxsPWsuY3JlYXRlT2JqZWN0VVJMKGEpO2U/ZS5sb2NhdGlvbj1sOmxvY2F0aW9uLmhyZWY9bCxlPW51bGwsc2V0VGltZW91dChmdW5jdGlvbigpe2sucmV2b2tlT2JqZWN0VVJMKGwpfSw0RTQpfX0pO2Yuc2F2ZUFzPWEuc2F2ZUFzPWEsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmKG1vZHVsZS5leHBvcnRzPWEpfSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbGVTYXZlci5taW4uanMubWFwIiwgIi8qIVxuICogQ29tcHJlc3Nvci5qcyB2MS4wLjZcbiAqIGh0dHBzOi8vZmVuZ3l1YW5jaGVuLmdpdGh1Yi5pby9jb21wcmVzc29yanNcbiAqXG4gKiBDb3B5cmlnaHQgMjAxOC1wcmVzZW50IENoZW4gRmVuZ3l1YW5cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTktMTEtMjNUMDQ6NDM6MTIuNDQyWlxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuQ29tcHJlc3NvciA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gICAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH07XG5cbiAgICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcbiAgICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgICB9KTtcbiAgICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTtcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5cztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcblxuICAgICAgaWYgKGkgJSAyKSB7XG4gICAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuICBcdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbiAgfVxuXG4gIHZhciBjYW52YXNUb0Jsb2IgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgKGZ1bmN0aW9uICh3aW5kb3cpIHtcblxuICAgICAgdmFyIENhbnZhc1Byb3RvdHlwZSA9IHdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudCAmJiB3aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlO1xuXG4gICAgICB2YXIgaGFzQmxvYkNvbnN0cnVjdG9yID0gd2luZG93LkJsb2IgJiYgZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBCb29sZWFuKG5ldyBCbG9iKCkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KCk7XG5cbiAgICAgIHZhciBoYXNBcnJheUJ1ZmZlclZpZXdTdXBwb3J0ID0gaGFzQmxvYkNvbnN0cnVjdG9yICYmIHdpbmRvdy5VaW50OEFycmF5ICYmIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbmV3IEJsb2IoW25ldyBVaW50OEFycmF5KDEwMCldKS5zaXplID09PSAxMDA7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0oKTtcblxuICAgICAgdmFyIEJsb2JCdWlsZGVyID0gd2luZG93LkJsb2JCdWlsZGVyIHx8IHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlciB8fCB3aW5kb3cuTW96QmxvYkJ1aWxkZXIgfHwgd2luZG93Lk1TQmxvYkJ1aWxkZXI7XG4gICAgICB2YXIgZGF0YVVSSVBhdHRlcm4gPSAvXmRhdGE6KCguKj8pKDtjaGFyc2V0PS4qPyk/KSg7YmFzZTY0KT8sLztcblxuICAgICAgdmFyIGRhdGFVUkx0b0Jsb2IgPSAoaGFzQmxvYkNvbnN0cnVjdG9yIHx8IEJsb2JCdWlsZGVyKSAmJiB3aW5kb3cuYXRvYiAmJiB3aW5kb3cuQXJyYXlCdWZmZXIgJiYgd2luZG93LlVpbnQ4QXJyYXkgJiYgZnVuY3Rpb24gKGRhdGFVUkkpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMsIG1lZGlhVHlwZSwgaXNCYXNlNjQsIGRhdGFTdHJpbmcsIGJ5dGVTdHJpbmcsIGFycmF5QnVmZmVyLCBpbnRBcnJheSwgaSwgYmI7IC8vIFBhcnNlIHRoZSBkYXRhVVJJIGNvbXBvbmVudHMgYXMgcGVyIFJGQyAyMzk3XG5cbiAgICAgICAgbWF0Y2hlcyA9IGRhdGFVUkkubWF0Y2goZGF0YVVSSVBhdHRlcm4pO1xuXG4gICAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBkYXRhIFVSSScpO1xuICAgICAgICB9IC8vIERlZmF1bHQgdG8gdGV4dC9wbGFpbjtjaGFyc2V0PVVTLUFTQ0lJXG5cblxuICAgICAgICBtZWRpYVR5cGUgPSBtYXRjaGVzWzJdID8gbWF0Y2hlc1sxXSA6ICd0ZXh0L3BsYWluJyArIChtYXRjaGVzWzNdIHx8ICc7Y2hhcnNldD1VUy1BU0NJSScpO1xuICAgICAgICBpc0Jhc2U2NCA9ICEhbWF0Y2hlc1s0XTtcbiAgICAgICAgZGF0YVN0cmluZyA9IGRhdGFVUkkuc2xpY2UobWF0Y2hlc1swXS5sZW5ndGgpO1xuXG4gICAgICAgIGlmIChpc0Jhc2U2NCkge1xuICAgICAgICAgIC8vIENvbnZlcnQgYmFzZTY0IHRvIHJhdyBiaW5hcnkgZGF0YSBoZWxkIGluIGEgc3RyaW5nOlxuICAgICAgICAgIGJ5dGVTdHJpbmcgPSBhdG9iKGRhdGFTdHJpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIENvbnZlcnQgYmFzZTY0L1VSTEVuY29kZWQgZGF0YSBjb21wb25lbnQgdG8gcmF3IGJpbmFyeTpcbiAgICAgICAgICBieXRlU3RyaW5nID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGFTdHJpbmcpO1xuICAgICAgICB9IC8vIFdyaXRlIHRoZSBieXRlcyBvZiB0aGUgc3RyaW5nIHRvIGFuIEFycmF5QnVmZmVyOlxuXG5cbiAgICAgICAgYXJyYXlCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZVN0cmluZy5sZW5ndGgpO1xuICAgICAgICBpbnRBcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYnl0ZVN0cmluZy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGludEFycmF5W2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9IC8vIFdyaXRlIHRoZSBBcnJheUJ1ZmZlciAob3IgQXJyYXlCdWZmZXJWaWV3KSB0byBhIGJsb2I6XG5cblxuICAgICAgICBpZiAoaGFzQmxvYkNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFtoYXNBcnJheUJ1ZmZlclZpZXdTdXBwb3J0ID8gaW50QXJyYXkgOiBhcnJheUJ1ZmZlcl0sIHtcbiAgICAgICAgICAgIHR5cGU6IG1lZGlhVHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYmIgPSBuZXcgQmxvYkJ1aWxkZXIoKTtcbiAgICAgICAgYmIuYXBwZW5kKGFycmF5QnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIGJiLmdldEJsb2IobWVkaWFUeXBlKTtcbiAgICAgIH07XG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQgJiYgIUNhbnZhc1Byb3RvdHlwZS50b0Jsb2IpIHtcbiAgICAgICAgaWYgKENhbnZhc1Byb3RvdHlwZS5tb3pHZXRBc0ZpbGUpIHtcbiAgICAgICAgICBDYW52YXNQcm90b3R5cGUudG9CbG9iID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0eXBlLCBxdWFsaXR5KSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKHF1YWxpdHkgJiYgQ2FudmFzUHJvdG90eXBlLnRvRGF0YVVSTCAmJiBkYXRhVVJMdG9CbG9iKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YVVSTHRvQmxvYihzZWxmLnRvRGF0YVVSTCh0eXBlLCBxdWFsaXR5KSkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHNlbGYubW96R2V0QXNGaWxlKCdibG9iJywgdHlwZSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKENhbnZhc1Byb3RvdHlwZS50b0RhdGFVUkwgJiYgZGF0YVVSTHRvQmxvYikge1xuICAgICAgICAgIENhbnZhc1Byb3RvdHlwZS50b0Jsb2IgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHR5cGUsIHF1YWxpdHkpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhVVJMdG9CbG9iKHNlbGYudG9EYXRhVVJMKHR5cGUsIHF1YWxpdHkpKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICggbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBkYXRhVVJMdG9CbG9iO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmRhdGFVUkx0b0Jsb2IgPSBkYXRhVVJMdG9CbG9iO1xuICAgICAgfVxuICAgIH0pKHdpbmRvdyk7XG4gIH0pO1xuXG4gIHZhciBpc0Jsb2IgPSBmdW5jdGlvbiBpc0Jsb2IoaW5wdXQpIHtcbiAgICBpZiAodHlwZW9mIEJsb2IgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgQmxvYiB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBCbG9iXSc7XG4gIH07XG5cbiAgdmFyIERFRkFVTFRTID0ge1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiBvdXRwdXQgdGhlIG9yaWdpbmFsIGltYWdlIGluc3RlYWQgb2YgdGhlIGNvbXByZXNzZWQgb25lXG4gICAgICogd2hlbiB0aGUgc2l6ZSBvZiB0aGUgY29tcHJlc3NlZCBpbWFnZSBpcyBncmVhdGVyIHRoYW4gdGhlIG9yaWdpbmFsIG9uZSdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RyaWN0OiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHJlYWQgdGhlIGltYWdlJ3MgRXhpZiBPcmllbnRhdGlvbiBpbmZvcm1hdGlvbixcbiAgICAgKiBhbmQgdGhlbiByb3RhdGUgb3IgZmxpcCB0aGUgaW1hZ2UgYXV0b21hdGljYWxseS5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjaGVja09yaWVudGF0aW9uOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGUgb3V0cHV0IGltYWdlLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgbWF4V2lkdGg6IEluZmluaXR5LFxuXG4gICAgLyoqXG4gICAgICogVGhlIG1heCBoZWlnaHQgb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIG1heEhlaWdodDogSW5maW5pdHksXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWluIHdpZHRoIG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBtaW5XaWR0aDogMCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBtaW4gaGVpZ2h0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBtaW5IZWlnaHQ6IDAsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgbmF0dXJhbCB3aWR0aCBvZiB0aGUgc291cmNlIGltYWdlIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHdpZHRoOiB1bmRlZmluZWQsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogSWYgbm90IHNwZWNpZmllZCwgdGhlIG5hdHVyYWwgaGVpZ2h0IG9mIHRoZSBzb3VyY2UgaW1hZ2Ugd2lsbCBiZSB1c2VkLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgaGVpZ2h0OiB1bmRlZmluZWQsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcXVhbGl0eSBvZiB0aGUgb3V0cHV0IGltYWdlLlxuICAgICAqIEl0IG11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIGAxYCxcbiAgICAgKiBhbmQgb25seSBhdmFpbGFibGUgZm9yIGBpbWFnZS9qcGVnYCBhbmQgYGltYWdlL3dlYnBgIGltYWdlcy5cbiAgICAgKiBDaGVjayBvdXQge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC90b0Jsb2IgY2FudmFzLnRvQmxvYn0uXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBxdWFsaXR5OiAwLjgsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWltZSB0eXBlIG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIG9yaWdpbmFsIG1pbWUgdHlwZSBvZiB0aGUgc291cmNlIGltYWdlIGZpbGUgd2lsbCBiZSB1c2VkLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgbWltZVR5cGU6ICdhdXRvJyxcblxuICAgIC8qKlxuICAgICAqIFBORyBmaWxlcyBvdmVyIHRoaXMgdmFsdWUgKDUgTUIgYnkgZGVmYXVsdCkgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gSlBFR3MuXG4gICAgICogVG8gZGlzYWJsZSB0aGlzLCBqdXN0IHNldCB0aGUgdmFsdWUgdG8gYEluZmluaXR5YC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGNvbnZlcnRTaXplOiA1MDAwMDAwLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGhvb2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSBiZWZvcmUgZHJhdyB0aGUgaW1hZ2UgaW50byB0aGUgY2FudmFzIGZvciBjb21wcmVzc2lvbi5cbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgLSBUaGUgMmQgcmVuZGVyaW5nIGNvbnRleHQgb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBUaGUgY2FudmFzIGZvciBjb21wcmVzc2lvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGZ1bmN0aW9uIChjb250ZXh0LCBjYW52YXMpIHtcbiAgICAgKiAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmYnO1xuICAgICAqIH1cbiAgICAgKi9cbiAgICBiZWZvcmVEcmF3OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGhvb2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSBhZnRlciBkcmV3IHRoZSBpbWFnZSBpbnRvIHRoZSBjYW52YXMgZm9yIGNvbXByZXNzaW9uLlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCAtIFRoZSAyZCByZW5kZXJpbmcgY29udGV4dCBvZiB0aGUgY2FudmFzLlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIFRoZSBjYW52YXMgZm9yIGNvbXByZXNzaW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogZnVuY3Rpb24gKGNvbnRleHQsIGNhbnZhcykge1xuICAgICAqICAgY29udGV4dC5maWx0ZXIgPSAnZ3JheXNjYWxlKDEwMCUpJztcbiAgICAgKiB9XG4gICAgICovXG4gICAgZHJldzogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBob29rIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiBzdWNjZXNzIHRvIGNvbXByZXNzIHRoZSBpbWFnZS5cbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtGaWxlfSBmaWxlIC0gVGhlIGNvbXByZXNzZWQgaW1hZ2UgRmlsZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAqICAgY29uc29sZS5sb2coZmlsZSk7XG4gICAgICogfVxuICAgICAqL1xuICAgIHN1Y2Nlc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgaG9vayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gZmFpbCB0byBjb21wcmVzcyB0aGUgaW1hZ2UuXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7RXJyb3J9IGVyciAtIEFuIEVycm9yIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgZXJyb3I6IG51bGxcbiAgfTtcblxuICB2YXIgSVNfQlJPV1NFUiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuICB2YXIgV0lORE9XID0gSVNfQlJPV1NFUiA/IHdpbmRvdyA6IHt9O1xuXG4gIHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbiAgLyoqXG4gICAqIENvbnZlcnQgYXJyYXktbGlrZSBvciBpdGVyYWJsZSBvYmplY3QgdG8gYW4gYXJyYXkuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgKi9cblxuICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20gPyBBcnJheS5mcm9tKHZhbHVlKSA6IHNsaWNlLmNhbGwodmFsdWUpO1xuICB9XG4gIHZhciBSRUdFWFBfSU1BR0VfVFlQRSA9IC9eaW1hZ2VcXC8uKyQvO1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgbWltZSB0eXBlIG9mIGltYWdlLlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGlzIGEgbWltZSB0eXBlIG9mIGltYWdlLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlzSW1hZ2VUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIFJFR0VYUF9JTUFHRV9UWVBFLnRlc3QodmFsdWUpO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0IGltYWdlIHR5cGUgdG8gZXh0ZW5zaW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgaW1hZ2UgdHlwZSB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0aGUgaW1hZ2UgZXh0ZW5zaW9uLlxuICAgKi9cblxuICBmdW5jdGlvbiBpbWFnZVR5cGVUb0V4dGVuc2lvbih2YWx1ZSkge1xuICAgIHZhciBleHRlbnNpb24gPSBpc0ltYWdlVHlwZSh2YWx1ZSkgPyB2YWx1ZS5zdWJzdHIoNikgOiAnJztcblxuICAgIGlmIChleHRlbnNpb24gPT09ICdqcGVnJykge1xuICAgICAgZXh0ZW5zaW9uID0gJ2pwZyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiLlwiLmNvbmNhdChleHRlbnNpb24pO1xuICB9XG4gIHZhciBmcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuICAvKipcbiAgICogR2V0IHN0cmluZyBmcm9tIGNoYXIgY29kZSBpbiBkYXRhIHZpZXcuXG4gICAqIEBwYXJhbSB7RGF0YVZpZXd9IGRhdGFWaWV3IC0gVGhlIGRhdGEgdmlldyBmb3IgcmVhZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IC0gVGhlIHN0YXJ0IGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIC0gVGhlIHJlYWQgbGVuZ3RoLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcmVhZCByZXN1bHQuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldFN0cmluZ0Zyb21DaGFyQ29kZShkYXRhVmlldywgc3RhcnQsIGxlbmd0aCkge1xuICAgIHZhciBzdHIgPSAnJztcbiAgICB2YXIgaTtcbiAgICBsZW5ndGggKz0gc3RhcnQ7XG5cbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBzdHIgKz0gZnJvbUNoYXJDb2RlKGRhdGFWaWV3LmdldFVpbnQ4KGkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIHZhciBidG9hID0gV0lORE9XLmJ0b2E7XG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gYXJyYXkgYnVmZmVyIHRvIERhdGEgVVJMLlxuICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciAtIFRoZSBhcnJheSBidWZmZXIgdG8gdHJhbnNmb3JtLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWltZVR5cGUgLSBUaGUgbWltZSB0eXBlIG9mIHRoZSBEYXRhIFVSTC5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHJlc3VsdCBEYXRhIFVSTC5cbiAgICovXG5cbiAgZnVuY3Rpb24gYXJyYXlCdWZmZXJUb0RhdGFVUkwoYXJyYXlCdWZmZXIsIG1pbWVUeXBlKSB7XG4gICAgdmFyIGNodW5rcyA9IFtdO1xuICAgIHZhciBjaHVua1NpemUgPSA4MTkyO1xuICAgIHZhciB1aW50OCA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcblxuICAgIHdoaWxlICh1aW50OC5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBYWFg6IEJhYmVsJ3MgYHRvQ29uc3VtYWJsZUFycmF5YCBoZWxwZXIgd2lsbCB0aHJvdyBlcnJvciBpbiBJRSBvciBTYWZhcmkgOVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcbiAgICAgIGNodW5rcy5wdXNoKGZyb21DaGFyQ29kZS5hcHBseShudWxsLCB0b0FycmF5KHVpbnQ4LnN1YmFycmF5KDAsIGNodW5rU2l6ZSkpKSk7XG4gICAgICB1aW50OCA9IHVpbnQ4LnN1YmFycmF5KGNodW5rU2l6ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiZGF0YTpcIi5jb25jYXQobWltZVR5cGUsIFwiO2Jhc2U2NCxcIikuY29uY2F0KGJ0b2EoY2h1bmtzLmpvaW4oJycpKSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBvcmllbnRhdGlvbiB2YWx1ZSBmcm9tIGdpdmVuIGFycmF5IGJ1ZmZlci5cbiAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgLSBUaGUgYXJyYXkgYnVmZmVyIHRvIHJlYWQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSByZWFkIG9yaWVudGF0aW9uIHZhbHVlLlxuICAgKi9cblxuICBmdW5jdGlvbiByZXNldEFuZEdldE9yaWVudGF0aW9uKGFycmF5QnVmZmVyKSB7XG4gICAgdmFyIGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcbiAgICB2YXIgb3JpZW50YXRpb247IC8vIElnbm9yZXMgcmFuZ2UgZXJyb3Igd2hlbiB0aGUgaW1hZ2UgZG9lcyBub3QgaGF2ZSBjb3JyZWN0IEV4aWYgaW5mb3JtYXRpb25cblxuICAgIHRyeSB7XG4gICAgICB2YXIgbGl0dGxlRW5kaWFuO1xuICAgICAgdmFyIGFwcDFTdGFydDtcbiAgICAgIHZhciBpZmRTdGFydDsgLy8gT25seSBoYW5kbGUgSlBFRyBpbWFnZSAoc3RhcnQgYnkgMHhGRkQ4KVxuXG4gICAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDgoMCkgPT09IDB4RkYgJiYgZGF0YVZpZXcuZ2V0VWludDgoMSkgPT09IDB4RDgpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGRhdGFWaWV3LmJ5dGVMZW5ndGg7XG4gICAgICAgIHZhciBvZmZzZXQgPSAyO1xuXG4gICAgICAgIHdoaWxlIChvZmZzZXQgKyAxIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQ4KG9mZnNldCkgPT09IDB4RkYgJiYgZGF0YVZpZXcuZ2V0VWludDgob2Zmc2V0ICsgMSkgPT09IDB4RTEpIHtcbiAgICAgICAgICAgIGFwcDFTdGFydCA9IG9mZnNldDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG9mZnNldCArPSAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhcHAxU3RhcnQpIHtcbiAgICAgICAgdmFyIGV4aWZJRENvZGUgPSBhcHAxU3RhcnQgKyA0O1xuICAgICAgICB2YXIgdGlmZk9mZnNldCA9IGFwcDFTdGFydCArIDEwO1xuXG4gICAgICAgIGlmIChnZXRTdHJpbmdGcm9tQ2hhckNvZGUoZGF0YVZpZXcsIGV4aWZJRENvZGUsIDQpID09PSAnRXhpZicpIHtcbiAgICAgICAgICB2YXIgZW5kaWFubmVzcyA9IGRhdGFWaWV3LmdldFVpbnQxNih0aWZmT2Zmc2V0KTtcbiAgICAgICAgICBsaXR0bGVFbmRpYW4gPSBlbmRpYW5uZXNzID09PSAweDQ5NDk7XG5cbiAgICAgICAgICBpZiAobGl0dGxlRW5kaWFuIHx8IGVuZGlhbm5lc3MgPT09IDB4NEQ0RFxuICAgICAgICAgIC8qIGJpZ0VuZGlhbiAqL1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDE2KHRpZmZPZmZzZXQgKyAyLCBsaXR0bGVFbmRpYW4pID09PSAweDAwMkEpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3RJRkRPZmZzZXQgPSBkYXRhVmlldy5nZXRVaW50MzIodGlmZk9mZnNldCArIDQsIGxpdHRsZUVuZGlhbik7XG5cbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RJRkRPZmZzZXQgPj0gMHgwMDAwMDAwOCkge1xuICAgICAgICAgICAgICAgICAgaWZkU3RhcnQgPSB0aWZmT2Zmc2V0ICsgZmlyc3RJRkRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlmZFN0YXJ0KSB7XG4gICAgICAgIHZhciBfbGVuZ3RoID0gZGF0YVZpZXcuZ2V0VWludDE2KGlmZFN0YXJ0LCBsaXR0bGVFbmRpYW4pO1xuXG4gICAgICAgIHZhciBfb2Zmc2V0O1xuXG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBfbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBfb2Zmc2V0ID0gaWZkU3RhcnQgKyBpICogMTIgKyAyO1xuXG4gICAgICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQxNihfb2Zmc2V0LCBsaXR0bGVFbmRpYW4pID09PSAweDAxMTJcbiAgICAgICAgICAvKiBPcmllbnRhdGlvbiAqL1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgICAvLyA4IGlzIHRoZSBvZmZzZXQgb2YgdGhlIGN1cnJlbnQgdGFnJ3MgdmFsdWVcbiAgICAgICAgICAgICAgX29mZnNldCArPSA4OyAvLyBHZXQgdGhlIG9yaWdpbmFsIG9yaWVudGF0aW9uIHZhbHVlXG5cbiAgICAgICAgICAgICAgb3JpZW50YXRpb24gPSBkYXRhVmlldy5nZXRVaW50MTYoX29mZnNldCwgbGl0dGxlRW5kaWFuKTsgLy8gT3ZlcnJpZGUgdGhlIG9yaWVudGF0aW9uIHdpdGggaXRzIGRlZmF1bHQgdmFsdWVcblxuICAgICAgICAgICAgICBkYXRhVmlldy5zZXRVaW50MTYoX29mZnNldCwgMSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvcmllbnRhdGlvbiA9IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9yaWVudGF0aW9uO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBFeGlmIE9yaWVudGF0aW9uIHZhbHVlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb3JpZW50YXRpb24gLSBUaGUgb3JpZW50YXRpb24gdG8gcGFyc2UuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBwYXJzZWQgcmVzdWx0LlxuICAgKi9cblxuICBmdW5jdGlvbiBwYXJzZU9yaWVudGF0aW9uKG9yaWVudGF0aW9uKSB7XG4gICAgdmFyIHJvdGF0ZSA9IDA7XG4gICAgdmFyIHNjYWxlWCA9IDE7XG4gICAgdmFyIHNjYWxlWSA9IDE7XG5cbiAgICBzd2l0Y2ggKG9yaWVudGF0aW9uKSB7XG4gICAgICAvLyBGbGlwIGhvcml6b250YWxcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgc2NhbGVYID0gLTE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gUm90YXRlIGxlZnQgMTgwXHUwMEIwXG5cbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcm90YXRlID0gLTE4MDtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBGbGlwIHZlcnRpY2FsXG5cbiAgICAgIGNhc2UgNDpcbiAgICAgICAgc2NhbGVZID0gLTE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gRmxpcCB2ZXJ0aWNhbCBhbmQgcm90YXRlIHJpZ2h0IDkwXHUwMEIwXG5cbiAgICAgIGNhc2UgNTpcbiAgICAgICAgcm90YXRlID0gOTA7XG4gICAgICAgIHNjYWxlWSA9IC0xO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIFJvdGF0ZSByaWdodCA5MFx1MDBCMFxuXG4gICAgICBjYXNlIDY6XG4gICAgICAgIHJvdGF0ZSA9IDkwO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIEZsaXAgaG9yaXpvbnRhbCBhbmQgcm90YXRlIHJpZ2h0IDkwXHUwMEIwXG5cbiAgICAgIGNhc2UgNzpcbiAgICAgICAgcm90YXRlID0gOTA7XG4gICAgICAgIHNjYWxlWCA9IC0xO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIFJvdGF0ZSBsZWZ0IDkwXHUwMEIwXG5cbiAgICAgIGNhc2UgODpcbiAgICAgICAgcm90YXRlID0gLTkwO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcm90YXRlOiByb3RhdGUsXG4gICAgICBzY2FsZVg6IHNjYWxlWCxcbiAgICAgIHNjYWxlWTogc2NhbGVZXG4gICAgfTtcbiAgfVxuICB2YXIgUkVHRVhQX0RFQ0lNQUxTID0gL1xcLlxcZCooPzowfDkpezEyfVxcZCokLztcbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBkZWNpbWFsIG51bWJlci5cbiAgICogQ2hlY2sgb3V0IHtAbGluayBodHRwczovLzAuMzAwMDAwMDAwMDAwMDAwMDQuY29tL31cbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIG5vcm1hbGl6ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFt0aW1lcz0xMDAwMDAwMDAwMDBdIC0gVGhlIHRpbWVzIGZvciBub3JtYWxpemluZy5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbm9ybWFsaXplZCBudW1iZXIuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZURlY2ltYWxOdW1iZXIodmFsdWUpIHtcbiAgICB2YXIgdGltZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDAwMDAwMDAwMDtcbiAgICByZXR1cm4gUkVHRVhQX0RFQ0lNQUxTLnRlc3QodmFsdWUpID8gTWF0aC5yb3VuZCh2YWx1ZSAqIHRpbWVzKSAvIHRpbWVzIDogdmFsdWU7XG4gIH1cblxuICB2YXIgQXJyYXlCdWZmZXIkMSA9IFdJTkRPVy5BcnJheUJ1ZmZlcixcbiAgICAgIEZpbGVSZWFkZXIgPSBXSU5ET1cuRmlsZVJlYWRlcjtcbiAgdmFyIFVSTCA9IFdJTkRPVy5VUkwgfHwgV0lORE9XLndlYmtpdFVSTDtcbiAgdmFyIFJFR0VYUF9FWFRFTlNJT04gPSAvXFwuXFx3KyQvO1xuICB2YXIgQW5vdGhlckNvbXByZXNzb3IgPSBXSU5ET1cuQ29tcHJlc3NvcjtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW1hZ2UgY29tcHJlc3Nvci5cbiAgICogQGNsYXNzXG4gICAqL1xuXG4gIHZhciBDb21wcmVzc29yID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIG9mIENvbXByZXNzb3IuXG4gICAgICogQHBhcmFtIHtGaWxlfEJsb2J9IGZpbGUgLSBUaGUgdGFyZ2V0IGltYWdlIGZpbGUgZm9yIGNvbXByZXNzaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgY29tcHJlc3NpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29tcHJlc3NvcihmaWxlLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29tcHJlc3Nvcik7XG5cbiAgICAgIHRoaXMuZmlsZSA9IGZpbGU7XG4gICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkMih7fSwgREVGQVVMVFMsIHt9LCBvcHRpb25zKTtcbiAgICAgIHRoaXMuYWJvcnRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5yZXN1bHQgPSBudWxsO1xuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENvbXByZXNzb3IsIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGUsXG4gICAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGlmICghaXNCbG9iKGZpbGUpKSB7XG4gICAgICAgICAgdGhpcy5mYWlsKG5ldyBFcnJvcignVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBGaWxlIG9yIEJsb2Igb2JqZWN0LicpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWltZVR5cGUgPSBmaWxlLnR5cGU7XG5cbiAgICAgICAgaWYgKCFpc0ltYWdlVHlwZShtaW1lVHlwZSkpIHtcbiAgICAgICAgICB0aGlzLmZhaWwobmV3IEVycm9yKCdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBpbWFnZSBGaWxlIG9yIEJsb2Igb2JqZWN0LicpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIVVSTCB8fCAhRmlsZVJlYWRlcikge1xuICAgICAgICAgIHRoaXMuZmFpbChuZXcgRXJyb3IoJ1RoZSBjdXJyZW50IGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBpbWFnZSBjb21wcmVzc2lvbi4nKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFBcnJheUJ1ZmZlciQxKSB7XG4gICAgICAgICAgb3B0aW9ucy5jaGVja09yaWVudGF0aW9uID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoVVJMICYmICFvcHRpb25zLmNoZWNrT3JpZW50YXRpb24pIHtcbiAgICAgICAgICB0aGlzLmxvYWQoe1xuICAgICAgICAgICAgdXJsOiBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgdmFyIGNoZWNrT3JpZW50YXRpb24gPSBvcHRpb25zLmNoZWNrT3JpZW50YXRpb24gJiYgbWltZVR5cGUgPT09ICdpbWFnZS9qcGVnJztcbiAgICAgICAgICB0aGlzLnJlYWRlciA9IHJlYWRlcjtcblxuICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IF9yZWYudGFyZ2V0O1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuXG4gICAgICAgICAgICBpZiAoY2hlY2tPcmllbnRhdGlvbikge1xuICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgb3JpZW50YXRpb24gdmFsdWUgdG8gaXRzIGRlZmF1bHQgdmFsdWUgMVxuICAgICAgICAgICAgICAvLyBhcyBzb21lIGlPUyBicm93c2VycyB3aWxsIHJlbmRlciBpbWFnZSB3aXRoIGl0cyBvcmllbnRhdGlvblxuICAgICAgICAgICAgICB2YXIgb3JpZW50YXRpb24gPSByZXNldEFuZEdldE9yaWVudGF0aW9uKHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID4gMSB8fCAhVVJMKSB7XG4gICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgVVJMIHdoaWNoIGhhcyB0aGUgZGVmYXVsdCBvcmllbnRhdGlvbiB2YWx1ZVxuICAgICAgICAgICAgICAgIGRhdGEudXJsID0gYXJyYXlCdWZmZXJUb0RhdGFVUkwocmVzdWx0LCBtaW1lVHlwZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPiAxKSB7XG4gICAgICAgICAgICAgICAgICBfZXh0ZW5kcyhkYXRhLCBwYXJzZU9yaWVudGF0aW9uKG9yaWVudGF0aW9uKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEudXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGF0YS51cmwgPSByZXN1bHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzLmxvYWQoZGF0YSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJlYWRlci5vbmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZmFpbChuZXcgRXJyb3IoJ0Fib3J0ZWQgdG8gcmVhZCB0aGUgaW1hZ2Ugd2l0aCBGaWxlUmVhZGVyLicpKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5mYWlsKG5ldyBFcnJvcignRmFpbGVkIHRvIHJlYWQgdGhlIGltYWdlIHdpdGggRmlsZVJlYWRlci4nKSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5yZWFkZXIgPSBudWxsO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAoY2hlY2tPcmllbnRhdGlvbikge1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwibG9hZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWQoZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZSxcbiAgICAgICAgICAgIGltYWdlID0gdGhpcy5pbWFnZTtcblxuICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLmRyYXcoX29iamVjdFNwcmVhZDIoe30sIGRhdGEsIHtcbiAgICAgICAgICAgIG5hdHVyYWxXaWR0aDogaW1hZ2UubmF0dXJhbFdpZHRoLFxuICAgICAgICAgICAgbmF0dXJhbEhlaWdodDogaW1hZ2UubmF0dXJhbEhlaWdodFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbWFnZS5vbmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5mYWlsKG5ldyBFcnJvcignQWJvcnRlZCB0byBsb2FkIHRoZSBpbWFnZS4nKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIuZmFpbChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHRoZSBpbWFnZS4nKSk7XG4gICAgICAgIH07IC8vIE1hdGNoIGFsbCBicm93c2VycyB0aGF0IHVzZSBXZWJLaXQgYXMgdGhlIGxheW91dCBlbmdpbmUgaW4gaU9TIGRldmljZXMsXG4gICAgICAgIC8vIHN1Y2ggYXMgU2FmYXJpIGZvciBpT1MsIENocm9tZSBmb3IgaU9TLCBhbmQgaW4tYXBwIGJyb3dzZXJzLlxuXG5cbiAgICAgICAgaWYgKFdJTkRPVy5uYXZpZ2F0b3IgJiYgLyg/OmlQYWR8aVBob25lfGlQb2QpLio/QXBwbGVXZWJLaXQvaS50ZXN0KFdJTkRPVy5uYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICAgIC8vIEZpeCB0aGUgYFRoZSBvcGVyYXRpb24gaXMgaW5zZWN1cmVgIGVycm9yICgjNTcpXG4gICAgICAgICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuXG4gICAgICAgIGltYWdlLmFsdCA9IGZpbGUubmFtZTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gZGF0YS51cmw7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRyYXdcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KF9yZWYyKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBuYXR1cmFsV2lkdGggPSBfcmVmMi5uYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICBuYXR1cmFsSGVpZ2h0ID0gX3JlZjIubmF0dXJhbEhlaWdodCxcbiAgICAgICAgICAgIF9yZWYyJHJvdGF0ZSA9IF9yZWYyLnJvdGF0ZSxcbiAgICAgICAgICAgIHJvdGF0ZSA9IF9yZWYyJHJvdGF0ZSA9PT0gdm9pZCAwID8gMCA6IF9yZWYyJHJvdGF0ZSxcbiAgICAgICAgICAgIF9yZWYyJHNjYWxlWCA9IF9yZWYyLnNjYWxlWCxcbiAgICAgICAgICAgIHNjYWxlWCA9IF9yZWYyJHNjYWxlWCA9PT0gdm9pZCAwID8gMSA6IF9yZWYyJHNjYWxlWCxcbiAgICAgICAgICAgIF9yZWYyJHNjYWxlWSA9IF9yZWYyLnNjYWxlWSxcbiAgICAgICAgICAgIHNjYWxlWSA9IF9yZWYyJHNjYWxlWSA9PT0gdm9pZCAwID8gMSA6IF9yZWYyJHNjYWxlWTtcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGUsXG4gICAgICAgICAgICBpbWFnZSA9IHRoaXMuaW1hZ2UsXG4gICAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciBhc3BlY3RSYXRpbyA9IG5hdHVyYWxXaWR0aCAvIG5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIHZhciBpczkwRGVncmVlc1JvdGF0ZWQgPSBNYXRoLmFicyhyb3RhdGUpICUgMTgwID09PSA5MDtcbiAgICAgICAgdmFyIG1heFdpZHRoID0gTWF0aC5tYXgob3B0aW9ucy5tYXhXaWR0aCwgMCkgfHwgSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhIZWlnaHQgPSBNYXRoLm1heChvcHRpb25zLm1heEhlaWdodCwgMCkgfHwgSW5maW5pdHk7XG4gICAgICAgIHZhciBtaW5XaWR0aCA9IE1hdGgubWF4KG9wdGlvbnMubWluV2lkdGgsIDApIHx8IDA7XG4gICAgICAgIHZhciBtaW5IZWlnaHQgPSBNYXRoLm1heChvcHRpb25zLm1pbkhlaWdodCwgMCkgfHwgMDtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5tYXgob3B0aW9ucy53aWR0aCwgMCkgfHwgbmF0dXJhbFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgob3B0aW9ucy5oZWlnaHQsIDApIHx8IG5hdHVyYWxIZWlnaHQ7XG5cbiAgICAgICAgaWYgKGlzOTBEZWdyZWVzUm90YXRlZCkge1xuICAgICAgICAgIHZhciBfcmVmMyA9IFttYXhIZWlnaHQsIG1heFdpZHRoXTtcbiAgICAgICAgICBtYXhXaWR0aCA9IF9yZWYzWzBdO1xuICAgICAgICAgIG1heEhlaWdodCA9IF9yZWYzWzFdO1xuICAgICAgICAgIHZhciBfcmVmNCA9IFttaW5IZWlnaHQsIG1pbldpZHRoXTtcbiAgICAgICAgICBtaW5XaWR0aCA9IF9yZWY0WzBdO1xuICAgICAgICAgIG1pbkhlaWdodCA9IF9yZWY0WzFdO1xuICAgICAgICAgIHZhciBfcmVmNSA9IFtoZWlnaHQsIHdpZHRoXTtcbiAgICAgICAgICB3aWR0aCA9IF9yZWY1WzBdO1xuICAgICAgICAgIGhlaWdodCA9IF9yZWY1WzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1heFdpZHRoIDwgSW5maW5pdHkgJiYgbWF4SGVpZ2h0IDwgSW5maW5pdHkpIHtcbiAgICAgICAgICBpZiAobWF4SGVpZ2h0ICogYXNwZWN0UmF0aW8gPiBtYXhXaWR0aCkge1xuICAgICAgICAgICAgbWF4SGVpZ2h0ID0gbWF4V2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWF4V2lkdGggPSBtYXhIZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobWF4V2lkdGggPCBJbmZpbml0eSkge1xuICAgICAgICAgIG1heEhlaWdodCA9IG1heFdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSBpZiAobWF4SGVpZ2h0IDwgSW5maW5pdHkpIHtcbiAgICAgICAgICBtYXhXaWR0aCA9IG1heEhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1pbldpZHRoID4gMCAmJiBtaW5IZWlnaHQgPiAwKSB7XG4gICAgICAgICAgaWYgKG1pbkhlaWdodCAqIGFzcGVjdFJhdGlvID4gbWluV2lkdGgpIHtcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IG1pbldpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1pbldpZHRoID0gbWluSGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1pbldpZHRoID4gMCkge1xuICAgICAgICAgIG1pbkhlaWdodCA9IG1pbldpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSBpZiAobWluSGVpZ2h0ID4gMCkge1xuICAgICAgICAgIG1pbldpZHRoID0gbWluSGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGVpZ2h0ICogYXNwZWN0UmF0aW8gPiB3aWR0aCkge1xuICAgICAgICAgIGhlaWdodCA9IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIHdpZHRoID0gTWF0aC5mbG9vcihub3JtYWxpemVEZWNpbWFsTnVtYmVyKE1hdGgubWluKE1hdGgubWF4KHdpZHRoLCBtaW5XaWR0aCksIG1heFdpZHRoKSkpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmZsb29yKG5vcm1hbGl6ZURlY2ltYWxOdW1iZXIoTWF0aC5taW4oTWF0aC5tYXgoaGVpZ2h0LCBtaW5IZWlnaHQpLCBtYXhIZWlnaHQpKSk7XG4gICAgICAgIHZhciBkZXN0WCA9IC13aWR0aCAvIDI7XG4gICAgICAgIHZhciBkZXN0WSA9IC1oZWlnaHQgLyAyO1xuICAgICAgICB2YXIgZGVzdFdpZHRoID0gd2lkdGg7XG4gICAgICAgIHZhciBkZXN0SGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGlmIChpczkwRGVncmVlc1JvdGF0ZWQpIHtcbiAgICAgICAgICB2YXIgX3JlZjYgPSBbaGVpZ2h0LCB3aWR0aF07XG4gICAgICAgICAgd2lkdGggPSBfcmVmNlswXTtcbiAgICAgICAgICBoZWlnaHQgPSBfcmVmNlsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGlmICghaXNJbWFnZVR5cGUob3B0aW9ucy5taW1lVHlwZSkpIHtcbiAgICAgICAgICBvcHRpb25zLm1pbWVUeXBlID0gZmlsZS50eXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9ICd0cmFuc3BhcmVudCc7IC8vIENvbnZlcnRzIFBORyBmaWxlcyBvdmVyIHRoZSBgY29udmVydFNpemVgIHRvIEpQRUdzLlxuXG4gICAgICAgIGlmIChmaWxlLnNpemUgPiBvcHRpb25zLmNvbnZlcnRTaXplICYmIG9wdGlvbnMubWltZVR5cGUgPT09ICdpbWFnZS9wbmcnKSB7XG4gICAgICAgICAgZmlsbFN0eWxlID0gJyNmZmYnO1xuICAgICAgICAgIG9wdGlvbnMubWltZVR5cGUgPSAnaW1hZ2UvanBlZyc7XG4gICAgICAgIH0gLy8gT3ZlcnJpZGUgdGhlIGRlZmF1bHQgZmlsbCBjb2xvciAoIzAwMCwgYmxhY2spXG5cblxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5iZWZvcmVEcmF3KSB7XG4gICAgICAgICAgb3B0aW9ucy5iZWZvcmVEcmF3LmNhbGwodGhpcywgY29udGV4dCwgY2FudmFzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmFib3J0ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUod2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgY29udGV4dC5yb3RhdGUocm90YXRlICogTWF0aC5QSSAvIDE4MCk7XG4gICAgICAgIGNvbnRleHQuc2NhbGUoc2NhbGVYLCBzY2FsZVkpO1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgZGVzdFgsIGRlc3RZLCBkZXN0V2lkdGgsIGRlc3RIZWlnaHQpO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5kcmV3KSB7XG4gICAgICAgICAgb3B0aW9ucy5kcmV3LmNhbGwodGhpcywgY29udGV4dCwgY2FudmFzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmFib3J0ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uIGRvbmUocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKCFfdGhpczMuYWJvcnRlZCkge1xuICAgICAgICAgICAgX3RoaXMzLmRvbmUoe1xuICAgICAgICAgICAgICBuYXR1cmFsV2lkdGg6IG5hdHVyYWxXaWR0aCxcbiAgICAgICAgICAgICAgbmF0dXJhbEhlaWdodDogbmF0dXJhbEhlaWdodCxcbiAgICAgICAgICAgICAgcmVzdWx0OiByZXN1bHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoY2FudmFzLnRvQmxvYikge1xuICAgICAgICAgIGNhbnZhcy50b0Jsb2IoZG9uZSwgb3B0aW9ucy5taW1lVHlwZSwgb3B0aW9ucy5xdWFsaXR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb25lKGNhbnZhc1RvQmxvYihjYW52YXMudG9EYXRhVVJMKG9wdGlvbnMubWltZVR5cGUsIG9wdGlvbnMucXVhbGl0eSkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkb25lXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZG9uZShfcmVmNykge1xuICAgICAgICB2YXIgbmF0dXJhbFdpZHRoID0gX3JlZjcubmF0dXJhbFdpZHRoLFxuICAgICAgICAgICAgbmF0dXJhbEhlaWdodCA9IF9yZWY3Lm5hdHVyYWxIZWlnaHQsXG4gICAgICAgICAgICByZXN1bHQgPSBfcmVmNy5yZXN1bHQ7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlLFxuICAgICAgICAgICAgaW1hZ2UgPSB0aGlzLmltYWdlLFxuICAgICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBpZiAoVVJMICYmICFvcHRpb25zLmNoZWNrT3JpZW50YXRpb24pIHtcbiAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGltYWdlLnNyYyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgLy8gUmV0dXJucyBvcmlnaW5hbCBmaWxlIGlmIHRoZSByZXN1bHQgaXMgZ3JlYXRlciB0aGFuIGl0IGFuZCB3aXRob3V0IHNpemUgcmVsYXRlZCBvcHRpb25zXG4gICAgICAgICAgaWYgKG9wdGlvbnMuc3RyaWN0ICYmIHJlc3VsdC5zaXplID4gZmlsZS5zaXplICYmIG9wdGlvbnMubWltZVR5cGUgPT09IGZpbGUudHlwZSAmJiAhKG9wdGlvbnMud2lkdGggPiBuYXR1cmFsV2lkdGggfHwgb3B0aW9ucy5oZWlnaHQgPiBuYXR1cmFsSGVpZ2h0IHx8IG9wdGlvbnMubWluV2lkdGggPiBuYXR1cmFsV2lkdGggfHwgb3B0aW9ucy5taW5IZWlnaHQgPiBuYXR1cmFsSGVpZ2h0KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmlsZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgcmVzdWx0Lmxhc3RNb2RpZmllZCA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgcmVzdWx0Lmxhc3RNb2RpZmllZERhdGUgPSBkYXRlO1xuICAgICAgICAgICAgcmVzdWx0Lm5hbWUgPSBmaWxlLm5hbWU7IC8vIENvbnZlcnQgdGhlIGV4dGVuc2lvbiB0byBtYXRjaCBpdHMgdHlwZVxuXG4gICAgICAgICAgICBpZiAocmVzdWx0Lm5hbWUgJiYgcmVzdWx0LnR5cGUgIT09IGZpbGUudHlwZSkge1xuICAgICAgICAgICAgICByZXN1bHQubmFtZSA9IHJlc3VsdC5uYW1lLnJlcGxhY2UoUkVHRVhQX0VYVEVOU0lPTiwgaW1hZ2VUeXBlVG9FeHRlbnNpb24ocmVzdWx0LnR5cGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmV0dXJucyBvcmlnaW5hbCBmaWxlIGlmIHRoZSByZXN1bHQgaXMgbnVsbCBpbiBzb21lIGNhc2VzLlxuICAgICAgICAgIHJlc3VsdCA9IGZpbGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcblxuICAgICAgICBpZiAob3B0aW9ucy5zdWNjZXNzKSB7XG4gICAgICAgICAgb3B0aW9ucy5zdWNjZXNzLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJmYWlsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZmFpbChlcnIpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZXJyb3IpIHtcbiAgICAgICAgICBvcHRpb25zLmVycm9yLmNhbGwodGhpcywgZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYWJvcnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFib3J0ZWQpIHtcbiAgICAgICAgICB0aGlzLmFib3J0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgaWYgKHRoaXMucmVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRlci5hYm9ydCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2Uub25hYm9ydCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZhaWwobmV3IEVycm9yKCdUaGUgY29tcHJlc3Npb24gcHJvY2VzcyBoYXMgYmVlbiBhYm9ydGVkLicpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogR2V0IHRoZSBubyBjb25mbGljdCBjb21wcmVzc29yIGNsYXNzLlxuICAgICAgICogQHJldHVybnMge0NvbXByZXNzb3J9IFRoZSBjb21wcmVzc29yIGNsYXNzLlxuICAgICAgICovXG5cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJub0NvbmZsaWN0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgICAgd2luZG93LkNvbXByZXNzb3IgPSBBbm90aGVyQ29tcHJlc3NvcjtcbiAgICAgICAgcmV0dXJuIENvbXByZXNzb3I7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIENoYW5nZSB0aGUgZGVmYXVsdCBvcHRpb25zLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUaGUgbmV3IGRlZmF1bHQgb3B0aW9ucy5cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInNldERlZmF1bHRzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGVmYXVsdHMob3B0aW9ucykge1xuICAgICAgICBfZXh0ZW5kcyhERUZBVUxUUywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvbXByZXNzb3I7XG4gIH0oKTtcblxuICByZXR1cm4gQ29tcHJlc3NvcjtcblxufSkpKTtcbiIsICIvKiEgbWluaXJlc2V0LmNzcyB2MC4wLjYgfCBNSVQgTGljZW5zZSB8IGdpdGh1Yi5jb20vamd0aG1zL21pbmlyZXNldC5jc3MgKi9cbmh0bWwsXG5ib2R5LFxucCxcbm9sLFxudWwsXG5saSxcbmRsLFxuZHQsXG5kZCxcbmJsb2NrcXVvdGUsXG5maWd1cmUsXG5maWVsZHNldCxcbmxlZ2VuZCxcbnRleHRhcmVhLFxucHJlLFxuaWZyYW1lLFxuaHIsXG5oMSxcbmgyLFxuaDMsXG5oNCxcbmg1LFxuaDYge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG59XG5oMSxcbmgyLFxuaDMsXG5oNCxcbmg1LFxuaDYge1xuICBmb250LXNpemU6IDEwMCU7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG59XG51bCB7XG4gIGxpc3Qtc3R5bGU6IG5vbmU7XG59XG5idXR0b24sXG5pbnB1dCxcbnNlbGVjdCxcbnRleHRhcmVhIHtcbiAgbWFyZ2luOiAwO1xufVxuaHRtbCB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG4qLFxuKjo6YmVmb3JlLFxuKjo6YWZ0ZXIge1xuICBib3gtc2l6aW5nOiBpbmhlcml0O1xufVxuXG5pZnJhbWUge1xuICBib3JkZXI6IDA7XG59XG5cbkBpbXBvcnQgdXJsKFwiaHR0cHM6Ly9yc21zLm1lL2ludGVyL2ludGVyLmNzc1wiKTtcblxuYm9keSB7XG4gIC0tcGFkZGluZy1zbWFsbDogNnB4O1xuICAtLXBhZGRpbmctbWVkaXVtOiAxMnB4O1xuICAtLXBhZGRpbmctbGFyZ2U6IDI0cHg7XG4gIC0tcGFkZGluZy1odWdlOiA0OHB4O1xuXG4gIC0tYm9yZGVyLXJhZGl1cy1zbWFsbDogM3B4O1xuICAtLWJvcmRlci1yYWRpdXMtbWVkaXVtOiA2cHg7XG4gIC0tYm9yZGVyLXJhZGl1cy1sYXJnZTogMTJweDtcblxuICAtLWNvbG91cnMtZ3JleS0wOiByZ2IoMzMsIDMzLCAzMyk7XG4gIC0tY29sb3Vycy1ncmV5LTE6IHJnYig3NCwgNzQsIDc0KTtcbiAgLS1jb2xvdXJzLWdyZXktMjogcmdiKDEzMywgMTMzLCAxMzMpO1xuICAtLWNvbG91cnMtZ3JleS0zOiByZ2IoMTc5LCAxNzksIDE3OSk7XG4gIC0tY29sb3Vycy1ncmV5LTQ6IHJnYigyMjcsIDIyNywgMjI3KTtcbiAgLS1jb2xvdXJzLWdyZXktNTogcmdiKDI0NSwgMjQ1LCAyNDUpO1xuICAtLWNvbG91cnMtbWFpbjogcmdiKDcyLCAyMDIsIDEyNik7XG4gIC0tY29sb3Vycy1tYWluLWxpZ2h0OiByZ2IoMjA4LCAyNDIsIDIyMik7XG4gIC0tY29sb3Vycy1tYWluLWRhcms6IHJnYig0NCwgNzUsIDU3KTtcbiAgLS1jb2xvdXJzLXdhcm5pbmc6IHJnYigyNTUsIDI0MiwgMTc1KTtcblxuICAtLWZvbnQtZmFtaWx5LXNhbnMtc2VyaWY6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG4gIC0tZm9udC1mYW1haWx0LXNlcmlmOiBHZW9yZ2lhLCBcIlRpbWVzIE5ldyBSb21hblwiLCBUaW1lcywgc2VyaWY7XG5cbiAgLS1mb250LXNpemUtLXNtYWxsOiAxMXB4O1xuICAtLWZvbnQtc2l6ZS0tbWVkaXVtOiAxNHB4O1xuICAtLWZvbnQtc2l6ZS0tbGFyZ2U6IDE4cHg7XG59XG5cbmh0bWwge1xuICBmb250LWZhbWlseTogXCJJbnRlclwiLCBzYW5zLXNlcmlmO1xufVxuQHN1cHBvcnRzIChmb250LXZhcmlhdGlvbi1zZXR0aW5nczogbm9ybWFsKSB7XG4gIGh0bWwge1xuICAgIGZvbnQtZmFtaWx5OiBcIkludGVyIHZhclwiLCBzYW5zLXNlcmlmO1xuICB9XG59XG5cbmh0bWwsXG5ib2R5IHtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbmJ1dHRvbiB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKSB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cy1zbWFsbCwgMCk7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuXG4gIGJhY2tncm91bmQ6IHZhcigtLWNvbG91cnMtbWFpbiwgI2YwZik7XG59XG5cbi5idG4tLXByaW1hcnkge1xuICBjb2xvcjogI2ZmZjtcbiAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Vycy1tYWluLCAjZjBmKTtcbn1cblxuLmJ0bi0tc2Vjb25kYXJ5IHtcbiAgY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS0xLCAjZjBmKTtcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktMiwgI2YwZik7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBtYXJnaW4tcmlnaHQ6IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xufVxuXG5idXR0b246ZGlzYWJsZWQge1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZik7XG4gIGNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZik7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG59XG5cbmJ1dHRvbjphY3RpdmUsXG5idXR0b246aG92ZXIge1xuICBvdXRsaW5lOiBub25lO1xufVxuXG4uZjJoIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4vKiBbSGVhZGVyXSAqL1xuLmYyaF9faGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCkgdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U0ZTRlNDtcbiAgYmFja2dyb3VuZDogI2Y5ZjlmOTtcbn1cbi5mMmhfX25hdiB7XG4gIGZsZXg6IDE7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG59XG5cbi5mMmhfX3RpdGxlIHtcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtZmFtaWx5LXNhbnMtc2VyaWYsIHNhbnMtc2VyaWYpO1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tbWVkaXVtLCAxZW0pO1xufVxuLmYyaF9faW5mbyB7XG4gIG1hcmdpbi1sZWZ0OiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG1heC13aWR0aDogNjAlO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuLmYyaF9faW5mb190aXRsZSB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xufVxuXG4uZjJoX19pbmZvX21ldGEge1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tbWVkaXVtLCAxZW0pO1xuICBwYWRkaW5nLWxlZnQ6IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xuICBtYXJnaW4tbGVmdDogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpO1xufVxuLmYyaF9faW5mb19yZXNwb25zaXZlLS1ubyB7XG4gIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xufVxuLmYyaF9fc3ZnX29wdGltaXNlIHtcbiAgbWFyZ2luLWxlZnQ6IHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbiAgcGFkZGluZy1sZWZ0OiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZik7XG59XG4uZjJoX19zdmdfb3B0aW1pc2Ugc3BhbiB7XG4gIHBhZGRpbmctbGVmdDogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG59XG5cbi5mMmhfX2JvZHkge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLWxhcmdlLCAwKSB2YXIoLS1wYWRkaW5nLWh1Z2UsIDApO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktNSwgI2YwZik7XG59XG5cbi8qIFsgRnJhbWUgc2VsZWN0aW9uIGFuZCBGb3JtIF0gKi9cbi5mMmhfX2Nob29zZV9mcmFtZXMge1xuICBtaW4td2lkdGg6IDUwJTtcbn1cbi5mMmhfX2luZm9fZm9ybSB7XG4gIG1hcmdpbi1ib3R0b206IHZhcigtLXBhZGRpbmctbGFyZ2UsIDApO1xufVxuLmYyaF9faW5mb19mb3JtX19pdGVtIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWFyZ2luLWJvdHRvbTogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xufVxuLmYyaF9faW5mb19mb3JtX19sYWJlbCB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1zbWFsbCwgMWVtKTtcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtZmFtaWx5LXNhbnMtc2VyaWYsIHNhbnMtc2VyaWYpO1xufVxuLmYyaF9faW5mb19mb3JtX19pbnB1dCB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1tZWRpdW0sIDFlbSk7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWZhbWlseS1zYW5zLXNlcmlmLCBzYW5zLXNlcmlmKTtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCkgdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xufVxuXG4uZjJoX19mcmFtZV9zZWxlY3Rpb24ge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciBtaW4tY29udGVudDtcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvO1xuICBtaW4td2lkdGg6IDMyMHB4O1xuICBncmlkLWdhcDogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCkgdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uZjJoX19zZWxfaGVhZGVyIHtcbiAgY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS0wLCAjZjBmKTtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLW1lZGl1bSk7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1jb2xvdXJzLWdyZXktMCk7XG4gIHBhZGRpbmctYm90dG9tOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbn1cblxuLmYyaF9fc2VsX2hlYWRlci0tbmFtZSB7XG4gIGdyaWQtY29sdW1uOiAxLzI7XG4gIGdyaWQtcm93OiAxLzI7XG59XG5cbi5mMmhfX3NlbF9oZWFkZXItLXJlc3BvbnNpdmUge1xuICBncmlkLWNvbHVtbjogMi8zO1xuICBncmlkLXJvdzogMS8yO1xuICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLmYyaF9fbGFiZWwuZjJoX19sYWJlbC0tbmFtZSB7XG4gIGdyaWQtY29sdW1uOiAxLzI7XG4gIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcbn1cbi5mMmhfX2xhYmVsLS1uYW1lLXRleHQge1xuICBtYXgtd2lkdGg6IDcwJTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG5cbi5mMmhfX2lucHV0LS1yZXNwb25zaXZlIHtcbiAgZ3JpZC1jb2x1bW46IDIvMztcbiAganVzdGlmeS1zZWxmOiBjZW50ZXI7XG4gIG1hcmdpbjogMDtcbn1cblxuLmYyaF9fbGFiZWwge1xuICBkaXNwbGF5OiBmbGV4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctc21hbGwpIDA7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1pbi13aWR0aDogMDtcbn1cblxuLmYyaF9fc2VsX3dpZHRoIHtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtLXNtYWxsLCAxZW0pO1xuICBjb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTMsICNmMGYpO1xuICBwYWRkaW5nLWxlZnQ6IHZhcigtLXBhZGRpbmctc21hbGwsIDApO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4uZjJoX19jaGVja2JveCxcbi5mMmhfX3JhZGlvX2J0biB7XG4gIG1hcmdpbi1yaWdodDogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xufVxuXG4uZjJoX19zZWxlY3Rpb25fd2lkdGgge1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tc21hbGwsIDEpO1xuICBtYXJnaW46IDAgdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBjb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTIsICNmMGYpO1xufVxuXG4vKiBbUHJldmlld10gICovXG4uZjJoX19wcmV2aWV3IHtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xufVxuLmYyaF9fcHJldmlld190aXRsZSB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1tZWRpdW0sIDEpO1xuICBtYXJnaW46IHZhcigtLXBhZGRpbmctc21hbGwsIDApIDA7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG4uZjJoX19wcmV2aWV3X25hbWUge1xuICBmbGV4OiAxO1xufVxuXG4uZjJoX19wcmV2aWV3X2lubmVyIHtcbiAgb3ZlcmZsb3c6IGF1dG87XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG4gIG1heC13aWR0aDogMTAwJTtcbiAgbWFyZ2luOiBhdXRvO1xufVxuLmYyaF9fcHJldmlld19pbm5lci0tc2NhbGVkIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLmYyaF9fcHJldmlld193cmFwcGVyIHtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmYyaF9fcHJldmlld19yZXNwb25zaXZlLFxuLmYyaF9fcHJldmlld193aWR0aCB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1zbWFsbCwgMSk7XG4gIGNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktMywgI2YwZik7XG4gIHBhZGRpbmctbGVmdDogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG59XG5cbi5mMmhfX25vdGljZS0td2FybmluZyB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWNvbG91cnMtd2FybmluZywgI2YwZik7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctc21hbGwsIDApIHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbiAgbWFyZ2luOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKSAwO1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS0tbWVkaXVtLCAxZW0pO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzLW1lZGl1bSwgMCk7XG59XG5cbi5mMmhfX25vdGljZS0tZXJyb3Ige1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgYmFja2dyb3VuZDogI2ZmZWRlZDtcbiAgY29sb3I6ICNhNzBmMGY7XG59XG5cbi8qIFtSZW5kZXJdICovXG4uZjJoX19yZW5kZXIge1xuICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDtcbn1cblxuLmYyaF9fcmVuZGVyLS1yZXNwb25zaXZlIHN2ZyB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uZXJyb3Ige1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvdXJzLWdyZXktNSwgI2YwZik7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMtc21hbGwsIDApO1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCkgdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS0wLCAjZjBmKTtcbiAgbWFyZ2luOiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCkgMDtcbiAgZmxleDogMTtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xufVxuXG4vKiBbU2F2ZV0gKi9cbi5mMmhfX3NhdmUge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB3aWR0aDogMTAwJTtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xuICBtYXgtd2lkdGg6IDgwMHB4O1xufVxuXG4uZjJoX19zYXZlX2J0biB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1sYXJnZSwgMWVtKTtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMtc21hbGwsIDApO1xuICBwYWRkaW5nOiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMCk7XG4gIG1hcmdpbi1yaWdodDogdmFyKC0tcGFkZGluZy1tZWRpdW0sIDApO1xuICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tY29sb3Vycy1tYWluLWRhcmssICNmMGYpO1xuICBib3JkZXItdG9wOiAzcHggc29saWQgdHJhbnNwYXJlbnQ7XG59XG4uZjJoX19zYXZlX2J0bjpob3ZlciB7XG4gIGJvcmRlci10b3A6IDA7XG4gIGJvcmRlci1ib3R0b20td2lkdGg6IDVweDtcbiAgYm94LXNoYWRvdzogMCA0cHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbn1cbi5mMmhfX3NhdmVfYnRuOmFjdGl2ZSB7XG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1jb2xvdXJzLW1haW4tZGFyaywgI2YwZik7XG4gIGJvcmRlci10b3A6IDNweCBzb2xpZCB0cmFuc3BhcmVudDtcbn1cblxuLmYyaF9fc2F2ZV9idG46bGFzdC1vZi10eXBlIHtcbiAgbWFyZ2luOiAwO1xufVxuXG4uZjJoX19zYXZlX29wdGlvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLmYyaF9fc2F2ZV9fc3ViaGVhZCB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLS1tZWRpdW0sIDEpO1xuICBtYXJnaW46IHZhcigtLXBhZGRpbmctbGFyZ2UsIDApIDAgdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIHBhZGRpbmctYm90dG9tOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKTtcbn1cblxuLmYyaF9fc2F2ZV9hZHZhbmNlZCB7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMC4xcztcbn1cbi5mMmhfX3NhdmVfYWR2YW5jZWQtLW9wZW4ge1xuICBvcGFjaXR5OiAxO1xufVxuXG4uZjJoX19zYXZlX2FkdmFuY2VkLWhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5cbi5mMmhfX3NhdmVfYWR2YW5jZWRfdGl0bGUge1xuICBmbGV4OiAxO1xufVxuXG4uZjJoX19zYXZlX2FkdmFuY2VkX3Nob3cge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY29sb3Vycy1ncmV5LTMsICNmMGYpO1xufVxuXG4uZjJoX19zYXZlX19yYXcge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogdmFyKC0tcGFkZGluZy1zbWFsbCwgMCk7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKTtcbiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcbiAgZm9udC1zaXplOiAxMXB4O1xuICBtaW4taGVpZ2h0OiAxNTBweDtcbiAgbWF4LWhlaWdodDogMzAwcHg7XG59XG5cbi8qIFJlc2l6ZSB3aWRnZXQgKi9cbi5mMmhfX3Jlc2l6ZXIge1xuICB3aWR0aDogMzJweDtcbiAgaGVpZ2h0OiAzMnB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogNnB4O1xuICByaWdodDogNnB4O1xuICBjdXJzb3I6IGdyYWJiaW5nO1xuICBiYWNrZ3JvdW5kOiByZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KFxuICAgIC00NWRlZyxcbiAgICAjZDJkMmQyLFxuICAgICNkMmQyZDIgMnB4LFxuICAgIHRyYW5zcGFyZW50IDFweCxcbiAgICB0cmFuc3BhcmVudCA4cHhcbiAgKTtcbiAgYm9yZGVyLXJhZGl1czogMTAwJSAwIDA7XG59XG5cbi5mMmhfX3RvYXN0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3Vycy1ncmV5LTEsICNmMGYpO1xuICBjb2xvcjogI2ZmZjtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cy1zbWFsbCwgMCk7XG4gIHBhZGRpbmc6IHZhcigtLXBhZGRpbmctbWVkaXVtLCAwKTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzLCBvcGFjaXR5IDAuM3MgMC4xcztcbiAgb3BhY2l0eTogMDtcbn1cblxuLmYyaF9fdG9hc3QtLW9wZW4ge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtMTAwJSk7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi8qIFtSZXNwb25zaXZlIHByZXZpZXddICovXG4uZjJoX19yZXNwb25zaXZlX3ByZXZpZXcge1xuICAvKiB3aWR0aDogMzAwcHg7ICovXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbn1cblxuLmYyaF9fcmVzcG9uc2l2ZV9fd3JhcHBlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHdpZHRoOiA1MDBweDtcbn1cblxuLmYyaF9fcnVsZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcbn1cbi5mMmhfX3J1bGVyX2JyZWFrIHtcbiAgaGVpZ2h0OiB2YXIoLS1wYWRkaW5nLW1lZGl1bSwgMTBweCk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKTtcbiAgYm9yZGVyOiAycHggc29saWQgI2ZmZjtcbiAgZ3JpZC1yb3c6IDEvMjtcbiAgZ3JpZC1jb2x1bW46IDEvMjtcbiAgYm9yZGVyLXRvcDogbm9uZTtcbiAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbn1cbi5mMmhfX3J1bGVyX2JyZWFrLS0wIHtcbiAgd2lkdGg6IDMyMHB4O1xuICB6LWluZGV4OiAzO1xufVxuLmYyaF9fcnVsZXJfYnJlYWstLTEge1xuICB3aWR0aDogNDUwcHg7XG4gIHotaW5kZXg6IDI7XG59XG4uZjJoX19ydWxlcl9icmVhay0tMiB7XG4gIHdpZHRoOiA2NDBweDtcbiAgei1pbmRleDogMTtcbn1cblxuLmYyaF9fcmVzcG9uc2l2ZV9fc2FuZGJveCB7XG4gIHJlc2l6ZTogYm90aDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgb3V0bGluZTogMXB4IHNvbGlkIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKTtcbiAgbWFyZ2luOiB2YXIoLS1wYWRkaW5nLXNtYWxsLCAwKSAwO1xuXG4gIC8qIGh0dHBzOi8vbGVhdmVyb3UuZ2l0aHViLmlvL2NzczNwYXR0ZXJucy8jY2hlY2tlcmJvYXJkICovXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcbiAgICAgIDQ1ZGVnLFxuICAgICAgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpIDI1JSxcbiAgICAgIHRyYW5zcGFyZW50IDI1JSxcbiAgICAgIHRyYW5zcGFyZW50IDc1JSxcbiAgICAgIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKSA3NSUsXG4gICAgICB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZilcbiAgICApLFxuICAgIGxpbmVhci1ncmFkaWVudChcbiAgICAgIDQ1ZGVnLFxuICAgICAgdmFyKC0tY29sb3Vycy1ncmV5LTQsICNmMGYpIDI1JSxcbiAgICAgIHRyYW5zcGFyZW50IDI1JSxcbiAgICAgIHRyYW5zcGFyZW50IDc1JSxcbiAgICAgIHZhcigtLWNvbG91cnMtZ3JleS00LCAjZjBmKSA3NSUsXG4gICAgICB2YXIoLS1jb2xvdXJzLWdyZXktNCwgI2YwZilcbiAgICApO1xuICBiYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwLCAxMHB4IDEwcHg7XG59XG4iLCAidmFyIG4sbCx1LGksdCxvLHIsZixlPXt9LGM9W10sYT0vYWNpdHxleCg/OnN8Z3xufHB8JCl8cnBofGdyaWR8b3dzfG1uY3xudHd8aW5lW2NoXXx6b298Xm9yZHxpdGVyYS9pO2Z1bmN0aW9uIHMobixsKXtmb3IodmFyIHUgaW4gbCluW3VdPWxbdV07cmV0dXJuIG59ZnVuY3Rpb24gdihuKXt2YXIgbD1uLnBhcmVudE5vZGU7bCYmbC5yZW1vdmVDaGlsZChuKX1mdW5jdGlvbiBoKG4sbCx1KXt2YXIgaSx0PWFyZ3VtZW50cyxvPXt9O2ZvcihpIGluIGwpXCJrZXlcIiE9PWkmJlwicmVmXCIhPT1pJiYob1tpXT1sW2ldKTtpZihhcmd1bWVudHMubGVuZ3RoPjMpZm9yKHU9W3VdLGk9MztpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXUucHVzaCh0W2ldKTtpZihudWxsIT11JiYoby5jaGlsZHJlbj11KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZudWxsIT1uLmRlZmF1bHRQcm9wcylmb3IoaSBpbiBuLmRlZmF1bHRQcm9wcyl2b2lkIDA9PT1vW2ldJiYob1tpXT1uLmRlZmF1bHRQcm9wc1tpXSk7cmV0dXJuIHkobixvLGwmJmwua2V5LGwmJmwucmVmLG51bGwpfWZ1bmN0aW9uIHkobCx1LGksdCxvKXt2YXIgcj17dHlwZTpsLHByb3BzOnUsa2V5OmkscmVmOnQsX19rOm51bGwsX186bnVsbCxfX2I6MCxfX2U6bnVsbCxfX2Q6dm9pZCAwLF9fYzpudWxsLGNvbnN0cnVjdG9yOnZvaWQgMCxfX3Y6b307cmV0dXJuIG51bGw9PW8mJihyLl9fdj1yKSxuLnZub2RlJiZuLnZub2RlKHIpLHJ9ZnVuY3Rpb24gcCgpe3JldHVybnt9fWZ1bmN0aW9uIGQobil7cmV0dXJuIG4uY2hpbGRyZW59ZnVuY3Rpb24gbShuLGwpe3RoaXMucHJvcHM9bix0aGlzLmNvbnRleHQ9bH1mdW5jdGlvbiB3KG4sbCl7aWYobnVsbD09bClyZXR1cm4gbi5fXz93KG4uX18sbi5fXy5fX2suaW5kZXhPZihuKSsxKTpudWxsO2Zvcih2YXIgdTtsPG4uX19rLmxlbmd0aDtsKyspaWYobnVsbCE9KHU9bi5fX2tbbF0pJiZudWxsIT11Ll9fZSlyZXR1cm4gdS5fX2U7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbi50eXBlP3cobik6bnVsbH1mdW5jdGlvbiBrKG4pe3ZhciBsLHU7aWYobnVsbCE9KG49bi5fXykmJm51bGwhPW4uX19jKXtmb3Iobi5fX2U9bi5fX2MuYmFzZT1udWxsLGw9MDtsPG4uX19rLmxlbmd0aDtsKyspaWYobnVsbCE9KHU9bi5fX2tbbF0pJiZudWxsIT11Ll9fZSl7bi5fX2U9bi5fX2MuYmFzZT11Ll9fZTticmVha31yZXR1cm4gayhuKX19ZnVuY3Rpb24gZyhsKXsoIWwuX19kJiYobC5fX2Q9ITApJiZ1LnB1c2gobCkmJiFpKyt8fG8hPT1uLmRlYm91bmNlUmVuZGVyaW5nKSYmKChvPW4uZGVib3VuY2VSZW5kZXJpbmcpfHx0KShfKX1mdW5jdGlvbiBfKCl7Zm9yKHZhciBuO2k9dS5sZW5ndGg7KW49dS5zb3J0KGZ1bmN0aW9uKG4sbCl7cmV0dXJuIG4uX192Ll9fYi1sLl9fdi5fX2J9KSx1PVtdLG4uc29tZShmdW5jdGlvbihuKXt2YXIgbCx1LGksdCxvLHIsZjtuLl9fZCYmKHI9KG89KGw9bikuX192KS5fX2UsKGY9bC5fX1ApJiYodT1bXSwoaT1zKHt9LG8pKS5fX3Y9aSx0PXooZixvLGksbC5fX24sdm9pZCAwIT09Zi5vd25lclNWR0VsZW1lbnQsbnVsbCx1LG51bGw9PXI/dyhvKTpyKSxUKHUsbyksdCE9ciYmayhvKSkpfSl9ZnVuY3Rpb24gYihuLGwsdSxpLHQsbyxyLGYsYSxzKXt2YXIgaCxwLG0sayxnLF8sYix4LEEsUD1pJiZpLl9fa3x8YyxDPVAubGVuZ3RoO2ZvcihhPT1lJiYoYT1udWxsIT1yP3JbMF06Qz93KGksMCk6bnVsbCksdS5fX2s9W10saD0wO2g8bC5sZW5ndGg7aCsrKWlmKG51bGwhPShrPXUuX19rW2hdPW51bGw9PShrPWxbaF0pfHxcImJvb2xlYW5cIj09dHlwZW9mIGs/bnVsbDpcInN0cmluZ1wiPT10eXBlb2Yga3x8XCJudW1iZXJcIj09dHlwZW9mIGs/eShudWxsLGssbnVsbCxudWxsLGspOkFycmF5LmlzQXJyYXkoayk/eShkLHtjaGlsZHJlbjprfSxudWxsLG51bGwsbnVsbCk6bnVsbCE9ay5fX2V8fG51bGwhPWsuX19jP3koay50eXBlLGsucHJvcHMsay5rZXksbnVsbCxrLl9fdik6aykpe2lmKGsuX189dSxrLl9fYj11Ll9fYisxLG51bGw9PT0obT1QW2hdKXx8bSYmay5rZXk9PW0ua2V5JiZrLnR5cGU9PT1tLnR5cGUpUFtoXT12b2lkIDA7ZWxzZSBmb3IocD0wO3A8QztwKyspe2lmKChtPVBbcF0pJiZrLmtleT09bS5rZXkmJmsudHlwZT09PW0udHlwZSl7UFtwXT12b2lkIDA7YnJlYWt9bT1udWxsfWlmKGc9eihuLGssbT1tfHxlLHQsbyxyLGYsYSxzKSwocD1rLnJlZikmJm0ucmVmIT1wJiYoeHx8KHg9W10pLG0ucmVmJiZ4LnB1c2gobS5yZWYsbnVsbCxrKSx4LnB1c2gocCxrLl9fY3x8ZyxrKSksbnVsbCE9Zyl7aWYobnVsbD09YiYmKGI9ZyksQT12b2lkIDAsdm9pZCAwIT09ay5fX2QpQT1rLl9fZCxrLl9fZD12b2lkIDA7ZWxzZSBpZihyPT1tfHxnIT1hfHxudWxsPT1nLnBhcmVudE5vZGUpe246aWYobnVsbD09YXx8YS5wYXJlbnROb2RlIT09biluLmFwcGVuZENoaWxkKGcpLEE9bnVsbDtlbHNle2ZvcihfPWEscD0wOyhfPV8ubmV4dFNpYmxpbmcpJiZwPEM7cCs9MilpZihfPT1nKWJyZWFrIG47bi5pbnNlcnRCZWZvcmUoZyxhKSxBPWF9XCJvcHRpb25cIj09dS50eXBlJiYobi52YWx1ZT1cIlwiKX1hPXZvaWQgMCE9PUE/QTpnLm5leHRTaWJsaW5nLFwiZnVuY3Rpb25cIj09dHlwZW9mIHUudHlwZSYmKHUuX19kPWEpfWVsc2UgYSYmbS5fX2U9PWEmJmEucGFyZW50Tm9kZSE9biYmKGE9dyhtKSl9aWYodS5fX2U9YixudWxsIT1yJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB1LnR5cGUpZm9yKGg9ci5sZW5ndGg7aC0tOyludWxsIT1yW2hdJiZ2KHJbaF0pO2ZvcihoPUM7aC0tOyludWxsIT1QW2hdJiZEKFBbaF0sUFtoXSk7aWYoeClmb3IoaD0wO2g8eC5sZW5ndGg7aCsrKWooeFtoXSx4WysraF0seFsrK2hdKX1mdW5jdGlvbiB4KG4pe3JldHVybiBudWxsPT1ufHxcImJvb2xlYW5cIj09dHlwZW9mIG4/W106QXJyYXkuaXNBcnJheShuKT9jLmNvbmNhdC5hcHBseShbXSxuLm1hcCh4KSk6W25dfWZ1bmN0aW9uIEEobixsLHUsaSx0KXt2YXIgbztmb3IobyBpbiB1KVwiY2hpbGRyZW5cIj09PW98fFwia2V5XCI9PT1vfHxvIGluIGx8fEMobixvLG51bGwsdVtvXSxpKTtmb3IobyBpbiBsKXQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGxbb118fFwiY2hpbGRyZW5cIj09PW98fFwia2V5XCI9PT1vfHxcInZhbHVlXCI9PT1vfHxcImNoZWNrZWRcIj09PW98fHVbb109PT1sW29dfHxDKG4sbyxsW29dLHVbb10saSl9ZnVuY3Rpb24gUChuLGwsdSl7XCItXCI9PT1sWzBdP24uc2V0UHJvcGVydHkobCx1KTpuW2xdPVwibnVtYmVyXCI9PXR5cGVvZiB1JiYhMT09PWEudGVzdChsKT91K1wicHhcIjpudWxsPT11P1wiXCI6dX1mdW5jdGlvbiBDKG4sbCx1LGksdCl7dmFyIG8scixmLGUsYztpZih0P1wiY2xhc3NOYW1lXCI9PT1sJiYobD1cImNsYXNzXCIpOlwiY2xhc3NcIj09PWwmJihsPVwiY2xhc3NOYW1lXCIpLFwic3R5bGVcIj09PWwpaWYobz1uLnN0eWxlLFwic3RyaW5nXCI9PXR5cGVvZiB1KW8uY3NzVGV4dD11O2Vsc2V7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkmJihvLmNzc1RleHQ9XCJcIixpPW51bGwpLGkpZm9yKGUgaW4gaSl1JiZlIGluIHV8fFAobyxlLFwiXCIpO2lmKHUpZm9yKGMgaW4gdSlpJiZ1W2NdPT09aVtjXXx8UChvLGMsdVtjXSl9ZWxzZVwib1wiPT09bFswXSYmXCJuXCI9PT1sWzFdPyhyPWwhPT0obD1sLnJlcGxhY2UoL0NhcHR1cmUkLyxcIlwiKSksZj1sLnRvTG93ZXJDYXNlKCksbD0oZiBpbiBuP2Y6bCkuc2xpY2UoMiksdT8oaXx8bi5hZGRFdmVudExpc3RlbmVyKGwsTixyKSwobi5sfHwobi5sPXt9KSlbbF09dSk6bi5yZW1vdmVFdmVudExpc3RlbmVyKGwsTixyKSk6XCJsaXN0XCIhPT1sJiZcInRhZ05hbWVcIiE9PWwmJlwiZm9ybVwiIT09bCYmXCJ0eXBlXCIhPT1sJiZcInNpemVcIiE9PWwmJiF0JiZsIGluIG4/bltsXT1udWxsPT11P1wiXCI6dTpcImZ1bmN0aW9uXCIhPXR5cGVvZiB1JiZcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCIhPT1sJiYobCE9PShsPWwucmVwbGFjZSgvXnhsaW5rOj8vLFwiXCIpKT9udWxsPT11fHwhMT09PXU/bi5yZW1vdmVBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixsLnRvTG93ZXJDYXNlKCkpOm4uc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsbC50b0xvd2VyQ2FzZSgpLHUpOm51bGw9PXV8fCExPT09dSYmIS9eYXIvLnRlc3QobCk/bi5yZW1vdmVBdHRyaWJ1dGUobCk6bi5zZXRBdHRyaWJ1dGUobCx1KSl9ZnVuY3Rpb24gTihsKXt0aGlzLmxbbC50eXBlXShuLmV2ZW50P24uZXZlbnQobCk6bCl9ZnVuY3Rpb24geihsLHUsaSx0LG8scixmLGUsYyl7dmFyIGEsdixoLHkscCx3LGssZyxfLHgsQSxQPXUudHlwZTtpZih2b2lkIDAhPT11LmNvbnN0cnVjdG9yKXJldHVybiBudWxsOyhhPW4uX19iKSYmYSh1KTt0cnl7bjppZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQKXtpZihnPXUucHJvcHMsXz0oYT1QLmNvbnRleHRUeXBlKSYmdFthLl9fY10seD1hP18/Xy5wcm9wcy52YWx1ZTphLl9fOnQsaS5fX2M/az0odj11Ll9fYz1pLl9fYykuX189di5fX0U6KFwicHJvdG90eXBlXCJpbiBQJiZQLnByb3RvdHlwZS5yZW5kZXI/dS5fX2M9dj1uZXcgUChnLHgpOih1Ll9fYz12PW5ldyBtKGcseCksdi5jb25zdHJ1Y3Rvcj1QLHYucmVuZGVyPUUpLF8mJl8uc3ViKHYpLHYucHJvcHM9Zyx2LnN0YXRlfHwodi5zdGF0ZT17fSksdi5jb250ZXh0PXgsdi5fX249dCxoPXYuX19kPSEwLHYuX19oPVtdKSxudWxsPT12Ll9fcyYmKHYuX19zPXYuc3RhdGUpLG51bGwhPVAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiYodi5fX3M9PXYuc3RhdGUmJih2Ll9fcz1zKHt9LHYuX19zKSkscyh2Ll9fcyxQLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhnLHYuX19zKSkpLHk9di5wcm9wcyxwPXYuc3RhdGUsaCludWxsPT1QLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmbnVsbCE9di5jb21wb25lbnRXaWxsTW91bnQmJnYuY29tcG9uZW50V2lsbE1vdW50KCksbnVsbCE9di5jb21wb25lbnREaWRNb3VudCYmdi5fX2gucHVzaCh2LmNvbXBvbmVudERpZE1vdW50KTtlbHNle2lmKG51bGw9PVAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZnIT09eSYmbnVsbCE9di5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZ2LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoZyx4KSwhdi5fX2UmJm51bGwhPXYuc2hvdWxkQ29tcG9uZW50VXBkYXRlJiYhMT09PXYuc2hvdWxkQ29tcG9uZW50VXBkYXRlKGcsdi5fX3MseCl8fHUuX192PT09aS5fX3Ype2Zvcih2LnByb3BzPWcsdi5zdGF0ZT12Ll9fcyx1Ll9fdiE9PWkuX192JiYodi5fX2Q9ITEpLHYuX192PXUsdS5fX2U9aS5fX2UsdS5fX2s9aS5fX2ssdi5fX2gubGVuZ3RoJiZmLnB1c2godiksYT0wO2E8dS5fX2subGVuZ3RoO2ErKyl1Ll9fa1thXSYmKHUuX19rW2FdLl9fPXUpO2JyZWFrIG59bnVsbCE9di5jb21wb25lbnRXaWxsVXBkYXRlJiZ2LmNvbXBvbmVudFdpbGxVcGRhdGUoZyx2Ll9fcyx4KSxudWxsIT12LmNvbXBvbmVudERpZFVwZGF0ZSYmdi5fX2gucHVzaChmdW5jdGlvbigpe3YuY29tcG9uZW50RGlkVXBkYXRlKHkscCx3KX0pfXYuY29udGV4dD14LHYucHJvcHM9Zyx2LnN0YXRlPXYuX19zLChhPW4uX19yKSYmYSh1KSx2Ll9fZD0hMSx2Ll9fdj11LHYuX19QPWwsYT12LnJlbmRlcih2LnByb3BzLHYuc3RhdGUsdi5jb250ZXh0KSxudWxsIT12LmdldENoaWxkQ29udGV4dCYmKHQ9cyhzKHt9LHQpLHYuZ2V0Q2hpbGRDb250ZXh0KCkpKSxofHxudWxsPT12LmdldFNuYXBzaG90QmVmb3JlVXBkYXRlfHwodz12LmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHkscCkpLEE9bnVsbCE9YSYmYS50eXBlPT1kJiZudWxsPT1hLmtleT9hLnByb3BzLmNoaWxkcmVuOmEsYihsLEFycmF5LmlzQXJyYXkoQSk/QTpbQV0sdSxpLHQsbyxyLGYsZSxjKSx2LmJhc2U9dS5fX2Usdi5fX2gubGVuZ3RoJiZmLnB1c2godiksayYmKHYuX19FPXYuX189bnVsbCksdi5fX2U9ITF9ZWxzZSBudWxsPT1yJiZ1Ll9fdj09PWkuX192Pyh1Ll9faz1pLl9fayx1Ll9fZT1pLl9fZSk6dS5fX2U9JChpLl9fZSx1LGksdCxvLHIsZixjKTsoYT1uLmRpZmZlZCkmJmEodSl9Y2F0Y2gobCl7dS5fX3Y9bnVsbCxuLl9fZShsLHUsaSl9cmV0dXJuIHUuX19lfWZ1bmN0aW9uIFQobCx1KXtuLl9fYyYmbi5fX2ModSxsKSxsLnNvbWUoZnVuY3Rpb24odSl7dHJ5e2w9dS5fX2gsdS5fX2g9W10sbC5zb21lKGZ1bmN0aW9uKG4pe24uY2FsbCh1KX0pfWNhdGNoKGwpe24uX19lKGwsdS5fX3YpfX0pfWZ1bmN0aW9uICQobixsLHUsaSx0LG8scixmKXt2YXIgYSxzLHYsaCx5LHA9dS5wcm9wcyxkPWwucHJvcHM7aWYodD1cInN2Z1wiPT09bC50eXBlfHx0LG51bGwhPW8pZm9yKGE9MDthPG8ubGVuZ3RoO2ErKylpZihudWxsIT0ocz1vW2FdKSYmKChudWxsPT09bC50eXBlPzM9PT1zLm5vZGVUeXBlOnMubG9jYWxOYW1lPT09bC50eXBlKXx8bj09cykpe249cyxvW2FdPW51bGw7YnJlYWt9aWYobnVsbD09bil7aWYobnVsbD09PWwudHlwZSlyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZCk7bj10P2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsbC50eXBlKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KGwudHlwZSxkLmlzJiZ7aXM6ZC5pc30pLG89bnVsbCxmPSExfWlmKG51bGw9PT1sLnR5cGUpcCE9PWQmJm4uZGF0YSE9ZCYmKG4uZGF0YT1kKTtlbHNle2lmKG51bGwhPW8mJihvPWMuc2xpY2UuY2FsbChuLmNoaWxkTm9kZXMpKSx2PShwPXUucHJvcHN8fGUpLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLGg9ZC5kYW5nZXJvdXNseVNldElubmVySFRNTCwhZil7aWYobnVsbCE9bylmb3IocD17fSx5PTA7eTxuLmF0dHJpYnV0ZXMubGVuZ3RoO3krKylwW24uYXR0cmlidXRlc1t5XS5uYW1lXT1uLmF0dHJpYnV0ZXNbeV0udmFsdWU7KGh8fHYpJiYoaCYmdiYmaC5fX2h0bWw9PXYuX19odG1sfHwobi5pbm5lckhUTUw9aCYmaC5fX2h0bWx8fFwiXCIpKX1BKG4sZCxwLHQsZiksaD9sLl9faz1bXTooYT1sLnByb3BzLmNoaWxkcmVuLGIobixBcnJheS5pc0FycmF5KGEpP2E6W2FdLGwsdSxpLFwiZm9yZWlnbk9iamVjdFwiIT09bC50eXBlJiZ0LG8scixlLGYpKSxmfHwoXCJ2YWx1ZVwiaW4gZCYmdm9pZCAwIT09KGE9ZC52YWx1ZSkmJmEhPT1uLnZhbHVlJiZDKG4sXCJ2YWx1ZVwiLGEscC52YWx1ZSwhMSksXCJjaGVja2VkXCJpbiBkJiZ2b2lkIDAhPT0oYT1kLmNoZWNrZWQpJiZhIT09bi5jaGVja2VkJiZDKG4sXCJjaGVja2VkXCIsYSxwLmNoZWNrZWQsITEpKX1yZXR1cm4gbn1mdW5jdGlvbiBqKGwsdSxpKXt0cnl7XCJmdW5jdGlvblwiPT10eXBlb2YgbD9sKHUpOmwuY3VycmVudD11fWNhdGNoKGwpe24uX19lKGwsaSl9fWZ1bmN0aW9uIEQobCx1LGkpe3ZhciB0LG8scjtpZihuLnVubW91bnQmJm4udW5tb3VudChsKSwodD1sLnJlZikmJih0LmN1cnJlbnQmJnQuY3VycmVudCE9PWwuX19lfHxqKHQsbnVsbCx1KSksaXx8XCJmdW5jdGlvblwiPT10eXBlb2YgbC50eXBlfHwoaT1udWxsIT0obz1sLl9fZSkpLGwuX19lPWwuX19kPXZvaWQgMCxudWxsIT0odD1sLl9fYykpe2lmKHQuY29tcG9uZW50V2lsbFVubW91bnQpdHJ5e3QuY29tcG9uZW50V2lsbFVubW91bnQoKX1jYXRjaChsKXtuLl9fZShsLHUpfXQuYmFzZT10Ll9fUD1udWxsfWlmKHQ9bC5fX2spZm9yKHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdJiZEKHRbcl0sdSxpKTtudWxsIT1vJiZ2KG8pfWZ1bmN0aW9uIEUobixsLHUpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yKG4sdSl9ZnVuY3Rpb24gSChsLHUsaSl7dmFyIHQsbyxmO24uX18mJm4uX18obCx1KSxvPSh0PWk9PT1yKT9udWxsOmkmJmkuX19rfHx1Ll9fayxsPWgoZCxudWxsLFtsXSksZj1bXSx6KHUsKHQ/dTppfHx1KS5fX2s9bCxvfHxlLGUsdm9pZCAwIT09dS5vd25lclNWR0VsZW1lbnQsaSYmIXQ/W2ldOm8/bnVsbDp1LmNoaWxkTm9kZXMubGVuZ3RoP2Muc2xpY2UuY2FsbCh1LmNoaWxkTm9kZXMpOm51bGwsZixpfHxlLHQpLFQoZixsKX1mdW5jdGlvbiBJKG4sbCl7SChuLGwscil9ZnVuY3Rpb24gTChuLGwpe3ZhciB1LGk7Zm9yKGkgaW4gbD1zKHMoe30sbi5wcm9wcyksbCksYXJndW1lbnRzLmxlbmd0aD4yJiYobC5jaGlsZHJlbj1jLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKSx1PXt9LGwpXCJrZXlcIiE9PWkmJlwicmVmXCIhPT1pJiYodVtpXT1sW2ldKTtyZXR1cm4geShuLnR5cGUsdSxsLmtleXx8bi5rZXksbC5yZWZ8fG4ucmVmLG51bGwpfWZ1bmN0aW9uIE0obil7dmFyIGw9e30sdT17X19jOlwiX19jQ1wiK2YrKyxfXzpuLENvbnN1bWVyOmZ1bmN0aW9uKG4sbCl7cmV0dXJuIG4uY2hpbGRyZW4obCl9LFByb3ZpZGVyOmZ1bmN0aW9uKG4pe3ZhciBpLHQ9dGhpcztyZXR1cm4gdGhpcy5nZXRDaGlsZENvbnRleHR8fChpPVtdLHRoaXMuZ2V0Q2hpbGRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIGxbdS5fX2NdPXQsbH0sdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24obil7dC5wcm9wcy52YWx1ZSE9PW4udmFsdWUmJmkuc29tZShmdW5jdGlvbihsKXtsLmNvbnRleHQ9bi52YWx1ZSxnKGwpfSl9LHRoaXMuc3ViPWZ1bmN0aW9uKG4pe2kucHVzaChuKTt2YXIgbD1uLmNvbXBvbmVudFdpbGxVbm1vdW50O24uY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXtpLnNwbGljZShpLmluZGV4T2YobiksMSksbCYmbC5jYWxsKG4pfX0pLG4uY2hpbGRyZW59fTtyZXR1cm4gdS5Db25zdW1lci5jb250ZXh0VHlwZT11LHUuUHJvdmlkZXIuX189dSx1fW49e19fZTpmdW5jdGlvbihuLGwpe2Zvcih2YXIgdSxpO2w9bC5fXzspaWYoKHU9bC5fX2MpJiYhdS5fXyl0cnl7aWYodS5jb25zdHJ1Y3RvciYmbnVsbCE9dS5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3ImJihpPSEwLHUuc2V0U3RhdGUodS5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IobikpKSxudWxsIT11LmNvbXBvbmVudERpZENhdGNoJiYoaT0hMCx1LmNvbXBvbmVudERpZENhdGNoKG4pKSxpKXJldHVybiBnKHUuX19FPXUpfWNhdGNoKGwpe249bH10aHJvdyBufX0sbD1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9biYmdm9pZCAwPT09bi5jb25zdHJ1Y3Rvcn0sbS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24obixsKXt2YXIgdTt1PXRoaXMuX19zIT09dGhpcy5zdGF0ZT90aGlzLl9fczp0aGlzLl9fcz1zKHt9LHRoaXMuc3RhdGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihuPW4odSx0aGlzLnByb3BzKSksbiYmcyh1LG4pLG51bGwhPW4mJnRoaXMuX192JiYobCYmdGhpcy5fX2gucHVzaChsKSxnKHRoaXMpKX0sbS5wcm90b3R5cGUuZm9yY2VVcGRhdGU9ZnVuY3Rpb24obil7dGhpcy5fX3YmJih0aGlzLl9fZT0hMCxuJiZ0aGlzLl9faC5wdXNoKG4pLGcodGhpcykpfSxtLnByb3RvdHlwZS5yZW5kZXI9ZCx1PVtdLGk9MCx0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFByb21pc2U/UHJvbWlzZS5wcm90b3R5cGUudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKTpzZXRUaW1lb3V0LHI9ZSxmPTA7ZXhwb3J0e0ggYXMgcmVuZGVyLEkgYXMgaHlkcmF0ZSxoIGFzIGNyZWF0ZUVsZW1lbnQsaCxkIGFzIEZyYWdtZW50LHAgYXMgY3JlYXRlUmVmLGwgYXMgaXNWYWxpZEVsZW1lbnQsbSBhcyBDb21wb25lbnQsTCBhcyBjbG9uZUVsZW1lbnQsTSBhcyBjcmVhdGVDb250ZXh0LHggYXMgdG9DaGlsZEFycmF5LEQgYXMgX3VubW91bnQsbiBhcyBvcHRpb25zfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZWFjdC5tb2R1bGUuanMubWFwXG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGluamVjdENzcyhjc3M6IHN0cmluZykge1xuICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBjb25zdCBzdHlsZVRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICBzdHlsZUVsLmFwcGVuZENoaWxkKHN0eWxlVGV4dCk7XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbCk7XG59XG4iLCAiZXhwb3J0IGVudW0gU1RBR0VTIHtcbiAgQ0hPT1NFX0ZSQU1FUyxcbiAgUFJFVklFV19PVVRQVVQsXG4gIFJFU1BPTlNJVkVfUFJFVklFVyxcbiAgU0FWRV9PVVRQVVQsXG59XG5cbmV4cG9ydCBlbnVtIE1TR19FVkVOVFMge1xuICBET01fUkVBRFksXG4gIE5PX0ZSQU1FUyxcbiAgRk9VTkRfRlJBTUVTLFxuICBSRVNJWkUsXG4gIFJFTkRFUixcbiAgQ0xPU0UsXG4gIEVSUk9SLFxuICBVUERBVEVfSEVBRExJTkVTLFxuICBDT01QUkVTU19JTUFHRSxcbiAgQ09NUFJFU1NFRF9JTUFHRSxcbn1cblxuZXhwb3J0IGVudW0gT1VUUFVUX0ZPUk1BVFMge1xuICBJTkxJTkUsXG4gIElGUkFNRSxcbn1cblxuZXhwb3J0IGNvbnN0IFVJX1RFWFQgPSB7XG4gIEVSUk9SX1VORVhQRUNURUQ6IFwiVW5leHBlY3RlZCBlcnJvclwiLFxuICBFUlJPUl9NSVNTSU5HX0ZSQU1FUzogXCJObyBmcmFtZXMgZm91bmQuIFBsZWFzZSBhZGQgc29tZSBmcmFtZXMgdG8gdGhlIHBhZ2UuXCIsXG4gIFdBUk5fTk9fVEFSR0VUUzogXCJTdGFuZGFyZCBmcmFtZXMgbm90IGZvdW5kLiBQbGVhc2Ugc2VsZWN0IHRhcmdldCBmcmFtZXMuXCIsXG4gIFdBUk5fVE9PX01BTllfVEFSR0VUUzogXCJQbGVhc2Ugc2VsZWN0IHRocmVlIHRhcmdldCBmcmFtZXNcIixcbiAgSU5GT19QUkVWSUVXOiBcIlByZXZpZXcgZWFjaCBmcmFtZSBvdXRwdXRcIixcbiAgVElUTEVfQ0hPT1NFX0ZSQU1FOiBcIkNob29zZSB3aGljaCBmcmFtZXMgdG8gZXhwb3J0XCIsXG4gIFRJVExFX1BSRVZJRVc6IFwiUHJldmlld1wiLFxuICBUSVRMRV9SRVNQT05TSVZFX1BSRVZJRVc6IFwiUmVzcG9uc2l2ZSBwcmV2aWV3XCIsXG4gIFRJTEVfT1VUUFVUOiBcIkV4cG9ydFwiLFxuICBCVVRUT05fTkVYVDogXCJOZXh0XCIsXG4gIEJVVFRPTl9ET1dOTE9BRDogXCJEb3dubG9hZFwiLFxuICBCVVRUT05fUFJFVklPVVM6IFwiQmFja1wiLFxufTtcblxuZXhwb3J0IGNvbnN0IElOSVRJQUxfVUlfU0laRSA9IHtcbiAgd2lkdGg6IDQ4MCxcbiAgaGVpZ2h0OiA1MDAsXG4gIG1heFdpZHRoOiAxMjAwLFxuICBtYXhIZWlnaHQ6IDkwMCxcbiAgbWluV2lkdGg6IDQyMCxcbiAgbWluSGVpZ2h0OiA0ODAsXG59O1xuXG5leHBvcnQgY29uc3QgRlJBTUVfV0FSTklOR19TSVpFID0gMzAwO1xuXG5leHBvcnQgZW51bSBIRUFETElORV9OT0RFX05BTUVTIHtcbiAgSEVBRExJTkUgPSBcImhlYWRsaW5lXCIsXG4gIFNVQkhFQUQgPSBcInN1YmhlYWRcIixcbiAgU09VUkNFID0gXCJzb3VyY2VcIixcbn1cbiIsICJpbXBvcnQgeyBoLCBGcmFnbWVudCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IFNUQUdFUywgVUlfVEVYVCwgRlJBTUVfV0FSTklOR19TSVpFIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHR5cGUgeyBGcmFtZURhdGFUeXBlIH0gZnJvbSBcInR5cGVzXCI7XG5cbmZ1bmN0aW9uIEZyYW1lSW5mbyhwcm9wczogeyBmcmFtZTogRnJhbWVEYXRhVHlwZSB8IGZhbHNlIH0pIHtcbiAgaWYgKCFwcm9wcy5mcmFtZSkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3Qge1xuICAgIG5hbWUsXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHN2ZyxcbiAgICByZXNwb25zaXZlLFxuICAgIHN2Z0NvbXByZXNzZWQsXG4gICAgc3ZnT3B0aW1pc2VkLFxuICB9ID0gcHJvcHMuZnJhbWU7XG5cbiAgY29uc3QgcmVuZGVyQ2hhckNvdW50ID1cbiAgICAoc3ZnT3B0aW1pc2VkID8gc3ZnQ29tcHJlc3NlZD8ubGVuZ3RoIDogc3ZnPy5sZW5ndGgpIHx8IDA7XG4gIGNvbnN0IGZpbGVLYlNpemUgPSByZW5kZXJDaGFyQ291bnQgLyAxMDAwO1xuICBjb25zdCBpc0ZpbGVMYXJnZSA9IGZpbGVLYlNpemUgPiBGUkFNRV9XQVJOSU5HX1NJWkU7XG4gIGxldCBmaWxlU2l6ZUNsYXNzTmFtZSA9IFwiZjJoX19maWxlX3NpemVcIjtcbiAgaWYgKGlzRmlsZUxhcmdlKSB7XG4gICAgZmlsZVNpemVDbGFzc05hbWUgKz0gXCIgZjJoX19maWxlX3NpemUgZjJoX19ub3RpY2UtLWVycm9yXCI7XG4gIH1cblxuICBsZXQgcmVzcG9uc2l2ZUNsYXNzTmFtZSA9IFwiZjJoX19pbmZvX3Jlc3BvbnNpdmVcIjtcbiAgaWYgKHJlc3BvbnNpdmUgPT09IGZhbHNlKSB7XG4gICAgcmVzcG9uc2l2ZUNsYXNzTmFtZSArPSBcIiBmMmhfX2luZm9fcmVzcG9uc2l2ZS0tbm9cIjtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3M9XCJmMmhfX2luZm9cIj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiZjJoX19pbmZvX3RpdGxlXCI+XCJ7bmFtZX1cIjwvc3Bhbj57XCIgXCJ9XG4gICAgICA8c3BhbiBjbGFzcz1cImYyaF9faW5mb19tZXRhXCI+XG4gICAgICAgIHt3aWR0aH0geCB7aGVpZ2h0fSwgPHNwYW4gY2xhc3M9e3Jlc3BvbnNpdmVDbGFzc05hbWV9PnJlc3BvbnNpdmU8L3NwYW4+LHtcIiBcIn1cbiAgICAgICAgPHNwYW4gY2xhc3M9e2ZpbGVTaXplQ2xhc3NOYW1lfT57ZmlsZUtiU2l6ZS50b0ZpeGVkKDIpfWtCPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIDwvcD5cbiAgKTtcbn1cblxudHlwZSBIZWFkZXJQcm9wcyA9IHtcbiAgc3RhZ2U6IFNUQUdFUztcbiAgaGFuZGxlTmV4dENsaWNrOiAoKSA9PiB2b2lkO1xuICBoYW5kbGVCYWNrQ2xpY2s6ICgpID0+IHZvaWQ7XG4gIGhhbmRsZU9wdGltc2VDbGljazogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGRpc2FibGVOZXh0OiBib29sZWFuO1xuICBmcmFtZTogRnJhbWVEYXRhVHlwZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBIZWFkZXIocHJvcHM6IEhlYWRlclByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBzdGFnZSxcbiAgICBoYW5kbGVCYWNrQ2xpY2ssXG4gICAgaGFuZGxlTmV4dENsaWNrLFxuICAgIGRpc2FibGVOZXh0LFxuICAgIGZyYW1lLFxuICAgIGhhbmRsZU9wdGltc2VDbGljayxcbiAgfSA9IHByb3BzO1xuXG4gIGxldCB0aXRsZTtcbiAgbGV0IG5leHRUZXh0O1xuICBsZXQgYmFja1RleHQ7XG5cbiAgc3dpdGNoIChzdGFnZSkge1xuICAgIGNhc2UgU1RBR0VTLkNIT09TRV9GUkFNRVM6XG4gICAgICB0aXRsZSA9IFVJX1RFWFQuVElUTEVfQ0hPT1NFX0ZSQU1FO1xuICAgICAgbmV4dFRleHQgPSBVSV9URVhULkJVVFRPTl9ORVhUO1xuICAgICAgYmFja1RleHQgPSBVSV9URVhULkJVVFRPTl9QUkVWSU9VUztcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXOlxuICAgICAgdGl0bGUgPSBVSV9URVhULlRJVExFX1JFU1BPTlNJVkVfUFJFVklFVztcbiAgICAgIG5leHRUZXh0ID0gVUlfVEVYVC5CVVRUT05fTkVYVDtcbiAgICAgIGJhY2tUZXh0ID0gVUlfVEVYVC5CVVRUT05fUFJFVklPVVM7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU1RBR0VTLlBSRVZJRVdfT1VUUFVUOlxuICAgICAgdGl0bGUgPSBgJHtVSV9URVhULlRJVExFX1BSRVZJRVd9YDtcbiAgICAgIG5leHRUZXh0ID0gVUlfVEVYVC5CVVRUT05fTkVYVDtcbiAgICAgIGJhY2tUZXh0ID0gVUlfVEVYVC5CVVRUT05fUFJFVklPVVM7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU1RBR0VTLlNBVkVfT1VUUFVUOlxuICAgICAgdGl0bGUgPSBVSV9URVhULlRJTEVfT1VUUFVUO1xuICAgICAgYmFja1RleHQgPSBVSV9URVhULkJVVFRPTl9QUkVWSU9VUztcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8aGVhZGVyIGNsYXNzPVwiZjJoX19oZWFkZXJcIj5cbiAgICAgIDxoMSBjbGFzcz1cImYyaF9fdGl0bGVcIj57dGl0bGV9PC9oMT5cblxuICAgICAge3N0YWdlID09PSBTVEFHRVMuUFJFVklFV19PVVRQVVQgJiYgKFxuICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgPEZyYW1lSW5mbyBmcmFtZT17ZnJhbWV9IC8+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZjJoX19zdmdfb3B0aW1pc2VcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBjaGVja2VkPXtmcmFtZS5zdmdPcHRpbWlzZWR9XG4gICAgICAgICAgICAgIG5hbWU9XCJvcHRpbWlzZVwiXG4gICAgICAgICAgICAgIGlkPVwib3B0aW1pc2VcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVPcHRpbXNlQ2xpY2soZnJhbWUuaWQpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxzcGFuPk9wdGltaXNlIFNWRzwvc3Bhbj5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgKX1cblxuICAgICAgPG5hdiBjbGFzcz1cImYyaF9fbmF2XCI+XG4gICAgICAgIHtzdGFnZSAhPT0gU1RBR0VTLkNIT09TRV9GUkFNRVMgJiYgKFxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJmMmhfX2J0biBidG4tLXNlY29uZGFyeVwiIG9uQ2xpY2s9e2hhbmRsZUJhY2tDbGlja30+XG4gICAgICAgICAgICB7YmFja1RleHR9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICl9XG5cbiAgICAgICAge25leHRUZXh0ICYmIChcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzcz1cImYyaF9fYnRuIGJ0bi0tcHJpbWFyeVwiXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVOZXh0Q2xpY2t9XG4gICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZU5leHR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge25leHRUZXh0fVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgPC9uYXY+XG4gICAgPC9oZWFkZXI+XG4gICk7XG59XG4iLCAiaW1wb3J0e29wdGlvbnMgYXMgZSxGcmFnbWVudCBhcyB0LGNyZWF0ZUVsZW1lbnQgYXMgcn1mcm9tXCJwcmVhY3RcIjt2YXIgbj0vYWNpdHxleCg/OnN8Z3xufHB8JCl8cnBofGdyaWR8b3dzfG1uY3xudHd8aW5lW2NoXXx6b298Xm9yZHxeLS0vaSxvPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIil9LGE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2UoLyhcXG4rKS9nLFwiJDFcIisodHx8XCJcXHRcIikpfSxpPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gU3RyaW5nKGUpLmxlbmd0aD4odHx8NDApfHwhciYmLTEhPT1TdHJpbmcoZSkuaW5kZXhPZihcIlxcblwiKXx8LTEhPT1TdHJpbmcoZSkuaW5kZXhPZihcIjxcIil9LGw9e307ZnVuY3Rpb24gcyhlKXt2YXIgdD1cIlwiO2Zvcih2YXIgciBpbiBlKXt2YXIgbz1lW3JdO251bGwhPW8mJih0JiYodCs9XCIgXCIpLHQrPVwiLVwiPT1yWzBdP3I6bFtyXXx8KGxbcl09ci5yZXBsYWNlKC8oW0EtWl0pL2csXCItJDFcIikudG9Mb3dlckNhc2UoKSksdCs9XCI6IFwiLHQrPW8sXCJudW1iZXJcIj09dHlwZW9mIG8mJiExPT09bi50ZXN0KHIpJiYodCs9XCJweFwiKSx0Kz1cIjtcIil9cmV0dXJuIHR8fHZvaWQgMH1mdW5jdGlvbiBmKGUsdCl7Zm9yKHZhciByIGluIHQpZVtyXT10W3JdO3JldHVybiBlfWZ1bmN0aW9uIGMoZSx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90LnJlZHVjZShjLGUpOm51bGwhPXQmJiExIT09dCYmZS5wdXNoKHQpLGV9dmFyIHA9e3NoYWxsb3c6ITB9LHU9W10sXz0vXihhcmVhfGJhc2V8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW18c291cmNlfHRyYWNrfHdicikkLyxnPWZ1bmN0aW9uKCl7fTt2LnJlbmRlcj12O3ZhciBoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYoZSx0LHApfTtmdW5jdGlvbiB2KG4sbCxwLGgsZCxtKXtpZihudWxsPT1ufHxcImJvb2xlYW5cIj09dHlwZW9mIG4pcmV0dXJuXCJcIjtBcnJheS5pc0FycmF5KG4pJiYobj1yKHQsbnVsbCxuKSk7dmFyIHg9bi50eXBlLHk9bi5wcm9wcyxiPSExO2w9bHx8e307dmFyIFMsdz0ocD1wfHx7fSkucHJldHR5LGs9dyYmXCJzdHJpbmdcIj09dHlwZW9mIHc/dzpcIlxcdFwiO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBuJiYheClyZXR1cm4gbyhuKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB4KXtpZihiPSEwLCFwLnNoYWxsb3d8fCFoJiYhMSE9PXAucmVuZGVyUm9vdENvbXBvbmVudCl7aWYoeD09PXQpe3ZhciBPPVwiXCIsQz1bXTtjKEMsbi5wcm9wcy5jaGlsZHJlbik7Zm9yKHZhciBBPTA7QTxDLmxlbmd0aDtBKyspTys9KEE+MCYmdz9cIlxcblwiOlwiXCIpK3YoQ1tBXSxsLHAsITEhPT1wLnNoYWxsb3dIaWdoT3JkZXIsZCxtKTtyZXR1cm4gT312YXIgSCxqPW4uX19jPXtfX3Y6bixjb250ZXh0OmwscHJvcHM6bi5wcm9wcyxzZXRTdGF0ZTpnLGZvcmNlVXBkYXRlOmcsX19oOltdfTtpZihlLl9fciYmZS5fX3IobikseC5wcm90b3R5cGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHgucHJvdG90eXBlLnJlbmRlcil7dmFyIEY9eC5jb250ZXh0VHlwZSwkPUYmJmxbRi5fX2NdLEw9bnVsbCE9Rj8kPyQucHJvcHMudmFsdWU6Ri5fXzpsOyhqPW4uX19jPW5ldyB4KHksTCkpLl9fdj1uLGouX2RpcnR5PWouX19kPSEwLGoucHJvcHM9eSxudWxsPT1qLnN0YXRlJiYoai5zdGF0ZT17fSksbnVsbD09ai5fbmV4dFN0YXRlJiZudWxsPT1qLl9fcyYmKGouX25leHRTdGF0ZT1qLl9fcz1qLnN0YXRlKSxqLmNvbnRleHQ9TCx4LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcz9qLnN0YXRlPWYoZih7fSxqLnN0YXRlKSx4LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhqLnByb3BzLGouc3RhdGUpKTpqLmNvbXBvbmVudFdpbGxNb3VudCYmai5jb21wb25lbnRXaWxsTW91bnQoKSxqLnN0YXRlPWouX25leHRTdGF0ZSE9PWouc3RhdGU/ai5fbmV4dFN0YXRlOmouX19zIT09ai5zdGF0ZT9qLl9fczpqLnN0YXRlLEg9ai5yZW5kZXIoai5wcm9wcyxqLnN0YXRlLGouY29udGV4dCl9ZWxzZXt2YXIgTT14LmNvbnRleHRUeXBlLFQ9TSYmbFtNLl9fY107SD14LmNhbGwobi5fX2MseSxudWxsIT1NP1Q/VC5wcm9wcy52YWx1ZTpNLl9fOmwpfXJldHVybiBqLmdldENoaWxkQ29udGV4dCYmKGw9ZihmKHt9LGwpLGouZ2V0Q2hpbGRDb250ZXh0KCkpKSx2KEgsbCxwLCExIT09cC5zaGFsbG93SGlnaE9yZGVyLGQsbSl9eD0oUz14KS5kaXNwbGF5TmFtZXx8UyE9PUZ1bmN0aW9uJiZTLm5hbWV8fGZ1bmN0aW9uKGUpe3ZhciB0PShGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5tYXRjaCgvXlxccypmdW5jdGlvblxccysoW14oIF0rKS8pfHxcIlwiKVsxXTtpZighdCl7Zm9yKHZhciByPS0xLG49dS5sZW5ndGg7bi0tOylpZih1W25dPT09ZSl7cj1uO2JyZWFrfXI8MCYmKHI9dS5wdXNoKGUpLTEpLHQ9XCJVbm5hbWVkQ29tcG9uZW50XCIrcn1yZXR1cm4gdH0oUyl9dmFyIEQsTj1cIlwiO2lmKHkpe3ZhciBQPU9iamVjdC5rZXlzKHkpO3AmJiEwPT09cC5zb3J0QXR0cmlidXRlcyYmUC5zb3J0KCk7Zm9yKHZhciBSPTA7UjxQLmxlbmd0aDtSKyspe3ZhciBVPVBbUl0sVz15W1VdO2lmKFwiY2hpbGRyZW5cIiE9PVUmJighVS5tYXRjaCgvW1xcc1xcblxcXFwvPSdcIlxcMDw+XS8pJiYocCYmcC5hbGxBdHRyaWJ1dGVzfHxcImtleVwiIT09VSYmXCJyZWZcIiE9PVUmJlwiX19zZWxmXCIhPT1VJiZcIl9fc291cmNlXCIhPT1VKSkpe2lmKFwiY2xhc3NOYW1lXCI9PT1VKXtpZih5LmNsYXNzKWNvbnRpbnVlO1U9XCJjbGFzc1wifWVsc2UgZCYmVS5tYXRjaCgvXnhsaW5rOj8uLykmJihVPVUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9eeGxpbms6Py8sXCJ4bGluazpcIikpO2lmKFwiaHRtbEZvclwiPT09VSl7aWYoeS5mb3IpY29udGludWU7VT1cImZvclwifVwic3R5bGVcIj09PVUmJlcmJlwib2JqZWN0XCI9PXR5cGVvZiBXJiYoVz1zKFcpKTt2YXIgcT1wLmF0dHJpYnV0ZUhvb2smJnAuYXR0cmlidXRlSG9vayhVLFcsbCxwLGIpO2lmKHF8fFwiXCI9PT1xKU4rPXE7ZWxzZSBpZihcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1VKUQ9VyYmVy5fX2h0bWw7ZWxzZSBpZigoV3x8MD09PVd8fFwiXCI9PT1XKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgVyl7aWYoISghMCE9PVcmJlwiXCIhPT1XfHwoVz1VLHAmJnAueG1sKSkpe04rPVwiIFwiK1U7Y29udGludWV9aWYoXCJ2YWx1ZVwiPT09VSl7aWYoXCJzZWxlY3RcIj09PXgpe209Vztjb250aW51ZX1cIm9wdGlvblwiPT09eCYmbT09VyYmKE4rPVwiIHNlbGVjdGVkXCIpfU4rPVwiIFwiK1UrJz1cIicrbyhXKSsnXCInfX19fWlmKHcpe3ZhciB6PU4ucmVwbGFjZSgvXlxcblxccyovLFwiIFwiKTt6PT09Tnx8fnouaW5kZXhPZihcIlxcblwiKT93JiZ+Ti5pbmRleE9mKFwiXFxuXCIpJiYoTis9XCJcXG5cIik6Tj16fWlmKE49XCI8XCIreCtOK1wiPlwiLFN0cmluZyh4KS5tYXRjaCgvW1xcc1xcblxcXFwvPSdcIlxcMDw+XS8pKXRocm93IG5ldyBFcnJvcih4K1wiIGlzIG5vdCBhIHZhbGlkIEhUTUwgdGFnIG5hbWUgaW4gXCIrTik7dmFyIEU9U3RyaW5nKHgpLm1hdGNoKF8pO0UmJihOPU4ucmVwbGFjZSgvPiQvLFwiIC8+XCIpKTt2YXIgSSxaPVtdO2lmKEQpdyYmaShEKSYmKEQ9XCJcXG5cIitrK2EoRCxrKSksTis9RDtlbHNlIGlmKHkmJmMoST1bXSx5LmNoaWxkcmVuKS5sZW5ndGgpe2Zvcih2YXIgQj13JiZ+Ti5pbmRleE9mKFwiXFxuXCIpLEc9ITEsSj0wO0o8SS5sZW5ndGg7SisrKXt2YXIgSz1JW0pdO2lmKG51bGwhPUsmJiExIT09Syl7dmFyIFE9dihLLGwscCwhMCxcInN2Z1wiPT09eHx8XCJmb3JlaWduT2JqZWN0XCIhPT14JiZkLG0pO2lmKHcmJiFCJiZpKFEpJiYoQj0hMCksUSlpZih3KXt2YXIgVj1RLmxlbmd0aD4wJiZcIjxcIiE9UVswXTtHJiZWP1pbWi5sZW5ndGgtMV0rPVE6Wi5wdXNoKFEpLEc9Vn1lbHNlIFoucHVzaChRKX19aWYodyYmQilmb3IodmFyIFg9Wi5sZW5ndGg7WC0tOylaW1hdPVwiXFxuXCIraythKFpbWF0sayl9aWYoWi5sZW5ndGgpTis9Wi5qb2luKFwiXCIpO2Vsc2UgaWYocCYmcC54bWwpcmV0dXJuIE4uc3Vic3RyaW5nKDAsTi5sZW5ndGgtMSkrXCIgLz5cIjtyZXR1cm4gRXx8KHcmJn5OLmluZGV4T2YoXCJcXG5cIikmJihOKz1cIlxcblwiKSxOKz1cIjwvXCIreCtcIj5cIiksTn12LnNoYWxsb3dSZW5kZXI9aDtleHBvcnQgZGVmYXVsdCB2O2V4cG9ydHt2IGFzIHJlbmRlcix2IGFzIHJlbmRlclRvU3RyaW5nLGggYXMgc2hhbGxvd1JlbmRlcn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tb2R1bGUuanMubWFwXG4iLCAiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCByZW5kZXIgZnJvbSBcInByZWFjdC1yZW5kZXItdG8tc3RyaW5nXCI7XG5pbXBvcnQgeyBPVVRQVVRfRk9STUFUUyB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHR5cGUgeyB0ZXh0RGF0YSwgRnJhbWVEYXRhVHlwZSB9IGZyb20gXCJ0eXBlc1wiO1xuXG4vLyBJbXBvcnQgQ1NTIGZpbGUgYXMgcGxhaW4gdGV4dCB2aWEgZXNidWlsZCBsb2FkZXIgb3B0aW9uXG4vLyBAdHMtZXhwZWN0LWVycm9yXG5pbXBvcnQgZW1iZWRDc3MgZnJvbSBcIi4vZW1iZWQuY3NzXCI7XG4vLyBAdHMtZXhwZWN0LWVycm9yXG5pbXBvcnQgZm9udHNDc3MgZnJvbSBcIi4vZm9udHMuY3NzXCI7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWZyYW1lSHRtbChib2R5OiBzdHJpbmcpIHtcbiAgcmV0dXJuIGBcbiAgICA8IWRvY3R5cGUgaHRtbD5cbiAgICA8aHRtbD5cbiAgICAgIDxoZWFkPlxuICAgICAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCI+XG4gICAgICAgIDxzdHlsZT4gaHRtbCwgYm9keSB7IG1hcmdpbjogMDsgfSA8L3N0eWxlPlxuICAgICAgPC9oZWFkPlxuICAgICAgPGJvZHk+XG4gICAgICAgICR7Ym9keX1cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gIGA7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU3R5bGVUZXh0KFxuICBub2RlOiB0ZXh0RGF0YSxcbiAgZnJhbWVXaWR0aDogbnVtYmVyLFxuICBmcmFtZUhlaWdodDogbnVtYmVyXG4pIHtcbiAgY29uc3Qge1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgZm9udFNpemUsXG4gICAgZm9udEZhbWlseSxcbiAgICBjb2xvdXIsXG4gICAgbGV0dGVyU3BhY2luZyxcbiAgICBsaW5lSGVpZ2h0LFxuICAgIHRleHRBbGlnbkhvcml6b250YWwsXG4gICAgdGV4dEFsaWduVmVydGljYWwsXG4gICAgZm9udFN0eWxlLFxuICB9ID0gbm9kZTtcblxuICAvLyBQb3NpdGlvbiBjZW50ZXIgYWxpZ25lZFxuICBjb25zdCBsZWZ0ID0gYCR7KCh4ICsgd2lkdGggLyAyKSAvIGZyYW1lV2lkdGgpICogMTAwfSVgO1xuICBjb25zdCB0b3AgPSBgJHsoKHkgKyBoZWlnaHQgLyAyKSAvIGZyYW1lSGVpZ2h0KSAqIDEwMH0lYDtcblxuICAvLyBDb2xvdXJcbiAgY29uc3QgeyByLCBnLCBiLCBhIH0gPSBjb2xvdXI7XG4gIGNvbnN0IGNvbG91clZhbHMgPSBbciwgZywgYl0ubWFwKCh2YWwgPSAwKSA9PiBNYXRoLnJvdW5kKHZhbCAqIDI1NSkpO1xuICBjb25zdCB0ZXh0Q29sb3VyID0gYHJnYmEoJHtjb2xvdXJWYWxzLmpvaW4oXCIsXCIpfSwgJHthfSlgO1xuICBsZXQgZm9udE5hbWUgPSBgJHtmb250RmFtaWx5fSAke2ZvbnRTdHlsZX1gO1xuXG4gIGNvbnN0IHsgdW5pdDogbGV0dGVyVW5pdCwgdmFsdWU6IGxldHRlclZhbCB9ID0gbGV0dGVyU3BhY2luZyBhcyB7XG4gICAgdmFsdWU6IG51bWJlcjtcbiAgICB1bml0OiBcIlBJWEVMU1wiIHwgXCJQRVJDRU5UXCI7XG4gIH07XG4gIGxldCBsZXR0ZXJTcGFjZVZhbHVlID0gXCIwXCI7XG4gIHN3aXRjaCAobGV0dGVyVW5pdCkge1xuICAgIGNhc2UgXCJQSVhFTFNcIjpcbiAgICAgIC8vIFRPRE86IEZJWCBNRVxuICAgICAgaWYgKGZvbnRGYW1pbHkgPT09IFwiVGVsZXNhbnMgVGV4dFwiKSB7XG4gICAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgJHtsZXR0ZXJWYWwgLSAwLjMzfXB4YDtcbiAgICAgIH0gZWxzZSBpZiAoZm9udEZhbWlseSA9PT0gXCJUZWxlc2FucyBBZ2F0ZVwiKSB7XG4gICAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgJHtsZXR0ZXJWYWwgLSAwLjE5fXB4YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgJHtsZXR0ZXJWYWx9cHhgO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBFUkNFTlRcIjpcbiAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgJHtsZXR0ZXJWYWwgLyAxMDB9ZW1gO1xuXG4gICAgICBpZiAoZm9udEZhbWlseSA9PT0gXCJUZWxlc2FucyBUZXh0XCIpIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IGAke2xldHRlclZhbCAvIDEwMCAtIDAuMDIyfWVtYDtcbiAgICAgIH0gZWxzZSBpZiAoZm9udEZhbWlseSA9PT0gXCJUZWxlc2FucyBBZ2F0ZVwiKSB7XG4gICAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgJHtsZXR0ZXJWYWwgLyAxMDAgLSAwLjAxNX1lbWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXR0ZXJTcGFjZVZhbHVlID0gYCR7bGV0dGVyVmFsIC8gMTAwfWVtYDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoZm9udEZhbWlseSA9PT0gXCJUZWxlc2FucyBUZXh0XCIpIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IFwiLTAuMzdweFwiO1xuICAgICAgfSBlbHNlIGlmIChmb250RmFtaWx5ID09PSBcIlRlbGVzYW5zIEFnYXRlXCIpIHtcbiAgICAgICAgbGV0dGVyU3BhY2VWYWx1ZSA9IFwiLTAuMTl9cHhcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldHRlclNwYWNlVmFsdWUgPSBgMGA7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGNvbnN0IHsgdW5pdDogbGluZVVuaXQsIHZhbHVlOiBsaW5lVmFsIH0gPSBsaW5lSGVpZ2h0IGFzIHtcbiAgICB2YWx1ZTogbnVtYmVyO1xuICAgIHVuaXQ6IFwiQVVUT1wiIHwgXCJQSVhFTFNcIiB8IFwiUEVSQ0VOVFwiO1xuICB9O1xuICBsZXQgbGluZUhlaWdodFZhbHVlID0gXCJhdXRvXCI7XG4gIHN3aXRjaCAobGluZVVuaXQpIHtcbiAgICBjYXNlIFwiUElYRUxTXCI6XG4gICAgICBsaW5lSGVpZ2h0VmFsdWUgPSBgJHtsaW5lVmFsfXB4YDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJQRVJDRU5UXCI6XG4gICAgICBsaW5lSGVpZ2h0VmFsdWUgPSBgJHtsaW5lVmFsICogMS4xNX0lYDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJBVVRPXCI6XG4gICAgICBsaW5lSGVpZ2h0VmFsdWUgPSBcIjEuMlwiO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICBsZXQgYWxpZ25JdGVtc1ZhbHVlID0gXCJhdXRvXCI7XG4gIHN3aXRjaCAodGV4dEFsaWduVmVydGljYWwpIHtcbiAgICBjYXNlIFwiVE9QXCI6XG4gICAgICBhbGlnbkl0ZW1zVmFsdWUgPSBcImZsZXgtc3RhcnRcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJDRU5URVJcIjpcbiAgICAgIGFsaWduSXRlbXNWYWx1ZSA9IFwiY2VudGVyXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiQk9UVE9NXCI6XG4gICAgICBhbGlnbkl0ZW1zVmFsdWUgPSBcImZsZXgtZW5kXCI7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGxldCBqdXN0aWZ5SXRlbXNWYWx1ZSA9IFwiYXV0b1wiO1xuICBzd2l0Y2ggKHRleHRBbGlnbkhvcml6b250YWwpIHtcbiAgICBjYXNlIFwiTEVGVFwiOlxuICAgICAganVzdGlmeUl0ZW1zVmFsdWUgPSBcImZsZXgtc3RhcnRcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJDRU5URVJcIjpcbiAgICAgIGp1c3RpZnlJdGVtc1ZhbHVlID0gXCJjZW50ZXJcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJSSUdIVFwiOlxuICAgICAganVzdGlmeUl0ZW1zVmFsdWUgPSBcImZsZXgtZW5kXCI7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGNvbnN0IG5ld1dpZHRoID0gTWF0aC5jZWlsKCh3aWR0aCAvIGZyYW1lV2lkdGgpICogMTAwKTtcblxuICByZXR1cm4gYFxuICAgICAgICBmb250LXNpemU6ICR7U3RyaW5nKGZvbnRTaXplKX1weDtcbiAgICAgICAgZm9udC1mYW1pbHk6IFwiJHtmb250TmFtZX1cIiwgR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIFRpbWVzLCBzZXJpZjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBjb2xvcjogJHt0ZXh0Q29sb3VyfTtcbiAgICAgICAgd2lkdGg6ICR7bmV3V2lkdGh9JTtcbiAgICAgICAgaGVpZ2h0OiAkeyhoZWlnaHQgLyBmcmFtZUhlaWdodCkgKiAxMDB9JTtcbiAgICAgICAgbGVmdDogJHtsZWZ0fTtcbiAgICAgICAgdG9wOiAke3RvcH07XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAke2xpbmVIZWlnaHRWYWx1ZX07XG4gICAgICAgIGxldHRlci1zcGFjaW5nOiAke2xldHRlclNwYWNlVmFsdWV9O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6ICR7anVzdGlmeUl0ZW1zVmFsdWV9O1xuICAgICAgICBhbGlnbi1pdGVtczogJHthbGlnbkl0ZW1zVmFsdWV9O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYDtcbn1cblxudHlwZSBUZXh0UHJvcHMgPSB7XG4gIG5vZGU6IHRleHREYXRhO1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbn07XG5mdW5jdGlvbiBUZXh0KHByb3BzOiBUZXh0UHJvcHMpIHtcbiAgY29uc3QgeyBub2RlLCB3aWR0aCwgaGVpZ2h0IH0gPSBwcm9wcztcblxuICBjb25zdCB7IGNoYXJhY3RlcnMgfSA9IG5vZGU7XG4gIGNvbnN0IHN0eWxlVGV4dCA9IGdlbmVyYXRlU3R5bGVUZXh0KG5vZGUsIHdpZHRoLCBoZWlnaHQpO1xuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3M9XCJmMmhfX3RleHRcIiBzdHlsZT17c3R5bGVUZXh0fT5cbiAgICAgIHtjaGFyYWN0ZXJzfVxuICAgIDwvcD5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIEZyYW1lQ29udGFpbmVyUHJvcHMgZXh0ZW5kcyBGcmFtZURhdGFUeXBlIHtcbiAgc2NhbGU/OiBudW1iZXIgfCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBGcmFtZUNvbnRhaW5lcihwcm9wczogRnJhbWVDb250YWluZXJQcm9wcykge1xuICBjb25zdCB7XG4gICAgdWlkLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB0ZXh0Tm9kZXMsXG4gICAgc3ZnID0gXCJcIixcbiAgICBzdmdDb21wcmVzc2VkID0gXCJcIixcbiAgICBzdmdPcHRpbWlzZWQsXG4gICAgcmVzcG9uc2l2ZSxcbiAgICBzY2FsZSxcbiAgfSA9IHByb3BzO1xuICBjb25zdCB0ZXh0RWxzID0gdGV4dE5vZGVzLm1hcCgobm9kZSkgPT4gKFxuICAgIDxUZXh0IG5vZGU9e25vZGV9IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9IC8+XG4gICkpO1xuICBjb25zdCBjbGFzc05hbWVzID0gYGYyaF9fcmVuZGVyICR7XG4gICAgcmVzcG9uc2l2ZSA/IFwiZjJoX19yZW5kZXItLXJlc3BvbnNpdmVcIiA6IFwiXCJcbiAgfWA7XG5cbiAgbGV0IHN0eWxlID0gcmVzcG9uc2l2ZSA/IFwiXCIgOiBgd2lkdGg6ICR7d2lkdGh9cHg7YDtcbiAgc3R5bGUgPSBzY2FsZSA/IGAke3N0eWxlfSB0cmFuc2Zvcm06IHNjYWxlKCR7c2NhbGV9KTtgIDogc3R5bGU7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzPXtjbGFzc05hbWVzfSBzdHlsZT17c3R5bGV9IGlkPXt1aWR9PlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cImYyaF9fc3ZnX2NvbnRhaW5lclwiXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogc3ZnT3B0aW1pc2VkID8gc3ZnQ29tcHJlc3NlZCA6IHN2ZyB9fVxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3M9XCJmMmhfX3RleHRfY29udGFpbmVyXCI+e3RleHRFbHN9PC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmludGVyZmFjZSByZW5kZXJJbmxpbmVQcm9wcyB7XG4gIGZyYW1lczogRnJhbWVEYXRhVHlwZVtdO1xuICBpZnJhbWU6IE9VVFBVVF9GT1JNQVRTO1xuICBoZWFkbGluZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc3ViaGVhZD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc291cmNlPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcklubGluZShwcm9wczogcmVuZGVySW5saW5lUHJvcHMpIHtcbiAgY29uc3QgeyBmcmFtZXMsIGlmcmFtZSwgaGVhZGxpbmUsIHN1YmhlYWQsIHNvdXJjZSB9ID0gcHJvcHM7XG4gIGNvbnN0IG1lZGlhUXVlcnkgPSBnZW5yZWF0ZU1lZGlhUXVlcmllcyhmcmFtZXMpO1xuXG4gIGNvbnN0IHJlbmRlcmVkRnJhbWVzID0gZnJhbWVzLm1hcCgoZnJhbWUpID0+IDxGcmFtZUNvbnRhaW5lciB7Li4uZnJhbWV9IC8+KTtcblxuICBsZXQgaHRtbCA9IHJlbmRlcihcbiAgICA8ZGl2IGNsYXNzPVwiZjJoX19lbWJlZFwiPlxuICAgICAgPHN0eWxlXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgX19odG1sOiBgXG4gICAgICAgJHtmb250c0Nzc31cbiAgICAgICAke2VtYmVkQ3NzfVxuICAgICAgICR7bWVkaWFRdWVyeX1cbiAgICAgIGAsXG4gICAgICAgIH19XG4gICAgICA+PC9zdHlsZT5cblxuICAgICAgeyhoZWFkbGluZSB8fCBzdWJoZWFkKSAmJiAoXG4gICAgICAgIDxoZWFkZXIgY2xhc3M9XCJmMmhfaGVhZGVyXCI+XG4gICAgICAgICAge2hlYWRsaW5lICYmIDxoMSBjbGFzcz1cImYyaF9oZWFkbGluZVwiPntoZWFkbGluZX08L2gxPn1cbiAgICAgICAgICB7c3ViaGVhZCAmJiA8cCBjbGFzcz1cImYyaF9zdWJiaGVhZFwiPnN1YmhlYWQ8L3A+fVxuICAgICAgICA8L2hlYWRlcj5cbiAgICAgICl9XG5cbiAgICAgIHtyZW5kZXJlZEZyYW1lc31cblxuICAgICAge3NvdXJjZSAmJiAoXG4gICAgICAgIDxmb290ZXI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJmMmhfc291cmNlXCI+e3NvdXJjZX08L3A+XG4gICAgICAgIDwvZm9vdGVyPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcblxuICBpZiAoaWZyYW1lID09PSBPVVRQVVRfRk9STUFUUy5JRlJBTUUpIHtcbiAgICBodG1sID0gZ2VuZXJhdGVJZnJhbWVIdG1sKGh0bWwpO1xuICB9XG5cbiAgcmV0dXJuIGh0bWw7XG4gIC8vIHJldHVybiBodG1sLnJlcGxhY2UoL1xcbnxcXHJ8XFxzezIsfS9nLCBcIlwiKTtcbn1cblxuZnVuY3Rpb24gZ2VucmVhdGVNZWRpYVF1ZXJpZXMoZnJhbWVzOiBGcmFtZURhdGFUeXBlW10pIHtcbiAgY29uc3QgaWRXaWR0aHMgPSBmcmFtZXNcbiAgICAubWFwKCh7IHdpZHRoLCB1aWQgfSkgPT4gW3dpZHRoLCB1aWRdKVxuICAgIC5zb3J0KChbYV0sIFtiXSkgPT4gKGEgPCBiID8gLTEgOiAxKSk7XG5cbiAgY29uc3QgbWVkaWFRdWVyaWVzID0gaWRXaWR0aHMubWFwKChbd2lkdGgsIHVpZF0sIGkpID0+IHtcbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuXG4gICAgY29uc3QgWywgcHJldklkXSA9IGlkV2lkdGhzW2kgLSAxXTtcblxuICAgIC8vIE5vdGU6IENhc2NhZGUgb3JkZXIgaXMgaW1wb3J0YW50LlxuICAgIHJldHVybiBgXG4gICAgICBAbWVkaWEgKG1heC13aWR0aDogJHt3aWR0aH1weCkge1xuICAgICAgICAjJHt1aWR9IHsgZGlzcGxheTogbm9uZTsgfVxuICAgICAgfVxuICAgICAgQG1lZGlhIChtaW4td2lkdGg6ICR7d2lkdGh9cHgpIHtcbiAgICAgICAgIyR7cHJldklkfSB7IGRpc3BsYXk6IG5vbmU7IH1cbiAgICAgICAgIyR7dWlkfSB7IGRpc3BsYXk6IGJsb2NrOyB9XG4gICAgICB9XG4gICAgYDtcbiAgfSk7XG5cbiAgcmV0dXJuIG1lZGlhUXVlcmllcy5qb2luKFwiXCIpO1xufVxuIiwgImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyByZW5kZXJJbmxpbmUgfSBmcm9tIFwiLi4vb3V0cHV0UmVuZGVyXCI7XG5pbXBvcnQgeyBPVVRQVVRfRk9STUFUUyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB0eXBlIHsgRnJhbWVEYXRhVHlwZSwgQXBwU3RhdGUgfSBmcm9tIFwidHlwZXNcIjtcblxuaW50ZXJmYWNlIFJlc3BvbnNpdmVWaWV3UHJvcHNcbiAgZXh0ZW5kcyBQaWNrPFxuICAgIEFwcFN0YXRlLFxuICAgIFwic291cmNlXCIgfCBcImhlYWRsaW5lXCIgfCBcInN1YmhlYWRcIiB8IFwid2luZG93V2lkdGhcIiB8IFwid2luZG93SGVpZ2h0XCJcbiAgPiB7XG4gIGZyYW1lczogRnJhbWVEYXRhVHlwZVtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVzcG9uc2l2ZVZpZXcocHJvcHM6IFJlc3BvbnNpdmVWaWV3UHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZyYW1lcyxcbiAgICBoZWFkbGluZSxcbiAgICBzdWJoZWFkLFxuICAgIHNvdXJjZSxcbiAgICB3aW5kb3dIZWlnaHQsXG4gICAgd2luZG93V2lkdGgsXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBtYXhXaWR0aCA9IE1hdGgubWF4KC4uLmZyYW1lcy5tYXAoKGYpID0+IGYud2lkdGgpKTtcbiAgY29uc3QgbWF4SGVpZ2h0ID0gTWF0aC5tYXgoLi4uZnJhbWVzLm1hcCgoZikgPT4gZi5oZWlnaHQpKTtcbiAgY29uc3QgbWluV2lkdGggPSBNYXRoLm1pbih3aW5kb3dXaWR0aCAtIDEwMCwgbWF4V2lkdGgpO1xuICBjb25zdCBtaW5IZWlnaHQgPSBNYXRoLm1pbih3aW5kb3dIZWlnaHQgLSAxNjAsIG1heEhlaWdodCk7XG5cbiAgY29uc3QgcmF3SHRtbCA9IHJlbmRlcklubGluZSh7XG4gICAgZnJhbWVzLFxuICAgIGlmcmFtZTogT1VUUFVUX0ZPUk1BVFMuSUZSQU1FLFxuICAgIGhlYWRsaW5lLFxuICAgIHN1YmhlYWQsXG4gICAgc291cmNlLFxuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3M9XCJmMmhfX3Jlc3BvbnNpdmVfcHJldmlld1wiPlxuICAgICAgPHA+VXNlIHRoZSB3aW5kb3cgYmVsb3cgdG8gdGVzdCBob3cgdGhlIGZyYW1lcyBiZWhhdmUgd2hlbiByZXNpemluZy48L3A+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJmMmhfX3Jlc3BvbnNpdmVfX3dyYXBwZXJcIj5cbiAgICAgICAgPGlmcmFtZVxuICAgICAgICAgIHN0eWxlPXtgaGVpZ2h0OiAke21pbkhlaWdodH1weDsgd2lkdGg6ICR7bWluV2lkdGh9cHg7YH1cbiAgICAgICAgICBjbGFzcz1cImYyaF9fcmVzcG9uc2l2ZV9fc2FuZGJveFwiXG4gICAgICAgICAgc3JjRG9jPXtyYXdIdG1sfVxuICAgICAgICA+PC9pZnJhbWU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBoLCBGcmFnbWVudCwgQ29tcG9uZW50LCBjcmVhdGVSZWYsIFJlZk9iamVjdCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB0eXBlIHsgRnJhbWVEYXRhVHlwZSwgQXBwU3RhdGUsIEhlYWRsaW5lc0ludGVyZmFjZSB9IGZyb20gXCJ0eXBlc1wiO1xuXG5pbnRlcmZhY2UgSW5wdXRGaWVsZFByb3BzIHtcbiAgcmVmVGFyZ2V0OiBSZWZPYmplY3Q8SFRNTElucHV0RWxlbWVudD47XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGhhbmRsZUNoYW5nZTogKCkgPT4gdm9pZDtcbn1cbmZ1bmN0aW9uIElucHV0RmllbGQocHJvcHM6IElucHV0RmllbGRQcm9wcykge1xuICBjb25zdCB7IGxhYmVsLCB2YWx1ZSwgcmVmVGFyZ2V0LCBoYW5kbGVDaGFuZ2UgfSA9IHByb3BzO1xuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3M9XCJmMmhfX2luZm9fZm9ybV9faXRlbSBmMmhfX2luZm9fZm9ybV9faXRlbS0taGVhZGxpbmVcIj5cbiAgICAgIDxsYWJlbCBjbGFzcz1cImYyaF9faW5mb19mb3JtX19sYWJlbFwiPntsYWJlbH08L2xhYmVsPlxuICAgICAgPGlucHV0XG4gICAgICAgIGNsYXNzPVwiZjJoX19pbmZvX2Zvcm1fX2lucHV0IGYyaF9faW5mb19mb3JtX19pbnB1dC0taGVhZGxpbmVcIlxuICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgIHNwZWxsY2hlY2s9e3RydWV9XG4gICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgcmVmPXtyZWZUYXJnZXR9XG4gICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAvPlxuICAgIDwvcD5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIEZyYW1lU2VsZWN0aW9uUHJvcHNcbiAgZXh0ZW5kcyBQaWNrPEFwcFN0YXRlLCBcInNvdXJjZVwiIHwgXCJoZWFkbGluZVwiIHwgXCJzdWJoZWFkXCI+IHtcbiAgZnJhbWVzOiBGcmFtZURhdGFUeXBlW107XG4gIGhhbmRsZUNsaWNrOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdG9nZ2xlUmVzb25zaXZlOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdG9nZ2xlU2VsZWN0QWxsOiAoKSA9PiB2b2lkO1xuICB0b2dnbGVSZXNwb25zaXZlQWxsOiAoKSA9PiB2b2lkO1xuICBoYW5kbGVGb3JtVXBkYXRlOiAocHJvcHM6IEhlYWRsaW5lc0ludGVyZmFjZSkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIEZyYW1lU2VsZWN0aW9uIGV4dGVuZHMgQ29tcG9uZW50PEZyYW1lU2VsZWN0aW9uUHJvcHM+IHtcbiAgcHJpdmF0ZSBoZWFkbGluZUlucHV0OiBSZWZPYmplY3Q8SFRNTElucHV0RWxlbWVudD4gPSBjcmVhdGVSZWYoKTtcbiAgcHJpdmF0ZSBzdWJoZWFkSW5wdXQ6IFJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50PiA9IGNyZWF0ZVJlZigpO1xuICBwcml2YXRlIHNvdXJjZUlucHV0OiBSZWZPYmplY3Q8SFRNTElucHV0RWxlbWVudD4gPSBjcmVhdGVSZWYoKTtcblxuICBzZW5kRm9ybVZhbHVlcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGhhbmRsZUZvcm1VcGRhdGUgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaGVhZGxpbmUgPSB0aGlzLmhlYWRsaW5lSW5wdXQuY3VycmVudD8udmFsdWU7XG4gICAgY29uc3Qgc3ViaGVhZCA9IHRoaXMuc3ViaGVhZElucHV0LmN1cnJlbnQ/LnZhbHVlO1xuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlSW5wdXQuY3VycmVudD8udmFsdWU7XG5cbiAgICBoYW5kbGVGb3JtVXBkYXRlKHsgaGVhZGxpbmUsIHN1YmhlYWQsIHNvdXJjZSB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZnJhbWVzLFxuICAgICAgaGFuZGxlQ2xpY2ssXG4gICAgICB0b2dnbGVSZXNvbnNpdmUsXG4gICAgICB0b2dnbGVTZWxlY3RBbGwsXG4gICAgICB0b2dnbGVSZXNwb25zaXZlQWxsLFxuICAgICAgaGVhZGxpbmUsXG4gICAgICBzdWJoZWFkLFxuICAgICAgc291cmNlLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3Qgc2VsZWN0Q291bnQgPSBmcmFtZXMuZmlsdGVyKChmcmFtZSkgPT4gZnJhbWUuc2VsZWN0ZWQpLmxlbmd0aDtcbiAgICBjb25zdCBzb21lRnJhbWVzU2VsZWN0ZWQgPSBzZWxlY3RDb3VudCA+IDAgJiYgc2VsZWN0Q291bnQgPCBmcmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IGFsbFNlbGVjdGVkID0gc2VsZWN0Q291bnQgPT09IGZyYW1lcy5sZW5ndGg7XG5cbiAgICBjb25zdCByZXNwb25zZUNvdW50ID0gZnJhbWVzLmZpbHRlcigoZnJhbWUpID0+IGZyYW1lLnJlc3BvbnNpdmUpLmxlbmd0aDtcbiAgICBjb25zdCBzb21lUmVzcG9uc2l2ZVNlbGVjdGVkID1cbiAgICAgIHJlc3BvbnNlQ291bnQgPiAwICYmIHJlc3BvbnNlQ291bnQgPCBmcmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IGFsbFJlc3BvbnNpdmVTZWxlY3RlZCA9IHJlc3BvbnNlQ291bnQgPT09IGZyYW1lcy5sZW5ndGg7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzcz1cImYyaF9fY2hvb3NlX2ZyYW1lc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZjJoX19pbmZvX2Zvcm1cIj5cbiAgICAgICAgICA8SW5wdXRGaWVsZFxuICAgICAgICAgICAgcmVmVGFyZ2V0PXt0aGlzLmhlYWRsaW5lSW5wdXR9XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2U9e3RoaXMuc2VuZEZvcm1WYWx1ZXN9XG4gICAgICAgICAgICBsYWJlbD1cIkhlYWRsaW5lXCJcbiAgICAgICAgICAgIHZhbHVlPXtoZWFkbGluZX1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPElucHV0RmllbGRcbiAgICAgICAgICAgIHJlZlRhcmdldD17dGhpcy5zdWJoZWFkSW5wdXR9XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2U9e3RoaXMuc2VuZEZvcm1WYWx1ZXN9XG4gICAgICAgICAgICBsYWJlbD1cIlN1YmhlYWRcIlxuICAgICAgICAgICAgdmFsdWU9e3N1YmhlYWR9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxJbnB1dEZpZWxkXG4gICAgICAgICAgICByZWZUYXJnZXQ9e3RoaXMuc291cmNlSW5wdXR9XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2U9e3RoaXMuc2VuZEZvcm1WYWx1ZXN9XG4gICAgICAgICAgICBsYWJlbD1cIlNvdXJjZVwiXG4gICAgICAgICAgICB2YWx1ZT17c291cmNlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmMmhfX2ZyYW1lX3NlbGVjdGlvblwiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImYyaF9fc2VsX2hlYWRlciBmMmhfX3NlbF9oZWFkZXItLW5hbWVcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBuYW1lPVwic2VsZWN0QWxsXCJcbiAgICAgICAgICAgICAgaWQ9XCJzZWxlY3RBbGxcIlxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVTZWxlY3RBbGx9XG4gICAgICAgICAgICAgIGNoZWNrZWQ9e2FsbFNlbGVjdGVkfVxuICAgICAgICAgICAgICByZWY9eyhlbCkgPT4gZWwgJiYgKGVsLmluZGV0ZXJtaW5hdGUgPSBzb21lRnJhbWVzU2VsZWN0ZWQpfVxuICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICBGcmFtZXNcbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImYyaF9fc2VsX2hlYWRlciBmMmhfX3NlbF9oZWFkZXItLXJlc3BvbnNpdmVcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBpZD1cInJlc3BvbnNpdmVBbGxcIlxuICAgICAgICAgICAgICBuYW1lPVwicmVzcG9uc2l2ZUFsbFwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVJlc3BvbnNpdmVBbGx9XG4gICAgICAgICAgICAgIGNoZWNrZWQ9e2FsbFJlc3BvbnNpdmVTZWxlY3RlZH1cbiAgICAgICAgICAgICAgcmVmPXsoZWwpID0+IGVsICYmIChlbC5pbmRldGVybWluYXRlID0gc29tZVJlc3BvbnNpdmVTZWxlY3RlZCl9XG4gICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgIFJlc3BvbnNpdmVcbiAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAge2ZyYW1lcy5tYXAoKHsgbmFtZSwgaWQsIHdpZHRoLCBoZWlnaHQsIHNlbGVjdGVkLCByZXNwb25zaXZlIH0pID0+IChcbiAgICAgICAgICAgIDxGcmFnbWVudD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmMmhfX2xhYmVsIGYyaF9fbGFiZWwtLW5hbWVcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZjJoX19jaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17c2VsZWN0ZWR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDbGljayhpZCl9XG4gICAgICAgICAgICAgICAgICBpZD17bmFtZX1cbiAgICAgICAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmMmhfX2xhYmVsLS1uYW1lLXRleHRcIiBmb3I9e25hbWV9PlxuICAgICAgICAgICAgICAgICAge25hbWV9XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImYyaF9fc2VsX3dpZHRoXCI+XG4gICAgICAgICAgICAgICAgICB7d2lkdGh9IHgge2hlaWdodH1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzcz1cImYyaF9fY2hlY2tib3ggZjJoX19pbnB1dC0tcmVzcG9uc2l2ZVwiXG4gICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtyZXNwb25zaXZlfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVJlc29uc2l2ZShpZCl9XG4gICAgICAgICAgICAgICAgaWQ9e25hbWV9XG4gICAgICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IGgsIENvbXBvbmVudCwgY3JlYXRlUmVmIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgRlJBTUVfV0FSTklOR19TSVpFIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgRnJhbWVDb250YWluZXIgfSBmcm9tIFwiLi4vb3V0cHV0UmVuZGVyXCI7XG5pbXBvcnQgdHlwZSB7IEZyYW1lRGF0YVR5cGUgfSBmcm9tIFwidHlwZXNcIjtcblxudHlwZSBQcmV2aWV3UHJvcHMgPSB7XG4gIGZyYW1lOiBGcmFtZURhdGFUeXBlO1xuICB3aW5kb3dXaWR0aDogbnVtYmVyO1xuICB3aW5kb3dIZWlnaHQ6IG51bWJlcjtcbn07XG5cbnR5cGUgUHJldmlld1N0YXRlID0ge1xuICBuYXRpdmVTaXplOiBib29sZWFuO1xufTtcblxuZXhwb3J0IGNsYXNzIFByZXZpZXcgZXh0ZW5kcyBDb21wb25lbnQ8UHJldmlld1Byb3BzLCBQcmV2aWV3U3RhdGU+IHtcbiAgc3RhdGU6IFByZXZpZXdTdGF0ZSA9IHtcbiAgICBuYXRpdmVTaXplOiB0cnVlLFxuICB9O1xuXG4gIGlubmVyRWwgPSBjcmVhdGVSZWY8SFRNTERpdkVsZW1lbnQ+KCk7XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBzY2FsZSB9ID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBuYXRpdmVTaXplOiBzY2FsZSA+PSAxIH0pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKFxuICAgIF9wcmV2aW91c1Byb3BzOiBQcmV2aWV3UHJvcHMsXG4gICAgcHJldmlvdXNTdGF0ZTogUHJldmlld1N0YXRlXG4gICkge1xuICAgIGNvbnN0IHsgbmF0aXZlU2l6ZSB9ID0gcHJldmlvdXNTdGF0ZTtcbiAgICBjb25zdCB7IHNjYWxlIH0gPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgY29uc3QgaXNOYXRpdmVTaXplID0gc2NhbGUgPj0gMTtcblxuICAgIGlmIChuYXRpdmVTaXplICE9PSBpc05hdGl2ZVNpemUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBuYXRpdmVTaXplOiBpc05hdGl2ZVNpemUgfSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2NhbGUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB3aW5kb3dIZWlnaHQsIHdpbmRvd1dpZHRoLCBmcmFtZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGZyYW1lO1xuXG4gICAgLy8gRnJhbWVzIGNhbiBiZSBsYXJnZXIgdGhhbiBGaWdtYSdzIHBsdWdpbiBVSSB3aW5kb3cuXG4gICAgLy8gVG8gYWxsb3cgdGhlIHVzZXIgdG8gc2VlIHRoZSB3aG9sZSBmcmFtZSB3ZSBuZWVkIHRvIHNjYWxlIGl0IGRvd24gdG8gZml0XG4gICAgLy8gVE9ETzogR2V0IHJlYWwgVUkgaGVhZGVyIGhlaWdodD9cbiAgICBjb25zdCBXSU5ET1dfSEVBREVSX0hFSUdIVCA9IDE0MDtcbiAgICBjb25zdCBoZWlnaHRSYXRpbyA9ICh3aW5kb3dIZWlnaHQgLSBXSU5ET1dfSEVBREVSX0hFSUdIVCkgLyBoZWlnaHQ7XG5cbiAgICBjb25zdCBXSU5ET1dfU0lERV9NQVJHSU5TID0gMTIwO1xuICAgIGNvbnN0IHdpZHRoUmF0aW8gPSAod2luZG93V2lkdGggLSBXSU5ET1dfU0lERV9NQVJHSU5TKSAvIHdpZHRoO1xuXG4gICAgY29uc3Qgc21hbGxlc3RSYXRpbyA9IE1hdGgubWluKGhlaWdodFJhdGlvLCB3aWR0aFJhdGlvKTtcblxuICAgIGNvbnN0IHNjYWxlID0gc21hbGxlc3RSYXRpbyA8IDEgPyBzbWFsbGVzdFJhdGlvIDogMTtcbiAgICBjb25zdCBzY2FsZWRIZWlnaHQgPSBoZWlnaHQgKiBzY2FsZTtcbiAgICBjb25zdCBzY2FsZWRXaWR0aCA9IHdpZHRoICogc2NhbGU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2NhbGUsXG4gICAgICBzY2FsZWRIZWlnaHQsXG4gICAgICBzY2FsZWRXaWR0aCxcbiAgICB9O1xuICB9O1xuXG4gIHRvZ2dsZVpvb21lZCA9ICgpID0+IHtcbiAgICAvLyBSZXBvc2l0aW9uIGlubmVyIHNjcm9sbCB0byBlbnN1cmUgdHJhbnNmb3JtIG9mZnNldCBtYXRjaGVzIHRvcCBsZWZ0XG4gICAgY29uc3QgeyBjdXJyZW50OiBlbCB9ID0gdGhpcy5pbm5lckVsO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwuc2Nyb2xsTGVmdCA9IDA7XG4gICAgICBlbC5zY3JvbGxUb3AgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiTWlzc2luZyBwcmV2aWV3IGlubmVyIERPTSBlbGVtZW50XCIpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBuYXRpdmVTaXplOiAhdGhpcy5zdGF0ZS5uYXRpdmVTaXplIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGZyYW1lIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgc3ZnLCBzdmdPcHRpbWlzZWQsIHN2Z0NvbXByZXNzZWQgfSA9IGZyYW1lO1xuXG4gICAgY29uc3QgcmVuZGVyQ2hhckNvdW50ID1cbiAgICAgIChzdmdPcHRpbWlzZWQgPyBzdmdDb21wcmVzc2VkPy5sZW5ndGggOiBzdmc/Lmxlbmd0aCkgfHwgMDtcbiAgICBjb25zdCBmaWxlS2JTaXplID0gTWF0aC5jZWlsKHJlbmRlckNoYXJDb3VudCAvIDEwMDApO1xuICAgIGNvbnN0IGlzRmlsZUxhcmdlID0gZmlsZUtiU2l6ZSA+IEZSQU1FX1dBUk5JTkdfU0laRTtcblxuICAgIGNvbnN0IHsgbmF0aXZlU2l6ZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7IHNjYWxlLCBzY2FsZWRIZWlnaHQsIHNjYWxlZFdpZHRoIH0gPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgY29uc3QgcHJldmlld1dyYXBwZXJTdHlsZXMgPSAhbmF0aXZlU2l6ZVxuICAgICAgPyBgd2lkdGg6ICR7c2NhbGVkV2lkdGh9OyBoZWlnaHQ6ICR7c2NhbGVkSGVpZ2h0fTtgXG4gICAgICA6IFwiXCI7XG4gICAgbGV0IHNjYWxlV2FybmluZztcblxuICAgIGlmIChzY2FsZSA8IDEpIHtcbiAgICAgIHNjYWxlV2FybmluZyA9IChcbiAgICAgICAgPHAgY2xhc3M9XCJmMmhfX3NjYWxlX3dhcm5pbmcgZjJoX19ub3RpY2UtLXdhcm5pbmdcIj5cbiAgICAgICAgICA8c3Bhbj5ab29tZWQge25hdGl2ZVNpemUgPyBcIjEwMFwiIDogTWF0aC5yb3VuZChzY2FsZSAqIDEwMCl9JSAtIDwvc3Bhbj5cbiAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICBuYXRpdmUgc2l6ZXtcIiBcIn1cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBjaGVja2VkPXtuYXRpdmVTaXplfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZVpvb21lZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9wPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzcz1cImYyaF9fcHJldmlld1wiPlxuICAgICAgICB7aXNGaWxlTGFyZ2UgJiYgKFxuICAgICAgICAgIDxwIGNsYXNzPVwiZjJoX19zaXplX3dhcm5pbmcgZjJoX19ub3RpY2UtLXdhcm5pbmdcIj5cbiAgICAgICAgICAgIEZpbGUgc2l6ZSBpcyB2ZXJ5IGxhcmdlLCBjb25zaWRlciB1c2luZyBzbWFsbGVyIGltYWdlcyBhbmQgc2ltcGxpZXJcbiAgICAgICAgICAgIHNoYXBlc1xuICAgICAgICAgIDwvcD5cbiAgICAgICAgKX1cblxuICAgICAgICB7c2NhbGVXYXJuaW5nfVxuXG4gICAgICAgIHtzdmcgPyAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgcmVmPXt0aGlzLmlubmVyRWx9XG4gICAgICAgICAgICBjbGFzcz17YGYyaF9fcHJldmlld19pbm5lciAke1xuICAgICAgICAgICAgICAhbmF0aXZlU2l6ZSA/IFwiZjJoX19wcmV2aWV3X2lubmVyLS1zY2FsZWRcIiA6IFwiXCJcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgc3R5bGU9e3ByZXZpZXdXcmFwcGVyU3R5bGVzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxGcmFtZUNvbnRhaW5lciB7Li4uZnJhbWV9IHNjYWxlPXshbmF0aXZlU2l6ZSAmJiBzY2FsZX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8cCBjbGFzcz1cImYyaF9fcHJldmlld19sb2FkaW5nXCI+TG9hZGluZy4uLjwvcD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBoLCBDb21wb25lbnQsIGNyZWF0ZVJlZiB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHNhdmVBcyB9IGZyb20gXCJmaWxlLXNhdmVyXCI7XG5pbXBvcnQgeyBPVVRQVVRfRk9STUFUUyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IHJlbmRlcklubGluZSB9IGZyb20gXCIuLi9vdXRwdXRSZW5kZXJcIjtcbmltcG9ydCB0eXBlIHsgRnJhbWVEYXRhVHlwZSwgQXBwU3RhdGUgfSBmcm9tIFwidHlwZXNcIjtcblxuaW50ZXJmYWNlIFNhdmVQcm9wcyBleHRlbmRzIFBpY2s8QXBwU3RhdGUsIFwic291cmNlXCIgfCBcImhlYWRsaW5lXCIgfCBcInN1YmhlYWRcIj4ge1xuICBmcmFtZXM6IEZyYW1lRGF0YVR5cGVbXTtcbn1cblxuaW50ZXJmYWNlIFNhdmVTdGF0ZSB7XG4gIGFkdmFuY2VkT3BlbjogYm9vbGVhbjtcbiAgc2hvd1RvYXN0OiBib29sZWFuO1xuICBvdXRwdXRGb3JtYXQ6IE9VVFBVVF9GT1JNQVRTO1xufVxuXG5leHBvcnQgY2xhc3MgU2F2ZSBleHRlbmRzIENvbXBvbmVudDxTYXZlUHJvcHMsIFNhdmVTdGF0ZT4ge1xuICBzdGF0ZTogU2F2ZVN0YXRlID0ge1xuICAgIGFkdmFuY2VkT3BlbjogZmFsc2UsXG4gICAgc2hvd1RvYXN0OiBmYWxzZSxcbiAgICBvdXRwdXRGb3JtYXQ6IE9VVFBVVF9GT1JNQVRTLklOTElORSxcbiAgfTtcblxuICBwcml2YXRlIHRleHRBcmVhRWwgPSBjcmVhdGVSZWY8SFRNTFRleHRBcmVhRWxlbWVudD4oKTtcblxuICB0b2dnbGVBZHZhbmNlZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGFkdmFuY2VkT3BlbjogIXRoaXMuc3RhdGUuYWR2YW5jZWRPcGVuLFxuICAgIH0pO1xuICB9O1xuXG4gIHNhdmVUb0NsaXBib2FyZCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGN1cnJlbnQ6IGVsIH0gPSB0aGlzLnRleHRBcmVhRWw7XG5cbiAgICBpZiAoIWVsKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiTWlzc2luZyB0ZXh0YXJlYSBlbGVtZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNlbGVjdCB0ZXh0IGFuZCBjb3B5IHRvIGNsaXBib2FyZFxuICAgIGVsLnNlbGVjdCgpO1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcblxuICAgIC8vIE9ubHkgc2hvdyB0b2FzdCBpZiBpdCBpc24ndCBhbHJlYWR5IGFjdGl2ZVxuICAgIGNvbnN0IHsgc2hvd1RvYXN0IH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmIChzaG93VG9hc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd1RvYXN0OiB0cnVlIH0pO1xuXG4gICAgLy8gQ2xlYXIgdG9hc3QgYWZ0ZXIgYSBmZXcgc2Vjb25kc1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHNob3dUb2FzdDogZmFsc2UgfSksIDIwMDApO1xuICB9O1xuXG4gIHNhdmVFbWJlZFRvQ2xpcGJvYXJkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICB7IG91dHB1dEZvcm1hdDogT1VUUFVUX0ZPUk1BVFMuSU5MSU5FIH0sXG4gICAgICB0aGlzLnNhdmVUb0NsaXBib2FyZFxuICAgICk7XG4gIH07XG5cbiAgc2F2ZUJpbmFyeUZpbGUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBmcmFtZXMsIGhlYWRsaW5lLCBzdWJoZWFkLCBzb3VyY2UgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qgb3V0cHV0RnJhbWVzID0gT2JqZWN0LnZhbHVlcyhmcmFtZXMpLmZpbHRlcigoZikgPT4gZi5zZWxlY3RlZCk7XG5cbiAgICBjb25zdCBmaWxlbmFtZSA9IFwiZmlnbWEtdG8taHRtbC10ZXN0Lmh0bWxcIjtcbiAgICBjb25zdCByYXcgPSByZW5kZXJJbmxpbmUoe1xuICAgICAgZnJhbWVzOiBvdXRwdXRGcmFtZXMsXG4gICAgICBpZnJhbWU6IE9VVFBVVF9GT1JNQVRTLklGUkFNRSxcbiAgICAgIGhlYWRsaW5lLFxuICAgICAgc3ViaGVhZCxcbiAgICAgIHNvdXJjZSxcbiAgICB9KTtcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3Jhd10sIHsgdHlwZTogXCJ0ZXh0L2h0bWxcIiB9KTtcblxuICAgIHNhdmVBcyhibG9iLCBmaWxlbmFtZSk7XG4gIH07XG5cbiAgaGFuZGxlRm9ybWF0Q2hhbmdlID0gKGZvcm1hdDogT1VUUFVUX0ZPUk1BVFMpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG91dHB1dEZvcm1hdDogZm9ybWF0LFxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGZyYW1lcywgaGVhZGxpbmUsIHN1YmhlYWQsIHNvdXJjZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGFkdmFuY2VkT3Blbiwgc2hvd1RvYXN0LCBvdXRwdXRGb3JtYXQgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgcmF3SHRtbCA9IHJlbmRlcklubGluZSh7XG4gICAgICBmcmFtZXMsXG4gICAgICBpZnJhbWU6IG91dHB1dEZvcm1hdCxcbiAgICAgIGhlYWRsaW5lLFxuICAgICAgc3ViaGVhZCxcbiAgICAgIHNvdXJjZSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGFkdmFuY2VkQnRuVGV4dCA9IGAke2FkdmFuY2VkT3BlbiA/IFwiaGlkZVwiIDogXCJzaG93XCJ9YDtcbiAgICBsZXQgYWR2YW5jZWRDbGFzc05hbWUgPSBcImYyaF9fc2F2ZV9hZHZhbmNlZFwiO1xuICAgIGlmIChhZHZhbmNlZE9wZW4pIHtcbiAgICAgIGFkdmFuY2VkQ2xhc3NOYW1lICs9IFwiZjJoX19zYXZlX2FkdmFuY2VkLS1vcGVuXCI7XG4gICAgfVxuXG4gICAgbGV0IHRvYXN0Q2xhc3NOYW1lID0gXCJmMmhfX3RvYXN0XCI7XG4gICAgaWYgKHNob3dUb2FzdCkge1xuICAgICAgdG9hc3RDbGFzc05hbWUgKz0gXCJmMmhfX3RvYXN0LS1vcGVuXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3M9XCJmMmhfX3NhdmVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImYyaF9fc2F2ZV9vcHRpb25zXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImYyaF9fc2F2ZV9idG5cIiBvbkNsaWNrPXt0aGlzLnNhdmVFbWJlZFRvQ2xpcGJvYXJkfT5cbiAgICAgICAgICAgIENvcHkgZW1iZWQgdG8gY2xpcGJvYXJkXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImYyaF9fc2F2ZV9idG5cIiBvbkNsaWNrPXt0aGlzLnNhdmVCaW5hcnlGaWxlfT5cbiAgICAgICAgICAgIERvd25sb2FkIGlmcmFtZSBIVE1MIGZpbGVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGgyIGNsYXNzPVwiZjJoX19zYXZlX19zdWJoZWFkIGYyaF9fc2F2ZV9hZHZhbmNlZC1oZWFkZXJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImYyaF9fc2F2ZV9hZHZhbmNlZF90aXRsZVwiPkFkdmFuY2VkIHNldHRpbmdzPC9zcGFuPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJmMmhfX3NhdmVfYWR2YW5jZWRfc2hvd1wiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlQWR2YW5jZWR9PlxuICAgICAgICAgICAge2FkdmFuY2VkQnRuVGV4dH1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9oMj5cblxuICAgICAgICA8ZGl2IGNsYXNzPXthZHZhbmNlZENsYXNzTmFtZX0+XG4gICAgICAgICAgPGgyIGNsYXNzPVwiZjJoX19zYXZlX19zdWJoZWFkXCI+Rm9ybWF0PC9oMj5cblxuICAgICAgICAgIDxsYWJlbCBmb3I9XCJmMmhfX2lucHV0X2lubGluZVwiIGNsYXNzPVwiZjJoX19sYWJlbFwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGNsYXNzPVwiZjJoX19yYWRpb19idG5cIlxuICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICBuYW1lPVwiaW5saW5lXCJcbiAgICAgICAgICAgICAgaWQ9XCJmMmhfX2lucHV0X2lubGluZVwiXG4gICAgICAgICAgICAgIHZhbHVlPXtPVVRQVVRfRk9STUFUUy5JTkxJTkV9XG4gICAgICAgICAgICAgIGNoZWNrZWQ9e291dHB1dEZvcm1hdCA9PT0gT1VUUFVUX0ZPUk1BVFMuSU5MSU5FfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUZvcm1hdENoYW5nZShPVVRQVVRfRk9STUFUUy5JTkxJTkUpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIElubGluZSAoZGVmYXVsdClcbiAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgPGxhYmVsIGZvcj1cImYyaF9faW5wdXRfaWZyYW1lXCIgY2xhc3M9XCJmMmhfX2xhYmVsXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgY2xhc3M9XCJmMmhfX3JhZGlvX2J0blwiXG4gICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgIG5hbWU9XCJpZnJhbWVcIlxuICAgICAgICAgICAgICBpZD1cImYyaF9faW5wdXRfaWZyYW1lXCJcbiAgICAgICAgICAgICAgdmFsdWU9e09VVFBVVF9GT1JNQVRTLklGUkFNRX1cbiAgICAgICAgICAgICAgY2hlY2tlZD17b3V0cHV0Rm9ybWF0ID09PSBPVVRQVVRfRk9STUFUUy5JRlJBTUV9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlRm9ybWF0Q2hhbmdlKE9VVFBVVF9GT1JNQVRTLklGUkFNRSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgaUZyYW1lXG4gICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgIDxoMiBjbGFzcz1cImYyaF9fc2F2ZV9fc3ViaGVhZFwiPlJhdyBIVE1MPC9oMj5cbiAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIHJlZj17dGhpcy50ZXh0QXJlYUVsfVxuICAgICAgICAgICAgY2xhc3M9XCJmMmhfX3NhdmVfX3Jhd1wiXG4gICAgICAgICAgICB2YWx1ZT17cmF3SHRtbH1cbiAgICAgICAgICA+PC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz17dG9hc3RDbGFzc05hbWV9PkNvcGllZCB0byBjbGlwYm9hcmQ8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gZGVjb2RlU3ZnVG9TdHJpbmcoc3ZnOiBVaW50OEFycmF5KSB7XG4gIGxldCBzdmdTdHIgPSBuZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiKS5kZWNvZGUoc3ZnKTtcbiAgLy8gTk9URTogRmlnbWEgZ2VuZXJhdGVzIG5vbi11bmlxdWUgSURzIGZvciBtYXNrcyB3aGljaCBjYW4gY2xhc2ggd2hlblxuICAvLyBlbWJlZGRpbmcgbXVsdGlwbGUgU1ZHU3MuIFdlIGRvIGEgc3RyaW5nIHJlcGxhY2UgZm9yIHVuaXF1ZSBJRHNcbiAgY29uc3QgcmVnZXggPSAvaWQ9XCIoLis/KVwiL2c7XG4gIGNvbnN0IGlkczogc3RyaW5nW10gPSBbXTtcbiAgbGV0IG1hdGNoZXM7XG5cbiAgd2hpbGUgKChtYXRjaGVzID0gcmVnZXguZXhlYyhzdmdTdHIpKSkge1xuICAgIGNvbnN0IFssIGlkXSA9IG1hdGNoZXM7XG4gICAgaWRzLnB1c2goaWQpO1xuICB9XG5cbiAgaWRzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgY29uc3Qgcm5kID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzMikuc3Vic3RyKDIpO1xuICAgIGNvbnN0IHJhbmRvbUlkID0gYCR7aWR9LSR7cm5kfWA7XG4gICAgLy8gUmVwbGFjZSBJRFxuICAgIHN2Z1N0ciA9IHN2Z1N0ci5yZXBsYWNlKGBpZD1cIiR7aWR9XCJgLCBgaWQ9XCIke3JhbmRvbUlkfVwiYCk7XG4gICAgLy8gUmVwbGFjZSBhbmNob3IgcmVmc1xuICAgIHN2Z1N0ciA9IHN2Z1N0ci5yZXBsYWNlKGAjJHtpZH1gLCBgIyR7cmFuZG9tSWR9YCk7XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZSBIVFRQIGxpbmtzIHRvIEhUVFBTXG4gIHN2Z1N0ciA9IHN2Z1N0ci5yZXBsYWNlKC9odHRwOlxcL1xcLy9nLCBcImh0dHBzOi8vXCIpO1xuXG4gIHJldHVybiBzdmdTdHI7XG59XG4iLCAiaW1wb3J0IENvbXByZXNzb3IgZnJvbSBcImNvbXByZXNzb3Jqc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tcHJlc3NJbWFnZShcbiAgaW1hZ2U6IFVpbnQ4QXJyYXksXG4gIHdpZHRoOiBudW1iZXIsXG4gIGhlaWdodDogbnVtYmVyXG4pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAvLyBDcmVhdGUgaW1hZ2UgZnJvbSBibG9iIHRvIGFjY2VzcyBuYXRpdmUgaW1hZ2Ugc2l6ZXMgdGhlIHJlc2l6ZSBhbmRcbiAgICAvLyBjb21wcmVzc1xuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbaW1hZ2VdLCB7IHR5cGU6IFwiaW1hZ2UvcG5nXCIgfSk7XG4gICAgY29uc3QgaW1nVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcuc3JjID0gaW1nVXJsO1xuICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICBsZXQgdGFyZ2V0V2lkdGggPSAwO1xuICAgICAgbGV0IHRhcmdldEhlaWdodCA9IDA7XG5cbiAgICAgIC8vIERvbid0IHNjYWxlIGltYWdlIHVwIGlmIG5vZGUgaXMgbGFyZ2VyIHRoYW4gaW1hZ2VcbiAgICAgIGlmICh3aWR0aCA+IGltZy53aWR0aCB8fCBoZWlnaHQgPiBpbWcuaGVpZ2h0KSB7XG4gICAgICAgIHRhcmdldFdpZHRoID0gaW1nLndpZHRoO1xuICAgICAgICB0YXJnZXRIZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2NhbGUgdG8gbGFyZ2VzdCBkaW1lbnNpb25cbiAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSBpbWcud2lkdGggLyBpbWcuaGVpZ2h0O1xuICAgICAgICB0YXJnZXRXaWR0aCA9IGFzcGVjdFJhdGlvID49IDEgPyBoZWlnaHQgKiBhc3BlY3RSYXRpbyA6IHdpZHRoO1xuICAgICAgICB0YXJnZXRIZWlnaHQgPSBhc3BlY3RSYXRpbyA+PSAxID8gaGVpZ2h0IDogd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgIH1cblxuICAgICAgbmV3IENvbXByZXNzb3IoYmxvYiwge1xuICAgICAgICB3aWR0aDogdGFyZ2V0V2lkdGgsXG4gICAgICAgIGhlaWdodDogdGFyZ2V0SGVpZ2h0LFxuICAgICAgICBxdWFsaXR5OiAwLjcsXG4gICAgICAgIGNvbnZlcnRTaXplOiAxMDAwMDAsXG4gICAgICAgIHN1Y2Nlc3M6IGFzeW5jIChuZXdJbWFnZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGJ1ZiA9IGF3YWl0IG5ld0ltYWdlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG4gICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW1hZ2UgY29tcHJlc3Npb24gZmFpbGVkXCIpO1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGNvbXByZXNzZWQgaW1hZ2VcIik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgTVNHX0VWRU5UUyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKHR5cGU6IE1TR19FVkVOVFMsIGRhdGE/OiB7IFtpZDogc3RyaW5nXTogYW55IH0pIHtcbiAgY29uc29sZS5sb2coXCJwb3N0IG1lc3NhZ2VcIiwgcGFyZW50LnBvc3RNZXNzYWdlLCB0eXBlLCBkYXRhKTtcbiAgcGFyZW50LnBvc3RNZXNzYWdlKFxuICAgIHtcbiAgICAgIHBsdWdpbk1lc3NhZ2U6IHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBcIipcIlxuICApO1xufVxuIiwgIi8vIEB0cy1ub2NoZWNrXG4vLyBUT0RPOiBBZGQgdHlwZVxuXG4vKipcbiAqIEVuY29kZSBwbGFpbiBTVkcgZGF0YSBzdHJpbmcgaW50byBEYXRhIFVSSSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBpbnB1dCBzdHJpbmdcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIERhdGEgVVJJIHR5cGVcbiAqIEByZXR1cm4ge1N0cmluZ30gb3V0cHV0IHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QgZW5jb2RlU1ZHRGF0YXVyaSA9IGZ1bmN0aW9uIChzdHIsIHR5cGUpIHtcbiAgdmFyIHByZWZpeCA9IFwiZGF0YTppbWFnZS9zdmcreG1sXCI7XG4gIGlmICghdHlwZSB8fCB0eXBlID09PSBcImJhc2U2NFwiKSB7XG4gICAgLy8gYmFzZTY0XG4gICAgcHJlZml4ICs9IFwiO2Jhc2U2NCxcIjtcbiAgICBpZiAoQnVmZmVyLmZyb20pIHtcbiAgICAgIHN0ciA9IHByZWZpeCArIEJ1ZmZlci5mcm9tKHN0cikudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IHByZWZpeCArIG5ldyBCdWZmZXIoc3RyKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJlbmNcIikge1xuICAgIC8vIFVSSSBlbmNvZGVkXG4gICAgc3RyID0gcHJlZml4ICsgXCIsXCIgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcInVuZW5jXCIpIHtcbiAgICAvLyB1bmVuY29kZWRcbiAgICBzdHIgPSBwcmVmaXggKyBcIixcIiArIHN0cjtcbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuLyoqXG4gKiBEZWNvZGUgU1ZHIERhdGEgVVJJIHN0cmluZyBpbnRvIHBsYWluIFNWRyBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBpbnB1dCBzdHJpbmdcbiAqIEByZXR1cm4ge1N0cmluZ30gb3V0cHV0IHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QgZGVjb2RlU1ZHRGF0YXVyaSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgdmFyIHJlZ2V4cCA9IC9kYXRhOmltYWdlXFwvc3ZnXFwreG1sKDtjaGFyc2V0PVteOyxdKik/KDtiYXNlNjQpPywoLiopLztcbiAgdmFyIG1hdGNoID0gcmVnZXhwLmV4ZWMoc3RyKTtcblxuICAvLyBwbGFpbiBzdHJpbmdcbiAgaWYgKCFtYXRjaCkgcmV0dXJuIHN0cjtcblxuICB2YXIgZGF0YSA9IG1hdGNoWzNdO1xuXG4gIGlmIChtYXRjaFsyXSkge1xuICAgIC8vIGJhc2U2NFxuICAgIHN0ciA9IG5ldyBCdWZmZXIoZGF0YSwgXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGY4XCIpO1xuICB9IGVsc2UgaWYgKGRhdGEuY2hhckF0KDApID09PSBcIiVcIikge1xuICAgIC8vIFVSSSBlbmNvZGVkXG4gICAgc3RyID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEpO1xuICB9IGVsc2UgaWYgKGRhdGEuY2hhckF0KDApID09PSBcIjxcIikge1xuICAgIC8vIHVuZW5jb2RlZFxuICAgIHN0ciA9IGRhdGE7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cbmV4cG9ydCBjb25zdCBpbnRlcnNlY3RBcnJheXMgPSBmdW5jdGlvbiAoYSwgYikge1xuICByZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gYi5pbmRleE9mKG4pID4gLTE7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgcm93IG9mIG51bWJlcnMgdG8gYW4gb3B0aW1pemVkIHN0cmluZyB2aWV3LlxuICpcbiAqIEBleGFtcGxlXG4gKiBbMCwgLTEsIC41LCAuNV0gXHUyMTkyIFwiMC0xIC41LjVcIlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyW119IGRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXNcbiAqIEBwYXJhbSB7c3RyaW5nP30gY29tbWFuZCBwYXRoIGRhdGEgaW5zdHJ1Y3Rpb25cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWFudXBPdXREYXRhID0gZnVuY3Rpb24gKGRhdGEsIHBhcmFtcywgY29tbWFuZCkge1xuICB2YXIgc3RyID0gXCJcIixcbiAgICBkZWxpbWl0ZXIsXG4gICAgcHJldjtcblxuICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAvLyBzcGFjZSBkZWxpbWl0ZXIgYnkgZGVmYXVsdFxuICAgIGRlbGltaXRlciA9IFwiIFwiO1xuXG4gICAgLy8gbm8gZXh0cmEgc3BhY2UgaW4gZnJvbnQgb2YgZmlyc3QgbnVtYmVyXG4gICAgaWYgKGkgPT0gMCkgZGVsaW1pdGVyID0gXCJcIjtcblxuICAgIC8vIG5vIGV4dHJhIHNwYWNlIGFmdGVyICdhcmN0bycgY29tbWFuZCBmbGFnc1xuICAgIGlmIChwYXJhbXMubm9TcGFjZUFmdGVyRmxhZ3MgJiYgKGNvbW1hbmQgPT0gXCJBXCIgfHwgY29tbWFuZCA9PSBcImFcIikpIHtcbiAgICAgIHZhciBwb3MgPSBpICUgNztcbiAgICAgIGlmIChwb3MgPT0gNCB8fCBwb3MgPT0gNSkgZGVsaW1pdGVyID0gXCJcIjtcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgZmxvYXRpbmctcG9pbnQgbnVtYmVycyBsZWFkaW5nIHplcm9zXG4gICAgLy8gMC41IFx1MjE5MiAuNVxuICAgIC8vIC0wLjUgXHUyMTkyIC0uNVxuICAgIGlmIChwYXJhbXMubGVhZGluZ1plcm8pIHtcbiAgICAgIGl0ZW0gPSByZW1vdmVMZWFkaW5nWmVybyhpdGVtKTtcbiAgICB9XG5cbiAgICAvLyBubyBleHRyYSBzcGFjZSBpbiBmcm9udCBvZiBuZWdhdGl2ZSBudW1iZXIgb3JcbiAgICAvLyBpbiBmcm9udCBvZiBhIGZsb2F0aW5nIG51bWJlciBpZiBhIHByZXZpb3VzIG51bWJlciBpcyBmbG9hdGluZyB0b29cbiAgICBpZiAoXG4gICAgICBwYXJhbXMubmVnYXRpdmVFeHRyYVNwYWNlICYmXG4gICAgICBkZWxpbWl0ZXIgIT0gXCJcIiAmJlxuICAgICAgKGl0ZW0gPCAwIHx8IChTdHJpbmcoaXRlbSkuY2hhckNvZGVBdCgwKSA9PSA0NiAmJiBwcmV2ICUgMSAhPT0gMCkpXG4gICAgKSB7XG4gICAgICBkZWxpbWl0ZXIgPSBcIlwiO1xuICAgIH1cbiAgICAvLyBzYXZlIHByZXYgaXRlbSB2YWx1ZVxuICAgIHByZXYgPSBpdGVtO1xuICAgIHN0ciArPSBkZWxpbWl0ZXIgKyBpdGVtO1xuICB9KTtcbiAgcmV0dXJuIHN0cjtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGZsb2F0aW5nLXBvaW50IG51bWJlcnMgbGVhZGluZyB6ZXJvLlxuICpcbiAqIEBleGFtcGxlXG4gKiAwLjUgXHUyMTkyIC41XG4gKlxuICogQGV4YW1wbGVcbiAqIC0wLjUgXHUyMTkyIC0uNVxuICpcbiAqIEBwYXJhbSB7RmxvYXR9IG51bSBpbnB1dCBudW1iZXJcbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IG91dHB1dCBudW1iZXIgYXMgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVMZWFkaW5nWmVybyA9IGZ1bmN0aW9uIChudW0pIHtcbiAgdmFyIHN0ck51bSA9IG51bS50b1N0cmluZygpO1xuXG4gIGlmICgwIDwgbnVtICYmIG51bSA8IDEgJiYgc3RyTnVtLmNoYXJDb2RlQXQoMCkgPT0gNDgpIHtcbiAgICBzdHJOdW0gPSBzdHJOdW0uc2xpY2UoMSk7XG4gIH0gZWxzZSBpZiAoLTEgPCBudW0gJiYgbnVtIDwgMCAmJiBzdHJOdW0uY2hhckNvZGVBdCgxKSA9PSA0OCkge1xuICAgIHN0ck51bSA9IHN0ck51bS5jaGFyQXQoMCkgKyBzdHJOdW0uc2xpY2UoMik7XG4gIH1cbiAgcmV0dXJuIHN0ck51bTtcbn07XG5cbi8qKlxuICogU3luY2hyb25vdXNseSBjaGVjayBpZiBwYXRoIGlzIGEgZGlyZWN0b3J5LiBUb2xlcmFudCB0byBlcnJvcnMgbGlrZSBFTk9FTlQuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICovXG5leHBvcnQgY29uc3QgY2hlY2tJc0RpciA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEZTLmxzdGF0U3luYyhwYXRoKS5pc0RpcmVjdG9yeSgpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuIiwgIi8vIEB0cy1ub2NoZWNrXG4vLyBUT0RPOiBBZGQgdHlwZXNcblxuaW1wb3J0IHsgY2xlYW51cE91dERhdGEgfSBmcm9tIFwiLi90b29sc1wiO1xuXG5jb25zdCByTnVtYmVyID0gU3RyaW5nLnJhd2BbLStdPyg/OlxcZCpcXC5cXGQrfFxcZCtcXC4/KSg/OltlRV1bLStdP1xcZCspP1xccypgO1xuY29uc3QgckNvbW1hV3NwID0gU3RyaW5nLnJhd2AoPzpcXHMsP1xccyp8LFxccyopYDtcbmNvbnN0IHJOdW1iZXJDb21tYVdzcCA9IGAoJHtyTnVtYmVyfSlgICsgckNvbW1hV3NwO1xuY29uc3QgckZsYWdDb21tYVdzcCA9IGAoWzAxXSkke3JDb21tYVdzcH0/YDtcbmNvbnN0IHJDb29yZGluYXRlUGFpciA9IFN0cmluZy5yYXdgKCR7ck51bWJlcn0pJHtyQ29tbWFXc3B9Pygke3JOdW1iZXJ9KWA7XG5jb25zdCByQXJjU2VxID1cbiAgKHJOdW1iZXJDb21tYVdzcCArIFwiP1wiKS5yZXBlYXQoMikgK1xuICByTnVtYmVyQ29tbWFXc3AgK1xuICByRmxhZ0NvbW1hV3NwLnJlcGVhdCgyKSArXG4gIHJDb29yZGluYXRlUGFpcjtcblxuY29uc3QgcmVnUGF0aEluc3RydWN0aW9ucyA9IC8oW01tTGxIaFZ2Q2NTc1FxVHRBYVp6XSlcXHMqLztcbmNvbnN0IHJlZ0Nvb3JkaW5hdGVTZXF1ZW5jZSA9IG5ldyBSZWdFeHAock51bWJlciwgXCJnXCIpO1xuY29uc3QgcmVnQXJjQXJndW1lbnRTZXF1ZW5jZSA9IG5ldyBSZWdFeHAockFyY1NlcSwgXCJnXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gcGF0aDJqcyhwYXRoOiBTVkdQYXRoRWxlbWVudCkge1xuICBjb25zdCBwYXJhbXNMZW5ndGggPSB7XG4gICAgLy8gTnVtYmVyIG9mIHBhcmFtZXRlcnMgb2YgZXZlcnkgcGF0aCBjb21tYW5kXG4gICAgSDogMSxcbiAgICBWOiAxLFxuICAgIE06IDIsXG4gICAgTDogMixcbiAgICBUOiAyLFxuICAgIFE6IDQsXG4gICAgUzogNCxcbiAgICBDOiA2LFxuICAgIEE6IDcsXG4gICAgaDogMSxcbiAgICB2OiAxLFxuICAgIG06IDIsXG4gICAgbDogMixcbiAgICB0OiAyLFxuICAgIHE6IDQsXG4gICAgczogNCxcbiAgICBjOiA2LFxuICAgIGE6IDcsXG4gIH07XG4gIGxldCBwYXRoRGF0YSA9IFtdOyAvLyBKUyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGF0aCBkYXRhXG4gIGxldCBpbnN0cnVjdGlvbjsgLy8gY3VycmVudCBpbnN0cnVjdGlvbiBjb250ZXh0XG4gIGxldCBzdGFydE1vdmV0byA9IGZhbHNlO1xuXG4gIC8vIHNwbGl0dGluZyBwYXRoIHN0cmluZyBpbnRvIGFycmF5IGxpa2UgWydNJywgJzEwIDUwJywgJ0wnLCAnMjAgMzAnXVxuICBwYXRoXG4gICAgLmdldEF0dHJpYnV0ZShcImRcIilcbiAgICA/LnNwbGl0KHJlZ1BhdGhJbnN0cnVjdGlvbnMpXG4gICAgLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKCFzdGFydE1vdmV0bykge1xuICAgICAgICBpZiAoZGF0YSA9PSBcIk1cIiB8fCBkYXRhID09IFwibVwiKSB7XG4gICAgICAgICAgc3RhcnRNb3ZldG8gPSB0cnVlO1xuICAgICAgICB9IGVsc2UgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBpbnN0cnVjdGlvbiBpdGVtXG4gICAgICBpZiAocmVnUGF0aEluc3RydWN0aW9ucy50ZXN0KGRhdGEpKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gZGF0YTtcblxuICAgICAgICAvLyB6IC0gaW5zdHJ1Y3Rpb24gdy9vIGRhdGFcbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09IFwiWlwiIHx8IGluc3RydWN0aW9uID09IFwielwiKSB7XG4gICAgICAgICAgcGF0aERhdGEucHVzaCh7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbjogXCJ6XCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGF0YSBpdGVtXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBqc2hpbnQgYm9zczogdHJ1ZSAqL1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJBXCIgfHwgaW5zdHJ1Y3Rpb24gPT0gXCJhXCIpIHtcbiAgICAgICAgICB2YXIgbmV3RGF0YSA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGFyZ3M7IChhcmdzID0gcmVnQXJjQXJndW1lbnRTZXF1ZW5jZS5leGVjKGRhdGEpKTsgKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgbmV3RGF0YS5wdXNoKGFyZ3NbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBkYXRhID0gbmV3RGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRhID0gZGF0YS5tYXRjaChyZWdDb29yZGluYXRlU2VxdWVuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuXG4gICAgICAgIGRhdGEgPSBkYXRhLm1hcChOdW1iZXIpO1xuICAgICAgICAvLyBTdWJzZXF1ZW50IG1vdmV0byBwYWlycyBvZiBjb29yZGluYXRlcyBhcmUgdGhyZWF0ZWQgYXMgaW1wbGljaXQgbGluZXRvIGNvbW1hbmRzXG4gICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9wYXRocy5odG1sI1BhdGhEYXRhTW92ZXRvQ29tbWFuZHNcbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09IFwiTVwiIHx8IGluc3RydWN0aW9uID09IFwibVwiKSB7XG4gICAgICAgICAgcGF0aERhdGEucHVzaCh7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbjogcGF0aERhdGEubGVuZ3RoID09IDAgPyBcIk1cIiA6IGluc3RydWN0aW9uLFxuICAgICAgICAgICAgZGF0YTogZGF0YS5zcGxpY2UoMCwgMiksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbiA9PSBcIk1cIiA/IFwiTFwiIDogXCJsXCI7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBwYWlyID0gcGFyYW1zTGVuZ3RoW2luc3RydWN0aW9uXTsgZGF0YS5sZW5ndGg7ICkge1xuICAgICAgICAgIHBhdGhEYXRhLnB1c2goe1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IGluc3RydWN0aW9uLFxuICAgICAgICAgICAgZGF0YTogZGF0YS5zcGxpY2UoMCwgcGFpciksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBGaXJzdCBtb3ZldG8gaXMgYWN0dWFsbHkgYWJzb2x1dGUuIFN1YnNlcXVlbnQgY29vcmRpbmF0ZXMgd2VyZSBzZXBhcmF0ZWQgYWJvdmUuXG4gIGlmIChwYXRoRGF0YS5sZW5ndGggJiYgcGF0aERhdGFbMF0uaW5zdHJ1Y3Rpb24gPT0gXCJtXCIpIHtcbiAgICBwYXRoRGF0YVswXS5pbnN0cnVjdGlvbiA9IFwiTVwiO1xuICB9XG5cbiAgcmV0dXJuIHBhdGhEYXRhO1xufVxuXG4vKipcbiAqIENvbnZlcnQgcGF0aCBhcnJheSB0byBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBpbnB1dCBwYXRoIGRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgcGx1Z2luIHBhcmFtc1xuICogQHJldHVybiB7U3RyaW5nfSBvdXRwdXQgcGF0aCBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGpzMnBhdGggPSBmdW5jdGlvbiAocGF0aDogU1ZHUGF0aEVsZW1lbnQsIGRhdGEsIHBhcmFtcykge1xuICBpZiAocGFyYW1zLmNvbGxhcHNlUmVwZWF0ZWQpIHtcbiAgICBkYXRhID0gY29sbGFwc2VSZXBlYXRlZChkYXRhKTtcbiAgfVxuXG4gIHBhdGguc2V0QXR0cmlidXRlKFxuICAgIFwiZFwiLFxuICAgIGRhdGEucmVkdWNlKGZ1bmN0aW9uIChwYXRoU3RyaW5nLCBpdGVtKSB7XG4gICAgICB2YXIgc3RyRGF0YSA9IFwiXCI7XG4gICAgICBpZiAoaXRlbS5kYXRhKSB7XG4gICAgICAgIHN0ckRhdGEgPSBjbGVhbnVwT3V0RGF0YShpdGVtLmRhdGEsIHBhcmFtcywgaXRlbS5pbnN0cnVjdGlvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHBhdGhTdHJpbmcgKz0gaXRlbS5pbnN0cnVjdGlvbiArIHN0ckRhdGEpO1xuICAgIH0sIFwiXCIpXG4gICk7XG59O1xuXG4vKipcbiAqIENvbGxhcHNlIHJlcGVhdGVkIGluc3RydWN0aW9ucyBkYXRhXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBpbnB1dCBwYXRoIGRhdGFcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRwdXQgcGF0aCBkYXRhXG4gKi9cbmZ1bmN0aW9uIGNvbGxhcHNlUmVwZWF0ZWQoZGF0YSkge1xuICB2YXIgcHJldiwgcHJldkluZGV4O1xuXG4gIC8vIGNvcHkgYW4gYXJyYXkgYW5kIG1vZGlmaWVkcyBpdGVtIHRvIGtlZXAgb3JpZ2luYWwgZGF0YSB1bnRvdWNoZWRcbiAgZGF0YSA9IGRhdGEucmVkdWNlKGZ1bmN0aW9uIChuZXdQYXRoLCBpdGVtKSB7XG4gICAgaWYgKHByZXYgJiYgaXRlbS5kYXRhICYmIGl0ZW0uaW5zdHJ1Y3Rpb24gPT0gcHJldi5pbnN0cnVjdGlvbikge1xuICAgICAgLy8gY29uY2F0IHByZXZpb3VzIGRhdGEgd2l0aCBjdXJyZW50XG4gICAgICBpZiAoaXRlbS5pbnN0cnVjdGlvbiAhPSBcIk1cIikge1xuICAgICAgICBwcmV2ID0gbmV3UGF0aFtwcmV2SW5kZXhdID0ge1xuICAgICAgICAgIGluc3RydWN0aW9uOiBwcmV2Lmluc3RydWN0aW9uLFxuICAgICAgICAgIGRhdGE6IHByZXYuZGF0YS5jb25jYXQoaXRlbS5kYXRhKSxcbiAgICAgICAgICBjb29yZHM6IGl0ZW0uY29vcmRzLFxuICAgICAgICAgIGJhc2U6IHByZXYuYmFzZSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByZXYuZGF0YSA9IGl0ZW0uZGF0YTtcbiAgICAgICAgcHJldi5jb29yZHMgPSBpdGVtLmNvb3JkcztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3UGF0aC5wdXNoKGl0ZW0pO1xuICAgICAgcHJldiA9IGl0ZW07XG4gICAgICBwcmV2SW5kZXggPSBuZXdQYXRoLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld1BhdGg7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gZGF0YTtcbn1cbiIsICIvKipcbiAqIENvbnZlcnRzIGJhc2ljIHNoYXBlIHRvIG1vcmUgY29tcGFjdCBwYXRoLlxuICogSXQgYWxzbyBhbGxvd3MgZnVydGhlciBvcHRpbWl6YXRpb25zIGxpa2VcbiAqIGNvbWJpbmluZyBwYXRocyB3aXRoIHNpbWlsYXIgYXR0cmlidXRlcy5cbiAqXG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zaGFwZXMuaHRtbFxuICpcbiAqIEBwYXJhbSB7U1ZHR2VvbWV0cnlFbGVtZW50fSBpdGVtIGN1cnJlbnQgaXRlcmF0aW9uIGl0ZW1cbiAqXG4gKiBAYXV0aG9yIExldiBTb2xudHNldlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFNoYXBlc1RvUGF0aChlbDogU1ZHRWxlbWVudCk6IHZvaWQge1xuICBpZiAoXG4gICAgZWwgaW5zdGFuY2VvZiBTVkdSZWN0RWxlbWVudCAmJlxuICAgIGVsLmhhc0F0dHJpYnV0ZShcIndpZHRoXCIpICYmXG4gICAgZWwuaGFzQXR0cmlidXRlKFwiaGVpZ2h0XCIpICYmXG4gICAgZWwuaGFzQXR0cmlidXRlKFwicnhcIikgPT09IGZhbHNlICYmXG4gICAgZWwuaGFzQXR0cmlidXRlKFwicnlcIikgPT09IGZhbHNlXG4gICkge1xuICAgIGNvbnN0IHggPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcInhcIikgfHwgXCIwXCIpO1xuICAgIGNvbnN0IHkgPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcInlcIikgfHwgXCIwXCIpO1xuICAgIGNvbnN0IHdpZHRoID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSB8fCBcIjBcIik7XG4gICAgY29uc3QgaGVpZ2h0ID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIikgfHwgXCIwXCIpO1xuXG4gICAgLy8gVmFsdWVzIGxpa2UgJzEwMCUnIGNvbXB1dGUgdG8gTmFOLCB0aHVzIHJ1bm5pbmcgYWZ0ZXJcbiAgICAvLyBjbGVhbnVwTnVtZXJpY1ZhbHVlcyB3aGVuICdweCcgdW5pdHMgaGFzIGFscmVhZHkgYmVlbiByZW1vdmVkLlxuICAgIC8vIFRPRE86IENhbGN1bGF0ZSBzaXplcyBmcm9tICUgYW5kIG5vbi1weCB1bml0cyBpZiBwb3NzaWJsZS5cbiAgICBpZiAoaXNOYU4oeCAtIHkgKyB3aWR0aCAtIGhlaWdodCkpIHJldHVybjtcblxuICAgIGNvbnN0IHBhdGhFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwicGF0aFwiXG4gICAgKTtcblxuICAgIGNvbnN0IHBhdGhEYXRhID0gYE0ke3h9ICR7eX1IJHt4ICsgd2lkdGh9ViR7eSArIGhlaWdodH1IJHt4fXpgO1xuICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUoXCJkXCIsIHBhdGhEYXRhKTtcblxuICAgIGNvbnN0IEFUVFJJQlVURVNfVE9fRVhDTFVERSA9IFtcInhcIiwgXCJ5XCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIl07XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIEFycmF5LmZyb20oZWwuYXR0cmlidXRlcykpIHtcbiAgICAgIGlmIChBVFRSSUJVVEVTX1RPX0VYQ0xVREUuaW5jbHVkZXMocHJvcC5uYW1lKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcGF0aEVsLnNldEF0dHJpYnV0ZShwcm9wLm5hbWUsIHByb3AudmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGVsLnBhcmVudEVsZW1lbnQ/LnJlcGxhY2VDaGlsZChwYXRoRWwsIGVsKTtcbiAgfSBlbHNlIGlmIChlbCBpbnN0YW5jZW9mIFNWR0xpbmVFbGVtZW50KSB7XG4gICAgY29uc3QgeDEgPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcIngxXCIpIHx8IFwiMFwiKTtcbiAgICBjb25zdCB4MiA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwieDJcIikgfHwgXCIwXCIpO1xuICAgIGNvbnN0IHkxID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ5MVwiKSB8fCBcIjBcIik7XG4gICAgY29uc3QgeTIgPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcInkyXCIpIHx8IFwiMFwiKTtcblxuICAgIGlmIChpc05hTih4MSAtIHkxICsgeDIgLSB5MikpIHJldHVybjtcblxuICAgIGNvbnN0IHBhdGhFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwicGF0aFwiXG4gICAgKTtcbiAgICBjb25zdCBwYXRoRGF0YSA9IGBNJHt4MX0gJHt5MX1MJHt4Mn0gJHt5Mn1gO1xuICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUoXCJkXCIsIHBhdGhEYXRhKTtcblxuICAgIGNvbnN0IEFUVFJJQlVURVNfVE9fRVhDTFVERSA9IFtcIngxXCIsIFwieTFcIiwgXCJ4MlwiLCBcInkyXCJdO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBBcnJheS5mcm9tKGVsLmF0dHJpYnV0ZXMpKSB7XG4gICAgICBpZiAoQVRUUklCVVRFU19UT19FWENMVURFLmluY2x1ZGVzKHByb3AubmFtZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUocHJvcC5uYW1lLCBwcm9wLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlbC5wYXJlbnRFbGVtZW50Py5yZXBsYWNlQ2hpbGQocGF0aEVsLCBlbCk7XG4gIH0gZWxzZSBpZiAoXG4gICAgKGVsIGluc3RhbmNlb2YgU1ZHUG9seWxpbmVFbGVtZW50IHx8IGVsIGluc3RhbmNlb2YgU1ZHUG9seWdvbkVsZW1lbnQpICYmXG4gICAgZWwuaGFzQXR0cmlidXRlKFwicG9pbnRzXCIpXG4gICkge1xuICAgIGNvbnN0IFJFR1hfTlVNQkVSID0gL1stK10/KD86XFxkKlxcLlxcZCt8XFxkK1xcLj8pKD86W2VFXVstK10/XFxkKyk/L2c7XG4gICAgY29uc3QgcG9pbnRzID0gZWwuZ2V0QXR0cmlidXRlKFwicG9pbnRzXCIpID8/IFwiXCI7XG4gICAgY29uc3QgY29vcmRzID0gKHBvaW50cy5tYXRjaChSRUdYX05VTUJFUikgPz8gW10pLm1hcChOdW1iZXIpO1xuXG4gICAgaWYgKGNvb3Jkcy5sZW5ndGggPCA0KSByZXR1cm47XG5cbiAgICBjb25zdCBwYXRoRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInBhdGhcIlxuICAgICk7XG4gICAgY29uc3QgW3gsIHldID0gY29vcmRzLnNsaWNlKDAsIDIpO1xuICAgIGNvbnN0IHJlbWFpbmluZ1BvaW50cyA9IGNvb3Jkcy5zbGljZSgyKS5qb2luKFwiIFwiKTtcbiAgICBjb25zdCBzdWZmaXggPSBlbCBpbnN0YW5jZW9mIFNWR1BvbHlnb25FbGVtZW50ID8gXCJ6XCIgOiBcIlwiO1xuICAgIGNvbnN0IHBhdGhEYXRhID0gYE0ke3h9ICR7eX1MJHtyZW1haW5pbmdQb2ludHN9JHtzdWZmaXh9YDtcbiAgICBwYXRoRWwuc2V0QXR0cmlidXRlKFwiZFwiLCBwYXRoRGF0YSk7XG5cbiAgICBjb25zdCBBVFRSSUJVVEVTX1RPX0VYQ0xVREUgPSBbXCJwb2ludHNcIl07XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIEFycmF5LmZyb20oZWwuYXR0cmlidXRlcykpIHtcbiAgICAgIGlmIChBVFRSSUJVVEVTX1RPX0VYQ0xVREUuaW5jbHVkZXMocHJvcC5uYW1lKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcGF0aEVsLnNldEF0dHJpYnV0ZShwcm9wLm5hbWUsIHByb3AudmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGVsLnBhcmVudEVsZW1lbnQ/LnJlcGxhY2VDaGlsZChwYXRoRWwsIGVsKTtcbiAgfVxufVxuIiwgIi8vIEB0cy1ub2NoZWNrXG4vLyBUT0RPOiBBZGQgdHlwZXNcblxuaW1wb3J0IHsgcGF0aDJqcywganMycGF0aCB9IGZyb20gXCIuL2xpYi9wYXRoXCI7XG5pbXBvcnQgeyBjbGVhbnVwT3V0RGF0YSB9IGZyb20gXCIuL2xpYi90b29sc1wiO1xuaW1wb3J0IHsgY29udmVydFNoYXBlc1RvUGF0aCB9IGZyb20gXCIuL2xpYi9zaGFwZVRvUGF0aFwiO1xuXG5leHBvcnQgY29uc3QgcGFyYW1zID0ge1xuICBhcHBseVRyYW5zZm9ybXM6IHRydWUsXG4gIGFwcGx5VHJhbnNmb3Jtc1N0cm9rZWQ6IHRydWUsXG4gIG1ha2VBcmNzOiB7XG4gICAgdGhyZXNob2xkOiAyLjUsIC8vIGNvZWZmaWNpZW50IG9mIHJvdW5kaW5nIGVycm9yXG4gICAgdG9sZXJhbmNlOiAwLjUsIC8vIHBlcmNlbnRhZ2Ugb2YgcmFkaXVzXG4gIH0sXG4gIHN0cmFpZ2h0Q3VydmVzOiB0cnVlLFxuICBsaW5lU2hvcnRoYW5kczogdHJ1ZSxcbiAgY3VydmVTbW9vdGhTaG9ydGhhbmRzOiB0cnVlLFxuICBmbG9hdFByZWNpc2lvbjogMSxcbiAgdHJhbnNmb3JtUHJlY2lzaW9uOiA1LFxuICByZW1vdmVVc2VsZXNzOiB0cnVlLFxuICBjb2xsYXBzZVJlcGVhdGVkOiB0cnVlLFxuICB1dGlsaXplQWJzb2x1dGU6IHRydWUsXG4gIGxlYWRpbmdaZXJvOiB0cnVlLFxuICBuZWdhdGl2ZUV4dHJhU3BhY2U6IHRydWUsXG4gIG5vU3BhY2VBZnRlckZsYWdzOiB0cnVlLFxuICBmb3JjZUFic29sdXRlUGF0aDogZmFsc2UsXG59O1xuXG5sZXQgcm91bmREYXRhOiB7IChhcmcwOiBhbnlbXSk6IGFueVtdOyAoZGF0YTogYW55KTogYW55IH07XG5sZXQgcHJlY2lzaW9uOiBudW1iZXIgfCBib29sZWFuIHwgdW5kZWZpbmVkO1xubGV0IGVycm9yOiBudW1iZXI7XG5sZXQgYXJjVGhyZXNob2xkOiBudW1iZXI7XG5sZXQgYXJjVG9sZXJhbmNlOiBudW1iZXI7XG5sZXQgaGFzTWFya2VyTWlkOiBib29sZWFuO1xubGV0IGhhc1N0cm9rZUxpbmVjYXA6IHN0cmluZyB8IGJvb2xlYW4gfCBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gY3J1bmNoU3ZnKHN2ZzogU1ZHRWxlbWVudCkge1xuICBmb3IgKGNvbnN0IG5vZGUgb2YgQXJyYXkuZnJvbShzdmcucXVlcnlTZWxlY3RvckFsbChcIipcIikpIGFzIFNWR0VsZW1lbnRbXSkge1xuICAgIGNvbnZlcnRTaGFwZXNUb1BhdGgobm9kZSk7XG4gICAgb3B0aW1pc2VFbGVtZW50KG5vZGUpO1xuICB9XG59XG5cbi8qKlxuICogQ29udmVydCBhYnNvbHV0ZSBQYXRoIHRvIHJlbGF0aXZlLFxuICogY29sbGFwc2UgcmVwZWF0ZWQgaW5zdHJ1Y3Rpb25zLFxuICogZGV0ZWN0IGFuZCBjb252ZXJ0IExpbmV0byBzaG9ydGhhbmRzLFxuICogcmVtb3ZlIHVzZWxlc3MgaW5zdHJ1Y3Rpb25zIGxpa2UgXCJsMCwwXCIsXG4gKiB0cmltIHVzZWxlc3MgZGVsaW1pdGVycyBhbmQgbGVhZGluZyB6ZXJvcyxcbiAqIGRlY3JlYXNlIGFjY3VyYWN5IG9mIGZsb2F0aW5nLXBvaW50IG51bWJlcnMuXG4gKlxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvcGF0aHMuaHRtbCNQYXRoRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIGN1cnJlbnQgaXRlcmF0aW9uIGl0ZW1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgcGx1Z2luIHBhcmFtc1xuICogQHJldHVybiB7Qm9vbGVhbn0gaWYgZmFsc2UsIGl0ZW0gd2lsbCBiZSBmaWx0ZXJlZCBvdXRcbiAqXG4gKiBAYXV0aG9yIEtpciBCZWxldmljaFxuICovXG5leHBvcnQgZnVuY3Rpb24gb3B0aW1pc2VFbGVtZW50KGl0ZW06IFNWR0VsZW1lbnQpIHtcbiAgcHJlY2lzaW9uID0gcGFyYW1zLmZsb2F0UHJlY2lzaW9uO1xuXG4gIGlmIChpdGVtIGluc3RhbmNlb2YgU1ZHUGF0aEVsZW1lbnQgJiYgaXRlbS5oYXNBdHRyaWJ1dGUoXCJkXCIpKSB7XG4gICAgZXJyb3IgPVxuICAgICAgcHJlY2lzaW9uICE9PSBmYWxzZSA/ICtNYXRoLnBvdygwLjEsIHByZWNpc2lvbikudG9GaXhlZChwcmVjaXNpb24pIDogMWUtMjtcbiAgICByb3VuZERhdGEgPSBwcmVjaXNpb24gPiAwICYmIHByZWNpc2lvbiA8IDIwID8gc3Ryb25nUm91bmQgOiByb3VuZDtcbiAgICBpZiAocGFyYW1zLm1ha2VBcmNzKSB7XG4gICAgICBhcmNUaHJlc2hvbGQgPSBwYXJhbXMubWFrZUFyY3MudGhyZXNob2xkO1xuICAgICAgYXJjVG9sZXJhbmNlID0gcGFyYW1zLm1ha2VBcmNzLnRvbGVyYW5jZTtcbiAgICB9XG4gICAgaGFzTWFya2VyTWlkID0gaXRlbS5oYXNBdHRyaWJ1dGUoXCJtYXJrZXItbWlkXCIpO1xuXG4gICAgY29uc3Qgc3Ryb2tlID0gaXRlbS5nZXRBdHRyaWJ1dGUoXCJzdHJva2VcIik7XG4gICAgY29uc3Qgc3Ryb2tlTGluZWNhcCA9IGl0ZW0uZ2V0QXR0cmlidXRlKFwic3Ryb2tlXCIpO1xuICAgIGhhc1N0cm9rZUxpbmVjYXAgPVxuICAgICAgc3Ryb2tlICYmIHN0cm9rZSAhPSBcIm5vbmVcIiAmJiBzdHJva2VMaW5lY2FwICYmIHN0cm9rZUxpbmVjYXAgIT0gXCJidXR0XCI7XG5cbiAgICB2YXIgZGF0YSA9IHBhdGgyanMoaXRlbSk7XG5cbiAgICAvLyBUT0RPOiBnZXQgcmlkIG9mIGZ1bmN0aW9ucyByZXR1cm5zXG4gICAgaWYgKGRhdGEubGVuZ3RoKSB7XG4gICAgICBjb252ZXJ0VG9SZWxhdGl2ZShkYXRhKTtcblxuICAgICAgZGF0YSA9IGZpbHRlcnMoZGF0YSwgcGFyYW1zKTtcblxuICAgICAgaWYgKHBhcmFtcy51dGlsaXplQWJzb2x1dGUpIHtcbiAgICAgICAgZGF0YSA9IGNvbnZlcnRUb01peGVkKGRhdGEsIHBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIGpzMnBhdGgoaXRlbSwgZGF0YSwgcGFyYW1zKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFic29sdXRlIHBhdGggZGF0YSBjb29yZGluYXRlcyB0byByZWxhdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoIGlucHV0IHBhdGggZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBwbHVnaW4gcGFyYW1zXG4gKiBAcmV0dXJuIHtBcnJheX0gb3V0cHV0IHBhdGggZGF0YVxuICovXG5mdW5jdGlvbiBjb252ZXJ0VG9SZWxhdGl2ZShwYXRoKSB7XG4gIHZhciBwb2ludCA9IFswLCAwXSxcbiAgICBzdWJwYXRoUG9pbnQgPSBbMCwgMF0sXG4gICAgYmFzZUl0ZW07XG5cbiAgcGF0aC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgIHZhciBpbnN0cnVjdGlvbiA9IGl0ZW0uaW5zdHJ1Y3Rpb24sXG4gICAgICBkYXRhID0gaXRlbS5kYXRhO1xuXG4gICAgLy8gZGF0YSAhPT0gIXpcbiAgICBpZiAoZGF0YSkge1xuICAgICAgLy8gYWxyZWFkeSByZWxhdGl2ZVxuICAgICAgLy8gcmVjYWxjdWxhdGUgY3VycmVudCBwb2ludFxuICAgICAgaWYgKFwibWNzbHF0YVwiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEpIHtcbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVtkYXRhLmxlbmd0aCAtIDJdO1xuICAgICAgICBwb2ludFsxXSArPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09PSBcIm1cIikge1xuICAgICAgICAgIHN1YnBhdGhQb2ludFswXSA9IHBvaW50WzBdO1xuICAgICAgICAgIHN1YnBhdGhQb2ludFsxXSA9IHBvaW50WzFdO1xuICAgICAgICAgIGJhc2VJdGVtID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJoXCIpIHtcbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVswXTtcbiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwidlwiKSB7XG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbMF07XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnZlcnQgYWJzb2x1dGUgcGF0aCBkYXRhIGNvb3JkaW5hdGVzIHRvIHJlbGF0aXZlXG4gICAgICAvLyBpZiBcIk1cIiB3YXMgbm90IHRyYW5zZm9ybWVkIGZyb20gXCJtXCJcbiAgICAgIC8vIE0gXHUyMTkyIG1cbiAgICAgIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJNXCIpIHtcbiAgICAgICAgaWYgKGluZGV4ID4gMCkgaW5zdHJ1Y3Rpb24gPSBcIm1cIjtcblxuICAgICAgICBkYXRhWzBdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzFdIC09IHBvaW50WzFdO1xuXG4gICAgICAgIHN1YnBhdGhQb2ludFswXSA9IHBvaW50WzBdICs9IGRhdGFbMF07XG4gICAgICAgIHN1YnBhdGhQb2ludFsxXSA9IHBvaW50WzFdICs9IGRhdGFbMV07XG5cbiAgICAgICAgYmFzZUl0ZW0gPSBpdGVtO1xuICAgICAgfVxuXG4gICAgICAvLyBMIFx1MjE5MiBsXG4gICAgICAvLyBUIFx1MjE5MiB0XG4gICAgICBlbHNlIGlmIChcIkxUXCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSkge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgLy8geCB5XG4gICAgICAgIC8vIDAgMVxuICAgICAgICBkYXRhWzBdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzFdIC09IHBvaW50WzFdO1xuXG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbMF07XG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbMV07XG5cbiAgICAgICAgLy8gQyBcdTIxOTIgY1xuICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJDXCIpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImNcIjtcblxuICAgICAgICAvLyB4MSB5MSB4MiB5MiB4IHlcbiAgICAgICAgLy8gMCAgMSAgMiAgMyAgNCA1XG4gICAgICAgIGRhdGFbMF0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbMV0gLT0gcG9pbnRbMV07XG4gICAgICAgIGRhdGFbMl0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbM10gLT0gcG9pbnRbMV07XG4gICAgICAgIGRhdGFbNF0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbNV0gLT0gcG9pbnRbMV07XG5cbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVs0XTtcbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVs1XTtcblxuICAgICAgICAvLyBTIFx1MjE5MiBzXG4gICAgICAgIC8vIFEgXHUyMTkyIHFcbiAgICAgIH0gZWxzZSBpZiAoXCJTUVwiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbi50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIC8vIHgxIHkxIHggeVxuICAgICAgICAvLyAwICAxICAyIDNcbiAgICAgICAgZGF0YVswXSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVsxXSAtPSBwb2ludFsxXTtcbiAgICAgICAgZGF0YVsyXSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVszXSAtPSBwb2ludFsxXTtcblxuICAgICAgICBwb2ludFswXSArPSBkYXRhWzJdO1xuICAgICAgICBwb2ludFsxXSArPSBkYXRhWzNdO1xuXG4gICAgICAgIC8vIEEgXHUyMTkyIGFcbiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiQVwiKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gXCJhXCI7XG5cbiAgICAgICAgLy8gcnggcnkgeC1heGlzLXJvdGF0aW9uIGxhcmdlLWFyYy1mbGFnIHN3ZWVwLWZsYWcgeCB5XG4gICAgICAgIC8vIDAgIDEgIDIgICAgICAgICAgICAgICAzICAgICAgICAgICAgICA0ICAgICAgICAgIDUgNlxuICAgICAgICBkYXRhWzVdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzZdIC09IHBvaW50WzFdO1xuXG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbNV07XG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbNl07XG5cbiAgICAgICAgLy8gSCBcdTIxOTIgaFxuICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJIXCIpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImhcIjtcblxuICAgICAgICBkYXRhWzBdIC09IHBvaW50WzBdO1xuXG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbMF07XG5cbiAgICAgICAgLy8gViBcdTIxOTIgdlxuICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJWXCIpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInZcIjtcblxuICAgICAgICBkYXRhWzBdIC09IHBvaW50WzFdO1xuXG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbMF07XG4gICAgICB9XG5cbiAgICAgIGl0ZW0uaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcbiAgICAgIGl0ZW0uZGF0YSA9IGRhdGE7XG5cbiAgICAgIC8vIHN0b3JlIGFic29sdXRlIGNvb3JkaW5hdGVzIGZvciBsYXRlciB1c2VcbiAgICAgIGl0ZW0uY29vcmRzID0gcG9pbnQuc2xpY2UoLTIpO1xuICAgIH1cblxuICAgIC8vICFkYXRhID09PSB6LCByZXNldCBjdXJyZW50IHBvaW50XG4gICAgZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJ6XCIpIHtcbiAgICAgIGlmIChiYXNlSXRlbSkge1xuICAgICAgICBpdGVtLmNvb3JkcyA9IGJhc2VJdGVtLmNvb3JkcztcbiAgICAgIH1cbiAgICAgIHBvaW50WzBdID0gc3VicGF0aFBvaW50WzBdO1xuICAgICAgcG9pbnRbMV0gPSBzdWJwYXRoUG9pbnRbMV07XG4gICAgfVxuXG4gICAgaXRlbS5iYXNlID0gaW5kZXggPiAwID8gcGF0aFtpbmRleCAtIDFdLmNvb3JkcyA6IFswLCAwXTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBhdGg7XG59XG5cbi8qKlxuICogTWFpbiBmaWx0ZXJzIGxvb3AuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBpbnB1dCBwYXRoIGRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgcGx1Z2luIHBhcmFtc1xuICogQHJldHVybiB7QXJyYXl9IG91dHB1dCBwYXRoIGRhdGFcbiAqL1xuZnVuY3Rpb24gZmlsdGVycyhwYXRoLCBwYXJhbXMpIHtcbiAgdmFyIHN0cmluZ2lmeSA9IGRhdGEyUGF0aC5iaW5kKG51bGwsIHBhcmFtcyksXG4gICAgcmVsU3VicG9pbnQgPSBbMCwgMF0sXG4gICAgcGF0aEJhc2UgPSBbMCwgMF0sXG4gICAgcHJldiA9IHt9O1xuXG4gIHBhdGggPSBwYXRoLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgsIHBhdGgpIHtcbiAgICB2YXIgaW5zdHJ1Y3Rpb24gPSBpdGVtLmluc3RydWN0aW9uLFxuICAgICAgZGF0YSA9IGl0ZW0uZGF0YSxcbiAgICAgIG5leHQgPSBwYXRoW2luZGV4ICsgMV07XG5cbiAgICBpZiAoZGF0YSkge1xuICAgICAgdmFyIHNkYXRhID0gZGF0YSxcbiAgICAgICAgY2lyY2xlO1xuXG4gICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwic1wiKSB7XG4gICAgICAgIHNkYXRhID0gWzAsIDBdLmNvbmNhdChkYXRhKTtcblxuICAgICAgICBpZiAoXCJjc1wiLmluZGV4T2YocHJldi5pbnN0cnVjdGlvbikgPiAtMSkge1xuICAgICAgICAgIHZhciBwZGF0YSA9IHByZXYuZGF0YSxcbiAgICAgICAgICAgIG4gPSBwZGF0YS5sZW5ndGg7XG5cbiAgICAgICAgICAvLyAoLXgsIC15KSBvZiB0aGUgcHJldiB0YW5nZW50IHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IHBvaW50XG4gICAgICAgICAgc2RhdGFbMF0gPSBwZGF0YVtuIC0gMl0gLSBwZGF0YVtuIC0gNF07XG4gICAgICAgICAgc2RhdGFbMV0gPSBwZGF0YVtuIC0gMV0gLSBwZGF0YVtuIC0gM107XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gY29udmVydCBjdXJ2ZXMgdG8gYXJjcyBpZiBwb3NzaWJsZVxuICAgICAgaWYgKFxuICAgICAgICBwYXJhbXMubWFrZUFyY3MgJiZcbiAgICAgICAgKGluc3RydWN0aW9uID09IFwiY1wiIHx8IGluc3RydWN0aW9uID09IFwic1wiKSAmJlxuICAgICAgICBpc0NvbnZleChzZGF0YSkgJiZcbiAgICAgICAgKGNpcmNsZSA9IGZpbmRDaXJjbGUoc2RhdGEpKVxuICAgICAgKSB7XG4gICAgICAgIHZhciByID0gcm91bmREYXRhKFtjaXJjbGUucmFkaXVzXSlbMF0sXG4gICAgICAgICAgYW5nbGUgPSBmaW5kQXJjQW5nbGUoc2RhdGEsIGNpcmNsZSksXG4gICAgICAgICAgc3dlZXAgPSBzZGF0YVs1XSAqIHNkYXRhWzBdIC0gc2RhdGFbNF0gKiBzZGF0YVsxXSA+IDAgPyAxIDogMCxcbiAgICAgICAgICBhcmMgPSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbjogXCJhXCIsXG4gICAgICAgICAgICBkYXRhOiBbciwgciwgMCwgMCwgc3dlZXAsIHNkYXRhWzRdLCBzZGF0YVs1XV0sXG4gICAgICAgICAgICBjb29yZHM6IGl0ZW0uY29vcmRzLnNsaWNlKCksXG4gICAgICAgICAgICBiYXNlOiBpdGVtLmJhc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvdXRwdXQgPSBbYXJjXSxcbiAgICAgICAgICAvLyByZWxhdGl2ZSBjb29yZGluYXRlcyB0byBhZGp1c3QgdGhlIGZvdW5kIGNpcmNsZVxuICAgICAgICAgIHJlbENlbnRlciA9IFtcbiAgICAgICAgICAgIGNpcmNsZS5jZW50ZXJbMF0gLSBzZGF0YVs0XSxcbiAgICAgICAgICAgIGNpcmNsZS5jZW50ZXJbMV0gLSBzZGF0YVs1XSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHJlbENpcmNsZSA9IHsgY2VudGVyOiByZWxDZW50ZXIsIHJhZGl1czogY2lyY2xlLnJhZGl1cyB9LFxuICAgICAgICAgIGFyY0N1cnZlcyA9IFtpdGVtXSxcbiAgICAgICAgICBoYXNQcmV2ID0gMCxcbiAgICAgICAgICBzdWZmaXggPSBcIlwiLFxuICAgICAgICAgIG5leHRMb25naGFuZDtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgKHByZXYuaW5zdHJ1Y3Rpb24gPT0gXCJjXCIgJiZcbiAgICAgICAgICAgIGlzQ29udmV4KHByZXYuZGF0YSkgJiZcbiAgICAgICAgICAgIGlzQXJjUHJldihwcmV2LmRhdGEsIGNpcmNsZSkpIHx8XG4gICAgICAgICAgKHByZXYuaW5zdHJ1Y3Rpb24gPT0gXCJhXCIgJiZcbiAgICAgICAgICAgIHByZXYuc2RhdGEgJiZcbiAgICAgICAgICAgIGlzQXJjUHJldihwcmV2LnNkYXRhLCBjaXJjbGUpKVxuICAgICAgICApIHtcbiAgICAgICAgICBhcmNDdXJ2ZXMudW5zaGlmdChwcmV2KTtcbiAgICAgICAgICBhcmMuYmFzZSA9IHByZXYuYmFzZTtcbiAgICAgICAgICBhcmMuZGF0YVs1XSA9IGFyYy5jb29yZHNbMF0gLSBhcmMuYmFzZVswXTtcbiAgICAgICAgICBhcmMuZGF0YVs2XSA9IGFyYy5jb29yZHNbMV0gLSBhcmMuYmFzZVsxXTtcbiAgICAgICAgICB2YXIgcHJldkRhdGEgPSBwcmV2Lmluc3RydWN0aW9uID09IFwiYVwiID8gcHJldi5zZGF0YSA6IHByZXYuZGF0YTtcbiAgICAgICAgICB2YXIgcHJldkFuZ2xlID0gZmluZEFyY0FuZ2xlKHByZXZEYXRhLCB7XG4gICAgICAgICAgICBjZW50ZXI6IFtcbiAgICAgICAgICAgICAgcHJldkRhdGFbNF0gKyBjaXJjbGUuY2VudGVyWzBdLFxuICAgICAgICAgICAgICBwcmV2RGF0YVs1XSArIGNpcmNsZS5jZW50ZXJbMV0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcmFkaXVzOiBjaXJjbGUucmFkaXVzLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFuZ2xlICs9IHByZXZBbmdsZTtcbiAgICAgICAgICBpZiAoYW5nbGUgPiBNYXRoLlBJKSBhcmMuZGF0YVszXSA9IDE7XG4gICAgICAgICAgaGFzUHJldiA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiBuZXh0IGN1cnZlcyBhcmUgZml0dGluZyB0aGUgYXJjXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGogPSBpbmRleDtcbiAgICAgICAgICAobmV4dCA9IHBhdGhbKytqXSkgJiYgflwiY3NcIi5pbmRleE9mKG5leHQuaW5zdHJ1Y3Rpb24pO1xuXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBuZXh0RGF0YSA9IG5leHQuZGF0YTtcbiAgICAgICAgICBpZiAobmV4dC5pbnN0cnVjdGlvbiA9PSBcInNcIikge1xuICAgICAgICAgICAgbmV4dExvbmdoYW5kID0gbWFrZUxvbmdoYW5kKFxuICAgICAgICAgICAgICB7IGluc3RydWN0aW9uOiBcInNcIiwgZGF0YTogbmV4dC5kYXRhLnNsaWNlKCkgfSxcbiAgICAgICAgICAgICAgcGF0aFtqIC0gMV0uZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG5leHREYXRhID0gbmV4dExvbmdoYW5kLmRhdGE7XG4gICAgICAgICAgICBuZXh0TG9uZ2hhbmQuZGF0YSA9IG5leHREYXRhLnNsaWNlKDAsIDIpO1xuICAgICAgICAgICAgc3VmZml4ID0gc3RyaW5naWZ5KFtuZXh0TG9uZ2hhbmRdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQ29udmV4KG5leHREYXRhKSAmJiBpc0FyYyhuZXh0RGF0YSwgcmVsQ2lyY2xlKSkge1xuICAgICAgICAgICAgYW5nbGUgKz0gZmluZEFyY0FuZ2xlKG5leHREYXRhLCByZWxDaXJjbGUpO1xuICAgICAgICAgICAgaWYgKGFuZ2xlIC0gMiAqIE1hdGguUEkgPiAxZS0zKSBicmVhazsgLy8gbW9yZSB0aGFuIDM2MFx1MDBCMFxuICAgICAgICAgICAgaWYgKGFuZ2xlID4gTWF0aC5QSSkgYXJjLmRhdGFbM10gPSAxO1xuICAgICAgICAgICAgYXJjQ3VydmVzLnB1c2gobmV4dCk7XG4gICAgICAgICAgICBpZiAoMiAqIE1hdGguUEkgLSBhbmdsZSA+IDFlLTMpIHtcbiAgICAgICAgICAgICAgLy8gbGVzcyB0aGFuIDM2MFx1MDBCMFxuICAgICAgICAgICAgICBhcmMuY29vcmRzID0gbmV4dC5jb29yZHM7XG4gICAgICAgICAgICAgIGFyYy5kYXRhWzVdID0gYXJjLmNvb3Jkc1swXSAtIGFyYy5iYXNlWzBdO1xuICAgICAgICAgICAgICBhcmMuZGF0YVs2XSA9IGFyYy5jb29yZHNbMV0gLSBhcmMuYmFzZVsxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGZ1bGwgY2lyY2xlLCBtYWtlIGEgaGFsZi1jaXJjbGUgYXJjIGFuZCBhZGQgYSBzZWNvbmQgb25lXG4gICAgICAgICAgICAgIGFyYy5kYXRhWzVdID0gMiAqIChyZWxDaXJjbGUuY2VudGVyWzBdIC0gbmV4dERhdGFbNF0pO1xuICAgICAgICAgICAgICBhcmMuZGF0YVs2XSA9IDIgKiAocmVsQ2lyY2xlLmNlbnRlclsxXSAtIG5leHREYXRhWzVdKTtcbiAgICAgICAgICAgICAgYXJjLmNvb3JkcyA9IFtcbiAgICAgICAgICAgICAgICBhcmMuYmFzZVswXSArIGFyYy5kYXRhWzVdLFxuICAgICAgICAgICAgICAgIGFyYy5iYXNlWzFdICsgYXJjLmRhdGFbNl0sXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIGFyYyA9IHtcbiAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbjogXCJhXCIsXG4gICAgICAgICAgICAgICAgZGF0YTogW1xuICAgICAgICAgICAgICAgICAgcixcbiAgICAgICAgICAgICAgICAgIHIsXG4gICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgIHN3ZWVwLFxuICAgICAgICAgICAgICAgICAgbmV4dC5jb29yZHNbMF0gLSBhcmMuY29vcmRzWzBdLFxuICAgICAgICAgICAgICAgICAgbmV4dC5jb29yZHNbMV0gLSBhcmMuY29vcmRzWzFdLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgY29vcmRzOiBuZXh0LmNvb3JkcyxcbiAgICAgICAgICAgICAgICBiYXNlOiBhcmMuY29vcmRzLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBvdXRwdXQucHVzaChhcmMpO1xuICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVsQ2VudGVyWzBdIC09IG5leHREYXRhWzRdO1xuICAgICAgICAgICAgcmVsQ2VudGVyWzFdIC09IG5leHREYXRhWzVdO1xuICAgICAgICAgIH0gZWxzZSBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoc3RyaW5naWZ5KG91dHB1dCkgKyBzdWZmaXgpLmxlbmd0aCA8IHN0cmluZ2lmeShhcmNDdXJ2ZXMpLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChwYXRoW2pdICYmIHBhdGhbal0uaW5zdHJ1Y3Rpb24gPT0gXCJzXCIpIHtcbiAgICAgICAgICAgIG1ha2VMb25naGFuZChwYXRoW2pdLCBwYXRoW2ogLSAxXS5kYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhhc1ByZXYpIHtcbiAgICAgICAgICAgIHZhciBwcmV2QXJjID0gb3V0cHV0LnNoaWZ0KCk7XG4gICAgICAgICAgICByb3VuZERhdGEocHJldkFyYy5kYXRhKTtcbiAgICAgICAgICAgIHJlbFN1YnBvaW50WzBdICs9IHByZXZBcmMuZGF0YVs1XSAtIHByZXYuZGF0YVtwcmV2LmRhdGEubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICByZWxTdWJwb2ludFsxXSArPSBwcmV2QXJjLmRhdGFbNl0gLSBwcmV2LmRhdGFbcHJldi5kYXRhLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiA9IFwiYVwiO1xuICAgICAgICAgICAgcHJldi5kYXRhID0gcHJldkFyYy5kYXRhO1xuICAgICAgICAgICAgaXRlbS5iYXNlID0gcHJldi5jb29yZHMgPSBwcmV2QXJjLmNvb3JkcztcbiAgICAgICAgICB9XG4gICAgICAgICAgYXJjID0gb3V0cHV0LnNoaWZ0KCk7XG4gICAgICAgICAgaWYgKGFyY0N1cnZlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgaXRlbS5zZGF0YSA9IHNkYXRhLnNsaWNlKCk7IC8vIHByZXNlcnZlIGN1cnZlIGRhdGEgZm9yIGZ1dHVyZSBjaGVja3NcbiAgICAgICAgICB9IGVsc2UgaWYgKGFyY0N1cnZlcy5sZW5ndGggLSAxIC0gaGFzUHJldiA+IDApIHtcbiAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgY29uc3VtZWQgbmV4dCBpdGVtc1xuICAgICAgICAgICAgcGF0aC5zcGxpY2UuYXBwbHkoXG4gICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgIFtpbmRleCArIDEsIGFyY0N1cnZlcy5sZW5ndGggLSAxIC0gaGFzUHJldl0uY29uY2F0KG91dHB1dClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghYXJjKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImFcIjtcbiAgICAgICAgICBkYXRhID0gYXJjLmRhdGE7XG4gICAgICAgICAgaXRlbS5jb29yZHMgPSBhcmMuY29vcmRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJvdW5kaW5nIHJlbGF0aXZlIGNvb3JkaW5hdGVzLCB0YWtpbmcgaW4gYWNjb3VudCBhY2N1bW11bGF0aW5nIGVycm9yXG4gICAgICAvLyB0byBnZXQgY2xvc2VyIHRvIGFic29sdXRlIGNvb3JkaW5hdGVzLiBTdW0gb2Ygcm91bmRlZCB2YWx1ZSByZW1haW5zIHNhbWU6XG4gICAgICAvLyBsIC4yNSAzIC4yNSAyIC4yNSAzIC4yNSAyIC0+IGwgLjMgMyAuMiAyIC4zIDMgLjIgMlxuICAgICAgaWYgKHByZWNpc2lvbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKFwibWx0cXNjXCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSBkYXRhLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICAgIGRhdGFbaV0gKz0gaXRlbS5iYXNlW2kgJSAyXSAtIHJlbFN1YnBvaW50W2kgJSAyXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJoXCIpIHtcbiAgICAgICAgICBkYXRhWzBdICs9IGl0ZW0uYmFzZVswXSAtIHJlbFN1YnBvaW50WzBdO1xuICAgICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwidlwiKSB7XG4gICAgICAgICAgZGF0YVswXSArPSBpdGVtLmJhc2VbMV0gLSByZWxTdWJwb2ludFsxXTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcImFcIikge1xuICAgICAgICAgIGRhdGFbNV0gKz0gaXRlbS5iYXNlWzBdIC0gcmVsU3VicG9pbnRbMF07XG4gICAgICAgICAgZGF0YVs2XSArPSBpdGVtLmJhc2VbMV0gLSByZWxTdWJwb2ludFsxXTtcbiAgICAgICAgfVxuICAgICAgICByb3VuZERhdGEoZGF0YSk7XG5cbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09IFwiaFwiKSByZWxTdWJwb2ludFswXSArPSBkYXRhWzBdO1xuICAgICAgICBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcInZcIikgcmVsU3VicG9pbnRbMV0gKz0gZGF0YVswXTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmVsU3VicG9pbnRbMF0gKz0gZGF0YVtkYXRhLmxlbmd0aCAtIDJdO1xuICAgICAgICAgIHJlbFN1YnBvaW50WzFdICs9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICByb3VuZERhdGEocmVsU3VicG9pbnQpO1xuXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbi50b0xvd2VyQ2FzZSgpID09IFwibVwiKSB7XG4gICAgICAgICAgcGF0aEJhc2VbMF0gPSByZWxTdWJwb2ludFswXTtcbiAgICAgICAgICBwYXRoQmFzZVsxXSA9IHJlbFN1YnBvaW50WzFdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnZlcnQgc3RyYWlnaHQgY3VydmVzIGludG8gbGluZXMgc2VnbWVudHNcbiAgICAgIGlmIChwYXJhbXMuc3RyYWlnaHRDdXJ2ZXMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChpbnN0cnVjdGlvbiA9PT0gXCJjXCIgJiYgaXNDdXJ2ZVN0cmFpZ2h0TGluZShkYXRhKSkgfHxcbiAgICAgICAgICAoaW5zdHJ1Y3Rpb24gPT09IFwic1wiICYmIGlzQ3VydmVTdHJhaWdodExpbmUoc2RhdGEpKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmluc3RydWN0aW9uID09IFwic1wiKSBtYWtlTG9uZ2hhbmQobmV4dCwgZGF0YSk7IC8vIGZpeCB1cCBuZXh0IGN1cnZlXG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImxcIjtcbiAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgtMik7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwicVwiICYmIGlzQ3VydmVTdHJhaWdodExpbmUoZGF0YSkpIHtcbiAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmluc3RydWN0aW9uID09IFwidFwiKSBtYWtlTG9uZ2hhbmQobmV4dCwgZGF0YSk7IC8vIGZpeCB1cCBuZXh0IGN1cnZlXG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImxcIjtcbiAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgtMik7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPT09IFwidFwiICYmXG4gICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiAhPT0gXCJxXCIgJiZcbiAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uICE9PSBcInRcIlxuICAgICAgICApIHtcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwibFwiO1xuICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKC0yKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJhXCIgJiYgKGRhdGFbMF0gPT09IDAgfHwgZGF0YVsxXSA9PT0gMCkpIHtcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwibFwiO1xuICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKC0yKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBsaW5lIHNob3J0aGFuZHNcbiAgICAgIC8vIGwgNTAgMCBcdTIxOTIgaCA1MFxuICAgICAgLy8gbCAwIDUwIFx1MjE5MiB2IDUwXG4gICAgICBpZiAocGFyYW1zLmxpbmVTaG9ydGhhbmRzICYmIGluc3RydWN0aW9uID09PSBcImxcIikge1xuICAgICAgICBpZiAoZGF0YVsxXSA9PT0gMCkge1xuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJoXCI7XG4gICAgICAgICAgZGF0YS5wb3AoKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhWzBdID09PSAwKSB7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInZcIjtcbiAgICAgICAgICBkYXRhLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gY29sbGFwc2UgcmVwZWF0ZWQgY29tbWFuZHNcbiAgICAgIC8vIGggMjAgaCAzMCAtPiBoIDUwXG4gICAgICBpZiAoXG4gICAgICAgIHBhcmFtcy5jb2xsYXBzZVJlcGVhdGVkICYmXG4gICAgICAgICFoYXNNYXJrZXJNaWQgJiZcbiAgICAgICAgXCJtaHZcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xICYmXG4gICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gJiZcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPT0gcHJldi5pbnN0cnVjdGlvbi50b0xvd2VyQ2FzZSgpICYmXG4gICAgICAgICgoaW5zdHJ1Y3Rpb24gIT0gXCJoXCIgJiYgaW5zdHJ1Y3Rpb24gIT0gXCJ2XCIpIHx8XG4gICAgICAgICAgcHJldi5kYXRhWzBdID49IDAgPT0gZGF0YVswXSA+PSAwKVxuICAgICAgKSB7XG4gICAgICAgIHByZXYuZGF0YVswXSArPSBkYXRhWzBdO1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gIT0gXCJoXCIgJiYgaW5zdHJ1Y3Rpb24gIT0gXCJ2XCIpIHtcbiAgICAgICAgICBwcmV2LmRhdGFbMV0gKz0gZGF0YVsxXTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2LmNvb3JkcyA9IGl0ZW0uY29vcmRzO1xuICAgICAgICBwYXRoW2luZGV4XSA9IHByZXY7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gY29udmVydCBjdXJ2ZXMgaW50byBzbW9vdGggc2hvcnRoYW5kc1xuICAgICAgaWYgKHBhcmFtcy5jdXJ2ZVNtb290aFNob3J0aGFuZHMgJiYgcHJldi5pbnN0cnVjdGlvbikge1xuICAgICAgICAvLyBjdXJ2ZXRvXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJjXCIpIHtcbiAgICAgICAgICAvLyBjICsgYyBcdTIxOTIgYyArIHNcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uID09PSBcImNcIiAmJlxuICAgICAgICAgICAgZGF0YVswXSA9PT0gLShwcmV2LmRhdGFbMl0gLSBwcmV2LmRhdGFbNF0pICYmXG4gICAgICAgICAgICBkYXRhWzFdID09PSAtKHByZXYuZGF0YVszXSAtIHByZXYuZGF0YVs1XSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gXCJzXCI7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzICsgYyBcdTIxOTIgcyArIHNcbiAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gPT09IFwic1wiICYmXG4gICAgICAgICAgICBkYXRhWzBdID09PSAtKHByZXYuZGF0YVswXSAtIHByZXYuZGF0YVsyXSkgJiZcbiAgICAgICAgICAgIGRhdGFbMV0gPT09IC0ocHJldi5kYXRhWzFdIC0gcHJldi5kYXRhWzNdKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInNcIjtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFteY3NdICsgYyBcdTIxOTIgW15jc10gKyBzXG4gICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICBcImNzXCIuaW5kZXhPZihwcmV2Lmluc3RydWN0aW9uKSA9PT0gLTEgJiZcbiAgICAgICAgICAgIGRhdGFbMF0gPT09IDAgJiZcbiAgICAgICAgICAgIGRhdGFbMV0gPT09IDBcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gXCJzXCI7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBxdWFkcmF0aWMgQlx1MDBFOXppZXIgY3VydmV0b1xuICAgICAgICBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJxXCIpIHtcbiAgICAgICAgICAvLyBxICsgcSBcdTIxOTIgcSArIHRcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uID09PSBcInFcIiAmJlxuICAgICAgICAgICAgZGF0YVswXSA9PT0gcHJldi5kYXRhWzJdIC0gcHJldi5kYXRhWzBdICYmXG4gICAgICAgICAgICBkYXRhWzFdID09PSBwcmV2LmRhdGFbM10gLSBwcmV2LmRhdGFbMV1cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gXCJ0XCI7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB0ICsgcSBcdTIxOTIgdCArIHRcbiAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gPT09IFwidFwiICYmXG4gICAgICAgICAgICBkYXRhWzJdID09PSBwcmV2LmRhdGFbMF0gJiZcbiAgICAgICAgICAgIGRhdGFbM10gPT09IHByZXYuZGF0YVsxXVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInRcIjtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyByZW1vdmUgdXNlbGVzcyBub24tZmlyc3QgcGF0aCBzZWdtZW50c1xuICAgICAgaWYgKHBhcmFtcy5yZW1vdmVVc2VsZXNzICYmICFoYXNTdHJva2VMaW5lY2FwKSB7XG4gICAgICAgIC8vIGwgMCwwIC8gaCAwIC8gdiAwIC8gcSAwLDAgMCwwIC8gdCAwLDAgLyBjIDAsMCAwLDAgMCwwIC8gcyAwLDAgMCwwXG4gICAgICAgIGlmIChcbiAgICAgICAgICBcImxodnF0Y3NcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xICYmXG4gICAgICAgICAgZGF0YS5ldmVyeShmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkgPT09IDA7XG4gICAgICAgICAgfSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcGF0aFtpbmRleF0gPSBwcmV2O1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGEgMjUsMjUgLTMwIDAsMSAwLDBcbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09PSBcImFcIiAmJiBkYXRhWzVdID09PSAwICYmIGRhdGFbNl0gPT09IDApIHtcbiAgICAgICAgICBwYXRoW2luZGV4XSA9IHByZXY7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGl0ZW0uaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcbiAgICAgIGl0ZW0uZGF0YSA9IGRhdGE7XG5cbiAgICAgIHByZXYgPSBpdGVtO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB6IHJlc2V0cyBjb29yZGluYXRlc1xuICAgICAgcmVsU3VicG9pbnRbMF0gPSBwYXRoQmFzZVswXTtcbiAgICAgIHJlbFN1YnBvaW50WzFdID0gcGF0aEJhc2VbMV07XG4gICAgICBpZiAocHJldi5pbnN0cnVjdGlvbiA9PSBcInpcIikgcmV0dXJuIGZhbHNlO1xuICAgICAgcHJldiA9IGl0ZW07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBwYXRoO1xufVxuXG4vKipcbiAqIFdyaXRlcyBkYXRhIGluIHNob3J0ZXN0IGZvcm0gdXNpbmcgYWJzb2x1dGUgb3IgcmVsYXRpdmUgY29vcmRpbmF0ZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBpbnB1dCBwYXRoIGRhdGFcbiAqIEByZXR1cm4ge0Jvb2xlYW59IG91dHB1dFxuICovXG5mdW5jdGlvbiBjb252ZXJ0VG9NaXhlZChwYXRoLCBwYXJhbXMpIHtcbiAgdmFyIHByZXYgPSBwYXRoWzBdO1xuXG4gIHBhdGggPSBwYXRoLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPT0gMCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKCFpdGVtLmRhdGEpIHtcbiAgICAgIHByZXYgPSBpdGVtO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGluc3RydWN0aW9uID0gaXRlbS5pbnN0cnVjdGlvbixcbiAgICAgIGRhdGEgPSBpdGVtLmRhdGEsXG4gICAgICBhZGF0YSA9IGRhdGEgJiYgZGF0YS5zbGljZSgwKTtcblxuICAgIGlmIChcIm1sdHFzY1wiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEpIHtcbiAgICAgIGZvciAodmFyIGkgPSBhZGF0YS5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIGFkYXRhW2ldICs9IGl0ZW0uYmFzZVtpICUgMl07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcImhcIikge1xuICAgICAgYWRhdGFbMF0gKz0gaXRlbS5iYXNlWzBdO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJ2XCIpIHtcbiAgICAgIGFkYXRhWzBdICs9IGl0ZW0uYmFzZVsxXTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwiYVwiKSB7XG4gICAgICBhZGF0YVs1XSArPSBpdGVtLmJhc2VbMF07XG4gICAgICBhZGF0YVs2XSArPSBpdGVtLmJhc2VbMV07XG4gICAgfVxuXG4gICAgcm91bmREYXRhKGFkYXRhKTtcblxuICAgIHZhciBhYnNvbHV0ZURhdGFTdHIgPSBjbGVhbnVwT3V0RGF0YShhZGF0YSwgcGFyYW1zKSxcbiAgICAgIHJlbGF0aXZlRGF0YVN0ciA9IGNsZWFudXBPdXREYXRhKGRhdGEsIHBhcmFtcyk7XG5cbiAgICAvLyBDb252ZXJ0IHRvIGFic29sdXRlIGNvb3JkaW5hdGVzIGlmIGl0J3Mgc2hvcnRlciBvciBmb3JjZUFic29sdXRlUGF0aCBpcyB0cnVlLlxuICAgIC8vIHYtMjAgLT4gVjBcbiAgICAvLyBEb24ndCBjb252ZXJ0IGlmIGl0IGZpdHMgZm9sbG93aW5nIHByZXZpb3VzIGluc3RydWN0aW9uLlxuICAgIC8vIGwyMCAzMC0xMC01MCBpbnN0ZWFkIG9mIGwyMCAzMEwyMCAzMFxuICAgIGlmIChcbiAgICAgIHBhcmFtcy5mb3JjZUFic29sdXRlUGF0aCB8fFxuICAgICAgKGFic29sdXRlRGF0YVN0ci5sZW5ndGggPCByZWxhdGl2ZURhdGFTdHIubGVuZ3RoICYmXG4gICAgICAgICEoXG4gICAgICAgICAgcGFyYW1zLm5lZ2F0aXZlRXh0cmFTcGFjZSAmJlxuICAgICAgICAgIGluc3RydWN0aW9uID09IHByZXYuaW5zdHJ1Y3Rpb24gJiZcbiAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uLmNoYXJDb2RlQXQoMCkgPiA5NiAmJlxuICAgICAgICAgIGFic29sdXRlRGF0YVN0ci5sZW5ndGggPT0gcmVsYXRpdmVEYXRhU3RyLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAoZGF0YVswXSA8IDAgfHxcbiAgICAgICAgICAgICgvXjBcXC4vLnRlc3QoZGF0YVswXSkgJiYgcHJldi5kYXRhW3ByZXYuZGF0YS5sZW5ndGggLSAxXSAlIDEpKVxuICAgICAgICApKVxuICAgICkge1xuICAgICAgaXRlbS5pbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uLnRvVXBwZXJDYXNlKCk7XG4gICAgICBpdGVtLmRhdGEgPSBhZGF0YTtcbiAgICB9XG5cbiAgICBwcmV2ID0gaXRlbTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gcGF0aDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgY3VydmUgaXMgY29udmV4LiBDb250cm9sIHBvaW50cyBvZiBzdWNoIGEgY3VydmUgbXVzdCBmb3JtXG4gKiBhIGNvbnZleCBxdWFkcmlsYXRlcmFsIHdpdGggZGlhZ29uYWxzIGNyb3NzcG9pbnQgaW5zaWRlIG9mIGl0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgaW5wdXQgcGF0aCBkYXRhXG4gKiBAcmV0dXJuIHtCb29sZWFufSBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gaXNDb252ZXgoZGF0YSkge1xuICB2YXIgY2VudGVyID0gZ2V0SW50ZXJzZWN0aW9uKFtcbiAgICAwLFxuICAgIDAsXG4gICAgZGF0YVsyXSxcbiAgICBkYXRhWzNdLFxuICAgIGRhdGFbMF0sXG4gICAgZGF0YVsxXSxcbiAgICBkYXRhWzRdLFxuICAgIGRhdGFbNV0sXG4gIF0pO1xuXG4gIHJldHVybiAoXG4gICAgY2VudGVyICYmXG4gICAgZGF0YVsyXSA8IGNlbnRlclswXSA9PSBjZW50ZXJbMF0gPCAwICYmXG4gICAgZGF0YVszXSA8IGNlbnRlclsxXSA9PSBjZW50ZXJbMV0gPCAwICYmXG4gICAgZGF0YVs0XSA8IGNlbnRlclswXSA9PSBjZW50ZXJbMF0gPCBkYXRhWzBdICYmXG4gICAgZGF0YVs1XSA8IGNlbnRlclsxXSA9PSBjZW50ZXJbMV0gPCBkYXRhWzFdXG4gICk7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgbGluZXMgZXF1YXRpb25zIGJ5IHR3byBwb2ludHMgYW5kIHJldHVybnMgdGhlaXIgaW50ZXJzZWN0aW9uIHBvaW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGNvb3JkcyA4IG51bWJlcnMgZm9yIDQgcGFpcnMgb2YgY29vcmRpbmF0ZXMgKHgseSlcbiAqIEByZXR1cm4ge0FycmF5fHVuZGVmaW5lZH0gb3V0cHV0IGNvb3JkaW5hdGUgb2YgbGluZXMnIGNyb3NzcG9pbnRcbiAqL1xuZnVuY3Rpb24gZ2V0SW50ZXJzZWN0aW9uKGNvb3Jkcykge1xuICAvLyBQcmV2IGxpbmUgZXF1YXRpb24gcGFyYW1ldGVycy5cbiAgdmFyIGExID0gY29vcmRzWzFdIC0gY29vcmRzWzNdLCAvLyB5MSAtIHkyXG4gICAgYjEgPSBjb29yZHNbMl0gLSBjb29yZHNbMF0sIC8vIHgyIC0geDFcbiAgICBjMSA9IGNvb3Jkc1swXSAqIGNvb3Jkc1szXSAtIGNvb3Jkc1syXSAqIGNvb3Jkc1sxXSwgLy8geDEgKiB5MiAtIHgyICogeTFcbiAgICAvLyBOZXh0IGxpbmUgZXF1YXRpb24gcGFyYW1ldGVyc1xuICAgIGEyID0gY29vcmRzWzVdIC0gY29vcmRzWzddLCAvLyB5MSAtIHkyXG4gICAgYjIgPSBjb29yZHNbNl0gLSBjb29yZHNbNF0sIC8vIHgyIC0geDFcbiAgICBjMiA9IGNvb3Jkc1s0XSAqIGNvb3Jkc1s3XSAtIGNvb3Jkc1s1XSAqIGNvb3Jkc1s2XSwgLy8geDEgKiB5MiAtIHgyICogeTFcbiAgICBkZW5vbSA9IGExICogYjIgLSBhMiAqIGIxO1xuXG4gIGlmICghZGVub20pIHJldHVybjsgLy8gcGFyYWxsZWwgbGluZXMgaGF2bid0IGFuIGludGVyc2VjdGlvblxuXG4gIHZhciBjcm9zcyA9IFsoYjEgKiBjMiAtIGIyICogYzEpIC8gZGVub20sIChhMSAqIGMyIC0gYTIgKiBjMSkgLyAtZGVub21dO1xuICBpZiAoXG4gICAgIWlzTmFOKGNyb3NzWzBdKSAmJlxuICAgICFpc05hTihjcm9zc1sxXSkgJiZcbiAgICBpc0Zpbml0ZShjcm9zc1swXSkgJiZcbiAgICBpc0Zpbml0ZShjcm9zc1sxXSlcbiAgKSB7XG4gICAgcmV0dXJuIGNyb3NzO1xuICB9XG59XG5cbi8qKlxuICogRGVjcmVhc2UgYWNjdXJhY3kgb2YgZmxvYXRpbmctcG9pbnQgbnVtYmVyc1xuICogaW4gcGF0aCBkYXRhIGtlZXBpbmcgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIGRlY2ltYWxzLlxuICogU21hcnQgcm91bmRzIHZhbHVlcyBsaWtlIDIuMzQ5MSB0byAyLjM1IGluc3RlYWQgb2YgMi4zNDkuXG4gKiBEb2Vzbid0IGFwcGx5IFwic21hcnRuZXNzXCIgaWYgdGhlIG51bWJlciBwcmVjaXNpb24gZml0cyBhbHJlYWR5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgaW5wdXQgZGF0YSBhcnJheVxuICogQHJldHVybiB7QXJyYXl9IG91dHB1dCBkYXRhIGFycmF5XG4gKi9cbmZ1bmN0aW9uIHN0cm9uZ1JvdW5kKGRhdGEpIHtcbiAgZm9yICh2YXIgaSA9IGRhdGEubGVuZ3RoOyBpLS0gPiAwOyApIHtcbiAgICBpZiAoZGF0YVtpXS50b0ZpeGVkKHByZWNpc2lvbikgIT0gZGF0YVtpXSkge1xuICAgICAgdmFyIHJvdW5kZWQgPSArZGF0YVtpXS50b0ZpeGVkKHByZWNpc2lvbiAtIDEpO1xuICAgICAgZGF0YVtpXSA9XG4gICAgICAgICtNYXRoLmFicyhyb3VuZGVkIC0gZGF0YVtpXSkudG9GaXhlZChwcmVjaXNpb24gKyAxKSA+PSBlcnJvclxuICAgICAgICAgID8gK2RhdGFbaV0udG9GaXhlZChwcmVjaXNpb24pXG4gICAgICAgICAgOiByb3VuZGVkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBTaW1wbGUgcm91bmRpbmcgZnVuY3Rpb24gaWYgcHJlY2lzaW9uIGlzIDAuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBpbnB1dCBkYXRhIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheX0gb3V0cHV0IGRhdGEgYXJyYXlcbiAqL1xuZnVuY3Rpb24gcm91bmQoZGF0YSkge1xuICBmb3IgKHZhciBpID0gZGF0YS5sZW5ndGg7IGktLSA+IDA7ICkge1xuICAgIGRhdGFbaV0gPSBNYXRoLnJvdW5kKGRhdGFbaV0pO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGN1cnZlIGlzIGEgc3RyYWlnaHQgbGluZSBieSBtZWFzdXJpbmcgZGlzdGFuY2VcbiAqIGZyb20gbWlkZGxlIHBvaW50cyB0byB0aGUgbGluZSBmb3JtZWQgYnkgZW5kIHBvaW50cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSB4cyBhcnJheSBvZiBjdXJ2ZSBwb2ludHMgeC1jb29yZGluYXRlc1xuICogQHBhcmFtIHtBcnJheX0geXMgYXJyYXkgb2YgY3VydmUgcG9pbnRzIHktY29vcmRpbmF0ZXNcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gaXNDdXJ2ZVN0cmFpZ2h0TGluZShkYXRhKSB7XG4gIC8vIEdldCBsaW5lIGVxdWF0aW9uIGFcdTAwQjd4ICsgYlx1MDBCN3kgKyBjID0gMCBjb2VmZmljaWVudHMgYSwgYiAoYyA9IDApIGJ5IHN0YXJ0IGFuZCBlbmQgcG9pbnRzLlxuICB2YXIgaSA9IGRhdGEubGVuZ3RoIC0gMixcbiAgICBhID0gLWRhdGFbaSArIDFdLCAvLyB5MSBcdTIyMTIgeTIgKHkxID0gMClcbiAgICBiID0gZGF0YVtpXSwgLy8geDIgXHUyMjEyIHgxICh4MSA9IDApXG4gICAgZCA9IDEgLyAoYSAqIGEgKyBiICogYik7IC8vIHNhbWUgcGFydCBmb3IgYWxsIHBvaW50c1xuXG4gIGlmIChpIDw9IDEgfHwgIWlzRmluaXRlKGQpKSByZXR1cm4gZmFsc2U7IC8vIGN1cnZlIHRoYXQgZW5kcyBhdCBzdGFydCBwb2ludCBpc24ndCB0aGUgY2FzZVxuXG4gIC8vIERpc3RhbmNlIGZyb20gcG9pbnQgKHgwLCB5MCkgdG8gdGhlIGxpbmUgaXMgc3FydCgoYyBcdTIyMTIgYVx1MDBCN3gwIFx1MjIxMiBiXHUwMEI3eTApXHUwMEIyIC8gKGFcdTAwQjIgKyBiXHUwMEIyKSlcbiAgd2hpbGUgKChpIC09IDIpID49IDApIHtcbiAgICBpZiAoTWF0aC5zcXJ0KE1hdGgucG93KGEgKiBkYXRhW2ldICsgYiAqIGRhdGFbaSArIDFdLCAyKSAqIGQpID4gZXJyb3IpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBuZXh0IGN1cnZlIGZyb20gc2hvcnRoYW5kIHRvIGZ1bGwgZm9ybSB1c2luZyB0aGUgY3VycmVudCBjdXJ2ZSBkYXRhLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIGN1cnZlIHRvIGNvbnZlcnRcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgY3VycmVudCBjdXJ2ZSBkYXRhXG4gKi9cblxuZnVuY3Rpb24gbWFrZUxvbmdoYW5kKGl0ZW0sIGRhdGEpIHtcbiAgc3dpdGNoIChpdGVtLmluc3RydWN0aW9uKSB7XG4gICAgY2FzZSBcInNcIjpcbiAgICAgIGl0ZW0uaW5zdHJ1Y3Rpb24gPSBcImNcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJ0XCI6XG4gICAgICBpdGVtLmluc3RydWN0aW9uID0gXCJxXCI7XG4gICAgICBicmVhaztcbiAgfVxuICBpdGVtLmRhdGEudW5zaGlmdChcbiAgICBkYXRhW2RhdGEubGVuZ3RoIC0gMl0gLSBkYXRhW2RhdGEubGVuZ3RoIC0gNF0sXG4gICAgZGF0YVtkYXRhLmxlbmd0aCAtIDFdIC0gZGF0YVtkYXRhLmxlbmd0aCAtIDNdXG4gICk7XG4gIHJldHVybiBpdGVtO1xufVxuXG4vKipcbiAqIFJldHVybnMgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcG9pbnQxIGZpcnN0IHBvaW50IGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludDIgc2Vjb25kIHBvaW50IGNvb3JkaW5hdGVzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlXG4gKi9cblxuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocG9pbnQxLCBwb2ludDIpIHtcbiAgcmV0dXJuIE1hdGguaHlwb3QocG9pbnQxWzBdIC0gcG9pbnQyWzBdLCBwb2ludDFbMV0gLSBwb2ludDJbMV0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgY29vcmRpbmF0ZXMgb2YgdGhlIGN1cnZlIHBvaW50IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGNlcnRhaW4gdFxuICogYVx1MDBCNygxIC0gdClcdTAwQjNcdTAwQjdwMSArIGJcdTAwQjcoMSAtIHQpXHUwMEIyXHUwMEI3dFx1MDBCN3AyICsgY1x1MDBCNygxIC0gdClcdTAwQjd0XHUwMEIyXHUwMEI3cDMgKyBkXHUwMEI3dFx1MDBCM1x1MDBCN3A0LFxuICogd2hlcmUgcE4gYXJlIGNvbnRyb2wgcG9pbnRzIGFuZCBwMSBpcyB6ZXJvIGR1ZSB0byByZWxhdGl2ZSBjb29yZGluYXRlcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjdXJ2ZSBhcnJheSBvZiBjdXJ2ZSBwb2ludHMgY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IHBhcmFtZXRyaWMgcG9zaXRpb24gZnJvbSAwIHRvIDFcbiAqIEByZXR1cm4ge0FycmF5fSBQb2ludCBjb29yZGluYXRlc1xuICovXG5cbmZ1bmN0aW9uIGdldEN1YmljQmV6aWVyUG9pbnQoY3VydmUsIHQpIHtcbiAgdmFyIHNxclQgPSB0ICogdCxcbiAgICBjdWJUID0gc3FyVCAqIHQsXG4gICAgbXQgPSAxIC0gdCxcbiAgICBzcXJNdCA9IG10ICogbXQ7XG5cbiAgcmV0dXJuIFtcbiAgICAzICogc3FyTXQgKiB0ICogY3VydmVbMF0gKyAzICogbXQgKiBzcXJUICogY3VydmVbMl0gKyBjdWJUICogY3VydmVbNF0sXG4gICAgMyAqIHNxck10ICogdCAqIGN1cnZlWzFdICsgMyAqIG10ICogc3FyVCAqIGN1cnZlWzNdICsgY3ViVCAqIGN1cnZlWzVdLFxuICBdO1xufVxuXG4vKipcbiAqIEZpbmRzIGNpcmNsZSBieSAzIHBvaW50cyBvZiB0aGUgY3VydmUgYW5kIGNoZWNrcyBpZiB0aGUgY3VydmUgZml0cyB0aGUgZm91bmQgY2lyY2xlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGN1cnZlXG4gKiBAcmV0dXJuIHtPYmplY3R8dW5kZWZpbmVkfSBjaXJjbGVcbiAqL1xuXG5mdW5jdGlvbiBmaW5kQ2lyY2xlKGN1cnZlKSB7XG4gIHZhciBtaWRQb2ludCA9IGdldEN1YmljQmV6aWVyUG9pbnQoY3VydmUsIDEgLyAyKSxcbiAgICBtMSA9IFttaWRQb2ludFswXSAvIDIsIG1pZFBvaW50WzFdIC8gMl0sXG4gICAgbTIgPSBbKG1pZFBvaW50WzBdICsgY3VydmVbNF0pIC8gMiwgKG1pZFBvaW50WzFdICsgY3VydmVbNV0pIC8gMl0sXG4gICAgY2VudGVyID0gZ2V0SW50ZXJzZWN0aW9uKFtcbiAgICAgIG0xWzBdLFxuICAgICAgbTFbMV0sXG4gICAgICBtMVswXSArIG0xWzFdLFxuICAgICAgbTFbMV0gLSBtMVswXSxcbiAgICAgIG0yWzBdLFxuICAgICAgbTJbMV0sXG4gICAgICBtMlswXSArIChtMlsxXSAtIG1pZFBvaW50WzFdKSxcbiAgICAgIG0yWzFdIC0gKG0yWzBdIC0gbWlkUG9pbnRbMF0pLFxuICAgIF0pLFxuICAgIHJhZGl1cyA9IGNlbnRlciAmJiBnZXREaXN0YW5jZShbMCwgMF0sIGNlbnRlciksXG4gICAgdG9sZXJhbmNlID0gTWF0aC5taW4oYXJjVGhyZXNob2xkICogZXJyb3IsIChhcmNUb2xlcmFuY2UgKiByYWRpdXMpIC8gMTAwKTtcblxuICBpZiAoXG4gICAgY2VudGVyICYmXG4gICAgcmFkaXVzIDwgMWUxNSAmJlxuICAgIFsxIC8gNCwgMyAvIDRdLmV2ZXJ5KGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgTWF0aC5hYnMoXG4gICAgICAgICAgZ2V0RGlzdGFuY2UoZ2V0Q3ViaWNCZXppZXJQb2ludChjdXJ2ZSwgcG9pbnQpLCBjZW50ZXIpIC0gcmFkaXVzXG4gICAgICAgICkgPD0gdG9sZXJhbmNlXG4gICAgICApO1xuICAgIH0pXG4gIClcbiAgICByZXR1cm4geyBjZW50ZXI6IGNlbnRlciwgcmFkaXVzOiByYWRpdXMgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBjdXJ2ZSBmaXRzIHRoZSBnaXZlbiBjaXJjbGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNpcmNsZVxuICogQHBhcmFtIHtBcnJheX0gY3VydmVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gaXNBcmMoY3VydmUsIGNpcmNsZSkge1xuICB2YXIgdG9sZXJhbmNlID0gTWF0aC5taW4oXG4gICAgYXJjVGhyZXNob2xkICogZXJyb3IsXG4gICAgKGFyY1RvbGVyYW5jZSAqIGNpcmNsZS5yYWRpdXMpIC8gMTAwXG4gICk7XG5cbiAgcmV0dXJuIFswLCAxIC8gNCwgMSAvIDIsIDMgLyA0LCAxXS5ldmVyeShmdW5jdGlvbiAocG9pbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgTWF0aC5hYnMoXG4gICAgICAgIGdldERpc3RhbmNlKGdldEN1YmljQmV6aWVyUG9pbnQoY3VydmUsIHBvaW50KSwgY2lyY2xlLmNlbnRlcikgLVxuICAgICAgICAgIGNpcmNsZS5yYWRpdXNcbiAgICAgICkgPD0gdG9sZXJhbmNlXG4gICAgKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgcHJldmlvdXMgY3VydmUgZml0cyB0aGUgZ2l2ZW4gY2lyY2xlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjaXJjbGVcbiAqIEBwYXJhbSB7QXJyYXl9IGN1cnZlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGlzQXJjUHJldihjdXJ2ZSwgY2lyY2xlKSB7XG4gIHJldHVybiBpc0FyYyhjdXJ2ZSwge1xuICAgIGNlbnRlcjogW2NpcmNsZS5jZW50ZXJbMF0gKyBjdXJ2ZVs0XSwgY2lyY2xlLmNlbnRlclsxXSArIGN1cnZlWzVdXSxcbiAgICByYWRpdXM6IGNpcmNsZS5yYWRpdXMsXG4gIH0pO1xufVxuXG4vKipcbiAqIEZpbmRzIGFuZ2xlIG9mIGEgY3VydmUgZml0dGluZyB0aGUgZ2l2ZW4gYXJjLlxuXG4gKiBAcGFyYW0ge0FycmF5fSBjdXJ2ZVxuICogQHBhcmFtIHtPYmplY3R9IHJlbENpcmNsZVxuICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICovXG5cbmZ1bmN0aW9uIGZpbmRBcmNBbmdsZShjdXJ2ZSwgcmVsQ2lyY2xlKSB7XG4gIHZhciB4MSA9IC1yZWxDaXJjbGUuY2VudGVyWzBdLFxuICAgIHkxID0gLXJlbENpcmNsZS5jZW50ZXJbMV0sXG4gICAgeDIgPSBjdXJ2ZVs0XSAtIHJlbENpcmNsZS5jZW50ZXJbMF0sXG4gICAgeTIgPSBjdXJ2ZVs1XSAtIHJlbENpcmNsZS5jZW50ZXJbMV07XG5cbiAgcmV0dXJuIE1hdGguYWNvcyhcbiAgICAoeDEgKiB4MiArIHkxICogeTIpIC8gTWF0aC5zcXJ0KCh4MSAqIHgxICsgeTEgKiB5MSkgKiAoeDIgKiB4MiArIHkyICogeTIpKVxuICApO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGdpdmVuIHBhdGggZGF0YSB0byBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc1xuICogQHBhcmFtIHtBcnJheX0gcGF0aERhdGFcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiBkYXRhMlBhdGgocGFyYW1zLCBwYXRoRGF0YSkge1xuICByZXR1cm4gcGF0aERhdGEucmVkdWNlKGZ1bmN0aW9uIChwYXRoU3RyaW5nLCBpdGVtKSB7XG4gICAgdmFyIHN0ckRhdGEgPSBcIlwiO1xuICAgIGlmIChpdGVtLmRhdGEpIHtcbiAgICAgIHN0ckRhdGEgPSBjbGVhbnVwT3V0RGF0YShyb3VuZERhdGEoaXRlbS5kYXRhLnNsaWNlKCkpLCBwYXJhbXMpO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aFN0cmluZyArIGl0ZW0uaW5zdHJ1Y3Rpb24gKyBzdHJEYXRhO1xuICB9LCBcIlwiKTtcbn1cbiIsICJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBNU0dfRVZFTlRTLCBTVEFHRVMsIFVJX1RFWFQsIElOSVRJQUxfVUlfU0laRSB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IEhlYWRlciB9IGZyb20gXCIuL0hlYWRlclwiO1xuaW1wb3J0IHsgUmVzcG9uc2l2ZVZpZXcgfSBmcm9tIFwiLi9SZXNwb25zaXZlVmlld1wiO1xuaW1wb3J0IHsgRnJhbWVTZWxlY3Rpb24gfSBmcm9tIFwiLi9GcmFtZVNlbGVjdGlvblwiO1xuaW1wb3J0IHsgUHJldmlldyB9IGZyb20gXCIuL1ByZXZpZXdcIjtcbmltcG9ydCB7IFNhdmUgfSBmcm9tIFwiLi9TYXZlXCI7XG5pbXBvcnQgeyBkZWNvZGVTdmdUb1N0cmluZyB9IGZyb20gXCIuLi91dGlscy9zdmdcIjtcbmltcG9ydCB7IGNvbXByZXNzSW1hZ2UgfSBmcm9tIFwiLi4vdXRpbHMvY29tcHJlc3NJbWFnZVwiO1xuaW1wb3J0IHsgc2VuZE1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbHMvbWVzc2FnZXNcIjtcbmltcG9ydCB0eXBlIHtcbiAgQXBwU3RhdGUsXG4gIE1zZ0ZyYW1lc1R5cGUsXG4gIEZyYW1lQ29sbGVjdGlvbixcbiAgTXNnQ29tcHJlc3NJbWFnZVR5cGUsXG4gIE1zZ1JlbmRlclR5cGUsXG4gIE1zZ0V2ZW50VHlwZSxcbiAgSGVhZGxpbmVzSW50ZXJmYWNlLFxufSBmcm9tIFwidHlwZXNcIjtcbmltcG9ydCB7IGNydW5jaFN2ZyB9IGZyb20gXCJ1dGlscy9jcnVuY2hTdmdcIjtcblxuZXhwb3J0IGNsYXNzIEFwcCBleHRlbmRzIENvbXBvbmVudCB7XG4gIHN0YXRlOiBBcHBTdGF0ZSA9IHtcbiAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgIHJlYWR5OiBmYWxzZSxcbiAgICBmcmFtZXM6IHt9LFxuICAgIHN0YWdlOiBTVEFHRVMuQ0hPT1NFX0ZSQU1FUyxcbiAgICBwcmV2aWV3SW5kZXg6IDAsXG4gICAgaXNSZXNpemluZzogZmFsc2UsXG4gICAgbW91c2VTdGFydFg6IDAsXG4gICAgbW91c2VTdGFydFk6IDAsXG4gICAgd2luZG93V2lkdGg6IElOSVRJQUxfVUlfU0laRS53aWR0aCxcbiAgICB3aW5kb3dIZWlnaHQ6IElOSVRJQUxfVUlfU0laRS5oZWlnaHQsXG4gICAgcmVzcG9uc2l2ZTogdHJ1ZSxcbiAgICBoZWFkbGluZTogdW5kZWZpbmVkLFxuICAgIHN1YmhlYWQ6IHVuZGVmaW5lZCxcbiAgICBzb3VyY2U6IHVuZGVmaW5lZCxcbiAgICBsb2FkaW5nOiBmYWxzZSxcbiAgfTtcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAvLyBMaXN0ZW4gZm9yIGV2ZW50cyBmcm9tIHRoZSBiYWNrZW5kXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChlKSA9PlxuICAgICAgdGhpcy5oYW5kbGVFdmVudHMoZS5kYXRhLnBsdWdpbk1lc3NhZ2UpXG4gICAgKTtcblxuICAgIHNlbmRNZXNzYWdlKE1TR19FVkVOVFMuRE9NX1JFQURZKTtcbiAgfVxuXG4gIHVwZGF0ZUluaXRpYWxTdGF0ZSA9IChkYXRhOiBNc2dGcmFtZXNUeXBlKSA9PiB7XG4gICAgbGV0IHsgZnJhbWVzLCB3aW5kb3dIZWlnaHQsIHdpbmRvd1dpZHRoLCBoZWFkbGluZSwgc3ViaGVhZCwgc291cmNlIH0gPSBkYXRhO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZyYW1lcykgfHwgZnJhbWVzPy5sZW5ndGggPCAxKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IFwiTm8gZnJhbWVzIVwiIH0pO1xuICAgICAgY29uc29sZS5lcnJvcihcIlBvc3QgZXJyb3I6IG5vIGZyYW1lc1wiLCBkYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBmcmFtZURhdGE6IEZyYW1lQ29sbGVjdGlvbiA9IHt9O1xuICAgIGZvciAoY29uc3QgZnJhbWUgb2YgZnJhbWVzKSB7XG4gICAgICBjb25zdCB7IGlkIH0gPSBmcmFtZTtcbiAgICAgIGNvbnN0IHJuZElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzMikuc3Vic3RyKDIpO1xuICAgICAgZnJhbWVEYXRhW2lkXSA9IHsgLi4uZnJhbWUsIHVpZDogYGYyaC0ke3JuZElkfWAsIHN2Z09wdGltaXNlZDogZmFsc2UgfTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGZyYW1lczogZnJhbWVEYXRhLFxuICAgICAgcmVhZHk6IHRydWUsXG4gICAgICB3aW5kb3dXaWR0aCxcbiAgICAgIHdpbmRvd0hlaWdodCxcbiAgICAgIGhlYWRsaW5lLFxuICAgICAgc3ViaGVhZCxcbiAgICAgIHNvdXJjZSxcbiAgICB9KTtcbiAgfTtcblxuICBjb21wcmVzc0ltYWdlID0gYXN5bmMgKG1zZzogTXNnQ29tcHJlc3NJbWFnZVR5cGUpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBpbWFnZSwgd2lkdGgsIGhlaWdodCwgdWlkIH0gPSBtc2c7XG4gICAgICBjb25zdCBpbWdEYXRhID0gYXdhaXQgY29tcHJlc3NJbWFnZShpbWFnZSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICBzZW5kTWVzc2FnZShNU0dfRVZFTlRTLkNPTVBSRVNTRURfSU1BR0UsIHsgaW1hZ2U6IGltZ0RhdGEsIHVpZCB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvcjogXCJGYWlsZWQgdG8gY29tcHJlc3MgaW1hZ2VcIiB9KTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlUmVuZGVyTWVzc2FnZSA9IChkYXRhOiBNc2dSZW5kZXJUeXBlKSA9PiB7XG4gICAgY29uc3QgeyBmcmFtZUlkLCBzdmcgfSA9IGRhdGE7XG4gICAgaWYgKCFmcmFtZUlkIHx8ICFzdmcpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvcjogXCJGYWlsZWQgdG8gcmVuZGVyXCIsIGxvYWRpbmc6IGZhbHNlIH0pO1xuICAgICAgY29uc29sZS5lcnJvcihcIlBvc3QgbWVzc2FnZTogZmFpbGVkIHRvIHJlbmRlclwiLCBkYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGZyYW1lcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBzdmdTdHIgPSBkZWNvZGVTdmdUb1N0cmluZyhzdmcpO1xuICAgIGNvbnN0IGNsb25lRnJhbWVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShmcmFtZXMpKSBhcyBGcmFtZUNvbGxlY3Rpb247XG4gICAgY2xvbmVGcmFtZXNbZnJhbWVJZF0uc3ZnID0gc3ZnU3RyO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBmcmFtZXM6IGNsb25lRnJhbWVzLCBsb2FkaW5nOiBmYWxzZSB9KTtcbiAgfTtcblxuICBoYW5kbGVFdmVudHMgPSAoZGF0YTogTXNnRXZlbnRUeXBlKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJVSSBwb3N0XCIsIGRhdGEpO1xuICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICBjYXNlIE1TR19FVkVOVFMuRk9VTkRfRlJBTUVTOlxuICAgICAgICB0aGlzLnVwZGF0ZUluaXRpYWxTdGF0ZShkYXRhKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTVNHX0VWRU5UUy5OT19GUkFNRVM6XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvcjogVUlfVEVYVC5FUlJPUl9NSVNTSU5HX0ZSQU1FUyB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTVNHX0VWRU5UUy5FUlJPUjpcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVJIHBvc3QgbWVzc2FnZSBlcnJvclwiLCBkYXRhKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZXJyb3I6IGAke1VJX1RFWFQuRVJST1JfVU5FWFBFQ1RFRH06ICR7ZGF0YS5lcnJvclRleHR9YCxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1TR19FVkVOVFMuUkVOREVSOlxuICAgICAgICB0aGlzLmhhbmRsZVJlbmRlck1lc3NhZ2UoZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1TR19FVkVOVFMuQ09NUFJFU1NfSU1BR0U6XG4gICAgICAgIHRoaXMuY29tcHJlc3NJbWFnZShkYXRhKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvcjogXCJVbmtub3duIHBvc3QgbWVzc2FnZVwiIH0pO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVUkgcG9zdCBtZXNzYWdlIGVycm9yXCIsIGRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgLy8gVE9ETzogTWVyZ2UgZ29OZXh0IGFuZCBnb0JhY2tcbiAgZ29OZXh0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhZ2UsIHByZXZpZXdJbmRleCwgZnJhbWVzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBPYmplY3QudmFsdWVzKGZyYW1lcykuZmlsdGVyKChmKSA9PiBmLnNlbGVjdGVkKTtcblxuICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHN0YWdlKSB7XG4gICAgICBjYXNlIFNUQUdFUy5DSE9PU0VfRlJBTUVTOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuUFJFVklFV19PVVRQVVQgfSk7XG5cbiAgICAgIGNhc2UgU1RBR0VTLlBSRVZJRVdfT1VUUFVUOlxuICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBwcmV2aWV3SW5kZXggKyAxO1xuICAgICAgICBpZiAobGVuZ3RoID09PSBuZXh0SW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgcHJldmlld0luZGV4OiBuZXh0SW5kZXggfSk7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuU0FWRV9PVVRQVVQgfSk7XG5cbiAgICAgIGNhc2UgU1RBR0VTLlNBVkVfT1VUUFVUOlxuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIGdvQmFjayA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN0YWdlLCBwcmV2aWV3SW5kZXggfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBzd2l0Y2ggKHN0YWdlKSB7XG4gICAgICBjYXNlIFNUQUdFUy5DSE9PU0VfRlJBTUVTOlxuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgU1RBR0VTLlBSRVZJRVdfT1VUUFVUOlxuICAgICAgICBpZiAocHJldmlld0luZGV4ID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuQ0hPT1NFX0ZSQU1FUyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcHJldmlld0luZGV4OiBwcmV2aWV3SW5kZXggLSAxIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuUFJFVklFV19PVVRQVVQgfSk7XG5cbiAgICAgIGNhc2UgU1RBR0VTLlNBVkVfT1VUUFVUOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7IHN0YWdlOiBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXIH0pO1xuICAgIH1cbiAgfTtcblxuICBnZXRPdXRwdXRSZW5kZXIgPSAoZnJhbWVJZDogU3RyaW5nKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IHRydWUgfSk7XG4gICAgc2VuZE1lc3NhZ2UoTVNHX0VWRU5UUy5SRU5ERVIsIHsgZnJhbWVJZCB9KTtcbiAgfTtcblxuICB0b2dnbGVQcm9wID0gKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgcHJvcDogXCJzZWxlY3RlZFwiIHwgXCJyZXNwb25zaXZlXCIgfCBcInN2Z09wdGltaXNlZFwiXG4gICkgPT4ge1xuICAgIGNvbnN0IHsgZnJhbWVzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGNsb25lRnJhbWVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShmcmFtZXMpKSBhcyBGcmFtZUNvbGxlY3Rpb247XG4gICAgY2xvbmVGcmFtZXNbaWRdW3Byb3BdID0gIWNsb25lRnJhbWVzW2lkXVtwcm9wXTtcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBmcmFtZXM6IGNsb25lRnJhbWVzIH0pO1xuICB9O1xuXG4gIHRvZ2dsZUZyYW1lU2VsZWN0ID0gKGlkOiBzdHJpbmcpID0+IHRoaXMudG9nZ2xlUHJvcChpZCwgXCJzZWxlY3RlZFwiKTtcblxuICB0b2dnbGVSZXNvbnNpdmUgPSAoaWQ6IHN0cmluZykgPT4gdGhpcy50b2dnbGVQcm9wKGlkLCBcInJlc3BvbnNpdmVcIik7XG5cbiAgdG9nZ2xlT3B0aW1pc2VkID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7IGZyYW1lcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7IHN2Z0NvbXByZXNzZWQsIHN2Zywgc3ZnT3B0aW1pc2VkIH0gPSBmcmFtZXNbaWRdO1xuXG4gICAgaWYgKHN2ZyAmJiAhc3ZnT3B0aW1pc2VkICYmICFzdmdDb21wcmVzc2VkKSB7XG4gICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBlbC5pbm5lckhUTUwgPSBzdmc7XG4gICAgICBjb25zdCBzdmdFbCA9IGVsLnF1ZXJ5U2VsZWN0b3IoXCJzdmdcIik7XG5cbiAgICAgIGlmICghc3ZnRWwpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIk1pc3NpbmcgU1ZHIGluIFNWRyBzdHJpbmdcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY3J1bmNoU3ZnKHN2Z0VsKTtcbiAgICAgIGNvbnN0IGNsb25lRnJhbWVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShmcmFtZXMpKSBhcyBGcmFtZUNvbGxlY3Rpb247XG4gICAgICBjbG9uZUZyYW1lc1tpZF0uc3ZnQ29tcHJlc3NlZCA9IHN2Z0VsLm91dGVySFRNTDtcbiAgICAgIGNsb25lRnJhbWVzW2lkXS5zdmdPcHRpbWlzZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZyYW1lczogY2xvbmVGcmFtZXMgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudG9nZ2xlUHJvcChpZCwgXCJzdmdPcHRpbWlzZWRcIik7XG4gICAgfVxuICB9O1xuXG4gIHRvZ2dsZUFsbFByb3AgPSAocHJvcE5hbWU6IFwic2VsZWN0ZWRcIiB8IFwicmVzcG9uc2l2ZVwiKSA9PiB7XG4gICAgY29uc3QgeyBmcmFtZXMgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3Qgc2hvdWxkRGVzZWxlY3RBbGwgPSBPYmplY3QudmFsdWVzKGZyYW1lcykuc29tZShcbiAgICAgIChmcmFtZSkgPT4gZnJhbWVbcHJvcE5hbWVdXG4gICAgKTtcblxuICAgIGNvbnN0IG5ld0ZyYW1lczogRnJhbWVDb2xsZWN0aW9uID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShmcmFtZXMpKTtcbiAgICBPYmplY3QudmFsdWVzKG5ld0ZyYW1lcykuZm9yRWFjaChcbiAgICAgIChmcmFtZSkgPT4gKGZyYW1lW3Byb3BOYW1lXSA9ICFzaG91bGREZXNlbGVjdEFsbClcbiAgICApO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGZyYW1lczogbmV3RnJhbWVzIH0pO1xuICB9O1xuXG4gIHRvZ2dsZVNlbGVjdEFsbCA9ICgpID0+IHRoaXMudG9nZ2xlQWxsUHJvcChcInNlbGVjdGVkXCIpO1xuXG4gIHRvZ2dsZVJlc3BvbnNpdmVBbGwgPSAoKSA9PiB0aGlzLnRvZ2dsZUFsbFByb3AoXCJyZXNwb25zaXZlXCIpO1xuXG4gIGhhbmRsZUZvcm1VcGRhdGUgPSAocHJvcHM6IEhlYWRsaW5lc0ludGVyZmFjZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyAuLi5wcm9wcyB9KTtcbiAgICBzZW5kTWVzc2FnZShNU0dfRVZFTlRTLlVQREFURV9IRUFETElORVMsIHByb3BzKTtcbiAgfTtcblxuICBzd2l0Y2hWaWV3ID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGZyYW1lcyxcbiAgICAgIHN0YWdlLFxuICAgICAgcHJldmlld0luZGV4LFxuICAgICAgd2luZG93SGVpZ2h0LFxuICAgICAgd2luZG93V2lkdGgsXG4gICAgICBoZWFkbGluZSxcbiAgICAgIHN1YmhlYWQsXG4gICAgICBzb3VyY2UsXG4gICAgICBsb2FkaW5nLFxuICAgIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgZnJhbWVzQXJyID0gT2JqZWN0LnZhbHVlcyhmcmFtZXMpLnNvcnQoKGEsIGIpID0+XG4gICAgICBhLndpZHRoIDw9IGIud2lkdGggPyAtMSA6IDFcbiAgICApO1xuICAgIGxldCBzZWxlY3RlZEZyYW1lcyA9IGZyYW1lc0Fyci5maWx0ZXIoKGZyYW1lKSA9PiBmcmFtZS5zZWxlY3RlZCk7XG5cbiAgICAvLyBJZiBwcmV2aWV3aW5nIGZyYW1lIHdpdGhvdXQgYSByZW5kZXIgdGhlbiByZXF1ZXN0IGlmIGZyb20gdGhlIGJhY2tlbmRzXG4gICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgcmVuZGVyXG4gICAgaWYgKFxuICAgICAgc3RhZ2UgPT09IFNUQUdFUy5QUkVWSUVXX09VVFBVVCAmJlxuICAgICAgIXNlbGVjdGVkRnJhbWVzW3ByZXZpZXdJbmRleF0uc3ZnICYmXG4gICAgICBsb2FkaW5nID09PSBmYWxzZVxuICAgICkge1xuICAgICAgdGhpcy5nZXRPdXRwdXRSZW5kZXIoc2VsZWN0ZWRGcmFtZXNbcHJldmlld0luZGV4XS5pZCk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChzdGFnZSkge1xuICAgICAgY2FzZSBTVEFHRVMuQ0hPT1NFX0ZSQU1FUzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8RnJhbWVTZWxlY3Rpb25cbiAgICAgICAgICAgIGZyYW1lcz17ZnJhbWVzQXJyfVxuICAgICAgICAgICAgaGFuZGxlQ2xpY2s9e3RoaXMudG9nZ2xlRnJhbWVTZWxlY3R9XG4gICAgICAgICAgICB0b2dnbGVSZXNvbnNpdmU9e3RoaXMudG9nZ2xlUmVzb25zaXZlfVxuICAgICAgICAgICAgdG9nZ2xlU2VsZWN0QWxsPXt0aGlzLnRvZ2dsZVNlbGVjdEFsbH1cbiAgICAgICAgICAgIHRvZ2dsZVJlc3BvbnNpdmVBbGw9e3RoaXMudG9nZ2xlUmVzcG9uc2l2ZUFsbH1cbiAgICAgICAgICAgIGhlYWRsaW5lPXtoZWFkbGluZX1cbiAgICAgICAgICAgIHN1YmhlYWQ9e3N1YmhlYWR9XG4gICAgICAgICAgICBzb3VyY2U9e3NvdXJjZX1cbiAgICAgICAgICAgIGhhbmRsZUZvcm1VcGRhdGU9e3RoaXMuaGFuZGxlRm9ybVVwZGF0ZX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuXG4gICAgICBjYXNlIFNUQUdFUy5QUkVWSUVXX09VVFBVVDpcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRGcmFtZSA9IHNlbGVjdGVkRnJhbWVzW3ByZXZpZXdJbmRleF07XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFByZXZpZXdcbiAgICAgICAgICAgIGZyYW1lPXtzZWxlY3RlZEZyYW1lfVxuICAgICAgICAgICAgd2luZG93SGVpZ2h0PXt3aW5kb3dIZWlnaHR9XG4gICAgICAgICAgICB3aW5kb3dXaWR0aD17d2luZG93V2lkdGh9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcblxuICAgICAgY2FzZSBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSZXNwb25zaXZlVmlld1xuICAgICAgICAgICAgd2luZG93SGVpZ2h0PXt3aW5kb3dIZWlnaHR9XG4gICAgICAgICAgICB3aW5kb3dXaWR0aD17d2luZG93V2lkdGh9XG4gICAgICAgICAgICBmcmFtZXM9e3NlbGVjdGVkRnJhbWVzfVxuICAgICAgICAgICAgaGVhZGxpbmU9e2hlYWRsaW5lfVxuICAgICAgICAgICAgc3ViaGVhZD17c3ViaGVhZH1cbiAgICAgICAgICAgIHNvdXJjZT17c291cmNlfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG5cbiAgICAgIGNhc2UgU1RBR0VTLlNBVkVfT1VUUFVUOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxTYXZlXG4gICAgICAgICAgICBmcmFtZXM9e3NlbGVjdGVkRnJhbWVzfVxuICAgICAgICAgICAgaGVhZGxpbmU9e2hlYWRsaW5lfVxuICAgICAgICAgICAgc3ViaGVhZD17c3ViaGVhZH1cbiAgICAgICAgICAgIHNvdXJjZT17c291cmNlfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiA8ZGl2PkxvYWRpbmcuLi48L2Rpdj47XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGVycm9yLCBmcmFtZXMsIHN0YWdlLCBwcmV2aWV3SW5kZXgsIGxvYWRpbmcgfSA9IHRoaXMuc3RhdGU7XG4gICAgLy8gVE9ETzogRG9uJ3QgcmVseSBvbiBvYmplY3QgcHJvcCBvcmRlclxuICAgIGNvbnN0IHNlbGVjdGVkRnJhbWUgPSBPYmplY3QudmFsdWVzKGZyYW1lcylbcHJldmlld0luZGV4XTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzPVwiZjJoXCI+XG4gICAgICAgIDxIZWFkZXJcbiAgICAgICAgICBzdGFnZT17c3RhZ2V9XG4gICAgICAgICAgaGFuZGxlQmFja0NsaWNrPXt0aGlzLmdvQmFja31cbiAgICAgICAgICBoYW5kbGVOZXh0Q2xpY2s9e3RoaXMuZ29OZXh0fVxuICAgICAgICAgIGRpc2FibGVOZXh0PXtsb2FkaW5nIHx8IHN0YWdlID09PSBTVEFHRVMuU0FWRV9PVVRQVVR9XG4gICAgICAgICAgZnJhbWU9e3NlbGVjdGVkRnJhbWV9XG4gICAgICAgICAgaGFuZGxlT3B0aW1zZUNsaWNrPXt0aGlzLnRvZ2dsZU9wdGltaXNlZH1cbiAgICAgICAgLz5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZjJoX19ib2R5XCI+XG4gICAgICAgICAge2Vycm9yID8gPGRpdiBjbGFzcz1cImVycm9yXCI+e2Vycm9yfTwvZGl2PiA6IHRoaXMuc3dpdGNoVmlldygpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBoLCByZW5kZXIgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBpbmplY3RDc3MgfSBmcm9tIFwiLi91dGlscy9jc3NcIjtcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2NvbXBvbmVudHMvQXBwXCI7XG5cbi8vIEltcG9ydCBDU1MgZmlsZXMgYXMgcGxhaW4gdGV4dCB2aWEgZXNidWlsZCBsb2FkZXIgb3B0aW9uXG4vLyBAdHMtZXhwZWN0LWVycm9yXG5pbXBvcnQgdWlDc3MgZnJvbSBcIi4vdWkuY3NzXCI7XG4vLyBAdHMtZXhwZWN0LWVycm9yXG5pbXBvcnQgZm9udHNDc3MgZnJvbSBcIi4vZm9udHMuY3NzXCI7XG4vLyBAdHMtZXhwZWN0LWVycm9yXG5pbXBvcnQgZW1iZWRDc3MgZnJvbSBcIi4vZW1iZWQuY3NzXCI7XG5cbmluamVjdENzcyh1aUNzcyk7XG5pbmplY3RDc3MoZW1iZWRDc3MpO1xuaW5qZWN0Q3NzKGZvbnRzQ3NzKTtcblxuLy8gUmVuZGVyIGFwcFxucmVuZGVyKDxBcHAgLz4sIGRvY3VtZW50LmJvZHkpO1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7OztBQ0FBOzs7OztBQ0FBO0lBQUMsVUFBUyxJQUFFO0FBQUcsVUFBRyxjQUFZLE9BQU8sVUFBUSxPQUFPO0FBQUksZUFBTyxJQUFHO2VBQVcsZUFBYSxPQUFPO0FBQVE7O0FBQVMsY0FBSSxHQUFFLFlBQVUsQ0FBQyxTQUFRLElBQUk7O09BQVcsU0FBSztBQUFXO0FBQWEsa0JBQVcsSUFBRTtBQUFHLGVBQU0sZUFBYSxPQUFPLEtBQUUsS0FBRSxDQUFD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QUFFLElBQUUsS0FBRyxNQUFHLE1BQUcsRUFBRTs7O0FBQU8sYUFBVyxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRTtBQUFHLFFBQUksSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLElBQUUsS0FBRSxNQUFHLEdBQUUsT0FBSyxJQUFFLEtBQUUsR0FBRTtBQUFPLFNBQUksTUFBRyxLQUFJLE1BQUUsUUFBTSxLQUFFLEdBQUUsS0FBRyxLQUFFLEVBQUUsSUFBRSxLQUFHLE9BQU0sR0FBRSxNQUFJLElBQUcsS0FBRSxHQUFFLEtBQUUsR0FBRSxRQUFPO0FBQUksVUFBRyxRQUFPLE1BQUUsR0FBRSxJQUFJLE1BQUcsUUFBTyxNQUFFLEdBQUUsUUFBSyxhQUFXLE9BQU8sS0FBRSxPQUFLLFlBQVUsT0FBTyxNQUFHLFlBQVUsT0FBTyxLQUFFLEVBQUUsTUFBSyxJQUFFLE1BQUssTUFBSyxNQUFHLE1BQU0sUUFBUSxNQUFHLEVBQUUsR0FBRSxDQUFDLFVBQVMsS0FBRyxNQUFLLE1BQUssUUFBTSxRQUFNLEdBQUUsT0FBSyxRQUFNLEdBQUUsTUFBSSxFQUFFLEdBQUUsTUFBSyxHQUFFLE9BQU0sR0FBRSxLQUFJLE1BQUssR0FBRSxPQUFLO0FBQUksWUFBRyxHQUFFLEtBQUcsSUFBRSxHQUFFLE1BQUksR0FBRSxNQUFJLEdBQUUsU0FBUSxNQUFFLEdBQUUsUUFBSyxNQUFHLEdBQUUsT0FBSyxHQUFFLE9BQUssR0FBRSxTQUFPLEdBQUU7QUFBSyxhQUFFLE1BQUc7O0FBQVksZUFBSSxLQUFFLEdBQUUsS0FBRSxJQUFFO0FBQUssZ0JBQUksTUFBRSxHQUFFLFFBQUssR0FBRSxPQUFLLEdBQUUsT0FBSyxHQUFFLFNBQU8sR0FBRTtBQUFNLGlCQUFFLE1BQUc7QUFBTzs7QUFBTSxpQkFBRTs7QUFBSyxZQUFHLEtBQUUsRUFBRSxJQUFFLElBQUUsS0FBRSxNQUFHLEdBQUUsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLEtBQUksTUFBRSxHQUFFLFFBQU0sR0FB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</script>
